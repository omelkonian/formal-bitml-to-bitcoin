<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Coherence.Helpers</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/formal-bitml-to-bitcoin/tree/master/Coherence/Helpers.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="Prelude.Init.html" class="Module">Prelude.Init</a><a id="25" class="Symbol">;</a> <a id="27" class="Keyword">open</a> <a id="32" href="Prelude.Init.html#504" class="Module">SetAsType</a>
<a id="42" class="Keyword">open</a> <a id="47" href="Prelude.Init.html#7254" class="Module">L.Mem</a>
<a id="53" class="Keyword">open</a> <a id="58" href="Prelude.Init.html#6429" class="Module">L.All</a> <a id="64" class="Keyword">using</a> <a id="70" class="Symbol">(</a><a id="71" href="Data.List.Relation.Unary.All.Properties.html#3427" class="Function">¬Any⇒All¬</a><a id="80" class="Symbol">)</a>
<a id="82" class="Keyword">open</a> <a id="87" href="Prelude.Init.html#6563" class="Module">L.Any</a> <a id="93" class="Keyword">using</a> <a id="99" class="Symbol">(</a><a id="100" href="Data.List.Relation.Unary.Any.Properties.html#4337" class="Function">lookup-index</a><a id="112" class="Symbol">)</a>
<a id="114" class="Keyword">open</a> <a id="119" class="Keyword">import</a> <a id="126" href="Prelude.Lists.Mappings.html" class="Module">Prelude.Lists.Mappings</a>
<a id="149" class="Keyword">open</a> <a id="154" class="Keyword">import</a> <a id="161" href="Prelude.Lists.Indexed.html" class="Module">Prelude.Lists.Indexed</a>
<a id="183" class="Keyword">open</a> <a id="188" class="Keyword">import</a> <a id="195" href="Prelude.Lists.Dec.html" class="Module">Prelude.Lists.Dec</a>
<a id="213" class="Keyword">open</a> <a id="218" class="Keyword">import</a> <a id="225" href="Prelude.Lists.Collections.html" class="Module">Prelude.Lists.Collections</a>
<a id="251" class="Keyword">open</a> <a id="256" class="Keyword">import</a> <a id="263" href="Prelude.Ord.html" class="Module">Prelude.Ord</a>
<a id="275" class="Keyword">open</a> <a id="280" class="Keyword">import</a> <a id="287" href="Prelude.InferenceRules.html" class="Module">Prelude.InferenceRules</a>
<a id="310" class="Keyword">open</a> <a id="315" class="Keyword">import</a> <a id="322" href="Prelude.Membership.html" class="Module">Prelude.Membership</a> <a id="341" class="Keyword">using</a> <a id="347" class="Symbol">(</a><a id="348" href="Prelude.Membership.html#455" class="Field Operator">_∈?_</a><a id="352" class="Symbol">;</a> <a id="354" href="Prelude.Membership.html#613" class="Function Operator">_∉?_</a><a id="358" class="Symbol">)</a>
<a id="360" class="Keyword">open</a> <a id="365" class="Keyword">import</a> <a id="372" href="Prelude.Decidable.html" class="Module">Prelude.Decidable</a>
<a id="390" class="Keyword">open</a> <a id="395" class="Keyword">import</a> <a id="402" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="416" class="Keyword">open</a> <a id="421" class="Keyword">import</a> <a id="428" href="Prelude.Nary.html" class="Module">Prelude.Nary</a>
<a id="441" class="Keyword">open</a> <a id="446" class="Keyword">import</a> <a id="453" href="Prelude.Validity.html" class="Module">Prelude.Validity</a>
<a id="470" class="Keyword">open</a> <a id="475" class="Keyword">import</a> <a id="482" href="Prelude.Traces.html" class="Module">Prelude.Traces</a>

<a id="498" class="Keyword">open</a> <a id="503" class="Keyword">import</a> <a id="510" href="SecureCompilation.ModuleParameters.html" class="Module">SecureCompilation.ModuleParameters</a> <a id="545" class="Keyword">using</a> <a id="551" class="Symbol">(</a><a id="552" href="SecureCompilation.ModuleParameters.html#209" class="Record">⋯</a><a id="553" class="Symbol">)</a>
<a id="555" class="Keyword">module</a> <a id="562" href="Coherence.Helpers.html" class="Module">Coherence.Helpers</a> <a id="580" class="Symbol">(</a><a id="581" href="Coherence.Helpers.html#581" class="Bound">⋯</a> <a id="583" class="Symbol">:</a> <a id="585" href="SecureCompilation.ModuleParameters.html#209" class="Record">⋯</a><a id="586" class="Symbol">)</a> <a id="588" class="Symbol">(</a><a id="589" class="Keyword">let</a> <a id="593" class="Keyword">open</a> <a id="598" href="SecureCompilation.ModuleParameters.html#209" class="Module">⋯</a> <a id="600" href="Coherence.Helpers.html#581" class="Bound">⋯</a><a id="601" class="Symbol">)</a> <a id="603" class="Keyword">where</a>
<a id="609" class="Keyword">open</a> <a id="614" class="Keyword">import</a> <a id="621" href="SymbolicModel.html" class="Module">SymbolicModel</a> <a id="635" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a>
  <a id="640" class="Keyword">hiding</a> <a id="647" class="Symbol">(</a><a id="648" href="BitML.Contracts.Types.html#1222" class="Generalizable">d</a><a id="649" class="Symbol">)</a>
<a id="651" class="Keyword">open</a> <a id="656" class="Keyword">import</a> <a id="663" href="ComputationalModel.html" class="Module">ComputationalModel</a> <a id="682" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a> <a id="685" href="SecureCompilation.ModuleParameters.html#450" class="Field">finPart</a> <a id="693" href="SecureCompilation.ModuleParameters.html#487" class="Field">keypairs</a>
  <a id="704" class="Keyword">hiding</a> <a id="711" class="Symbol">(</a><a id="712" href="ComputationalModel.Run.html#1378" class="Generalizable">R</a><a id="713" class="Symbol">;</a> <a id="715" href="Bitcoin.BasicTypes.html#429" class="Generalizable">t</a><a id="716" class="Symbol">;</a> <a id="718" href="Bitcoin.BasicTypes.html#293" class="Function">Time</a><a id="722" class="Symbol">;</a> <a id="724" href="Bitcoin.Script.Base.html#821" class="InductiveConstructor">`</a><a id="725" class="Symbol">)</a>
<a id="727" class="Keyword">open</a> <a id="732" class="Keyword">import</a> <a id="739" href="Compiler.html" class="Module">Compiler</a> <a id="748" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a> <a id="751" href="SecureCompilation.ModuleParameters.html#357" class="Field">η</a>

<a id="754" class="Comment">-- Checking past oracle interactions.</a>
<a id="CheckInteractions"></a><a id="792" href="Coherence.Helpers.html#792" class="Function">CheckInteractions</a> <a id="810" class="Symbol">:</a> <a id="812" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="817" href="ComputationalModel.Run.html#5155" class="Function">OracleInteraction</a> <a id="835" class="Symbol">→</a> <a id="837" href="Prelude.Init.html#13767" class="Function">Pred₀</a> <a id="843" class="Symbol">(</a><a id="844" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="851" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="853" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="859" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="861" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="863" href="Bitcoin.BasicTypes.html#351" class="Function">HashId</a><a id="869" class="Symbol">)</a>
<a id="871" href="Coherence.Helpers.html#792" class="Function">CheckInteractions</a> <a id="889" href="Coherence.Helpers.html#889" class="Bound">os</a> <a id="892" class="Symbol">=</a> <a id="894" class="Symbol">λ</a> <a id="896" class="Keyword">where</a>
  <a id="904" class="Symbol">(_</a> <a id="907" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="909" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="914" href="Coherence.Helpers.html#914" class="Bound">Nᵢ</a> <a id="917" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="919" href="Coherence.Helpers.html#919" class="Bound">hᵢ</a><a id="921" class="Symbol">)</a> <a id="923" class="Symbol">→</a>
    <a id="929" href="Data.Product.html#1378" class="Function">∃</a> <a id="931" class="Symbol">λ</a> <a id="933" href="Coherence.Helpers.html#933" class="Bound">B</a> <a id="935" class="Symbol">→</a> <a id="937" href="Data.Product.html#1378" class="Function">∃</a> <a id="939" class="Symbol">λ</a> <a id="941" href="Coherence.Helpers.html#941" class="Bound">mᵢ</a> <a id="944" class="Symbol">→</a> <a id="946" class="Symbol">((</a><a id="948" href="Coherence.Helpers.html#933" class="Bound">B</a> <a id="950" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="952" href="Coherence.Helpers.html#941" class="Bound">mᵢ</a> <a id="955" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="957" href="Coherence.Helpers.html#919" class="Bound">hᵢ</a><a id="959" class="Symbol">)</a> <a id="961" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="963" href="Coherence.Helpers.html#889" class="Bound">os</a><a id="965" class="Symbol">)</a> <a id="967" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="969" class="Symbol">(</a><a id="970" href="ComputationalModel.Serialization.html#245" class="Function Operator">∣</a> <a id="972" href="Coherence.Helpers.html#941" class="Bound">mᵢ</a> <a id="975" href="ComputationalModel.Serialization.html#245" class="Function Operator">∣ᵐ</a> <a id="978" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="980" href="SecureCompilation.ModuleParameters.html#357" class="Field">η</a> <a id="982" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="984" href="Coherence.Helpers.html#914" class="Bound">Nᵢ</a><a id="986" class="Symbol">)</a>
  <a id="990" class="Symbol">(_</a> <a id="993" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="995" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a> <a id="1003" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1005" href="Coherence.Helpers.html#1005" class="Bound">hᵢ</a><a id="1007" class="Symbol">)</a> <a id="1009" class="Symbol">→</a>
    <a id="1015" href="Coherence.Helpers.html#1005" class="Bound">hᵢ</a> <a id="1018" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="1020" href="Data.List.Base.html#1553" class="Function">map</a> <a id="1024" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="1032" class="Symbol">(</a><a id="1033" href="Data.List.Base.html#8101" class="Function">filter</a> <a id="1040" class="Symbol">((</a><a id="1042" href="SecureCompilation.ModuleParameters.html#357" class="Field">η</a> <a id="1044" href="Prelude.Ord.Dec.html#430" class="Function Operator">≤?_</a><a id="1047" class="Symbol">)</a> <a id="1049" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1051" href="ComputationalModel.Serialization.html#245" class="Function Operator">∣_∣ᵐ</a> <a id="1056" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1058" href="Prelude.Nary.html#2292" class="Function">select₂</a><a id="1065" class="Symbol">)</a> <a id="1067" href="Coherence.Helpers.html#889" class="Bound">os</a><a id="1069" class="Symbol">)</a>

<a id="CheckOracleInteractions"></a><a id="1072" href="Coherence.Helpers.html#1072" class="Function">CheckOracleInteractions</a> <a id="1096" class="Symbol">:</a> <a id="1098" href="ComputationalModel.Run.html#4253" class="Datatype">CRun</a> <a id="1103" class="Symbol">→</a> <a id="1105" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1110" class="Symbol">(</a><a id="1111" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="1118" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="1120" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="1126" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="1128" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="1130" href="Bitcoin.BasicTypes.html#351" class="Function">HashId</a><a id="1136" class="Symbol">)</a> <a id="1138" class="Symbol">→</a> <a id="1140" href="Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="1144" href="Coherence.Helpers.html#1072" class="Function">CheckOracleInteractions</a> <a id="1168" href="Coherence.Helpers.html#1168" class="Bound">Rᶜ</a> <a id="1171" class="Symbol">=</a> <a id="1173" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="1177" class="Symbol">(</a><a id="1178" href="Coherence.Helpers.html#792" class="Function">CheckInteractions</a> <a id="1196" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="1198" href="ComputationalModel.Run.html#5971" class="Function">oracleInteractionsᶜ</a> <a id="1218" href="Coherence.Helpers.html#1168" class="Bound">Rᶜ</a><a id="1220" class="Symbol">)</a>

<a id="1223" class="Keyword">instance</a>
  <a id="Dec-CheckOracle"></a><a id="1234" href="Coherence.Helpers.html#1234" class="Function">Dec-CheckOracle</a> <a id="1250" class="Symbol">:</a> <a id="1252" class="Symbol">∀</a> <a id="1254" class="Symbol">{</a><a id="1255" href="Coherence.Helpers.html#1255" class="Bound">os</a><a id="1257" class="Symbol">}</a> <a id="1259" class="Symbol">→</a> <a id="1261" href="Coherence.Helpers.html#792" class="Function">CheckInteractions</a> <a id="1279" href="Coherence.Helpers.html#1255" class="Bound">os</a> <a id="1282" href="Prelude.Decidable.Core.html#527" class="Function Operator">⁇¹</a>
  <a id="1287" href="Coherence.Helpers.html#1234" class="Function">Dec-CheckOracle</a> <a id="1303" class="Symbol">{</a><a id="1304" href="Coherence.Helpers.html#1304" class="Bound">os</a><a id="1306" class="Symbol">}</a> <a id="1308" class="Symbol">{</a><a id="1309" href="Coherence.Helpers.html#1309" class="Bound">x</a><a id="1310" class="Symbol">}</a> <a id="1312" class="Symbol">.</a><a id="1313" href="Prelude.Decidable.Core.html#166" class="Field">dec</a>
    <a id="1321" class="Keyword">with</a> <a id="1326" href="Coherence.Helpers.html#1309" class="Bound">x</a>
  <a id="1330" class="Symbol">...</a> <a id="1334" class="Symbol">|</a> <a id="1336" class="Symbol">_</a> <a id="1338" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1340" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a> <a id="1348" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1350" href="Coherence.Helpers.html#1350" class="Bound">hᵢ</a> <a id="1353" class="Symbol">=</a> <a id="1355" href="Coherence.Helpers.html#1350" class="Bound">hᵢ</a> <a id="1358" href="Prelude.Membership.html#613" class="Function Operator">∉?</a> <a id="1361" href="Data.List.Base.html#1553" class="Function">map</a> <a id="1365" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="1373" class="Symbol">(</a><a id="1374" href="Data.List.Base.html#8101" class="Function">filter</a> <a id="1381" class="Symbol">((</a><a id="1383" href="SecureCompilation.ModuleParameters.html#357" class="Field">η</a> <a id="1385" href="Prelude.Ord.Dec.html#430" class="Function Operator">≤?_</a><a id="1388" class="Symbol">)</a> <a id="1390" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1392" href="ComputationalModel.Serialization.html#245" class="Function Operator">∣_∣ᵐ</a> <a id="1397" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1399" href="Prelude.Nary.html#2292" class="Function">select₂</a><a id="1406" class="Symbol">)</a> <a id="1408" class="Bound">os</a><a id="1410" class="Symbol">)</a>
  <a id="1414" class="Symbol">...</a> <a id="1418" class="Symbol">|</a> <a id="1420" class="Symbol">_</a> <a id="1422" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1424" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="1429" href="Coherence.Helpers.html#1429" class="Bound">Nᵢ</a> <a id="1432" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1434" href="Coherence.Helpers.html#1434" class="Bound">hᵢ</a>
    <a id="1441" class="Keyword">with</a> <a id="1446" href="Prelude.Decidable.Core.html#475" class="Function Operator">¿</a> <a id="1448" href="Data.List.Relation.Unary.Any.html#1165" class="Datatype">Any</a> <a id="1452" class="Symbol">(λ</a> <a id="1455" class="Symbol">(_</a> <a id="1458" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1460" href="Coherence.Helpers.html#1460" class="Bound">m</a> <a id="1462" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1464" href="Coherence.Helpers.html#1464" class="Bound">h</a><a id="1465" class="Symbol">)</a> <a id="1467" class="Symbol">→</a> <a id="1469" class="Symbol">(</a><a id="1470" href="Coherence.Helpers.html#1464" class="Bound">h</a> <a id="1472" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1474" href="Coherence.Helpers.html#1434" class="Bound">hᵢ</a><a id="1476" class="Symbol">)</a> <a id="1478" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="1480" class="Symbol">(</a><a id="1481" href="ComputationalModel.Serialization.html#245" class="Function Operator">∣</a> <a id="1483" href="Coherence.Helpers.html#1460" class="Bound">m</a> <a id="1485" href="ComputationalModel.Serialization.html#245" class="Function Operator">∣ᵐ</a> <a id="1488" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1490" href="SecureCompilation.ModuleParameters.html#357" class="Field">η</a> <a id="1492" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="1494" href="Coherence.Helpers.html#1429" class="Bound">Nᵢ</a><a id="1496" class="Symbol">))</a> <a id="1499" class="Bound">os</a> <a id="1502" href="Prelude.Decidable.Core.html#475" class="Function Operator">¿</a>
  <a id="1506" class="Symbol">...</a> <a id="1510" class="Symbol">|</a> <a id="1512" href="Relation.Nullary.html#1694" class="InductiveConstructor">no</a>  <a id="1516" href="Coherence.Helpers.html#1516" class="Bound">x∉</a> <a id="1519" class="Symbol">=</a> <a id="1521" href="Relation.Nullary.html#1694" class="InductiveConstructor">no</a> <a id="1524" class="Symbol">λ</a> <a id="1526" class="Symbol">(_</a> <a id="1529" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1531" class="Symbol">_</a> <a id="1533" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1535" href="Coherence.Helpers.html#1535" class="Bound">x∈</a> <a id="1538" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1540" href="Coherence.Helpers.html#1540" class="Bound">m≡</a><a id="1542" class="Symbol">)</a> <a id="1544" class="Symbol">→</a>
    <a id="1550" href="Data.List.Relation.Unary.All.html#5775" class="Function">L.All.lookup</a> <a id="1563" class="Symbol">(</a><a id="1564" href="Data.List.Relation.Unary.All.Properties.html#3427" class="Function">¬Any⇒All¬</a> <a id="1574" class="Bound">os</a> <a id="1577" href="Coherence.Helpers.html#1516" class="Bound">x∉</a><a id="1579" class="Symbol">)</a> <a id="1581" href="Coherence.Helpers.html#1535" class="Bound">x∈</a> <a id="1584" class="Symbol">(</a><a id="1585" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="1590" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1592" href="Coherence.Helpers.html#1540" class="Bound">m≡</a><a id="1594" class="Symbol">)</a>
  <a id="1598" class="Symbol">...</a> <a id="1602" class="Symbol">|</a> <a id="1604" href="Relation.Nullary.html#1657" class="InductiveConstructor">yes</a> <a id="1608" href="Coherence.Helpers.html#1608" class="Bound">x∈</a>
    <a id="1615" class="Keyword">with</a> <a id="1620" href="Data.List.Relation.Unary.Any.html#1928" class="Function">L.Any.lookup</a> <a id="1633" href="Coherence.Helpers.html#1608" class="Bound">x∈</a> <a id="1636" class="Symbol">|</a> <a id="1638" href="Data.List.Membership.Propositional.Properties.html#11102" class="Function">∈-lookup</a> <a id="1647" class="Symbol">{</a><a id="1648" class="Argument">xs</a> <a id="1651" class="Symbol">=</a> <a id="1653" class="Bound">os</a><a id="1655" class="Symbol">}</a> <a id="1657" class="Symbol">(</a><a id="1658" href="Data.List.Relation.Unary.Any.html#1826" class="Function">L.Any.index</a> <a id="1670" href="Coherence.Helpers.html#1608" class="Bound">x∈</a><a id="1672" class="Symbol">)</a> <a id="1674" class="Symbol">|</a> <a id="1676" href="Data.List.Relation.Unary.Any.Properties.html#4337" class="Function">lookup-index</a> <a id="1689" href="Coherence.Helpers.html#1608" class="Bound">x∈</a>
  <a id="1694" class="Symbol">...</a> <a id="1698" class="Symbol">|</a> <a id="1700" href="Coherence.Helpers.html#1700" class="Bound">A</a> <a id="1702" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1704" href="Coherence.Helpers.html#1704" class="Bound">m</a> <a id="1706" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1708" class="Symbol">_</a> <a id="1710" class="Symbol">|</a> <a id="1712" href="Coherence.Helpers.html#1712" class="Bound">x∈</a> <a id="1715" class="Symbol">|</a> <a id="1717" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="1722" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1724" href="Coherence.Helpers.html#1724" class="Bound">q</a> <a id="1726" class="Symbol">=</a> <a id="1728" href="Relation.Nullary.html#1657" class="InductiveConstructor">yes</a> <a id="1732" class="Symbol">(</a><a id="1733" href="Coherence.Helpers.html#1700" class="Bound">A</a> <a id="1735" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1737" href="Coherence.Helpers.html#1704" class="Bound">m</a> <a id="1739" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1741" href="Coherence.Helpers.html#1712" class="Bound">x∈</a> <a id="1744" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1746" href="Coherence.Helpers.html#1724" class="Bound">q</a><a id="1747" class="Symbol">)</a>

<a id="1750" class="Comment">-- lifting mappings from the current run to the original advertisement</a>
<a id="1821" class="Comment">-- (needed to invoke the compiler)</a>
<a id="LIFT₀"></a><a id="1856" href="Coherence.Helpers.html#1856" class="Function">LIFT₀</a> <a id="1862" class="Symbol">:</a> <a id="1864" class="Symbol">∀</a> <a id="1866" class="Symbol">(</a><a id="1867" href="Coherence.Helpers.html#1867" class="Bound">r</a> <a id="1869" class="Symbol">:</a> <a id="1871" href="SymbolicModel.Mappings.html#872" class="Function">ℝ</a> <a id="1873" href="SymbolicModel.Run.Base.html#457" class="Generalizable">R</a><a id="1874" class="Symbol">)</a> <a id="1876" class="Symbol">(</a><a id="1877" href="Coherence.Helpers.html#1877" class="Bound">t</a> <a id="1879" class="Symbol">:</a> <a id="1881" href="BitML.BasicTypes.html#413" class="Function">Time</a><a id="1885" class="Symbol">)</a> <a id="1887" href="Coherence.Helpers.html#1887" class="Bound">Γ</a> <a id="1889" class="Symbol">(</a><a id="1890" href="Coherence.Helpers.html#1890" class="Bound">R≈</a> <a id="1893" class="Symbol">:</a> <a id="1895" href="SymbolicModel.Run.Base.html#457" class="Generalizable">R</a> <a id="1897" href="SymbolicModel.Run.Base.html#1997" class="Function Operator">≈⋯</a> <a id="1900" href="Coherence.Helpers.html#1887" class="Bound">Γ</a> <a id="1902" class="InductiveConstructor Operator">at</a> <a id="1905" href="Coherence.Helpers.html#1877" class="Bound">t</a><a id="1906" class="Symbol">)</a> <a id="1908" href="Coherence.Helpers.html#1908" class="Bound">ad</a> <a id="1911" class="Symbol">→</a>
  <a id="1915" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="1917" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="1919" href="Coherence.Helpers.html#1908" class="Bound">ad</a> <a id="1922" href="BitML.Semantics.Configurations.Helpers.html#3965" class="Function Operator">∈ᶜ</a> <a id="1925" href="Coherence.Helpers.html#1887" class="Bound">Γ</a>
  <a id="1929" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="1931" href="BitML.Contracts.Collections.html#2548" class="Function">nub-participants</a> <a id="1948" href="Coherence.Helpers.html#1908" class="Bound">ad</a> <a id="1951" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="1953" href="BitML.Semantics.Configurations.Helpers.html#11398" class="Function">committedParticipants</a> <a id="1975" href="Coherence.Helpers.html#1908" class="Bound">ad</a> <a id="1978" href="Coherence.Helpers.html#1887" class="Bound">Γ</a>
    <a id="1984" href="Prelude.InferenceRules.html#12978" class="Function Operator">─────────────────────────────────────────────────</a>
    <a id="2038" href="SymbolicModel.Mappings.html#1443" class="Function">𝔾</a> <a id="2040" href="Coherence.Helpers.html#1908" class="Bound">ad</a>
<a id="2043" href="Coherence.Helpers.html#1856" class="Function">LIFT₀</a> <a id="2049" class="Symbol">{</a><a id="2050" href="Coherence.Helpers.html#2050" class="Bound">R</a><a id="2051" class="Symbol">}</a> <a id="2053" href="Coherence.Helpers.html#2053" class="Bound">r</a> <a id="2055" href="Coherence.Helpers.html#2055" class="Bound">t</a> <a id="2057" href="Coherence.Helpers.html#2057" class="Bound">Γ</a> <a id="2059" href="Coherence.Helpers.html#2059" class="Bound">R≈</a><a id="2061" class="Symbol">@(_</a> <a id="2065" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2067" href="Coherence.Helpers.html#2067" class="Bound">Γ≈</a><a id="2069" class="Symbol">)</a> <a id="2071" href="Coherence.Helpers.html#2071" class="Bound">ad</a> <a id="2074" href="Coherence.Helpers.html#2074" class="Bound">ad∈</a> <a id="2078" href="Coherence.Helpers.html#2078" class="Bound">committedA</a> <a id="2089" class="Symbol">=</a> <a id="2091" href="Coherence.Helpers.html#2272" class="Function">vad</a> <a id="2095" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2097" href="Coherence.Helpers.html#2307" class="Function">txout₀</a> <a id="2104" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2106" href="Coherence.Helpers.html#2587" class="Function">sechash₀</a> <a id="2115" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2117" href="Coherence.Helpers.html#2749" class="Function">κ₀</a>
  <a id="2122" class="Keyword">where</a>
  <a id="2130" class="Keyword">module</a> <a id="2137" href="Coherence.Helpers.html#2137" class="Module">_</a>
    <a id="2143" class="Symbol">(</a><a id="2144" class="Keyword">let</a> <a id="2148" href="Coherence.Helpers.html#2148" class="Bound">Γᵢ′</a> <a id="2152" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2154" href="Coherence.Helpers.html#2154" class="Bound">Γᵢ</a> <a id="2157" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2159" class="Symbol">_</a> <a id="2161" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2163" class="Symbol">_</a> <a id="2165" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2167" href="Coherence.Helpers.html#2167" class="Bound">xy∈</a> <a id="2171" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2173" class="Symbol">(</a><a id="2174" href="Coherence.Helpers.html#2174" class="Bound">x≈</a> <a id="2177" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2179" class="Symbol">_)</a> <a id="2182" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2184" href="Coherence.Helpers.html#2184" class="Bound">ℍ</a> <a id="2186" class="Symbol">=</a> <a id="2188" href="SymbolicModel.Properties.html#728" class="Function">ad∈≈⇒ℍ</a> <a id="2195" class="Symbol">{</a><a id="2196" href="Coherence.Helpers.html#2050" class="Bound">R</a><a id="2197" class="Symbol">}{</a><a id="2199" href="Coherence.Helpers.html#2057" class="Bound">Γ</a><a id="2200" class="Symbol">}</a> <a id="2202" href="Coherence.Helpers.html#2059" class="Bound">R≈</a> <a id="2205" href="Coherence.Helpers.html#2074" class="Bound">ad∈</a><a id="2208" class="Symbol">)</a>
    <a id="2214" class="Symbol">(</a><a id="2215" class="Keyword">let</a> <a id="2219" class="Symbol">_</a> <a id="2221" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2223" href="Coherence.Helpers.html#2223" class="Bound">$vad</a> <a id="2228" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2230" href="Coherence.Helpers.html#2230" class="Bound">honG</a> <a id="2235" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2237" class="Symbol">_</a> <a id="2239" class="Symbol">=</a> <a id="2241" href="Coherence.Helpers.html#2184" class="Bound">ℍ</a><a id="2242" class="Symbol">)</a>
    <a id="2248" class="Keyword">where</a>
    <a id="2258" class="Keyword">open</a> <a id="2263" href="SymbolicModel.Mappings.html#897" class="Module">ℝ</a> <a id="2265" href="Coherence.Helpers.html#2053" class="Bound">r</a>

    <a id="2272" href="Coherence.Helpers.html#2272" class="Function">vad</a> <a id="2276" class="Symbol">:</a> <a id="2278" href="Prelude.Validity.html#343" class="Field">Valid</a> <a id="2284" href="Coherence.Helpers.html#2071" class="Bound">ad</a>
    <a id="2291" href="Coherence.Helpers.html#2272" class="Function">vad</a> <a id="2295" class="Symbol">=</a> <a id="2297" href="Coherence.Helpers.html#2223" class="Bound">$vad</a>

    <a id="2307" href="Coherence.Helpers.html#2307" class="Function">txout₀</a> <a id="2314" class="Symbol">:</a> <a id="2316" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="2322" class="Symbol">(</a><a id="2323" href="Coherence.Helpers.html#2071" class="Bound">ad</a> <a id="2326" class="Symbol">.</a><a id="2327" href="BitML.Contracts.Types.html#2330" class="Field">G</a><a id="2328" class="Symbol">)</a>
    <a id="2334" href="Coherence.Helpers.html#2307" class="Function">txout₀</a> <a id="2341" class="Symbol">=</a>
      <a id="2349" class="Keyword">let</a>
        <a id="2361" href="Coherence.Helpers.html#2361" class="Bound">Γᵢ∈</a> <a id="2365" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2367" class="Symbol">_</a> <a id="2369" class="Symbol">=</a> <a id="2371" href="BitML.Properties.Helpers.html#2865" class="Function">∈-allTransitions⁻</a> <a id="2389" class="Symbol">(</a><a id="2390" href="Coherence.Helpers.html#2050" class="Bound">R</a> <a id="2392" href="SymbolicModel.Run.Base.html#553" class="Function Operator">∙trace′</a><a id="2399" class="Symbol">)</a> <a id="2401" href="Coherence.Helpers.html#2167" class="Bound">xy∈</a>

        <a id="2414" href="Coherence.Helpers.html#2414" class="Bound">txoutΓᵢ</a> <a id="2422" class="Symbol">:</a> <a id="2424" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="2430" href="Coherence.Helpers.html#2154" class="Bound">Γᵢ</a>
        <a id="2441" href="Coherence.Helpers.html#2414" class="Bound">txoutΓᵢ</a> <a id="2449" class="Symbol">=</a> <a id="2451" href="SymbolicModel.Mappings.html#1931" class="Function">Txout≈</a> <a id="2458" class="Symbol">{</a><a id="2459" href="Coherence.Helpers.html#2148" class="Bound">Γᵢ′</a><a id="2462" class="Symbol">}{</a><a id="2464" href="Coherence.Helpers.html#2154" class="Bound">Γᵢ</a><a id="2466" class="Symbol">}</a> <a id="2468" href="Coherence.Helpers.html#2174" class="Bound">x≈</a>
                <a id="2487" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="2489" href="SymbolicModel.Mappings.html#4236" class="Function">Txout∈</a> <a id="2496" class="Symbol">{</a><a id="2497" class="Argument">R</a> <a id="2499" class="Symbol">=</a> <a id="2501" href="Coherence.Helpers.html#2050" class="Bound">R</a><a id="2502" class="Symbol">}</a> <a id="2504" href="SymbolicModel.Mappings.html#952" class="Function">txout′</a> <a id="2511" href="Coherence.Helpers.html#2361" class="Bound">Γᵢ∈</a>
      <a id="2521" class="Keyword">in</a>
        <a id="2532" href="SymbolicModel.Properties.html#2983" class="Function">ℍ[C-Advertise]⇒TxoutG</a> <a id="2554" class="Symbol">{</a><a id="2555" class="Argument">Γ</a> <a id="2557" class="Symbol">=</a> <a id="2559" href="Coherence.Helpers.html#2154" class="Bound">Γᵢ</a><a id="2561" class="Symbol">}{</a><a id="2563" class="Argument">ad</a> <a id="2566" class="Symbol">=</a> <a id="2568" href="Coherence.Helpers.html#2071" class="Bound">ad</a><a id="2570" class="Symbol">}</a> <a id="2572" href="Coherence.Helpers.html#2184" class="Bound">ℍ</a> <a id="2574" href="Coherence.Helpers.html#2414" class="Bound">txoutΓᵢ</a>

    <a id="2587" href="Coherence.Helpers.html#2587" class="Function">sechash₀</a> <a id="2596" class="Symbol">:</a> <a id="2598" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="2606" class="Symbol">(</a><a id="2607" href="Coherence.Helpers.html#2071" class="Bound">ad</a> <a id="2610" class="Symbol">.</a><a id="2611" href="BitML.Contracts.Types.html#2330" class="Field">G</a><a id="2612" class="Symbol">)</a>
    <a id="2618" href="Coherence.Helpers.html#2587" class="Function">sechash₀</a> <a id="2627" class="Symbol">=</a> <a id="2629" href="SymbolicModel.Properties.html#3955" class="Function">ℍ[C-AuthCommit]∗⇒SechashG</a> <a id="2655" class="Symbol">{</a><a id="2656" class="Argument">ad</a> <a id="2659" class="Symbol">=</a> <a id="2661" href="Coherence.Helpers.html#2071" class="Bound">ad</a><a id="2663" class="Symbol">}</a>
             <a id="2678" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="2680" href="SymbolicModel.Properties.html#3209" class="Function">committed⇒ℍ[C-AuthCommit]∗</a> <a id="2707" class="Symbol">{</a><a id="2708" href="Coherence.Helpers.html#2050" class="Bound">R</a><a id="2709" class="Symbol">}{</a><a id="2711" href="Coherence.Helpers.html#2057" class="Bound">Γ</a><a id="2712" class="Symbol">}{</a><a id="2714" href="Coherence.Helpers.html#2055" class="Bound">t</a><a id="2715" class="Symbol">}{</a><a id="2717" href="Coherence.Helpers.html#2071" class="Bound">ad</a><a id="2719" class="Symbol">}</a> <a id="2721" href="Coherence.Helpers.html#2059" class="Bound">R≈</a> <a id="2724" href="Coherence.Helpers.html#2078" class="Bound">committedA</a> <a id="2735" href="SymbolicModel.Mappings.html#971" class="Function">sechash′</a>

    <a id="2749" href="Coherence.Helpers.html#2749" class="Function">κ₀</a> <a id="2752" class="Symbol">:</a> <a id="2754" href="Compiler.Mappings.html#454" class="Function">𝕂²′</a> <a id="2758" href="Coherence.Helpers.html#2071" class="Bound">ad</a>
    <a id="2765" href="Coherence.Helpers.html#2749" class="Function">κ₀</a> <a id="2768" class="Symbol">=</a>
      <a id="2776" class="Keyword">let</a>
        <a id="2788" href="Coherence.Helpers.html#2788" class="Bound">ad∈Hon</a> <a id="2795" class="Symbol">:</a> <a id="2797" href="Coherence.Helpers.html#2071" class="Bound">ad</a> <a id="2800" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="2802" href="BitML.Semantics.Configurations.Helpers.html#9873" class="Function">authorizedHonAds</a> <a id="2819" href="Coherence.Helpers.html#2057" class="Bound">Γ</a>
        <a id="2829" href="Coherence.Helpers.html#2788" class="Bound">ad∈Hon</a> <a id="2836" class="Symbol">=</a> <a id="2838" href="BitML.Semantics.Configurations.Helpers.html#12200" class="Function">committed⇒authAd</a> <a id="2855" class="Symbol">(</a><a id="2856" href="Data.List.Relation.Unary.Any.Properties.html#4213" class="Function">L.Any.lookup-result</a> <a id="2876" href="Coherence.Helpers.html#2230" class="Bound">honG</a><a id="2880" class="Symbol">)</a> <a id="2882" class="Symbol">{</a><a id="2883" class="Argument">Γ</a> <a id="2885" class="Symbol">=</a> <a id="2887" href="Coherence.Helpers.html#2057" class="Bound">Γ</a><a id="2888" class="Symbol">}</a>
               <a id="2905" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="2907" href="Coherence.Helpers.html#2078" class="Bound">committedA</a> <a id="2918" class="Symbol">(</a><a id="2919" href="Data.List.Membership.Propositional.Properties.html#11102" class="Function">L.Mem.∈-lookup</a> <a id="2934" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="2936" href="Data.List.Relation.Unary.Any.html#1826" class="Function">L.Any.index</a> <a id="2948" href="Coherence.Helpers.html#2230" class="Bound">honG</a><a id="2952" class="Symbol">)</a>
      <a id="2960" class="Keyword">in</a>
        <a id="2971" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="2980" href="SymbolicModel.Mappings.html#986" class="Function">κ′</a> <a id="2983" class="Symbol">(</a><a id="2984" href="SymbolicModel.Run.Collections.html#2338" class="Function">ads⦅end⦆⊆</a> <a id="2994" href="Coherence.Helpers.html#2050" class="Bound">R</a> <a id="2996" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="2998" href="BitML.Semantics.Configurations.Helpers.html#14432" class="Function">∈ads-resp-≈</a> <a id="3010" class="Symbol">_</a> <a id="3012" class="Symbol">{</a><a id="3013" href="Coherence.Helpers.html#2057" class="Bound">Γ</a><a id="3014" class="Symbol">}{</a><a id="3016" href="Coherence.Helpers.html#2050" class="Bound">R</a> <a id="3018" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="3022" class="Symbol">}</a> <a id="3024" class="Symbol">(</a><a id="3025" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="3031" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="3033" href="Coherence.Helpers.html#2059" class="Bound">R≈</a> <a id="3036" class="Symbol">.</a><a id="3037" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="3042" class="Symbol">))</a>
          <a id="3055" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="3057" href="BitML.Semantics.Configurations.Helpers.html#8196" class="Function">∈-collect-++⁺ʳ</a> <a id="3072" class="Symbol">(</a><a id="3073" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="3075" href="Coherence.Helpers.html#2071" class="Bound">ad</a><a id="3077" class="Symbol">)</a> <a id="3079" href="Coherence.Helpers.html#2057" class="Bound">Γ</a> <a id="3081" href="Coherence.Helpers.html#2788" class="Bound">ad∈Hon</a>

<a id="LIFTᶜ"></a><a id="3089" href="Coherence.Helpers.html#3089" class="Function">LIFTᶜ</a> <a id="3095" class="Symbol">:</a> <a id="3097" class="Symbol">∀</a> <a id="3099" class="Symbol">(</a><a id="3100" href="Coherence.Helpers.html#3100" class="Bound">𝕣</a> <a id="3102" class="Symbol">:</a> <a id="3104" href="SymbolicModel.Mappings.html#872" class="Function">ℝ</a> <a id="3106" href="SymbolicModel.Run.Base.html#465" class="Generalizable">Rˢ</a><a id="3108" class="Symbol">)</a> <a id="3110" class="Symbol">{</a><a id="3111" href="Coherence.Helpers.html#3111" class="Bound">ad</a> <a id="3114" href="Coherence.Helpers.html#3114" class="Bound">c</a><a id="3115" class="Symbol">}</a> <a id="3117" class="Symbol">→</a>
  <a id="3121" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="3123" href="SymbolicModel.Properties.html#662" class="Function Operator">∃[</a> <a id="3126" href="SymbolicModel.Run.Base.html#465" class="Generalizable">Rˢ</a> <a id="3129" href="SymbolicModel.Properties.html#662" class="Function Operator">∋ʳ</a> <a id="3132" href="BitML.Properties.TraceContract.html#14769" class="Function Operator">Ancestor⦅</a> <a id="3142" href="Coherence.Helpers.html#3111" class="Bound">ad</a> <a id="3145" href="BitML.Properties.TraceContract.html#14769" class="Function Operator">↝</a> <a id="3147" href="Coherence.Helpers.html#3114" class="Bound">c</a> <a id="3149" href="BitML.Properties.TraceContract.html#14769" class="Function Operator">⦆</a> <a id="3151" href="SymbolicModel.Properties.html#662" class="Function Operator">]</a>
    <a id="3157" href="Prelude.InferenceRules.html#13868" class="Function Operator">─────────────────────────────</a>
    <a id="3191" href="SymbolicModel.Mappings.html#1443" class="Function">𝔾</a> <a id="3193" href="Coherence.Helpers.html#3111" class="Bound">ad</a>
<a id="3196" href="Coherence.Helpers.html#3089" class="Function">LIFTᶜ</a> <a id="3202" class="Symbol">{</a><a id="3203" href="Coherence.Helpers.html#3203" class="Bound">R</a><a id="3204" class="Symbol">}</a> <a id="3206" href="Coherence.Helpers.html#3206" class="Bound">𝕣</a> <a id="3208" class="Symbol">{</a><a id="3209" href="Coherence.Helpers.html#3209" class="Bound">ad</a><a id="3211" class="Symbol">}</a> <a id="3213" href="Coherence.Helpers.html#3213" class="Bound">∃H</a> <a id="3216" class="Symbol">=</a>
  <a id="3220" class="Keyword">let</a>
    <a id="3228" href="Coherence.Helpers.html#3228" class="Bound">∃R</a> <a id="3231" class="Symbol">:</a> <a id="3233" href="SymbolicModel.Properties.html#662" class="Function Operator">∃[</a> <a id="3236" href="Coherence.Helpers.html#3203" class="Bound">R</a> <a id="3238" href="SymbolicModel.Properties.html#662" class="Function Operator">∋ʳ</a> <a id="3241" href="BitML.Properties.TraceInit.html#12604" class="Function Operator">∃ℍ[C-AuthInit]⦅_↝_⦆⦅</a> <a id="3262" href="Coherence.Helpers.html#3209" class="Bound">ad</a> <a id="3265" href="BitML.Properties.TraceInit.html#12604" class="Function Operator">⦆</a> <a id="3267" href="SymbolicModel.Properties.html#662" class="Function Operator">]</a>
    <a id="3273" href="Coherence.Helpers.html#3228" class="Bound">∃R</a> <a id="3276" class="Symbol">=</a> <a id="3278" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="3284" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="3286" href="BitML.Properties.TraceInit.html#13713" class="Function">ℍ[C-Init]⇒∃ℍ[C-AuthInit]</a> <a id="3311" class="Symbol">(</a><a id="3312" href="Coherence.Helpers.html#3203" class="Bound">R</a> <a id="3314" class="Symbol">.</a><a id="3315" href="Prelude.Traces.html#640" class="Field">init</a><a id="3319" class="Symbol">)</a> <a id="3321" class="Symbol">(</a><a id="3322" href="Coherence.Helpers.html#3203" class="Bound">R</a> <a id="3324" href="SymbolicModel.Run.Base.html#553" class="Function Operator">∙trace′</a><a id="3331" class="Symbol">)</a> <a id="3333" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="3335" href="BitML.Properties.Helpers.html#16701" class="Function">∃-weakenP</a> <a id="3345" class="Symbol">(</a><a id="3346" href="Coherence.Helpers.html#3203" class="Bound">R</a> <a id="3348" href="SymbolicModel.Run.Base.html#553" class="Function Operator">∙trace′</a><a id="3355" class="Symbol">)</a> <a id="3357" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="3363" href="Coherence.Helpers.html#3213" class="Bound">∃H</a>

    <a id="3371" href="Coherence.Helpers.html#3371" class="Bound">x</a> <a id="3373" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3375" href="Coherence.Helpers.html#3375" class="Bound">x′</a> <a id="3378" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3380" class="Symbol">_</a> <a id="3382" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3384" class="Symbol">_</a> <a id="3386" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3388" href="Coherence.Helpers.html#3388" class="Bound">xy∈</a> <a id="3392" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3394" class="Symbol">(</a><a id="3395" href="Coherence.Helpers.html#3395" class="Bound">x≈</a> <a id="3398" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3400" class="Symbol">_)</a> <a id="3403" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3405" class="Symbol">_</a> <a id="3407" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3409" class="Symbol">_</a> <a id="3411" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3413" class="Symbol">_</a> <a id="3415" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3417" class="Symbol">_</a> <a id="3419" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3421" href="Coherence.Helpers.html#3421" class="Bound">Γ≡</a> <a id="3424" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3426" class="Symbol">_</a> <a id="3428" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3430" href="Coherence.Helpers.html#3430" class="Bound">p⊆′</a> <a id="3434" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3436" class="Symbol">_</a>  <a id="3439" class="Symbol">=</a> <a id="3441" href="Coherence.Helpers.html#3228" class="Bound">∃R</a>

    <a id="3449" href="Coherence.Helpers.html#3449" class="Bound">ad∈</a> <a id="3453" class="Symbol">:</a> <a id="3455" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="3457" href="Coherence.Helpers.html#3209" class="Bound">ad</a> <a id="3460" href="BitML.Semantics.Configurations.Helpers.html#3965" class="Function Operator">∈ᶜ</a> <a id="3463" href="Coherence.Helpers.html#3371" class="Bound">x</a>
    <a id="3469" href="Coherence.Helpers.html#3449" class="Bound">ad∈</a> <a id="3473" class="Symbol">=</a> <a id="3475" href="BitML.Semantics.Configurations.Helpers.html#5563" class="Function">∈ᶜ-resp-≈</a> <a id="3485" class="Symbol">{</a><a id="3486" href="Coherence.Helpers.html#3375" class="Bound">x′</a><a id="3488" class="Symbol">}{</a><a id="3490" href="Coherence.Helpers.html#3371" class="Bound">x</a><a id="3491" class="Symbol">}</a> <a id="3493" class="Symbol">(</a><a id="3494" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="3500" href="Coherence.Helpers.html#3395" class="Bound">x≈</a><a id="3502" class="Symbol">)</a>
        <a id="3512" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="3514" href="Relation.Binary.PropositionalEquality.Core.html#1789" class="Function">subst</a> <a id="3520" class="Symbol">(</a><a id="3521" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="3523" href="Coherence.Helpers.html#3209" class="Bound">ad</a> <a id="3526" href="BitML.Semantics.Configurations.Helpers.html#3965" class="Function Operator">∈ᶜ_</a><a id="3529" class="Symbol">)</a> <a id="3531" class="Symbol">(</a><a id="3532" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="3536" href="Coherence.Helpers.html#3421" class="Bound">Γ≡</a><a id="3538" class="Symbol">)</a> <a id="3540" class="Symbol">(</a><a id="3541" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="3546" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="3550" class="Symbol">)</a>

    <a id="3557" href="Coherence.Helpers.html#3557" class="Bound">p⊆</a> <a id="3560" class="Symbol">:</a> <a id="3562" class="Symbol">(</a><a id="3563" href="Coherence.Helpers.html#3209" class="Bound">ad</a> <a id="3566" class="Symbol">.</a><a id="3567" href="BitML.Contracts.Types.html#2330" class="Field">G</a> <a id="3569" href="SymbolicModel.Run.Base.html#483" class="Function Operator">∙partG</a><a id="3575" class="Symbol">)</a> <a id="3577" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="3579" href="BitML.Semantics.Configurations.Helpers.html#11398" class="Function">committedParticipants</a> <a id="3601" href="Coherence.Helpers.html#3209" class="Bound">ad</a> <a id="3604" href="Coherence.Helpers.html#3371" class="Bound">x</a>
    <a id="3610" href="Coherence.Helpers.html#3557" class="Bound">p⊆</a> <a id="3613" class="Symbol">=</a> <a id="3615" href="Data.List.Relation.Binary.Permutation.Propositional.Properties.html#3452" class="Function">L.Perm.∈-resp-↭</a> <a id="3631" class="Symbol">(</a><a id="3632" href="Prelude.Lists.Collections.html#1376" class="Function">collectFromList↭</a> <a id="3649" class="Symbol">(</a><a id="3650" href="BitML.Semantics.Configurations.Helpers.html#11543" class="Function">∣committedParticipants∣.go</a> <a id="3677" href="Coherence.Helpers.html#3209" class="Bound">ad</a> <a id="3680" class="Symbol">.</a><a id="3681" href="Prelude.Lists.Collections.html#337" class="Field">collect</a><a id="3688" class="Symbol">)</a> <a id="3690" class="Symbol">(</a><a id="3691" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="3697" href="Coherence.Helpers.html#3395" class="Bound">x≈</a><a id="3699" class="Symbol">))</a>
       <a id="3709" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="3711" href="Coherence.Helpers.html#3430" class="Bound">p⊆′</a>

    <a id="3720" href="Coherence.Helpers.html#3720" class="Bound">tr</a> <a id="3723" class="Symbol">=</a> <a id="3725" href="Coherence.Helpers.html#3203" class="Bound">R</a> <a id="3727" href="SymbolicModel.Run.Base.html#553" class="Function Operator">∙trace′</a>
    <a id="3739" href="Coherence.Helpers.html#3739" class="Bound">tᵢ</a> <a id="3742" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3744" class="Symbol">_</a> <a id="3746" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3748" href="Coherence.Helpers.html#3748" class="Bound">xy∈ᵗ</a> <a id="3753" class="Symbol">=</a> <a id="3755" href="BitML.Properties.Helpers.html#1643" class="Function">×∈⇒×∈ᵗ</a> <a id="3762" href="Coherence.Helpers.html#3720" class="Bound">tr</a> <a id="3765" href="Coherence.Helpers.html#3388" class="Bound">xy∈</a>
    <a id="3773" href="Coherence.Helpers.html#3773" class="Bound">tr′</a>      <a id="3782" class="Symbol">=</a> <a id="3784" href="BitML.Properties.Helpers.html#14573" class="Function">splitTraceˡ</a> <a id="3796" href="Coherence.Helpers.html#3720" class="Bound">tr</a> <a id="3799" href="Coherence.Helpers.html#3748" class="Bound">xy∈ᵗ</a>
    <a id="3808" href="Coherence.Helpers.html#3808" class="Bound">R′</a>       <a id="3817" class="Symbol">=</a> <a id="3819" href="SymbolicModel.Run.Base.html#2528" class="Function">splitRunˡ</a> <a id="3829" href="Coherence.Helpers.html#3203" class="Bound">R</a> <a id="3831" href="Coherence.Helpers.html#3748" class="Bound">xy∈ᵗ</a>

    <a id="3841" href="Coherence.Helpers.html#3841" class="Bound">𝕣′</a> <a id="3844" class="Symbol">:</a> <a id="3846" href="SymbolicModel.Mappings.html#872" class="Function">ℝ</a> <a id="3848" href="Coherence.Helpers.html#3808" class="Bound">R′</a>
    <a id="3855" href="Coherence.Helpers.html#3841" class="Bound">𝕣′</a> <a id="3858" class="Symbol">=</a> <a id="3860" href="SymbolicModel.Mappings.html#7306" class="Function">ℝ⊆</a> <a id="3863" href="Coherence.Helpers.html#3748" class="Bound">xy∈ᵗ</a> <a id="3868" href="Coherence.Helpers.html#3206" class="Bound">𝕣</a>

    <a id="3875" href="Coherence.Helpers.html#3875" class="Bound">R≈′</a> <a id="3879" class="Symbol">:</a> <a id="3881" href="Coherence.Helpers.html#3808" class="Bound">R′</a> <a id="3884" href="SymbolicModel.Run.Base.html#1997" class="Function Operator">≈⋯</a> <a id="3887" href="Coherence.Helpers.html#3371" class="Bound">x</a> <a id="3889" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="3892" href="Coherence.Helpers.html#3739" class="Bound">tᵢ</a>
    <a id="3899" href="Coherence.Helpers.html#3875" class="Bound">R≈′</a> <a id="3903" class="Symbol">=</a> <a id="3905" href="SymbolicModel.Run.Base.html#2687" class="Function">splitRunˡ-≈⋯</a> <a id="3918" href="Coherence.Helpers.html#3203" class="Bound">R</a> <a id="3920" href="Coherence.Helpers.html#3748" class="Bound">xy∈ᵗ</a>
  <a id="3927" class="Keyword">in</a>
    <a id="3934" href="Coherence.Helpers.html#1856" class="Function">LIFT₀</a> <a id="3940" href="Coherence.Helpers.html#3841" class="Bound">𝕣′</a> <a id="3943" href="Coherence.Helpers.html#3739" class="Bound">tᵢ</a> <a id="3946" href="Coherence.Helpers.html#3371" class="Bound">x</a> <a id="3948" href="Coherence.Helpers.html#3875" class="Bound">R≈′</a> <a id="3952" href="Coherence.Helpers.html#3209" class="Bound">ad</a> <a id="3955" href="Coherence.Helpers.html#3449" class="Bound">ad∈</a> <a id="3959" href="Coherence.Helpers.html#3557" class="Bound">p⊆</a>

<a id="3963" class="Comment">-- Convenient wrappers for calling the BitML compiler.</a>
<a id="COMPILE"></a><a id="4018" href="Coherence.Helpers.html#4018" class="Function">COMPILE</a> <a id="4026" class="Symbol">:</a>
  <a id="4030" href="SymbolicModel.Mappings.html#1443" class="Function">𝔾</a> <a id="4032" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a>
  <a id="4037" href="Prelude.InferenceRules.html#13085" class="Function Operator">───────────────────────────────────────────────</a>
  <a id="4087" href="Compiler.Outputs.html#206" class="Function">InitTx</a> <a id="4094" class="Symbol">(</a><a id="4095" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="4098" class="Symbol">.</a><a id="4099" href="BitML.Contracts.Types.html#2330" class="Field">G</a><a id="4100" class="Symbol">)</a> <a id="4102" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="4104" class="Symbol">(</a><a id="4105" href="BitML.Contracts.Subterms.html#647" class="Function">subterms</a> <a id="4114" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="4117" href="Prelude.Lists.Mappings.html#654" class="Function Operator">↦′</a> <a id="4120" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="4129" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="4131" href="Compiler.Subterms.html#622" class="Field Operator">_∗</a><a id="4133" class="Symbol">)</a>
<a id="4135" href="Coherence.Helpers.html#4018" class="Function">COMPILE</a> <a id="4143" class="Symbol">{</a><a id="4144" class="Argument">ad</a> <a id="4147" class="Symbol">=</a> <a id="4149" href="Coherence.Helpers.html#4149" class="Bound">ad</a><a id="4151" class="Symbol">}</a> <a id="4153" class="Symbol">(</a><a id="4154" href="Coherence.Helpers.html#4154" class="Bound">vad</a> <a id="4158" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4160" href="Coherence.Helpers.html#4160" class="Bound">txout₀</a> <a id="4167" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4169" href="Coherence.Helpers.html#4169" class="Bound">sechash₀</a> <a id="4178" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4180" href="Coherence.Helpers.html#4180" class="Bound">κ₀</a><a id="4182" class="Symbol">)</a> <a id="4184" class="Symbol">=</a>
  <a id="4188" class="Keyword">let</a>
    <a id="4196" href="Coherence.Helpers.html#4196" class="Bound">K</a> <a id="4198" class="Symbol">:</a> <a id="4200" href="Compiler.Mappings.html#394" class="Function">𝕂</a> <a id="4202" class="Symbol">(</a><a id="4203" href="Coherence.Helpers.html#4149" class="Bound">ad</a> <a id="4206" class="Symbol">.</a><a id="4207" href="BitML.Contracts.Types.html#2330" class="Field">G</a><a id="4208" class="Symbol">)</a>
    <a id="4214" href="Coherence.Helpers.html#4196" class="Bound">K</a> <a id="4216" class="Symbol">{</a><a id="4217" href="Coherence.Helpers.html#4217" class="Bound">p</a><a id="4218" class="Symbol">}</a> <a id="4220" class="Symbol">_</a> <a id="4222" class="Symbol">=</a> <a id="4224" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="4227" href="Coherence.Helpers.html#4217" class="Bound">p</a>

    <a id="4234" href="Coherence.Helpers.html#4234" class="Bound">T</a> <a id="4236" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4238" href="Coherence.Helpers.html#4238" class="Bound">∀d</a> <a id="4241" class="Symbol">=</a> <a id="4243" href="Compiler.Translation.html#1219" class="Function">bitml-compiler</a> <a id="4258" class="Symbol">{</a><a id="4259" class="Argument">ad</a> <a id="4262" class="Symbol">=</a> <a id="4264" href="Coherence.Helpers.html#4149" class="Bound">ad</a><a id="4266" class="Symbol">}</a> <a id="4268" href="Coherence.Helpers.html#4154" class="Bound">vad</a> <a id="4272" href="Coherence.Helpers.html#4169" class="Bound">sechash₀</a> <a id="4281" href="Coherence.Helpers.html#4160" class="Bound">txout₀</a> <a id="4288" href="Coherence.Helpers.html#4196" class="Bound">K</a> <a id="4290" href="Coherence.Helpers.html#4180" class="Bound">κ₀</a>
  <a id="4295" class="Keyword">in</a>
    <a id="4302" href="Coherence.Helpers.html#4234" class="Bound">T</a> <a id="4304" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4306" href="Compiler.Subterms.html#2649" class="Function">weaken-sub</a> <a id="4317" class="Symbol">{</a><a id="4318" href="Coherence.Helpers.html#4149" class="Bound">ad</a><a id="4320" class="Symbol">}</a> <a id="4322" href="Coherence.Helpers.html#4238" class="Bound">∀d</a>

<a id="COMPILE-INIT"></a><a id="4326" href="Coherence.Helpers.html#4326" class="Function">COMPILE-INIT</a> <a id="4339" class="Symbol">:</a>
  <a id="4343" href="SymbolicModel.Mappings.html#1443" class="Function">𝔾</a> <a id="4345" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a>
  <a id="4350" href="Prelude.InferenceRules.html#14273" class="Function Operator">──────────────</a>
  <a id="4367" href="Compiler.Outputs.html#206" class="Function">InitTx</a> <a id="4374" class="Symbol">(</a><a id="4375" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="4378" class="Symbol">.</a><a id="4379" href="BitML.Contracts.Types.html#2330" class="Field">G</a><a id="4380" class="Symbol">)</a>
<a id="4382" href="Coherence.Helpers.html#4326" class="Function">COMPILE-INIT</a> <a id="4395" class="Symbol">=</a> <a id="4397" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="4403" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="4405" href="Coherence.Helpers.html#4018" class="Function">COMPILE</a>

<a id="COMPILE-SUB"></a><a id="4414" href="Coherence.Helpers.html#4414" class="Function">COMPILE-SUB</a> <a id="4426" class="Symbol">:</a>
  <a id="4430" href="SymbolicModel.Mappings.html#1443" class="Function">𝔾</a> <a id="4432" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a>
  <a id="4437" href="Prelude.InferenceRules.html#13902" class="Function Operator">────────────────────────────</a>
  <a id="4468" href="BitML.Contracts.Subterms.html#647" class="Function">subterms</a> <a id="4477" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="4480" href="Prelude.Lists.Mappings.html#654" class="Function Operator">↦′</a> <a id="4483" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="4492" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="4494" href="Compiler.Subterms.html#622" class="Field Operator">_∗</a>
<a id="4497" href="Coherence.Helpers.html#4414" class="Function">COMPILE-SUB</a> <a id="4509" class="Symbol">=</a> <a id="4511" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="4517" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="4519" href="Coherence.Helpers.html#4018" class="Function">COMPILE</a>

<a id="COMPILE-ANCESTOR"></a><a id="4528" href="Coherence.Helpers.html#4528" class="Function">COMPILE-ANCESTOR</a> <a id="4545" class="Symbol">:</a> <a id="4547" class="Symbol">∀</a> <a id="4549" class="Symbol">{</a><a id="4550" href="Coherence.Helpers.html#4550" class="Bound">i</a> <a id="4552" class="Symbol">:</a> <a id="4554" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="4560" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a><a id="4561" class="Symbol">}</a> <a id="4563" class="Symbol">(</a><a id="4564" class="Keyword">open</a> <a id="4569" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="4577" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a> <a id="4579" href="Coherence.Helpers.html#4550" class="Bound">i</a><a id="4580" class="Symbol">)</a> <a id="4582" class="Symbol">→</a>
  <a id="4586" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="4588" href="SymbolicModel.Run.Base.html#457" class="Generalizable">R</a> <a id="4590" href="SymbolicModel.Run.Base.html#1997" class="Function Operator">≈⋯</a> <a id="4593" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a> <a id="4595" class="InductiveConstructor Operator">at</a> <a id="4598" href="BitML.BasicTypes.html#578" class="Generalizable">t</a>
  <a id="4602" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="4604" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="4606" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a> <a id="4608" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="4610" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="4612" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="4616" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="4618" href="BitML.Semantics.Configurations.Helpers.html#3965" class="Function Operator">∈ᶜ</a> <a id="4621" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a>
  <a id="4625" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="4627" href="SymbolicModel.Mappings.html#872" class="Function">ℝ</a> <a id="4629" href="SymbolicModel.Run.Base.html#457" class="Generalizable">R</a>
    <a id="4635" href="Prelude.InferenceRules.html#13137" class="Function Operator">──────────────────────────────────────────────</a>
    <a id="4686" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="4695" class="Symbol">(</a><a id="4696" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="4698" href="Compiler.Subterms.html#622" class="Field Operator">∗</a><a id="4699" class="Symbol">)</a> <a id="4701" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="4703" class="Symbol">(</a><a id="4704" href="BitML.Contracts.Collections.html#14015" class="Function">authDecorations</a> <a id="4720" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="4722" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="4724" href="Bitcoin.Crypto.html#346" class="Record">KeyPair</a><a id="4731" class="Symbol">)</a>
<a id="4733" href="Coherence.Helpers.html#4528" class="Function">COMPILE-ANCESTOR</a> <a id="4750" class="Symbol">{</a><a id="4751" href="Coherence.Helpers.html#4751" class="Bound">c</a><a id="4752" class="Symbol">}{</a><a id="4754" href="Coherence.Helpers.html#4754" class="Bound">R</a><a id="4755" class="Symbol">}{</a><a id="4757" href="Coherence.Helpers.html#4757" class="Bound">Γ</a><a id="4758" class="Symbol">}{</a><a id="4760" href="Coherence.Helpers.html#4760" class="Bound">t</a><a id="4761" class="Symbol">}{</a><a id="4763" href="Coherence.Helpers.html#4763" class="Bound">v</a><a id="4764" class="Symbol">}{</a><a id="4766" href="Coherence.Helpers.html#4766" class="Bound">x</a><a id="4767" class="Symbol">}{</a><a id="4769" href="Coherence.Helpers.html#4769" class="Bound">i</a><a id="4770" class="Symbol">}</a> <a id="4772" href="Coherence.Helpers.html#4772" class="Bound">R≈</a> <a id="4775" href="Coherence.Helpers.html#4775" class="Bound">c∈</a> <a id="4778" href="Coherence.Helpers.html#4778" class="Bound">𝕣</a> <a id="4780" class="Symbol">=</a>
  <a id="4784" class="Keyword">let</a>
    <a id="4792" class="Comment">-- (ii) {G}C is the ancestor of ⟨C, v⟩ₓ in Rˢ</a>
    <a id="4842" href="Coherence.Helpers.html#4842" class="Bound">⟨G⟩C</a> <a id="4847" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4849" href="Coherence.Helpers.html#4849" class="Bound">vad</a> <a id="4853" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4855" href="Coherence.Helpers.html#4855" class="Bound">ad∈</a> <a id="4859" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4861" href="Coherence.Helpers.html#4861" class="Bound">c⊆</a> <a id="4864" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4866" href="Coherence.Helpers.html#4866" class="Bound">anc</a> <a id="4870" class="Symbol">=</a> <a id="4872" href="SymbolicModel.Properties.html#2191" class="Function">ANCESTOR</a> <a id="4881" class="Symbol">{</a><a id="4882" class="Argument">R</a> <a id="4884" class="Symbol">=</a> <a id="4886" href="Coherence.Helpers.html#4754" class="Bound">R</a><a id="4887" class="Symbol">}</a> <a id="4889" class="Symbol">{</a><a id="4890" class="Argument">Γ</a> <a id="4892" class="Symbol">=</a> <a id="4894" href="Coherence.Helpers.html#4757" class="Bound">Γ</a><a id="4895" class="Symbol">}</a> <a id="4897" href="Coherence.Helpers.html#4772" class="Bound">R≈</a> <a id="4900" href="Coherence.Helpers.html#4775" class="Bound">c∈</a>
    <a id="4907" class="Keyword">open</a> <a id="4912" href="BitML.Contracts.ModuleMacros.html#761" class="Module">∣AD</a> <a id="4916" href="Coherence.Helpers.html#4842" class="Bound">⟨G⟩C</a><a id="4920" class="Symbol">;</a> <a id="4922" class="Keyword">open</a> <a id="4927" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="4935" href="Coherence.Helpers.html#4751" class="Bound">c</a> <a id="4937" href="Coherence.Helpers.html#4769" class="Bound">i</a><a id="4938" class="Symbol">;</a> <a id="4940" class="Keyword">open</a> <a id="4945" href="SymbolicModel.Mappings.html#897" class="Module">ℝ</a> <a id="4947" href="Coherence.Helpers.html#4778" class="Bound">𝕣</a>

    <a id="4954" href="Coherence.Helpers.html#4954" class="Bound">d∈</a> <a id="4957" class="Symbol">:</a> <a id="4959" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="4961" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="4963" href="BitML.Contracts.Subterms.html#647" class="Function">subterms</a> <a id="4972" href="Coherence.Helpers.html#4842" class="Bound">⟨G⟩C</a>
    <a id="4981" href="Coherence.Helpers.html#4954" class="Bound">d∈</a> <a id="4984" class="Symbol">=</a> <a id="4986" href="Coherence.Helpers.html#4861" class="Bound">c⊆</a> <a id="4989" class="Symbol">(</a><a id="4990" href="Data.List.Membership.Propositional.Properties.html#11102" class="Function">L.Mem.∈-lookup</a> <a id="5005" href="Coherence.Helpers.html#4769" class="Bound">i</a><a id="5006" class="Symbol">)</a>

    <a id="5013" href="Coherence.Helpers.html#5013" class="Bound">A∈</a> <a id="5016" class="Symbol">:</a> <a id="5018" href="BitML.Contracts.Collections.html#14015" class="Function">authDecorations</a> <a id="5034" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="5036" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="5038" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a>
    <a id="5048" href="Coherence.Helpers.html#5013" class="Bound">A∈</a> <a id="5051" class="Symbol">=</a> <a id="5053" href="Prelude.Lists.Dec.html#4157" class="Function">∈-nub⁺</a> <a id="5060" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="5062" href="BitML.Contracts.Subterms.html#9999" class="Function">subterms-part⊆ᵃ</a> <a id="5078" href="Coherence.Helpers.html#4849" class="Bound">vad</a> <a id="5082" href="Coherence.Helpers.html#4954" class="Bound">d∈</a> <a id="5085" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="5087" href="BitML.Contracts.Collections.html#14174" class="Function">auth⊆part</a> <a id="5097" class="Symbol">{</a><a id="5098" class="Argument">d</a> <a id="5100" class="Symbol">=</a> <a id="5102" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a><a id="5103" class="Symbol">}</a>

    <a id="5110" class="Symbol">_</a> <a id="5112" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5114" href="Coherence.Helpers.html#5114" class="Bound">∀d∗</a> <a id="5118" class="Symbol">=</a> <a id="5120" href="Coherence.Helpers.html#4018" class="Function">COMPILE</a> <a id="5128" class="Symbol">(</a><a id="5129" href="Coherence.Helpers.html#3089" class="Function">LIFTᶜ</a> <a id="5135" href="Coherence.Helpers.html#4778" class="Bound">𝕣</a> <a id="5137" href="Coherence.Helpers.html#4866" class="Bound">anc</a><a id="5140" class="Symbol">)</a>
  <a id="5144" class="Keyword">in</a>
    <a id="5151" href="Coherence.Helpers.html#5114" class="Bound">∀d∗</a> <a id="5155" href="Coherence.Helpers.html#4954" class="Bound">d∈</a> <a id="5158" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5160" href="SymbolicModel.Mappings.html#986" class="Field">κ′</a> <a id="5163" href="Coherence.Helpers.html#4855" class="Bound">ad∈</a> <a id="5167" href="Coherence.Helpers.html#4954" class="Bound">d∈</a> <a id="5170" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="5172" href="Coherence.Helpers.html#5013" class="Bound">A∈</a>
</pre></body></html>