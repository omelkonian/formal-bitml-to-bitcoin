<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>BitML.Contracts.Types</title><link rel="stylesheet" href="css/Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- BitML datatypes: Contracts &amp; Advertisements</a>
<a id="121" class="Comment">------------------------------------------------------------------------</a>

<a id="195" class="Keyword">open</a> <a id="200" class="Keyword">import</a> <a id="207" href="Data.Product.html" class="Module">Data.Product</a> <a id="220" class="Keyword">using</a> <a id="226" class="Symbol">(</a><a id="227" href="Data.Product.html#1167" class="Function Operator">_×_</a><a id="230" class="Symbol">;</a> <a id="232" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a><a id="235" class="Symbol">;</a> <a id="237" href="Data.Product.html#916" class="Function">Σ-syntax</a><a id="245" class="Symbol">;</a> <a id="247" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a><a id="252" class="Symbol">;</a> <a id="254" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a><a id="259" class="Symbol">)</a>
<a id="261" class="Keyword">open</a> <a id="266" class="Keyword">import</a> <a id="273" href="Data.Nat.html" class="Module">Data.Nat</a>     <a id="286" class="Keyword">using</a> <a id="292" class="Symbol">(</a><a id="293" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="294" class="Symbol">;</a> <a id="296" href="Data.Nat.Base.html#1111" class="Function Operator">_&gt;_</a><a id="299" class="Symbol">)</a>
<a id="301" class="Keyword">open</a> <a id="306" class="Keyword">import</a> <a id="313" href="Data.List.html" class="Module">Data.List</a>    <a id="326" class="Keyword">using</a> <a id="332" class="Symbol">(</a><a id="333" href="Agda.Builtin.List.html#148" class="Datatype">List</a><a id="337" class="Symbol">;</a> <a id="339" href="Data.List.Base.html#9701" class="InductiveConstructor">[]</a><a id="341" class="Symbol">;</a> <a id="343" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="346" class="Symbol">;</a> <a id="348" href="Data.List.Base.html#4458" class="Function Operator">[_]</a><a id="351" class="Symbol">;</a> <a id="353" href="Data.List.Base.html#4297" class="Function">length</a><a id="359" class="Symbol">;</a> <a id="361" href="Data.List.Base.html#1763" class="Function Operator">_++_</a><a id="365" class="Symbol">;</a> <a id="367" href="Data.List.Base.html#1497" class="Function">map</a><a id="370" class="Symbol">;</a> <a id="372" href="Data.List.Base.html#3883" class="Function">concatMap</a><a id="381" class="Symbol">)</a>

<a id="384" class="Keyword">open</a> <a id="389" class="Keyword">import</a> <a id="396" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="412" class="Keyword">using</a> <a id="418" class="Symbol">(</a><a id="419" href="Relation.Binary.Definitions.html#4575" class="Function">Decidable</a><a id="428" class="Symbol">)</a>

<a id="431" class="Keyword">open</a> <a id="436" class="Keyword">import</a> <a id="443" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="481" class="Keyword">using</a> <a id="487" class="Symbol">(</a><a id="488" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="491" class="Symbol">;</a> <a id="493" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="497" class="Symbol">)</a>

<a id="500" class="Keyword">open</a> <a id="505" class="Keyword">import</a> <a id="512" href="Prelude.Lists.html" class="Module">Prelude.Lists</a>
<a id="526" class="Keyword">import</a> <a id="533" href="Prelude.Set%2527.html" class="Module">Prelude.Set&#39;</a> <a id="546" class="Symbol">as</a> <a id="549" class="Module">SET</a>

<a id="554" class="Keyword">open</a> <a id="559" class="Keyword">import</a> <a id="566" href="BitML.BasicTypes.html" class="Module">BitML.BasicTypes</a>
<a id="583" class="Keyword">open</a> <a id="588" class="Keyword">import</a> <a id="595" href="BitML.Predicate.Base.html" class="Module">BitML.Predicate.Base</a>

<a id="617" class="Keyword">module</a> <a id="624" href="BitML.Contracts.Types.html" class="Module">BitML.Contracts.Types</a>
  <a id="648" class="Symbol">(</a><a id="649" href="BitML.Contracts.Types.html#649" class="Bound">Participant</a> <a id="661" class="Symbol">:</a> <a id="663" class="PrimitiveType">Set</a><a id="666" class="Symbol">)</a>
  <a id="670" class="Symbol">(</a><a id="671" href="BitML.Contracts.Types.html#671" class="Bound Operator">_≟ₚ_</a> <a id="676" class="Symbol">:</a> <a id="678" href="Relation.Binary.Definitions.html#4575" class="Function">Decidable</a> <a id="688" class="Symbol">{</a><a id="689" class="Argument">A</a> <a id="691" class="Symbol">=</a> <a id="693" href="BitML.Contracts.Types.html#649" class="Bound">Participant</a><a id="704" class="Symbol">}</a> <a id="706" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="709" class="Symbol">)</a>
  <a id="713" class="Symbol">(</a><a id="714" href="BitML.Contracts.Types.html#714" class="Bound">Honest</a> <a id="721" class="Symbol">:</a> <a id="723" href="Data.Product.html#916" class="Function">Σ[</a> <a id="726" href="BitML.Contracts.Types.html#726" class="Bound">ps</a> <a id="729" href="Data.Product.html#916" class="Function">∈</a> <a id="731" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="736" href="BitML.Contracts.Types.html#649" class="Bound">Participant</a> <a id="748" href="Data.Product.html#916" class="Function">]</a> <a id="750" class="Symbol">(</a><a id="751" href="Data.List.Base.html#4297" class="Function">length</a> <a id="758" href="BitML.Contracts.Types.html#726" class="Bound">ps</a> <a id="761" href="Data.Nat.Base.html#1111" class="Function Operator">&gt;</a> <a id="763" class="Number">0</a><a id="764" class="Symbol">))</a>
  <a id="769" class="Keyword">where</a>

<a id="Hon"></a><a id="776" href="BitML.Contracts.Types.html#776" class="Function">Hon</a> <a id="780" class="Symbol">=</a> <a id="782" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="788" href="BitML.Contracts.Types.html#714" class="Bound">Honest</a>

<a id="796" class="Comment">-- Sets of participants</a>
<a id="820" class="Keyword">module</a> <a id="SETₚ"></a><a id="827" href="BitML.Contracts.Types.html#827" class="Module">SETₚ</a> <a id="832" class="Symbol">=</a> <a id="834" href="Prelude.Set%2527.html" class="Module">SET</a> <a id="838" class="Symbol">{</a><a id="839" class="Argument">A</a> <a id="841" class="Symbol">=</a> <a id="843" href="BitML.Contracts.Types.html#649" class="Bound">Participant</a><a id="854" class="Symbol">}</a> <a id="856" href="BitML.Contracts.Types.html#671" class="Bound Operator">_≟ₚ_</a>

<a id="Set⟨Participant⟩"></a><a id="862" href="BitML.Contracts.Types.html#862" class="Function">Set⟨Participant⟩</a> <a id="879" class="Symbol">:</a> <a id="881" class="PrimitiveType">Set</a>
<a id="885" href="BitML.Contracts.Types.html#862" class="Function">Set⟨Participant⟩</a> <a id="902" class="Symbol">=</a> <a id="904" href="Prelude.Set%2527.html#3972" class="Record">Set&#39;</a> <a id="909" class="Keyword">where</a> <a id="915" class="Keyword">open</a> <a id="920" href="BitML.Contracts.Types.html#827" class="Module">SETₚ</a>

<a id="926" class="Keyword">variable</a>
  <a id="937" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="939" href="BitML.Contracts.Types.html#939" class="Generalizable">B</a> <a id="941" class="Symbol">:</a> <a id="943" href="BitML.Contracts.Types.html#649" class="Bound">Participant</a>

<a id="956" class="Comment">------------------------------------------------------------------------</a>
<a id="1029" class="Comment">-- Contracts</a>

<a id="1043" class="Keyword">data</a> <a id="Contract"></a><a id="1048" href="BitML.Contracts.Types.html#1048" class="Datatype">Contract</a> <a id="1057" class="Symbol">:</a> <a id="1059" class="PrimitiveType">Set</a>
<a id="Contracts"></a><a id="1063" href="BitML.Contracts.Types.html#1063" class="Function">Contracts</a> <a id="1073" class="Symbol">=</a> <a id="1075" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1080" href="BitML.Contracts.Types.html#1048" class="Datatype">Contract</a>

<a id="1090" class="Keyword">data</a> <a id="1095" href="BitML.Contracts.Types.html#1048" class="Datatype">Contract</a> <a id="1104" class="Keyword">where</a>

  <a id="1113" class="Comment">-- collect deposits and secrets</a>
  <a id="Contract.put_&amp;reveal_if_⇒_"></a><a id="1147" href="BitML.Contracts.Types.html#1147" class="InductiveConstructor Operator">put_&amp;reveal_if_⇒_</a> <a id="1165" class="Symbol">:</a> <a id="1167" href="BitML.BasicTypes.html#691" class="Function">Ids</a> <a id="1171" class="Symbol">→</a> <a id="1173" href="BitML.BasicTypes.html#655" class="Function">Secrets</a> <a id="1181" class="Symbol">→</a> <a id="1183" href="BitML.Predicate.Base.html#594" class="Datatype">Predicate</a> <a id="1193" class="Symbol">→</a> <a id="1195" href="BitML.Contracts.Types.html#1063" class="Function">Contracts</a> <a id="1205" class="Symbol">→</a> <a id="1207" href="BitML.Contracts.Types.html#1048" class="Datatype">Contract</a>

  <a id="1219" class="Comment">-- transfer the balance to a participant</a>
  <a id="Contract.withdraw"></a><a id="1262" href="BitML.Contracts.Types.html#1262" class="InductiveConstructor">withdraw</a> <a id="1271" class="Symbol">:</a> <a id="1273" href="BitML.Contracts.Types.html#649" class="Bound">Participant</a> <a id="1285" class="Symbol">→</a> <a id="1287" href="BitML.Contracts.Types.html#1048" class="Datatype">Contract</a>

  <a id="1299" class="Comment">-- split the balance</a>
  <a id="Contract.split"></a><a id="1322" href="BitML.Contracts.Types.html#1322" class="InductiveConstructor">split</a> <a id="1328" class="Symbol">:</a> <a id="1330" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1335" class="Symbol">(</a><a id="1336" href="BitML.BasicTypes.html#606" class="Function">Value</a> <a id="1342" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1344" href="BitML.Contracts.Types.html#1063" class="Function">Contracts</a><a id="1353" class="Symbol">)</a> <a id="1355" class="Symbol">→</a> <a id="1357" href="BitML.Contracts.Types.html#1048" class="Datatype">Contract</a>

  <a id="1369" class="Comment">-- wait for participant&#39;s authorization</a>
  <a id="Contract._⇒_"></a><a id="1411" href="BitML.Contracts.Types.html#1411" class="InductiveConstructor Operator">_⇒_</a> <a id="1415" class="Symbol">:</a> <a id="1417" href="BitML.Contracts.Types.html#649" class="Bound">Participant</a> <a id="1429" class="Symbol">→</a> <a id="1431" href="BitML.Contracts.Types.html#1048" class="Datatype">Contract</a> <a id="1440" class="Symbol">→</a> <a id="1442" href="BitML.Contracts.Types.html#1048" class="Datatype">Contract</a>

  <a id="1454" class="Comment">-- wait of a period of time</a>
  <a id="Contract.after_⇒_"></a><a id="1484" href="BitML.Contracts.Types.html#1484" class="InductiveConstructor Operator">after_⇒_</a> <a id="1493" class="Symbol">:</a> <a id="1495" href="BitML.BasicTypes.html#759" class="Function">Time</a> <a id="1500" class="Symbol">→</a> <a id="1502" href="BitML.Contracts.Types.html#1048" class="Datatype">Contract</a> <a id="1511" class="Symbol">→</a> <a id="1513" href="BitML.Contracts.Types.html#1048" class="Datatype">Contract</a>

<a id="1523" class="Keyword">variable</a>
  <a id="1534" href="BitML.Contracts.Types.html#1534" class="Generalizable">d</a> <a id="1536" href="BitML.Contracts.Types.html#1536" class="Generalizable">d′</a> <a id="1539" class="Symbol">:</a> <a id="1541" href="BitML.Contracts.Types.html#1048" class="Datatype">Contract</a>
  <a id="1552" href="BitML.Contracts.Types.html#1552" class="Generalizable">ds</a> <a id="1555" href="BitML.Contracts.Types.html#1555" class="Generalizable">ds′</a> <a id="1559" href="BitML.Contracts.Types.html#1559" class="Generalizable">c</a> <a id="1561" href="BitML.Contracts.Types.html#1561" class="Generalizable">c′</a> <a id="1564" class="Symbol">:</a> <a id="1566" href="BitML.Contracts.Types.html#1063" class="Function">Contracts</a>
  <a id="1578" href="BitML.Contracts.Types.html#1578" class="Generalizable">vcs</a> <a id="1582" href="BitML.Contracts.Types.html#1582" class="Generalizable">vcs′</a> <a id="1587" class="Symbol">:</a> <a id="1589" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1594" class="Symbol">(</a><a id="1595" href="BitML.BasicTypes.html#606" class="Function">Value</a> <a id="1601" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1603" href="BitML.Contracts.Types.html#1063" class="Function">Contracts</a><a id="1612" class="Symbol">)</a>

<a id="_⊕_"></a><a id="1615" href="BitML.Contracts.Types.html#1615" class="Function Operator">_⊕_</a> <a id="1619" class="Symbol">:</a> <a id="1621" class="Symbol">∀</a> <a id="1623" class="Symbol">{</a><a id="1624" href="BitML.Contracts.Types.html#1624" class="Bound">A</a> <a id="1626" class="Symbol">:</a> <a id="1628" class="PrimitiveType">Set</a><a id="1631" class="Symbol">}</a> <a id="1633" class="Symbol">→</a> <a id="1635" href="BitML.Contracts.Types.html#1624" class="Bound">A</a> <a id="1637" class="Symbol">→</a> <a id="1639" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1644" href="BitML.Contracts.Types.html#1624" class="Bound">A</a> <a id="1646" class="Symbol">→</a> <a id="1648" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1653" href="BitML.Contracts.Types.html#1624" class="Bound">A</a>
<a id="1655" href="BitML.Contracts.Types.html#1615" class="Function Operator">_⊕_</a> <a id="1659" class="Symbol">=</a> <a id="1661" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a>

<a id="_∙"></a><a id="1666" href="BitML.Contracts.Types.html#1666" class="Function Operator">_∙</a> <a id="1669" class="Symbol">:</a> <a id="1671" class="Symbol">∀</a> <a id="1673" class="Symbol">{</a><a id="1674" href="BitML.Contracts.Types.html#1674" class="Bound">A</a> <a id="1676" class="Symbol">:</a> <a id="1678" class="PrimitiveType">Set</a><a id="1681" class="Symbol">}</a> <a id="1683" class="Symbol">→</a> <a id="1685" href="BitML.Contracts.Types.html#1674" class="Bound">A</a> <a id="1687" class="Symbol">→</a> <a id="1689" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1694" href="BitML.Contracts.Types.html#1674" class="Bound">A</a>
<a id="1696" href="BitML.Contracts.Types.html#1666" class="Function Operator">_∙</a> <a id="1699" class="Symbol">=</a> <a id="1701" href="Data.List.Base.html#4458" class="Function Operator">[_]</a>

<a id="_⊸_"></a><a id="1706" href="BitML.Contracts.Types.html#1706" class="Function Operator">_⊸_</a> <a id="1710" class="Symbol">:</a> <a id="1712" href="BitML.BasicTypes.html#606" class="Function">Value</a> <a id="1718" class="Symbol">→</a> <a id="1720" href="BitML.Contracts.Types.html#1063" class="Function">Contracts</a> <a id="1730" class="Symbol">→</a> <a id="1732" href="BitML.BasicTypes.html#606" class="Function">Value</a> <a id="1738" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1740" href="BitML.Contracts.Types.html#1063" class="Function">Contracts</a>
<a id="1750" href="BitML.Contracts.Types.html#1706" class="Function Operator">_⊸_</a> <a id="1754" class="Symbol">=</a> <a id="1756" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a>

<a id="1761" class="Keyword">pattern</a> <a id="put_&amp;reveal_⇒_"></a><a id="1769" href="BitML.Contracts.Types.html#1769" class="InductiveConstructor Operator">put_&amp;reveal_⇒_</a> <a id="1784" href="BitML.Contracts.Types.html#1798" class="Bound">xs</a> <a id="1787" href="BitML.Contracts.Types.html#1809" class="Bound">as</a> <a id="1790" href="BitML.Contracts.Types.html#1823" class="Bound">c</a> <a id="1792" class="Symbol">=</a> <a id="1794" href="BitML.Contracts.Types.html#1147" class="InductiveConstructor Operator">put</a> <a id="1798" href="BitML.Contracts.Types.html#1798" class="Bound">xs</a> <a id="1801" href="BitML.Contracts.Types.html#1147" class="InductiveConstructor Operator">&amp;reveal</a> <a id="1809" href="BitML.Contracts.Types.html#1809" class="Bound">as</a> <a id="1812" href="BitML.Contracts.Types.html#1147" class="InductiveConstructor Operator">if</a> <a id="1815" href="BitML.Predicate.Base.html#618" class="InductiveConstructor">`true</a> <a id="1821" href="BitML.Contracts.Types.html#1147" class="InductiveConstructor Operator">⇒</a> <a id="1823" href="BitML.Contracts.Types.html#1823" class="Bound">c</a>
<a id="1825" class="Keyword">pattern</a> <a id="put_⇒_"></a><a id="1833" href="BitML.Contracts.Types.html#1833" class="InductiveConstructor Operator">put_⇒_</a> <a id="1840" href="BitML.Contracts.Types.html#1862" class="Bound">xs</a> <a id="1843" href="BitML.Contracts.Types.html#1878" class="Bound">c</a>            <a id="1856" class="Symbol">=</a> <a id="1858" href="BitML.Contracts.Types.html#1769" class="InductiveConstructor Operator">put</a> <a id="1862" href="BitML.Contracts.Types.html#1862" class="Bound">xs</a> <a id="1865" href="BitML.Contracts.Types.html#1769" class="InductiveConstructor Operator">&amp;reveal</a> <a id="1873" class="InductiveConstructor">[]</a> <a id="1876" href="BitML.Contracts.Types.html#1769" class="InductiveConstructor Operator">⇒</a> <a id="1878" href="BitML.Contracts.Types.html#1878" class="Bound">c</a>
<a id="1880" class="Keyword">pattern</a> <a id="reveal_⇒_"></a><a id="1888" href="BitML.Contracts.Types.html#1888" class="InductiveConstructor Operator">reveal_⇒_</a> <a id="1898" href="BitML.Contracts.Types.html#1928" class="Bound">as</a> <a id="1901" href="BitML.Contracts.Types.html#1933" class="Bound">c</a>         <a id="1911" class="Symbol">=</a> <a id="1913" href="BitML.Contracts.Types.html#1769" class="InductiveConstructor Operator">put</a> <a id="1917" class="InductiveConstructor">[]</a> <a id="1920" href="BitML.Contracts.Types.html#1769" class="InductiveConstructor Operator">&amp;reveal</a> <a id="1928" href="BitML.Contracts.Types.html#1928" class="Bound">as</a> <a id="1931" href="BitML.Contracts.Types.html#1769" class="InductiveConstructor Operator">⇒</a> <a id="1933" href="BitML.Contracts.Types.html#1933" class="Bound">c</a>

<a id="1936" class="Comment">-------------------------------------------------------------------</a>
<a id="2004" class="Comment">-- Contract preconditions.</a>

<a id="2032" class="Keyword">data</a> <a id="Precondition"></a><a id="2037" href="BitML.Contracts.Types.html#2037" class="Datatype">Precondition</a> <a id="2050" class="Symbol">:</a> <a id="2052" class="PrimitiveType">Set</a> <a id="2056" class="Keyword">where</a>

  <a id="2065" class="Comment">-- volatile deposit</a>
  <a id="Precondition._:?_at_"></a><a id="2087" href="BitML.Contracts.Types.html#2087" class="InductiveConstructor Operator">_:?_at_</a> <a id="2095" class="Symbol">:</a> <a id="2097" href="BitML.Contracts.Types.html#649" class="Bound">Participant</a> <a id="2109" class="Symbol">→</a> <a id="2111" href="BitML.BasicTypes.html#606" class="Function">Value</a> <a id="2117" class="Symbol">→</a> <a id="2119" href="BitML.BasicTypes.html#678" class="Function">Id</a> <a id="2122" class="Symbol">→</a> <a id="2124" href="BitML.Contracts.Types.html#2037" class="Datatype">Precondition</a>

  <a id="2140" class="Comment">-- persistent deposit</a>
  <a id="Precondition._:!_at_"></a><a id="2164" href="BitML.Contracts.Types.html#2164" class="InductiveConstructor Operator">_:!_at_</a> <a id="2172" class="Symbol">:</a> <a id="2174" href="BitML.Contracts.Types.html#649" class="Bound">Participant</a> <a id="2186" class="Symbol">→</a> <a id="2188" href="BitML.BasicTypes.html#606" class="Function">Value</a> <a id="2194" class="Symbol">→</a> <a id="2196" href="BitML.BasicTypes.html#678" class="Function">Id</a> <a id="2199" class="Symbol">→</a> <a id="2201" href="BitML.Contracts.Types.html#2037" class="Datatype">Precondition</a>

  <a id="2217" class="Comment">-- committed secret (random nonce) by &lt;Participant&gt;</a>
  <a id="Precondition._:secret_"></a><a id="2271" href="BitML.Contracts.Types.html#2271" class="InductiveConstructor Operator">_:secret_</a> <a id="2281" class="Symbol">:</a> <a id="2283" href="BitML.Contracts.Types.html#649" class="Bound">Participant</a> <a id="2295" class="Symbol">→</a> <a id="2297" href="BitML.BasicTypes.html#638" class="Function">Secret</a> <a id="2304" class="Symbol">→</a> <a id="2306" href="BitML.Contracts.Types.html#2037" class="Datatype">Precondition</a>

  <a id="2322" class="Comment">-- composition</a>
  <a id="Precondition._∣∣_"></a><a id="2339" href="BitML.Contracts.Types.html#2339" class="InductiveConstructor Operator">_∣∣_</a> <a id="2344" class="Symbol">:</a> <a id="2346" href="BitML.Contracts.Types.html#2037" class="Datatype">Precondition</a> <a id="2359" class="Symbol">→</a> <a id="2361" href="BitML.Contracts.Types.html#2037" class="Datatype">Precondition</a> <a id="2374" class="Symbol">→</a> <a id="2376" href="BitML.Contracts.Types.html#2037" class="Datatype">Precondition</a>

<a id="2390" class="Keyword">variable</a>
  <a id="2401" href="BitML.Contracts.Types.html#2401" class="Generalizable">g</a> <a id="2403" href="BitML.Contracts.Types.html#2403" class="Generalizable">g′</a> <a id="2406" class="Symbol">:</a> <a id="2408" href="BitML.Contracts.Types.html#2037" class="Datatype">Precondition</a>

<a id="2422" class="Comment">------------------------------------------------------------------------</a>
<a id="2495" class="Comment">-- Advertisements.</a>

<a id="2515" class="Keyword">record</a> <a id="Advertisement"></a><a id="2522" href="BitML.Contracts.Types.html#2522" class="Record">Advertisement</a> <a id="2536" class="Symbol">:</a> <a id="2538" class="PrimitiveType">Set</a> <a id="2542" class="Keyword">where</a>
  <a id="2550" class="Keyword">constructor</a> <a id="⟨_⟩_"></a><a id="2562" href="BitML.Contracts.Types.html#2562" class="InductiveConstructor Operator">⟨_⟩_</a>

  <a id="2570" class="Keyword">field</a>
    <a id="Advertisement.G"></a><a id="2580" href="BitML.Contracts.Types.html#2580" class="Field">G</a> <a id="2582" class="Symbol">:</a> <a id="2584" href="BitML.Contracts.Types.html#2037" class="Datatype">Precondition</a>
    <a id="Advertisement.C"></a><a id="2601" href="BitML.Contracts.Types.html#2601" class="Field">C</a> <a id="2603" class="Symbol">:</a> <a id="2605" href="BitML.Contracts.Types.html#1063" class="Function">Contracts</a>

<a id="2616" class="Keyword">open</a> <a id="2621" href="BitML.Contracts.Types.html#2522" class="Module">Advertisement</a> <a id="2635" class="Keyword">public</a>
<a id="2642" class="Keyword">variable</a> <a id="2651" href="BitML.Contracts.Types.html#2651" class="Generalizable">ad</a> <a id="2654" href="BitML.Contracts.Types.html#2654" class="Generalizable">ad′</a> <a id="2658" class="Symbol">:</a> <a id="2660" href="BitML.Contracts.Types.html#2522" class="Record">Advertisement</a>

<a id="2675" class="Keyword">infix</a>  <a id="2682" class="Number">2</a> <a id="2684" href="BitML.Contracts.Types.html#2562" class="InductiveConstructor Operator">⟨_⟩_</a>

<a id="2690" class="Keyword">infix</a>  <a id="2697" class="Number">5</a> <a id="2699" href="BitML.Contracts.Types.html#2087" class="InductiveConstructor Operator">_:?_at_</a>
<a id="2707" class="Keyword">infix</a>  <a id="2714" class="Number">5</a> <a id="2716" href="BitML.Contracts.Types.html#2164" class="InductiveConstructor Operator">_:!_at_</a>
<a id="2724" class="Keyword">infix</a>  <a id="2731" class="Number">5</a> <a id="2733" href="BitML.Contracts.Types.html#2271" class="InductiveConstructor Operator">_:secret_</a>
<a id="2743" class="Keyword">infixl</a> <a id="2750" class="Number">2</a> <a id="2752" href="BitML.Contracts.Types.html#2339" class="InductiveConstructor Operator">_∣∣_</a>

<a id="2758" class="Keyword">infixr</a> <a id="2765" class="Number">9</a> <a id="2767" href="BitML.Contracts.Types.html#1411" class="InductiveConstructor Operator">_⇒_</a>
<a id="2771" class="Keyword">infix</a>  <a id="2778" class="Number">8</a> <a id="2780" href="BitML.Contracts.Types.html#1147" class="InductiveConstructor Operator">put_&amp;reveal_if_⇒_</a>
<a id="2798" class="Keyword">infix</a>  <a id="2805" class="Number">8</a> <a id="2807" href="BitML.Contracts.Types.html#1769" class="InductiveConstructor Operator">put_&amp;reveal_⇒_</a>
<a id="2822" class="Keyword">infix</a>  <a id="2829" class="Number">8</a> <a id="2831" href="BitML.Contracts.Types.html#1833" class="InductiveConstructor Operator">put_⇒_</a>
<a id="2838" class="Keyword">infix</a>  <a id="2845" class="Number">8</a> <a id="2847" href="BitML.Contracts.Types.html#1888" class="InductiveConstructor Operator">reveal_⇒_</a>
<a id="2857" class="Keyword">infix</a>  <a id="2864" class="Number">7</a> <a id="2866" href="BitML.Contracts.Types.html#1706" class="Function Operator">_⊸_</a>
<a id="2870" class="Keyword">infix</a>  <a id="2877" class="Number">6</a> <a id="2879" href="BitML.Contracts.Types.html#1666" class="Function Operator">_∙</a>
<a id="2882" class="Keyword">infixr</a> <a id="2889" class="Number">5</a> <a id="2891" href="BitML.Contracts.Types.html#1615" class="Function Operator">_⊕_</a>

<a id="DepositRef"></a><a id="2896" href="BitML.Contracts.Types.html#2896" class="Function">DepositRef</a> <a id="2907" class="Symbol">:</a> <a id="2909" class="PrimitiveType">Set</a>
<a id="2913" href="BitML.Contracts.Types.html#2896" class="Function">DepositRef</a> <a id="2924" class="Symbol">=</a> <a id="2926" href="BitML.Contracts.Types.html#649" class="Bound">Participant</a> <a id="2938" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="2940" href="BitML.BasicTypes.html#606" class="Function">Value</a> <a id="2946" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="2948" href="BitML.BasicTypes.html#678" class="Function">Id</a>
</pre></body></html>