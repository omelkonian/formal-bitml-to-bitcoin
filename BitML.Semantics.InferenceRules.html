<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>BitML.Semantics.InferenceRules</title><link rel="stylesheet" href="css/Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- Small-step semantics for the BitML calculus.</a>
<a id="122" class="Comment">------------------------------------------------------------------------</a>

<a id="196" class="Keyword">open</a> <a id="201" class="Keyword">import</a> <a id="208" href="Function.html" class="Module">Function</a> <a id="217" class="Keyword">using</a> <a id="223" class="Symbol">(</a><a id="224" href="Function.Base.html#992" class="Function Operator">_∘_</a><a id="227" class="Symbol">)</a>

<a id="230" class="Keyword">open</a> <a id="235" class="Keyword">import</a> <a id="242" href="Data.Bool.html" class="Module">Data.Bool</a>    <a id="255" class="Keyword">using</a> <a id="261" class="Symbol">(</a><a id="262" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="266" class="Symbol">)</a>
<a id="268" class="Keyword">open</a> <a id="273" class="Keyword">import</a> <a id="280" href="Data.Product.html" class="Module">Data.Product</a> <a id="293" class="Keyword">using</a> <a id="299" class="Symbol">(</a><a id="300" href="Data.Product.html#916" class="Function">Σ-syntax</a><a id="308" class="Symbol">;</a> <a id="310" href="Data.Product.html#1167" class="Function Operator">_×_</a><a id="313" class="Symbol">;</a> <a id="315" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a><a id="318" class="Symbol">;</a> <a id="320" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a><a id="325" class="Symbol">;</a> <a id="327" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a><a id="332" class="Symbol">)</a>
<a id="334" class="Keyword">open</a> <a id="339" class="Keyword">import</a> <a id="346" href="Data.Nat.html" class="Module">Data.Nat</a>     <a id="359" class="Keyword">using</a> <a id="365" class="Symbol">(</a><a id="366" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="367" class="Symbol">;</a> <a id="369" href="Data.Nat.Base.html#1111" class="Function Operator">_&gt;_</a><a id="372" class="Symbol">;</a> <a id="374" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a><a id="377" class="Symbol">;</a> <a id="379" href="Data.Nat.Base.html#937" class="Datatype Operator">_≤_</a><a id="382" class="Symbol">)</a>
<a id="384" class="Keyword">open</a> <a id="389" class="Keyword">import</a> <a id="396" href="Data.Maybe.html" class="Module">Data.Maybe</a>   <a id="409" class="Keyword">using</a> <a id="415" class="Symbol">(</a><a id="416" href="Data.Maybe.Base.html#838" class="Datatype">Maybe</a><a id="421" class="Symbol">;</a> <a id="423" href="Data.Maybe.html#801" class="Function">Is-just</a><a id="430" class="Symbol">;</a> <a id="432" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a><a id="436" class="Symbol">;</a> <a id="438" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a><a id="445" class="Symbol">)</a>
<a id="447" class="Keyword">open</a> <a id="452" class="Keyword">import</a> <a id="459" href="Data.List.html" class="Module">Data.List</a>    <a id="472" class="Keyword">using</a> <a id="478" class="Symbol">(</a><a id="479" href="Agda.Builtin.List.html#148" class="Datatype">List</a><a id="483" class="Symbol">;</a> <a id="485" href="Data.List.Base.html#9701" class="InductiveConstructor">[]</a><a id="487" class="Symbol">;</a> <a id="489" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="492" class="Symbol">;</a> <a id="494" href="Data.List.Base.html#4458" class="Function Operator">[_]</a><a id="497" class="Symbol">;</a> <a id="499" href="Data.List.Base.html#1763" class="Function Operator">_++_</a><a id="503" class="Symbol">;</a> <a id="505" href="Data.List.Base.html#1497" class="Function">map</a><a id="508" class="Symbol">;</a> <a id="510" href="Data.List.Base.html#4297" class="Function">length</a><a id="516" class="Symbol">;</a> <a id="518" href="Data.List.Base.html#3243" class="Function">zip</a><a id="521" class="Symbol">;</a> <a id="523" href="Data.List.Base.html#3372" class="Function">unzip</a><a id="528" class="Symbol">;</a> <a id="530" href="Data.List.Base.html#4217" class="Function">sum</a><a id="533" class="Symbol">)</a>

<a id="536" class="Keyword">open</a> <a id="541" class="Keyword">import</a> <a id="548" href="Data.List.Membership.Propositional.html" class="Module">Data.List.Membership.Propositional</a> <a id="583" class="Keyword">using</a> <a id="589" class="Symbol">(</a><a id="590" href="Data.List.Membership.Setoid.html#882" class="Function Operator">_∈_</a><a id="593" class="Symbol">;</a> <a id="595" href="Data.List.Membership.Setoid.html#931" class="Function Operator">_∉_</a><a id="598" class="Symbol">)</a>
<a id="600" class="Keyword">open</a> <a id="605" class="Keyword">import</a> <a id="612" href="Data.List.Relation.Unary.All.html" class="Module">Data.List.Relation.Unary.All</a>       <a id="647" class="Keyword">using</a> <a id="653" class="Symbol">(</a><a id="654" href="Data.List.Relation.Unary.All.html#1274" class="Datatype">All</a><a id="657" class="Symbol">)</a>
<a id="659" class="Keyword">open</a> <a id="664" class="Keyword">import</a> <a id="671" href="Data.List.Relation.Unary.Any.html" class="Module">Data.List.Relation.Unary.Any</a>       <a id="706" class="Keyword">using</a> <a id="712" class="Symbol">(</a><a id="713" href="Data.List.Relation.Unary.Any.html#1111" class="Datatype">Any</a><a id="716" class="Symbol">)</a>
<a id="718" class="Keyword">open</a> <a id="723" class="Keyword">import</a> <a id="730" href="Data.List.Relation.Binary.Permutation.Propositional.html" class="Module">Data.List.Relation.Binary.Permutation.Propositional</a> <a id="782" class="Keyword">using</a> <a id="788" class="Symbol">(</a><a id="789" href="Data.List.Relation.Binary.Permutation.Propositional.html#1041" class="Datatype Operator">_↭_</a><a id="792" class="Symbol">)</a>

<a id="795" class="Keyword">open</a> <a id="800" class="Keyword">import</a> <a id="807" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="834" class="Keyword">using</a> <a id="840" class="Symbol">(</a><a id="841" href="Relation.Nullary.Decidable.Core.html#1365" class="Function">True</a><a id="845" class="Symbol">)</a>
<a id="847" class="Keyword">open</a> <a id="852" class="Keyword">import</a> <a id="859" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="875" class="Keyword">using</a> <a id="881" class="Symbol">(</a><a id="882" href="Relation.Binary.Definitions.html#4575" class="Function">Decidable</a><a id="891" class="Symbol">)</a>
<a id="893" class="Keyword">open</a> <a id="898" class="Keyword">import</a> <a id="905" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="943" class="Keyword">using</a> <a id="949" class="Symbol">(</a><a id="950" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="953" class="Symbol">;</a> <a id="955" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="959" class="Symbol">)</a>

<a id="962" class="Keyword">open</a> <a id="967" class="Keyword">import</a> <a id="974" href="Prelude.Lists.html" class="Module">Prelude.Lists</a>

<a id="989" class="Keyword">open</a> <a id="994" class="Keyword">import</a> <a id="1001" href="BitML.BasicTypes.html" class="Module">BitML.BasicTypes</a>
<a id="1018" class="Keyword">open</a> <a id="1023" class="Keyword">import</a> <a id="1030" href="BitML.Predicate.Base.html" class="Module">BitML.Predicate.Base</a> <a id="1051" class="Keyword">hiding</a> <a id="1058" class="Symbol">(</a><a id="1059" href="BitML.Predicate.Base.html#485" class="InductiveConstructor">`</a><a id="1060" class="Symbol">;</a> <a id="1062" href="BitML.Predicate.Base.html#504" class="InductiveConstructor Operator">∣_∣</a><a id="1065" class="Symbol">)</a>

<a id="1068" class="Keyword">module</a> <a id="1075" href="BitML.Semantics.InferenceRules.html" class="Module">BitML.Semantics.InferenceRules</a>
  <a id="1108" class="Symbol">(</a><a id="1109" href="BitML.Semantics.InferenceRules.html#1109" class="Bound">Participant</a> <a id="1121" class="Symbol">:</a> <a id="1123" class="PrimitiveType">Set</a><a id="1126" class="Symbol">)</a>
  <a id="1130" class="Symbol">(</a><a id="1131" href="BitML.Semantics.InferenceRules.html#1131" class="Bound Operator">_≟ₚ_</a> <a id="1136" class="Symbol">:</a> <a id="1138" href="Relation.Binary.Definitions.html#4575" class="Function">Decidable</a> <a id="1148" class="Symbol">{</a><a id="1149" class="Argument">A</a> <a id="1151" class="Symbol">=</a> <a id="1153" href="BitML.Semantics.InferenceRules.html#1109" class="Bound">Participant</a><a id="1164" class="Symbol">}</a> <a id="1166" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="1169" class="Symbol">)</a>
  <a id="1173" class="Symbol">(</a><a id="1174" href="BitML.Semantics.InferenceRules.html#1174" class="Bound">Honest</a> <a id="1181" class="Symbol">:</a> <a id="1183" href="Data.Product.html#916" class="Function">Σ[</a> <a id="1186" href="BitML.Semantics.InferenceRules.html#1186" class="Bound">ps</a> <a id="1189" href="Data.Product.html#916" class="Function">∈</a> <a id="1191" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1196" href="BitML.Semantics.InferenceRules.html#1109" class="Bound">Participant</a> <a id="1208" href="Data.Product.html#916" class="Function">]</a> <a id="1210" class="Symbol">(</a><a id="1211" href="Data.List.Base.html#4297" class="Function">length</a> <a id="1218" href="BitML.Semantics.InferenceRules.html#1186" class="Bound">ps</a> <a id="1221" href="Data.Nat.Base.html#1111" class="Function Operator">&gt;</a> <a id="1223" class="Number">0</a><a id="1224" class="Symbol">))</a>
  <a id="1229" class="Keyword">where</a>

<a id="1236" class="Keyword">open</a> <a id="1241" class="Keyword">import</a> <a id="1248" href="BitML.Contracts.Types.html" class="Module">BitML.Contracts.Types</a>                  <a id="1287" href="BitML.Semantics.InferenceRules.html#1109" class="Bound">Participant</a> <a id="1299" href="BitML.Semantics.InferenceRules.html#1131" class="Bound Operator">_≟ₚ_</a> <a id="1304" href="BitML.Semantics.InferenceRules.html#1174" class="Bound">Honest</a>
<a id="1311" class="Keyword">open</a> <a id="1316" class="Keyword">import</a> <a id="1323" href="BitML.Contracts.Helpers.html" class="Module">BitML.Contracts.Helpers</a>                <a id="1362" href="BitML.Semantics.InferenceRules.html#1109" class="Bound">Participant</a> <a id="1374" href="BitML.Semantics.InferenceRules.html#1131" class="Bound Operator">_≟ₚ_</a> <a id="1379" href="BitML.Semantics.InferenceRules.html#1174" class="Bound">Honest</a>
<a id="1386" class="Keyword">open</a> <a id="1391" class="Keyword">import</a> <a id="1398" href="BitML.Contracts.Validity.html" class="Module">BitML.Contracts.Validity</a>               <a id="1437" href="BitML.Semantics.InferenceRules.html#1109" class="Bound">Participant</a> <a id="1449" href="BitML.Semantics.InferenceRules.html#1131" class="Bound Operator">_≟ₚ_</a> <a id="1454" href="BitML.Semantics.InferenceRules.html#1174" class="Bound">Honest</a>
<a id="1461" class="Keyword">open</a> <a id="1466" class="Keyword">import</a> <a id="1473" href="BitML.Semantics.Actions.Types.html" class="Module">BitML.Semantics.Actions.Types</a>          <a id="1512" href="BitML.Semantics.InferenceRules.html#1109" class="Bound">Participant</a> <a id="1524" href="BitML.Semantics.InferenceRules.html#1131" class="Bound Operator">_≟ₚ_</a> <a id="1529" href="BitML.Semantics.InferenceRules.html#1174" class="Bound">Honest</a>
<a id="1536" class="Keyword">open</a> <a id="1541" class="Keyword">import</a> <a id="1548" href="BitML.Semantics.Configurations.Types.html" class="Module">BitML.Semantics.Configurations.Types</a>   <a id="1587" href="BitML.Semantics.InferenceRules.html#1109" class="Bound">Participant</a> <a id="1599" href="BitML.Semantics.InferenceRules.html#1131" class="Bound Operator">_≟ₚ_</a> <a id="1604" href="BitML.Semantics.InferenceRules.html#1174" class="Bound">Honest</a>
<a id="1611" class="Keyword">open</a> <a id="1616" class="Keyword">import</a> <a id="1623" href="BitML.Semantics.Configurations.Helpers.html" class="Module">BitML.Semantics.Configurations.Helpers</a> <a id="1662" href="BitML.Semantics.InferenceRules.html#1109" class="Bound">Participant</a> <a id="1674" href="BitML.Semantics.InferenceRules.html#1131" class="Bound Operator">_≟ₚ_</a> <a id="1679" href="BitML.Semantics.InferenceRules.html#1174" class="Bound">Honest</a>
<a id="1686" class="Keyword">open</a> <a id="1691" class="Keyword">import</a> <a id="1698" href="BitML.Semantics.Labels.Types.html" class="Module">BitML.Semantics.Labels.Types</a>           <a id="1737" href="BitML.Semantics.InferenceRules.html#1109" class="Bound">Participant</a> <a id="1749" href="BitML.Semantics.InferenceRules.html#1131" class="Bound Operator">_≟ₚ_</a> <a id="1754" href="BitML.Semantics.InferenceRules.html#1174" class="Bound">Honest</a>
<a id="1761" class="Keyword">open</a> <a id="1766" class="Keyword">import</a> <a id="1773" href="BitML.Semantics.Predicate.html" class="Module">BitML.Semantics.Predicate</a>              <a id="1812" href="BitML.Semantics.InferenceRules.html#1109" class="Bound">Participant</a> <a id="1824" href="BitML.Semantics.InferenceRules.html#1131" class="Bound Operator">_≟ₚ_</a> <a id="1829" href="BitML.Semantics.InferenceRules.html#1174" class="Bound">Honest</a>

<a id="1837" class="Comment">--------------------------------------------------------------------------------</a>
<a id="1918" class="Comment">-- Semantic rules for untimed configurations.</a>

<a id="1965" class="Comment">-- T0D0 fresh variables can be arbitrarily picked out, maybe that is wrong?</a>
<a id="2041" class="Comment">-- solve by requiring something like `fresh α ∉ fuv(Γ)`</a>

<a id="2098" class="Keyword">infix</a> <a id="2104" class="Number">-1</a> <a id="2107" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">_—→[_]_</a>
<a id="2115" class="Keyword">data</a> <a id="_—→[_]_"></a><a id="2120" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">_—→[_]_</a> <a id="2128" class="Symbol">:</a> <a id="2130" href="BitML.Semantics.Configurations.Types.html#931" class="Datatype">Configuration</a> <a id="2144" class="Symbol">→</a> <a id="2146" href="BitML.Semantics.Labels.Types.html#958" class="Datatype">Label</a> <a id="2152" class="Symbol">→</a> <a id="2154" href="BitML.Semantics.Configurations.Types.html#931" class="Datatype">Configuration</a> <a id="2168" class="Symbol">→</a> <a id="2170" class="PrimitiveType">Set</a> <a id="2174" class="Keyword">where</a>

  <a id="2183" class="Comment">------------------------------</a>
  <a id="2216" class="Comment">-- i) Rules for deposits</a>

  <a id="_—→[_]_.[DEP-AuthJoin]"></a><a id="2244" href="BitML.Semantics.InferenceRules.html#2244" class="InductiveConstructor">[DEP-AuthJoin]</a> <a id="2259" class="Symbol">:</a>

      <a id="2268" class="Comment">-----------------------------------------------------------</a>

      <a id="2335" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟨</a> <a id="2337" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="2339" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">has</a> <a id="2343" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="2345" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟩at</a> <a id="2349" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="2351" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="2353" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟨</a> <a id="2355" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="2357" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">has</a> <a id="2361" href="BitML.BasicTypes.html#791" class="Generalizable">v′</a> <a id="2364" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟩at</a> <a id="2368" href="BitML.BasicTypes.html#861" class="Generalizable">y</a> <a id="2370" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="2372" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>
        <a id="2382" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">—→[</a> <a id="2386" href="BitML.Semantics.Labels.Types.html#1012" class="InductiveConstructor Operator">auth-join[</a> <a id="2397" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="2399" href="BitML.Semantics.Labels.Types.html#1012" class="InductiveConstructor Operator">,</a> <a id="2401" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="2403" href="BitML.Semantics.Labels.Types.html#1012" class="InductiveConstructor Operator">↔</a> <a id="2405" href="BitML.BasicTypes.html#861" class="Generalizable">y</a> <a id="2407" href="BitML.Semantics.Labels.Types.html#1012" class="InductiveConstructor Operator">]</a> <a id="2409" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">]</a>
      <a id="2417" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟨</a> <a id="2419" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="2421" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">has</a> <a id="2425" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="2427" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟩at</a> <a id="2431" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="2433" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="2435" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟨</a> <a id="2437" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="2439" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">has</a> <a id="2443" href="BitML.BasicTypes.html#791" class="Generalizable">v′</a> <a id="2446" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟩at</a> <a id="2450" href="BitML.BasicTypes.html#861" class="Generalizable">y</a> <a id="2452" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="2454" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="2456" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">auth[</a> <a id="2462" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="2464" href="BitML.Semantics.Actions.Types.html#1087" class="InductiveConstructor Operator">↔</a> <a id="2466" href="BitML.BasicTypes.html#861" class="Generalizable">y</a> <a id="2468" href="BitML.Semantics.Actions.Types.html#1087" class="InductiveConstructor Operator">▷⟨</a> <a id="2471" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="2473" href="BitML.Semantics.Actions.Types.html#1087" class="InductiveConstructor Operator">,</a> <a id="2475" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="2477" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="2479" href="BitML.BasicTypes.html#791" class="Generalizable">v′</a> <a id="2482" href="BitML.Semantics.Actions.Types.html#1087" class="InductiveConstructor Operator">⟩</a> <a id="2484" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">]</a> <a id="2486" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="2488" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>

  <a id="_—→[_]_.[DEP-Join]"></a><a id="2493" href="BitML.Semantics.InferenceRules.html#2493" class="InductiveConstructor">[DEP-Join]</a> <a id="2504" class="Symbol">:</a>

      <a id="2513" class="Comment">------------------------------------------------------------</a>

      <a id="2581" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟨</a> <a id="2583" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="2585" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">has</a> <a id="2589" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="2591" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟩at</a> <a id="2595" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="2597" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="2599" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟨</a> <a id="2601" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="2603" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">has</a> <a id="2607" href="BitML.BasicTypes.html#791" class="Generalizable">v′</a> <a id="2610" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟩at</a> <a id="2614" href="BitML.BasicTypes.html#861" class="Generalizable">y</a> <a id="2616" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="2618" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="2620" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">auth[</a> <a id="2626" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="2628" href="BitML.Semantics.Actions.Types.html#1087" class="InductiveConstructor Operator">↔</a> <a id="2630" href="BitML.BasicTypes.html#861" class="Generalizable">y</a> <a id="2632" href="BitML.Semantics.Actions.Types.html#1087" class="InductiveConstructor Operator">▷⟨</a> <a id="2635" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="2637" href="BitML.Semantics.Actions.Types.html#1087" class="InductiveConstructor Operator">,</a> <a id="2639" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="2641" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="2643" href="BitML.BasicTypes.html#791" class="Generalizable">v′</a> <a id="2646" href="BitML.Semantics.Actions.Types.html#1087" class="InductiveConstructor Operator">⟩</a> <a id="2648" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">]</a> <a id="2650" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="2652" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>
        <a id="2662" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">—→[</a> <a id="2666" href="BitML.Semantics.Labels.Types.html#1078" class="InductiveConstructor Operator">join[</a> <a id="2672" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="2674" href="BitML.Semantics.Labels.Types.html#1078" class="InductiveConstructor Operator">↔</a> <a id="2676" href="BitML.BasicTypes.html#861" class="Generalizable">y</a> <a id="2678" href="BitML.Semantics.Labels.Types.html#1078" class="InductiveConstructor Operator">]</a> <a id="2680" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">]</a>
      <a id="2688" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟨</a> <a id="2690" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="2692" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">has</a> <a id="2696" class="Symbol">(</a><a id="2697" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="2699" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="2701" href="BitML.BasicTypes.html#791" class="Generalizable">v′</a><a id="2703" class="Symbol">)</a> <a id="2705" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟩at</a> <a id="2709" href="BitML.BasicTypes.html#863" class="Generalizable">z</a> <a id="2711" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="2713" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>


  <a id="_—→[_]_.[DEP-AuthDivide]"></a><a id="2719" href="BitML.Semantics.InferenceRules.html#2719" class="InductiveConstructor">[DEP-AuthDivide]</a> <a id="2736" class="Symbol">:</a>

      <a id="2745" class="Comment">--------------------------------------------------------------------------</a>

      <a id="2827" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟨</a> <a id="2829" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="2831" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">has</a> <a id="2835" class="Symbol">(</a><a id="2836" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="2838" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="2840" href="BitML.BasicTypes.html#791" class="Generalizable">v′</a><a id="2842" class="Symbol">)</a> <a id="2844" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟩at</a> <a id="2848" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="2850" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="2852" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>
        <a id="2862" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">—→[</a> <a id="2866" href="BitML.Semantics.Labels.Types.html#1149" class="InductiveConstructor Operator">auth-divide[</a> <a id="2879" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="2881" href="BitML.Semantics.Labels.Types.html#1149" class="InductiveConstructor Operator">,</a> <a id="2883" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="2885" href="BitML.Semantics.Labels.Types.html#1149" class="InductiveConstructor Operator">▷</a> <a id="2887" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="2889" href="BitML.Semantics.Labels.Types.html#1149" class="InductiveConstructor Operator">,</a> <a id="2891" href="BitML.BasicTypes.html#791" class="Generalizable">v′</a> <a id="2894" href="BitML.Semantics.Labels.Types.html#1149" class="InductiveConstructor Operator">]</a> <a id="2896" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">]</a>
      <a id="2904" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟨</a> <a id="2906" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="2908" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">has</a> <a id="2912" class="Symbol">(</a><a id="2913" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="2915" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="2917" href="BitML.BasicTypes.html#791" class="Generalizable">v′</a><a id="2919" class="Symbol">)</a> <a id="2921" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟩at</a> <a id="2925" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="2927" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="2929" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="2931" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">auth[</a> <a id="2937" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="2939" href="BitML.Semantics.Actions.Types.html#1163" class="InductiveConstructor Operator">▷⟨</a> <a id="2942" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="2944" href="BitML.Semantics.Actions.Types.html#1163" class="InductiveConstructor Operator">,</a> <a id="2946" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="2948" href="BitML.Semantics.Actions.Types.html#1163" class="InductiveConstructor Operator">,</a> <a id="2950" href="BitML.BasicTypes.html#791" class="Generalizable">v′</a> <a id="2953" href="BitML.Semantics.Actions.Types.html#1163" class="InductiveConstructor Operator">⟩</a> <a id="2955" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">]</a> <a id="2957" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="2959" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>



  <a id="_—→[_]_.[DEP-Divide]"></a><a id="2966" href="BitML.Semantics.InferenceRules.html#2966" class="InductiveConstructor">[DEP-Divide]</a> <a id="2979" class="Symbol">:</a>

      <a id="2988" class="Comment">-------------------------------------------------------------------------</a>

      <a id="3069" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟨</a> <a id="3071" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="3073" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">has</a> <a id="3077" class="Symbol">(</a><a id="3078" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="3080" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="3082" href="BitML.BasicTypes.html#791" class="Generalizable">v′</a><a id="3084" class="Symbol">)</a> <a id="3086" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟩at</a> <a id="3090" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="3092" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="3094" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="3096" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">auth[</a> <a id="3102" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="3104" href="BitML.Semantics.Actions.Types.html#1163" class="InductiveConstructor Operator">▷⟨</a> <a id="3107" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="3109" href="BitML.Semantics.Actions.Types.html#1163" class="InductiveConstructor Operator">,</a> <a id="3111" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="3113" href="BitML.Semantics.Actions.Types.html#1163" class="InductiveConstructor Operator">,</a> <a id="3115" href="BitML.BasicTypes.html#791" class="Generalizable">v′</a> <a id="3118" href="BitML.Semantics.Actions.Types.html#1163" class="InductiveConstructor Operator">⟩</a> <a id="3120" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">]</a> <a id="3122" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="3124" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>
        <a id="3134" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">—→[</a> <a id="3138" href="BitML.Semantics.Labels.Types.html#1235" class="InductiveConstructor Operator">divide[</a> <a id="3146" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="3148" href="BitML.Semantics.Labels.Types.html#1235" class="InductiveConstructor Operator">▷</a> <a id="3150" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="3152" href="BitML.Semantics.Labels.Types.html#1235" class="InductiveConstructor Operator">,</a> <a id="3154" href="BitML.BasicTypes.html#791" class="Generalizable">v′</a> <a id="3157" href="BitML.Semantics.Labels.Types.html#1235" class="InductiveConstructor Operator">]</a> <a id="3159" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">]</a>
      <a id="3167" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟨</a> <a id="3169" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="3171" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">has</a> <a id="3175" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="3177" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟩at</a> <a id="3181" href="BitML.BasicTypes.html#861" class="Generalizable">y</a> <a id="3183" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="3185" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟨</a> <a id="3187" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="3189" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">has</a> <a id="3193" href="BitML.BasicTypes.html#791" class="Generalizable">v′</a> <a id="3196" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟩at</a> <a id="3200" href="BitML.BasicTypes.html#868" class="Generalizable">y′</a> <a id="3203" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="3205" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>


  <a id="_—→[_]_.[DEP-AuthDonate]"></a><a id="3211" href="BitML.Semantics.InferenceRules.html#3211" class="InductiveConstructor">[DEP-AuthDonate]</a> <a id="3228" class="Symbol">:</a>

      <a id="3237" class="Comment">------------------------------------------------------------</a>

      <a id="3305" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟨</a> <a id="3307" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="3309" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">has</a> <a id="3313" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="3315" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟩at</a> <a id="3319" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="3321" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="3323" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>
        <a id="3333" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">—→[</a> <a id="3337" href="BitML.Semantics.Labels.Types.html#1318" class="InductiveConstructor Operator">auth-donate[</a> <a id="3350" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="3352" href="BitML.Semantics.Labels.Types.html#1318" class="InductiveConstructor Operator">,</a> <a id="3354" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="3356" href="BitML.Semantics.Labels.Types.html#1318" class="InductiveConstructor Operator">▷ᵈ</a> <a id="3359" href="BitML.Contracts.Types.html#939" class="Generalizable">B</a> <a id="3361" href="BitML.Semantics.Labels.Types.html#1318" class="InductiveConstructor Operator">]</a> <a id="3363" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">]</a>
      <a id="3371" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟨</a> <a id="3373" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="3375" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">has</a> <a id="3379" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="3381" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟩at</a> <a id="3385" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="3387" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="3389" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="3391" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">auth[</a> <a id="3397" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="3399" href="BitML.Semantics.Actions.Types.html#1255" class="InductiveConstructor Operator">▷ᵈ</a> <a id="3402" href="BitML.Contracts.Types.html#939" class="Generalizable">B</a> <a id="3404" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">]</a> <a id="3406" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="3408" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>



  <a id="_—→[_]_.[DEP-Donate]"></a><a id="3415" href="BitML.Semantics.InferenceRules.html#3415" class="InductiveConstructor">[DEP-Donate]</a> <a id="3428" class="Symbol">:</a>

      <a id="3437" class="Comment">---------------------------------------------------------------</a>

      <a id="3508" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟨</a> <a id="3510" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="3512" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">has</a> <a id="3516" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="3518" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟩at</a> <a id="3522" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="3524" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="3526" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="3528" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">auth[</a> <a id="3534" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="3536" href="BitML.Semantics.Actions.Types.html#1255" class="InductiveConstructor Operator">▷ᵈ</a> <a id="3539" href="BitML.Contracts.Types.html#939" class="Generalizable">B</a> <a id="3541" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">]</a> <a id="3543" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="3545" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>
        <a id="3555" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">—→[</a> <a id="3559" href="BitML.Semantics.Labels.Types.html#1398" class="InductiveConstructor Operator">donate[</a> <a id="3567" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="3569" href="BitML.Semantics.Labels.Types.html#1398" class="InductiveConstructor Operator">▷ᵈ</a> <a id="3572" href="BitML.Contracts.Types.html#939" class="Generalizable">B</a> <a id="3574" href="BitML.Semantics.Labels.Types.html#1398" class="InductiveConstructor Operator">]</a> <a id="3576" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">]</a>
      <a id="3584" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟨</a> <a id="3586" href="BitML.Contracts.Types.html#939" class="Generalizable">B</a> <a id="3588" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">has</a> <a id="3592" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="3594" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟩at</a> <a id="3598" href="BitML.BasicTypes.html#861" class="Generalizable">y</a> <a id="3600" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="3602" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="3604" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">auth[</a> <a id="3610" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="3612" href="BitML.Semantics.Actions.Types.html#1255" class="InductiveConstructor Operator">▷ᵈ</a> <a id="3615" href="BitML.Contracts.Types.html#939" class="Generalizable">B</a> <a id="3617" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">]</a> <a id="3619" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="3621" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>


  <a id="_—→[_]_.[DEP-AuthDestroy]"></a><a id="3627" href="BitML.Semantics.InferenceRules.html#3627" class="InductiveConstructor">[DEP-AuthDestroy]</a> <a id="3645" class="Symbol">:</a>
    <a id="3651" class="Symbol">∀</a> <a id="3653" class="Symbol">{</a><a id="3654" href="BitML.Semantics.InferenceRules.html#3654" class="Bound">ds</a> <a id="3657" class="Symbol">:</a> <a id="3659" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="3664" class="Symbol">(</a><a id="3665" href="BitML.Semantics.InferenceRules.html#1109" class="Bound">Participant</a> <a id="3677" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3679" href="BitML.BasicTypes.html#606" class="Function">Value</a> <a id="3685" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="3687" href="BitML.BasicTypes.html#678" class="Function">Id</a><a id="3689" class="Symbol">)}</a> <a id="3692" class="Symbol">{</a><a id="3693" href="BitML.Semantics.InferenceRules.html#3693" class="Bound">j</a> <a id="3695" class="Symbol">:</a> <a id="3697" href="Prelude.Lists.html#3115" class="Function">Index</a> <a id="3703" href="BitML.Semantics.InferenceRules.html#3654" class="Bound">ds</a><a id="3705" class="Symbol">}</a>

    <a id="3712" class="Symbol">→</a> <a id="3714" class="Keyword">let</a> <a id="3718" href="BitML.Semantics.InferenceRules.html#3718" class="Bound">xs</a> <a id="3721" class="Symbol">=</a> <a id="3723" href="Data.List.Base.html#1497" class="Function">map</a> <a id="3727" class="Symbol">(</a><a id="3728" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="3734" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="3736" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a><a id="3741" class="Symbol">)</a> <a id="3743" href="BitML.Semantics.InferenceRules.html#3654" class="Bound">ds</a>
          <a id="3756" href="BitML.Semantics.InferenceRules.html#3756" class="Bound">Aj</a> <a id="3759" class="Symbol">=</a> <a id="3761" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="3767" class="Symbol">(</a><a id="3768" href="BitML.Semantics.InferenceRules.html#3654" class="Bound">ds</a> <a id="3771" href="Prelude.Lists.html#3170" class="Function Operator">‼</a> <a id="3773" href="BitML.Semantics.InferenceRules.html#3693" class="Bound">j</a><a id="3774" class="Symbol">)</a>
          <a id="3786" href="BitML.Semantics.InferenceRules.html#3786" class="Bound">j′</a> <a id="3789" class="Symbol">=</a> <a id="3791" href="Prelude.Lists.html#5724" class="Function">‼-map</a> <a id="3797" class="Symbol">{</a><a id="3798" class="Argument">xs</a> <a id="3801" class="Symbol">=</a> <a id="3803" href="BitML.Semantics.InferenceRules.html#3654" class="Bound">ds</a><a id="3805" class="Symbol">}</a> <a id="3807" href="BitML.Semantics.InferenceRules.html#3693" class="Bound">j</a>
          <a id="3819" href="BitML.Semantics.InferenceRules.html#3819" class="Bound">Δ</a>  <a id="3822" class="Symbol">=</a> <a id="3824" href="BitML.Semantics.Configurations.Types.html#1604" class="Function Operator">||</a> <a id="3827" href="Data.List.Base.html#1497" class="Function">map</a> <a id="3831" class="Symbol">(λ{</a> <a id="3835" class="Symbol">(</a><a id="3836" href="BitML.Semantics.InferenceRules.html#3836" class="Bound">Ai</a> <a id="3839" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3841" href="BitML.Semantics.InferenceRules.html#3841" class="Bound">vi</a> <a id="3844" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3846" href="BitML.Semantics.InferenceRules.html#3846" class="Bound">xi</a><a id="3848" class="Symbol">)</a> <a id="3850" class="Symbol">→</a> <a id="3852" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟨</a> <a id="3854" href="BitML.Semantics.InferenceRules.html#3836" class="Bound">Ai</a> <a id="3857" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">has</a> <a id="3861" href="BitML.Semantics.InferenceRules.html#3841" class="Bound">vi</a> <a id="3864" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟩at</a> <a id="3868" href="BitML.Semantics.InferenceRules.html#3846" class="Bound">xi</a> <a id="3871" class="Symbol">})</a> <a id="3874" href="BitML.Semantics.InferenceRules.html#3654" class="Bound">ds</a>
      <a id="3883" class="Keyword">in</a>

      <a id="3893" class="Comment">----------------------------------------------------------------</a>

      <a id="3965" href="BitML.Semantics.InferenceRules.html#3819" class="Bound">Δ</a> <a id="3967" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="3969" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>
        <a id="3979" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">—→[</a> <a id="3983" href="BitML.Semantics.Labels.Types.html#1480" class="InductiveConstructor Operator">auth-destroy[</a> <a id="3997" href="BitML.Semantics.InferenceRules.html#3756" class="Bound">Aj</a> <a id="4000" href="BitML.Semantics.Labels.Types.html#1480" class="InductiveConstructor Operator">,</a> <a id="4002" href="BitML.Semantics.InferenceRules.html#3718" class="Bound">xs</a> <a id="4005" href="BitML.Semantics.Labels.Types.html#1480" class="InductiveConstructor Operator">,</a> <a id="4007" href="BitML.Semantics.InferenceRules.html#3786" class="Bound">j′</a> <a id="4010" href="BitML.Semantics.Labels.Types.html#1480" class="InductiveConstructor Operator">]</a> <a id="4012" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">]</a>
      <a id="4020" href="BitML.Semantics.InferenceRules.html#3819" class="Bound">Δ</a> <a id="4022" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="4024" href="BitML.Semantics.InferenceRules.html#3756" class="Bound">Aj</a> <a id="4027" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">auth[</a> <a id="4033" href="BitML.Semantics.InferenceRules.html#3718" class="Bound">xs</a> <a id="4036" href="BitML.Semantics.Actions.Types.html#1333" class="InductiveConstructor Operator">,</a> <a id="4038" href="BitML.Semantics.InferenceRules.html#3786" class="Bound">j′</a> <a id="4041" href="BitML.Semantics.Actions.Types.html#1333" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="4045" href="BitML.BasicTypes.html#861" class="Generalizable">y</a> <a id="4047" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">]</a> <a id="4049" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="4051" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>



  <a id="_—→[_]_.[DEP-Destroy]"></a><a id="4058" href="BitML.Semantics.InferenceRules.html#4058" class="InductiveConstructor">[DEP-Destroy]</a> <a id="4072" class="Symbol">:</a>
    <a id="4078" class="Symbol">∀</a> <a id="4080" class="Symbol">{</a><a id="4081" href="BitML.Semantics.InferenceRules.html#4081" class="Bound">ds</a> <a id="4084" class="Symbol">:</a> <a id="4086" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="4091" class="Symbol">(</a><a id="4092" href="BitML.Semantics.InferenceRules.html#1109" class="Bound">Participant</a> <a id="4104" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="4106" href="BitML.BasicTypes.html#606" class="Function">Value</a> <a id="4112" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="4114" href="BitML.BasicTypes.html#678" class="Function">Id</a><a id="4116" class="Symbol">)}</a> <a id="4119" class="Symbol">{</a><a id="4120" href="BitML.Semantics.InferenceRules.html#4120" class="Bound">j</a> <a id="4122" class="Symbol">:</a> <a id="4124" href="Prelude.Lists.html#3115" class="Function">Index</a> <a id="4130" href="BitML.Semantics.InferenceRules.html#4081" class="Bound">ds</a><a id="4132" class="Symbol">}</a>

    <a id="4139" class="Symbol">→</a> <a id="4141" class="Keyword">let</a> <a id="4145" href="BitML.Semantics.InferenceRules.html#4145" class="Bound">xs</a>  <a id="4149" class="Symbol">=</a> <a id="4151" href="Data.List.Base.html#1497" class="Function">map</a> <a id="4155" class="Symbol">(</a><a id="4156" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a> <a id="4162" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="4164" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a><a id="4169" class="Symbol">)</a> <a id="4171" href="BitML.Semantics.InferenceRules.html#4081" class="Bound">ds</a>
          <a id="4184" href="BitML.Semantics.InferenceRules.html#4184" class="Bound">Δ</a>   <a id="4188" class="Symbol">=</a> <a id="4190" href="BitML.Semantics.Configurations.Types.html#1604" class="Function Operator">||</a> <a id="4193" href="Data.List.Base.html#1497" class="Function">map</a> <a id="4197" class="Symbol">(λ{</a> <a id="4201" class="Symbol">(</a><a id="4202" href="BitML.Semantics.InferenceRules.html#4202" class="Bound">i</a> <a id="4204" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4206" href="BitML.Semantics.InferenceRules.html#4206" class="Bound">Ai</a> <a id="4209" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4211" href="BitML.Semantics.InferenceRules.html#4211" class="Bound">vi</a> <a id="4214" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="4216" href="BitML.Semantics.InferenceRules.html#4216" class="Bound">xi</a><a id="4218" class="Symbol">)</a> <a id="4220" class="Symbol">→</a> <a id="4222" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟨</a> <a id="4224" href="BitML.Semantics.InferenceRules.html#4206" class="Bound">Ai</a> <a id="4227" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">has</a> <a id="4231" href="BitML.Semantics.InferenceRules.html#4211" class="Bound">vi</a> <a id="4234" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟩at</a> <a id="4238" href="BitML.Semantics.InferenceRules.html#4216" class="Bound">xi</a> <a id="4241" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="4243" href="BitML.Semantics.InferenceRules.html#4206" class="Bound">Ai</a> <a id="4246" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">auth[</a> <a id="4252" href="BitML.Semantics.InferenceRules.html#4145" class="Bound">xs</a> <a id="4255" href="BitML.Semantics.Actions.Types.html#1333" class="InductiveConstructor Operator">,</a> <a id="4257" href="Prelude.Lists.html#5724" class="Function">‼-map</a> <a id="4263" class="Symbol">{</a><a id="4264" class="Argument">xs</a> <a id="4267" class="Symbol">=</a> <a id="4269" href="BitML.Semantics.InferenceRules.html#4081" class="Bound">ds</a><a id="4271" class="Symbol">}</a> <a id="4273" href="BitML.Semantics.InferenceRules.html#4202" class="Bound">i</a> <a id="4275" href="BitML.Semantics.Actions.Types.html#1333" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="4279" href="BitML.BasicTypes.html#861" class="Generalizable">y</a> <a id="4281" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">]</a> <a id="4283" class="Symbol">})</a>
                       <a id="4309" class="Symbol">(</a><a id="4310" href="Prelude.Lists.html#4128" class="Function">enumerate</a> <a id="4320" href="BitML.Semantics.InferenceRules.html#4081" class="Bound">ds</a><a id="4322" class="Symbol">)</a>
      <a id="4330" class="Keyword">in</a>

      <a id="4340" class="Comment">-----------------------------------------</a>

      <a id="4389" href="BitML.Semantics.InferenceRules.html#4184" class="Bound">Δ</a> <a id="4391" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="4393" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>
        <a id="4403" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">—→[</a> <a id="4407" href="BitML.Semantics.Labels.Types.html#1564" class="InductiveConstructor Operator">destroy[</a> <a id="4416" href="BitML.Semantics.InferenceRules.html#4145" class="Bound">xs</a> <a id="4419" href="BitML.Semantics.Labels.Types.html#1564" class="InductiveConstructor Operator">]</a> <a id="4421" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">]</a>
      <a id="4429" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>

  <a id="4434" class="Comment">------------------------------------------------------------</a>
  <a id="4497" class="Comment">-- ii) Rules for contract advertisements and stipulation</a>

  <a id="_—→[_]_.[C-Advertise]"></a><a id="4557" href="BitML.Semantics.InferenceRules.html#4557" class="InductiveConstructor">[C-Advertise]</a> <a id="4571" class="Symbol">:</a>

      <a id="4580" href="BitML.Contracts.Validity.html#1501" class="Function">ValidAdvertisement</a> <a id="4599" href="BitML.Contracts.Types.html#2651" class="Generalizable">ad</a>                <a id="4617" class="Comment">-- the advertisement is valid</a>
    <a id="4651" class="Symbol">→</a> <a id="4653" href="Data.List.Relation.Unary.Any.html#1111" class="Datatype">Any</a> <a id="4657" class="Symbol">(</a><a id="4658" href="Data.List.Membership.Setoid.html#882" class="Function Operator">_∈</a> <a id="4661" href="BitML.Contracts.Types.html#776" class="Function">Hon</a><a id="4664" class="Symbol">)</a> <a id="4666" class="Symbol">(</a><a id="4667" href="BitML.Contracts.Helpers.html#3467" class="Function">participantsᵖ</a> <a id="4681" class="Symbol">(</a><a id="4682" href="BitML.Contracts.Types.html#2580" class="Field">G</a> <a id="4684" href="BitML.Contracts.Types.html#2651" class="Generalizable">ad</a><a id="4686" class="Symbol">))</a>  <a id="4690" class="Comment">-- at least one honest participant</a>
    <a id="4729" class="Symbol">→</a> <a id="4731" href="Data.List.Relation.Unary.All.html#1274" class="Datatype">All</a> <a id="4735" class="Symbol">(</a><a id="4736" href="Data.List.Membership.Setoid.html#882" class="Function Operator">_∈</a> <a id="4739" href="BitML.Semantics.Configurations.Helpers.html#2586" class="Function">depositsᶜᶠ</a> <a id="4750" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a><a id="4751" class="Symbol">)</a> <a id="4753" class="Symbol">(</a><a id="4754" href="BitML.Contracts.Helpers.html#5286" class="Function">depositsᵃ</a> <a id="4764" href="BitML.Contracts.Types.html#2651" class="Generalizable">ad</a><a id="4766" class="Symbol">)</a> <a id="4768" class="Comment">-- all persistent deposits in place</a>

      <a id="4811" class="Comment">------------------------------------------------------------------------</a>

    <a id="4889" class="Symbol">→</a> <a id="4891" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a> <a id="4893" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">—→[</a> <a id="4897" href="BitML.Semantics.Labels.Types.html#1645" class="InductiveConstructor Operator">advertise[</a> <a id="4908" href="BitML.Contracts.Types.html#2651" class="Generalizable">ad</a> <a id="4911" href="BitML.Semantics.Labels.Types.html#1645" class="InductiveConstructor Operator">]</a> <a id="4913" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">]</a> <a id="4915" href="BitML.Semantics.Configurations.Types.html#1021" class="InductiveConstructor Operator">`</a> <a id="4917" href="BitML.Contracts.Types.html#2651" class="Generalizable">ad</a> <a id="4920" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="4922" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>


  <a id="_—→[_]_.[C-AuthCommit]"></a><a id="4928" href="BitML.Semantics.InferenceRules.html#4928" class="InductiveConstructor">[C-AuthCommit]</a> <a id="4943" class="Symbol">:</a>
    <a id="4949" class="Symbol">∀</a> <a id="4951" class="Symbol">{</a><a id="4952" href="BitML.Semantics.InferenceRules.html#4952" class="Bound">secrets</a> <a id="4960" class="Symbol">:</a> <a id="4962" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="4967" class="Symbol">(</a><a id="4968" href="BitML.BasicTypes.html#638" class="Function">Secret</a> <a id="4975" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="4977" href="Data.Maybe.Base.html#838" class="Datatype">Maybe</a> <a id="4983" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="4984" class="Symbol">)}</a>

    <a id="4992" class="Symbol">→</a> <a id="4994" class="Keyword">let</a> <a id="4998" class="Symbol">(</a><a id="4999" href="BitML.Semantics.InferenceRules.html#4999" class="Bound">as</a> <a id="5002" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5004" href="BitML.Semantics.InferenceRules.html#5004" class="Bound">ms</a><a id="5006" class="Symbol">)</a> <a id="5008" class="Symbol">=</a> <a id="5010" href="Data.List.Base.html#3372" class="Function">unzip</a> <a id="5016" href="BitML.Semantics.InferenceRules.html#4952" class="Bound">secrets</a>
          <a id="5034" href="BitML.Semantics.InferenceRules.html#5034" class="Bound">Δ</a>         <a id="5044" class="Symbol">=</a> <a id="5046" href="BitML.Semantics.Configurations.Types.html#1604" class="Function Operator">||</a> <a id="5049" href="Data.List.Base.html#1497" class="Function">map</a> <a id="5053" class="Symbol">(λ{</a> <a id="5057" class="Symbol">(</a><a id="5058" href="BitML.Semantics.InferenceRules.html#5058" class="Bound">ai</a> <a id="5061" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5063" href="BitML.Semantics.InferenceRules.html#5063" class="Bound">Ni</a><a id="5065" class="Symbol">)</a> <a id="5067" class="Symbol">→</a> <a id="5069" href="BitML.Semantics.Configurations.Types.html#1344" class="InductiveConstructor Operator">⟨</a> <a id="5071" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="5073" href="BitML.Semantics.Configurations.Types.html#1344" class="InductiveConstructor Operator">∶</a> <a id="5075" href="BitML.Semantics.InferenceRules.html#5058" class="Bound">ai</a> <a id="5078" href="BitML.Semantics.Configurations.Types.html#1344" class="InductiveConstructor Operator">♯</a> <a id="5080" href="BitML.Semantics.InferenceRules.html#5063" class="Bound">Ni</a> <a id="5083" href="BitML.Semantics.Configurations.Types.html#1344" class="InductiveConstructor Operator">⟩</a><a id="5084" class="Symbol">})</a> <a id="5087" href="BitML.Semantics.InferenceRules.html#4952" class="Bound">secrets</a>
      <a id="5101" class="Keyword">in</a>

      <a id="5111" href="BitML.Semantics.InferenceRules.html#4999" class="Bound">as</a> <a id="5114" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="5116" href="BitML.Contracts.Helpers.html#2490" class="Function">secretsOfᵖ</a> <a id="5127" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="5129" class="Symbol">(</a><a id="5130" href="BitML.Contracts.Types.html#2580" class="Field">G</a> <a id="5132" href="BitML.Contracts.Types.html#2651" class="Generalizable">ad</a><a id="5134" class="Symbol">)</a>    <a id="5139" class="Comment">-- a₁..aₖ secrets of A in G</a>
    <a id="5171" class="Symbol">→</a> <a id="5173" href="Data.List.Relation.Unary.All.html#1274" class="Datatype">All</a> <a id="5177" class="Symbol">(</a><a id="5178" href="Data.List.Membership.Setoid.html#931" class="Function Operator">_∉</a> <a id="5181" href="BitML.Semantics.Configurations.Helpers.html#2823" class="Function">secretsOfᶜᶠ</a> <a id="5193" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="5195" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a><a id="5196" class="Symbol">)</a> <a id="5198" href="BitML.Semantics.InferenceRules.html#4999" class="Bound">as</a> <a id="5201" class="Comment">-- ∀i ∈ 1..k : ∄N : {A : aᵢ ♯ N} ∈ Γ</a>
    <a id="5242" class="Symbol">→</a> <a id="5244" class="Symbol">(</a><a id="5245" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="5247" href="Data.List.Membership.Setoid.html#882" class="Function Operator">∈</a> <a id="5249" href="BitML.Contracts.Types.html#776" class="Function">Hon</a> <a id="5253" class="Symbol">→</a> <a id="5255" href="Data.List.Relation.Unary.All.html#1274" class="Datatype">All</a> <a id="5259" href="Data.Maybe.html#801" class="Function">Is-just</a> <a id="5267" href="BitML.Semantics.InferenceRules.html#5004" class="Bound">ms</a><a id="5269" class="Symbol">)</a>  <a id="5272" class="Comment">-- honest participants commit to valid lengths</a>

      <a id="5326" class="Comment">-----------------------------------------------------------------------</a>

    <a id="5403" class="Symbol">→</a> <a id="5405" href="BitML.Semantics.Configurations.Types.html#1021" class="InductiveConstructor Operator">`</a> <a id="5407" href="BitML.Contracts.Types.html#2651" class="Generalizable">ad</a> <a id="5410" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="5412" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>
        <a id="5422" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">—→[</a> <a id="5426" href="BitML.Semantics.Labels.Types.html#1721" class="InductiveConstructor Operator">auth-commit[</a> <a id="5439" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="5441" href="BitML.Semantics.Labels.Types.html#1721" class="InductiveConstructor Operator">,</a> <a id="5443" href="BitML.Contracts.Types.html#2651" class="Generalizable">ad</a> <a id="5446" href="BitML.Semantics.Labels.Types.html#1721" class="InductiveConstructor Operator">,</a> <a id="5448" href="BitML.Semantics.InferenceRules.html#4952" class="Bound">secrets</a> <a id="5456" href="BitML.Semantics.Labels.Types.html#1721" class="InductiveConstructor Operator">]</a> <a id="5458" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">]</a>
      <a id="5466" href="BitML.Semantics.Configurations.Types.html#1021" class="InductiveConstructor Operator">`</a> <a id="5468" href="BitML.Contracts.Types.html#2651" class="Generalizable">ad</a> <a id="5471" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="5473" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a> <a id="5475" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="5477" href="BitML.Semantics.InferenceRules.html#5034" class="Bound">Δ</a> <a id="5479" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="5481" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="5483" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">auth[</a> <a id="5489" href="BitML.Semantics.Actions.Types.html#918" class="InductiveConstructor Operator">♯▷</a> <a id="5492" href="BitML.Contracts.Types.html#2651" class="Generalizable">ad</a> <a id="5495" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">]</a>


  <a id="_—→[_]_.[C-AuthInit]"></a><a id="5501" href="BitML.Semantics.InferenceRules.html#5501" class="InductiveConstructor">[C-AuthInit]</a> <a id="5514" class="Symbol">:</a>

      <a id="5523" href="Data.List.Relation.Unary.All.html#1274" class="Datatype">All</a> <a id="5527" class="Symbol">(</a><a id="5528" href="Data.List.Membership.Setoid.html#882" class="Function Operator">_∈</a> <a id="5531" href="BitML.Semantics.Configurations.Helpers.html#3111" class="Function">committedParticipants</a> <a id="5553" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a> <a id="5555" href="BitML.Contracts.Types.html#2651" class="Generalizable">ad</a><a id="5557" class="Symbol">)</a> <a id="5559" class="Symbol">(</a><a id="5560" href="BitML.Contracts.Helpers.html#3467" class="Function">participantsᵖ</a> <a id="5574" class="Symbol">(</a><a id="5575" href="BitML.Contracts.Types.html#2580" class="Field">G</a> <a id="5577" href="BitML.Contracts.Types.html#2651" class="Generalizable">ad</a><a id="5579" class="Symbol">))</a> <a id="5582" class="Comment">-- all participants have committed their secrets</a>
    <a id="5635" class="Symbol">→</a> <a id="5637" class="Symbol">(</a><a id="5638" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="5640" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5642" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="5644" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5646" href="BitML.BasicTypes.html#859" class="Generalizable">x</a><a id="5647" class="Symbol">)</a> <a id="5649" href="Data.List.Membership.Setoid.html#882" class="Function Operator">∈</a> <a id="5651" href="BitML.Contracts.Helpers.html#4799" class="Function">persistentDepositsᵖ</a> <a id="5671" class="Symbol">(</a><a id="5672" href="BitML.Contracts.Types.html#2580" class="Field">G</a> <a id="5674" href="BitML.Contracts.Types.html#2651" class="Generalizable">ad</a><a id="5676" class="Symbol">)</a>                   <a id="5696" class="Comment">-- G = A :! v @ x | ...</a>

      <a id="5727" class="Comment">----------------------------------------------------------------------</a>

    <a id="5803" class="Symbol">→</a> <a id="5805" href="BitML.Semantics.Configurations.Types.html#1021" class="InductiveConstructor Operator">`</a> <a id="5807" href="BitML.Contracts.Types.html#2651" class="Generalizable">ad</a> <a id="5810" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="5812" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>
        <a id="5822" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">—→[</a> <a id="5826" href="BitML.Semantics.Labels.Types.html#1820" class="InductiveConstructor Operator">auth-init[</a> <a id="5837" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="5839" href="BitML.Semantics.Labels.Types.html#1820" class="InductiveConstructor Operator">,</a> <a id="5841" href="BitML.Contracts.Types.html#2651" class="Generalizable">ad</a> <a id="5844" href="BitML.Semantics.Labels.Types.html#1820" class="InductiveConstructor Operator">,</a> <a id="5846" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="5848" href="BitML.Semantics.Labels.Types.html#1820" class="InductiveConstructor Operator">]</a> <a id="5850" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">]</a>
      <a id="5858" href="BitML.Semantics.Configurations.Types.html#1021" class="InductiveConstructor Operator">`</a> <a id="5860" href="BitML.Contracts.Types.html#2651" class="Generalizable">ad</a> <a id="5863" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="5865" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a> <a id="5867" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="5869" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="5871" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">auth[</a> <a id="5877" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="5879" href="BitML.Semantics.Actions.Types.html#981" class="InductiveConstructor Operator">▷ˢ</a> <a id="5882" href="BitML.Contracts.Types.html#2651" class="Generalizable">ad</a> <a id="5885" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">]</a>


  <a id="_—→[_]_.[C-Init]"></a><a id="5891" href="BitML.Semantics.InferenceRules.html#5891" class="InductiveConstructor">[C-Init]</a> <a id="5900" class="Symbol">:</a>

      <a id="5909" class="Comment">-- all participants have committed their secrets (guaranteed from [C-AuthInit]</a>

      <a id="5995" class="Keyword">let</a> <a id="5999" href="BitML.Semantics.InferenceRules.html#5999" class="Bound">toSpend</a> <a id="6007" class="Symbol">=</a> <a id="6009" href="BitML.Contracts.Helpers.html#4799" class="Function">persistentDepositsᵖ</a> <a id="6029" class="Symbol">(</a><a id="6030" href="BitML.Contracts.Types.html#2580" class="Field">G</a> <a id="6032" href="BitML.Contracts.Types.html#2651" class="Generalizable">ad</a><a id="6034" class="Symbol">)</a>
          <a id="6046" href="BitML.Semantics.InferenceRules.html#6046" class="Bound">vs</a>      <a id="6054" class="Symbol">=</a> <a id="6056" href="Data.List.Base.html#1497" class="Function">map</a> <a id="6060" class="Symbol">(</a><a id="6061" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="6067" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="6069" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a><a id="6074" class="Symbol">)</a> <a id="6076" href="BitML.Semantics.InferenceRules.html#5999" class="Bound">toSpend</a>
      <a id="6090" class="Keyword">in</a>

      <a id="6100" class="Comment">----------------------------------------------------------------------</a>

      <a id="6178" href="BitML.Semantics.Configurations.Types.html#1021" class="InductiveConstructor Operator">`</a> <a id="6180" href="BitML.Contracts.Types.html#2651" class="Generalizable">ad</a> <a id="6183" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="6185" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a> <a id="6187" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="6189" href="BitML.Semantics.Configurations.Types.html#1604" class="Function Operator">||</a> <a id="6192" href="Data.List.Base.html#1497" class="Function">map</a> <a id="6196" class="Symbol">(λ{</a> <a id="6200" class="Symbol">(</a><a id="6201" href="BitML.Semantics.InferenceRules.html#6201" class="Bound">Ai</a> <a id="6204" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6206" href="BitML.Semantics.InferenceRules.html#6206" class="Bound">vi</a> <a id="6209" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6211" href="BitML.Semantics.InferenceRules.html#6211" class="Bound">xi</a><a id="6213" class="Symbol">)</a> <a id="6215" class="Symbol">→</a> <a id="6217" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟨</a> <a id="6219" href="BitML.Semantics.InferenceRules.html#6201" class="Bound">Ai</a> <a id="6222" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">has</a> <a id="6226" href="BitML.Semantics.InferenceRules.html#6206" class="Bound">vi</a> <a id="6229" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟩at</a> <a id="6233" href="BitML.Semantics.InferenceRules.html#6211" class="Bound">xi</a> <a id="6236" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="6238" href="BitML.Semantics.InferenceRules.html#6201" class="Bound">Ai</a> <a id="6241" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">auth[</a> <a id="6247" href="BitML.Semantics.InferenceRules.html#6211" class="Bound">xi</a> <a id="6250" href="BitML.Semantics.Actions.Types.html#981" class="InductiveConstructor Operator">▷ˢ</a> <a id="6253" href="BitML.Contracts.Types.html#2651" class="Generalizable">ad</a> <a id="6256" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">]</a> <a id="6258" class="Symbol">})</a> <a id="6261" href="BitML.Semantics.InferenceRules.html#5999" class="Bound">toSpend</a>
               <a id="6284" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="6286" href="BitML.Semantics.Configurations.Types.html#1604" class="Function Operator">||</a> <a id="6289" href="Data.List.Base.html#1497" class="Function">map</a> <a id="6293" class="Symbol">(</a><a id="6294" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">_auth[</a> <a id="6301" href="BitML.Semantics.Actions.Types.html#918" class="InductiveConstructor Operator">♯▷</a> <a id="6304" href="BitML.Contracts.Types.html#2651" class="Generalizable">ad</a> <a id="6307" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">]</a><a id="6308" class="Symbol">)</a> <a id="6310" class="Symbol">(</a><a id="6311" href="Prelude.Set%2527.html#4768" class="Function">SETₚ.nub</a> <a id="6320" class="Symbol">(</a><a id="6321" href="BitML.Contracts.Helpers.html#3467" class="Function">participantsᵖ</a> <a id="6335" class="Symbol">(</a><a id="6336" href="BitML.Contracts.Types.html#2580" class="Field">G</a> <a id="6338" href="BitML.Contracts.Types.html#2651" class="Generalizable">ad</a><a id="6340" class="Symbol">)))</a>
        <a id="6352" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">—→[</a> <a id="6356" href="BitML.Semantics.Labels.Types.html#1897" class="InductiveConstructor Operator">init[</a> <a id="6362" href="BitML.Contracts.Types.html#2580" class="Field">G</a> <a id="6364" href="BitML.Contracts.Types.html#2651" class="Generalizable">ad</a> <a id="6367" href="BitML.Semantics.Labels.Types.html#1897" class="InductiveConstructor Operator">,</a> <a id="6369" href="BitML.Contracts.Types.html#2601" class="Field">C</a> <a id="6371" href="BitML.Contracts.Types.html#2651" class="Generalizable">ad</a> <a id="6374" href="BitML.Semantics.Labels.Types.html#1897" class="InductiveConstructor Operator">]</a> <a id="6376" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">]</a>
      <a id="6384" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">⟨</a> <a id="6386" href="BitML.Contracts.Types.html#2601" class="Field">C</a> <a id="6388" href="BitML.Contracts.Types.html#2651" class="Generalizable">ad</a> <a id="6391" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">,</a> <a id="6393" href="Data.List.Base.html#4217" class="Function">sum</a> <a id="6397" href="BitML.Semantics.InferenceRules.html#6046" class="Bound">vs</a> <a id="6400" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">⟩at</a> <a id="6404" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="6406" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="6408" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>


  <a id="6414" class="Comment">---------------------------------------------------</a>
  <a id="6468" class="Comment">-- iii) Rules for executing active contracts</a>

  <a id="_—→[_]_.[C-Split]"></a><a id="6516" href="BitML.Semantics.InferenceRules.html#6516" class="InductiveConstructor">[C-Split]</a> <a id="6526" class="Symbol">:</a>
    <a id="6532" class="Symbol">∀</a> <a id="6534" class="Symbol">{</a><a id="6535" href="BitML.Semantics.InferenceRules.html#6535" class="Bound">vcis</a> <a id="6540" class="Symbol">:</a> <a id="6542" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="6547" class="Symbol">(</a><a id="6548" href="BitML.BasicTypes.html#606" class="Function">Value</a> <a id="6554" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="6556" href="BitML.Contracts.Types.html#1063" class="Function">Contracts</a> <a id="6566" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="6568" href="BitML.BasicTypes.html#678" class="Function">Id</a><a id="6570" class="Symbol">)}</a>

    <a id="6578" class="Symbol">→</a> <a id="6580" class="Keyword">let</a> <a id="6584" class="Symbol">(</a><a id="6585" href="BitML.Semantics.InferenceRules.html#6585" class="Bound">vs</a> <a id="6588" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6590" href="BitML.Semantics.InferenceRules.html#6590" class="Bound">cs</a> <a id="6593" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6595" class="Symbol">_)</a> <a id="6598" class="Symbol">=</a> <a id="6600" href="Prelude.Lists.html#9056" class="Function">unzip₃</a> <a id="6607" href="BitML.Semantics.InferenceRules.html#6535" class="Bound">vcis</a> <a id="6612" class="Keyword">in</a>

      <a id="6622" class="Comment">------------------------------------------------------------</a>

      <a id="6690" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">⟨</a> <a id="6692" href="Data.List.Base.html#4458" class="Function Operator">[</a> <a id="6694" href="BitML.Contracts.Types.html#1322" class="InductiveConstructor">split</a> <a id="6700" class="Symbol">(</a><a id="6701" href="Data.List.Base.html#3243" class="Function">zip</a> <a id="6705" href="BitML.Semantics.InferenceRules.html#6585" class="Bound">vs</a> <a id="6708" href="BitML.Semantics.InferenceRules.html#6590" class="Bound">cs</a><a id="6710" class="Symbol">)</a> <a id="6712" href="Data.List.Base.html#4458" class="Function Operator">]</a> <a id="6714" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">,</a> <a id="6716" href="Data.List.Base.html#4217" class="Function">sum</a> <a id="6720" href="BitML.Semantics.InferenceRules.html#6585" class="Bound">vs</a> <a id="6723" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">⟩at</a> <a id="6727" href="BitML.BasicTypes.html#861" class="Generalizable">y</a> <a id="6729" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="6731" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>
        <a id="6741" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">—→[</a> <a id="6745" href="BitML.Semantics.Labels.Types.html#1982" class="InductiveConstructor Operator">split[</a> <a id="6752" href="BitML.BasicTypes.html#861" class="Generalizable">y</a> <a id="6754" href="BitML.Semantics.Labels.Types.html#1982" class="InductiveConstructor Operator">]</a> <a id="6756" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">]</a>
      <a id="6764" href="BitML.Semantics.Configurations.Types.html#1604" class="Function Operator">||</a> <a id="6767" href="Data.List.Base.html#1497" class="Function">map</a> <a id="6771" class="Symbol">(λ{</a> <a id="6775" class="Symbol">(</a><a id="6776" href="BitML.Semantics.InferenceRules.html#6776" class="Bound">vi</a> <a id="6779" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6781" href="BitML.Semantics.InferenceRules.html#6781" class="Bound">ci</a> <a id="6784" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6786" href="BitML.Semantics.InferenceRules.html#6786" class="Bound">xi</a><a id="6788" class="Symbol">)</a> <a id="6790" class="Symbol">→</a> <a id="6792" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">⟨</a> <a id="6794" href="BitML.Semantics.InferenceRules.html#6781" class="Bound">ci</a> <a id="6797" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">,</a> <a id="6799" href="BitML.Semantics.InferenceRules.html#6776" class="Bound">vi</a> <a id="6802" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">⟩at</a> <a id="6806" href="BitML.Semantics.InferenceRules.html#6786" class="Bound">xi</a> <a id="6809" class="Symbol">})</a> <a id="6812" href="BitML.Semantics.InferenceRules.html#6535" class="Bound">vcis</a> <a id="6817" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="6819" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>

  <a id="_—→[_]_.[C-AuthRev]"></a><a id="6824" href="BitML.Semantics.InferenceRules.html#6824" class="InductiveConstructor">[C-AuthRev]</a> <a id="6836" class="Symbol">:</a>

      <a id="6845" class="Comment">-------------------------------------------------------------</a>

      <a id="6914" href="BitML.Semantics.Configurations.Types.html#1344" class="InductiveConstructor Operator">⟨</a> <a id="6916" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="6918" href="BitML.Semantics.Configurations.Types.html#1344" class="InductiveConstructor Operator">∶</a> <a id="6920" href="BitML.BasicTypes.html#823" class="Generalizable">a</a> <a id="6922" href="BitML.Semantics.Configurations.Types.html#1344" class="InductiveConstructor Operator">♯</a> <a id="6924" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="6929" href="BitML.BasicTypes.html#780" class="Generalizable">n</a> <a id="6931" href="BitML.Semantics.Configurations.Types.html#1344" class="InductiveConstructor Operator">⟩</a> <a id="6933" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="6935" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>
        <a id="6945" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">—→[</a> <a id="6949" href="BitML.Semantics.Labels.Types.html#2051" class="InductiveConstructor Operator">auth-rev[</a> <a id="6959" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="6961" href="BitML.Semantics.Labels.Types.html#2051" class="InductiveConstructor Operator">,</a> <a id="6963" href="BitML.BasicTypes.html#823" class="Generalizable">a</a> <a id="6965" href="BitML.Semantics.Labels.Types.html#2051" class="InductiveConstructor Operator">]</a> <a id="6967" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">]</a>
      <a id="6975" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="6977" href="BitML.Semantics.Configurations.Types.html#1425" class="InductiveConstructor Operator">∶</a> <a id="6979" href="BitML.BasicTypes.html#823" class="Generalizable">a</a> <a id="6981" href="BitML.Semantics.Configurations.Types.html#1425" class="InductiveConstructor Operator">♯</a> <a id="6983" href="BitML.BasicTypes.html#780" class="Generalizable">n</a> <a id="6985" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="6987" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>

  <a id="_—→[_]_.[C-PutRev]"></a><a id="6992" href="BitML.Semantics.InferenceRules.html#6992" class="InductiveConstructor">[C-PutRev]</a> <a id="7003" class="Symbol">:</a>
    <a id="7009" class="Symbol">∀</a> <a id="7011" class="Symbol">{</a><a id="7012" href="BitML.Semantics.InferenceRules.html#7012" class="Bound">ds</a> <a id="7015" class="Symbol">:</a> <a id="7017" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="7022" class="Symbol">(</a><a id="7023" href="BitML.Semantics.InferenceRules.html#1109" class="Bound">Participant</a> <a id="7035" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="7037" href="BitML.BasicTypes.html#606" class="Function">Value</a> <a id="7043" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="7045" href="BitML.BasicTypes.html#678" class="Function">Id</a><a id="7047" class="Symbol">)}</a>
      <a id="7056" class="Symbol">{</a><a id="7057" href="BitML.Semantics.InferenceRules.html#7057" class="Bound">ss</a> <a id="7060" class="Symbol">:</a> <a id="7062" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="7067" class="Symbol">(</a><a id="7068" href="BitML.Semantics.InferenceRules.html#1109" class="Bound">Participant</a> <a id="7080" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="7082" href="BitML.BasicTypes.html#638" class="Function">Secret</a> <a id="7089" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="7091" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="7092" class="Symbol">)}</a>

    <a id="7100" class="Symbol">→</a> <a id="7102" class="Keyword">let</a> <a id="7106" class="Symbol">(_</a> <a id="7109" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7111" href="BitML.Semantics.InferenceRules.html#7111" class="Bound">vs</a> <a id="7114" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7116" href="BitML.Semantics.InferenceRules.html#7116" class="Bound">xs</a><a id="7118" class="Symbol">)</a> <a id="7120" class="Symbol">=</a> <a id="7122" href="Prelude.Lists.html#9056" class="Function">unzip₃</a> <a id="7129" href="BitML.Semantics.InferenceRules.html#7012" class="Bound">ds</a>
          <a id="7142" class="Symbol">(_</a> <a id="7145" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7147" href="BitML.Semantics.InferenceRules.html#7147" class="Bound">as</a> <a id="7150" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7152" class="Symbol">_)</a>  <a id="7156" class="Symbol">=</a> <a id="7158" href="Prelude.Lists.html#9056" class="Function">unzip₃</a> <a id="7165" href="BitML.Semantics.InferenceRules.html#7057" class="Bound">ss</a>
          <a id="7178" href="BitML.Semantics.InferenceRules.html#7178" class="Bound">Γ</a> <a id="7180" class="Symbol">=</a> <a id="7182" href="BitML.Semantics.Configurations.Types.html#1604" class="Function Operator">||</a> <a id="7185" href="Data.List.Base.html#1497" class="Function">map</a> <a id="7189" class="Symbol">(λ{</a> <a id="7193" class="Symbol">(</a><a id="7194" href="BitML.Semantics.InferenceRules.html#7194" class="Bound">Ai</a> <a id="7197" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7199" href="BitML.Semantics.InferenceRules.html#7199" class="Bound">vi</a> <a id="7202" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7204" href="BitML.Semantics.InferenceRules.html#7204" class="Bound">xi</a><a id="7206" class="Symbol">)</a> <a id="7208" class="Symbol">→</a> <a id="7210" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟨</a> <a id="7212" href="BitML.Semantics.InferenceRules.html#7194" class="Bound">Ai</a> <a id="7215" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">has</a> <a id="7219" href="BitML.Semantics.InferenceRules.html#7199" class="Bound">vi</a> <a id="7222" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟩at</a> <a id="7226" href="BitML.Semantics.InferenceRules.html#7204" class="Bound">xi</a> <a id="7229" class="Symbol">})</a> <a id="7232" href="BitML.Semantics.InferenceRules.html#7012" class="Bound">ds</a>
          <a id="7245" href="BitML.Semantics.InferenceRules.html#7245" class="Bound">Δ</a> <a id="7247" class="Symbol">=</a> <a id="7249" href="BitML.Semantics.Configurations.Types.html#1604" class="Function Operator">||</a> <a id="7252" href="Data.List.Base.html#1497" class="Function">map</a> <a id="7256" class="Symbol">(λ{</a> <a id="7260" class="Symbol">(</a><a id="7261" href="BitML.Semantics.InferenceRules.html#7261" class="Bound">Bi</a> <a id="7264" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7266" href="BitML.Semantics.InferenceRules.html#7266" class="Bound">ai</a> <a id="7269" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7271" href="BitML.Semantics.InferenceRules.html#7271" class="Bound">Ni</a><a id="7273" class="Symbol">)</a> <a id="7275" class="Symbol">→</a> <a id="7277" href="BitML.Semantics.InferenceRules.html#7261" class="Bound">Bi</a> <a id="7280" href="BitML.Semantics.Configurations.Types.html#1425" class="InductiveConstructor Operator">∶</a> <a id="7282" href="BitML.Semantics.InferenceRules.html#7266" class="Bound">ai</a> <a id="7285" href="BitML.Semantics.Configurations.Types.html#1425" class="InductiveConstructor Operator">♯</a> <a id="7287" href="BitML.Semantics.InferenceRules.html#7271" class="Bound">Ni</a>       <a id="7296" class="Symbol">})</a> <a id="7299" href="BitML.Semantics.InferenceRules.html#7057" class="Bound">ss</a>
      <a id="7308" class="Keyword">in</a>

      <a id="7318" href="BitML.Semantics.Predicate.html#1720" class="Function Operator">⟦</a> <a id="7320" href="BitML.Predicate.Base.html#796" class="Generalizable">p</a> <a id="7322" href="BitML.Semantics.Predicate.html#1720" class="Function Operator">⟧</a> <a id="7324" href="BitML.Semantics.InferenceRules.html#7245" class="Bound">Δ</a> <a id="7326" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="7328" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="7333" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="7338" class="Comment">-- predicate is true</a>

      <a id="7366" class="Comment">------------------------------------------------------------</a>

    <a id="7432" class="Symbol">→</a> <a id="7434" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">⟨</a> <a id="7436" href="Data.List.Base.html#4458" class="Function Operator">[</a> <a id="7438" href="BitML.Contracts.Types.html#1147" class="InductiveConstructor Operator">put</a> <a id="7442" href="BitML.Semantics.InferenceRules.html#7116" class="Bound">xs</a> <a id="7445" href="BitML.Contracts.Types.html#1147" class="InductiveConstructor Operator">&amp;reveal</a> <a id="7453" href="BitML.Semantics.InferenceRules.html#7147" class="Bound">as</a> <a id="7456" href="BitML.Contracts.Types.html#1147" class="InductiveConstructor Operator">if</a> <a id="7459" href="BitML.Predicate.Base.html#796" class="Generalizable">p</a> <a id="7461" href="BitML.Contracts.Types.html#1147" class="InductiveConstructor Operator">⇒</a> <a id="7463" href="BitML.Contracts.Types.html#1559" class="Generalizable">c</a> <a id="7465" href="Data.List.Base.html#4458" class="Function Operator">]</a> <a id="7467" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">,</a> <a id="7469" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="7471" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">⟩at</a> <a id="7475" href="BitML.BasicTypes.html#861" class="Generalizable">y</a> <a id="7477" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="7479" href="BitML.Semantics.InferenceRules.html#7178" class="Bound">Γ</a> <a id="7481" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="7483" href="BitML.Semantics.InferenceRules.html#7245" class="Bound">Δ</a> <a id="7485" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="7487" href="BitML.Semantics.Configurations.Types.html#1569" class="Generalizable">Γ′</a>
        <a id="7498" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">—→[</a> <a id="7502" href="BitML.Semantics.Labels.Types.html#2148" class="InductiveConstructor Operator">put[</a> <a id="7507" href="BitML.Semantics.InferenceRules.html#7116" class="Bound">xs</a> <a id="7510" href="BitML.Semantics.Labels.Types.html#2148" class="InductiveConstructor Operator">,</a> <a id="7512" href="BitML.Semantics.InferenceRules.html#7147" class="Bound">as</a> <a id="7515" href="BitML.Semantics.Labels.Types.html#2148" class="InductiveConstructor Operator">,</a> <a id="7517" href="BitML.BasicTypes.html#861" class="Generalizable">y</a> <a id="7519" href="BitML.Semantics.Labels.Types.html#2148" class="InductiveConstructor Operator">]</a> <a id="7521" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">]</a>
      <a id="7529" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">⟨</a> <a id="7531" href="BitML.Contracts.Types.html#1559" class="Generalizable">c</a> <a id="7533" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">,</a> <a id="7535" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="7537" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="7539" href="Data.List.Base.html#4217" class="Function">sum</a> <a id="7543" href="BitML.Semantics.InferenceRules.html#7111" class="Bound">vs</a> <a id="7546" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">⟩at</a> <a id="7550" href="BitML.BasicTypes.html#863" class="Generalizable">z</a> <a id="7552" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="7554" href="BitML.Semantics.InferenceRules.html#7245" class="Bound">Δ</a> <a id="7556" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="7558" href="BitML.Semantics.Configurations.Types.html#1569" class="Generalizable">Γ′</a>


  <a id="_—→[_]_.[C-Withdraw]"></a><a id="7565" href="BitML.Semantics.InferenceRules.html#7565" class="InductiveConstructor">[C-Withdraw]</a> <a id="7578" class="Symbol">:</a>

      <a id="7587" class="Comment">-------------------------------------------------------</a>

      <a id="7650" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">⟨</a> <a id="7652" href="Data.List.Base.html#4458" class="Function Operator">[</a> <a id="7654" href="BitML.Contracts.Types.html#1262" class="InductiveConstructor">withdraw</a> <a id="7663" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="7665" href="Data.List.Base.html#4458" class="Function Operator">]</a> <a id="7667" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">,</a> <a id="7669" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="7671" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">⟩at</a> <a id="7675" href="BitML.BasicTypes.html#861" class="Generalizable">y</a> <a id="7677" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="7679" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>
        <a id="7689" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">—→[</a> <a id="7693" href="BitML.Semantics.Labels.Types.html#2242" class="InductiveConstructor Operator">withdraw[</a> <a id="7703" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="7705" href="BitML.Semantics.Labels.Types.html#2242" class="InductiveConstructor Operator">,</a> <a id="7707" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="7709" href="BitML.Semantics.Labels.Types.html#2242" class="InductiveConstructor Operator">,</a> <a id="7711" href="BitML.BasicTypes.html#861" class="Generalizable">y</a> <a id="7713" href="BitML.Semantics.Labels.Types.html#2242" class="InductiveConstructor Operator">]</a> <a id="7715" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">]</a>
      <a id="7723" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟨</a> <a id="7725" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="7727" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">has</a> <a id="7731" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="7733" href="BitML.Semantics.Configurations.Types.html#1174" class="InductiveConstructor Operator">⟩at</a> <a id="7737" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="7739" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="7741" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>


  <a id="_—→[_]_.[C-AuthControl]"></a><a id="7747" href="BitML.Semantics.InferenceRules.html#7747" class="InductiveConstructor">[C-AuthControl]</a> <a id="7763" class="Symbol">:</a>
    <a id="7769" class="Symbol">∀</a> <a id="7771" class="Symbol">{</a><a id="7772" href="BitML.Semantics.InferenceRules.html#7772" class="Bound">i</a> <a id="7774" class="Symbol">:</a> <a id="7776" href="Prelude.Lists.html#3115" class="Function">Index</a> <a id="7782" href="BitML.Contracts.Types.html#1559" class="Generalizable">c</a><a id="7783" class="Symbol">}</a>

    <a id="7790" class="Symbol">→</a> <a id="7792" class="Keyword">let</a> <a id="7796" href="BitML.Semantics.InferenceRules.html#7796" class="Bound">d</a> <a id="7798" class="Symbol">=</a> <a id="7800" href="BitML.Contracts.Types.html#1559" class="Generalizable">c</a> <a id="7802" href="Prelude.Lists.html#3170" class="Function Operator">‼</a> <a id="7804" href="BitML.Semantics.InferenceRules.html#7772" class="Bound">i</a> <a id="7806" class="Keyword">in</a>

      <a id="7816" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="7818" href="Data.List.Membership.Setoid.html#882" class="Function Operator">∈</a> <a id="7820" href="BitML.Contracts.Helpers.html#6425" class="Function">authDecorations</a> <a id="7836" href="BitML.Semantics.InferenceRules.html#7796" class="Bound">d</a> <a id="7838" class="Comment">-- D ≡ A : D′</a>

      <a id="7859" class="Comment">------------------------------------------------------------------</a>

    <a id="7931" class="Symbol">→</a> <a id="7933" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">⟨</a> <a id="7935" href="BitML.Contracts.Types.html#1559" class="Generalizable">c</a> <a id="7937" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">,</a> <a id="7939" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="7941" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">⟩at</a> <a id="7945" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="7947" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="7949" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>
        <a id="7959" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">—→[</a> <a id="7963" href="BitML.Semantics.Labels.Types.html#2344" class="InductiveConstructor Operator">auth-control[</a> <a id="7977" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="7979" href="BitML.Semantics.Labels.Types.html#2344" class="InductiveConstructor Operator">,</a> <a id="7981" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="7983" href="BitML.Semantics.Labels.Types.html#2344" class="InductiveConstructor Operator">▷</a> <a id="7985" href="BitML.Semantics.InferenceRules.html#7796" class="Bound">d</a> <a id="7987" href="BitML.Semantics.Labels.Types.html#2344" class="InductiveConstructor Operator">]</a> <a id="7989" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">]</a>
      <a id="7997" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">⟨</a> <a id="7999" href="BitML.Contracts.Types.html#1559" class="Generalizable">c</a> <a id="8001" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">,</a> <a id="8003" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="8005" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">⟩at</a> <a id="8009" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="8011" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="8013" href="BitML.Contracts.Types.html#937" class="Generalizable">A</a> <a id="8015" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">auth[</a> <a id="8021" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="8023" href="BitML.Semantics.Actions.Types.html#1036" class="InductiveConstructor Operator">▷</a> <a id="8025" href="BitML.Semantics.InferenceRules.html#7796" class="Bound">d</a> <a id="8027" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">]</a> <a id="8029" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="8031" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>


  <a id="_—→[_]_.[C-Control]"></a><a id="8037" href="BitML.Semantics.InferenceRules.html#8037" class="InductiveConstructor">[C-Control]</a> <a id="8049" class="Symbol">:</a>
    <a id="8055" class="Symbol">∀</a> <a id="8057" class="Symbol">{</a><a id="8058" href="BitML.Semantics.InferenceRules.html#8058" class="Bound">i</a> <a id="8060" class="Symbol">:</a> <a id="8062" href="Prelude.Lists.html#3115" class="Function">Index</a> <a id="8068" href="BitML.Contracts.Types.html#1559" class="Generalizable">c</a><a id="8069" class="Symbol">}</a>

    <a id="8076" class="Symbol">→</a> <a id="8078" class="Keyword">let</a> <a id="8082" href="BitML.Semantics.InferenceRules.html#8082" class="Bound">d</a>  <a id="8085" class="Symbol">=</a> <a id="8087" href="BitML.Contracts.Types.html#1559" class="Generalizable">c</a> <a id="8089" href="Prelude.Lists.html#3170" class="Function Operator">‼</a> <a id="8091" href="BitML.Semantics.InferenceRules.html#8058" class="Bound">i</a>
          <a id="8103" href="BitML.Semantics.InferenceRules.html#8103" class="Bound">d′</a> <a id="8106" class="Symbol">=</a> <a id="8108" href="BitML.Contracts.Helpers.html#6588" class="Function">removeTopDecorations</a> <a id="8129" href="BitML.Semantics.InferenceRules.html#8082" class="Bound">d</a>
      <a id="8137" class="Keyword">in</a>

      <a id="8147" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">⟨</a> <a id="8149" href="Data.List.Base.html#4458" class="Function Operator">[</a> <a id="8151" href="BitML.Semantics.InferenceRules.html#8103" class="Bound">d′</a> <a id="8154" href="Data.List.Base.html#4458" class="Function Operator">]</a> <a id="8156" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">,</a> <a id="8158" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="8160" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">⟩at</a> <a id="8164" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="8166" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="8168" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a> <a id="8170" href="BitML.Semantics.Configurations.Helpers.html#2362" class="Function Operator">≈</a> <a id="8172" href="BitML.Semantics.Configurations.Types.html#1577" class="Generalizable">L</a>
    <a id="8178" class="Symbol">→</a> <a id="8180" href="BitML.Semantics.Configurations.Types.html#1577" class="Generalizable">L</a> <a id="8182" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">—→[</a> <a id="8186" href="BitML.Semantics.Labels.Types.html#2506" class="Generalizable">α</a> <a id="8188" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">]</a> <a id="8190" href="BitML.Semantics.Configurations.Types.html#1569" class="Generalizable">Γ′</a> <a id="8193" class="Comment">-- T0D0 replace with _—↠_?</a>
    <a id="8224" class="Symbol">→</a> <a id="8226" href="BitML.Semantics.Labels.Types.html#2541" class="Function">cv</a> <a id="8229" href="BitML.Semantics.Labels.Types.html#2506" class="Generalizable">α</a> <a id="8231" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="8233" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="8238" href="BitML.BasicTypes.html#859" class="Generalizable">x</a>

      <a id="8247" class="Comment">------------------------------------------------------------------</a>

    <a id="8319" class="Symbol">→</a> <a id="8321" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">⟨</a> <a id="8323" href="BitML.Contracts.Types.html#1559" class="Generalizable">c</a> <a id="8325" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">,</a> <a id="8327" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="8329" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">⟩at</a> <a id="8333" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="8335" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="8337" href="BitML.Semantics.Configurations.Types.html#1604" class="Function Operator">||</a> <a id="8340" href="Data.List.Base.html#1497" class="Function">map</a> <a id="8344" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">_auth[</a> <a id="8351" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="8353" href="BitML.Semantics.Actions.Types.html#1036" class="InductiveConstructor Operator">▷</a> <a id="8355" href="BitML.Semantics.InferenceRules.html#8082" class="Bound">d</a> <a id="8357" href="BitML.Semantics.Configurations.Types.html#1271" class="InductiveConstructor Operator">]</a> <a id="8359" class="Symbol">(</a><a id="8360" href="Prelude.Set%2527.html#4768" class="Function">SETₚ.nub</a> <a id="8369" class="Symbol">(</a><a id="8370" href="BitML.Contracts.Helpers.html#6425" class="Function">authDecorations</a> <a id="8386" href="BitML.Semantics.InferenceRules.html#8082" class="Bound">d</a><a id="8387" class="Symbol">))</a> <a id="8390" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="8392" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a>
        <a id="8402" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">—→[</a> <a id="8406" href="BitML.Semantics.Labels.Types.html#2506" class="Generalizable">α</a> <a id="8408" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">]</a>
      <a id="8416" href="BitML.Semantics.Configurations.Types.html#1569" class="Generalizable">Γ′</a>


<a id="8421" class="Comment">-----------------------------------------------------------------------------------</a>
<a id="8505" class="Comment">-- Semantic rules for timed configurations.</a>

<a id="8550" class="Keyword">infix</a> <a id="8556" class="Number">3</a> <a id="8558" href="BitML.Semantics.InferenceRules.html#8563" class="Function Operator">_≈ₜ_</a>
<a id="_≈ₜ_"></a><a id="8563" href="BitML.Semantics.InferenceRules.html#8563" class="Function Operator">_≈ₜ_</a> <a id="8568" class="Symbol">:</a> <a id="8570" href="BitML.Semantics.Configurations.Types.html#1726" class="Record">TimedConfiguration</a> <a id="8589" class="Symbol">→</a> <a id="8591" href="BitML.Semantics.Configurations.Types.html#1726" class="Record">TimedConfiguration</a> <a id="8610" class="Symbol">→</a> <a id="8612" class="PrimitiveType">Set</a>
<a id="8616" href="BitML.Semantics.InferenceRules.html#8616" class="Bound">c</a> <a id="8618" href="BitML.Semantics.InferenceRules.html#8563" class="Function Operator">≈ₜ</a> <a id="8621" href="BitML.Semantics.InferenceRules.html#8621" class="Bound">c′</a> <a id="8624" class="Symbol">=</a> <a id="8626" class="Symbol">(</a><a id="8627" href="BitML.Semantics.Configurations.Types.html#1813" class="Field">time</a> <a id="8632" href="BitML.Semantics.InferenceRules.html#8616" class="Bound">c</a> <a id="8634" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="8636" href="BitML.Semantics.Configurations.Types.html#1813" class="Field">time</a> <a id="8641" href="BitML.Semantics.InferenceRules.html#8621" class="Bound">c′</a><a id="8643" class="Symbol">)</a> <a id="8645" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="8647" class="Symbol">(</a><a id="8648" href="BitML.Semantics.Configurations.Types.html#1788" class="Field">cfg</a> <a id="8652" href="BitML.Semantics.InferenceRules.html#8616" class="Bound">c</a> <a id="8654" href="BitML.Semantics.Configurations.Helpers.html#2362" class="Function Operator">≈</a> <a id="8656" href="BitML.Semantics.Configurations.Types.html#1788" class="Field">cfg</a> <a id="8660" href="BitML.Semantics.InferenceRules.html#8621" class="Bound">c′</a><a id="8662" class="Symbol">)</a>

<a id="8665" class="Keyword">infix</a> <a id="8671" class="Number">-1</a> <a id="8674" href="BitML.Semantics.InferenceRules.html#8688" class="Datatype Operator">_—→ₜ[_]_</a>
<a id="8683" class="Keyword">data</a> <a id="_—→ₜ[_]_"></a><a id="8688" href="BitML.Semantics.InferenceRules.html#8688" class="Datatype Operator">_—→ₜ[_]_</a> <a id="8697" class="Symbol">:</a> <a id="8699" href="BitML.Semantics.Configurations.Types.html#1726" class="Record">TimedConfiguration</a> <a id="8718" class="Symbol">→</a> <a id="8720" href="BitML.Semantics.Labels.Types.html#958" class="Datatype">Label</a> <a id="8726" class="Symbol">→</a> <a id="8728" href="BitML.Semantics.Configurations.Types.html#1726" class="Record">TimedConfiguration</a> <a id="8747" class="Symbol">→</a> <a id="8749" class="PrimitiveType">Set</a> <a id="8753" class="Keyword">where</a>

  <a id="8762" class="Comment">-- iv) Rules for handling time</a>
  <a id="_—→ₜ[_]_.[Action]"></a><a id="8795" href="BitML.Semantics.InferenceRules.html#8795" class="InductiveConstructor">[Action]</a> <a id="8804" class="Symbol">:</a>

      <a id="8813" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a> <a id="8815" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">—→[</a> <a id="8819" href="BitML.Semantics.Labels.Types.html#2506" class="Generalizable">α</a> <a id="8821" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">]</a> <a id="8823" href="BitML.Semantics.Configurations.Types.html#1569" class="Generalizable">Γ′</a>
    <a id="8830" class="Symbol">→</a> <a id="8832" href="BitML.Semantics.Labels.Types.html#2541" class="Function">cv</a> <a id="8835" href="BitML.Semantics.Labels.Types.html#2506" class="Generalizable">α</a> <a id="8837" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="8839" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a>

      <a id="8854" class="Comment">-----------------------</a>

    <a id="8883" class="Symbol">→</a> <a id="8885" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a> <a id="8887" href="BitML.Semantics.Configurations.Types.html#1771" class="InductiveConstructor Operator">at</a> <a id="8890" href="BitML.BasicTypes.html#897" class="Generalizable">t</a> <a id="8892" href="BitML.Semantics.InferenceRules.html#8688" class="Datatype Operator">—→ₜ[</a> <a id="8897" href="BitML.Semantics.Labels.Types.html#2506" class="Generalizable">α</a> <a id="8899" href="BitML.Semantics.InferenceRules.html#8688" class="Datatype Operator">]</a> <a id="8901" href="BitML.Semantics.Configurations.Types.html#1569" class="Generalizable">Γ′</a> <a id="8904" href="BitML.Semantics.Configurations.Types.html#1771" class="InductiveConstructor Operator">at</a> <a id="8907" href="BitML.BasicTypes.html#897" class="Generalizable">t</a>

  <a id="_—→ₜ[_]_.[Delay]"></a><a id="8912" href="BitML.Semantics.InferenceRules.html#8912" class="InductiveConstructor">[Delay]</a> <a id="8920" class="Symbol">:</a>

      <a id="8929" href="BitML.BasicTypes.html#902" class="Generalizable">δ</a> <a id="8931" href="Data.Nat.Base.html#1111" class="Function Operator">&gt;</a> <a id="8933" class="Number">0</a>

      <a id="8942" class="Comment">-------------------------------------</a>

    <a id="8985" class="Symbol">→</a> <a id="8987" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a> <a id="8989" href="BitML.Semantics.Configurations.Types.html#1771" class="InductiveConstructor Operator">at</a> <a id="8992" href="BitML.BasicTypes.html#897" class="Generalizable">t</a> <a id="8994" href="BitML.Semantics.InferenceRules.html#8688" class="Datatype Operator">—→ₜ[</a> <a id="8999" href="BitML.Semantics.Labels.Types.html#2436" class="InductiveConstructor Operator">delay[</a> <a id="9006" href="BitML.BasicTypes.html#902" class="Generalizable">δ</a> <a id="9008" href="BitML.Semantics.Labels.Types.html#2436" class="InductiveConstructor Operator">]</a> <a id="9010" href="BitML.Semantics.InferenceRules.html#8688" class="Datatype Operator">]</a> <a id="9012" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a> <a id="9014" href="BitML.Semantics.Configurations.Types.html#1771" class="InductiveConstructor Operator">at</a> <a id="9017" class="Symbol">(</a><a id="9018" href="BitML.BasicTypes.html#897" class="Generalizable">t</a> <a id="9020" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="9022" href="BitML.BasicTypes.html#902" class="Generalizable">δ</a><a id="9023" class="Symbol">)</a>

  <a id="_—→ₜ[_]_.[Timeout]"></a><a id="9028" href="BitML.Semantics.InferenceRules.html#9028" class="InductiveConstructor">[Timeout]</a> <a id="9038" class="Symbol">:</a>
    <a id="9044" class="Symbol">∀</a> <a id="9046" class="Symbol">{</a><a id="9047" href="BitML.Semantics.InferenceRules.html#9047" class="Bound">i</a> <a id="9049" class="Symbol">:</a> <a id="9051" href="Prelude.Lists.html#3115" class="Function">Index</a> <a id="9057" href="BitML.Contracts.Types.html#1559" class="Generalizable">c</a><a id="9058" class="Symbol">}</a>

    <a id="9065" class="Symbol">→</a> <a id="9067" class="Keyword">let</a> <a id="9071" href="BitML.Semantics.InferenceRules.html#9071" class="Bound">d</a>         <a id="9081" class="Symbol">=</a> <a id="9083" href="BitML.Contracts.Types.html#1559" class="Generalizable">c</a> <a id="9085" href="Prelude.Lists.html#3170" class="Function Operator">‼</a> <a id="9087" href="BitML.Semantics.InferenceRules.html#9047" class="Bound">i</a>
          <a id="9099" href="BitML.Semantics.InferenceRules.html#9099" class="Bound">d′</a>        <a id="9109" class="Symbol">=</a> <a id="9111" href="BitML.Contracts.Helpers.html#6588" class="Function">removeTopDecorations</a> <a id="9132" href="BitML.Semantics.InferenceRules.html#9071" class="Bound">d</a>
          <a id="9144" class="Symbol">(</a><a id="9145" href="BitML.Semantics.InferenceRules.html#9145" class="Bound">As</a> <a id="9148" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="9150" href="BitML.Semantics.InferenceRules.html#9150" class="Bound">ts</a><a id="9152" class="Symbol">)</a> <a id="9154" class="Symbol">=</a> <a id="9156" href="BitML.Contracts.Helpers.html#6268" class="Function">decorations</a> <a id="9168" href="BitML.Semantics.InferenceRules.html#9071" class="Bound">d</a>
      <a id="9176" class="Keyword">in</a>

      <a id="9186" href="BitML.Semantics.InferenceRules.html#9145" class="Bound">As</a> <a id="9189" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="9191" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>                           <a id="9220" class="Comment">-- no authorizations required to pick branch</a>
    <a id="9269" class="Symbol">→</a> <a id="9271" href="Data.List.Relation.Unary.All.html#1274" class="Datatype">All</a> <a id="9275" class="Symbol">(</a><a id="9276" href="Data.Nat.Base.html#937" class="Datatype Operator">_≤</a> <a id="9279" href="BitML.BasicTypes.html#897" class="Generalizable">t</a><a id="9280" class="Symbol">)</a> <a id="9282" href="BitML.Semantics.InferenceRules.html#9150" class="Bound">ts</a>                     <a id="9305" class="Comment">-- all time constraints are satisfied</a>
    <a id="9347" class="Symbol">→</a> <a id="9349" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">⟨</a> <a id="9351" href="Data.List.Base.html#4458" class="Function Operator">[</a> <a id="9353" href="BitML.Semantics.InferenceRules.html#9099" class="Bound">d′</a> <a id="9356" href="Data.List.Base.html#4458" class="Function Operator">]</a> <a id="9358" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">,</a> <a id="9360" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="9362" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">⟩at</a> <a id="9366" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="9368" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="9370" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a> <a id="9372" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">—→[</a> <a id="9376" href="BitML.Semantics.Labels.Types.html#2506" class="Generalizable">α</a> <a id="9378" href="BitML.Semantics.InferenceRules.html#2120" class="Datatype Operator">]</a> <a id="9380" href="BitML.Semantics.Configurations.Types.html#1569" class="Generalizable">Γ′</a> <a id="9383" class="Comment">-- resulting state if we pick branch</a>
    <a id="9424" class="Symbol">→</a> <a id="9426" href="BitML.Semantics.Labels.Types.html#2541" class="Function">cv</a> <a id="9429" href="BitML.Semantics.Labels.Types.html#2506" class="Generalizable">α</a> <a id="9431" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="9433" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="9438" href="BitML.BasicTypes.html#859" class="Generalizable">x</a>

      <a id="9447" class="Comment">---------------------------------------------------------</a>

    <a id="9510" class="Symbol">→</a> <a id="9512" class="Symbol">(</a><a id="9513" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">⟨</a> <a id="9515" href="BitML.Contracts.Types.html#1559" class="Generalizable">c</a> <a id="9517" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">,</a> <a id="9519" href="BitML.BasicTypes.html#789" class="Generalizable">v</a> <a id="9521" href="BitML.Semantics.Configurations.Types.html#1080" class="InductiveConstructor Operator">⟩at</a> <a id="9525" href="BitML.BasicTypes.html#859" class="Generalizable">x</a> <a id="9527" href="BitML.Semantics.Configurations.Types.html#1503" class="InductiveConstructor Operator">∣</a> <a id="9529" href="BitML.Semantics.Configurations.Types.html#1567" class="Generalizable">Γ</a><a id="9530" class="Symbol">)</a> <a id="9532" href="BitML.Semantics.Configurations.Types.html#1771" class="InductiveConstructor Operator">at</a> <a id="9535" href="BitML.BasicTypes.html#897" class="Generalizable">t</a> <a id="9537" href="BitML.Semantics.InferenceRules.html#8688" class="Datatype Operator">—→ₜ[</a> <a id="9542" href="BitML.Semantics.Labels.Types.html#2506" class="Generalizable">α</a> <a id="9544" href="BitML.Semantics.InferenceRules.html#8688" class="Datatype Operator">]</a> <a id="9546" href="BitML.Semantics.Configurations.Types.html#1569" class="Generalizable">Γ′</a> <a id="9549" href="BitML.Semantics.Configurations.Types.html#1771" class="InductiveConstructor Operator">at</a> <a id="9552" href="BitML.BasicTypes.html#897" class="Generalizable">t</a>
</pre></body></html>