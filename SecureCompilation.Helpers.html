<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>SecureCompilation.Helpers</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/formal-bitml-to-bitcoin/tree/master/SecureCompilation/Helpers.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Comment">-- {-# OPTIONS --auto-inline #-}</a>
<a id="34" class="Keyword">open</a> <a id="39" class="Keyword">import</a> <a id="46" href="Prelude.Init.html" class="Module">Prelude.Init</a> <a id="59" class="Keyword">hiding</a> <a id="66" class="Symbol">(</a><a id="67" href="Data.Bool.Base.html#1460" class="Function">T</a><a id="68" class="Symbol">)</a>
<a id="70" class="Keyword">open</a> <a id="75" href="Prelude.Init.html#7254" class="Module">L.Mem</a> <a id="81" class="Keyword">using</a> <a id="87" class="Symbol">(</a><a id="88" href="Data.List.Membership.Propositional.Properties.html#3965" class="Function">∈-++⁺ˡ</a><a id="94" class="Symbol">;</a> <a id="96" href="Data.List.Membership.Propositional.Properties.html#4054" class="Function">∈-++⁺ʳ</a><a id="102" class="Symbol">)</a>
<a id="104" class="Keyword">open</a> <a id="109" class="Keyword">import</a> <a id="116" href="Prelude.Lists.html" class="Module">Prelude.Lists</a>
<a id="130" class="Keyword">open</a> <a id="135" class="Keyword">import</a> <a id="142" href="Prelude.Lists.Collections.html" class="Module">Prelude.Lists.Collections</a>
<a id="168" class="Keyword">open</a> <a id="173" class="Keyword">import</a> <a id="180" href="Prelude.Lists.Dec.html" class="Module">Prelude.Lists.Dec</a>
<a id="198" class="Keyword">open</a> <a id="203" class="Keyword">import</a> <a id="210" href="Prelude.Membership.html" class="Module">Prelude.Membership</a>
<a id="229" class="Keyword">open</a> <a id="234" class="Keyword">import</a> <a id="241" href="Prelude.Null.html" class="Module">Prelude.Null</a>
<a id="254" class="Keyword">open</a> <a id="259" class="Keyword">import</a> <a id="266" href="Prelude.Ord.html" class="Module">Prelude.Ord</a>
<a id="278" class="Keyword">open</a> <a id="283" class="Keyword">import</a> <a id="290" href="Prelude.Setoid.html" class="Module">Prelude.Setoid</a>
<a id="305" class="Keyword">open</a> <a id="310" class="Keyword">import</a> <a id="317" href="Prelude.General.html" class="Module">Prelude.General</a>
<a id="333" class="Keyword">open</a> <a id="338" class="Keyword">import</a> <a id="345" href="Prelude.InferenceRules.html" class="Module">Prelude.InferenceRules</a>
<a id="368" class="Keyword">open</a> <a id="373" class="Keyword">import</a> <a id="380" href="Prelude.Decidable.html" class="Module">Prelude.Decidable</a>
<a id="398" class="Keyword">open</a> <a id="403" class="Keyword">import</a> <a id="410" href="Prelude.Traces.html" class="Module">Prelude.Traces</a>
<a id="425" class="Keyword">open</a> <a id="430" class="Keyword">import</a> <a id="437" href="Prelude.Nary.html" class="Module">Prelude.Nary</a>
<a id="450" class="Keyword">open</a> <a id="455" class="Keyword">import</a> <a id="462" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>

<a id="477" class="Keyword">open</a> <a id="482" class="Keyword">import</a> <a id="489" href="Bitcoin.Crypto.html" class="Module">Bitcoin.Crypto</a>

<a id="505" class="Keyword">open</a> <a id="510" class="Keyword">import</a> <a id="517" href="SecureCompilation.ModuleParameters.html" class="Module">SecureCompilation.ModuleParameters</a> <a id="552" class="Keyword">using</a> <a id="558" class="Symbol">(</a><a id="559" href="SecureCompilation.ModuleParameters.html#209" class="Record">⋯</a><a id="560" class="Symbol">)</a>

<a id="563" class="Keyword">module</a> <a id="570" href="SecureCompilation.Helpers.html" class="Module">SecureCompilation.Helpers</a> <a id="596" class="Symbol">(</a><a id="597" href="SecureCompilation.Helpers.html#597" class="Bound">⋯</a> <a id="599" class="Symbol">:</a> <a id="601" href="SecureCompilation.ModuleParameters.html#209" class="Record">⋯</a><a id="602" class="Symbol">)</a> <a id="604" class="Symbol">(</a><a id="605" class="Keyword">let</a> <a id="609" class="Keyword">open</a> <a id="614" href="SecureCompilation.ModuleParameters.html#209" class="Module">⋯</a> <a id="616" href="SecureCompilation.Helpers.html#597" class="Bound">⋯</a><a id="617" class="Symbol">)</a> <a id="619" class="Keyword">where</a>

<a id="626" class="Keyword">open</a> <a id="631" class="Keyword">import</a> <a id="638" href="SymbolicModel.html" class="Module">SymbolicModel</a> <a id="652" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a> as <a id="S"></a><a id="658" href="SecureCompilation.Helpers.html#658" class="Module">S</a>
  <a id="662" class="Keyword">hiding</a> <a id="669" class="Symbol">(</a> <a id="671" href="Prelude.Closures.html#5661" class="InductiveConstructor Operator">_∎</a><a id="673" class="Symbol">;</a> <a id="675" href="Prelude.Closures.html#5559" class="InductiveConstructor Operator">begin_</a>
         <a id="691" class="Symbol">;</a> <a id="693" class="Comment">{-variables-}</a> <a id="707" href="BitML.BasicTypes.html#578" class="Generalizable">t</a><a id="708" class="Symbol">;</a> <a id="710" href="BitML.BasicTypes.html#582" class="Generalizable">t′</a><a id="712" class="Symbol">;</a> <a id="714" href="BitML.Semantics.Label.html#1651" class="Generalizable">α</a><a id="715" class="Symbol">;</a> <a id="717" href="BitML.Contracts.Types.html#2159" class="Generalizable">g</a><a id="718" class="Symbol">;</a> <a id="720" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a><a id="721" class="Symbol">;</a> <a id="723" href="BitML.Contracts.Types.html#1254" class="Generalizable">c′</a><a id="725" class="Symbol">;</a> <a id="727" href="BitML.Contracts.Types.html#1273" class="Generalizable">cs</a><a id="729" class="Symbol">;</a> <a id="731" href="BitML.Contracts.Types.html#1241" class="Generalizable">ds</a><a id="733" class="Symbol">;</a> <a id="735" href="BitML.BasicTypes.html#527" class="Generalizable">x</a><a id="736" class="Symbol">;</a> <a id="738" href="BitML.BasicTypes.html#533" class="Generalizable">x′</a><a id="740" class="Symbol">;</a> <a id="742" href="BitML.BasicTypes.html#529" class="Generalizable">y</a><a id="743" class="Symbol">;</a> <a id="745" href="BitML.BasicTypes.html#536" class="Generalizable">y′</a><a id="747" class="Symbol">;</a> <a id="749" href="BitML.BasicTypes.html#503" class="Generalizable">as</a><a id="751" class="Symbol">;</a> <a id="753" href="BitML.BasicTypes.html#461" class="Generalizable">vs</a><a id="755" class="Symbol">;</a> <a id="757" href="BitML.BasicTypes.html#558" class="Generalizable">xs</a>
         <a id="769" class="Symbol">;</a> <a id="771" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Γ₀</a><a id="773" class="Symbol">;</a> <a id="775" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a><a id="776" class="Symbol">;</a> <a id="778" href="BitML.Semantics.Configurations.Types.html#1140" class="Generalizable">Γ′</a><a id="780" class="Symbol">;</a> <a id="782" href="BitML.Semantics.Configurations.Types.html#1143" class="Generalizable">Γ″</a><a id="784" class="Symbol">;</a> <a id="786" href="BitML.Semantics.Configurations.Types.html#1456" class="Generalizable">Γₜ</a><a id="788" class="Symbol">;</a> <a id="790" href="BitML.Semantics.Configurations.Types.html#1459" class="Generalizable">Γₜ′</a><a id="793" class="Symbol">;</a> <a id="795" href="BitML.Semantics.Configurations.Types.html#1463" class="Generalizable">Γₜ″</a><a id="798" class="Symbol">;</a> <a id="800" href="SymbolicModel.Run.Base.html#399" class="Generalizable">R</a><a id="801" class="Symbol">;</a> <a id="803" href="SymbolicModel.Run.Base.html#401" class="Generalizable">R′</a><a id="805" class="Symbol">;</a> <a id="807" href="BitML.Semantics.Configurations.Types.html#1157" class="Generalizable">Δ</a><a id="808" class="Symbol">;</a> <a id="810" href="BitML.Contracts.Types.html#1222" class="Generalizable">d</a><a id="811" class="Symbol">;</a> <a id="813" href="BitML.BasicTypes.html#443" class="Generalizable">v</a><a id="814" class="Symbol">;</a> <a id="816" href="BitML.Contracts.Types.html#1298" class="Generalizable">vcs</a>
         <a id="829" class="Symbol">)</a>
<a id="831" class="Keyword">open</a> <a id="836" class="Keyword">import</a> <a id="843" href="ComputationalModel.html" class="Module">ComputationalModel</a> <a id="862" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a> <a id="865" href="SecureCompilation.ModuleParameters.html#450" class="Field">finPart</a> <a id="873" href="SecureCompilation.ModuleParameters.html#487" class="Field">keypairs</a> as <a id="C"></a><a id="885" href="SecureCompilation.Helpers.html#885" class="Module">C</a>
  <a id="889" class="Keyword">using</a> <a id="895" class="Symbol">(</a><a id="896" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a><a id="898" class="Symbol">;</a> <a id="900" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a><a id="903" class="Symbol">;</a> <a id="905" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a><a id="913" class="Symbol">;</a> <a id="915" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">_∙value</a><a id="922" class="Symbol">;</a> <a id="924" href="ComputationalModel.KeyPairs.html#208" class="Function">K̂</a><a id="926" class="Symbol">;</a> <a id="928" href="ComputationalModel.Strategy.html#4247" class="Datatype">CRun</a><a id="932" class="Symbol">;</a> <a id="934" href="ComputationalModel.Strategy.html#5964" class="Function">oracleInteractionsᶜ</a><a id="953" class="Symbol">;</a> <a id="955" href="ComputationalModel.Strategy.html#935" class="Function">Message</a><a id="962" class="Symbol">;</a> <a id="964" href="Bitcoin.Tx.Base.html#394" class="InductiveConstructor Operator">_at_</a><a id="968" class="Symbol">)</a>
<a id="970" class="Keyword">open</a> <a id="975" class="Keyword">import</a> <a id="982" href="Compiler.html" class="Module">Compiler</a> <a id="991" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a> <a id="994" href="SecureCompilation.ModuleParameters.html#357" class="Field">η</a>
<a id="996" class="Keyword">open</a> <a id="1001" class="Keyword">import</a> <a id="1008" href="Compiler.Subterms.html" class="Module">Compiler.Subterms</a> <a id="1026" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a>
<a id="1029" class="Keyword">open</a> <a id="1034" class="Keyword">import</a> <a id="1041" href="SecureCompilation.ComputationalContracts.html" class="Module">SecureCompilation.ComputationalContracts</a> <a id="1082" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a>

<a id="1086" class="Keyword">postulate</a>
  <a id="SIGᵖ"></a><a id="1098" href="SecureCompilation.Helpers.html#1098" class="Postulate">SIGᵖ</a> <a id="1103" class="Symbol">:</a> <a id="1105" class="Symbol">∀</a> <a id="1107" class="Symbol">{</a><a id="1108" href="SecureCompilation.Helpers.html#1108" class="Bound">A</a> <a id="1110" class="Symbol">:</a> <a id="1112" href="Agda.Primitive.html#320" class="Primitive">Set</a><a id="1115" class="Symbol">}</a> <a id="1117" class="Symbol">→</a> <a id="1119" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a> <a id="1121" class="Comment">{- public key -}</a> <a id="1138" class="Symbol">→</a> <a id="1140" href="SecureCompilation.Helpers.html#1108" class="Bound">A</a> <a id="1142" class="Symbol">→</a> <a id="1144" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a>

  <a id="∣_∣ᶻ"></a><a id="1149" href="SecureCompilation.Helpers.html#1149" class="Postulate Operator">∣_∣ᶻ</a> <a id="1154" class="Symbol">:</a> <a id="1156" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a> <a id="1158" class="Symbol">→</a> <a id="1160" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
  <a id="∣_∣ᵐ"></a><a id="1164" href="SecureCompilation.Helpers.html#1164" class="Postulate Operator">∣_∣ᵐ</a> <a id="1169" class="Symbol">:</a> <a id="1171" href="ComputationalModel.Strategy.html#935" class="Function">Message</a> <a id="1179" class="Symbol">→</a> <a id="1181" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>

<a id="CheckOracleInteractions"></a><a id="1184" href="SecureCompilation.Helpers.html#1184" class="Function">CheckOracleInteractions</a> <a id="1208" class="Symbol">:</a> <a id="1210" href="ComputationalModel.Strategy.html#4247" class="Datatype">CRun</a> <a id="1215" class="Symbol">→</a> <a id="1217" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1222" class="Symbol">(</a><a id="1223" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="1230" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="1232" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="1238" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="1240" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="1242" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a><a id="1243" class="Symbol">)</a> <a id="1245" class="Symbol">→</a> <a id="1247" href="Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="1251" href="SecureCompilation.Helpers.html#1184" class="Function">CheckOracleInteractions</a> <a id="1275" href="SecureCompilation.Helpers.html#1275" class="Bound">Rᶜ</a> <a id="1278" class="Symbol">=</a> <a id="1280" class="Keyword">let</a> <a id="1284" href="SecureCompilation.Helpers.html#1284" class="Bound">os</a> <a id="1287" class="Symbol">=</a> <a id="1289" href="ComputationalModel.Strategy.html#5964" class="Function">oracleInteractionsᶜ</a> <a id="1309" href="SecureCompilation.Helpers.html#1275" class="Bound">Rᶜ</a> <a id="1312" class="Keyword">in</a>
  <a id="1317" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="1321" class="Symbol">λ</a> <a id="1323" class="Keyword">where</a>
    <a id="1333" class="Symbol">(_</a> <a id="1336" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1338" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="1343" href="SecureCompilation.Helpers.html#1343" class="Bound">Nᵢ</a> <a id="1346" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1348" href="SecureCompilation.Helpers.html#1348" class="Bound">hᵢ</a><a id="1350" class="Symbol">)</a> <a id="1352" class="Symbol">→</a>
      <a id="1360" href="Data.Product.html#1378" class="Function">∃</a> <a id="1362" class="Symbol">λ</a> <a id="1364" href="SecureCompilation.Helpers.html#1364" class="Bound">B</a> <a id="1366" class="Symbol">→</a> <a id="1368" href="Data.Product.html#1378" class="Function">∃</a> <a id="1370" class="Symbol">λ</a> <a id="1372" href="SecureCompilation.Helpers.html#1372" class="Bound">mᵢ</a> <a id="1375" class="Symbol">→</a> <a id="1377" class="Symbol">((</a><a id="1379" href="SecureCompilation.Helpers.html#1364" class="Bound">B</a> <a id="1381" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1383" href="SecureCompilation.Helpers.html#1372" class="Bound">mᵢ</a> <a id="1386" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1388" href="SecureCompilation.Helpers.html#1348" class="Bound">hᵢ</a><a id="1390" class="Symbol">)</a> <a id="1392" href="Data.List.Membership.Setoid.html#896" class="Function Operator">L.Mem.∈</a> <a id="1400" href="SecureCompilation.Helpers.html#1284" class="Bound">os</a><a id="1402" class="Symbol">)</a> <a id="1404" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="1406" class="Symbol">(</a><a id="1407" href="SecureCompilation.Helpers.html#1164" class="Postulate Operator">∣</a> <a id="1409" href="SecureCompilation.Helpers.html#1372" class="Bound">mᵢ</a> <a id="1412" href="SecureCompilation.Helpers.html#1164" class="Postulate Operator">∣ᵐ</a> <a id="1415" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1417" href="SecureCompilation.ModuleParameters.html#357" class="Field">η</a> <a id="1419" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="1421" href="SecureCompilation.Helpers.html#1343" class="Bound">Nᵢ</a><a id="1423" class="Symbol">)</a>
    <a id="1429" class="Symbol">(_</a> <a id="1432" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1434" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a> <a id="1442" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1444" href="SecureCompilation.Helpers.html#1444" class="Bound">hᵢ</a><a id="1446" class="Symbol">)</a> <a id="1448" class="Symbol">→</a>
      <a id="1456" href="SecureCompilation.Helpers.html#1444" class="Bound">hᵢ</a> <a id="1459" href="Prelude.Membership.html#502" class="Function Operator">∉</a> <a id="1461" href="Data.List.Base.html#1553" class="Function">map</a> <a id="1465" class="Symbol">(</a><a id="1466" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="1472" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1474" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="1479" class="Symbol">)</a> <a id="1481" class="Symbol">(</a><a id="1482" href="Data.List.Base.html#8101" class="Function">filter</a> <a id="1489" class="Symbol">((</a><a id="1491" href="SecureCompilation.ModuleParameters.html#357" class="Field">η</a> <a id="1493" href="Prelude.Ord.Dec.html#430" class="Function Operator">≤?_</a><a id="1496" class="Symbol">)</a> <a id="1498" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1500" href="SecureCompilation.Helpers.html#1164" class="Postulate Operator">∣_∣ᵐ</a> <a id="1505" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1507" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="1513" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1515" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="1520" class="Symbol">)</a> <a id="1522" href="SecureCompilation.Helpers.html#1284" class="Bound">os</a><a id="1524" class="Symbol">)</a>

<a id="1527" class="Comment">-- Convenient wrapper for calling the BitML compiler.</a>

<a id="COMPILE"></a><a id="1582" href="SecureCompilation.Helpers.html#1582" class="Function">COMPILE</a> <a id="1590" class="Symbol">:</a> <a id="1592" href="SymbolicModel.Mappings.Base.html#1314" class="Function">𝔾</a> <a id="1594" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="1597" class="Symbol">→</a> <a id="1599" href="Compiler.Outputs.html#206" class="Function">InitTx</a> <a id="1606" class="Symbol">(</a><a id="1607" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="1610" class="Symbol">.</a><a id="1611" href="BitML.Contracts.Types.html#2330" class="Field">G</a><a id="1612" class="Symbol">)</a> <a id="1614" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="1616" class="Symbol">(</a><a id="1617" href="BitML.Contracts.Subterms.html#647" class="Function">subterms</a> <a id="1626" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="1629" href="Prelude.Lists.Mappings.html#654" class="Function Operator">↦′</a> <a id="1632" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="1641" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1643" href="Compiler.Subterms.html#622" class="Field Operator">_∗</a><a id="1645" class="Symbol">)</a>
<a id="1647" href="SecureCompilation.Helpers.html#1582" class="Function">COMPILE</a> <a id="1655" class="Symbol">{</a><a id="1656" class="Argument">ad</a> <a id="1659" class="Symbol">=</a> <a id="1661" href="SecureCompilation.Helpers.html#1661" class="Bound">ad</a><a id="1663" class="Symbol">}</a> <a id="1665" class="Symbol">(</a><a id="1666" href="SecureCompilation.Helpers.html#1666" class="Bound">vad</a> <a id="1670" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1672" href="SecureCompilation.Helpers.html#1672" class="Bound">txout₀</a> <a id="1679" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1681" href="SecureCompilation.Helpers.html#1681" class="Bound">sechash₀</a> <a id="1690" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1692" href="SecureCompilation.Helpers.html#1692" class="Bound">κ₀</a><a id="1694" class="Symbol">)</a> <a id="1696" class="Symbol">=</a>
  <a id="1700" class="Keyword">let</a>
    <a id="1708" href="SecureCompilation.Helpers.html#1708" class="Bound">K</a> <a id="1710" class="Symbol">:</a> <a id="1712" href="Compiler.Mappings.html#394" class="Function">𝕂</a> <a id="1714" class="Symbol">(</a><a id="1715" href="SecureCompilation.Helpers.html#1661" class="Bound">ad</a> <a id="1718" class="Symbol">.</a><a id="1719" href="BitML.Contracts.Types.html#2330" class="Field">G</a><a id="1720" class="Symbol">)</a>
    <a id="1726" href="SecureCompilation.Helpers.html#1708" class="Bound">K</a> <a id="1728" class="Symbol">{</a><a id="1729" href="SecureCompilation.Helpers.html#1729" class="Bound">p</a><a id="1730" class="Symbol">}</a> <a id="1732" class="Symbol">_</a> <a id="1734" class="Symbol">=</a> <a id="1736" href="ComputationalModel.KeyPairs.html#208" class="Function">K̂</a> <a id="1739" href="SecureCompilation.Helpers.html#1729" class="Bound">p</a>

    <a id="1746" href="SecureCompilation.Helpers.html#1746" class="Bound">T</a> <a id="1748" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1750" href="SecureCompilation.Helpers.html#1750" class="Bound">∀d</a> <a id="1753" class="Symbol">=</a> <a id="1755" href="Compiler.Translation.html#1219" class="Function">bitml-compiler</a> <a id="1770" class="Symbol">{</a><a id="1771" class="Argument">ad</a> <a id="1774" class="Symbol">=</a> <a id="1776" href="SecureCompilation.Helpers.html#1661" class="Bound">ad</a><a id="1778" class="Symbol">}</a> <a id="1780" href="SecureCompilation.Helpers.html#1666" class="Bound">vad</a> <a id="1784" href="SecureCompilation.Helpers.html#1681" class="Bound">sechash₀</a> <a id="1793" href="SecureCompilation.Helpers.html#1672" class="Bound">txout₀</a> <a id="1800" href="SecureCompilation.Helpers.html#1708" class="Bound">K</a> <a id="1802" href="SecureCompilation.Helpers.html#1692" class="Bound">κ₀</a>
  <a id="1807" class="Keyword">in</a>
    <a id="1814" href="SecureCompilation.Helpers.html#1746" class="Bound">T</a> <a id="1816" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1818" href="Compiler.Subterms.html#2649" class="Function">weaken-sub</a> <a id="1829" class="Symbol">{</a><a id="1830" href="SecureCompilation.Helpers.html#1661" class="Bound">ad</a><a id="1832" class="Symbol">}</a> <a id="1834" href="SecureCompilation.Helpers.html#1750" class="Bound">∀d</a> <a id="1837" class="Comment">-- ∘ h-subᶜ {ds = ad .C})</a>

<a id="1864" class="Comment">-- Helpers for coherence, in order not to over-complicate the constructor definitions for `_~₁₁_`.</a>
<a id="1963" class="Comment">-- Also we need the complete power of rewrites/with that let-only expressions in constructors do not give us.</a>
<a id="2073" class="Comment">-- Last, these also export properties that we prove about coherence (e.g. invariants that are preserved).</a>
<a id="2179" class="Comment">-- ∙ each module corresponds to an inductive case for Coherence</a>
<a id="2243" class="Comment">-- ∙ for typechecking performance, `abstract` all exported definitions (if possible...)</a>
<a id="2331" class="Comment">-- ∙ all definitions should be private, except the following:</a>
<a id="2393" class="Comment">--   ∘ λˢ : the next symbolic move, along with updated mappings for the resulting state/configuration</a>
<a id="2495" class="Comment">--   ∘ txoutG/txoutΓ/txoutΓ′ : (optional) mappings for relevant subcomponents</a>
<a id="2573" class="Comment">--   ∘ T : (optional) compiled transaction needed for computational move λᶜ</a>
<a id="2649" class="Comment">--   ∘ pubK : (optional) public key to sign the transaction</a>
<a id="2709" class="Comment">--   ∘ value-preserving⇒ : (T0D0) proof that each mapping transformation preserves value assignments</a>
<a id="2810" class="Comment">-- NB: the above should be exported in an `abstract` block to aid typechecking</a>

<a id="2890" class="Keyword">module</a> <a id="2897" href="SecureCompilation.Helpers.html#2897" class="Module">_</a> <a id="2899" class="Symbol">{</a><a id="2900" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a><a id="2901" class="Symbol">}</a> <a id="2903" class="Symbol">(</a><a id="2904" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="2906" class="Symbol">:</a> <a id="2908" href="SymbolicModel.Mappings.Base.html#743" class="Function">ℝ</a> <a id="2910" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a><a id="2911" class="Symbol">)</a> <a id="2913" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="2915" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="2917" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a> <a id="2920" class="Keyword">where</a>
  <a id="2928" class="Keyword">open</a> <a id="2933" href="SymbolicModel.Mappings.Base.html#768" class="Module">ℝ</a> <a id="2935" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a>

  <a id="2940" class="Comment">-- [1]</a>
  <a id="2949" class="Keyword">module</a> <a id="2956" href="SecureCompilation.Helpers.html#2956" class="Module">_</a> <a id="2958" href="SecureCompilation.Helpers.html#2958" class="Bound">Γ</a> <a id="2960" class="Symbol">(</a><a id="2961" href="SecureCompilation.Helpers.html#2961" class="Bound">R≈</a> <a id="2964" class="Symbol">:</a> <a id="2966" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="2968" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="2971" href="SecureCompilation.Helpers.html#2958" class="Bound">Γ</a> <a id="2973" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="2976" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a><a id="2977" class="Symbol">)</a> <a id="2979" href="SecureCompilation.Helpers.html#2979" class="Bound">ad</a> <a id="2982" class="Keyword">where</a>
    <a id="2992" class="Keyword">private</a> <a id="3000" href="SecureCompilation.Helpers.html#3000" class="Function">Γ′</a> <a id="3003" class="Symbol">=</a> <a id="3005" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="3009" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="3011" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="3013" href="SecureCompilation.Helpers.html#2979" class="Bound">ad</a> <a id="3016" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="3018" href="SecureCompilation.Helpers.html#2958" class="Bound">Γ</a>
    <a id="3024" class="Keyword">module</a> <a id="3031" href="SecureCompilation.Helpers.html#3031" class="Module">H₁</a> <a id="3034" class="Symbol">(</a><a id="3035" href="SecureCompilation.Helpers.html#3035" class="Bound">Γ→Γ′</a> <a id="3040" class="Symbol">:</a> <a id="3042" href="SecureCompilation.Helpers.html#2958" class="Bound">Γ</a> <a id="3044" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="3047" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="3049" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="3052" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="3054" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="3058" href="SecureCompilation.Helpers.html#3000" class="Function">Γ′</a> <a id="3061" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="3064" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="3066" class="Symbol">)</a> <a id="3068" class="Symbol">(</a><a id="3069" href="SecureCompilation.Helpers.html#3069" class="Bound">∃Γ≈</a> <a id="3073" class="Symbol">:</a> <a id="3075" href="Data.Product.html#1378" class="Function">∃</a> <a id="3077" class="Symbol">(</a><a id="3078" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="3081" href="SecureCompilation.Helpers.html#3000" class="Function">Γ′</a><a id="3083" class="Symbol">))</a> <a id="3086" class="Keyword">where</a>
      <a id="3098" class="Keyword">private</a>
        <a id="3114" href="SecureCompilation.Helpers.html#3114" class="Function">Γ″</a> <a id="3117" class="Symbol">=</a> <a id="3119" href="SecureCompilation.Helpers.html#3069" class="Bound">∃Γ≈</a> <a id="3123" class="Symbol">.</a><a id="3124" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a><a id="3129" class="Symbol">;</a> <a id="3131" href="SecureCompilation.Helpers.html#3131" class="Function">Γ≈</a> <a id="3134" class="Symbol">=</a> <a id="3136" href="SecureCompilation.Helpers.html#3069" class="Bound">∃Γ≈</a> <a id="3140" class="Symbol">.</a><a id="3141" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
        <a id="3155" href="SecureCompilation.Helpers.html#3155" class="Function">Γₜ</a> <a id="3158" href="SecureCompilation.Helpers.html#3158" class="Function">Γₜ′</a> <a id="3162" href="SecureCompilation.Helpers.html#3162" class="Function">Γₜ″</a> <a id="3166" class="Symbol">:</a> <a id="3168" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a><a id="3172" class="Symbol">;</a> <a id="3174" href="SecureCompilation.Helpers.html#3155" class="Function">Γₜ</a>  <a id="3178" class="Symbol">=</a> <a id="3180" href="SecureCompilation.Helpers.html#2958" class="Bound">Γ</a> <a id="3182" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="3185" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a><a id="3186" class="Symbol">;</a> <a id="3188" href="SecureCompilation.Helpers.html#3158" class="Function">Γₜ′</a> <a id="3192" class="Symbol">=</a> <a id="3194" href="SecureCompilation.Helpers.html#3000" class="Function">Γ′</a> <a id="3197" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="3200" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="3202" class="Symbol">;</a> <a id="3204" href="SecureCompilation.Helpers.html#3162" class="Function">Γₜ″</a> <a id="3208" class="Symbol">=</a> <a id="3210" href="SecureCompilation.Helpers.html#3114" class="Function">Γ″</a> <a id="3213" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="3216" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a>
      <a id="3225" class="Comment">-- abstract</a>
      <a id="3243" href="SecureCompilation.Helpers.html#3243" class="Function">λˢ</a> <a id="3246" class="Symbol">:</a> <a id="3248" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="3250" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="3252" href="SecureCompilation.Helpers.html#3162" class="Function">Γₜ″</a>
      <a id="3262" href="SecureCompilation.Helpers.html#3243" class="Function">λˢ</a> <a id="3265" class="Symbol">=</a> <a id="3267" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="3273" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="3275" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="3277" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="3279" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a> <a id="3282" href="SecureCompilation.Helpers.html#2958" class="Bound">Γ</a> <a id="3284" href="SecureCompilation.Helpers.html#2961" class="Bound">R≈</a> <a id="3287" href="SecureCompilation.Helpers.html#3000" class="Function">Γ′</a> <a id="3290" href="SecureCompilation.Helpers.html#3035" class="Bound">Γ→Γ′</a> <a id="3295" href="SecureCompilation.Helpers.html#3069" class="Bound">∃Γ≈</a> <a id="3299" href="Function.Base.html#624" class="Function">id</a> <a id="3302" href="Function.Base.html#624" class="Function">id</a> <a id="3305" href="Function.Base.html#624" class="Function">id</a>

      <a id="3315" class="Keyword">private</a>
        <a id="3331" href="SecureCompilation.Helpers.html#3331" class="Function">𝕒</a>  <a id="3334" class="Symbol">=</a> <a id="3336" href="SecureCompilation.Helpers.html#3243" class="Function">λˢ</a> <a id="3339" class="Symbol">.</a><a id="3340" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
        <a id="3354" href="SecureCompilation.Helpers.html#3354" class="Function">R′</a> <a id="3357" class="Symbol">=</a> <a id="3359" href="SecureCompilation.Helpers.html#3162" class="Function">Γₜ″</a> <a id="3363" href="SymbolicModel.Run.Base.html#2558" class="Function Operator">∷</a> <a id="3365" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="3367" href="SymbolicModel.Run.Base.html#2558" class="Function Operator">⊣</a> <a id="3369" href="SecureCompilation.Helpers.html#3331" class="Function">𝕒</a>

        <a id="3380" href="SecureCompilation.Helpers.html#3380" class="Function">𝕣′</a> <a id="3383" class="Symbol">:</a> <a id="3385" href="SymbolicModel.Mappings.Base.html#743" class="Function">ℝ</a> <a id="3387" href="SecureCompilation.Helpers.html#3354" class="Function">R′</a>
        <a id="3398" href="SecureCompilation.Helpers.html#3380" class="Function">𝕣′</a> <a id="3401" class="Symbol">=</a> <a id="3403" href="SymbolicModel.Mappings.Properties.html#4538" class="Function">ℝ-step</a> <a id="3410" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="3412" href="SecureCompilation.Helpers.html#3243" class="Function">λˢ</a>

        <a id="3424" href="SecureCompilation.Helpers.html#3424" class="Function">R≈′</a> <a id="3428" class="Symbol">:</a> <a id="3430" href="SecureCompilation.Helpers.html#3354" class="Function">R′</a> <a id="3433" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="3436" href="SecureCompilation.Helpers.html#3000" class="Function">Γ′</a> <a id="3439" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="3442" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a>
        <a id="3453" href="SecureCompilation.Helpers.html#3424" class="Function">R≈′</a> <a id="3457" class="Symbol">=</a> <a id="3459" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="3464" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3466" href="SecureCompilation.Helpers.html#3131" class="Function">Γ≈</a>

      <a id="3476" class="Keyword">abstract</a>
        <a id="3493" href="SecureCompilation.Helpers.html#3493" class="Function">value-preserving⇒</a> <a id="3511" class="Symbol">:</a>
          <a id="3523" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="3540" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a>
          <a id="3552" href="Prelude.InferenceRules.html#14163" class="Function Operator">───────────────────</a>
          <a id="3582" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="3599" href="SecureCompilation.Helpers.html#3380" class="Function">𝕣′</a>
        <a id="3610" href="SecureCompilation.Helpers.html#3493" class="Function">value-preserving⇒</a> <a id="3628" href="SecureCompilation.Helpers.html#3628" class="Bound">pv-txout</a> <a id="3637" class="Symbol">=</a> <a id="3639" href="SecureCompilation.Helpers.html#4220" class="Function">pv-txout′</a>
          <a id="3659" class="Keyword">where</a>
          <a id="3675" class="Keyword">open</a> <a id="3680" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

          <a id="3703" href="SecureCompilation.Helpers.html#3703" class="Function">txoutΓ</a> <a id="3710" class="Symbol">:</a> <a id="3712" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="3718" class="Symbol">(</a><a id="3719" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="3721" class="Symbol">.</a><a id="3722" href="Prelude.Traces.html#568" class="Field">end</a><a id="3725" class="Symbol">)</a>
          <a id="3737" href="SecureCompilation.Helpers.html#3703" class="Function">txoutΓ</a> <a id="3744" class="Symbol">=</a> <a id="3746" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="3748" href="SymbolicModel.Mappings.Properties.html#12758" class="Function Operator">∙txoutEnd_</a>

          <a id="3770" href="SecureCompilation.Helpers.html#3770" class="Function">txoutΓ′</a> <a id="3778" class="Symbol">:</a> <a id="3780" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="3786" href="SecureCompilation.Helpers.html#3000" class="Function">Γ′</a>
          <a id="3799" href="SecureCompilation.Helpers.html#3770" class="Function">txoutΓ′</a> <a id="3807" class="Symbol">=</a> <a id="3809" href="SymbolicModel.Mappings.Properties.html#671" class="Function">Txout≈</a> <a id="3816" class="Symbol">{</a><a id="3817" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="3819" href="SymbolicModel.Accessors.html#597" class="Function Operator">∙cfg</a><a id="3823" class="Symbol">}{</a><a id="3825" href="SecureCompilation.Helpers.html#2958" class="Bound">Γ</a><a id="3826" class="Symbol">}</a> <a id="3828" class="Symbol">(</a><a id="3829" href="SecureCompilation.Helpers.html#2961" class="Bound">R≈</a> <a id="3832" class="Symbol">.</a><a id="3833" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="3838" class="Symbol">)</a> <a id="3840" href="SecureCompilation.Helpers.html#3703" class="Function">txoutΓ</a>

          <a id="3858" href="SecureCompilation.Helpers.html#3858" class="Function">pv-txoutΓ′</a> <a id="3869" class="Symbol">:</a> <a id="3871" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="3887" class="Symbol">{</a><a id="3888" href="SecureCompilation.Helpers.html#3000" class="Function">Γ′</a><a id="3890" class="Symbol">}</a> <a id="3892" href="SecureCompilation.Helpers.html#3770" class="Function">txoutΓ′</a>
          <a id="3910" href="SecureCompilation.Helpers.html#3858" class="Function">pv-txoutΓ′</a> <a id="3921" class="Symbol">=</a> <a id="3923" href="SymbolicModel.ValuePreservation.html#2568" class="Function">ValuePreserving-Txout≈</a> <a id="3946" class="Symbol">{</a><a id="3947" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="3949" href="SymbolicModel.Accessors.html#597" class="Function Operator">∙cfg</a><a id="3953" class="Symbol">}{</a><a id="3955" href="SecureCompilation.Helpers.html#2958" class="Bound">Γ</a><a id="3956" class="Symbol">}</a> <a id="3958" class="Symbol">(</a><a id="3959" href="SecureCompilation.Helpers.html#2961" class="Bound">R≈</a> <a id="3962" class="Symbol">.</a><a id="3963" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="3968" class="Symbol">)</a> <a id="3970" href="SecureCompilation.Helpers.html#3703" class="Function">txoutΓ</a> <a id="3977" href="SecureCompilation.Helpers.html#3628" class="Bound">pv-txout</a>

          <a id="3997" href="SecureCompilation.Helpers.html#3997" class="Function">txoutΓ″</a> <a id="4005" class="Symbol">:</a> <a id="4007" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="4013" href="SecureCompilation.Helpers.html#3114" class="Function">Γ″</a>
          <a id="4026" href="SecureCompilation.Helpers.html#3997" class="Function">txoutΓ″</a> <a id="4034" class="Symbol">=</a> <a id="4036" href="SymbolicModel.Mappings.Properties.html#671" class="Function">Txout≈</a> <a id="4043" class="Symbol">{</a><a id="4044" href="SecureCompilation.Helpers.html#3000" class="Function">Γ′</a><a id="4046" class="Symbol">}{</a><a id="4048" href="SecureCompilation.Helpers.html#3114" class="Function">Γ″</a><a id="4050" class="Symbol">}</a> <a id="4052" class="Symbol">(</a><a id="4053" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="4059" href="SecureCompilation.Helpers.html#3131" class="Function">Γ≈</a><a id="4061" class="Symbol">)</a> <a id="4063" href="SecureCompilation.Helpers.html#3770" class="Function">txoutΓ′</a>

          <a id="4082" href="SecureCompilation.Helpers.html#4082" class="Function">pv-txoutΓ″</a> <a id="4093" class="Symbol">:</a> <a id="4095" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="4111" class="Symbol">{</a><a id="4112" href="SecureCompilation.Helpers.html#3114" class="Function">Γ″</a><a id="4114" class="Symbol">}</a> <a id="4116" href="SecureCompilation.Helpers.html#3997" class="Function">txoutΓ″</a>
          <a id="4134" href="SecureCompilation.Helpers.html#4082" class="Function">pv-txoutΓ″</a> <a id="4145" class="Symbol">=</a> <a id="4147" href="SymbolicModel.ValuePreservation.html#2568" class="Function">ValuePreserving-Txout≈</a> <a id="4170" class="Symbol">{</a><a id="4171" href="SecureCompilation.Helpers.html#3000" class="Function">Γ′</a><a id="4173" class="Symbol">}{</a><a id="4175" href="SecureCompilation.Helpers.html#3114" class="Function">Γ″</a><a id="4177" class="Symbol">}</a> <a id="4179" class="Symbol">(</a><a id="4180" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="4186" href="SecureCompilation.Helpers.html#3131" class="Function">Γ≈</a><a id="4188" class="Symbol">)</a> <a id="4190" href="SecureCompilation.Helpers.html#3770" class="Function">txoutΓ′</a> <a id="4198" href="SecureCompilation.Helpers.html#3858" class="Function">pv-txoutΓ′</a>

          <a id="4220" href="SecureCompilation.Helpers.html#4220" class="Function">pv-txout′</a> <a id="4230" class="Symbol">:</a> <a id="4232" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="4249" href="SecureCompilation.Helpers.html#3380" class="Function">𝕣′</a>
          <a id="4262" href="SecureCompilation.Helpers.html#4220" class="Function">pv-txout′</a> <a id="4272" href="SecureCompilation.Helpers.html#4272" class="Bound">x∈</a> <a id="4275" class="Symbol">=</a>
            <a id="4289" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
              <a id="4309" class="Symbol">(</a><a id="4310" href="SecureCompilation.Helpers.html#3380" class="Function">𝕣′</a> <a id="4313" href="SymbolicModel.Mappings.Properties.html#12758" class="Function Operator">∙txoutEnd</a> <a id="4323" href="SecureCompilation.Helpers.html#4272" class="Bound">x∈</a><a id="4325" class="Symbol">)</a> <a id="4327" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
            <a id="4346" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="4349" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="4354" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">_∙value</a> <a id="4362" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="4364" href="SymbolicModel.Mappings.Properties.html#9729" class="Function">txout∷∘namesʳ⦅end⦆⊆</a> <a id="4384" class="Symbol">{</a><a id="4385" class="Argument">R</a> <a id="4387" class="Symbol">=</a> <a id="4389" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a><a id="4390" class="Symbol">}</a> <a id="4392" href="SecureCompilation.Helpers.html#3035" class="Bound">Γ→Γ′</a> <a id="4397" class="Symbol">(</a><a id="4398" href="SecureCompilation.Helpers.html#3424" class="Function">R≈′</a> <a id="4402" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4404" href="SecureCompilation.Helpers.html#2961" class="Bound">R≈</a><a id="4406" class="Symbol">)</a> <a id="4408" href="SecureCompilation.Helpers.html#3770" class="Function">txoutΓ′</a> <a id="4416" href="SymbolicModel.Mappings.Base.html#823" class="Function">txout′</a> <a id="4423" class="Symbol">_</a> <a id="4425" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
              <a id="4441" class="Symbol">(</a><a id="4442" href="SecureCompilation.Helpers.html#3997" class="Function">txoutΓ″</a> <a id="4450" href="SecureCompilation.Helpers.html#4272" class="Bound">x∈</a><a id="4452" class="Symbol">)</a> <a id="4454" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
            <a id="4473" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="4476" href="SecureCompilation.Helpers.html#4082" class="Function">pv-txoutΓ″</a> <a id="4487" class="Symbol">_</a> <a id="4489" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
              <a id="4505" class="Symbol">(</a><a id="4506" href="SecureCompilation.Helpers.html#3114" class="Function">Γ″</a> <a id="4509" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4511" href="SecureCompilation.Helpers.html#4272" class="Bound">x∈</a><a id="4513" class="Symbol">)</a> <a id="4515" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
            <a id="4534" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

  <a id="4539" class="Comment">-- [2]</a>
  <a id="4548" class="Keyword">module</a> <a id="4555" href="SecureCompilation.Helpers.html#4555" class="Module">_</a> <a id="4557" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="4559" class="Symbol">(</a><a id="4560" href="SecureCompilation.Helpers.html#4560" class="Bound">R≈</a> <a id="4563" class="Symbol">:</a> <a id="4565" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="4567" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="4570" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="4572" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="4575" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a><a id="4576" class="Symbol">)</a> <a id="4578" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="4580" href="SecureCompilation.Helpers.html#4580" class="Bound">A</a> <a id="4582" href="SecureCompilation.Helpers.html#4582" class="Bound">ad</a> <a id="4585" class="Symbol">(</a><a id="4586" href="SecureCompilation.Helpers.html#4586" class="Bound">Δ</a> <a id="4588" class="Symbol">:</a> <a id="4590" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="4595" class="Symbol">(</a><a id="4596" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="4603" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="4605" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="4611" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="4612" class="Symbol">))</a> <a id="4615" class="Keyword">where</a>
    <a id="4625" class="Keyword">private</a>
      <a id="4639" href="SecureCompilation.Helpers.html#4639" class="Function">Γ′</a> <a id="4642" class="Symbol">=</a> <a id="4644" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="4648" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="4650" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="4652" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4654" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="4657" href="Data.List.Base.html#1553" class="Function">map</a> <a id="4661" class="Symbol">(</a><a id="4662" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="4670" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="4672" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="4674" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="4679" class="Symbol">)</a> <a id="4681" href="SecureCompilation.Helpers.html#4586" class="Bound">Δ</a> <a id="4683" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4685" href="SecureCompilation.Helpers.html#4580" class="Bound">A</a> <a id="4687" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="4693" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="4696" href="SecureCompilation.Helpers.html#4582" class="Bound">ad</a> <a id="4699" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a>
      <a id="4707" href="SecureCompilation.Helpers.html#4707" class="Function">as</a> <a id="4710" class="Symbol">=</a> <a id="4712" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="4718" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="4720" href="Data.List.Base.html#3708" class="Function">unzip</a> <a id="4726" href="SecureCompilation.Helpers.html#4586" class="Bound">Δ</a>
    <a id="4732" class="Keyword">module</a> <a id="4739" href="SecureCompilation.Helpers.html#4739" class="Module">H₂</a> <a id="4742" class="Symbol">(</a><a id="4743" href="SecureCompilation.Helpers.html#4743" class="Bound">sechash⁺</a> <a id="4752" class="Symbol">:</a> <a id="4754" href="SecureCompilation.Helpers.html#4707" class="Function">as</a> <a id="4757" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="4759" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a><a id="4760" class="Symbol">)</a> <a id="4762" class="Symbol">(</a><a id="4763" href="SecureCompilation.Helpers.html#4763" class="Bound">k⃗</a> <a id="4766" class="Symbol">:</a> <a id="4768" href="Compiler.Mappings.html#454" class="Function">𝕂²′</a> <a id="4772" href="SecureCompilation.Helpers.html#4582" class="Bound">ad</a><a id="4774" class="Symbol">)</a> <a id="4776" class="Symbol">(</a><a id="4777" href="SecureCompilation.Helpers.html#4777" class="Bound">Γ→Γ′</a> <a id="4782" class="Symbol">:</a> <a id="4784" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="4786" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="4789" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="4791" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="4794" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="4796" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="4800" href="SecureCompilation.Helpers.html#4639" class="Function">Γ′</a> <a id="4803" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="4806" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="4808" class="Symbol">)</a> <a id="4810" class="Symbol">(</a><a id="4811" href="SecureCompilation.Helpers.html#4811" class="Bound">∃Γ≈</a> <a id="4815" class="Symbol">:</a> <a id="4817" href="Data.Product.html#1378" class="Function">∃</a> <a id="4819" class="Symbol">(</a><a id="4820" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="4823" href="SecureCompilation.Helpers.html#4639" class="Function">Γ′</a><a id="4825" class="Symbol">))</a> <a id="4828" class="Keyword">where</a>
      <a id="4840" class="Keyword">private</a>
        <a id="4856" class="Keyword">open</a> <a id="4861" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

        <a id="4882" href="SecureCompilation.Helpers.html#4882" class="Function">ids≡</a> <a id="4887" class="Symbol">:</a> <a id="4889" href="SecureCompilation.Helpers.html#4639" class="Function">Γ′</a> <a id="4892" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="4895" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="4902" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="4904" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a>
        <a id="4914" href="SecureCompilation.Helpers.html#4882" class="Function">ids≡</a> <a id="4919" class="Symbol">=</a>
          <a id="4931" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
            <a id="4949" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="4956" href="SecureCompilation.Helpers.html#4639" class="Function">Γ′</a>
          <a id="4969" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
            <a id="4985" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="4992" class="Symbol">(</a><a id="4993" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="4995" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4997" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="5000" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5004" class="Symbol">(</a><a id="5005" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="5013" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="5015" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="5017" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="5022" class="Symbol">)</a> <a id="5024" href="SecureCompilation.Helpers.html#4586" class="Bound">Δ</a> <a id="5026" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5028" href="SecureCompilation.Helpers.html#4580" class="Bound">A</a> <a id="5030" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="5036" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="5039" href="SecureCompilation.Helpers.html#4582" class="Bound">ad</a> <a id="5042" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="5043" class="Symbol">)</a>
          <a id="5055" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5058" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="5086" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="5093" class="Symbol">(</a><a id="5094" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="5096" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5098" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="5101" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5105" class="Symbol">(</a><a id="5106" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="5114" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="5116" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="5118" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="5123" class="Symbol">)</a> <a id="5125" href="SecureCompilation.Helpers.html#4586" class="Bound">Δ</a><a id="5126" class="Symbol">)</a> <a id="5128" class="Symbol">(</a><a id="5129" href="SecureCompilation.Helpers.html#4580" class="Bound">A</a> <a id="5131" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="5137" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="5140" href="SecureCompilation.Helpers.html#4582" class="Bound">ad</a> <a id="5143" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="5144" class="Symbol">)</a> <a id="5146" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="5160" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="5167" class="Symbol">(</a><a id="5168" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="5170" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5172" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="5175" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5179" class="Symbol">(</a><a id="5180" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="5188" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="5190" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="5192" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="5197" class="Symbol">)</a> <a id="5199" href="SecureCompilation.Helpers.html#4586" class="Bound">Δ</a><a id="5200" class="Symbol">)</a> <a id="5202" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="5205" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="5212" class="Symbol">(</a><a id="5213" href="SecureCompilation.Helpers.html#4580" class="Bound">A</a> <a id="5215" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="5221" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="5224" href="SecureCompilation.Helpers.html#4582" class="Bound">ad</a> <a id="5227" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="5228" class="Symbol">)</a>
          <a id="5240" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
            <a id="5256" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="5263" class="Symbol">(</a><a id="5264" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="5266" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5268" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="5271" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5275" class="Symbol">(</a><a id="5276" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="5284" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="5286" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="5288" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="5293" class="Symbol">)</a> <a id="5295" href="SecureCompilation.Helpers.html#4586" class="Bound">Δ</a><a id="5296" class="Symbol">)</a> <a id="5298" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="5301" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
          <a id="5314" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5317" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="5332" class="Symbol">_</a> <a id="5334" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="5348" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="5355" class="Symbol">(</a><a id="5356" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="5358" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5360" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="5363" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5367" class="Symbol">(</a><a id="5368" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="5376" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="5378" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="5380" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="5385" class="Symbol">)</a> <a id="5387" href="SecureCompilation.Helpers.html#4586" class="Bound">Δ</a><a id="5388" class="Symbol">)</a>
          <a id="5400" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5403" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="5431" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="5438" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="5440" class="Symbol">(</a><a id="5441" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="5444" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5448" class="Symbol">(</a><a id="5449" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="5457" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="5459" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="5461" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="5466" class="Symbol">)</a> <a id="5468" href="SecureCompilation.Helpers.html#4586" class="Bound">Δ</a><a id="5469" class="Symbol">)</a> <a id="5471" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="5485" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="5492" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="5494" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="5497" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="5504" class="Symbol">(</a><a id="5505" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="5508" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5512" class="Symbol">(</a><a id="5513" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="5521" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="5523" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="5525" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="5530" class="Symbol">)</a> <a id="5532" href="SecureCompilation.Helpers.html#4586" class="Bound">Δ</a><a id="5533" class="Symbol">)</a>
          <a id="5545" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5548" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="5553" class="Symbol">(</a><a id="5554" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="5561" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="5563" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="5566" class="Symbol">)</a> <a id="5568" class="Symbol">(</a><a id="5569" href="SecureCompilation.Helpers.html#5687" class="Function">hʳ</a> <a id="5572" href="SecureCompilation.Helpers.html#4586" class="Bound">Δ</a><a id="5573" class="Symbol">)</a> <a id="5575" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="5589" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="5596" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="5598" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="5601" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
          <a id="5614" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5617" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="5632" class="Symbol">_</a> <a id="5634" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="5648" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="5655" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a>
          <a id="5667" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="5669" class="Keyword">where</a>
            <a id="5687" href="SecureCompilation.Helpers.html#5687" class="Function">hʳ</a> <a id="5690" class="Symbol">:</a> <a id="5692" class="Symbol">∀</a> <a id="5694" href="SecureCompilation.Helpers.html#5694" class="Bound">Δ</a> <a id="5696" class="Symbol">→</a> <a id="5698" href="Prelude.Null.html#263" class="Field">Null</a> <a id="5703" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="5705" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="5712" class="Symbol">(</a><a id="5713" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="5716" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5720" class="Symbol">(</a><a id="5721" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="5729" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="5731" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="5733" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="5738" class="Symbol">)</a> <a id="5740" href="SecureCompilation.Helpers.html#5694" class="Bound">Δ</a><a id="5741" class="Symbol">)</a>
            <a id="5755" href="SecureCompilation.Helpers.html#5687" class="Function">hʳ</a> <a id="5758" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="5761" class="Symbol">=</a> <a id="5763" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
            <a id="5780" href="SecureCompilation.Helpers.html#5687" class="Function">hʳ</a> <a id="5783" class="Symbol">(_</a> <a id="5786" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="5788" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="5790" class="Symbol">)</a> <a id="5792" class="Symbol">=</a> <a id="5794" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
            <a id="5811" href="SecureCompilation.Helpers.html#5687" class="Function">hʳ</a> <a id="5814" class="Symbol">(_</a> <a id="5817" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="5819" href="SecureCompilation.Helpers.html#5819" class="Bound">Δ</a><a id="5820" class="Symbol">@(_</a> <a id="5824" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="5826" class="Symbol">_))</a> <a id="5830" class="Keyword">rewrite</a> <a id="5838" href="SecureCompilation.Helpers.html#5687" class="Function">hʳ</a> <a id="5841" href="SecureCompilation.Helpers.html#5819" class="Bound">Δ</a> <a id="5843" class="Symbol">=</a> <a id="5845" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="5860" class="Symbol">_</a>

        <a id="5871" href="SecureCompilation.Helpers.html#5871" class="Function">secrets≡</a> <a id="5880" class="Symbol">:</a> <a id="5882" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="5889" href="SecureCompilation.Helpers.html#4639" class="Function">Γ′</a> <a id="5892" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="5894" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="5901" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="5903" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="5906" href="SecureCompilation.Helpers.html#4707" class="Function">as</a>
        <a id="5917" href="SecureCompilation.Helpers.html#5871" class="Function">secrets≡</a> <a id="5926" class="Symbol">=</a>
          <a id="5938" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
            <a id="5956" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="5963" href="SecureCompilation.Helpers.html#4639" class="Function">Γ′</a>
          <a id="5976" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5979" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="6007" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="6014" class="Symbol">(</a><a id="6015" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="6017" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6019" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="6022" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6026" class="Symbol">(</a><a id="6027" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="6035" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6037" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="6039" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="6044" class="Symbol">)</a> <a id="6046" href="SecureCompilation.Helpers.html#4586" class="Bound">Δ</a><a id="6047" class="Symbol">)</a> <a id="6049" class="Symbol">(</a><a id="6050" href="SecureCompilation.Helpers.html#4580" class="Bound">A</a> <a id="6052" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="6058" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="6061" href="SecureCompilation.Helpers.html#4582" class="Bound">ad</a> <a id="6064" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="6065" class="Symbol">)</a> <a id="6067" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="6081" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="6088" class="Symbol">(</a><a id="6089" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="6091" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6093" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="6096" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6100" class="Symbol">(</a><a id="6101" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="6109" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6111" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="6113" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="6118" class="Symbol">)</a> <a id="6120" href="SecureCompilation.Helpers.html#4586" class="Bound">Δ</a><a id="6121" class="Symbol">)</a> <a id="6123" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6126" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
          <a id="6139" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6142" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="6157" class="Symbol">_</a> <a id="6159" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="6173" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="6180" class="Symbol">(</a><a id="6181" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="6183" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6185" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="6188" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6192" class="Symbol">(</a><a id="6193" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="6201" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6203" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="6205" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="6210" class="Symbol">)</a> <a id="6212" href="SecureCompilation.Helpers.html#4586" class="Bound">Δ</a><a id="6213" class="Symbol">)</a>
          <a id="6225" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6228" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="6256" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="6263" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="6265" class="Symbol">(</a><a id="6266" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="6269" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6273" class="Symbol">(</a><a id="6274" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="6282" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6284" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="6286" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="6291" class="Symbol">)</a> <a id="6293" href="SecureCompilation.Helpers.html#4586" class="Bound">Δ</a><a id="6294" class="Symbol">)</a> <a id="6296" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="6310" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="6317" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="6319" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6322" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="6329" class="Symbol">(</a><a id="6330" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="6333" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6337" class="Symbol">(</a><a id="6338" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="6346" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6348" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="6350" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="6355" class="Symbol">)</a> <a id="6357" href="SecureCompilation.Helpers.html#4586" class="Bound">Δ</a><a id="6358" class="Symbol">)</a>
          <a id="6370" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6373" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="6378" class="Symbol">(</a><a id="6379" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="6386" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="6388" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="6391" class="Symbol">)</a> <a id="6393" class="Symbol">(</a><a id="6394" href="SecureCompilation.Helpers.html#6459" class="Function">hˡ</a> <a id="6397" href="SecureCompilation.Helpers.html#4586" class="Bound">Δ</a><a id="6398" class="Symbol">)</a> <a id="6400" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="6414" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="6421" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="6423" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6426" href="SecureCompilation.Helpers.html#4707" class="Function">as</a>
          <a id="6439" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="6441" class="Keyword">where</a>
            <a id="6459" href="SecureCompilation.Helpers.html#6459" class="Function">hˡ</a> <a id="6462" class="Symbol">:</a> <a id="6464" class="Symbol">∀</a> <a id="6466" href="SecureCompilation.Helpers.html#6466" class="Bound">Δ</a> <a id="6468" class="Symbol">→</a> <a id="6470" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="6477" class="Symbol">(</a><a id="6478" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="6481" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6485" class="Symbol">(</a><a id="6486" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="6494" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6496" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="6498" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="6503" class="Symbol">)</a> <a id="6505" href="SecureCompilation.Helpers.html#6466" class="Bound">Δ</a><a id="6506" class="Symbol">)</a> <a id="6508" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="6510" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="6516" class="Symbol">(</a><a id="6517" href="Data.List.Base.html#3708" class="Function">unzip</a> <a id="6523" href="SecureCompilation.Helpers.html#6466" class="Bound">Δ</a><a id="6524" class="Symbol">)</a>
            <a id="6538" href="SecureCompilation.Helpers.html#6459" class="Function">hˡ</a> <a id="6541" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="6544" class="Symbol">=</a> <a id="6546" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
            <a id="6563" href="SecureCompilation.Helpers.html#6459" class="Function">hˡ</a> <a id="6566" class="Symbol">(_</a> <a id="6569" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6571" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="6573" class="Symbol">)</a> <a id="6575" class="Symbol">=</a> <a id="6577" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
            <a id="6594" href="SecureCompilation.Helpers.html#6459" class="Function">hˡ</a> <a id="6597" class="Symbol">((</a><a id="6599" href="SecureCompilation.Helpers.html#6599" class="Bound">s</a> <a id="6601" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6603" href="SecureCompilation.Helpers.html#6603" class="Bound">m</a><a id="6604" class="Symbol">)</a> <a id="6606" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6608" href="SecureCompilation.Helpers.html#6608" class="Bound">Δ</a><a id="6609" class="Symbol">@(_</a> <a id="6613" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6615" class="Symbol">_))</a> <a id="6619" class="Symbol">=</a>
              <a id="6635" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
                <a id="6657" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="6664" class="Symbol">(</a><a id="6665" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6667" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="6669" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶</a> <a id="6671" href="SecureCompilation.Helpers.html#6599" class="Bound">s</a> <a id="6673" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">♯</a> <a id="6675" href="SecureCompilation.Helpers.html#6603" class="Bound">m</a> <a id="6677" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟩</a> <a id="6679" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6681" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="6684" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6688" class="Symbol">(</a><a id="6689" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="6697" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6699" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="6701" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="6706" class="Symbol">)</a> <a id="6708" href="SecureCompilation.Helpers.html#6608" class="Bound">Δ</a><a id="6709" class="Symbol">)</a>
              <a id="6725" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6728" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="6756" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="6763" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6765" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="6767" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶</a> <a id="6769" href="SecureCompilation.Helpers.html#6599" class="Bound">s</a> <a id="6771" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">♯</a> <a id="6773" href="SecureCompilation.Helpers.html#6603" class="Bound">m</a> <a id="6775" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟩</a> <a id="6777" class="Symbol">(</a><a id="6778" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="6781" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6785" class="Symbol">(</a><a id="6786" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="6794" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6796" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="6798" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="6803" class="Symbol">)</a> <a id="6805" href="SecureCompilation.Helpers.html#6608" class="Bound">Δ</a><a id="6806" class="Symbol">)</a> <a id="6808" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="6826" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="6833" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6835" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="6837" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶</a> <a id="6839" href="SecureCompilation.Helpers.html#6599" class="Bound">s</a> <a id="6841" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">♯</a> <a id="6843" href="SecureCompilation.Helpers.html#6603" class="Bound">m</a> <a id="6845" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟩</a> <a id="6847" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6850" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="6857" class="Symbol">(</a><a id="6858" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="6861" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6865" class="Symbol">(</a><a id="6866" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="6874" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6876" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="6878" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="6883" class="Symbol">)</a> <a id="6885" href="SecureCompilation.Helpers.html#6608" class="Bound">Δ</a><a id="6886" class="Symbol">)</a>
              <a id="6902" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
                <a id="6922" href="SecureCompilation.Helpers.html#6599" class="Bound">s</a> <a id="6924" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6926" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="6933" class="Symbol">(</a><a id="6934" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="6937" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6941" class="Symbol">(</a><a id="6942" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="6950" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6952" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="6954" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="6959" class="Symbol">)</a> <a id="6961" href="SecureCompilation.Helpers.html#6608" class="Bound">Δ</a><a id="6962" class="Symbol">)</a>
              <a id="6978" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6981" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="6986" class="Symbol">(</a><a id="6987" href="SecureCompilation.Helpers.html#6599" class="Bound">s</a> <a id="6989" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷_</a><a id="6991" class="Symbol">)</a> <a id="6993" class="Symbol">(</a><a id="6994" href="SecureCompilation.Helpers.html#6459" class="Function">hˡ</a> <a id="6997" href="SecureCompilation.Helpers.html#6608" class="Bound">Δ</a><a id="6998" class="Symbol">)</a> <a id="7000" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="7018" href="SecureCompilation.Helpers.html#6599" class="Bound">s</a> <a id="7020" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7022" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="7028" class="Symbol">(</a><a id="7029" href="Data.List.Base.html#3708" class="Function">unzip</a> <a id="7035" href="SecureCompilation.Helpers.html#6608" class="Bound">Δ</a><a id="7036" class="Symbol">)</a>
              <a id="7052" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

        <a id="7063" href="SecureCompilation.Helpers.html#7063" class="Function">hᵃ</a> <a id="7066" class="Symbol">:</a> <a id="7068" class="Symbol">∀</a> <a id="7070" href="SecureCompilation.Helpers.html#7070" class="Bound">Δ</a> <a id="7072" class="Symbol">→</a> <a id="7074" href="Prelude.Null.html#263" class="Field">Null</a> <a id="7079" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="7081" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="7096" class="Symbol">(</a><a id="7097" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="7100" href="Data.List.Base.html#1553" class="Function">map</a> <a id="7104" class="Symbol">(</a><a id="7105" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="7113" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="7115" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="7117" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="7122" class="Symbol">)</a> <a id="7124" href="SecureCompilation.Helpers.html#7070" class="Bound">Δ</a><a id="7125" class="Symbol">)</a>
        <a id="7135" href="SecureCompilation.Helpers.html#7063" class="Function">hᵃ</a> <a id="7138" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="7141" class="Symbol">=</a> <a id="7143" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="7156" href="SecureCompilation.Helpers.html#7063" class="Function">hᵃ</a> <a id="7159" class="Symbol">(_</a> <a id="7162" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7164" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="7166" class="Symbol">)</a> <a id="7168" class="Symbol">=</a> <a id="7170" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="7183" href="SecureCompilation.Helpers.html#7063" class="Function">hᵃ</a> <a id="7186" class="Symbol">(_</a> <a id="7189" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7191" href="SecureCompilation.Helpers.html#7191" class="Bound">Δ</a><a id="7192" class="Symbol">@(_</a> <a id="7196" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7198" class="Symbol">_))</a> <a id="7202" class="Keyword">rewrite</a> <a id="7210" href="SecureCompilation.Helpers.html#7063" class="Function">hᵃ</a> <a id="7213" href="SecureCompilation.Helpers.html#7191" class="Bound">Δ</a> <a id="7215" class="Symbol">=</a> <a id="7217" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="7232" class="Symbol">_</a>

        <a id="7243" href="SecureCompilation.Helpers.html#7243" class="Function">ads≡</a> <a id="7248" class="Symbol">:</a> <a id="7250" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="7265" href="SecureCompilation.Helpers.html#4639" class="Function">Γ′</a> <a id="7268" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="7270" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="7285" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="7287" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="7290" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="7305" class="Symbol">(</a><a id="7306" href="SecureCompilation.Helpers.html#4580" class="Bound">A</a> <a id="7308" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="7314" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="7317" href="SecureCompilation.Helpers.html#4582" class="Bound">ad</a> <a id="7320" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="7321" class="Symbol">)</a>
        <a id="7331" href="SecureCompilation.Helpers.html#7243" class="Function">ads≡</a> <a id="7336" class="Keyword">rewrite</a> <a id="7344" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="7363" class="Symbol">{</a><a id="7364" class="Argument">X</a> <a id="7366" class="Symbol">=</a> <a id="7368" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="7370" class="Symbol">}</a>
                       <a id="7395" class="Symbol">(</a><a id="7396" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="7398" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="7400" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="7403" href="Data.List.Base.html#1553" class="Function">map</a> <a id="7407" class="Symbol">(</a><a id="7408" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="7416" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="7418" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="7420" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="7425" class="Symbol">)</a> <a id="7427" href="SecureCompilation.Helpers.html#4586" class="Bound">Δ</a><a id="7428" class="Symbol">)</a> <a id="7430" class="Symbol">(</a><a id="7431" href="SecureCompilation.Helpers.html#4580" class="Bound">A</a> <a id="7433" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="7439" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="7442" href="SecureCompilation.Helpers.html#4582" class="Bound">ad</a> <a id="7445" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="7446" class="Symbol">)</a>
                    <a id="7468" class="Symbol">|</a> <a id="7470" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="7489" class="Symbol">{</a><a id="7490" class="Argument">X</a> <a id="7492" class="Symbol">=</a> <a id="7494" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="7496" class="Symbol">}</a>
                        <a id="7522" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="7524" class="Symbol">(</a><a id="7525" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="7528" href="Data.List.Base.html#1553" class="Function">map</a> <a id="7532" class="Symbol">(</a><a id="7533" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="7541" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="7543" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="7545" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="7550" class="Symbol">)</a> <a id="7552" href="SecureCompilation.Helpers.html#4586" class="Bound">Δ</a><a id="7553" class="Symbol">)</a>
                    <a id="7575" class="Symbol">|</a> <a id="7577" href="SecureCompilation.Helpers.html#7063" class="Function">hᵃ</a> <a id="7580" href="SecureCompilation.Helpers.html#4586" class="Bound">Δ</a>
                    <a id="7602" class="Symbol">|</a> <a id="7604" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="7619" class="Symbol">(</a><a id="7620" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="7635" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a><a id="7636" class="Symbol">)</a>
                    <a id="7658" class="Symbol">=</a> <a id="7660" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

        <a id="7674" href="SecureCompilation.Helpers.html#7674" class="Function">txout↝</a> <a id="7681" class="Symbol">:</a> <a id="7683" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="7685" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="7688" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="7694" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="7696" href="SecureCompilation.Helpers.html#4639" class="Function">Γ′</a>
        <a id="7707" class="Comment">-- txout↝ = lift Γ —⟨ namesʳ ⟩— Γ′ ⊣ ids≡</a>
        <a id="7757" href="SecureCompilation.Helpers.html#7674" class="Function">txout↝</a> <a id="7764" href="SecureCompilation.Helpers.html#7764" class="Bound">txoutΓ</a> <a id="7771" class="Symbol">{</a><a id="7772" href="SecureCompilation.Helpers.html#7772" class="Bound">x</a><a id="7773" class="Symbol">}</a> <a id="7775" href="SecureCompilation.Helpers.html#7775" class="Bound">x∈</a>
          <a id="7788" class="Keyword">with</a> <a id="7793" href="BitML.Semantics.Configurations.Helpers.html#10161" class="Function">∈-ids-++⁻</a> <a id="7803" class="Symbol">(</a><a id="7804" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="7806" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="7808" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="7811" href="Data.List.Base.html#1553" class="Function">map</a> <a id="7815" class="Symbol">(</a><a id="7816" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="7824" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="7826" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="7828" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="7833" class="Symbol">)</a> <a id="7835" href="SecureCompilation.Helpers.html#4586" class="Bound">Δ</a><a id="7836" class="Symbol">)</a> <a id="7838" class="Symbol">(</a><a id="7839" href="SecureCompilation.Helpers.html#4580" class="Bound">A</a> <a id="7841" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="7847" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="7850" href="SecureCompilation.Helpers.html#4582" class="Bound">ad</a> <a id="7853" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="7854" class="Symbol">)</a> <a id="7856" href="SecureCompilation.Helpers.html#7775" class="Bound">x∈</a>
        <a id="7867" class="Symbol">...</a> <a id="7871" class="Symbol">|</a> <a id="7873" href="Data.Sum.Base.html#818" class="InductiveConstructor">inj₂</a> <a id="7878" class="Symbol">()</a>
        <a id="7889" class="Symbol">...</a> <a id="7893" class="Symbol">|</a> <a id="7895" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="7900" href="SecureCompilation.Helpers.html#7900" class="Bound">x∈</a>
          <a id="7913" class="Keyword">with</a> <a id="7918" href="BitML.Semantics.Configurations.Helpers.html#10161" class="Function">∈-ids-++⁻</a> <a id="7928" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="7930" class="Symbol">(</a><a id="7931" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="7934" href="Data.List.Base.html#1553" class="Function">map</a> <a id="7938" class="Symbol">(</a><a id="7939" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="7947" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="7949" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="7951" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="7956" class="Symbol">)</a> <a id="7958" href="SecureCompilation.Helpers.html#4586" class="Bound">Δ</a><a id="7959" class="Symbol">)</a> <a id="7961" href="SecureCompilation.Helpers.html#7900" class="Bound">x∈</a>
        <a id="7972" class="Symbol">...</a> <a id="7976" class="Symbol">|</a> <a id="7978" href="Data.Sum.Base.html#818" class="InductiveConstructor">inj₂</a> <a id="7983" href="SecureCompilation.Helpers.html#7983" class="Bound">x∈</a> <a id="7986" class="Symbol">=</a> <a id="7988" href="Prelude.Decidable.Core.html#347" class="Function">contradict</a> <a id="7999" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="8001" href="SecureCompilation.Helpers.html#7983" class="Bound">x∈</a> <a id="8004" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="8007" href="SecureCompilation.Helpers.html#8053" class="Function">hʳ</a> <a id="8010" href="SecureCompilation.Helpers.html#4586" class="Bound">Δ</a> <a id="8012" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="8014" class="Bound">x</a> <a id="8016" href="Data.List.Membership.Setoid.html#896" class="Function Operator">L.Mem.∈_</a> <a id="8025" href="Prelude.SubstDSL.html#164" class="Function">⟫</a>
          <a id="8037" class="Keyword">where</a>
          <a id="8053" href="SecureCompilation.Helpers.html#8053" class="Function">hʳ</a> <a id="8056" class="Symbol">:</a> <a id="8058" class="Symbol">∀</a> <a id="8060" href="SecureCompilation.Helpers.html#8060" class="Bound">Δ</a> <a id="8062" class="Symbol">→</a> <a id="8064" href="Prelude.Null.html#263" class="Field">Null</a> <a id="8069" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="8071" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="8078" class="Symbol">(</a><a id="8079" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="8082" href="Data.List.Base.html#1553" class="Function">map</a> <a id="8086" class="Symbol">(</a><a id="8087" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="8095" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="8097" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="8099" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="8104" class="Symbol">)</a> <a id="8106" href="SecureCompilation.Helpers.html#8060" class="Bound">Δ</a><a id="8107" class="Symbol">)</a>
          <a id="8119" href="SecureCompilation.Helpers.html#8053" class="Function">hʳ</a> <a id="8122" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="8125" class="Symbol">=</a> <a id="8127" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
          <a id="8142" href="SecureCompilation.Helpers.html#8053" class="Function">hʳ</a> <a id="8145" class="Symbol">(_</a> <a id="8148" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="8150" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="8152" class="Symbol">)</a> <a id="8154" class="Symbol">=</a> <a id="8156" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
          <a id="8171" href="SecureCompilation.Helpers.html#8053" class="Function">hʳ</a> <a id="8174" class="Symbol">(_</a> <a id="8177" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="8179" href="SecureCompilation.Helpers.html#8179" class="Bound">Δ</a><a id="8180" class="Symbol">@(_</a> <a id="8184" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="8186" class="Symbol">_))</a> <a id="8190" class="Keyword">rewrite</a> <a id="8198" href="SecureCompilation.Helpers.html#8053" class="Function">hʳ</a> <a id="8201" href="SecureCompilation.Helpers.html#8179" class="Bound">Δ</a> <a id="8203" class="Symbol">=</a> <a id="8205" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="8220" class="Symbol">_</a>
        <a id="8230" class="Symbol">...</a> <a id="8234" class="Symbol">|</a> <a id="8236" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="8241" href="SecureCompilation.Helpers.html#8241" class="Bound">x∈</a> <a id="8244" class="Symbol">=</a> <a id="8246" class="Bound">txoutΓ</a> <a id="8253" href="SecureCompilation.Helpers.html#8241" class="Bound">x∈</a>

        <a id="8265" href="SecureCompilation.Helpers.html#8265" class="Function">sechash↝</a> <a id="8274" class="Symbol">:</a>  <a id="8277" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="8279" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="8282" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="8290" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="8292" href="SecureCompilation.Helpers.html#4639" class="Function">Γ′</a>
        <a id="8303" href="SecureCompilation.Helpers.html#8265" class="Function">sechash↝</a> <a id="8312" href="SecureCompilation.Helpers.html#8312" class="Bound">sechash′</a> <a id="8321" class="Symbol">=</a> <a id="8323" href="Prelude.Lists.Mappings.html#1750" class="Function">extend-↦</a> <a id="8332" class="Symbol">(</a><a id="8333" href="Data.List.Relation.Binary.Permutation.Propositional.html#1377" class="Function">↭-reflexive</a> <a id="8345" href="SecureCompilation.Helpers.html#5871" class="Function">secrets≡</a><a id="8353" class="Symbol">)</a> <a id="8355" href="SecureCompilation.Helpers.html#8312" class="Bound">sechash′</a> <a id="8364" href="SecureCompilation.Helpers.html#4743" class="Bound">sechash⁺</a>

        <a id="8382" href="SecureCompilation.Helpers.html#8382" class="Function">κ↝</a> <a id="8385" class="Symbol">:</a> <a id="8387" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="8389" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="8392" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="8395" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="8397" href="SecureCompilation.Helpers.html#4639" class="Function">Γ′</a>
        <a id="8408" href="SecureCompilation.Helpers.html#8382" class="Function">κ↝</a> <a id="8411" href="SecureCompilation.Helpers.html#8411" class="Bound">κ′</a> <a id="8414" class="Symbol">=</a> <a id="8416" href="Prelude.Lists.Mappings.html#1750" class="Function">extend-↦</a> <a id="8425" class="Symbol">(</a><a id="8426" href="Data.List.Relation.Binary.Permutation.Propositional.html#1377" class="Function">↭-reflexive</a> <a id="8438" href="SecureCompilation.Helpers.html#7243" class="Function">ads≡</a><a id="8442" class="Symbol">)</a> <a id="8444" href="SecureCompilation.Helpers.html#8411" class="Bound">κ′</a> <a id="8447" href="SecureCompilation.Helpers.html#8478" class="Function">κ″</a>
          <a id="8460" class="Keyword">where</a>
            <a id="8478" href="SecureCompilation.Helpers.html#8478" class="Function">κ″</a> <a id="8481" class="Symbol">:</a> <a id="8483" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="8498" class="Symbol">(</a><a id="8499" href="SecureCompilation.Helpers.html#4580" class="Bound">A</a> <a id="8501" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="8507" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="8510" href="SecureCompilation.Helpers.html#4582" class="Bound">ad</a> <a id="8513" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="8514" class="Symbol">)</a> <a id="8516" href="Prelude.Lists.Mappings.html#654" class="Function Operator">↦′</a> <a id="8519" href="Compiler.Mappings.html#454" class="Function">𝕂²′</a>
            <a id="8535" href="SecureCompilation.Helpers.html#8478" class="Function">κ″</a> <a id="8538" href="SecureCompilation.Helpers.html#8538" class="Bound">x∈</a> <a id="8541" class="Keyword">with</a> <a id="8546" href="Relation.Nullary.html#1590" class="Field">does</a> <a id="8551" class="Symbol">(</a><a id="8552" href="SecureCompilation.Helpers.html#4580" class="Bound">A</a> <a id="8554" href="Prelude.Membership.html#455" class="Field Operator">∈?</a> <a id="8557" href="BitML.BasicTypes.html#785" class="Function">Hon</a><a id="8560" class="Symbol">)</a> <a id="8562" class="Symbol">|</a> <a id="8564" href="SecureCompilation.Helpers.html#8538" class="Bound">x∈</a>
            <a id="8579" class="Symbol">...</a> <a id="8583" class="Symbol">|</a> <a id="8585" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>  <a id="8591" class="Symbol">|</a> <a id="8593" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="8598" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="8603" class="Symbol">=</a> <a id="8605" href="SecureCompilation.Helpers.html#4763" class="Bound">k⃗</a>
            <a id="8620" class="Symbol">...</a> <a id="8624" class="Symbol">|</a> <a id="8626" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a> <a id="8632" class="Symbol">|</a> <a id="8634" class="Symbol">()</a>

        <a id="8646" href="SecureCompilation.Helpers.html#8646" class="Function">Γ″</a> <a id="8649" class="Symbol">=</a> <a id="8651" href="SecureCompilation.Helpers.html#4811" class="Bound">∃Γ≈</a> <a id="8655" class="Symbol">.</a><a id="8656" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a><a id="8661" class="Symbol">;</a> <a id="8663" href="SecureCompilation.Helpers.html#8663" class="Function">Γ≈</a> <a id="8666" class="Symbol">=</a> <a id="8668" href="SecureCompilation.Helpers.html#4811" class="Bound">∃Γ≈</a> <a id="8672" class="Symbol">.</a><a id="8673" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
        <a id="8687" href="SecureCompilation.Helpers.html#8687" class="Function">Γₜ</a> <a id="8690" href="SecureCompilation.Helpers.html#8690" class="Function">Γₜ′</a> <a id="8694" href="SecureCompilation.Helpers.html#8694" class="Function">Γₜ″</a> <a id="8698" class="Symbol">:</a> <a id="8700" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a><a id="8704" class="Symbol">;</a> <a id="8706" href="SecureCompilation.Helpers.html#8687" class="Function">Γₜ</a>  <a id="8710" class="Symbol">=</a> <a id="8712" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="8714" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="8717" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a><a id="8718" class="Symbol">;</a> <a id="8720" href="SecureCompilation.Helpers.html#8690" class="Function">Γₜ′</a> <a id="8724" class="Symbol">=</a> <a id="8726" href="SecureCompilation.Helpers.html#4639" class="Function">Γ′</a> <a id="8729" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="8732" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="8734" class="Symbol">;</a> <a id="8736" href="SecureCompilation.Helpers.html#8694" class="Function">Γₜ″</a> <a id="8740" class="Symbol">=</a> <a id="8742" href="SecureCompilation.Helpers.html#8646" class="Function">Γ″</a> <a id="8745" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="8748" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a>
      <a id="8757" class="Comment">-- abstract</a>
      <a id="8775" href="SecureCompilation.Helpers.html#8775" class="Function">λˢ</a> <a id="8778" class="Symbol">:</a> <a id="8780" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="8782" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="8784" href="SecureCompilation.Helpers.html#8694" class="Function">Γₜ″</a>
      <a id="8794" href="SecureCompilation.Helpers.html#8775" class="Function">λˢ</a> <a id="8797" class="Symbol">=</a> <a id="8799" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="8805" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="8807" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="8809" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="8811" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a> <a id="8814" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="8816" href="SecureCompilation.Helpers.html#4560" class="Bound">R≈</a> <a id="8819" href="SecureCompilation.Helpers.html#4639" class="Function">Γ′</a> <a id="8822" href="SecureCompilation.Helpers.html#4777" class="Bound">Γ→Γ′</a> <a id="8827" href="SecureCompilation.Helpers.html#4811" class="Bound">∃Γ≈</a> <a id="8831" href="SecureCompilation.Helpers.html#7674" class="Function">txout↝</a> <a id="8838" href="SecureCompilation.Helpers.html#8265" class="Function">sechash↝</a> <a id="8847" href="SecureCompilation.Helpers.html#8382" class="Function">κ↝</a>
      <a id="8856" class="Keyword">private</a>
        <a id="8872" href="SecureCompilation.Helpers.html#8872" class="Function">𝕒</a>  <a id="8875" class="Symbol">=</a> <a id="8877" href="SecureCompilation.Helpers.html#8775" class="Function">λˢ</a> <a id="8880" class="Symbol">.</a><a id="8881" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
        <a id="8895" href="SecureCompilation.Helpers.html#8895" class="Function">R′</a> <a id="8898" class="Symbol">=</a> <a id="8900" href="SecureCompilation.Helpers.html#8694" class="Function">Γₜ″</a> <a id="8904" href="SymbolicModel.Run.Base.html#2558" class="Function Operator">∷</a> <a id="8906" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="8908" href="SymbolicModel.Run.Base.html#2558" class="Function Operator">⊣</a> <a id="8910" href="SecureCompilation.Helpers.html#8872" class="Function">𝕒</a>

        <a id="8921" href="SecureCompilation.Helpers.html#8921" class="Function">𝕣′</a> <a id="8924" class="Symbol">:</a> <a id="8926" href="SymbolicModel.Mappings.Base.html#743" class="Function">ℝ</a> <a id="8928" href="SecureCompilation.Helpers.html#8895" class="Function">R′</a>
        <a id="8939" href="SecureCompilation.Helpers.html#8921" class="Function">𝕣′</a> <a id="8942" class="Symbol">=</a> <a id="8944" href="SymbolicModel.Mappings.Properties.html#4538" class="Function">ℝ-step</a> <a id="8951" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="8953" href="SecureCompilation.Helpers.html#8775" class="Function">λˢ</a>

        <a id="8965" href="SecureCompilation.Helpers.html#8965" class="Function">R≈′</a> <a id="8969" class="Symbol">:</a> <a id="8971" href="SecureCompilation.Helpers.html#8895" class="Function">R′</a> <a id="8974" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="8977" href="SecureCompilation.Helpers.html#4639" class="Function">Γ′</a> <a id="8980" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="8983" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a>
        <a id="8994" href="SecureCompilation.Helpers.html#8965" class="Function">R≈′</a> <a id="8998" class="Symbol">=</a> <a id="9000" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="9005" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="9007" href="SecureCompilation.Helpers.html#8663" class="Function">Γ≈</a>
      <a id="9016" class="Keyword">abstract</a>
        <a id="9033" href="SecureCompilation.Helpers.html#9033" class="Function">value-preserving⇒</a> <a id="9051" class="Symbol">:</a>
          <a id="9063" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="9080" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a>
          <a id="9092" href="Prelude.InferenceRules.html#14163" class="Function Operator">───────────────────</a>
          <a id="9122" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="9139" href="SecureCompilation.Helpers.html#8921" class="Function">𝕣′</a>
        <a id="9150" href="SecureCompilation.Helpers.html#9033" class="Function">value-preserving⇒</a> <a id="9168" href="SecureCompilation.Helpers.html#9168" class="Bound">pv-txout</a> <a id="9177" class="Symbol">=</a> <a id="9179" href="SecureCompilation.Helpers.html#10504" class="Function">pv-txout′</a>
          <a id="9199" class="Keyword">where</a>
          <a id="9215" class="Keyword">open</a> <a id="9220" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

          <a id="9243" href="SecureCompilation.Helpers.html#9243" class="Function">txoutR</a> <a id="9250" class="Symbol">:</a> <a id="9252" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="9258" class="Symbol">(</a><a id="9259" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="9261" href="SymbolicModel.Accessors.html#597" class="Function Operator">∙cfg</a><a id="9265" class="Symbol">)</a>
          <a id="9277" href="SecureCompilation.Helpers.html#9243" class="Function">txoutR</a> <a id="9284" class="Symbol">=</a> <a id="9286" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="9288" href="SymbolicModel.Mappings.Properties.html#12758" class="Function Operator">∙txoutEnd_</a>

          <a id="9310" href="SecureCompilation.Helpers.html#9310" class="Function">txoutΓ</a> <a id="9317" class="Symbol">:</a> <a id="9319" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="9325" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a>
          <a id="9337" href="SecureCompilation.Helpers.html#9310" class="Function">txoutΓ</a> <a id="9344" class="Symbol">=</a> <a id="9346" href="SymbolicModel.Mappings.Properties.html#671" class="Function">Txout≈</a> <a id="9353" class="Symbol">{</a><a id="9354" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="9356" href="SymbolicModel.Accessors.html#597" class="Function Operator">∙cfg</a><a id="9360" class="Symbol">}{</a><a id="9362" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a><a id="9363" class="Symbol">}</a> <a id="9365" class="Symbol">(</a><a id="9366" href="SecureCompilation.Helpers.html#4560" class="Bound">R≈</a> <a id="9369" class="Symbol">.</a><a id="9370" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="9375" class="Symbol">)</a> <a id="9377" href="SecureCompilation.Helpers.html#9243" class="Function">txoutR</a>

          <a id="9395" href="SecureCompilation.Helpers.html#9395" class="Function">pv-txoutΓ</a> <a id="9405" class="Symbol">:</a> <a id="9407" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="9423" class="Symbol">{</a><a id="9424" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a><a id="9425" class="Symbol">}</a> <a id="9427" href="SecureCompilation.Helpers.html#9310" class="Function">txoutΓ</a>
          <a id="9444" href="SecureCompilation.Helpers.html#9395" class="Function">pv-txoutΓ</a> <a id="9454" class="Symbol">=</a> <a id="9456" href="SymbolicModel.ValuePreservation.html#2568" class="Function">ValuePreserving-Txout≈</a> <a id="9479" class="Symbol">{</a><a id="9480" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="9482" href="SymbolicModel.Accessors.html#597" class="Function Operator">∙cfg</a><a id="9486" class="Symbol">}{</a><a id="9488" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a><a id="9489" class="Symbol">}</a> <a id="9491" class="Symbol">(</a><a id="9492" href="SecureCompilation.Helpers.html#4560" class="Bound">R≈</a> <a id="9495" class="Symbol">.</a><a id="9496" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="9501" class="Symbol">)</a> <a id="9503" href="SecureCompilation.Helpers.html#9243" class="Function">txoutR</a> <a id="9510" href="SecureCompilation.Helpers.html#9168" class="Bound">pv-txout</a>

          <a id="9530" href="SecureCompilation.Helpers.html#9530" class="Function">txoutΓ′</a> <a id="9538" class="Symbol">:</a> <a id="9540" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="9546" href="SecureCompilation.Helpers.html#4639" class="Function">Γ′</a>
          <a id="9559" href="SecureCompilation.Helpers.html#9530" class="Function">txoutΓ′</a> <a id="9567" class="Symbol">=</a> <a id="9569" href="SecureCompilation.Helpers.html#7674" class="Function">txout↝</a> <a id="9576" href="SecureCompilation.Helpers.html#9310" class="Function">txoutΓ</a>

          <a id="9594" href="SecureCompilation.Helpers.html#9594" class="Function">pv↝</a> <a id="9598" class="Symbol">:</a> <a id="9600" href="SymbolicModel.ValuePreservation.html#3292" class="Function">ValuePreserving↝</a> <a id="9617" class="Symbol">{</a><a id="9618" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a><a id="9619" class="Symbol">}{</a><a id="9621" href="SecureCompilation.Helpers.html#4639" class="Function">Γ′</a><a id="9623" class="Symbol">}</a> <a id="9625" href="SecureCompilation.Helpers.html#7674" class="Function">txout↝</a>
          <a id="9642" href="SecureCompilation.Helpers.html#9594" class="Function">pv↝</a> <a id="9646" href="SecureCompilation.Helpers.html#9646" class="Bound">txoutΓ</a> <a id="9653" href="SecureCompilation.Helpers.html#9653" class="Bound">pv-txoutΓ</a> <a id="9663" class="Symbol">{</a><a id="9664" href="SecureCompilation.Helpers.html#9664" class="Bound">x</a><a id="9665" class="Symbol">}</a> <a id="9667" href="SecureCompilation.Helpers.html#9667" class="Bound">x∈</a>
            <a id="9682" class="Keyword">with</a> <a id="9687" href="BitML.Semantics.Configurations.Helpers.html#10161" class="Function">∈-ids-++⁻</a> <a id="9697" class="Symbol">(</a><a id="9698" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="9700" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="9702" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="9705" href="Data.List.Base.html#1553" class="Function">map</a> <a id="9709" class="Symbol">(</a><a id="9710" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="9718" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="9720" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="9722" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="9727" class="Symbol">)</a> <a id="9729" href="SecureCompilation.Helpers.html#4586" class="Bound">Δ</a><a id="9730" class="Symbol">)</a> <a id="9732" class="Symbol">(</a><a id="9733" href="SecureCompilation.Helpers.html#4580" class="Bound">A</a> <a id="9735" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="9741" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="9744" href="SecureCompilation.Helpers.html#4582" class="Bound">ad</a> <a id="9747" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="9748" class="Symbol">)</a> <a id="9750" href="SecureCompilation.Helpers.html#9667" class="Bound">x∈</a>
          <a id="9763" class="Symbol">...</a> <a id="9767" class="Symbol">|</a> <a id="9769" href="Data.Sum.Base.html#818" class="InductiveConstructor">inj₂</a> <a id="9774" class="Symbol">()</a>
          <a id="9787" class="Symbol">...</a> <a id="9791" class="Symbol">|</a> <a id="9793" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="9798" href="SecureCompilation.Helpers.html#9798" class="Bound">x∈</a>
            <a id="9813" class="Keyword">with</a> <a id="9818" href="BitML.Semantics.Configurations.Helpers.html#10161" class="Function">∈-ids-++⁻</a> <a id="9828" href="SecureCompilation.Helpers.html#4557" class="Bound">Γ</a> <a id="9830" class="Symbol">(</a><a id="9831" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="9834" href="Data.List.Base.html#1553" class="Function">map</a> <a id="9838" class="Symbol">(</a><a id="9839" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="9847" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="9849" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="9851" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="9856" class="Symbol">)</a> <a id="9858" href="SecureCompilation.Helpers.html#4586" class="Bound">Δ</a><a id="9859" class="Symbol">)</a> <a id="9861" href="SecureCompilation.Helpers.html#9798" class="Bound">x∈</a>
          <a id="9874" class="Symbol">...</a> <a id="9878" class="Symbol">|</a> <a id="9880" href="Data.Sum.Base.html#818" class="InductiveConstructor">inj₂</a> <a id="9885" href="SecureCompilation.Helpers.html#9885" class="Bound">x∈</a> <a id="9888" class="Symbol">=</a> <a id="9890" href="Prelude.Decidable.Core.html#347" class="Function">contradict</a> <a id="9901" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="9903" href="SecureCompilation.Helpers.html#9885" class="Bound">x∈</a> <a id="9906" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="9909" href="SecureCompilation.Helpers.html#9959" class="Function">hʳ</a> <a id="9912" href="SecureCompilation.Helpers.html#4586" class="Bound">Δ</a> <a id="9914" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="9916" class="Bound">x</a> <a id="9918" href="Data.List.Membership.Setoid.html#896" class="Function Operator">L.Mem.∈_</a> <a id="9927" href="Prelude.SubstDSL.html#164" class="Function">⟫</a>
            <a id="9941" class="Keyword">where</a>
            <a id="9959" href="SecureCompilation.Helpers.html#9959" class="Function">hʳ</a> <a id="9962" class="Symbol">:</a> <a id="9964" class="Symbol">∀</a> <a id="9966" href="SecureCompilation.Helpers.html#9966" class="Bound">Δ</a> <a id="9968" class="Symbol">→</a> <a id="9970" href="Prelude.Null.html#263" class="Field">Null</a> <a id="9975" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="9977" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="9984" class="Symbol">(</a><a id="9985" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="9988" href="Data.List.Base.html#1553" class="Function">map</a> <a id="9992" class="Symbol">(</a><a id="9993" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="10001" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="10003" href="SecureCompilation.Helpers.html#4578" class="Bound">B</a> <a id="10005" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="10010" class="Symbol">)</a> <a id="10012" href="SecureCompilation.Helpers.html#9966" class="Bound">Δ</a><a id="10013" class="Symbol">)</a>
            <a id="10027" href="SecureCompilation.Helpers.html#9959" class="Function">hʳ</a> <a id="10030" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="10033" class="Symbol">=</a> <a id="10035" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
            <a id="10052" href="SecureCompilation.Helpers.html#9959" class="Function">hʳ</a> <a id="10055" class="Symbol">(_</a> <a id="10058" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="10060" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="10062" class="Symbol">)</a> <a id="10064" class="Symbol">=</a> <a id="10066" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
            <a id="10083" href="SecureCompilation.Helpers.html#9959" class="Function">hʳ</a> <a id="10086" class="Symbol">(_</a> <a id="10089" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="10091" href="SecureCompilation.Helpers.html#10091" class="Bound">Δ</a><a id="10092" class="Symbol">@(_</a> <a id="10096" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="10098" class="Symbol">_))</a> <a id="10102" class="Keyword">rewrite</a> <a id="10110" href="SecureCompilation.Helpers.html#9959" class="Function">hʳ</a> <a id="10113" href="SecureCompilation.Helpers.html#10091" class="Bound">Δ</a> <a id="10115" class="Symbol">=</a> <a id="10117" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="10132" class="Symbol">_</a>
          <a id="10144" class="Symbol">...</a> <a id="10148" class="Symbol">|</a> <a id="10150" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="10155" href="SecureCompilation.Helpers.html#10155" class="Bound">x∈</a> <a id="10158" class="Symbol">=</a> <a id="10160" class="Bound">pv-txoutΓ</a> <a id="10170" href="SecureCompilation.Helpers.html#10155" class="Bound">x∈</a>

          <a id="10184" href="SecureCompilation.Helpers.html#10184" class="Function">pv-txoutΓ′</a> <a id="10195" class="Symbol">:</a> <a id="10197" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="10213" class="Symbol">{</a><a id="10214" href="SecureCompilation.Helpers.html#4639" class="Function">Γ′</a><a id="10216" class="Symbol">}</a> <a id="10218" href="SecureCompilation.Helpers.html#9530" class="Function">txoutΓ′</a>
          <a id="10236" href="SecureCompilation.Helpers.html#10184" class="Function">pv-txoutΓ′</a> <a id="10247" class="Symbol">=</a> <a id="10249" href="SecureCompilation.Helpers.html#9594" class="Function">pv↝</a> <a id="10253" href="SecureCompilation.Helpers.html#9310" class="Function">txoutΓ</a> <a id="10260" href="SecureCompilation.Helpers.html#9395" class="Function">pv-txoutΓ</a>

          <a id="10281" href="SecureCompilation.Helpers.html#10281" class="Function">txoutΓ″</a> <a id="10289" class="Symbol">:</a> <a id="10291" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="10297" href="SecureCompilation.Helpers.html#8646" class="Function">Γ″</a>
          <a id="10310" href="SecureCompilation.Helpers.html#10281" class="Function">txoutΓ″</a> <a id="10318" class="Symbol">=</a> <a id="10320" href="SymbolicModel.Mappings.Properties.html#671" class="Function">Txout≈</a> <a id="10327" class="Symbol">{</a><a id="10328" href="SecureCompilation.Helpers.html#4639" class="Function">Γ′</a><a id="10330" class="Symbol">}{</a><a id="10332" href="SecureCompilation.Helpers.html#8646" class="Function">Γ″</a><a id="10334" class="Symbol">}</a> <a id="10336" class="Symbol">(</a><a id="10337" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="10343" href="SecureCompilation.Helpers.html#8663" class="Function">Γ≈</a><a id="10345" class="Symbol">)</a> <a id="10347" href="SecureCompilation.Helpers.html#9530" class="Function">txoutΓ′</a>

          <a id="10366" href="SecureCompilation.Helpers.html#10366" class="Function">pv-txoutΓ″</a> <a id="10377" class="Symbol">:</a> <a id="10379" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="10395" class="Symbol">{</a><a id="10396" href="SecureCompilation.Helpers.html#8646" class="Function">Γ″</a><a id="10398" class="Symbol">}</a> <a id="10400" href="SecureCompilation.Helpers.html#10281" class="Function">txoutΓ″</a>
          <a id="10418" href="SecureCompilation.Helpers.html#10366" class="Function">pv-txoutΓ″</a> <a id="10429" class="Symbol">=</a> <a id="10431" href="SymbolicModel.ValuePreservation.html#2568" class="Function">ValuePreserving-Txout≈</a> <a id="10454" class="Symbol">{</a><a id="10455" href="SecureCompilation.Helpers.html#4639" class="Function">Γ′</a><a id="10457" class="Symbol">}{</a><a id="10459" href="SecureCompilation.Helpers.html#8646" class="Function">Γ″</a><a id="10461" class="Symbol">}</a> <a id="10463" class="Symbol">(</a><a id="10464" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="10470" href="SecureCompilation.Helpers.html#8663" class="Function">Γ≈</a><a id="10472" class="Symbol">)</a> <a id="10474" href="SecureCompilation.Helpers.html#9530" class="Function">txoutΓ′</a> <a id="10482" href="SecureCompilation.Helpers.html#10184" class="Function">pv-txoutΓ′</a>

          <a id="10504" href="SecureCompilation.Helpers.html#10504" class="Function">pv-txout′</a> <a id="10514" class="Symbol">:</a> <a id="10516" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="10533" href="SecureCompilation.Helpers.html#8921" class="Function">𝕣′</a>
          <a id="10546" href="SecureCompilation.Helpers.html#10504" class="Function">pv-txout′</a> <a id="10556" href="SecureCompilation.Helpers.html#10556" class="Bound">x∈</a> <a id="10559" class="Symbol">=</a>
            <a id="10573" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
              <a id="10593" class="Symbol">(</a><a id="10594" href="SecureCompilation.Helpers.html#8921" class="Function">𝕣′</a> <a id="10597" href="SymbolicModel.Mappings.Properties.html#12758" class="Function Operator">∙txoutEnd</a> <a id="10607" href="SecureCompilation.Helpers.html#10556" class="Bound">x∈</a><a id="10609" class="Symbol">)</a> <a id="10611" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
            <a id="10630" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="10633" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="10638" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">_∙value</a> <a id="10646" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="10648" href="SymbolicModel.Mappings.Properties.html#9729" class="Function">txout∷∘namesʳ⦅end⦆⊆</a> <a id="10668" class="Symbol">{</a><a id="10669" class="Argument">R</a> <a id="10671" class="Symbol">=</a> <a id="10673" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a><a id="10674" class="Symbol">}</a> <a id="10676" href="SecureCompilation.Helpers.html#4777" class="Bound">Γ→Γ′</a> <a id="10681" class="Symbol">(</a><a id="10682" href="SecureCompilation.Helpers.html#8965" class="Function">R≈′</a> <a id="10686" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="10688" href="SecureCompilation.Helpers.html#4560" class="Bound">R≈</a><a id="10690" class="Symbol">)</a> <a id="10692" href="SecureCompilation.Helpers.html#9530" class="Function">txoutΓ′</a> <a id="10700" href="SymbolicModel.Mappings.Base.html#823" class="Function">txout′</a> <a id="10707" class="Symbol">_</a> <a id="10709" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
              <a id="10725" class="Symbol">(</a><a id="10726" href="SecureCompilation.Helpers.html#10281" class="Function">txoutΓ″</a> <a id="10734" href="SecureCompilation.Helpers.html#10556" class="Bound">x∈</a><a id="10736" class="Symbol">)</a> <a id="10738" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
            <a id="10757" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="10760" href="SecureCompilation.Helpers.html#10366" class="Function">pv-txoutΓ″</a> <a id="10771" class="Symbol">_</a> <a id="10773" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
              <a id="10789" class="Symbol">(</a><a id="10790" href="SecureCompilation.Helpers.html#8646" class="Function">Γ″</a> <a id="10793" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="10795" href="SecureCompilation.Helpers.html#10556" class="Bound">x∈</a><a id="10797" class="Symbol">)</a> <a id="10799" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
            <a id="10818" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

  <a id="10823" class="Comment">-- [3]</a>
  <a id="10832" class="Keyword">module</a> <a id="10839" href="SecureCompilation.Helpers.html#10839" class="Module">_</a> <a id="10841" href="SecureCompilation.Helpers.html#10841" class="Bound">ad</a> <a id="10844" href="SecureCompilation.Helpers.html#10844" class="Bound">Γ₀</a> <a id="10847" href="SecureCompilation.Helpers.html#10847" class="Bound">A</a> <a id="10849" href="SecureCompilation.Helpers.html#10849" class="Bound">x</a> <a id="10851" class="Keyword">where</a>
    <a id="10861" class="Keyword">private</a>
      <a id="10875" href="SecureCompilation.Helpers.html#10875" class="Function">Γ</a>  <a id="10878" class="Symbol">=</a> <a id="10880" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="10884" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="10886" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="10888" href="SecureCompilation.Helpers.html#10841" class="Bound">ad</a> <a id="10891" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="10893" href="SecureCompilation.Helpers.html#10844" class="Bound">Γ₀</a>
      <a id="10902" href="SecureCompilation.Helpers.html#10902" class="Function">Γ′</a> <a id="10905" class="Symbol">=</a> <a id="10907" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="10911" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="10913" href="SecureCompilation.Helpers.html#10875" class="Function">Γ</a> <a id="10915" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="10917" href="SecureCompilation.Helpers.html#10847" class="Bound">A</a> <a id="10919" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="10925" href="SecureCompilation.Helpers.html#10849" class="Bound">x</a> <a id="10927" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="10930" href="SecureCompilation.Helpers.html#10841" class="Bound">ad</a> <a id="10933" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a>
    <a id="10939" class="Keyword">module</a> <a id="10946" href="SecureCompilation.Helpers.html#10946" class="Module">H₃</a> <a id="10949" class="Symbol">(</a><a id="10950" href="SecureCompilation.Helpers.html#10950" class="Bound">R≈</a> <a id="10953" class="Symbol">:</a> <a id="10955" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="10957" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="10960" href="SecureCompilation.Helpers.html#10875" class="Function">Γ</a> <a id="10962" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="10965" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a><a id="10966" class="Symbol">)</a> <a id="10968" class="Symbol">(</a><a id="10969" href="SecureCompilation.Helpers.html#10969" class="Bound">Γ→Γ′</a> <a id="10974" class="Symbol">:</a> <a id="10976" href="SecureCompilation.Helpers.html#10875" class="Function">Γ</a> <a id="10978" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="10981" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="10983" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="10986" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="10988" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="10992" href="SecureCompilation.Helpers.html#10902" class="Function">Γ′</a> <a id="10995" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="10998" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="11000" class="Symbol">)</a> <a id="11002" class="Symbol">(</a><a id="11003" href="SecureCompilation.Helpers.html#11003" class="Bound">∃Γ≈</a> <a id="11007" class="Symbol">:</a> <a id="11009" href="Data.Product.html#1378" class="Function">∃</a> <a id="11011" class="Symbol">(</a><a id="11012" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="11015" href="SecureCompilation.Helpers.html#10902" class="Function">Γ′</a><a id="11017" class="Symbol">))</a>
              <a id="11034" class="Symbol">(</a><a id="11035" href="SecureCompilation.Helpers.html#11035" class="Bound">committedA</a> <a id="11046" class="Symbol">:</a> <a id="11048" href="BitML.Contracts.Collections.html#2548" class="Function">nub-participants</a> <a id="11065" href="SecureCompilation.Helpers.html#10841" class="Bound">ad</a> <a id="11068" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="11070" href="BitML.Semantics.Configurations.Helpers.html#11398" class="Function">committedParticipants</a> <a id="11092" href="SecureCompilation.Helpers.html#10841" class="Bound">ad</a> <a id="11095" href="SecureCompilation.Helpers.html#10875" class="Function">Γ</a><a id="11096" class="Symbol">)</a> <a id="11098" class="Keyword">where</a>
      <a id="11110" class="Keyword">private</a>
        <a id="11126" href="SecureCompilation.Helpers.html#11126" class="Function">𝕘</a> <a id="11128" class="Symbol">:</a> <a id="11130" href="SymbolicModel.Mappings.Base.html#1314" class="Function">𝔾</a> <a id="11132" href="SecureCompilation.Helpers.html#10841" class="Bound">ad</a>
        <a id="11143" href="SecureCompilation.Helpers.html#11126" class="Function">𝕘</a> <a id="11145" class="Symbol">=</a> <a id="11147" href="SymbolicModel.Helpers.html#3335" class="Function">LIFT₀</a> <a id="11153" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="11155" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="11157" href="SecureCompilation.Helpers.html#10875" class="Function">Γ</a> <a id="11159" href="SecureCompilation.Helpers.html#10950" class="Bound">R≈</a> <a id="11162" href="SecureCompilation.Helpers.html#10841" class="Bound">ad</a> <a id="11165" class="Symbol">(</a><a id="11166" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="11171" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="11175" class="Symbol">)</a> <a id="11177" href="SecureCompilation.Helpers.html#11035" class="Bound">committedA</a>
      <a id="11194" class="Comment">-- abstract</a>
      <a id="11212" href="SecureCompilation.Helpers.html#11212" class="Function">T</a> <a id="11214" class="Symbol">:</a> <a id="11216" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
      <a id="11226" href="SecureCompilation.Helpers.html#11212" class="Function">T</a> <a id="11228" class="Symbol">=</a> <a id="11230" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="11233" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="11236" href="SecureCompilation.Helpers.html#1582" class="Function">COMPILE</a> <a id="11244" href="SecureCompilation.Helpers.html#11126" class="Function">𝕘</a> <a id="11246" class="Symbol">.</a><a id="11247" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
      <a id="11259" class="Keyword">private</a>
        <a id="11275" href="SecureCompilation.Helpers.html#11275" class="Function">names≡</a> <a id="11282" class="Symbol">:</a> <a id="11284" href="SecureCompilation.Helpers.html#10902" class="Function">Γ′</a> <a id="11287" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="11290" href="BitML.Contracts.Collections.html#4018" class="Function">names</a> <a id="11296" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="11298" href="SecureCompilation.Helpers.html#10875" class="Function">Γ</a>
        <a id="11308" href="SecureCompilation.Helpers.html#11275" class="Function">names≡</a> <a id="11315" class="Keyword">rewrite</a> <a id="11323" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="11342" class="Symbol">{</a><a id="11343" class="Argument">X</a> <a id="11345" class="Symbol">=</a> <a id="11347" href="BitML.BasicTypes.html#375" class="Function">Name</a><a id="11351" class="Symbol">}</a> <a id="11353" href="SecureCompilation.Helpers.html#10875" class="Function">Γ</a> <a id="11355" class="Symbol">(</a><a id="11356" href="SecureCompilation.Helpers.html#10847" class="Bound">A</a> <a id="11358" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="11364" href="SecureCompilation.Helpers.html#10849" class="Bound">x</a> <a id="11366" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="11369" href="SecureCompilation.Helpers.html#10841" class="Bound">ad</a> <a id="11372" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="11373" class="Symbol">)</a> <a id="11375" class="Symbol">=</a> <a id="11377" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="11392" class="Symbol">_</a>

        <a id="11403" href="SecureCompilation.Helpers.html#11403" class="Function">ids≡</a> <a id="11408" class="Symbol">:</a> <a id="11410" href="SecureCompilation.Helpers.html#10902" class="Function">Γ′</a> <a id="11413" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="11416" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="11423" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="11425" href="SecureCompilation.Helpers.html#10875" class="Function">Γ</a>
        <a id="11435" href="SecureCompilation.Helpers.html#11403" class="Function">ids≡</a> <a id="11440" class="Symbol">=</a> <a id="11442" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="11447" href="Prelude.Lists.Core.html#2266" class="Function">filter₂</a> <a id="11455" href="SecureCompilation.Helpers.html#11275" class="Function">names≡</a>

        <a id="11471" href="SecureCompilation.Helpers.html#11471" class="Function">secrets≡</a> <a id="11480" class="Symbol">:</a> <a id="11482" href="SecureCompilation.Helpers.html#10902" class="Function">Γ′</a> <a id="11485" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="11488" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="11495" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="11497" href="SecureCompilation.Helpers.html#10875" class="Function">Γ</a>
        <a id="11507" href="SecureCompilation.Helpers.html#11471" class="Function">secrets≡</a> <a id="11516" class="Symbol">=</a> <a id="11518" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="11523" href="Prelude.Lists.Core.html#2207" class="Function">filter₁</a> <a id="11531" href="SecureCompilation.Helpers.html#11275" class="Function">names≡</a>

        <a id="11547" href="SecureCompilation.Helpers.html#11547" class="Function">ads≡</a> <a id="11552" class="Symbol">:</a> <a id="11554" href="SecureCompilation.Helpers.html#10902" class="Function">Γ′</a> <a id="11557" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="11560" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="11575" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="11577" href="SecureCompilation.Helpers.html#10875" class="Function">Γ</a>
        <a id="11587" href="SecureCompilation.Helpers.html#11547" class="Function">ads≡</a> <a id="11592" class="Keyword">rewrite</a> <a id="11600" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="11619" class="Symbol">{</a><a id="11620" class="Argument">X</a> <a id="11622" class="Symbol">=</a> <a id="11624" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="11626" class="Symbol">}</a> <a id="11628" href="SecureCompilation.Helpers.html#10875" class="Function">Γ</a> <a id="11630" class="Symbol">(</a><a id="11631" href="SecureCompilation.Helpers.html#10847" class="Bound">A</a> <a id="11633" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="11639" href="SecureCompilation.Helpers.html#10849" class="Bound">x</a> <a id="11641" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="11644" href="SecureCompilation.Helpers.html#10841" class="Bound">ad</a> <a id="11647" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="11648" class="Symbol">)</a> <a id="11650" class="Symbol">=</a> <a id="11652" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="11667" class="Symbol">_</a>

        <a id="11678" href="SecureCompilation.Helpers.html#11678" class="Function">txout↝</a> <a id="11685" class="Symbol">:</a> <a id="11687" href="SecureCompilation.Helpers.html#10875" class="Function">Γ</a> <a id="11689" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="11692" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="11698" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="11700" href="SecureCompilation.Helpers.html#10902" class="Function">Γ′</a>
        <a id="11711" href="SecureCompilation.Helpers.html#11678" class="Function">txout↝</a> <a id="11718" href="SecureCompilation.Helpers.html#11718" class="Bound">txout′</a> <a id="11725" class="Keyword">rewrite</a> <a id="11733" href="SecureCompilation.Helpers.html#11403" class="Function">ids≡</a> <a id="11738" class="Symbol">=</a> <a id="11740" href="SecureCompilation.Helpers.html#11718" class="Bound">txout′</a>

        <a id="11756" href="SecureCompilation.Helpers.html#11756" class="Function">sechash↝</a> <a id="11765" class="Symbol">:</a> <a id="11767" href="SecureCompilation.Helpers.html#10875" class="Function">Γ</a> <a id="11769" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="11772" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="11780" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="11782" href="SecureCompilation.Helpers.html#10902" class="Function">Γ′</a>
        <a id="11793" href="SecureCompilation.Helpers.html#11756" class="Function">sechash↝</a> <a id="11802" href="SecureCompilation.Helpers.html#11802" class="Bound">sechash′</a> <a id="11811" class="Keyword">rewrite</a> <a id="11819" href="SecureCompilation.Helpers.html#11471" class="Function">secrets≡</a> <a id="11828" class="Symbol">=</a> <a id="11830" href="SecureCompilation.Helpers.html#11802" class="Bound">sechash′</a>

        <a id="11848" href="SecureCompilation.Helpers.html#11848" class="Function">κ↝</a> <a id="11851" class="Symbol">:</a> <a id="11853" href="SecureCompilation.Helpers.html#10875" class="Function">Γ</a> <a id="11855" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="11858" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="11861" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="11863" href="SecureCompilation.Helpers.html#10902" class="Function">Γ′</a>
        <a id="11874" href="SecureCompilation.Helpers.html#11848" class="Function">κ↝</a> <a id="11877" href="SecureCompilation.Helpers.html#11877" class="Bound">κ′</a> <a id="11880" class="Keyword">rewrite</a> <a id="11888" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="11907" class="Symbol">{</a><a id="11908" class="Argument">X</a> <a id="11910" class="Symbol">=</a> <a id="11912" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="11914" class="Symbol">}</a> <a id="11916" href="SecureCompilation.Helpers.html#10875" class="Function">Γ</a> <a id="11918" class="Symbol">(</a><a id="11919" href="SecureCompilation.Helpers.html#10847" class="Bound">A</a> <a id="11921" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="11927" href="SecureCompilation.Helpers.html#10849" class="Bound">x</a> <a id="11929" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="11932" href="SecureCompilation.Helpers.html#10841" class="Bound">ad</a> <a id="11935" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="11936" class="Symbol">)</a>
                    <a id="11958" class="Symbol">|</a> <a id="11960" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="11975" class="Symbol">(</a><a id="11976" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="11991" href="SecureCompilation.Helpers.html#10875" class="Function">Γ</a><a id="11992" class="Symbol">)</a>
                    <a id="12014" class="Symbol">=</a> <a id="12016" href="SecureCompilation.Helpers.html#11877" class="Bound">κ′</a>
      <a id="12025" class="Comment">-- abstract</a>
      <a id="12043" href="SecureCompilation.Helpers.html#12043" class="Function">λˢ</a> <a id="12046" class="Symbol">:</a> <a id="12048" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="12050" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="12052" class="Symbol">(</a><a id="12053" href="SecureCompilation.Helpers.html#11003" class="Bound">∃Γ≈</a> <a id="12057" class="Symbol">.</a><a id="12058" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="12064" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="12067" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="12069" class="Symbol">)</a>
      <a id="12077" href="SecureCompilation.Helpers.html#12043" class="Function">λˢ</a> <a id="12080" class="Symbol">=</a> <a id="12082" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="12088" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="12090" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="12092" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="12094" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a> <a id="12097" href="SecureCompilation.Helpers.html#10875" class="Function">Γ</a> <a id="12099" href="SecureCompilation.Helpers.html#10950" class="Bound">R≈</a> <a id="12102" href="SecureCompilation.Helpers.html#10902" class="Function">Γ′</a> <a id="12105" href="SecureCompilation.Helpers.html#10969" class="Bound">Γ→Γ′</a> <a id="12110" href="SecureCompilation.Helpers.html#11003" class="Bound">∃Γ≈</a> <a id="12114" href="SecureCompilation.Helpers.html#11678" class="Function">txout↝</a> <a id="12121" href="SecureCompilation.Helpers.html#11756" class="Function">sechash↝</a> <a id="12130" href="SecureCompilation.Helpers.html#11848" class="Function">κ↝</a>

  <a id="12136" class="Comment">-- [4]</a>
  <a id="12145" class="Keyword">module</a> <a id="12152" href="SecureCompilation.Helpers.html#12152" class="Module">_</a> <a id="12154" href="SecureCompilation.Helpers.html#12154" class="Bound">ad</a> <a id="12157" href="SecureCompilation.Helpers.html#12157" class="Bound">Γ₀</a> <a id="12160" class="Symbol">(</a><a id="12161" href="SecureCompilation.Helpers.html#12161" class="Bound">ds</a> <a id="12164" class="Symbol">:</a> <a id="12166" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="12171" href="BitML.Contracts.Types.html#2627" class="Function">DepositRef</a><a id="12181" class="Symbol">)</a> <a id="12183" href="SecureCompilation.Helpers.html#12183" class="Bound">v</a> <a id="12185" href="SecureCompilation.Helpers.html#12185" class="Bound">z</a> <a id="12187" class="Keyword">where</a>
    <a id="12197" class="Keyword">private</a>
      <a id="12211" href="SecureCompilation.Helpers.html#12211" class="Function">g</a> <a id="12213" class="Symbol">=</a> <a id="12215" href="SecureCompilation.Helpers.html#12154" class="Bound">ad</a> <a id="12218" class="Symbol">.</a><a id="12219" href="BitML.Contracts.Types.html#2330" class="Field">G</a>
      <a id="12227" href="SecureCompilation.Helpers.html#12227" class="Function">c</a> <a id="12229" class="Symbol">=</a> <a id="12231" href="BitML.Contracts.Types.html#2351" class="Field">C</a> <a id="12233" href="SecureCompilation.Helpers.html#12154" class="Bound">ad</a>
      <a id="12242" href="SecureCompilation.Helpers.html#12242" class="Function">partG</a> <a id="12248" class="Symbol">=</a> <a id="12250" href="SecureCompilation.Helpers.html#12211" class="Function">g</a> <a id="12252" href="SymbolicModel.Run.Base.html#425" class="Function Operator">∙partG</a>
      <a id="12265" class="Comment">-- [BUG] cannot get this to work here without explicitly passing ⦃ HPᵖ ⦄</a>
      <a id="12344" class="Comment">-- [WORKAROUND1] give it as module parameters (forgetting the fact that it&#39;s computed out of `g`</a>
      <a id="12447" class="Comment">-- [WORKAROUND2] instantiate and give non-instance version _∙partG</a>

      <a id="12521" href="SecureCompilation.Helpers.html#12521" class="Function">Γ₁</a> <a id="12524" class="Symbol">=</a> <a id="12526" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="12530" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="12532" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="12534" href="SecureCompilation.Helpers.html#12154" class="Bound">ad</a> <a id="12537" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="12539" href="SecureCompilation.Helpers.html#12157" class="Bound">Γ₀</a>
      <a id="12548" href="SecureCompilation.Helpers.html#12548" class="Function">Γ₂</a> <a id="12551" class="Symbol">=</a> <a id="12553" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="12557" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="12559" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="12562" href="Data.List.Base.html#1553" class="Function">map</a> <a id="12566" class="Symbol">(λ{</a> <a id="12570" class="Symbol">(</a><a id="12571" href="SecureCompilation.Helpers.html#12571" class="Bound">Aᵢ</a> <a id="12574" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="12576" href="SecureCompilation.Helpers.html#12576" class="Bound">vᵢ</a> <a id="12579" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="12581" href="SecureCompilation.Helpers.html#12581" class="Bound">xᵢ</a><a id="12583" class="Symbol">)</a> <a id="12585" class="Symbol">→</a> <a id="12587" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="12589" href="SecureCompilation.Helpers.html#12571" class="Bound">Aᵢ</a> <a id="12592" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="12596" href="SecureCompilation.Helpers.html#12576" class="Bound">vᵢ</a> <a id="12599" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="12603" href="SecureCompilation.Helpers.html#12581" class="Bound">xᵢ</a> <a id="12606" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="12608" href="SecureCompilation.Helpers.html#12571" class="Bound">Aᵢ</a> <a id="12611" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="12617" href="SecureCompilation.Helpers.html#12581" class="Bound">xᵢ</a> <a id="12620" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="12624" href="SecureCompilation.Helpers.html#12154" class="Bound">ad</a> <a id="12627" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="12629" class="Symbol">})</a> <a id="12632" class="Symbol">(</a><a id="12633" href="SecureCompilation.Helpers.html#12161" class="Bound">ds</a><a id="12635" class="Symbol">)</a>
      <a id="12643" href="SecureCompilation.Helpers.html#12643" class="Function">Γ₃</a> <a id="12646" class="Symbol">=</a> <a id="12648" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="12652" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="12654" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="12657" href="Data.List.Base.html#1553" class="Function">map</a> <a id="12661" class="Symbol">(</a><a id="12662" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">_auth[</a> <a id="12669" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="12672" href="SecureCompilation.Helpers.html#12154" class="Bound">ad</a> <a id="12675" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="12676" class="Symbol">)</a> <a id="12678" href="SecureCompilation.Helpers.html#12242" class="Function">partG</a>
      <a id="12690" href="SecureCompilation.Helpers.html#12690" class="Function">Γ</a>  <a id="12693" class="Symbol">=</a> <a id="12695" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="12699" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="12701" href="SecureCompilation.Helpers.html#12521" class="Function">Γ₁</a> <a id="12704" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="12706" href="SecureCompilation.Helpers.html#12548" class="Function">Γ₂</a> <a id="12709" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="12711" href="SecureCompilation.Helpers.html#12643" class="Function">Γ₃</a>
      <a id="12720" href="SecureCompilation.Helpers.html#12720" class="Function">Γ′</a> <a id="12723" class="Symbol">=</a> <a id="12725" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="12729" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="12731" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="12733" href="SecureCompilation.Helpers.html#12227" class="Function">c</a> <a id="12735" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="12737" href="SecureCompilation.Helpers.html#12183" class="Bound">v</a> <a id="12739" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="12743" href="SecureCompilation.Helpers.html#12185" class="Bound">z</a> <a id="12745" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="12747" href="SecureCompilation.Helpers.html#12157" class="Bound">Γ₀</a>
    <a id="12754" class="Keyword">module</a> <a id="12761" href="SecureCompilation.Helpers.html#12761" class="Module">H₄</a> <a id="12764" class="Symbol">(</a><a id="12765" href="SecureCompilation.Helpers.html#12765" class="Bound">R≈</a> <a id="12768" class="Symbol">:</a> <a id="12770" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="12772" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="12775" href="SecureCompilation.Helpers.html#12690" class="Function">Γ</a> <a id="12777" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="12780" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a><a id="12781" class="Symbol">)</a> <a id="12783" class="Symbol">(</a><a id="12784" href="SecureCompilation.Helpers.html#12784" class="Bound">Γ→Γ′</a> <a id="12789" class="Symbol">:</a> <a id="12791" href="SecureCompilation.Helpers.html#12690" class="Function">Γ</a> <a id="12793" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="12796" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="12798" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="12801" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="12803" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="12807" href="SecureCompilation.Helpers.html#12720" class="Function">Γ′</a> <a id="12810" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="12813" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="12815" class="Symbol">)</a> <a id="12817" class="Symbol">(</a><a id="12818" href="SecureCompilation.Helpers.html#12818" class="Bound">∃Γ≈</a> <a id="12822" class="Symbol">:</a> <a id="12824" href="Data.Product.html#1378" class="Function">∃</a> <a id="12826" class="Symbol">(</a><a id="12827" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="12830" href="SecureCompilation.Helpers.html#12720" class="Function">Γ′</a><a id="12832" class="Symbol">))</a> <a id="12835" class="Keyword">where</a>
      <a id="12847" class="Keyword">private</a>
        <a id="12863" href="SecureCompilation.Helpers.html#12863" class="Function">committedA</a> <a id="12874" class="Symbol">:</a> <a id="12876" href="SecureCompilation.Helpers.html#12242" class="Function">partG</a> <a id="12882" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="12884" href="BitML.Semantics.Configurations.Helpers.html#11398" class="Function">committedParticipants</a> <a id="12906" href="SecureCompilation.Helpers.html#12154" class="Bound">ad</a> <a id="12909" href="SecureCompilation.Helpers.html#12690" class="Function">Γ</a>
        <a id="12919" href="SecureCompilation.Helpers.html#12863" class="Function">committedA</a> <a id="12930" class="Symbol">{</a><a id="12931" href="SecureCompilation.Helpers.html#12931" class="Bound">p</a><a id="12932" class="Symbol">}</a> <a id="12934" href="SecureCompilation.Helpers.html#12934" class="Bound">p∈</a> <a id="12937" class="Symbol">=</a> <a id="12939" href="BitML.Semantics.Configurations.Helpers.html#8196" class="Function">∈-collect-++⁺ʳ</a> <a id="12954" class="Symbol">(</a><a id="12955" href="SecureCompilation.Helpers.html#12521" class="Function">Γ₁</a> <a id="12958" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="12960" href="SecureCompilation.Helpers.html#12548" class="Function">Γ₂</a><a id="12962" class="Symbol">)</a> <a id="12964" href="SecureCompilation.Helpers.html#12643" class="Function">Γ₃</a> <a id="12967" class="Symbol">⦃</a> <a id="12969" href="BitML.Semantics.Configurations.Helpers.html#11543" class="Function">∣committedParticipants∣.go</a> <a id="12996" href="SecureCompilation.Helpers.html#12154" class="Bound">ad</a> <a id="12999" class="Symbol">⦄</a> <a id="13001" href="SecureCompilation.Helpers.html#13021" class="Function">p∈′</a>
          <a id="13015" class="Keyword">where</a> <a id="13021" href="SecureCompilation.Helpers.html#13021" class="Function">p∈′</a> <a id="13025" class="Symbol">:</a> <a id="13027" href="SecureCompilation.Helpers.html#12931" class="Bound">p</a> <a id="13029" href="Prelude.Membership.html#428" class="Field Operator">∈</a> <a id="13031" href="BitML.Semantics.Configurations.Helpers.html#11398" class="Function">committedParticipants</a> <a id="13053" href="SecureCompilation.Helpers.html#12154" class="Bound">ad</a> <a id="13056" href="SecureCompilation.Helpers.html#12643" class="Function">Γ₃</a>
                <a id="13075" href="SecureCompilation.Helpers.html#13021" class="Function">p∈′</a> <a id="13079" class="Keyword">rewrite</a> <a id="13087" href="BitML.Semantics.Configurations.Helpers.html#12836" class="Function">committedPartG≡</a> <a id="13103" class="Symbol">{</a><a id="13104" href="SecureCompilation.Helpers.html#12154" class="Bound">ad</a><a id="13106" class="Symbol">}</a> <a id="13108" href="SecureCompilation.Helpers.html#12242" class="Function">partG</a> <a id="13114" class="Symbol">=</a> <a id="13116" href="SecureCompilation.Helpers.html#12934" class="Bound">p∈</a>
      <a id="13125" class="Keyword">private</a>
        <a id="13141" href="SecureCompilation.Helpers.html#13141" class="Function">𝕘</a> <a id="13143" class="Symbol">:</a> <a id="13145" href="SymbolicModel.Mappings.Base.html#1314" class="Function">𝔾</a> <a id="13147" href="SecureCompilation.Helpers.html#12154" class="Bound">ad</a>
        <a id="13158" href="SecureCompilation.Helpers.html#13141" class="Function">𝕘</a> <a id="13160" class="Symbol">=</a> <a id="13162" href="SymbolicModel.Helpers.html#3335" class="Function">LIFT₀</a> <a id="13168" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="13170" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="13172" href="SecureCompilation.Helpers.html#12690" class="Function">Γ</a> <a id="13174" href="SecureCompilation.Helpers.html#12765" class="Bound">R≈</a> <a id="13177" href="SecureCompilation.Helpers.html#12154" class="Bound">ad</a> <a id="13180" class="Symbol">(</a><a id="13181" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="13186" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="13190" class="Symbol">)</a> <a id="13192" href="SecureCompilation.Helpers.html#12863" class="Function">committedA</a>

        <a id="13212" href="SecureCompilation.Helpers.html#13212" class="Function">$T</a> <a id="13215" class="Symbol">:</a> <a id="13217" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
        <a id="13229" href="SecureCompilation.Helpers.html#13212" class="Function">$T</a> <a id="13232" class="Symbol">=</a> <a id="13234" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="13237" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="13240" href="SecureCompilation.Helpers.html#1582" class="Function">COMPILE</a> <a id="13248" href="SecureCompilation.Helpers.html#13141" class="Function">𝕘</a> <a id="13250" class="Symbol">.</a><a id="13251" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>

        <a id="13266" href="SecureCompilation.Helpers.html#13266" class="Function">tx</a> <a id="13269" class="Symbol">:</a> <a id="13271" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
        <a id="13288" href="SecureCompilation.Helpers.html#13266" class="Function">tx</a> <a id="13291" class="Symbol">=</a> <a id="13293" href="SecureCompilation.Helpers.html#13212" class="Function">$T</a> <a id="13296" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="13299" href="Data.Fin.Patterns.html#399" class="InductiveConstructor">0F</a>
      <a id="13308" class="Comment">-- abstract</a>
      <a id="13326" href="SecureCompilation.Helpers.html#13326" class="Function">T</a> <a id="13328" class="Symbol">:</a> <a id="13330" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
      <a id="13340" href="SecureCompilation.Helpers.html#13326" class="Function">T</a> <a id="13342" class="Symbol">=</a> <a id="13344" href="SecureCompilation.Helpers.html#13212" class="Function">$T</a>
      <a id="13353" class="Keyword">private</a>
        <a id="13369" href="SecureCompilation.Helpers.html#13369" class="Function">h₀</a> <a id="13372" class="Symbol">:</a> <a id="13374" class="Symbol">∀</a> <a id="13376" href="SecureCompilation.Helpers.html#13376" class="Bound">ps</a> <a id="13379" class="Symbol">→</a> <a id="13381" href="Prelude.Null.html#263" class="Field">Null</a> <a id="13386" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="13388" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="13395" class="Symbol">(</a><a id="13396" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="13399" href="Data.List.Base.html#1553" class="Function">map</a> <a id="13403" class="Symbol">(</a><a id="13404" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">_auth[</a> <a id="13411" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="13414" href="SecureCompilation.Helpers.html#12154" class="Bound">ad</a> <a id="13417" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="13418" class="Symbol">)</a> <a id="13420" href="SecureCompilation.Helpers.html#13376" class="Bound">ps</a><a id="13422" class="Symbol">)</a>
        <a id="13432" href="SecureCompilation.Helpers.html#13369" class="Function">h₀</a> <a id="13435" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="13438" class="Symbol">=</a> <a id="13440" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="13453" href="SecureCompilation.Helpers.html#13369" class="Function">h₀</a> <a id="13456" class="Symbol">(_</a> <a id="13459" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13461" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="13463" class="Symbol">)</a> <a id="13465" class="Symbol">=</a> <a id="13467" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="13480" href="SecureCompilation.Helpers.html#13369" class="Function">h₀</a> <a id="13483" class="Symbol">(_</a> <a id="13486" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13488" href="SecureCompilation.Helpers.html#13488" class="Bound">ps</a><a id="13490" class="Symbol">@(_</a> <a id="13494" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13496" class="Symbol">_))</a> <a id="13500" class="Symbol">=</a> <a id="13502" href="SecureCompilation.Helpers.html#13369" class="Function">h₀</a> <a id="13505" href="SecureCompilation.Helpers.html#13488" class="Bound">ps</a>

        <a id="13517" href="SecureCompilation.Helpers.html#13517" class="Function">h₀′</a> <a id="13521" class="Symbol">:</a> <a id="13523" class="Symbol">∀</a> <a id="13525" class="Symbol">(</a><a id="13526" href="SecureCompilation.Helpers.html#13526" class="Bound">ds</a> <a id="13529" class="Symbol">:</a> <a id="13531" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="13536" href="BitML.Contracts.Types.html#2627" class="Function">DepositRef</a><a id="13546" class="Symbol">)</a> <a id="13548" class="Symbol">→</a>
          <a id="13560" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="13567" class="Symbol">(</a><a id="13568" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="13571" href="Data.List.Base.html#1553" class="Function">map</a> <a id="13575" class="Symbol">(λ{</a> <a id="13579" class="Symbol">(</a><a id="13580" href="SecureCompilation.Helpers.html#13580" class="Bound">Aᵢ</a> <a id="13583" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="13585" href="SecureCompilation.Helpers.html#13585" class="Bound">vᵢ</a> <a id="13588" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="13590" href="SecureCompilation.Helpers.html#13590" class="Bound">xᵢ</a><a id="13592" class="Symbol">)</a> <a id="13594" class="Symbol">→</a> <a id="13596" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="13598" href="SecureCompilation.Helpers.html#13580" class="Bound">Aᵢ</a> <a id="13601" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="13605" href="SecureCompilation.Helpers.html#13585" class="Bound">vᵢ</a> <a id="13608" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="13612" href="SecureCompilation.Helpers.html#13590" class="Bound">xᵢ</a> <a id="13615" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="13617" href="SecureCompilation.Helpers.html#13580" class="Bound">Aᵢ</a> <a id="13620" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="13626" href="SecureCompilation.Helpers.html#13590" class="Bound">xᵢ</a> <a id="13629" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="13633" href="SecureCompilation.Helpers.html#12154" class="Bound">ad</a> <a id="13636" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="13638" class="Symbol">})</a> <a id="13641" href="SecureCompilation.Helpers.html#13526" class="Bound">ds</a><a id="13643" class="Symbol">)</a> <a id="13645" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="13647" href="Data.List.Base.html#1553" class="Function">map</a> <a id="13651" class="Symbol">(</a><a id="13652" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="13658" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="13660" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="13665" class="Symbol">)</a> <a id="13667" href="SecureCompilation.Helpers.html#13526" class="Bound">ds</a>
        <a id="13678" href="SecureCompilation.Helpers.html#13517" class="Function">h₀′</a> <a id="13682" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="13685" class="Symbol">=</a> <a id="13687" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="13700" href="SecureCompilation.Helpers.html#13517" class="Function">h₀′</a> <a id="13704" class="Symbol">(_</a> <a id="13707" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13709" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="13711" class="Symbol">)</a> <a id="13713" class="Symbol">=</a> <a id="13715" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="13728" href="SecureCompilation.Helpers.html#13517" class="Function">h₀′</a> <a id="13732" class="Symbol">((</a><a id="13734" href="SecureCompilation.Helpers.html#13734" class="Bound">Aᵢ</a> <a id="13737" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="13739" href="SecureCompilation.Helpers.html#13739" class="Bound">vᵢ</a> <a id="13742" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="13744" href="SecureCompilation.Helpers.html#13744" class="Bound">xᵢ</a><a id="13746" class="Symbol">)</a> <a id="13748" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13750" href="SecureCompilation.Helpers.html#13750" class="Bound">ds</a><a id="13752" class="Symbol">@(_</a> <a id="13756" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13758" class="Symbol">_))</a> <a id="13762" class="Symbol">=</a>
          <a id="13774" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
            <a id="13792" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="13799" class="Symbol">((</a><a id="13801" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="13803" href="SecureCompilation.Helpers.html#13734" class="Bound">Aᵢ</a> <a id="13806" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="13810" href="SecureCompilation.Helpers.html#13739" class="Bound">vᵢ</a> <a id="13813" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="13817" href="SecureCompilation.Helpers.html#13744" class="Bound">xᵢ</a> <a id="13820" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="13822" href="SecureCompilation.Helpers.html#13734" class="Bound">Aᵢ</a> <a id="13825" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="13831" href="SecureCompilation.Helpers.html#13744" class="Bound">xᵢ</a> <a id="13834" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="13838" href="SecureCompilation.Helpers.html#12154" class="Bound">ad</a> <a id="13841" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="13842" class="Symbol">)</a> <a id="13844" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="13846" href="SecureCompilation.Helpers.html#14494" class="Function">Δ</a><a id="13847" class="Symbol">)</a>
          <a id="13859" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="13862" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="13890" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="13897" class="Symbol">(</a><a id="13898" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="13900" href="SecureCompilation.Helpers.html#13734" class="Bound">Aᵢ</a> <a id="13903" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="13907" href="SecureCompilation.Helpers.html#13739" class="Bound">vᵢ</a> <a id="13910" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="13914" href="SecureCompilation.Helpers.html#13744" class="Bound">xᵢ</a> <a id="13917" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="13919" href="SecureCompilation.Helpers.html#13734" class="Bound">Aᵢ</a> <a id="13922" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="13928" href="SecureCompilation.Helpers.html#13744" class="Bound">xᵢ</a> <a id="13931" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="13934" href="SecureCompilation.Helpers.html#12154" class="Bound">ad</a> <a id="13937" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="13938" class="Symbol">)</a> <a id="13940" href="SecureCompilation.Helpers.html#14494" class="Function">Δ</a> <a id="13942" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="13956" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="13963" class="Symbol">(</a><a id="13964" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="13966" href="SecureCompilation.Helpers.html#13734" class="Bound">Aᵢ</a> <a id="13969" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="13973" href="SecureCompilation.Helpers.html#13739" class="Bound">vᵢ</a> <a id="13976" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="13980" href="SecureCompilation.Helpers.html#13744" class="Bound">xᵢ</a> <a id="13983" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="13985" href="SecureCompilation.Helpers.html#13734" class="Bound">Aᵢ</a> <a id="13988" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="13994" href="SecureCompilation.Helpers.html#13744" class="Bound">xᵢ</a> <a id="13997" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="14001" href="SecureCompilation.Helpers.html#12154" class="Bound">ad</a> <a id="14004" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="14005" class="Symbol">)</a> <a id="14007" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="14010" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="14017" href="SecureCompilation.Helpers.html#14494" class="Function">Δ</a>
          <a id="14029" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="14032" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="14037" class="Symbol">(</a><a id="14038" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="14042" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="14049" href="SecureCompilation.Helpers.html#14494" class="Function">Δ</a><a id="14050" class="Symbol">)</a> <a id="14052" class="Symbol">(</a><a id="14053" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="14081" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="14088" class="Symbol">(</a><a id="14089" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="14091" href="SecureCompilation.Helpers.html#13734" class="Bound">Aᵢ</a> <a id="14094" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="14098" href="SecureCompilation.Helpers.html#13739" class="Bound">vᵢ</a> <a id="14101" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="14105" href="SecureCompilation.Helpers.html#13744" class="Bound">xᵢ</a><a id="14107" class="Symbol">)</a> <a id="14109" class="Symbol">(</a><a id="14110" href="SecureCompilation.Helpers.html#13734" class="Bound">Aᵢ</a> <a id="14113" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="14119" href="SecureCompilation.Helpers.html#13744" class="Bound">xᵢ</a> <a id="14122" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="14125" href="SecureCompilation.Helpers.html#12154" class="Bound">ad</a> <a id="14128" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="14129" class="Symbol">))</a> <a id="14132" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="14146" class="Symbol">(</a><a id="14147" href="SecureCompilation.Helpers.html#13744" class="Bound">xᵢ</a> <a id="14150" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="14152" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="14159" class="Symbol">(</a><a id="14160" href="SecureCompilation.Helpers.html#13734" class="Bound">Aᵢ</a> <a id="14163" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="14169" href="SecureCompilation.Helpers.html#13744" class="Bound">xᵢ</a> <a id="14172" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="14175" href="SecureCompilation.Helpers.html#12154" class="Bound">ad</a> <a id="14178" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="14179" class="Symbol">))</a> <a id="14182" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="14185" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="14192" href="SecureCompilation.Helpers.html#14494" class="Function">Δ</a>
          <a id="14204" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="14207" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="14212" class="Symbol">(λ</a> <a id="14215" href="SecureCompilation.Helpers.html#14215" class="Bound">x</a> <a id="14217" class="Symbol">→</a> <a id="14219" class="Symbol">(</a><a id="14220" href="SecureCompilation.Helpers.html#13744" class="Bound">xᵢ</a> <a id="14223" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="14225" href="SecureCompilation.Helpers.html#14215" class="Bound">x</a><a id="14226" class="Symbol">)</a> <a id="14228" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="14231" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="14238" href="SecureCompilation.Helpers.html#14494" class="Function">Δ</a><a id="14239" class="Symbol">)</a> <a id="14241" class="Symbol">(</a><a id="14242" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="14257" class="Symbol">_)</a> <a id="14260" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="14274" href="SecureCompilation.Helpers.html#13744" class="Bound">xᵢ</a> <a id="14277" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="14279" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="14286" class="Symbol">(</a><a id="14287" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="14290" href="Data.List.Base.html#1553" class="Function">map</a> <a id="14294" class="Symbol">(λ{</a> <a id="14298" class="Symbol">(</a><a id="14299" href="SecureCompilation.Helpers.html#14299" class="Bound">Aᵢ</a> <a id="14302" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14304" href="SecureCompilation.Helpers.html#14304" class="Bound">vᵢ</a> <a id="14307" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14309" href="SecureCompilation.Helpers.html#14309" class="Bound">xᵢ</a><a id="14311" class="Symbol">)</a> <a id="14313" class="Symbol">→</a> <a id="14315" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="14317" href="SecureCompilation.Helpers.html#14299" class="Bound">Aᵢ</a> <a id="14320" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="14324" href="SecureCompilation.Helpers.html#14304" class="Bound">vᵢ</a> <a id="14327" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="14331" href="SecureCompilation.Helpers.html#14309" class="Bound">xᵢ</a> <a id="14334" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14336" href="SecureCompilation.Helpers.html#14299" class="Bound">Aᵢ</a> <a id="14339" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="14345" href="SecureCompilation.Helpers.html#14309" class="Bound">xᵢ</a> <a id="14348" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="14352" href="SecureCompilation.Helpers.html#12154" class="Bound">ad</a> <a id="14355" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="14357" class="Symbol">})</a> <a id="14360" href="SecureCompilation.Helpers.html#13750" class="Bound">ds</a><a id="14362" class="Symbol">)</a>
          <a id="14374" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="14377" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="14382" class="Symbol">(</a><a id="14383" href="SecureCompilation.Helpers.html#13744" class="Bound">xᵢ</a> <a id="14386" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷_</a><a id="14388" class="Symbol">)</a> <a id="14390" class="Symbol">(</a><a id="14391" href="SecureCompilation.Helpers.html#13517" class="Function">h₀′</a> <a id="14395" href="SecureCompilation.Helpers.html#13750" class="Bound">ds</a><a id="14397" class="Symbol">)</a> <a id="14399" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="14413" href="SecureCompilation.Helpers.html#13744" class="Bound">xᵢ</a> <a id="14416" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="14418" href="Data.List.Base.html#1553" class="Function">map</a> <a id="14422" class="Symbol">(</a><a id="14423" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="14429" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="14431" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="14436" class="Symbol">)</a> <a id="14438" href="SecureCompilation.Helpers.html#13750" class="Bound">ds</a>
          <a id="14451" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="14453" class="Keyword">where</a> <a id="14459" class="Keyword">open</a> <a id="14464" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>
                  <a id="14494" href="SecureCompilation.Helpers.html#14494" class="Function">Δ</a> <a id="14496" class="Symbol">=</a> <a id="14498" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="14501" href="Data.List.Base.html#1553" class="Function">map</a> <a id="14505" class="Symbol">(λ{</a> <a id="14509" class="Symbol">(</a><a id="14510" href="SecureCompilation.Helpers.html#14510" class="Bound">Aᵢ</a> <a id="14513" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14515" href="SecureCompilation.Helpers.html#14515" class="Bound">vᵢ</a> <a id="14518" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14520" href="SecureCompilation.Helpers.html#14520" class="Bound">xᵢ</a><a id="14522" class="Symbol">)</a> <a id="14524" class="Symbol">→</a> <a id="14526" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="14528" href="SecureCompilation.Helpers.html#14510" class="Bound">Aᵢ</a> <a id="14531" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="14535" href="SecureCompilation.Helpers.html#14515" class="Bound">vᵢ</a> <a id="14538" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="14542" href="SecureCompilation.Helpers.html#14520" class="Bound">xᵢ</a> <a id="14545" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14547" href="SecureCompilation.Helpers.html#14510" class="Bound">Aᵢ</a> <a id="14550" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="14556" href="SecureCompilation.Helpers.html#14520" class="Bound">xᵢ</a> <a id="14559" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="14563" href="SecureCompilation.Helpers.html#12154" class="Bound">ad</a> <a id="14566" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="14568" class="Symbol">})</a> <a id="14571" href="SecureCompilation.Helpers.html#13750" class="Bound">ds</a>

        <a id="14583" href="SecureCompilation.Helpers.html#14583" class="Function">h₁</a> <a id="14586" class="Symbol">:</a> <a id="14588" class="Symbol">∀</a> <a id="14590" class="Symbol">(</a><a id="14591" href="SecureCompilation.Helpers.html#14591" class="Bound">xs</a> <a id="14594" class="Symbol">:</a> <a id="14596" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="14601" href="BitML.Contracts.Types.html#2627" class="Function">DepositRef</a><a id="14611" class="Symbol">)</a> <a id="14613" class="Symbol">→</a>
          <a id="14625" href="Prelude.Null.html#263" class="Field">Null</a> <a id="14630" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="14632" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="14639" class="Symbol">(</a><a id="14640" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="14643" href="Data.List.Base.html#1553" class="Function">map</a> <a id="14647" class="Symbol">(λ{</a> <a id="14651" class="Symbol">(</a><a id="14652" href="SecureCompilation.Helpers.html#14652" class="Bound">Aᵢ</a> <a id="14655" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14657" href="SecureCompilation.Helpers.html#14657" class="Bound">vᵢ</a> <a id="14660" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14662" href="SecureCompilation.Helpers.html#14662" class="Bound">xᵢ</a><a id="14664" class="Symbol">)</a> <a id="14666" class="Symbol">→</a> <a id="14668" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="14670" href="SecureCompilation.Helpers.html#14652" class="Bound">Aᵢ</a> <a id="14673" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="14677" href="SecureCompilation.Helpers.html#14657" class="Bound">vᵢ</a> <a id="14680" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="14684" href="SecureCompilation.Helpers.html#14662" class="Bound">xᵢ</a> <a id="14687" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14689" href="SecureCompilation.Helpers.html#14652" class="Bound">Aᵢ</a> <a id="14692" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="14698" href="SecureCompilation.Helpers.html#14662" class="Bound">xᵢ</a> <a id="14701" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="14705" href="SecureCompilation.Helpers.html#12154" class="Bound">ad</a> <a id="14708" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="14710" class="Symbol">})</a> <a id="14713" href="SecureCompilation.Helpers.html#14591" class="Bound">xs</a><a id="14715" class="Symbol">)</a>
        <a id="14725" href="SecureCompilation.Helpers.html#14583" class="Function">h₁</a> <a id="14728" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="14731" class="Symbol">=</a> <a id="14733" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="14746" href="SecureCompilation.Helpers.html#14583" class="Function">h₁</a> <a id="14749" class="Symbol">(_</a> <a id="14752" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="14754" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="14756" class="Symbol">)</a> <a id="14758" class="Symbol">=</a> <a id="14760" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="14773" href="SecureCompilation.Helpers.html#14583" class="Function">h₁</a> <a id="14776" class="Symbol">(_</a> <a id="14779" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="14781" href="SecureCompilation.Helpers.html#14781" class="Bound">xs</a><a id="14783" class="Symbol">@(_</a> <a id="14787" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="14789" class="Symbol">_))</a> <a id="14793" class="Symbol">=</a> <a id="14795" href="SecureCompilation.Helpers.html#14583" class="Function">h₁</a> <a id="14798" href="SecureCompilation.Helpers.html#14781" class="Bound">xs</a>

        <a id="14810" href="SecureCompilation.Helpers.html#14810" class="Function">h₂</a> <a id="14813" class="Symbol">:</a> <a id="14815" class="Symbol">∀</a> <a id="14817" href="SecureCompilation.Helpers.html#14817" class="Bound">xs</a> <a id="14820" class="Symbol">→</a> <a id="14822" href="Prelude.Null.html#263" class="Field">Null</a> <a id="14827" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="14829" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="14836" class="Symbol">(</a><a id="14837" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="14840" href="Data.List.Base.html#1553" class="Function">map</a> <a id="14844" class="Symbol">(</a><a id="14845" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">_auth[</a> <a id="14852" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="14855" href="SecureCompilation.Helpers.html#12154" class="Bound">ad</a> <a id="14858" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="14859" class="Symbol">)</a> <a id="14861" href="SecureCompilation.Helpers.html#14817" class="Bound">xs</a><a id="14863" class="Symbol">)</a>
        <a id="14873" href="SecureCompilation.Helpers.html#14810" class="Function">h₂</a> <a id="14876" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="14879" class="Symbol">=</a> <a id="14881" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="14894" href="SecureCompilation.Helpers.html#14810" class="Function">h₂</a> <a id="14897" class="Symbol">(_</a> <a id="14900" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="14902" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="14904" class="Symbol">)</a> <a id="14906" class="Symbol">=</a> <a id="14908" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="14921" href="SecureCompilation.Helpers.html#14810" class="Function">h₂</a> <a id="14924" class="Symbol">(_</a> <a id="14927" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="14929" href="SecureCompilation.Helpers.html#14929" class="Bound">xs</a><a id="14931" class="Symbol">@(_</a> <a id="14935" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="14937" class="Symbol">_))</a> <a id="14941" class="Symbol">=</a> <a id="14943" href="SecureCompilation.Helpers.html#14810" class="Function">h₂</a> <a id="14946" href="SecureCompilation.Helpers.html#14929" class="Bound">xs</a>

        <a id="14958" href="SecureCompilation.Helpers.html#14958" class="Function">h₁′</a> <a id="14962" class="Symbol">:</a> <a id="14964" class="Symbol">∀</a> <a id="14966" class="Symbol">(</a><a id="14967" href="SecureCompilation.Helpers.html#14967" class="Bound">xs</a> <a id="14970" class="Symbol">:</a> <a id="14972" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="14977" href="BitML.Contracts.Types.html#2627" class="Function">DepositRef</a><a id="14987" class="Symbol">)</a> <a id="14989" class="Symbol">→</a>
          <a id="15001" href="Prelude.Null.html#263" class="Field">Null</a> <a id="15006" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="15008" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="15023" class="Symbol">(</a><a id="15024" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="15027" href="Data.List.Base.html#1553" class="Function">map</a> <a id="15031" class="Symbol">(λ{</a> <a id="15035" class="Symbol">(</a><a id="15036" href="SecureCompilation.Helpers.html#15036" class="Bound">Aᵢ</a> <a id="15039" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="15041" href="SecureCompilation.Helpers.html#15041" class="Bound">vᵢ</a> <a id="15044" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="15046" href="SecureCompilation.Helpers.html#15046" class="Bound">xᵢ</a><a id="15048" class="Symbol">)</a> <a id="15050" class="Symbol">→</a> <a id="15052" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="15054" href="SecureCompilation.Helpers.html#15036" class="Bound">Aᵢ</a> <a id="15057" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="15061" href="SecureCompilation.Helpers.html#15041" class="Bound">vᵢ</a> <a id="15064" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="15068" href="SecureCompilation.Helpers.html#15046" class="Bound">xᵢ</a> <a id="15071" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15073" href="SecureCompilation.Helpers.html#15036" class="Bound">Aᵢ</a> <a id="15076" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="15082" href="SecureCompilation.Helpers.html#15046" class="Bound">xᵢ</a> <a id="15085" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="15089" href="SecureCompilation.Helpers.html#12154" class="Bound">ad</a> <a id="15092" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="15094" class="Symbol">})</a> <a id="15097" href="SecureCompilation.Helpers.html#14967" class="Bound">xs</a><a id="15099" class="Symbol">)</a>
        <a id="15109" href="SecureCompilation.Helpers.html#14958" class="Function">h₁′</a> <a id="15113" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="15116" class="Symbol">=</a> <a id="15118" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="15131" href="SecureCompilation.Helpers.html#14958" class="Function">h₁′</a> <a id="15135" class="Symbol">(_</a> <a id="15138" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15140" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="15142" class="Symbol">)</a> <a id="15144" class="Symbol">=</a> <a id="15146" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="15159" href="SecureCompilation.Helpers.html#14958" class="Function">h₁′</a> <a id="15163" class="Symbol">(_</a> <a id="15166" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15168" href="SecureCompilation.Helpers.html#15168" class="Bound">xs</a><a id="15170" class="Symbol">@(_</a> <a id="15174" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15176" class="Symbol">_))</a> <a id="15180" class="Symbol">=</a> <a id="15182" href="SecureCompilation.Helpers.html#14958" class="Function">h₁′</a> <a id="15186" href="SecureCompilation.Helpers.html#15168" class="Bound">xs</a>

        <a id="15198" href="SecureCompilation.Helpers.html#15198" class="Function">ids≡</a> <a id="15203" class="Symbol">:</a> <a id="15205" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15212" href="SecureCompilation.Helpers.html#12690" class="Function">Γ</a> <a id="15214" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="15216" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15223" href="SecureCompilation.Helpers.html#12157" class="Bound">Γ₀</a> <a id="15226" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="15229" href="Data.List.Base.html#1553" class="Function">map</a> <a id="15233" class="Symbol">(</a><a id="15234" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="15240" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="15242" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="15247" class="Symbol">)</a> <a id="15249" href="SecureCompilation.Helpers.html#12161" class="Bound">ds</a>
        <a id="15260" href="SecureCompilation.Helpers.html#15198" class="Function">ids≡</a> <a id="15265" class="Symbol">=</a>
          <a id="15277" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
            <a id="15295" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15302" href="SecureCompilation.Helpers.html#12690" class="Function">Γ</a>
          <a id="15314" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="15317" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="15345" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="15352" class="Symbol">(</a><a id="15353" href="SecureCompilation.Helpers.html#12521" class="Function">Γ₁</a> <a id="15356" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15358" href="SecureCompilation.Helpers.html#12548" class="Function">Γ₂</a><a id="15360" class="Symbol">)</a> <a id="15362" href="SecureCompilation.Helpers.html#12643" class="Function">Γ₃</a> <a id="15365" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="15379" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15386" class="Symbol">(</a><a id="15387" href="SecureCompilation.Helpers.html#12521" class="Function">Γ₁</a> <a id="15390" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15392" href="SecureCompilation.Helpers.html#12548" class="Function">Γ₂</a><a id="15394" class="Symbol">)</a> <a id="15396" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="15399" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15406" href="SecureCompilation.Helpers.html#12643" class="Function">Γ₃</a>
          <a id="15419" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="15422" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="15427" class="Symbol">(</a><a id="15428" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15435" class="Symbol">(</a><a id="15436" href="SecureCompilation.Helpers.html#12521" class="Function">Γ₁</a> <a id="15439" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15441" href="SecureCompilation.Helpers.html#12548" class="Function">Γ₂</a><a id="15443" class="Symbol">)</a> <a id="15445" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="15448" class="Symbol">)</a> <a id="15450" class="Symbol">(</a><a id="15451" href="SecureCompilation.Helpers.html#13369" class="Function">h₀</a> <a id="15454" href="SecureCompilation.Helpers.html#12242" class="Function">partG</a><a id="15459" class="Symbol">)</a> <a id="15461" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="15475" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15482" class="Symbol">(</a><a id="15483" href="SecureCompilation.Helpers.html#12521" class="Function">Γ₁</a> <a id="15486" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15488" href="SecureCompilation.Helpers.html#12548" class="Function">Γ₂</a><a id="15490" class="Symbol">)</a> <a id="15492" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="15495" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
          <a id="15508" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="15511" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="15526" class="Symbol">_</a> <a id="15528" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="15542" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15549" class="Symbol">(</a><a id="15550" href="SecureCompilation.Helpers.html#12521" class="Function">Γ₁</a> <a id="15553" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15555" href="SecureCompilation.Helpers.html#12548" class="Function">Γ₂</a><a id="15557" class="Symbol">)</a>
          <a id="15569" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="15572" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="15600" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="15607" href="SecureCompilation.Helpers.html#12521" class="Function">Γ₁</a> <a id="15610" href="SecureCompilation.Helpers.html#12548" class="Function">Γ₂</a> <a id="15613" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="15627" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15634" href="SecureCompilation.Helpers.html#12521" class="Function">Γ₁</a> <a id="15637" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="15640" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15647" href="SecureCompilation.Helpers.html#12548" class="Function">Γ₂</a>
          <a id="15660" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="15663" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="15668" class="Symbol">(</a><a id="15669" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="15673" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15680" href="SecureCompilation.Helpers.html#12548" class="Function">Γ₂</a><a id="15682" class="Symbol">)</a> <a id="15684" class="Symbol">(</a><a id="15685" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="15713" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="15720" class="Symbol">(</a><a id="15721" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="15723" href="SecureCompilation.Helpers.html#12154" class="Bound">ad</a><a id="15725" class="Symbol">)</a> <a id="15727" href="SecureCompilation.Helpers.html#12157" class="Bound">Γ₀</a><a id="15729" class="Symbol">)</a> <a id="15731" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="15745" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15752" href="SecureCompilation.Helpers.html#12157" class="Bound">Γ₀</a> <a id="15755" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="15758" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15765" href="SecureCompilation.Helpers.html#12548" class="Function">Γ₂</a>
          <a id="15778" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="15781" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="15786" class="Symbol">(</a><a id="15787" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15794" href="SecureCompilation.Helpers.html#12157" class="Bound">Γ₀</a> <a id="15797" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="15800" class="Symbol">)</a> <a id="15802" class="Symbol">(</a><a id="15803" href="SecureCompilation.Helpers.html#13517" class="Function">h₀′</a> <a id="15807" href="SecureCompilation.Helpers.html#12161" class="Bound">ds</a><a id="15809" class="Symbol">)</a> <a id="15811" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="15825" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15832" href="SecureCompilation.Helpers.html#12157" class="Bound">Γ₀</a> <a id="15835" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="15838" href="Data.List.Base.html#1553" class="Function">map</a> <a id="15842" class="Symbol">(</a><a id="15843" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="15849" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="15851" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="15856" class="Symbol">)</a> <a id="15858" href="SecureCompilation.Helpers.html#12161" class="Bound">ds</a>
          <a id="15871" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="15873" class="Keyword">where</a> <a id="15879" class="Keyword">open</a> <a id="15884" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

        <a id="15905" href="SecureCompilation.Helpers.html#15905" class="Function">secrets≡</a> <a id="15914" class="Symbol">:</a> <a id="15916" href="SecureCompilation.Helpers.html#12720" class="Function">Γ′</a> <a id="15919" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="15922" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="15929" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="15931" href="SecureCompilation.Helpers.html#12690" class="Function">Γ</a>
        <a id="15941" href="SecureCompilation.Helpers.html#15905" class="Function">secrets≡</a> <a id="15950" class="Symbol">=</a> <a id="15952" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="15956" href="Function.Base.html#1928" class="Function Operator">$</a>
          <a id="15968" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a> <a id="15974" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="15981" href="SecureCompilation.Helpers.html#12690" class="Function">Γ</a>                      <a id="16004" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
                <a id="16024" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="16031" class="Symbol">(</a><a id="16032" href="SecureCompilation.Helpers.html#12521" class="Function">Γ₁</a> <a id="16035" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="16037" href="SecureCompilation.Helpers.html#12548" class="Function">Γ₂</a> <a id="16040" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="16042" href="SecureCompilation.Helpers.html#12643" class="Function">Γ₃</a><a id="16044" class="Symbol">)</a>         <a id="16054" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="16057" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="16085" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="16092" class="Symbol">(</a><a id="16093" href="SecureCompilation.Helpers.html#12521" class="Function">Γ₁</a> <a id="16096" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="16098" href="SecureCompilation.Helpers.html#12548" class="Function">Γ₂</a><a id="16100" class="Symbol">)</a> <a id="16102" href="SecureCompilation.Helpers.html#12643" class="Function">Γ₃</a> <a id="16105" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="16123" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="16130" class="Symbol">(</a><a id="16131" href="SecureCompilation.Helpers.html#12521" class="Function">Γ₁</a> <a id="16134" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="16136" href="SecureCompilation.Helpers.html#12548" class="Function">Γ₂</a><a id="16138" class="Symbol">)</a> <a id="16140" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="16143" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="16150" href="SecureCompilation.Helpers.html#12643" class="Function">Γ₃</a> <a id="16153" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="16156" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="16161" class="Symbol">(</a><a id="16162" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="16169" class="Symbol">(</a><a id="16170" href="SecureCompilation.Helpers.html#12521" class="Function">Γ₁</a> <a id="16173" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="16175" href="SecureCompilation.Helpers.html#12548" class="Function">Γ₂</a><a id="16177" class="Symbol">)</a>  <a id="16180" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="16183" class="Symbol">)</a> <a id="16185" class="Symbol">(</a><a id="16186" href="SecureCompilation.Helpers.html#14810" class="Function">h₂</a> <a id="16189" href="SecureCompilation.Helpers.html#12242" class="Function">partG</a><a id="16194" class="Symbol">)</a> <a id="16196" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="16214" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="16221" class="Symbol">(</a><a id="16222" href="SecureCompilation.Helpers.html#12521" class="Function">Γ₁</a> <a id="16225" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="16227" href="SecureCompilation.Helpers.html#12548" class="Function">Γ₂</a><a id="16229" class="Symbol">)</a> <a id="16231" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="16234" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>        <a id="16244" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="16247" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="16262" class="Symbol">_</a> <a id="16264" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="16282" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="16289" class="Symbol">(</a><a id="16290" href="SecureCompilation.Helpers.html#12521" class="Function">Γ₁</a> <a id="16293" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="16295" href="SecureCompilation.Helpers.html#12548" class="Function">Γ₂</a><a id="16297" class="Symbol">)</a>              <a id="16312" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="16315" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="16343" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="16350" href="SecureCompilation.Helpers.html#12521" class="Function">Γ₁</a> <a id="16353" href="SecureCompilation.Helpers.html#12548" class="Function">Γ₂</a> <a id="16356" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="16374" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="16381" href="SecureCompilation.Helpers.html#12521" class="Function">Γ₁</a> <a id="16384" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="16387" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="16394" href="SecureCompilation.Helpers.html#12548" class="Function">Γ₂</a>        <a id="16404" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="16407" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="16412" class="Symbol">(</a><a id="16413" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="16420" href="SecureCompilation.Helpers.html#12521" class="Function">Γ₁</a> <a id="16423" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="16426" class="Symbol">)</a> <a id="16428" class="Symbol">(</a><a id="16429" href="SecureCompilation.Helpers.html#14583" class="Function">h₁</a> <a id="16432" href="SecureCompilation.Helpers.html#12161" class="Bound">ds</a><a id="16434" class="Symbol">)</a> <a id="16436" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="16454" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="16461" href="SecureCompilation.Helpers.html#12521" class="Function">Γ₁</a> <a id="16464" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="16467" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>               <a id="16484" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="16487" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="16502" class="Symbol">_</a> <a id="16504" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="16522" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="16529" href="SecureCompilation.Helpers.html#12521" class="Function">Γ₁</a>                     <a id="16552" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
                <a id="16572" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="16579" href="SecureCompilation.Helpers.html#12720" class="Function">Γ′</a>                     <a id="16602" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="16604" class="Keyword">where</a> <a id="16610" class="Keyword">open</a> <a id="16615" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

        <a id="16636" href="SecureCompilation.Helpers.html#16636" class="Function">ads⊆′</a> <a id="16642" class="Symbol">:</a> <a id="16644" href="SecureCompilation.Helpers.html#12720" class="Function">Γ′</a> <a id="16647" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="16650" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="16665" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="16667" href="SecureCompilation.Helpers.html#12690" class="Function">Γ</a>
        <a id="16677" href="SecureCompilation.Helpers.html#16636" class="Function">ads⊆′</a> <a id="16683" class="Symbol">=</a> <a id="16685" href="Relation.Binary.Reasoning.Base.Double.html#2222" class="Function Operator">begin</a> <a id="16691" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="16706" href="SecureCompilation.Helpers.html#12720" class="Function">Γ′</a> <a id="16709" href="Relation.Binary.Reasoning.Base.Double.html#3560" class="Function Operator">≡⟨⟩</a>
                      <a id="16735" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="16750" href="SecureCompilation.Helpers.html#12157" class="Bound">Γ₀</a> <a id="16753" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="16756" href="BitML.Semantics.Configurations.Helpers.html#7992" class="Function">∈-collect-++⁺ˡ</a> <a id="16771" class="Symbol">(</a><a id="16772" href="SecureCompilation.Helpers.html#12521" class="Function">Γ₁</a> <a id="16775" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="16777" href="SecureCompilation.Helpers.html#12548" class="Function">Γ₂</a><a id="16779" class="Symbol">)</a> <a id="16781" href="SecureCompilation.Helpers.html#12643" class="Function">Γ₃</a> <a id="16784" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="16786" href="BitML.Semantics.Configurations.Helpers.html#7992" class="Function">∈-collect-++⁺ˡ</a> <a id="16801" href="SecureCompilation.Helpers.html#12521" class="Function">Γ₁</a> <a id="16804" href="SecureCompilation.Helpers.html#12548" class="Function">Γ₂</a> <a id="16807" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
                      <a id="16831" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="16846" href="SecureCompilation.Helpers.html#12690" class="Function">Γ</a>  <a id="16849" href="Relation.Binary.Reasoning.Base.Double.html#3656" class="Function Operator">∎</a> <a id="16851" class="Keyword">where</a> <a id="16857" class="Keyword">open</a> <a id="16862" href="Data.List.Relation.Binary.Subset.Propositional.Properties.html#3760" class="Module">⊆-Reasoning</a> <a id="16874" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a>

        <a id="16886" href="SecureCompilation.Helpers.html#16886" class="Function">sechash↝</a> <a id="16895" class="Symbol">:</a>  <a id="16898" href="SecureCompilation.Helpers.html#12690" class="Function">Γ</a> <a id="16900" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="16903" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="16911" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="16913" href="SecureCompilation.Helpers.html#12720" class="Function">Γ′</a>
        <a id="16924" href="SecureCompilation.Helpers.html#16886" class="Function">sechash↝</a> <a id="16933" class="Symbol">=</a> <a id="16935" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">lift</a> <a id="16940" href="SecureCompilation.Helpers.html#12690" class="Function">Γ</a> <a id="16942" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">—⟨</a> <a id="16945" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="16952" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⟩—</a> <a id="16955" href="SecureCompilation.Helpers.html#12720" class="Function">Γ′</a> <a id="16958" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⊣</a> <a id="16960" href="SecureCompilation.Helpers.html#15905" class="Function">secrets≡</a>

        <a id="16978" href="SecureCompilation.Helpers.html#16978" class="Function">κ↝</a> <a id="16981" class="Symbol">:</a> <a id="16983" href="SecureCompilation.Helpers.html#12690" class="Function">Γ</a> <a id="16985" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="16988" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="16991" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="16993" href="SecureCompilation.Helpers.html#12720" class="Function">Γ′</a>
        <a id="17004" href="SecureCompilation.Helpers.html#16978" class="Function">κ↝</a> <a id="17007" href="SecureCompilation.Helpers.html#17007" class="Bound">κ′</a> <a id="17010" class="Symbol">=</a> <a id="17012" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="17021" href="SecureCompilation.Helpers.html#17007" class="Bound">κ′</a> <a id="17024" href="SecureCompilation.Helpers.html#16636" class="Function">ads⊆′</a>

        <a id="17039" href="SecureCompilation.Helpers.html#17039" class="Function">txout↝</a> <a id="17046" class="Symbol">:</a> <a id="17048" href="SecureCompilation.Helpers.html#12690" class="Function">Γ</a> <a id="17050" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="17053" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="17059" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="17061" href="SecureCompilation.Helpers.html#12720" class="Function">Γ′</a>
        <a id="17072" href="SecureCompilation.Helpers.html#17039" class="Function">txout↝</a> <a id="17079" href="SecureCompilation.Helpers.html#17079" class="Bound">txout′</a> <a id="17086" class="Keyword">rewrite</a> <a id="17094" href="SecureCompilation.Helpers.html#15198" class="Function">ids≡</a> <a id="17099" class="Symbol">=</a> <a id="17101" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="17108" href="SecureCompilation.Helpers.html#12185" class="Bound">z</a> <a id="17110" href="SecureCompilation.Helpers.html#13266" class="Function">tx</a> <a id="17113" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="17115" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="17124" href="SecureCompilation.Helpers.html#17079" class="Bound">txout′</a> <a id="17131" href="Data.List.Membership.Propositional.Properties.html#3965" class="Function">∈-++⁺ˡ</a>
      <a id="17144" class="Comment">-- abstract</a>
      <a id="17162" href="SecureCompilation.Helpers.html#17162" class="Function">λˢ</a> <a id="17165" class="Symbol">:</a> <a id="17167" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="17169" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="17171" class="Symbol">(</a><a id="17172" href="SecureCompilation.Helpers.html#12818" class="Bound">∃Γ≈</a> <a id="17176" class="Symbol">.</a><a id="17177" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="17183" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="17186" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="17188" class="Symbol">)</a>
      <a id="17196" href="SecureCompilation.Helpers.html#17162" class="Function">λˢ</a> <a id="17199" class="Symbol">=</a> <a id="17201" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="17207" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="17209" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="17211" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="17213" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a> <a id="17216" href="SecureCompilation.Helpers.html#12690" class="Function">Γ</a> <a id="17218" href="SecureCompilation.Helpers.html#12765" class="Bound">R≈</a> <a id="17221" href="SecureCompilation.Helpers.html#12720" class="Function">Γ′</a> <a id="17224" href="SecureCompilation.Helpers.html#12784" class="Bound">Γ→Γ′</a> <a id="17229" href="SecureCompilation.Helpers.html#12818" class="Bound">∃Γ≈</a> <a id="17233" href="SecureCompilation.Helpers.html#17039" class="Function">txout↝</a> <a id="17240" href="SecureCompilation.Helpers.html#16886" class="Function">sechash↝</a> <a id="17249" href="SecureCompilation.Helpers.html#16978" class="Function">κ↝</a>

  <a id="17255" class="Comment">-- [5]</a>
  <a id="17264" class="Keyword">module</a> <a id="17271" href="SecureCompilation.Helpers.html#17271" class="Module">_</a> <a id="17273" href="SecureCompilation.Helpers.html#17273" class="Bound">c</a> <a id="17275" href="SecureCompilation.Helpers.html#17275" class="Bound">v</a> <a id="17277" href="SecureCompilation.Helpers.html#17277" class="Bound">x</a> <a id="17279" href="SecureCompilation.Helpers.html#17279" class="Bound">Γ₀</a> <a id="17282" href="SecureCompilation.Helpers.html#17282" class="Bound">A</a> <a id="17284" class="Symbol">(</a><a id="17285" href="SecureCompilation.Helpers.html#17285" class="Bound">i</a> <a id="17287" class="Symbol">:</a> <a id="17289" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="17295" href="SecureCompilation.Helpers.html#17273" class="Bound">c</a><a id="17296" class="Symbol">)</a> <a id="17298" class="Keyword">where</a>
    <a id="17308" class="Keyword">open</a> <a id="17313" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="17321" href="SecureCompilation.Helpers.html#17273" class="Bound">c</a> <a id="17323" href="SecureCompilation.Helpers.html#17285" class="Bound">i</a>
    <a id="17329" class="Keyword">private</a>
      <a id="17343" href="SecureCompilation.Helpers.html#17343" class="Function">Γ</a>  <a id="17346" class="Symbol">=</a> <a id="17348" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="17352" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="17354" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="17356" href="SecureCompilation.Helpers.html#17273" class="Bound">c</a> <a id="17358" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="17360" href="SecureCompilation.Helpers.html#17275" class="Bound">v</a> <a id="17362" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="17366" href="SecureCompilation.Helpers.html#17277" class="Bound">x</a> <a id="17368" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="17370" href="SecureCompilation.Helpers.html#17279" class="Bound">Γ₀</a>
      <a id="17379" href="SecureCompilation.Helpers.html#17379" class="Function">Γ′</a> <a id="17382" class="Symbol">=</a> <a id="17384" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="17388" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="17390" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="17392" href="SecureCompilation.Helpers.html#17273" class="Bound">c</a> <a id="17394" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="17396" href="SecureCompilation.Helpers.html#17275" class="Bound">v</a> <a id="17398" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="17402" href="SecureCompilation.Helpers.html#17277" class="Bound">x</a> <a id="17404" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="17406" href="SecureCompilation.Helpers.html#17282" class="Bound">A</a> <a id="17408" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="17414" href="SecureCompilation.Helpers.html#17277" class="Bound">x</a> <a id="17416" href="BitML.Semantics.Action.html#565" class="InductiveConstructor Operator">▷</a> <a id="17418" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="17420" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="17422" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="17424" href="SecureCompilation.Helpers.html#17279" class="Bound">Γ₀</a>
    <a id="17431" class="Keyword">module</a> <a id="17438" href="SecureCompilation.Helpers.html#17438" class="Module">H₅</a> <a id="17441" class="Symbol">(</a><a id="17442" href="SecureCompilation.Helpers.html#17442" class="Bound">R≈</a> <a id="17445" class="Symbol">:</a> <a id="17447" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="17449" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="17452" href="SecureCompilation.Helpers.html#17343" class="Function">Γ</a> <a id="17454" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="17457" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a><a id="17458" class="Symbol">)</a> <a id="17460" class="Symbol">(</a><a id="17461" href="SecureCompilation.Helpers.html#17461" class="Bound">Γ→Γ′</a> <a id="17466" class="Symbol">:</a> <a id="17468" href="SecureCompilation.Helpers.html#17343" class="Function">Γ</a> <a id="17470" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="17473" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="17475" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="17478" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="17480" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="17484" href="SecureCompilation.Helpers.html#17379" class="Function">Γ′</a> <a id="17487" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="17490" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="17492" class="Symbol">)</a> <a id="17494" class="Symbol">(</a><a id="17495" href="SecureCompilation.Helpers.html#17495" class="Bound">∃Γ≈</a> <a id="17499" class="Symbol">:</a> <a id="17501" href="Data.Product.html#1378" class="Function">∃</a> <a id="17503" class="Symbol">(</a><a id="17504" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="17507" href="SecureCompilation.Helpers.html#17379" class="Function">Γ′</a><a id="17509" class="Symbol">))</a>
              <a id="17526" class="Symbol">(</a><a id="17527" href="SecureCompilation.Helpers.html#17527" class="Bound">D≡A:D′</a> <a id="17534" class="Symbol">:</a> <a id="17536" href="SecureCompilation.Helpers.html#17282" class="Bound">A</a> <a id="17538" href="Prelude.Membership.html#428" class="Field Operator">∈</a> <a id="17540" href="BitML.Contracts.Collections.html#14015" class="Function">authDecorations</a> <a id="17556" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a><a id="17557" class="Symbol">)</a> <a id="17559" class="Keyword">where</a>
      <a id="17571" class="Keyword">private</a>
        <a id="17587" href="SecureCompilation.Helpers.html#17587" class="Function">T×pubK</a> <a id="17594" class="Symbol">:</a> <a id="17596" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a> <a id="17600" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="17602" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a>
        <a id="17612" href="SecureCompilation.Helpers.html#17587" class="Function">T×pubK</a> <a id="17619" class="Symbol">=</a>
          <a id="17631" class="Keyword">let</a>
            <a id="17647" class="Comment">-- (ii) {G}C is the ancestor of ⟨C, v⟩ₓ in Rˢ</a>
            <a id="17705" href="SecureCompilation.Helpers.html#17705" class="Bound">⟨G⟩C</a> <a id="17710" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="17712" href="SecureCompilation.Helpers.html#17712" class="Bound">vad</a> <a id="17716" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="17718" href="SecureCompilation.Helpers.html#17718" class="Bound">ad∈</a> <a id="17722" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="17724" href="SecureCompilation.Helpers.html#17724" class="Bound">c⊆</a> <a id="17727" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="17729" href="SecureCompilation.Helpers.html#17729" class="Bound">anc</a> <a id="17733" class="Symbol">=</a> <a id="17735" href="SymbolicModel.Helpers.html#2768" class="Function">ANCESTOR</a> <a id="17744" class="Symbol">{</a><a id="17745" class="Argument">R</a> <a id="17747" class="Symbol">=</a> <a id="17749" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a><a id="17750" class="Symbol">}</a> <a id="17752" class="Symbol">{</a><a id="17753" class="Argument">Γ</a> <a id="17755" class="Symbol">=</a> <a id="17757" href="SecureCompilation.Helpers.html#17343" class="Function">Γ</a><a id="17758" class="Symbol">}</a> <a id="17760" href="SecureCompilation.Helpers.html#17442" class="Bound">R≈</a> <a id="17763" class="Symbol">(</a><a id="17764" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="17769" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="17773" class="Symbol">)</a>
            <a id="17787" href="BitML.Contracts.Types.html#2313" class="InductiveConstructor Operator">⟨</a> <a id="17789" href="SecureCompilation.Helpers.html#17789" class="Bound">G</a> <a id="17791" href="BitML.Contracts.Types.html#2313" class="InductiveConstructor Operator">⟩</a> <a id="17793" href="SecureCompilation.Helpers.html#17793" class="Bound">C</a> <a id="17795" class="Symbol">=</a> <a id="17797" href="SecureCompilation.Helpers.html#17705" class="Bound">⟨G⟩C</a><a id="17801" class="Symbol">;</a> <a id="17803" href="SecureCompilation.Helpers.html#17803" class="Bound">partG</a> <a id="17809" class="Symbol">=</a> <a id="17811" href="SecureCompilation.Helpers.html#17789" class="Bound">G</a> <a id="17813" href="SymbolicModel.Run.Base.html#425" class="Function Operator">∙partG</a>

            <a id="17833" href="SecureCompilation.Helpers.html#17833" class="Bound">d∈</a> <a id="17836" class="Symbol">:</a> <a id="17838" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="17840" href="Prelude.Membership.html#428" class="Field Operator">∈</a> <a id="17842" href="BitML.Contracts.Subterms.html#647" class="Function">subterms</a> <a id="17851" href="SecureCompilation.Helpers.html#17705" class="Bound">⟨G⟩C</a>
            <a id="17868" href="SecureCompilation.Helpers.html#17833" class="Bound">d∈</a> <a id="17871" class="Symbol">=</a> <a id="17873" href="SecureCompilation.Helpers.html#17724" class="Bound">c⊆</a> <a id="17876" class="Symbol">(</a><a id="17877" href="Data.List.Membership.Propositional.Properties.html#11102" class="Function">L.Mem.∈-lookup</a> <a id="17892" href="SecureCompilation.Helpers.html#17285" class="Bound">i</a><a id="17893" class="Symbol">)</a>

            <a id="17908" href="SecureCompilation.Helpers.html#17908" class="Bound">A∈</a> <a id="17911" class="Symbol">:</a> <a id="17913" href="SecureCompilation.Helpers.html#17282" class="Bound">A</a> <a id="17915" href="Prelude.Membership.html#428" class="Field Operator">∈</a> <a id="17917" href="SecureCompilation.Helpers.html#17803" class="Bound">partG</a>
            <a id="17935" href="SecureCompilation.Helpers.html#17908" class="Bound">A∈</a> <a id="17938" class="Symbol">=</a> <a id="17940" href="Prelude.Lists.Dec.html#4157" class="Function">∈-nub⁺</a> <a id="17947" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="17949" href="BitML.Contracts.Subterms.html#9999" class="Function">subterms-part⊆ᵃ</a> <a id="17965" href="SecureCompilation.Helpers.html#17712" class="Bound">vad</a> <a id="17969" href="SecureCompilation.Helpers.html#17833" class="Bound">d∈</a> <a id="17972" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="17974" href="BitML.Contracts.Collections.html#14174" class="Function">auth⊆part</a> <a id="17984" class="Symbol">{</a><a id="17985" class="Argument">d</a> <a id="17987" class="Symbol">=</a> <a id="17989" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a><a id="17990" class="Symbol">}</a> <a id="17992" href="SecureCompilation.Helpers.html#17527" class="Bound">D≡A:D′</a>

            <a id="18012" class="Symbol">_</a> <a id="18014" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="18016" href="SecureCompilation.Helpers.html#18016" class="Bound">∀d∗</a> <a id="18020" class="Symbol">=</a> <a id="18022" href="SecureCompilation.Helpers.html#1582" class="Function">COMPILE</a> <a id="18030" class="Symbol">(</a><a id="18031" href="SymbolicModel.Helpers.html#4824" class="Function">LIFTᶜ</a> <a id="18037" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="18039" href="SecureCompilation.Helpers.html#17729" class="Bound">anc</a><a id="18042" class="Symbol">)</a>
            <a id="18056" href="SecureCompilation.Helpers.html#18056" class="Bound">Tᵈ</a> <a id="18059" class="Symbol">:</a> <a id="18061" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="18070" class="Symbol">(</a><a id="18071" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="18073" href="Compiler.Subterms.html#622" class="Field Operator">∗</a><a id="18074" class="Symbol">)</a>
            <a id="18088" href="SecureCompilation.Helpers.html#18056" class="Bound">Tᵈ</a> <a id="18091" class="Symbol">=</a> <a id="18093" href="SecureCompilation.Helpers.html#18016" class="Bound">∀d∗</a> <a id="18097" href="SecureCompilation.Helpers.html#17833" class="Bound">d∈</a>
          <a id="18110" class="Keyword">in</a> <a id="18113" class="Symbol">(</a><a id="18114" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="18117" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="18120" href="SecureCompilation.Helpers.html#18056" class="Bound">Tᵈ</a><a id="18122" class="Symbol">)</a> <a id="18124" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="18126" class="Symbol">(</a><a id="18127" href="SymbolicModel.Mappings.Base.html#857" class="Function">κ′</a> <a id="18130" href="SecureCompilation.Helpers.html#17718" class="Bound">ad∈</a> <a id="18134" href="SecureCompilation.Helpers.html#17833" class="Bound">d∈</a> <a id="18137" class="Symbol">{</a><a id="18138" href="SecureCompilation.Helpers.html#17282" class="Bound">A</a><a id="18139" class="Symbol">}</a> <a id="18141" href="SecureCompilation.Helpers.html#17908" class="Bound">A∈</a> <a id="18144" class="Symbol">.</a><a id="18145" href="Bitcoin.Crypto.html#375" class="Field">pub</a><a id="18148" class="Symbol">)</a>
      <a id="18156" class="Comment">-- abstract</a>
      <a id="18174" href="SecureCompilation.Helpers.html#18174" class="Function">T</a> <a id="18176" class="Symbol">:</a> <a id="18178" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
      <a id="18188" href="SecureCompilation.Helpers.html#18174" class="Function">T</a> <a id="18190" class="Symbol">=</a> <a id="18192" href="SecureCompilation.Helpers.html#17587" class="Function">T×pubK</a> <a id="18199" class="Symbol">.</a><a id="18200" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>

      <a id="18213" href="SecureCompilation.Helpers.html#18213" class="Function">pubK</a> <a id="18218" class="Symbol">:</a> <a id="18220" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a>
      <a id="18228" href="SecureCompilation.Helpers.html#18213" class="Function">pubK</a> <a id="18233" class="Symbol">=</a> <a id="18235" href="SecureCompilation.Helpers.html#17587" class="Function">T×pubK</a> <a id="18242" class="Symbol">.</a><a id="18243" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
      <a id="18255" class="Comment">-- abstract</a>
      <a id="18273" class="Comment">-- (iv) txout = txout′, sechash = sechash′, κ = κ′</a>
      <a id="18330" href="SecureCompilation.Helpers.html#18330" class="Function">λˢ</a> <a id="18333" class="Symbol">:</a> <a id="18335" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="18337" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="18339" class="Symbol">(</a><a id="18340" href="SecureCompilation.Helpers.html#17495" class="Bound">∃Γ≈</a> <a id="18344" class="Symbol">.</a><a id="18345" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="18351" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="18354" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="18356" class="Symbol">)</a>
      <a id="18364" href="SecureCompilation.Helpers.html#18330" class="Function">λˢ</a> <a id="18367" class="Symbol">=</a> <a id="18369" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="18375" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="18377" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="18379" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="18381" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a> <a id="18384" href="SecureCompilation.Helpers.html#17343" class="Function">Γ</a> <a id="18386" href="SecureCompilation.Helpers.html#17442" class="Bound">R≈</a> <a id="18389" href="SecureCompilation.Helpers.html#17379" class="Function">Γ′</a> <a id="18392" href="SecureCompilation.Helpers.html#17461" class="Bound">Γ→Γ′</a> <a id="18397" href="SecureCompilation.Helpers.html#17495" class="Bound">∃Γ≈</a> <a id="18401" href="Function.Base.html#624" class="Function">id</a> <a id="18404" href="Function.Base.html#624" class="Function">id</a> <a id="18407" href="Function.Base.html#624" class="Function">id</a>

  <a id="18413" class="Comment">-- [6]</a>
  <a id="18422" class="Keyword">module</a> <a id="18429" href="SecureCompilation.Helpers.html#18429" class="Module">_</a> <a id="18431" href="SecureCompilation.Helpers.html#18431" class="Bound">c</a> <a id="18433" href="SecureCompilation.Helpers.html#18433" class="Bound">v</a> <a id="18435" href="SecureCompilation.Helpers.html#18435" class="Bound">y</a> <a id="18437" class="Symbol">(</a><a id="18438" href="SecureCompilation.Helpers.html#18438" class="Bound">ds</a> <a id="18441" class="Symbol">:</a> <a id="18443" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="18454" class="Symbol">)</a> <a id="18456" class="Symbol">(</a><a id="18457" href="SecureCompilation.Helpers.html#18457" class="Bound">ss</a> <a id="18460" class="Symbol">:</a> <a id="18462" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="18467" class="Symbol">(</a><a id="18468" href="BitML.BasicTypes.html#675" class="Function">Participant</a> <a id="18480" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="18482" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="18489" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="18491" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="18492" class="Symbol">))</a>
           <a id="18506" href="SecureCompilation.Helpers.html#18506" class="Bound">Γ₀</a>  <a id="18510" href="SecureCompilation.Helpers.html#18510" class="Bound">c′</a> <a id="18513" href="SecureCompilation.Helpers.html#18513" class="Bound">y′</a>  <a id="18517" class="Symbol">(</a><a id="18518" href="SecureCompilation.Helpers.html#18518" class="Bound">i</a> <a id="18520" class="Symbol">:</a> <a id="18522" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="18528" href="SecureCompilation.Helpers.html#18431" class="Bound">c</a><a id="18529" class="Symbol">)</a> <a id="18531" href="SecureCompilation.Helpers.html#18531" class="Bound">p</a> <a id="18533" class="Keyword">where</a>
    <a id="18543" class="Keyword">private</a>
      <a id="18557" href="SecureCompilation.Helpers.html#18557" class="Function">vs</a> <a id="18560" class="Symbol">=</a> <a id="18562" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="18568" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="18570" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="18576" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="18578" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="18585" href="SecureCompilation.Helpers.html#18438" class="Bound">ds</a>
      <a id="18594" href="SecureCompilation.Helpers.html#18594" class="Function">xs</a> <a id="18597" class="Symbol">=</a> <a id="18599" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="18605" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="18607" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="18613" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="18615" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="18622" href="SecureCompilation.Helpers.html#18438" class="Bound">ds</a>
      <a id="18631" href="SecureCompilation.Helpers.html#18631" class="Function">as</a> <a id="18634" class="Symbol">=</a> <a id="18636" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="18642" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="18644" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="18650" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="18652" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="18659" href="SecureCompilation.Helpers.html#18457" class="Bound">ss</a>
      <a id="18668" href="SecureCompilation.Helpers.html#18668" class="Function">Γ₁</a> <a id="18671" class="Symbol">=</a> <a id="18673" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="18676" href="Data.List.Base.html#1553" class="Function">map</a> <a id="18680" class="Symbol">(λ{</a> <a id="18684" class="Symbol">(</a><a id="18685" href="SecureCompilation.Helpers.html#18685" class="Bound">Aᵢ</a> <a id="18688" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="18690" href="SecureCompilation.Helpers.html#18690" class="Bound">vᵢ</a> <a id="18693" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="18695" href="SecureCompilation.Helpers.html#18695" class="Bound">xᵢ</a><a id="18697" class="Symbol">)</a> <a id="18699" class="Symbol">→</a> <a id="18701" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="18703" href="SecureCompilation.Helpers.html#18685" class="Bound">Aᵢ</a> <a id="18706" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="18710" href="SecureCompilation.Helpers.html#18690" class="Bound">vᵢ</a> <a id="18713" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="18717" href="SecureCompilation.Helpers.html#18695" class="Bound">xᵢ</a> <a id="18720" class="Symbol">})</a> <a id="18723" href="SecureCompilation.Helpers.html#18438" class="Bound">ds</a>
      <a id="18732" href="SecureCompilation.Helpers.html#18732" class="Function">Γ</a>  <a id="18735" class="Symbol">=</a> <a id="18737" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="18741" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="18743" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="18745" href="SecureCompilation.Helpers.html#18431" class="Bound">c</a> <a id="18747" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="18749" href="SecureCompilation.Helpers.html#18433" class="Bound">v</a> <a id="18751" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="18755" href="SecureCompilation.Helpers.html#18435" class="Bound">y</a> <a id="18757" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="18759" class="Symbol">(</a><a id="18760" href="SecureCompilation.Helpers.html#18668" class="Function">Γ₁</a> <a id="18763" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="18765" href="SecureCompilation.Helpers.html#18506" class="Bound">Γ₀</a><a id="18767" class="Symbol">)</a>
      <a id="18775" href="SecureCompilation.Helpers.html#18775" class="Function">Γ′</a> <a id="18778" class="Symbol">=</a> <a id="18780" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="18784" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="18786" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="18788" href="SecureCompilation.Helpers.html#18510" class="Bound">c′</a> <a id="18791" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="18793" href="SecureCompilation.Helpers.html#18433" class="Bound">v</a> <a id="18795" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="18797" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="18801" href="SecureCompilation.Helpers.html#18557" class="Function">vs</a> <a id="18804" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="18808" href="SecureCompilation.Helpers.html#18513" class="Bound">y′</a> <a id="18811" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="18813" href="SecureCompilation.Helpers.html#18506" class="Bound">Γ₀</a>
      <a id="18822" class="Keyword">open</a> <a id="18827" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="18835" href="SecureCompilation.Helpers.html#18431" class="Bound">c</a> <a id="18837" href="SecureCompilation.Helpers.html#18518" class="Bound">i</a>
    <a id="18843" class="Keyword">module</a> <a id="18850" href="SecureCompilation.Helpers.html#18850" class="Module">H₆</a> <a id="18853" class="Symbol">(</a><a id="18854" href="SecureCompilation.Helpers.html#18854" class="Bound">R≈</a> <a id="18857" class="Symbol">:</a> <a id="18859" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="18861" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="18864" href="SecureCompilation.Helpers.html#18732" class="Function">Γ</a> <a id="18866" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="18869" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a><a id="18870" class="Symbol">)</a> <a id="18872" class="Symbol">(</a><a id="18873" href="SecureCompilation.Helpers.html#18873" class="Bound">Γ→Γ′</a> <a id="18878" class="Symbol">:</a> <a id="18880" href="SecureCompilation.Helpers.html#18732" class="Function">Γ</a> <a id="18882" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="18885" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="18887" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="18890" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="18892" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="18896" href="SecureCompilation.Helpers.html#18775" class="Function">Γ′</a> <a id="18899" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="18902" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="18904" class="Symbol">)</a> <a id="18906" class="Symbol">(</a><a id="18907" href="SecureCompilation.Helpers.html#18907" class="Bound">∃Γ≈</a> <a id="18911" class="Symbol">:</a> <a id="18913" href="Data.Product.html#1378" class="Function">∃</a> <a id="18915" class="Symbol">(</a><a id="18916" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="18919" href="SecureCompilation.Helpers.html#18775" class="Function">Γ′</a><a id="18921" class="Symbol">))</a>
      <a id="18930" class="Symbol">(</a><a id="18931" href="SecureCompilation.Helpers.html#18931" class="Bound">d≡</a> <a id="18934" class="Symbol">:</a> <a id="18936" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="18938" href="BitML.Contracts.Collections.html#15163" class="Function Operator">≡⋯∶</a> <a id="18942" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">put</a> <a id="18946" href="SecureCompilation.Helpers.html#18594" class="Function">xs</a> <a id="18949" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">&amp;reveal</a> <a id="18957" href="SecureCompilation.Helpers.html#18631" class="Function">as</a> <a id="18960" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">if</a> <a id="18963" href="SecureCompilation.Helpers.html#18531" class="Bound">p</a> <a id="18965" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">⇒</a> <a id="18967" href="SecureCompilation.Helpers.html#18510" class="Bound">c′</a><a id="18969" class="Symbol">)</a>
      <a id="18977" class="Keyword">where</a>
      <a id="18989" class="Keyword">private</a>
        <a id="19005" href="SecureCompilation.Helpers.html#19005" class="Function">$T</a> <a id="19008" class="Symbol">:</a> <a id="19010" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
        <a id="19022" href="SecureCompilation.Helpers.html#19005" class="Function">$T</a> <a id="19025" class="Symbol">=</a> <a id="19027" class="Keyword">let</a> <a id="19031" href="SecureCompilation.Helpers.html#19031" class="Bound">⟨G⟩C″</a> <a id="19037" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="19039" class="Symbol">_</a> <a id="19041" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="19043" class="Symbol">_</a> <a id="19045" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="19047" href="SecureCompilation.Helpers.html#19047" class="Bound">c⊆</a> <a id="19050" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="19052" href="SecureCompilation.Helpers.html#19052" class="Bound">anc</a> <a id="19056" class="Symbol">=</a> <a id="19058" href="SymbolicModel.Helpers.html#2768" class="Function">ANCESTOR</a> <a id="19067" class="Symbol">{</a><a id="19068" class="Argument">R</a> <a id="19070" class="Symbol">=</a> <a id="19072" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a><a id="19073" class="Symbol">}</a> <a id="19075" class="Symbol">{</a><a id="19076" class="Argument">Γ</a> <a id="19078" class="Symbol">=</a> <a id="19080" href="SecureCompilation.Helpers.html#18732" class="Function">Γ</a><a id="19081" class="Symbol">}</a> <a id="19083" href="SecureCompilation.Helpers.html#18854" class="Bound">R≈</a> <a id="19086" class="Symbol">(</a><a id="19087" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="19092" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="19096" class="Symbol">)</a>
                 <a id="19115" href="BitML.Contracts.Types.html#2313" class="InductiveConstructor Operator">⟨</a> <a id="19117" href="SecureCompilation.Helpers.html#19117" class="Bound">G</a> <a id="19119" href="BitML.Contracts.Types.html#2313" class="InductiveConstructor Operator">⟩</a> <a id="19121" href="SecureCompilation.Helpers.html#19121" class="Bound">C″</a> <a id="19124" class="Symbol">=</a> <a id="19126" href="SecureCompilation.Helpers.html#19031" class="Bound">⟨G⟩C″</a>
                 <a id="19149" href="SecureCompilation.Helpers.html#19149" class="Bound">d∈</a> <a id="19152" class="Symbol">:</a> <a id="19154" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="19156" href="Prelude.Membership.html#428" class="Field Operator">∈</a> <a id="19158" href="BitML.Contracts.Subterms.html#647" class="Function">subterms</a> <a id="19167" href="SecureCompilation.Helpers.html#19031" class="Bound">⟨G⟩C″</a>
                 <a id="19190" href="SecureCompilation.Helpers.html#19149" class="Bound">d∈</a> <a id="19193" class="Symbol">=</a> <a id="19195" href="SecureCompilation.Helpers.html#19047" class="Bound">c⊆</a> <a id="19198" class="Symbol">(</a><a id="19199" href="Data.List.Membership.Propositional.Properties.html#11102" class="Function">L.Mem.∈-lookup</a> <a id="19214" href="SecureCompilation.Helpers.html#18518" class="Bound">i</a><a id="19215" class="Symbol">)</a>
                 <a id="19234" class="Symbol">_</a> <a id="19236" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="19238" href="SecureCompilation.Helpers.html#19238" class="Bound">∀d∗</a> <a id="19242" class="Symbol">=</a> <a id="19244" href="SecureCompilation.Helpers.html#1582" class="Function">COMPILE</a> <a id="19252" class="Symbol">(</a><a id="19253" href="SymbolicModel.Helpers.html#4824" class="Function">LIFTᶜ</a> <a id="19259" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="19261" href="SecureCompilation.Helpers.html#19052" class="Bound">anc</a><a id="19264" class="Symbol">)</a>
            <a id="19278" class="Keyword">in</a> <a id="19281" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="19284" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="19287" class="Symbol">(</a><a id="19288" href="SecureCompilation.Helpers.html#19238" class="Bound">∀d∗</a> <a id="19292" href="SecureCompilation.Helpers.html#19149" class="Bound">d∈</a> <a id="19295" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="19298" href="SecureCompilation.Helpers.html#18931" class="Bound">d≡</a> <a id="19301" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="19303" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="19312" href="Prelude.SubstDSL.html#164" class="Function">⟫</a><a id="19313" class="Symbol">)</a>

        <a id="19324" href="SecureCompilation.Helpers.html#19324" class="Function">tx</a> <a id="19327" class="Symbol">:</a> <a id="19329" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
        <a id="19346" href="SecureCompilation.Helpers.html#19324" class="Function">tx</a> <a id="19349" class="Symbol">=</a> <a id="19351" href="SecureCompilation.Helpers.html#19005" class="Function">$T</a> <a id="19354" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="19357" href="Data.Fin.Patterns.html#399" class="InductiveConstructor">0F</a>
      <a id="19366" class="Comment">-- abstract</a>
      <a id="19384" href="SecureCompilation.Helpers.html#19384" class="Function">T</a> <a id="19386" class="Symbol">:</a> <a id="19388" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
      <a id="19398" href="SecureCompilation.Helpers.html#19384" class="Function">T</a> <a id="19400" class="Symbol">=</a> <a id="19402" href="SecureCompilation.Helpers.html#19005" class="Function">$T</a>
      <a id="19411" class="Keyword">private</a>
        <a id="19427" class="Keyword">postulate</a> <a id="19437" href="SecureCompilation.Helpers.html#19437" class="Postulate">val≡</a> <a id="19442" class="Symbol">:</a> <a id="19444" href="SecureCompilation.Helpers.html#19324" class="Function">tx</a> <a id="19447" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a> <a id="19454" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="19456" href="SecureCompilation.Helpers.html#18433" class="Bound">v</a> <a id="19458" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="19460" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="19464" href="SecureCompilation.Helpers.html#18557" class="Function">vs</a>

        <a id="19476" class="Keyword">open</a> <a id="19481" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

        <a id="19502" href="SecureCompilation.Helpers.html#19502" class="Function">secrets≡</a> <a id="19511" class="Symbol">:</a> <a id="19513" href="SecureCompilation.Helpers.html#18775" class="Function">Γ′</a> <a id="19516" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="19519" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19526" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="19528" href="SecureCompilation.Helpers.html#18732" class="Function">Γ</a>
        <a id="19538" href="SecureCompilation.Helpers.html#19502" class="Function">secrets≡</a> <a id="19547" class="Symbol">=</a>
          <a id="19559" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
            <a id="19577" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19584" href="SecureCompilation.Helpers.html#18775" class="Function">Γ′</a>
          <a id="19597" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="19600" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="19628" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="19635" class="Symbol">(</a><a id="19636" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="19638" href="SecureCompilation.Helpers.html#18510" class="Bound">c′</a> <a id="19641" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="19643" href="SecureCompilation.Helpers.html#18433" class="Bound">v</a> <a id="19645" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="19647" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="19651" href="SecureCompilation.Helpers.html#18557" class="Function">vs</a> <a id="19654" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="19658" href="SecureCompilation.Helpers.html#18513" class="Bound">y′</a><a id="19660" class="Symbol">)</a> <a id="19662" href="SecureCompilation.Helpers.html#18506" class="Bound">Γ₀</a> <a id="19665" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="19679" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19686" class="Symbol">(</a><a id="19687" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="19689" href="SecureCompilation.Helpers.html#18510" class="Bound">c′</a> <a id="19692" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="19694" href="SecureCompilation.Helpers.html#18433" class="Bound">v</a> <a id="19696" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="19698" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="19702" href="SecureCompilation.Helpers.html#18557" class="Function">vs</a> <a id="19705" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="19709" href="SecureCompilation.Helpers.html#18513" class="Bound">y′</a><a id="19711" class="Symbol">)</a> <a id="19713" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="19716" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19723" href="SecureCompilation.Helpers.html#18506" class="Bound">Γ₀</a>
          <a id="19736" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
            <a id="19752" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19759" href="SecureCompilation.Helpers.html#18506" class="Bound">Γ₀</a>
          <a id="19772" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="19776" href="Data.List.Properties.html#5558" class="Function">L.++-identityˡ</a> <a id="19791" class="Symbol">_</a> <a id="19793" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
            <a id="19807" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="19810" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="19813" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19820" href="SecureCompilation.Helpers.html#18506" class="Bound">Γ₀</a>
          <a id="19833" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="19837" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="19842" class="Symbol">(</a><a id="19843" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="19847" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19854" href="SecureCompilation.Helpers.html#18506" class="Bound">Γ₀</a><a id="19856" class="Symbol">)</a> <a id="19858" class="Symbol">(</a><a id="19859" href="SecureCompilation.Helpers.html#20049" class="Function">go</a> <a id="19862" href="SecureCompilation.Helpers.html#18438" class="Bound">ds</a><a id="19864" class="Symbol">)</a> <a id="19866" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
            <a id="19880" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19887" class="Symbol">(</a><a id="19888" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="19890" href="SecureCompilation.Helpers.html#18510" class="Bound">c′</a> <a id="19893" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="19895" href="SecureCompilation.Helpers.html#18433" class="Bound">v</a> <a id="19897" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="19901" href="SecureCompilation.Helpers.html#18435" class="Bound">y</a> <a id="19903" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="19905" href="SecureCompilation.Helpers.html#18668" class="Function">Γ₁</a><a id="19907" class="Symbol">)</a> <a id="19909" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="19912" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19919" href="SecureCompilation.Helpers.html#18506" class="Bound">Γ₀</a>
          <a id="19932" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="19936" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="19964" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="19971" class="Symbol">(</a><a id="19972" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="19974" href="SecureCompilation.Helpers.html#18510" class="Bound">c′</a> <a id="19977" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="19979" href="SecureCompilation.Helpers.html#18433" class="Bound">v</a> <a id="19981" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="19985" href="SecureCompilation.Helpers.html#18435" class="Bound">y</a> <a id="19987" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="19989" href="SecureCompilation.Helpers.html#18668" class="Function">Γ₁</a><a id="19991" class="Symbol">)</a> <a id="19993" href="SecureCompilation.Helpers.html#18506" class="Bound">Γ₀</a> <a id="19996" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
            <a id="20010" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="20017" href="SecureCompilation.Helpers.html#18732" class="Function">Γ</a>
          <a id="20029" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="20031" class="Keyword">where</a>
            <a id="20049" href="SecureCompilation.Helpers.html#20049" class="Function">go</a> <a id="20052" class="Symbol">:</a> <a id="20054" class="Symbol">∀</a> <a id="20056" class="Symbol">(</a><a id="20057" href="SecureCompilation.Helpers.html#20057" class="Bound">ds</a> <a id="20060" class="Symbol">:</a> <a id="20062" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="20073" class="Symbol">)</a> <a id="20075" class="Symbol">→</a>
              <a id="20091" href="Prelude.Null.html#263" class="Field">Null</a> <a id="20096" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="20098" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="20105" class="Symbol">(</a><a id="20106" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="20109" href="Data.List.Base.html#1553" class="Function">map</a> <a id="20113" class="Symbol">(λ{</a> <a id="20117" class="Symbol">(</a><a id="20118" href="SecureCompilation.Helpers.html#20118" class="Bound">Aᵢ</a> <a id="20121" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="20123" href="SecureCompilation.Helpers.html#20123" class="Bound">vᵢ</a> <a id="20126" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="20128" href="SecureCompilation.Helpers.html#20128" class="Bound">xᵢ</a><a id="20130" class="Symbol">)</a> <a id="20132" class="Symbol">→</a> <a id="20134" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="20136" href="SecureCompilation.Helpers.html#20118" class="Bound">Aᵢ</a> <a id="20139" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="20143" href="SecureCompilation.Helpers.html#20123" class="Bound">vᵢ</a> <a id="20146" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="20150" href="SecureCompilation.Helpers.html#20128" class="Bound">xᵢ</a> <a id="20153" class="Symbol">})</a> <a id="20156" href="SecureCompilation.Helpers.html#20057" class="Bound">ds</a><a id="20158" class="Symbol">)</a>
            <a id="20172" href="SecureCompilation.Helpers.html#20049" class="Function">go</a> <a id="20175" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="20178" class="Symbol">=</a> <a id="20180" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
            <a id="20197" href="SecureCompilation.Helpers.html#20049" class="Function">go</a> <a id="20200" class="Symbol">(_</a> <a id="20203" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="20205" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="20207" class="Symbol">)</a> <a id="20209" class="Symbol">=</a> <a id="20211" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
            <a id="20228" href="SecureCompilation.Helpers.html#20049" class="Function">go</a> <a id="20231" class="Symbol">(_</a> <a id="20234" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="20236" href="SecureCompilation.Helpers.html#20236" class="Bound">xs</a><a id="20238" class="Symbol">@(_</a> <a id="20242" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="20244" class="Symbol">_))</a> <a id="20248" class="Symbol">=</a> <a id="20250" href="SecureCompilation.Helpers.html#20049" class="Function">go</a> <a id="20253" href="SecureCompilation.Helpers.html#20236" class="Bound">xs</a>

        <a id="20265" href="SecureCompilation.Helpers.html#20265" class="Function">ads≡</a> <a id="20270" class="Symbol">:</a> <a id="20272" href="SecureCompilation.Helpers.html#18775" class="Function">Γ′</a> <a id="20275" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="20278" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="20293" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="20295" href="SecureCompilation.Helpers.html#18732" class="Function">Γ</a>
        <a id="20305" href="SecureCompilation.Helpers.html#20265" class="Function">ads≡</a> <a id="20310" class="Symbol">=</a>
          <a id="20322" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
            <a id="20340" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="20355" href="SecureCompilation.Helpers.html#18775" class="Function">Γ′</a>
          <a id="20368" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
            <a id="20384" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="20399" href="SecureCompilation.Helpers.html#18506" class="Bound">Γ₀</a>
          <a id="20412" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="20416" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="20421" class="Symbol">(</a><a id="20422" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="20426" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="20441" href="SecureCompilation.Helpers.html#18506" class="Bound">Γ₀</a><a id="20443" class="Symbol">)</a> <a id="20445" class="Symbol">(</a><a id="20446" href="SecureCompilation.Helpers.html#20611" class="Function">go</a> <a id="20449" href="SecureCompilation.Helpers.html#18438" class="Bound">ds</a><a id="20451" class="Symbol">)</a> <a id="20453" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
            <a id="20467" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="20482" href="SecureCompilation.Helpers.html#18668" class="Function">Γ₁</a> <a id="20485" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="20488" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="20503" href="SecureCompilation.Helpers.html#18506" class="Bound">Γ₀</a>
          <a id="20516" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="20519" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="20523" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="20525" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="20544" href="SecureCompilation.Helpers.html#18668" class="Function">Γ₁</a> <a id="20547" href="SecureCompilation.Helpers.html#18506" class="Bound">Γ₀</a> <a id="20550" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="20564" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="20579" href="SecureCompilation.Helpers.html#18732" class="Function">Γ</a>
          <a id="20591" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="20593" class="Keyword">where</a>
            <a id="20611" href="SecureCompilation.Helpers.html#20611" class="Function">go</a> <a id="20614" class="Symbol">:</a> <a id="20616" class="Symbol">∀</a> <a id="20618" class="Symbol">(</a><a id="20619" href="SecureCompilation.Helpers.html#20619" class="Bound">ds</a> <a id="20622" class="Symbol">:</a> <a id="20624" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="20635" class="Symbol">)</a> <a id="20637" class="Symbol">→</a>
              <a id="20653" href="Prelude.Null.html#263" class="Field">Null</a> <a id="20658" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="20660" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="20675" class="Symbol">(</a><a id="20676" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="20679" href="Data.List.Base.html#1553" class="Function">map</a> <a id="20683" class="Symbol">(λ{</a> <a id="20687" class="Symbol">(</a><a id="20688" href="SecureCompilation.Helpers.html#20688" class="Bound">Aᵢ</a> <a id="20691" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="20693" href="SecureCompilation.Helpers.html#20693" class="Bound">vᵢ</a> <a id="20696" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="20698" href="SecureCompilation.Helpers.html#20698" class="Bound">xᵢ</a><a id="20700" class="Symbol">)</a> <a id="20702" class="Symbol">→</a> <a id="20704" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="20706" href="SecureCompilation.Helpers.html#20688" class="Bound">Aᵢ</a> <a id="20709" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="20713" href="SecureCompilation.Helpers.html#20693" class="Bound">vᵢ</a> <a id="20716" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="20720" href="SecureCompilation.Helpers.html#20698" class="Bound">xᵢ</a> <a id="20723" class="Symbol">})</a> <a id="20726" href="SecureCompilation.Helpers.html#20619" class="Bound">ds</a><a id="20728" class="Symbol">)</a>
            <a id="20742" href="SecureCompilation.Helpers.html#20611" class="Function">go</a> <a id="20745" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="20748" class="Symbol">=</a> <a id="20750" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
            <a id="20767" href="SecureCompilation.Helpers.html#20611" class="Function">go</a> <a id="20770" class="Symbol">(_</a> <a id="20773" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="20775" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="20777" class="Symbol">)</a> <a id="20779" class="Symbol">=</a> <a id="20781" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
            <a id="20798" href="SecureCompilation.Helpers.html#20611" class="Function">go</a> <a id="20801" class="Symbol">(_</a> <a id="20804" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="20806" href="SecureCompilation.Helpers.html#20806" class="Bound">xs</a><a id="20808" class="Symbol">@(_</a> <a id="20812" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="20814" class="Symbol">_))</a> <a id="20818" class="Symbol">=</a> <a id="20820" href="SecureCompilation.Helpers.html#20611" class="Function">go</a> <a id="20823" href="SecureCompilation.Helpers.html#20806" class="Bound">xs</a>

        <a id="20835" href="SecureCompilation.Helpers.html#20835" class="Function">sechash↝</a> <a id="20844" class="Symbol">:</a>  <a id="20847" href="SecureCompilation.Helpers.html#18732" class="Function">Γ</a> <a id="20849" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="20852" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="20860" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="20862" href="SecureCompilation.Helpers.html#18775" class="Function">Γ′</a>
        <a id="20873" href="SecureCompilation.Helpers.html#20835" class="Function">sechash↝</a> <a id="20882" class="Symbol">=</a> <a id="20884" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">lift</a> <a id="20889" href="SecureCompilation.Helpers.html#18732" class="Function">Γ</a> <a id="20891" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">—⟨</a> <a id="20894" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="20901" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⟩—</a> <a id="20904" href="SecureCompilation.Helpers.html#18775" class="Function">Γ′</a> <a id="20907" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⊣</a> <a id="20909" href="SecureCompilation.Helpers.html#19502" class="Function">secrets≡</a>

        <a id="20927" href="SecureCompilation.Helpers.html#20927" class="Function">κ↝</a> <a id="20930" class="Symbol">:</a> <a id="20932" href="SecureCompilation.Helpers.html#18732" class="Function">Γ</a> <a id="20934" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="20937" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="20940" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="20942" href="SecureCompilation.Helpers.html#18775" class="Function">Γ′</a>
        <a id="20953" href="SecureCompilation.Helpers.html#20927" class="Function">κ↝</a> <a id="20956" class="Symbol">=</a> <a id="20958" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">lift</a> <a id="20963" href="SecureCompilation.Helpers.html#18732" class="Function">Γ</a> <a id="20965" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">—⟨</a> <a id="20968" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="20983" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⟩—</a> <a id="20986" href="SecureCompilation.Helpers.html#18775" class="Function">Γ′</a> <a id="20989" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⊣</a> <a id="20991" href="SecureCompilation.Helpers.html#20265" class="Function">ads≡</a>

        <a id="21005" href="SecureCompilation.Helpers.html#21005" class="Function">p⊆</a> <a id="21008" class="Symbol">:</a> <a id="21010" href="SecureCompilation.Helpers.html#18506" class="Bound">Γ₀</a> <a id="21013" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="21016" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="21020" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="21022" href="SecureCompilation.Helpers.html#18732" class="Function">Γ</a>
        <a id="21032" href="SecureCompilation.Helpers.html#21005" class="Function">p⊆</a> <a id="21035" class="Symbol">=</a> <a id="21037" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a> <a id="21043" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="21045" href="BitML.Semantics.Configurations.Helpers.html#10369" class="Function">∈-ids-++⁺ʳ</a> <a id="21056" href="SecureCompilation.Helpers.html#18668" class="Function">Γ₁</a> <a id="21059" href="SecureCompilation.Helpers.html#18506" class="Bound">Γ₀</a>

        <a id="21071" class="Comment">-- (v) extend txout′ with {y′↦(T,0)}, sechash = sechash′, κ = κ′</a>
        <a id="21144" href="SecureCompilation.Helpers.html#21144" class="Function">txout↝</a> <a id="21151" class="Symbol">:</a> <a id="21153" href="SecureCompilation.Helpers.html#18732" class="Function">Γ</a> <a id="21155" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="21158" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="21164" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="21166" href="SecureCompilation.Helpers.html#18775" class="Function">Γ′</a>
        <a id="21177" href="SecureCompilation.Helpers.html#21144" class="Function">txout↝</a> <a id="21184" href="SecureCompilation.Helpers.html#21184" class="Bound">txout′</a> <a id="21191" class="Symbol">=</a> <a id="21193" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="21200" href="SecureCompilation.Helpers.html#18513" class="Bound">y′</a> <a id="21203" href="SecureCompilation.Helpers.html#19324" class="Function">tx</a> <a id="21206" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="21208" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="21217" href="SecureCompilation.Helpers.html#21184" class="Bound">txout′</a> <a id="21224" href="SecureCompilation.Helpers.html#21005" class="Function">p⊆</a>

        <a id="21236" href="SecureCompilation.Helpers.html#21236" class="Function">Γ″</a> <a id="21239" class="Symbol">=</a> <a id="21241" href="SecureCompilation.Helpers.html#18907" class="Bound">∃Γ≈</a> <a id="21245" class="Symbol">.</a><a id="21246" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a><a id="21251" class="Symbol">;</a> <a id="21253" href="SecureCompilation.Helpers.html#21253" class="Function">Γ≈</a> <a id="21256" class="Symbol">=</a> <a id="21258" href="SecureCompilation.Helpers.html#18907" class="Bound">∃Γ≈</a> <a id="21262" class="Symbol">.</a><a id="21263" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
        <a id="21277" href="SecureCompilation.Helpers.html#21277" class="Function">Γₜ</a> <a id="21280" href="SecureCompilation.Helpers.html#21280" class="Function">Γₜ′</a> <a id="21284" href="SecureCompilation.Helpers.html#21284" class="Function">Γₜ″</a> <a id="21288" class="Symbol">:</a> <a id="21290" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a><a id="21294" class="Symbol">;</a> <a id="21296" href="SecureCompilation.Helpers.html#21277" class="Function">Γₜ</a>  <a id="21300" class="Symbol">=</a> <a id="21302" href="SecureCompilation.Helpers.html#18732" class="Function">Γ</a> <a id="21304" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="21307" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a><a id="21308" class="Symbol">;</a> <a id="21310" href="SecureCompilation.Helpers.html#21280" class="Function">Γₜ′</a> <a id="21314" class="Symbol">=</a> <a id="21316" href="SecureCompilation.Helpers.html#18775" class="Function">Γ′</a> <a id="21319" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="21322" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="21324" class="Symbol">;</a> <a id="21326" href="SecureCompilation.Helpers.html#21284" class="Function">Γₜ″</a> <a id="21330" class="Symbol">=</a> <a id="21332" href="SecureCompilation.Helpers.html#21236" class="Function">Γ″</a> <a id="21335" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="21338" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a>
      <a id="21347" class="Comment">-- abstract</a>
      <a id="21365" href="SecureCompilation.Helpers.html#21365" class="Function">λˢ</a> <a id="21368" class="Symbol">:</a> <a id="21370" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="21372" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="21374" href="SecureCompilation.Helpers.html#21284" class="Function">Γₜ″</a>
      <a id="21384" href="SecureCompilation.Helpers.html#21365" class="Function">λˢ</a> <a id="21387" class="Symbol">=</a> <a id="21389" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="21395" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="21397" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="21399" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="21401" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a> <a id="21404" href="SecureCompilation.Helpers.html#18732" class="Function">Γ</a> <a id="21406" href="SecureCompilation.Helpers.html#18854" class="Bound">R≈</a> <a id="21409" href="SecureCompilation.Helpers.html#18775" class="Function">Γ′</a> <a id="21412" href="SecureCompilation.Helpers.html#18873" class="Bound">Γ→Γ′</a> <a id="21417" href="SecureCompilation.Helpers.html#18907" class="Bound">∃Γ≈</a> <a id="21421" href="SecureCompilation.Helpers.html#21144" class="Function">txout↝</a> <a id="21428" href="SecureCompilation.Helpers.html#20835" class="Function">sechash↝</a> <a id="21437" href="SecureCompilation.Helpers.html#20927" class="Function">κ↝</a>
      <a id="21446" class="Keyword">private</a>
        <a id="21462" href="SecureCompilation.Helpers.html#21462" class="Function">𝕒</a>  <a id="21465" class="Symbol">=</a> <a id="21467" href="SecureCompilation.Helpers.html#21365" class="Function">λˢ</a> <a id="21470" class="Symbol">.</a><a id="21471" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
        <a id="21485" href="SecureCompilation.Helpers.html#21485" class="Function">R′</a> <a id="21488" class="Symbol">=</a> <a id="21490" href="SecureCompilation.Helpers.html#21284" class="Function">Γₜ″</a> <a id="21494" href="SymbolicModel.Run.Base.html#2558" class="Function Operator">∷</a> <a id="21496" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="21498" href="SymbolicModel.Run.Base.html#2558" class="Function Operator">⊣</a> <a id="21500" href="SecureCompilation.Helpers.html#21462" class="Function">𝕒</a>

        <a id="21511" href="SecureCompilation.Helpers.html#21511" class="Function">R≈′</a> <a id="21515" class="Symbol">:</a> <a id="21517" href="SecureCompilation.Helpers.html#21485" class="Function">R′</a> <a id="21520" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="21523" href="SecureCompilation.Helpers.html#18775" class="Function">Γ′</a> <a id="21526" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="21529" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a>
        <a id="21540" href="SecureCompilation.Helpers.html#21511" class="Function">R≈′</a> <a id="21544" class="Symbol">=</a> <a id="21546" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="21551" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="21553" href="SecureCompilation.Helpers.html#21253" class="Function">Γ≈</a>

        <a id="21565" href="SecureCompilation.Helpers.html#21565" class="Function">𝕣′</a> <a id="21568" class="Symbol">:</a> <a id="21570" href="SymbolicModel.Mappings.Base.html#743" class="Function">ℝ</a> <a id="21572" href="SecureCompilation.Helpers.html#21485" class="Function">R′</a>
        <a id="21583" href="SecureCompilation.Helpers.html#21565" class="Function">𝕣′</a> <a id="21586" class="Symbol">=</a> <a id="21588" href="SymbolicModel.Mappings.Properties.html#4538" class="Function">ℝ-step</a> <a id="21595" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="21597" href="SecureCompilation.Helpers.html#21365" class="Function">λˢ</a>
      <a id="21606" class="Keyword">abstract</a>
        <a id="21623" href="SecureCompilation.Helpers.html#21623" class="Function">value-preserving⇒</a> <a id="21641" class="Symbol">:</a>
          <a id="21653" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="21670" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a>
          <a id="21682" href="Prelude.InferenceRules.html#14163" class="Function Operator">───────────────────</a>
          <a id="21712" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="21729" href="SecureCompilation.Helpers.html#21565" class="Function">𝕣′</a>
        <a id="21740" href="SecureCompilation.Helpers.html#21623" class="Function">value-preserving⇒</a> <a id="21758" href="SecureCompilation.Helpers.html#21758" class="Bound">pv-txout</a> <a id="21767" class="Symbol">=</a> <a id="21769" href="SecureCompilation.Helpers.html#23280" class="Function">pv-txout′</a>
          <a id="21789" class="Keyword">where</a>
          <a id="21805" href="SecureCompilation.Helpers.html#21805" class="Function">txoutΓ</a> <a id="21812" class="Symbol">:</a> <a id="21814" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="21820" href="SecureCompilation.Helpers.html#18732" class="Function">Γ</a>
          <a id="21832" href="SecureCompilation.Helpers.html#21805" class="Function">txoutΓ</a> <a id="21839" class="Symbol">=</a> <a id="21841" href="SymbolicModel.Mappings.Properties.html#671" class="Function">Txout≈</a> <a id="21848" class="Symbol">{</a><a id="21849" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="21851" href="SymbolicModel.Accessors.html#597" class="Function Operator">∙cfg</a><a id="21855" class="Symbol">}{</a><a id="21857" href="SecureCompilation.Helpers.html#18732" class="Function">Γ</a><a id="21858" class="Symbol">}</a> <a id="21860" class="Symbol">(</a><a id="21861" href="SecureCompilation.Helpers.html#18854" class="Bound">R≈</a> <a id="21864" class="Symbol">.</a><a id="21865" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="21870" class="Symbol">)</a> <a id="21872" class="Symbol">(</a><a id="21873" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="21875" href="SymbolicModel.Mappings.Properties.html#12758" class="Function Operator">∙txoutEnd_</a><a id="21885" class="Symbol">)</a>

          <a id="21898" href="SecureCompilation.Helpers.html#21898" class="Function">pv-txoutΓ</a> <a id="21908" class="Symbol">:</a> <a id="21910" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="21926" class="Symbol">{</a><a id="21927" href="SecureCompilation.Helpers.html#18732" class="Function">Γ</a><a id="21928" class="Symbol">}</a> <a id="21930" href="SecureCompilation.Helpers.html#21805" class="Function">txoutΓ</a>
          <a id="21947" href="SecureCompilation.Helpers.html#21898" class="Function">pv-txoutΓ</a> <a id="21957" class="Symbol">=</a> <a id="21959" href="SymbolicModel.ValuePreservation.html#2568" class="Function">ValuePreserving-Txout≈</a> <a id="21982" class="Symbol">{</a><a id="21983" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="21985" href="SymbolicModel.Accessors.html#597" class="Function Operator">∙cfg</a><a id="21989" class="Symbol">}{</a><a id="21991" href="SecureCompilation.Helpers.html#18732" class="Function">Γ</a><a id="21992" class="Symbol">}</a> <a id="21994" class="Symbol">(</a><a id="21995" href="SecureCompilation.Helpers.html#18854" class="Bound">R≈</a> <a id="21998" class="Symbol">.</a><a id="21999" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="22004" class="Symbol">)</a> <a id="22006" class="Symbol">(</a><a id="22007" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="22009" href="SymbolicModel.Mappings.Properties.html#12758" class="Function Operator">∙txoutEnd_</a><a id="22019" class="Symbol">)</a> <a id="22021" href="SecureCompilation.Helpers.html#21758" class="Bound">pv-txout</a>

          <a id="22041" href="SecureCompilation.Helpers.html#22041" class="Function">txoutΓ₀</a> <a id="22049" class="Symbol">:</a> <a id="22051" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="22057" href="SecureCompilation.Helpers.html#18506" class="Bound">Γ₀</a>
          <a id="22070" href="SecureCompilation.Helpers.html#22041" class="Function">txoutΓ₀</a> <a id="22078" class="Symbol">=</a> <a id="22080" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="22089" href="SecureCompilation.Helpers.html#21805" class="Function">txoutΓ</a> <a id="22096" href="SecureCompilation.Helpers.html#21005" class="Function">p⊆</a>

          <a id="22110" href="SecureCompilation.Helpers.html#22110" class="Function">pv-txoutΓ₀</a> <a id="22121" class="Symbol">:</a> <a id="22123" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="22139" class="Symbol">{</a><a id="22140" href="SecureCompilation.Helpers.html#18506" class="Bound">Γ₀</a><a id="22142" class="Symbol">}</a> <a id="22144" href="SecureCompilation.Helpers.html#22041" class="Function">txoutΓ₀</a>
          <a id="22162" href="SecureCompilation.Helpers.html#22110" class="Function">pv-txoutΓ₀</a> <a id="22173" href="SecureCompilation.Helpers.html#22173" class="Bound">x∈</a> <a id="22176" class="Symbol">=</a>
            <a id="22190" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
              <a id="22210" href="SecureCompilation.Helpers.html#22041" class="Function">txoutΓ₀</a> <a id="22218" href="SecureCompilation.Helpers.html#22173" class="Bound">x∈</a> <a id="22221" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
            <a id="22240" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
              <a id="22258" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="22267" href="SecureCompilation.Helpers.html#21805" class="Function">txoutΓ</a> <a id="22274" href="SecureCompilation.Helpers.html#21005" class="Function">p⊆</a> <a id="22277" href="SecureCompilation.Helpers.html#22173" class="Bound">x∈</a> <a id="22280" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
            <a id="22299" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="22302" href="SymbolicModel.ValuePreservation.html#1545" class="Function">pv-weaken-↦</a> <a id="22314" class="Symbol">{</a><a id="22315" href="SecureCompilation.Helpers.html#18732" class="Function">Γ</a><a id="22316" class="Symbol">}{</a><a id="22318" href="SecureCompilation.Helpers.html#18506" class="Bound">Γ₀</a><a id="22320" class="Symbol">}</a> <a id="22322" href="SecureCompilation.Helpers.html#21805" class="Function">txoutΓ</a> <a id="22329" href="SecureCompilation.Helpers.html#21005" class="Function">p⊆</a> <a id="22332" href="SecureCompilation.Helpers.html#22439" class="Function">pv⊆</a> <a id="22336" href="SecureCompilation.Helpers.html#21898" class="Function">pv-txoutΓ</a> <a id="22346" href="SecureCompilation.Helpers.html#22173" class="Bound">x∈</a> <a id="22349" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
              <a id="22365" class="Symbol">(</a><a id="22366" href="SecureCompilation.Helpers.html#18506" class="Bound">Γ₀</a> <a id="22369" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="22371" href="SecureCompilation.Helpers.html#22173" class="Bound">x∈</a><a id="22373" class="Symbol">)</a> <a id="22375" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
            <a id="22394" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="22396" class="Keyword">where</a> <a id="22402" class="Keyword">open</a> <a id="22407" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>
                    <a id="22439" href="SecureCompilation.Helpers.html#22439" class="Function">pv⊆</a> <a id="22443" class="Symbol">:</a> <a id="22445" href="SymbolicModel.ValuePreservation.html#1410" class="Function">ValuePreserving⊆</a> <a id="22462" class="Symbol">{</a><a id="22463" href="SecureCompilation.Helpers.html#18506" class="Bound">Γ₀</a><a id="22465" class="Symbol">}{</a><a id="22467" href="SecureCompilation.Helpers.html#18732" class="Function">Γ</a><a id="22468" class="Symbol">}</a> <a id="22470" href="SecureCompilation.Helpers.html#21005" class="Function">p⊆</a>
                    <a id="22493" href="SecureCompilation.Helpers.html#22439" class="Function">pv⊆</a> <a id="22497" href="SecureCompilation.Helpers.html#22497" class="Bound">x∈</a> <a id="22500" class="Symbol">=</a>
                      <a id="22524" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
                        <a id="22554" class="Symbol">(</a><a id="22555" href="SecureCompilation.Helpers.html#18506" class="Bound">Γ₀</a> <a id="22558" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="22560" href="SecureCompilation.Helpers.html#22497" class="Bound">x∈</a><a id="22562" class="Symbol">)</a> <a id="22564" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
                      <a id="22593" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="22597" href="SymbolicModel.Accessors.html#5452" class="Function">∈-ids-++⁺ʳ∙value</a> <a id="22614" class="Symbol">{</a><a id="22615" class="Argument">Γ′</a> <a id="22618" class="Symbol">=</a> <a id="22620" href="SecureCompilation.Helpers.html#18506" class="Bound">Γ₀</a><a id="22622" class="Symbol">}{</a><a id="22624" href="SecureCompilation.Helpers.html#18668" class="Function">Γ₁</a><a id="22626" class="Symbol">}</a> <a id="22628" href="SecureCompilation.Helpers.html#22497" class="Bound">x∈</a> <a id="22631" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
                        <a id="22657" class="Symbol">(</a><a id="22658" href="SecureCompilation.Helpers.html#18668" class="Function">Γ₁</a> <a id="22661" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="22663" href="SecureCompilation.Helpers.html#18506" class="Bound">Γ₀</a> <a id="22666" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="22668" href="BitML.Semantics.Configurations.Helpers.html#10369" class="Function">∈-ids-++⁺ʳ</a> <a id="22679" href="SecureCompilation.Helpers.html#18668" class="Function">Γ₁</a> <a id="22682" href="SecureCompilation.Helpers.html#18506" class="Bound">Γ₀</a> <a id="22685" href="SecureCompilation.Helpers.html#22497" class="Bound">x∈</a><a id="22687" class="Symbol">)</a> <a id="22689" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
                      <a id="22718" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
                        <a id="22746" class="Symbol">(</a><a id="22747" href="SecureCompilation.Helpers.html#18732" class="Function">Γ</a> <a id="22749" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="22751" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a> <a id="22757" class="Symbol">(</a><a id="22758" href="BitML.Semantics.Configurations.Helpers.html#10369" class="Function">∈-ids-++⁺ʳ</a> <a id="22769" href="SecureCompilation.Helpers.html#18668" class="Function">Γ₁</a> <a id="22772" href="SecureCompilation.Helpers.html#18506" class="Bound">Γ₀</a> <a id="22775" href="SecureCompilation.Helpers.html#22497" class="Bound">x∈</a><a id="22777" class="Symbol">))</a> <a id="22780" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
                      <a id="22809" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
                        <a id="22837" class="Symbol">(</a><a id="22838" href="SecureCompilation.Helpers.html#18732" class="Function">Γ</a> <a id="22840" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="22842" href="SecureCompilation.Helpers.html#21005" class="Function">p⊆</a> <a id="22845" href="SecureCompilation.Helpers.html#22497" class="Bound">x∈</a><a id="22847" class="Symbol">)</a> <a id="22849" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
                      <a id="22878" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

          <a id="22891" href="SecureCompilation.Helpers.html#22891" class="Function">txoutΓ′</a> <a id="22899" class="Symbol">:</a> <a id="22901" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="22907" href="SecureCompilation.Helpers.html#18775" class="Function">Γ′</a>
          <a id="22920" href="SecureCompilation.Helpers.html#22891" class="Function">txoutΓ′</a> <a id="22928" class="Symbol">=</a> <a id="22930" href="SecureCompilation.Helpers.html#21144" class="Function">txout↝</a> <a id="22937" href="SecureCompilation.Helpers.html#21805" class="Function">txoutΓ</a>

          <a id="22955" href="SecureCompilation.Helpers.html#22955" class="Function">pv-txoutΓ′</a> <a id="22966" class="Symbol">:</a> <a id="22968" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="22984" class="Symbol">{</a><a id="22985" href="SecureCompilation.Helpers.html#18775" class="Function">Γ′</a><a id="22987" class="Symbol">}</a> <a id="22989" href="SecureCompilation.Helpers.html#22891" class="Function">txoutΓ′</a>
          <a id="23007" href="SecureCompilation.Helpers.html#22955" class="Function">pv-txoutΓ′</a> <a id="23018" class="Symbol">=</a> <a id="23020" href="SymbolicModel.ValuePreservation.html#1122" class="Function">pv-cons-↦</a> <a id="23030" href="SecureCompilation.Helpers.html#19437" class="Postulate">val≡</a> <a id="23035" href="SecureCompilation.Helpers.html#22110" class="Function">pv-txoutΓ₀</a>

          <a id="23057" href="SecureCompilation.Helpers.html#23057" class="Function">txoutΓ″</a> <a id="23065" class="Symbol">:</a> <a id="23067" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="23073" href="SecureCompilation.Helpers.html#21236" class="Function">Γ″</a>
          <a id="23086" href="SecureCompilation.Helpers.html#23057" class="Function">txoutΓ″</a> <a id="23094" class="Symbol">=</a> <a id="23096" href="SymbolicModel.Mappings.Properties.html#671" class="Function">Txout≈</a> <a id="23103" class="Symbol">{</a><a id="23104" href="SecureCompilation.Helpers.html#18775" class="Function">Γ′</a><a id="23106" class="Symbol">}{</a><a id="23108" href="SecureCompilation.Helpers.html#21236" class="Function">Γ″</a><a id="23110" class="Symbol">}</a> <a id="23112" class="Symbol">(</a><a id="23113" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="23119" href="SecureCompilation.Helpers.html#21253" class="Function">Γ≈</a><a id="23121" class="Symbol">)</a> <a id="23123" href="SecureCompilation.Helpers.html#22891" class="Function">txoutΓ′</a>

          <a id="23142" href="SecureCompilation.Helpers.html#23142" class="Function">pv-txoutΓ″</a> <a id="23153" class="Symbol">:</a> <a id="23155" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="23171" class="Symbol">{</a><a id="23172" href="SecureCompilation.Helpers.html#21236" class="Function">Γ″</a><a id="23174" class="Symbol">}</a> <a id="23176" href="SecureCompilation.Helpers.html#23057" class="Function">txoutΓ″</a>
          <a id="23194" href="SecureCompilation.Helpers.html#23142" class="Function">pv-txoutΓ″</a> <a id="23205" class="Symbol">=</a> <a id="23207" href="SymbolicModel.ValuePreservation.html#2568" class="Function">ValuePreserving-Txout≈</a> <a id="23230" class="Symbol">{</a><a id="23231" href="SecureCompilation.Helpers.html#18775" class="Function">Γ′</a><a id="23233" class="Symbol">}{</a><a id="23235" href="SecureCompilation.Helpers.html#21236" class="Function">Γ″</a><a id="23237" class="Symbol">}</a> <a id="23239" class="Symbol">(</a><a id="23240" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="23246" href="SecureCompilation.Helpers.html#21253" class="Function">Γ≈</a><a id="23248" class="Symbol">)</a> <a id="23250" href="SecureCompilation.Helpers.html#22891" class="Function">txoutΓ′</a> <a id="23258" href="SecureCompilation.Helpers.html#22955" class="Function">pv-txoutΓ′</a>

          <a id="23280" href="SecureCompilation.Helpers.html#23280" class="Function">pv-txout′</a> <a id="23290" class="Symbol">:</a> <a id="23292" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="23309" href="SecureCompilation.Helpers.html#21565" class="Function">𝕣′</a>
          <a id="23322" href="SecureCompilation.Helpers.html#23280" class="Function">pv-txout′</a> <a id="23332" href="SecureCompilation.Helpers.html#23332" class="Bound">x∈</a> <a id="23335" class="Symbol">=</a>
            <a id="23349" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
              <a id="23369" class="Symbol">(</a><a id="23370" href="SecureCompilation.Helpers.html#21565" class="Function">𝕣′</a> <a id="23373" href="SymbolicModel.Mappings.Properties.html#12758" class="Function Operator">∙txoutEnd</a> <a id="23383" href="SecureCompilation.Helpers.html#23332" class="Bound">x∈</a><a id="23385" class="Symbol">)</a> <a id="23387" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
            <a id="23406" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="23409" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="23414" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">_∙value</a>
                  <a id="23440" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="23442" href="SymbolicModel.Mappings.Properties.html#9729" class="Function">txout∷∘namesʳ⦅end⦆⊆</a> <a id="23462" class="Symbol">{</a><a id="23463" class="Argument">R</a> <a id="23465" class="Symbol">=</a> <a id="23467" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a><a id="23468" class="Symbol">}</a> <a id="23470" href="SecureCompilation.Helpers.html#18873" class="Bound">Γ→Γ′</a> <a id="23475" class="Symbol">(</a><a id="23476" href="SecureCompilation.Helpers.html#21511" class="Function">R≈′</a> <a id="23480" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="23482" href="SecureCompilation.Helpers.html#18854" class="Bound">R≈</a><a id="23484" class="Symbol">)</a> <a id="23486" href="SecureCompilation.Helpers.html#22891" class="Function">txoutΓ′</a> <a id="23494" href="SymbolicModel.Mappings.Base.html#823" class="Function">txout′</a> <a id="23501" class="Symbol">_</a> <a id="23503" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
              <a id="23519" class="Symbol">(</a><a id="23520" href="SecureCompilation.Helpers.html#23057" class="Function">txoutΓ″</a> <a id="23528" href="SecureCompilation.Helpers.html#23332" class="Bound">x∈</a><a id="23530" class="Symbol">)</a> <a id="23532" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
            <a id="23551" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="23554" href="SecureCompilation.Helpers.html#23142" class="Function">pv-txoutΓ″</a> <a id="23565" class="Symbol">_</a> <a id="23567" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
              <a id="23583" class="Symbol">(</a><a id="23584" href="SecureCompilation.Helpers.html#21236" class="Function">Γ″</a> <a id="23587" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="23589" href="SecureCompilation.Helpers.html#23332" class="Bound">x∈</a><a id="23591" class="Symbol">)</a> <a id="23593" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
            <a id="23612" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

  <a id="23617" class="Comment">-- [7]</a>
  <a id="23626" class="Keyword">module</a> <a id="23633" href="SecureCompilation.Helpers.html#23633" class="Module">_</a> <a id="23635" href="SecureCompilation.Helpers.html#23635" class="Bound">A</a> <a id="23637" href="SecureCompilation.Helpers.html#23637" class="Bound">a</a> <a id="23639" href="SecureCompilation.Helpers.html#23639" class="Bound">n</a> <a id="23641" href="SecureCompilation.Helpers.html#23641" class="Bound">Γ₀</a> <a id="23644" class="Keyword">where</a>
    <a id="23654" class="Keyword">private</a>
      <a id="23668" href="SecureCompilation.Helpers.html#23668" class="Function">Γ</a>  <a id="23671" class="Symbol">=</a> <a id="23673" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="23677" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="23679" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="23681" href="SecureCompilation.Helpers.html#23635" class="Bound">A</a> <a id="23683" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶</a> <a id="23685" href="SecureCompilation.Helpers.html#23637" class="Bound">a</a> <a id="23687" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">♯</a> <a id="23689" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="23694" href="SecureCompilation.Helpers.html#23639" class="Bound">n</a> <a id="23696" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟩</a> <a id="23698" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="23700" href="SecureCompilation.Helpers.html#23641" class="Bound">Γ₀</a>
      <a id="23709" href="SecureCompilation.Helpers.html#23709" class="Function">Γ′</a> <a id="23712" class="Symbol">=</a> <a id="23714" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="23718" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="23720" href="SecureCompilation.Helpers.html#23635" class="Bound">A</a> <a id="23722" href="BitML.Semantics.Configurations.Types.html#968" class="InductiveConstructor Operator">∶</a> <a id="23724" href="SecureCompilation.Helpers.html#23637" class="Bound">a</a> <a id="23726" href="BitML.Semantics.Configurations.Types.html#968" class="InductiveConstructor Operator">♯</a> <a id="23728" href="SecureCompilation.Helpers.html#23639" class="Bound">n</a> <a id="23730" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="23732" href="SecureCompilation.Helpers.html#23641" class="Bound">Γ₀</a>
    <a id="23739" class="Keyword">module</a> <a id="23746" href="SecureCompilation.Helpers.html#23746" class="Module">H₇</a> <a id="23749" class="Symbol">(</a><a id="23750" href="SecureCompilation.Helpers.html#23750" class="Bound">R≈</a> <a id="23753" class="Symbol">:</a> <a id="23755" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="23757" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="23760" href="SecureCompilation.Helpers.html#23668" class="Function">Γ</a> <a id="23762" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="23765" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a><a id="23766" class="Symbol">)</a> <a id="23768" class="Symbol">(</a><a id="23769" href="SecureCompilation.Helpers.html#23769" class="Bound">Γ→Γ′</a> <a id="23774" class="Symbol">:</a> <a id="23776" href="SecureCompilation.Helpers.html#23668" class="Function">Γ</a> <a id="23778" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="23781" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="23783" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="23786" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="23788" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="23792" href="SecureCompilation.Helpers.html#23709" class="Function">Γ′</a> <a id="23795" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="23798" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="23800" class="Symbol">)</a> <a id="23802" class="Symbol">(</a><a id="23803" href="SecureCompilation.Helpers.html#23803" class="Bound">∃Γ≈</a> <a id="23807" class="Symbol">:</a> <a id="23809" href="Data.Product.html#1378" class="Function">∃</a> <a id="23811" class="Symbol">(</a><a id="23812" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="23815" href="SecureCompilation.Helpers.html#23709" class="Function">Γ′</a><a id="23817" class="Symbol">))</a> <a id="23820" class="Keyword">where</a>
      <a id="23832" class="Comment">-- abstract</a>
      <a id="23850" href="SecureCompilation.Helpers.html#23850" class="Function">λˢ</a> <a id="23853" class="Symbol">:</a> <a id="23855" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="23857" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="23859" class="Symbol">(</a><a id="23860" href="SecureCompilation.Helpers.html#23803" class="Bound">∃Γ≈</a> <a id="23864" class="Symbol">.</a><a id="23865" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="23871" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="23874" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="23876" class="Symbol">)</a>
      <a id="23884" href="SecureCompilation.Helpers.html#23850" class="Function">λˢ</a> <a id="23887" class="Symbol">=</a> <a id="23889" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="23895" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="23897" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="23899" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="23901" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a> <a id="23904" href="SecureCompilation.Helpers.html#23668" class="Function">Γ</a> <a id="23906" href="SecureCompilation.Helpers.html#23750" class="Bound">R≈</a> <a id="23909" href="SecureCompilation.Helpers.html#23709" class="Function">Γ′</a> <a id="23912" href="SecureCompilation.Helpers.html#23769" class="Bound">Γ→Γ′</a> <a id="23917" href="SecureCompilation.Helpers.html#23803" class="Bound">∃Γ≈</a> <a id="23921" href="Function.Base.html#624" class="Function">id</a> <a id="23924" href="Function.Base.html#624" class="Function">id</a> <a id="23927" href="Function.Base.html#624" class="Function">id</a>

  <a id="23933" class="Comment">-- [8]</a>
  <a id="23942" class="Keyword">module</a> <a id="23949" href="SecureCompilation.Helpers.html#23949" class="Module">_</a> <a id="23951" href="SecureCompilation.Helpers.html#23951" class="Bound">c</a> <a id="23953" href="SecureCompilation.Helpers.html#23953" class="Bound">v</a> <a id="23955" href="SecureCompilation.Helpers.html#23955" class="Bound">y</a> <a id="23957" href="SecureCompilation.Helpers.html#23957" class="Bound">Γ₀</a> <a id="23960" class="Symbol">(</a><a id="23961" href="SecureCompilation.Helpers.html#23961" class="Bound">i</a> <a id="23963" class="Symbol">:</a> <a id="23965" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="23971" href="SecureCompilation.Helpers.html#23951" class="Bound">c</a><a id="23972" class="Symbol">)</a> <a id="23974" class="Symbol">(</a><a id="23975" href="SecureCompilation.Helpers.html#23975" class="Bound">vcis</a> <a id="23980" class="Symbol">:</a> <a id="23982" href="BitML.Contracts.Types.html#594" class="Function">VIContracts</a><a id="23993" class="Symbol">)</a> <a id="23995" class="Keyword">where</a>
    <a id="24005" class="Keyword">open</a> <a id="24010" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="24018" href="SecureCompilation.Helpers.html#23951" class="Bound">c</a> <a id="24020" href="SecureCompilation.Helpers.html#23961" class="Bound">i</a>
    <a id="24026" class="Keyword">private</a>
      <a id="24040" href="SecureCompilation.Helpers.html#24040" class="Function">Γ</a> <a id="24042" class="Symbol">=</a> <a id="24044" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="24048" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="24050" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="24052" href="SecureCompilation.Helpers.html#23951" class="Bound">c</a> <a id="24054" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="24056" href="SecureCompilation.Helpers.html#23953" class="Bound">v</a> <a id="24058" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="24062" href="SecureCompilation.Helpers.html#23955" class="Bound">y</a> <a id="24064" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="24066" href="SecureCompilation.Helpers.html#23957" class="Bound">Γ₀</a>
      <a id="24075" href="SecureCompilation.Helpers.html#24075" class="Function">Γ₁</a> <a id="24078" class="Symbol">=</a> <a id="24080" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="24083" href="Data.List.Base.html#1553" class="Function">map</a> <a id="24087" class="Symbol">(λ{</a> <a id="24091" class="Symbol">(</a><a id="24092" href="SecureCompilation.Helpers.html#24092" class="Bound">vᵢ</a> <a id="24095" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="24097" href="SecureCompilation.Helpers.html#24097" class="Bound">cᵢ</a> <a id="24100" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="24102" href="SecureCompilation.Helpers.html#24102" class="Bound">xᵢ</a><a id="24104" class="Symbol">)</a> <a id="24106" class="Symbol">→</a> <a id="24108" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="24110" href="SecureCompilation.Helpers.html#24097" class="Bound">cᵢ</a> <a id="24113" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="24115" href="SecureCompilation.Helpers.html#24092" class="Bound">vᵢ</a> <a id="24118" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="24122" href="SecureCompilation.Helpers.html#24102" class="Bound">xᵢ</a> <a id="24125" class="Symbol">})</a> <a id="24128" href="SecureCompilation.Helpers.html#23975" class="Bound">vcis</a>
      <a id="24139" href="SecureCompilation.Helpers.html#24139" class="Function">Γ′</a> <a id="24142" class="Symbol">=</a> <a id="24144" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="24148" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="24150" href="SecureCompilation.Helpers.html#24075" class="Function">Γ₁</a> <a id="24153" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="24155" href="SecureCompilation.Helpers.html#23957" class="Bound">Γ₀</a>
      <a id="24164" href="SecureCompilation.Helpers.html#24164" class="Function">vs</a>  <a id="24168" class="Symbol">=</a> <a id="24170" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="24177" href="SecureCompilation.Helpers.html#23975" class="Bound">vcis</a> <a id="24182" class="Symbol">.</a><a id="24183" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
      <a id="24195" href="SecureCompilation.Helpers.html#24195" class="Function">cs</a>  <a id="24199" class="Symbol">=</a> <a id="24201" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="24208" href="SecureCompilation.Helpers.html#23975" class="Bound">vcis</a> <a id="24213" class="Symbol">.</a><a id="24214" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="24220" class="Symbol">.</a><a id="24221" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
      <a id="24233" href="SecureCompilation.Helpers.html#24233" class="Function">vcs</a> <a id="24237" class="Symbol">=</a> <a id="24239" href="Data.List.Base.html#3579" class="Function">zip</a> <a id="24243" href="SecureCompilation.Helpers.html#24164" class="Function">vs</a> <a id="24246" href="SecureCompilation.Helpers.html#24195" class="Function">cs</a>
      <a id="24255" href="SecureCompilation.Helpers.html#24255" class="Function">xs</a>  <a id="24259" class="Symbol">=</a> <a id="24261" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="24268" href="SecureCompilation.Helpers.html#23975" class="Bound">vcis</a> <a id="24273" class="Symbol">.</a><a id="24274" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="24280" class="Symbol">.</a><a id="24281" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
    <a id="24291" class="Keyword">module</a> <a id="24298" href="SecureCompilation.Helpers.html#24298" class="Module">H₈</a> <a id="24301" class="Symbol">(</a><a id="24302" href="SecureCompilation.Helpers.html#24302" class="Bound">R≈</a> <a id="24305" class="Symbol">:</a> <a id="24307" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="24309" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="24312" href="SecureCompilation.Helpers.html#24040" class="Function">Γ</a> <a id="24314" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="24317" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a><a id="24318" class="Symbol">)</a> <a id="24320" class="Symbol">(</a><a id="24321" href="SecureCompilation.Helpers.html#24321" class="Bound">Γ→Γ′</a> <a id="24326" class="Symbol">:</a> <a id="24328" href="SecureCompilation.Helpers.html#24040" class="Function">Γ</a> <a id="24330" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="24333" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="24335" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="24338" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="24340" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="24344" href="SecureCompilation.Helpers.html#24139" class="Function">Γ′</a> <a id="24347" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="24350" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="24352" class="Symbol">)</a> <a id="24354" class="Symbol">(</a><a id="24355" href="SecureCompilation.Helpers.html#24355" class="Bound">∃Γ≈</a> <a id="24359" class="Symbol">:</a> <a id="24361" href="Data.Product.html#1378" class="Function">∃</a> <a id="24363" class="Symbol">(</a><a id="24364" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="24367" href="SecureCompilation.Helpers.html#24139" class="Function">Γ′</a><a id="24369" class="Symbol">))</a>
              <a id="24386" class="Symbol">(</a><a id="24387" href="SecureCompilation.Helpers.html#24387" class="Bound">d≡</a> <a id="24390" class="Symbol">:</a> <a id="24392" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="24394" href="BitML.Contracts.Collections.html#15163" class="Function Operator">≡⋯∶</a> <a id="24398" href="BitML.Contracts.Types.html#941" class="InductiveConstructor">split</a> <a id="24404" href="SecureCompilation.Helpers.html#24233" class="Function">vcs</a><a id="24407" class="Symbol">)</a> <a id="24409" class="Keyword">where</a>
      <a id="24421" class="Keyword">private</a>
        <a id="24437" href="SecureCompilation.Helpers.html#24437" class="Function">$T</a> <a id="24440" class="Symbol">:</a> <a id="24442" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
        <a id="24454" href="SecureCompilation.Helpers.html#24437" class="Function">$T</a> <a id="24457" class="Symbol">=</a>
          <a id="24469" class="Keyword">let</a>
            <a id="24485" class="Comment">-- (ii) {G}C′ is the ancestor of ⟨D+C,v⟩y in Rˢ</a>
            <a id="24545" href="SecureCompilation.Helpers.html#24545" class="Bound">⟨G⟩C′</a> <a id="24551" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="24553" class="Symbol">_</a> <a id="24555" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="24557" class="Symbol">_</a> <a id="24559" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="24561" href="SecureCompilation.Helpers.html#24561" class="Bound">c⊆</a> <a id="24564" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="24566" href="SecureCompilation.Helpers.html#24566" class="Bound">anc</a> <a id="24570" class="Symbol">=</a> <a id="24572" href="SymbolicModel.Helpers.html#2768" class="Function">ANCESTOR</a> <a id="24581" class="Symbol">{</a><a id="24582" class="Argument">R</a> <a id="24584" class="Symbol">=</a> <a id="24586" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a><a id="24587" class="Symbol">}</a> <a id="24589" class="Symbol">{</a><a id="24590" class="Argument">Γ</a> <a id="24592" class="Symbol">=</a> <a id="24594" href="SecureCompilation.Helpers.html#24040" class="Function">Γ</a><a id="24595" class="Symbol">}</a> <a id="24597" href="SecureCompilation.Helpers.html#24302" class="Bound">R≈</a> <a id="24600" class="Symbol">(</a><a id="24601" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="24606" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="24610" class="Symbol">)</a>

            <a id="24625" href="SecureCompilation.Helpers.html#24625" class="Bound">d∈</a> <a id="24628" class="Symbol">:</a> <a id="24630" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="24632" href="Prelude.Membership.html#428" class="Field Operator">∈</a> <a id="24634" href="BitML.Contracts.Subterms.html#647" class="Function">subterms</a> <a id="24643" href="SecureCompilation.Helpers.html#24545" class="Bound">⟨G⟩C′</a>
            <a id="24661" href="SecureCompilation.Helpers.html#24625" class="Bound">d∈</a> <a id="24664" class="Symbol">=</a> <a id="24666" href="SecureCompilation.Helpers.html#24561" class="Bound">c⊆</a> <a id="24669" class="Symbol">(</a><a id="24670" href="Data.List.Membership.Propositional.Properties.html#11102" class="Function">L.Mem.∈-lookup</a> <a id="24685" href="SecureCompilation.Helpers.html#23961" class="Bound">i</a><a id="24686" class="Symbol">)</a>

            <a id="24701" class="Comment">-- (iii) submit transaction T</a>
            <a id="24743" class="Comment">--       where ∙ (T′,o) = txout′(y)</a>
            <a id="24791" class="Comment">--             ∙ T is the first transaction in Bpar(cs,d,T′,o,partG,t)</a>
            <a id="24874" class="Comment">--       i.e. the one corresponding to subterm `d∗ = split (zip vs cs)`</a>
            <a id="24958" class="Symbol">_</a> <a id="24960" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="24962" href="SecureCompilation.Helpers.html#24962" class="Bound">∀d∗</a> <a id="24966" class="Symbol">=</a> <a id="24968" href="SecureCompilation.Helpers.html#1582" class="Function">COMPILE</a> <a id="24976" class="Symbol">(</a><a id="24977" href="SymbolicModel.Helpers.html#4824" class="Function">LIFTᶜ</a> <a id="24983" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="24985" href="SecureCompilation.Helpers.html#24566" class="Bound">anc</a><a id="24988" class="Symbol">)</a>

            <a id="25003" href="SecureCompilation.Helpers.html#25003" class="Bound">Tᵈ</a> <a id="25006" class="Symbol">:</a> <a id="25008" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="25011" class="Number">1</a> <a id="25013" class="Symbol">(</a><a id="25014" href="Data.List.Base.html#4873" class="Function">length</a> <a id="25021" href="SecureCompilation.Helpers.html#24233" class="Function">vcs</a><a id="25024" class="Symbol">)</a>
            <a id="25038" href="SecureCompilation.Helpers.html#25003" class="Bound">Tᵈ</a> <a id="25041" class="Symbol">=</a> <a id="25043" href="SecureCompilation.Helpers.html#24962" class="Bound">∀d∗</a> <a id="25047" href="SecureCompilation.Helpers.html#24625" class="Bound">d∈</a> <a id="25050" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="25053" href="SecureCompilation.Helpers.html#24387" class="Bound">d≡</a> <a id="25056" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="25058" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="25067" href="Prelude.SubstDSL.html#164" class="Function">⟫</a>

            <a id="25082" class="Keyword">open</a> <a id="25087" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>
            <a id="25111" href="SecureCompilation.Helpers.html#25111" class="Bound">vs≡</a> <a id="25115" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="25117" href="SecureCompilation.Helpers.html#25117" class="Bound">cs≡</a> <a id="25121" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="25123" href="SecureCompilation.Helpers.html#25123" class="Bound">xs≡</a> <a id="25127" class="Symbol">=</a> <a id="25129" href="Prelude.Lists.Core.html#1445" class="Function">length-unzip₃</a> <a id="25143" href="SecureCompilation.Helpers.html#23975" class="Bound">vcis</a>

            <a id="25161" href="SecureCompilation.Helpers.html#25161" class="Bound">l≡</a> <a id="25164" class="Symbol">:</a> <a id="25166" href="Data.List.Base.html#4873" class="Function">length</a> <a id="25173" href="SecureCompilation.Helpers.html#24255" class="Function">xs</a> <a id="25176" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="25178" href="Data.List.Base.html#4873" class="Function">length</a> <a id="25185" class="Symbol">(</a><a id="25186" href="Data.List.Base.html#3579" class="Function">zip</a> <a id="25190" href="SecureCompilation.Helpers.html#24164" class="Function">vs</a> <a id="25193" href="SecureCompilation.Helpers.html#24195" class="Function">cs</a><a id="25195" class="Symbol">)</a>
            <a id="25209" href="SecureCompilation.Helpers.html#25161" class="Bound">l≡</a> <a id="25212" class="Symbol">=</a> <a id="25214" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="25218" href="Function.Base.html#1928" class="Function Operator">$</a>
              <a id="25234" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a> <a id="25240" href="Data.List.Base.html#4873" class="Function">length</a> <a id="25247" class="Symbol">(</a><a id="25248" href="Data.List.Base.html#3579" class="Function">zip</a> <a id="25252" href="SecureCompilation.Helpers.html#24164" class="Function">vs</a> <a id="25255" href="SecureCompilation.Helpers.html#24195" class="Function">cs</a><a id="25257" class="Symbol">)</a>    <a id="25262" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="25265" href="Data.List.Properties.html#10399" class="Function">L.length-zipWith</a> <a id="25282" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">_,_</a> <a id="25286" href="SecureCompilation.Helpers.html#24164" class="Function">vs</a> <a id="25289" href="SecureCompilation.Helpers.html#24195" class="Function">cs</a> <a id="25292" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                    <a id="25314" href="Data.List.Base.html#4873" class="Function">length</a> <a id="25321" href="SecureCompilation.Helpers.html#24164" class="Function">vs</a> <a id="25324" href="Data.Nat.Base.html#3166" class="Function Operator">⊓</a> <a id="25326" href="Data.List.Base.html#4873" class="Function">length</a> <a id="25333" href="SecureCompilation.Helpers.html#24195" class="Function">cs</a> <a id="25336" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="25339" href="Data.Nat.Properties.html#29390" class="Function">Nat.m≥n⇒m⊓n≡n</a>
                                           <a id="25396" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="25398" href="Data.Nat.Properties.html#4468" class="Function">Nat.≤-reflexive</a> <a id="25414" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="25416" href="Relation.Binary.PropositionalEquality.Core.html#1738" class="Function">trans</a> <a id="25422" href="SecureCompilation.Helpers.html#25117" class="Bound">cs≡</a> <a id="25426" class="Symbol">(</a><a id="25427" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="25431" href="SecureCompilation.Helpers.html#25111" class="Bound">vs≡</a><a id="25434" class="Symbol">)</a> <a id="25436" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                    <a id="25458" href="Data.List.Base.html#4873" class="Function">length</a> <a id="25465" href="SecureCompilation.Helpers.html#24195" class="Function">cs</a>             <a id="25480" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="25483" href="SecureCompilation.Helpers.html#25117" class="Bound">cs≡</a> <a id="25487" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                    <a id="25509" href="Data.List.Base.html#4873" class="Function">length</a> <a id="25516" href="SecureCompilation.Helpers.html#23975" class="Bound">vcis</a>           <a id="25531" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="25534" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="25538" href="SecureCompilation.Helpers.html#25123" class="Bound">xs≡</a> <a id="25542" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                    <a id="25564" href="Data.List.Base.html#4873" class="Function">length</a> <a id="25571" href="SecureCompilation.Helpers.html#24255" class="Function">xs</a>             <a id="25586" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

            <a id="25601" href="SecureCompilation.Helpers.html#25601" class="Bound">Tᵈ′</a> <a id="25605" class="Symbol">:</a> <a id="25607" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="25610" class="Number">1</a> <a id="25612" class="Symbol">(</a><a id="25613" href="Data.List.Base.html#4873" class="Function">length</a> <a id="25620" href="SecureCompilation.Helpers.html#24255" class="Function">xs</a><a id="25622" class="Symbol">)</a>
            <a id="25636" href="SecureCompilation.Helpers.html#25601" class="Bound">Tᵈ′</a> <a id="25640" class="Symbol">=</a> <a id="25642" href="Prelude.SubstDSL.html#488" class="Function">⟪</a> <a id="25644" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="25647" class="Number">1</a> <a id="25649" href="Prelude.SubstDSL.html#488" class="Function">⟫</a> <a id="25651" href="SecureCompilation.Helpers.html#25161" class="Bound">l≡</a> <a id="25654" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="25657" href="SecureCompilation.Helpers.html#25003" class="Bound">Tᵈ</a>
          <a id="25670" class="Keyword">in</a>
            <a id="25685" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="25688" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="25691" href="SecureCompilation.Helpers.html#25601" class="Bound">Tᵈ′</a>

        <a id="25704" class="Comment">-- (iv) extend txout′ with {xᵢ ↦ (T,i)}, sechash = sechash′, κ = κ′</a>
        <a id="25780" href="SecureCompilation.Helpers.html#25780" class="Function">txout⁺</a> <a id="25787" class="Symbol">:</a> <a id="25789" href="SecureCompilation.Helpers.html#24255" class="Function">xs</a> <a id="25792" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="25794" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
        <a id="25811" href="SecureCompilation.Helpers.html#25780" class="Function">txout⁺</a> <a id="25818" href="SecureCompilation.Helpers.html#25818" class="Bound">x∈</a> <a id="25821" class="Symbol">=</a> <a id="25823" href="SecureCompilation.Helpers.html#24437" class="Function">$T</a> <a id="25826" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="25829" href="Data.List.Relation.Unary.Any.html#1826" class="Function">L.Any.index</a> <a id="25841" href="SecureCompilation.Helpers.html#25818" class="Bound">x∈</a>
      <a id="25850" class="Comment">-- abstract</a>
      <a id="25868" href="SecureCompilation.Helpers.html#25868" class="Function">T</a> <a id="25870" class="Symbol">:</a> <a id="25872" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
      <a id="25882" href="SecureCompilation.Helpers.html#25868" class="Function">T</a> <a id="25884" class="Symbol">=</a> <a id="25886" href="SecureCompilation.Helpers.html#24437" class="Function">$T</a>
      <a id="25895" class="Keyword">private</a>
        <a id="25911" href="SecureCompilation.Helpers.html#25911" class="Function">hʳ</a> <a id="25914" class="Symbol">:</a> <a id="25916" class="Symbol">∀</a> <a id="25918" class="Symbol">(</a><a id="25919" href="SecureCompilation.Helpers.html#25919" class="Bound">vcis</a> <a id="25924" class="Symbol">:</a> <a id="25926" href="BitML.Contracts.Types.html#594" class="Function">VIContracts</a><a id="25937" class="Symbol">)</a> <a id="25939" class="Symbol">→</a>
            <a id="25953" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="25960" class="Symbol">(</a><a id="25961" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="25964" href="Data.List.Base.html#1553" class="Function">map</a> <a id="25968" class="Symbol">(λ{</a> <a id="25972" class="Symbol">(</a><a id="25973" href="SecureCompilation.Helpers.html#25973" class="Bound">vᵢ</a> <a id="25976" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="25978" href="SecureCompilation.Helpers.html#25978" class="Bound">cᵢ</a> <a id="25981" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="25983" href="SecureCompilation.Helpers.html#25983" class="Bound">xᵢ</a><a id="25985" class="Symbol">)</a> <a id="25987" class="Symbol">→</a> <a id="25989" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="25991" href="SecureCompilation.Helpers.html#25978" class="Bound">cᵢ</a> <a id="25994" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="25996" href="SecureCompilation.Helpers.html#25973" class="Bound">vᵢ</a> <a id="25999" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="26003" href="SecureCompilation.Helpers.html#25983" class="Bound">xᵢ</a> <a id="26006" class="Symbol">})</a> <a id="26009" href="SecureCompilation.Helpers.html#25919" class="Bound">vcis</a><a id="26013" class="Symbol">)</a>
          <a id="26025" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="26027" class="Symbol">(</a><a id="26028" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="26034" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="26036" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="26042" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="26044" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="26051" href="SecureCompilation.Helpers.html#25919" class="Bound">vcis</a><a id="26055" class="Symbol">)</a>
        <a id="26065" href="SecureCompilation.Helpers.html#25911" class="Function">hʳ</a> <a id="26068" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="26071" class="Symbol">=</a> <a id="26073" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="26086" href="SecureCompilation.Helpers.html#25911" class="Function">hʳ</a> <a id="26089" class="Symbol">(_</a> <a id="26092" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="26094" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="26096" class="Symbol">)</a> <a id="26098" class="Symbol">=</a> <a id="26100" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="26113" href="SecureCompilation.Helpers.html#25911" class="Function">hʳ</a> <a id="26116" class="Symbol">(_</a> <a id="26119" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="26121" href="SecureCompilation.Helpers.html#26121" class="Bound">xs</a><a id="26123" class="Symbol">@(_</a> <a id="26127" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="26129" class="Symbol">_))</a> <a id="26133" class="Symbol">=</a> <a id="26135" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="26140" class="Symbol">(_</a> <a id="26143" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷_</a><a id="26145" class="Symbol">)</a> <a id="26147" class="Symbol">(</a><a id="26148" href="SecureCompilation.Helpers.html#25911" class="Function">hʳ</a> <a id="26151" href="SecureCompilation.Helpers.html#26121" class="Bound">xs</a><a id="26153" class="Symbol">)</a>

        <a id="26164" href="SecureCompilation.Helpers.html#26164" class="Function">hˡ</a> <a id="26167" class="Symbol">:</a> <a id="26169" class="Symbol">∀</a> <a id="26171" class="Symbol">(</a><a id="26172" href="SecureCompilation.Helpers.html#26172" class="Bound">vcis</a> <a id="26177" class="Symbol">:</a> <a id="26179" href="BitML.Contracts.Types.html#594" class="Function">VIContracts</a><a id="26190" class="Symbol">)</a> <a id="26192" class="Symbol">→</a>
          <a id="26204" href="Prelude.Null.html#263" class="Field">Null</a> <a id="26209" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="26211" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="26218" class="Symbol">(</a><a id="26219" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="26222" href="Data.List.Base.html#1553" class="Function">map</a> <a id="26226" class="Symbol">(λ{</a> <a id="26230" class="Symbol">(</a><a id="26231" href="SecureCompilation.Helpers.html#26231" class="Bound">vᵢ</a> <a id="26234" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="26236" href="SecureCompilation.Helpers.html#26236" class="Bound">cᵢ</a> <a id="26239" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="26241" href="SecureCompilation.Helpers.html#26241" class="Bound">xᵢ</a><a id="26243" class="Symbol">)</a> <a id="26245" class="Symbol">→</a> <a id="26247" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="26249" href="SecureCompilation.Helpers.html#26236" class="Bound">cᵢ</a> <a id="26252" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="26254" href="SecureCompilation.Helpers.html#26231" class="Bound">vᵢ</a> <a id="26257" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="26261" href="SecureCompilation.Helpers.html#26241" class="Bound">xᵢ</a> <a id="26264" class="Symbol">})</a> <a id="26267" href="SecureCompilation.Helpers.html#26172" class="Bound">vcis</a><a id="26271" class="Symbol">)</a>
        <a id="26281" href="SecureCompilation.Helpers.html#26164" class="Function">hˡ</a> <a id="26284" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="26287" class="Symbol">=</a> <a id="26289" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="26302" href="SecureCompilation.Helpers.html#26164" class="Function">hˡ</a> <a id="26305" class="Symbol">(_</a> <a id="26308" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="26310" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="26312" class="Symbol">)</a> <a id="26314" class="Symbol">=</a> <a id="26316" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="26329" href="SecureCompilation.Helpers.html#26164" class="Function">hˡ</a> <a id="26332" class="Symbol">(_</a> <a id="26335" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="26337" href="SecureCompilation.Helpers.html#26337" class="Bound">xs</a><a id="26339" class="Symbol">@(_</a> <a id="26343" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="26345" class="Symbol">_))</a> <a id="26349" class="Symbol">=</a> <a id="26351" href="SecureCompilation.Helpers.html#26164" class="Function">hˡ</a> <a id="26354" href="SecureCompilation.Helpers.html#26337" class="Bound">xs</a>

        <a id="26366" href="SecureCompilation.Helpers.html#26366" class="Function">hᵃ</a> <a id="26369" class="Symbol">:</a> <a id="26371" class="Symbol">∀</a> <a id="26373" class="Symbol">(</a><a id="26374" href="SecureCompilation.Helpers.html#26374" class="Bound">vcis</a> <a id="26379" class="Symbol">:</a> <a id="26381" href="BitML.Contracts.Types.html#594" class="Function">VIContracts</a><a id="26392" class="Symbol">)</a> <a id="26394" class="Symbol">→</a>
          <a id="26406" href="Prelude.Null.html#263" class="Field">Null</a> <a id="26411" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="26413" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="26428" class="Symbol">(</a><a id="26429" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="26432" href="Data.List.Base.html#1553" class="Function">map</a> <a id="26436" class="Symbol">(λ{</a> <a id="26440" class="Symbol">(</a><a id="26441" href="SecureCompilation.Helpers.html#26441" class="Bound">vᵢ</a> <a id="26444" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="26446" href="SecureCompilation.Helpers.html#26446" class="Bound">cᵢ</a> <a id="26449" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="26451" href="SecureCompilation.Helpers.html#26451" class="Bound">xᵢ</a><a id="26453" class="Symbol">)</a> <a id="26455" class="Symbol">→</a> <a id="26457" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="26459" href="SecureCompilation.Helpers.html#26446" class="Bound">cᵢ</a> <a id="26462" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="26464" href="SecureCompilation.Helpers.html#26441" class="Bound">vᵢ</a> <a id="26467" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="26471" href="SecureCompilation.Helpers.html#26451" class="Bound">xᵢ</a> <a id="26474" class="Symbol">})</a> <a id="26477" href="SecureCompilation.Helpers.html#26374" class="Bound">vcis</a><a id="26481" class="Symbol">)</a>
        <a id="26491" href="SecureCompilation.Helpers.html#26366" class="Function">hᵃ</a> <a id="26494" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="26497" class="Symbol">=</a> <a id="26499" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="26512" href="SecureCompilation.Helpers.html#26366" class="Function">hᵃ</a> <a id="26515" class="Symbol">(_</a> <a id="26518" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="26520" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="26522" class="Symbol">)</a> <a id="26524" class="Symbol">=</a> <a id="26526" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="26539" href="SecureCompilation.Helpers.html#26366" class="Function">hᵃ</a> <a id="26542" class="Symbol">(_</a> <a id="26545" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="26547" href="SecureCompilation.Helpers.html#26547" class="Bound">xs</a><a id="26549" class="Symbol">@(_</a> <a id="26553" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="26555" class="Symbol">_))</a> <a id="26559" class="Symbol">=</a> <a id="26561" href="SecureCompilation.Helpers.html#26366" class="Function">hᵃ</a> <a id="26564" href="SecureCompilation.Helpers.html#26547" class="Bound">xs</a>

        <a id="26576" href="SecureCompilation.Helpers.html#26576" class="Function">ids≡</a> <a id="26581" class="Symbol">:</a> <a id="26583" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="26590" href="SecureCompilation.Helpers.html#24040" class="Function">Γ</a> <a id="26592" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="26594" href="SecureCompilation.Helpers.html#23955" class="Bound">y</a> <a id="26596" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="26598" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="26605" href="SecureCompilation.Helpers.html#23957" class="Bound">Γ₀</a>
        <a id="26616" href="SecureCompilation.Helpers.html#26576" class="Function">ids≡</a> <a id="26621" class="Symbol">=</a> <a id="26623" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="26651" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="26658" class="Symbol">(</a><a id="26659" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="26661" href="SecureCompilation.Helpers.html#23951" class="Bound">c</a> <a id="26663" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="26665" href="SecureCompilation.Helpers.html#23953" class="Bound">v</a> <a id="26667" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="26671" href="SecureCompilation.Helpers.html#23955" class="Bound">y</a><a id="26672" class="Symbol">)</a> <a id="26674" href="SecureCompilation.Helpers.html#23957" class="Bound">Γ₀</a>

        <a id="26686" href="SecureCompilation.Helpers.html#26686" class="Function">ids≡′</a> <a id="26692" class="Symbol">:</a> <a id="26694" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="26701" href="SecureCompilation.Helpers.html#24139" class="Function">Γ′</a> <a id="26704" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="26706" href="SecureCompilation.Helpers.html#24255" class="Function">xs</a> <a id="26709" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="26712" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="26719" href="SecureCompilation.Helpers.html#23957" class="Bound">Γ₀</a>
        <a id="26730" href="SecureCompilation.Helpers.html#26686" class="Function">ids≡′</a> <a id="26736" class="Symbol">=</a>
          <a id="26748" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
            <a id="26766" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="26773" href="SecureCompilation.Helpers.html#24139" class="Function">Γ′</a>
          <a id="26786" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="26789" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="26817" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="26824" href="SecureCompilation.Helpers.html#24075" class="Function">Γ₁</a> <a id="26827" href="SecureCompilation.Helpers.html#23957" class="Bound">Γ₀</a> <a id="26830" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="26844" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="26851" href="SecureCompilation.Helpers.html#24075" class="Function">Γ₁</a> <a id="26854" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="26857" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="26864" href="SecureCompilation.Helpers.html#23957" class="Bound">Γ₀</a>
          <a id="26877" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="26880" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="26885" class="Symbol">(</a><a id="26886" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="26890" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="26897" href="SecureCompilation.Helpers.html#23957" class="Bound">Γ₀</a><a id="26899" class="Symbol">)</a> <a id="26901" class="Symbol">(</a><a id="26902" href="SecureCompilation.Helpers.html#25911" class="Function">hʳ</a> <a id="26905" href="SecureCompilation.Helpers.html#23975" class="Bound">vcis</a><a id="26909" class="Symbol">)</a> <a id="26911" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="26925" href="SecureCompilation.Helpers.html#24255" class="Function">xs</a> <a id="26928" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="26931" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="26938" href="SecureCompilation.Helpers.html#23957" class="Bound">Γ₀</a>
          <a id="26951" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="26953" class="Keyword">where</a> <a id="26959" class="Keyword">open</a> <a id="26964" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

        <a id="26985" href="SecureCompilation.Helpers.html#26985" class="Function">secrets≡</a> <a id="26994" class="Symbol">:</a> <a id="26996" href="SecureCompilation.Helpers.html#24139" class="Function">Γ′</a> <a id="26999" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="27002" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="27009" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="27011" href="SecureCompilation.Helpers.html#24040" class="Function">Γ</a>
        <a id="27021" href="SecureCompilation.Helpers.html#26985" class="Function">secrets≡</a> <a id="27030" class="Symbol">=</a>
          <a id="27042" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
            <a id="27060" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="27067" href="SecureCompilation.Helpers.html#24139" class="Function">Γ′</a>
          <a id="27080" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="27083" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="27111" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="27118" href="SecureCompilation.Helpers.html#24075" class="Function">Γ₁</a> <a id="27121" href="SecureCompilation.Helpers.html#23957" class="Bound">Γ₀</a> <a id="27124" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="27138" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="27145" href="SecureCompilation.Helpers.html#24075" class="Function">Γ₁</a> <a id="27148" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="27151" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="27158" href="SecureCompilation.Helpers.html#23957" class="Bound">Γ₀</a>
          <a id="27171" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="27174" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="27179" class="Symbol">(</a><a id="27180" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="27184" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="27191" href="SecureCompilation.Helpers.html#23957" class="Bound">Γ₀</a><a id="27193" class="Symbol">)</a> <a id="27195" class="Symbol">(</a><a id="27196" href="SecureCompilation.Helpers.html#26164" class="Function">hˡ</a> <a id="27199" href="SecureCompilation.Helpers.html#23975" class="Bound">vcis</a><a id="27203" class="Symbol">)</a> <a id="27205" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="27219" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="27226" href="SecureCompilation.Helpers.html#23957" class="Bound">Γ₀</a>
          <a id="27239" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
            <a id="27255" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="27262" href="SecureCompilation.Helpers.html#24040" class="Function">Γ</a>
          <a id="27274" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="27276" class="Keyword">where</a> <a id="27282" class="Keyword">open</a> <a id="27287" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

        <a id="27308" href="SecureCompilation.Helpers.html#27308" class="Function">ads≡</a> <a id="27313" class="Symbol">:</a> <a id="27315" href="SecureCompilation.Helpers.html#24139" class="Function">Γ′</a> <a id="27318" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="27321" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="27336" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="27338" href="SecureCompilation.Helpers.html#24040" class="Function">Γ</a>
        <a id="27348" href="SecureCompilation.Helpers.html#27308" class="Function">ads≡</a> <a id="27353" class="Symbol">=</a>
          <a id="27365" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
            <a id="27383" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="27398" href="SecureCompilation.Helpers.html#24139" class="Function">Γ′</a>
          <a id="27411" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="27414" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="27433" href="SecureCompilation.Helpers.html#24075" class="Function">Γ₁</a> <a id="27436" href="SecureCompilation.Helpers.html#23957" class="Bound">Γ₀</a> <a id="27439" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="27453" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="27468" href="SecureCompilation.Helpers.html#24075" class="Function">Γ₁</a> <a id="27471" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="27474" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="27489" href="SecureCompilation.Helpers.html#23957" class="Bound">Γ₀</a>
          <a id="27502" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="27505" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="27510" class="Symbol">(</a><a id="27511" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="27515" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="27530" href="SecureCompilation.Helpers.html#23957" class="Bound">Γ₀</a><a id="27532" class="Symbol">)</a> <a id="27534" class="Symbol">(</a><a id="27535" href="SecureCompilation.Helpers.html#26366" class="Function">hᵃ</a> <a id="27538" href="SecureCompilation.Helpers.html#23975" class="Bound">vcis</a><a id="27542" class="Symbol">)</a> <a id="27544" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="27558" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="27573" href="SecureCompilation.Helpers.html#23957" class="Bound">Γ₀</a>
          <a id="27586" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
            <a id="27602" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="27617" href="SecureCompilation.Helpers.html#24040" class="Function">Γ</a>
          <a id="27629" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="27631" class="Keyword">where</a> <a id="27637" class="Keyword">open</a> <a id="27642" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

        <a id="27663" href="SecureCompilation.Helpers.html#27663" class="Function">txout↝</a> <a id="27670" class="Symbol">:</a> <a id="27672" href="SecureCompilation.Helpers.html#24040" class="Function">Γ</a> <a id="27674" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="27677" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="27683" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="27685" href="SecureCompilation.Helpers.html#24139" class="Function">Γ′</a>
        <a id="27696" href="SecureCompilation.Helpers.html#27663" class="Function">txout↝</a> <a id="27703" href="SecureCompilation.Helpers.html#27703" class="Bound">txout′</a> <a id="27710" class="Keyword">rewrite</a> <a id="27718" href="SecureCompilation.Helpers.html#26576" class="Function">ids≡</a> <a id="27723" class="Symbol">=</a> <a id="27725" href="Prelude.Lists.Mappings.html#1750" class="Function">extend-↦</a> <a id="27734" class="Symbol">(</a><a id="27735" href="Data.List.Relation.Binary.Permutation.Propositional.html#1377" class="Function">↭-reflexive</a> <a id="27747" href="SecureCompilation.Helpers.html#26686" class="Function">ids≡′</a><a id="27752" class="Symbol">)</a> <a id="27754" href="SecureCompilation.Helpers.html#25780" class="Function">txout⁺</a> <a id="27761" class="Symbol">(</a><a id="27762" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="27771" href="SecureCompilation.Helpers.html#27703" class="Bound">txout′</a> <a id="27778" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a><a id="27783" class="Symbol">)</a>

        <a id="27794" href="SecureCompilation.Helpers.html#27794" class="Function">sechash↝</a> <a id="27803" class="Symbol">:</a> <a id="27805" href="SecureCompilation.Helpers.html#24040" class="Function">Γ</a> <a id="27807" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="27810" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="27818" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="27820" href="SecureCompilation.Helpers.html#24139" class="Function">Γ′</a>
        <a id="27831" href="SecureCompilation.Helpers.html#27794" class="Function">sechash↝</a> <a id="27840" class="Symbol">=</a> <a id="27842" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">lift</a> <a id="27847" href="SecureCompilation.Helpers.html#24040" class="Function">Γ</a> <a id="27849" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">—⟨</a> <a id="27852" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="27859" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⟩—</a> <a id="27862" href="SecureCompilation.Helpers.html#24139" class="Function">Γ′</a> <a id="27865" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⊣</a> <a id="27867" href="SecureCompilation.Helpers.html#26985" class="Function">secrets≡</a>

        <a id="27885" href="SecureCompilation.Helpers.html#27885" class="Function">κ↝</a> <a id="27888" class="Symbol">:</a> <a id="27890" href="SecureCompilation.Helpers.html#24040" class="Function">Γ</a> <a id="27892" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="27895" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="27898" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="27900" href="SecureCompilation.Helpers.html#24139" class="Function">Γ′</a>
        <a id="27911" href="SecureCompilation.Helpers.html#27885" class="Function">κ↝</a> <a id="27914" class="Symbol">=</a> <a id="27916" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">lift</a> <a id="27921" href="SecureCompilation.Helpers.html#24040" class="Function">Γ</a> <a id="27923" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">—⟨</a> <a id="27926" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="27941" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⟩—</a> <a id="27944" href="SecureCompilation.Helpers.html#24139" class="Function">Γ′</a> <a id="27947" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⊣</a> <a id="27949" href="SecureCompilation.Helpers.html#27308" class="Function">ads≡</a>
      <a id="27960" class="Comment">-- abstract</a>
      <a id="27978" href="SecureCompilation.Helpers.html#27978" class="Function">λˢ</a> <a id="27981" class="Symbol">:</a> <a id="27983" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="27985" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="27987" class="Symbol">(</a><a id="27988" href="SecureCompilation.Helpers.html#24355" class="Bound">∃Γ≈</a> <a id="27992" class="Symbol">.</a><a id="27993" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="27999" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="28002" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="28004" class="Symbol">)</a>
      <a id="28012" href="SecureCompilation.Helpers.html#27978" class="Function">λˢ</a> <a id="28015" class="Symbol">=</a> <a id="28017" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="28023" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="28025" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="28027" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="28029" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a> <a id="28032" href="SecureCompilation.Helpers.html#24040" class="Function">Γ</a> <a id="28034" href="SecureCompilation.Helpers.html#24302" class="Bound">R≈</a> <a id="28037" href="SecureCompilation.Helpers.html#24139" class="Function">Γ′</a> <a id="28040" href="SecureCompilation.Helpers.html#24321" class="Bound">Γ→Γ′</a> <a id="28045" href="SecureCompilation.Helpers.html#24355" class="Bound">∃Γ≈</a> <a id="28049" href="SecureCompilation.Helpers.html#27663" class="Function">txout↝</a> <a id="28056" href="SecureCompilation.Helpers.html#27794" class="Function">sechash↝</a> <a id="28065" href="SecureCompilation.Helpers.html#27885" class="Function">κ↝</a>

  <a id="28071" class="Comment">-- [9]</a>
  <a id="28080" class="Keyword">module</a> <a id="28087" href="SecureCompilation.Helpers.html#28087" class="Module">_</a> <a id="28089" href="SecureCompilation.Helpers.html#28089" class="Bound">c</a> <a id="28091" href="SecureCompilation.Helpers.html#28091" class="Bound">v</a> <a id="28093" href="SecureCompilation.Helpers.html#28093" class="Bound">y</a> <a id="28095" href="SecureCompilation.Helpers.html#28095" class="Bound">Γ₀</a> <a id="28098" href="SecureCompilation.Helpers.html#28098" class="Bound">A</a> <a id="28100" href="SecureCompilation.Helpers.html#28100" class="Bound">x</a> <a id="28102" class="Symbol">(</a><a id="28103" href="SecureCompilation.Helpers.html#28103" class="Bound">i</a> <a id="28105" class="Symbol">:</a> <a id="28107" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="28113" href="SecureCompilation.Helpers.html#28089" class="Bound">c</a><a id="28114" class="Symbol">)</a> <a id="28116" class="Keyword">where</a>
    <a id="28126" class="Keyword">open</a> <a id="28131" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="28139" href="SecureCompilation.Helpers.html#28089" class="Bound">c</a> <a id="28141" href="SecureCompilation.Helpers.html#28103" class="Bound">i</a>
    <a id="28147" class="Keyword">private</a>
      <a id="28161" href="SecureCompilation.Helpers.html#28161" class="Function">Γ</a>  <a id="28164" class="Symbol">=</a> <a id="28166" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="28170" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="28172" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="28174" href="SecureCompilation.Helpers.html#28089" class="Bound">c</a> <a id="28176" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="28178" href="SecureCompilation.Helpers.html#28091" class="Bound">v</a> <a id="28180" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="28184" href="SecureCompilation.Helpers.html#28093" class="Bound">y</a> <a id="28186" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="28188" href="SecureCompilation.Helpers.html#28095" class="Bound">Γ₀</a>
      <a id="28197" href="SecureCompilation.Helpers.html#28197" class="Function">Γ′</a> <a id="28200" class="Symbol">=</a> <a id="28202" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="28206" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="28208" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="28210" href="SecureCompilation.Helpers.html#28098" class="Bound">A</a> <a id="28212" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="28216" href="SecureCompilation.Helpers.html#28091" class="Bound">v</a> <a id="28218" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="28222" href="SecureCompilation.Helpers.html#28100" class="Bound">x</a> <a id="28224" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="28226" href="SecureCompilation.Helpers.html#28095" class="Bound">Γ₀</a>
    <a id="28233" class="Keyword">module</a> <a id="28240" href="SecureCompilation.Helpers.html#28240" class="Module">H₉</a> <a id="28243" class="Symbol">(</a><a id="28244" href="SecureCompilation.Helpers.html#28244" class="Bound">R≈</a> <a id="28247" class="Symbol">:</a> <a id="28249" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="28251" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="28254" href="SecureCompilation.Helpers.html#28161" class="Function">Γ</a> <a id="28256" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="28259" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a><a id="28260" class="Symbol">)</a> <a id="28262" class="Symbol">(</a><a id="28263" href="SecureCompilation.Helpers.html#28263" class="Bound">Γ→Γ′</a> <a id="28268" class="Symbol">:</a> <a id="28270" href="SecureCompilation.Helpers.html#28161" class="Function">Γ</a> <a id="28272" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="28275" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="28277" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="28280" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="28282" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="28286" href="SecureCompilation.Helpers.html#28197" class="Function">Γ′</a> <a id="28289" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="28292" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="28294" class="Symbol">)</a> <a id="28296" class="Symbol">(</a><a id="28297" href="SecureCompilation.Helpers.html#28297" class="Bound">∃Γ≈</a> <a id="28301" class="Symbol">:</a> <a id="28303" href="Data.Product.html#1378" class="Function">∃</a> <a id="28305" class="Symbol">(</a><a id="28306" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="28309" href="SecureCompilation.Helpers.html#28197" class="Function">Γ′</a><a id="28311" class="Symbol">))</a>
              <a id="28328" class="Symbol">(</a><a id="28329" href="SecureCompilation.Helpers.html#28329" class="Bound">d≡</a> <a id="28332" class="Symbol">:</a> <a id="28334" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="28336" href="BitML.Contracts.Collections.html#15163" class="Function Operator">≡⋯∶</a> <a id="28340" href="BitML.Contracts.Types.html#805" class="InductiveConstructor">withdraw</a> <a id="28349" href="SecureCompilation.Helpers.html#28098" class="Bound">A</a><a id="28350" class="Symbol">)</a> <a id="28352" class="Keyword">where</a>
      <a id="28364" class="Comment">-- private</a>
      <a id="28381" href="SecureCompilation.Helpers.html#28381" class="Function">T</a> <a id="28383" class="Symbol">:</a> <a id="28385" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
      <a id="28395" href="SecureCompilation.Helpers.html#28381" class="Function">T</a> <a id="28397" class="Symbol">=</a>
          <a id="28409" class="Keyword">let</a>
            <a id="28425" class="Comment">-- (ii) {G}C′ is the ancestor of ⟨D+C,v⟩y in Rˢ</a>
            <a id="28485" href="SecureCompilation.Helpers.html#28485" class="Bound">⟨G⟩C′</a> <a id="28491" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="28493" class="Symbol">_</a> <a id="28495" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="28497" class="Symbol">_</a> <a id="28499" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="28501" href="SecureCompilation.Helpers.html#28501" class="Bound">c⊆</a> <a id="28504" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="28506" href="SecureCompilation.Helpers.html#28506" class="Bound">anc</a> <a id="28510" class="Symbol">=</a> <a id="28512" href="SymbolicModel.Helpers.html#2768" class="Function">ANCESTOR</a> <a id="28521" class="Symbol">{</a><a id="28522" class="Argument">R</a> <a id="28524" class="Symbol">=</a> <a id="28526" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a><a id="28527" class="Symbol">}</a> <a id="28529" class="Symbol">{</a><a id="28530" class="Argument">Γ</a> <a id="28532" class="Symbol">=</a> <a id="28534" href="SecureCompilation.Helpers.html#28161" class="Function">Γ</a><a id="28535" class="Symbol">}</a> <a id="28537" href="SecureCompilation.Helpers.html#28244" class="Bound">R≈</a> <a id="28540" class="Symbol">(</a><a id="28541" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="28546" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="28550" class="Symbol">)</a>
            <a id="28564" href="BitML.Contracts.Types.html#2313" class="InductiveConstructor Operator">⟨</a> <a id="28566" href="SecureCompilation.Helpers.html#28566" class="Bound">G</a> <a id="28568" href="BitML.Contracts.Types.html#2313" class="InductiveConstructor Operator">⟩</a> <a id="28570" href="SecureCompilation.Helpers.html#28570" class="Bound">C′</a> <a id="28573" class="Symbol">=</a> <a id="28575" href="SecureCompilation.Helpers.html#28485" class="Bound">⟨G⟩C′</a>

            <a id="28594" href="SecureCompilation.Helpers.html#28594" class="Bound">d∈</a> <a id="28597" class="Symbol">:</a> <a id="28599" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="28601" href="Prelude.Membership.html#428" class="Field Operator">∈</a> <a id="28603" href="BitML.Contracts.Subterms.html#647" class="Function">subterms</a> <a id="28612" href="SecureCompilation.Helpers.html#28485" class="Bound">⟨G⟩C′</a>
            <a id="28630" href="SecureCompilation.Helpers.html#28594" class="Bound">d∈</a> <a id="28633" class="Symbol">=</a> <a id="28635" href="SecureCompilation.Helpers.html#28501" class="Bound">c⊆</a> <a id="28638" class="Symbol">(</a><a id="28639" href="Data.List.Membership.Propositional.Properties.html#11102" class="Function">L.Mem.∈-lookup</a> <a id="28654" href="SecureCompilation.Helpers.html#28103" class="Bound">i</a><a id="28655" class="Symbol">)</a>

            <a id="28670" class="Comment">--   ∙ T′ at o = txout′(x)</a>
            <a id="28709" class="Comment">--   ∙ T is the first transaction of Bd(d,d,T′,o,v,partG,0)</a>
            <a id="28781" class="Comment">-- i.e.</a>
            <a id="28801" class="Comment">-- (iii) submit transaction T</a>
            <a id="28843" class="Comment">--       where ∙ (T′,o) = txout′(y)</a>
            <a id="28891" class="Comment">--             ∙ T is the first transaction in Bd(d,d,T′,o,v,partG,0)</a>
            <a id="28973" class="Comment">--       i.e. the one corresponding to subterm `d∗ = withdraw A`</a>
            <a id="29050" class="Symbol">_</a> <a id="29052" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="29054" href="SecureCompilation.Helpers.html#29054" class="Bound">∀d∗</a> <a id="29058" class="Symbol">=</a> <a id="29060" href="SecureCompilation.Helpers.html#1582" class="Function">COMPILE</a> <a id="29068" class="Symbol">(</a><a id="29069" href="SymbolicModel.Helpers.html#4824" class="Function">LIFTᶜ</a> <a id="29075" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="29077" href="SecureCompilation.Helpers.html#28506" class="Bound">anc</a><a id="29080" class="Symbol">)</a>
            <a id="29094" href="SecureCompilation.Helpers.html#29094" class="Bound">Tᵈ</a> <a id="29097" class="Symbol">=</a> <a id="29099" href="SecureCompilation.Helpers.html#29054" class="Bound">∀d∗</a> <a id="29103" href="SecureCompilation.Helpers.html#28594" class="Bound">d∈</a> <a id="29106" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="29109" href="SecureCompilation.Helpers.html#28329" class="Bound">d≡</a> <a id="29112" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="29114" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="29123" href="Prelude.SubstDSL.html#164" class="Function">⟫</a>
          <a id="29135" class="Keyword">in</a>
            <a id="29150" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="29153" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="29156" href="SecureCompilation.Helpers.html#29094" class="Bound">Tᵈ</a>

      <a id="29166" href="SecureCompilation.Helpers.html#29166" class="Function">tx</a> <a id="29169" class="Symbol">:</a> <a id="29171" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
      <a id="29186" href="SecureCompilation.Helpers.html#29166" class="Function">tx</a> <a id="29189" class="Symbol">=</a> <a id="29191" href="SecureCompilation.Helpers.html#28381" class="Function">T</a> <a id="29193" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="29196" href="Data.Fin.Patterns.html#399" class="InductiveConstructor">0F</a>
      <a id="29205" class="Comment">-- abstract</a>
      <a id="29223" class="Comment">--   T : ∃Tx</a>
      <a id="29242" class="Comment">--   T = $T</a>
      <a id="29260" class="Keyword">private</a>
        <a id="29276" class="Comment">-- (iv) extend txout′ with {x ↦ (T,0)}, sechash = sechash′, κ = κ′</a>
        <a id="29351" href="SecureCompilation.Helpers.html#29351" class="Function">txout↝</a> <a id="29358" class="Symbol">:</a> <a id="29360" href="SecureCompilation.Helpers.html#28161" class="Function">Γ</a> <a id="29362" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="29365" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="29371" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="29373" href="SecureCompilation.Helpers.html#28197" class="Function">Γ′</a>
        <a id="29384" href="SecureCompilation.Helpers.html#29351" class="Function">txout↝</a>  <a id="29392" href="SecureCompilation.Helpers.html#29392" class="Bound">txout′</a> <a id="29399" class="Symbol">=</a> <a id="29401" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="29408" href="SecureCompilation.Helpers.html#28100" class="Bound">x</a> <a id="29410" href="SecureCompilation.Helpers.html#29166" class="Function">tx</a> <a id="29413" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="29415" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="29424" href="SecureCompilation.Helpers.html#29392" class="Bound">txout′</a> <a id="29431" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a>
      <a id="29443" class="Comment">-- abstract</a>
      <a id="29461" href="SecureCompilation.Helpers.html#29461" class="Function">λˢ</a> <a id="29464" class="Symbol">:</a> <a id="29466" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="29468" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="29470" class="Symbol">(</a><a id="29471" href="SecureCompilation.Helpers.html#28297" class="Bound">∃Γ≈</a> <a id="29475" class="Symbol">.</a><a id="29476" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="29482" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="29485" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="29487" class="Symbol">)</a>
      <a id="29495" href="SecureCompilation.Helpers.html#29461" class="Function">λˢ</a> <a id="29498" class="Symbol">=</a> <a id="29500" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="29506" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="29508" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="29510" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="29512" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a> <a id="29515" href="SecureCompilation.Helpers.html#28161" class="Function">Γ</a> <a id="29517" href="SecureCompilation.Helpers.html#28244" class="Bound">R≈</a> <a id="29520" href="SecureCompilation.Helpers.html#28197" class="Function">Γ′</a> <a id="29523" href="SecureCompilation.Helpers.html#28263" class="Bound">Γ→Γ′</a> <a id="29528" href="SecureCompilation.Helpers.html#28297" class="Bound">∃Γ≈</a> <a id="29532" href="SecureCompilation.Helpers.html#29351" class="Function">txout↝</a> <a id="29539" href="Function.Base.html#624" class="Function">id</a> <a id="29542" href="Function.Base.html#624" class="Function">id</a>

  <a id="29548" class="Comment">-- [10]</a>
  <a id="29558" class="Keyword">module</a> <a id="29565" href="SecureCompilation.Helpers.html#29565" class="Module">_</a> <a id="29567" href="SecureCompilation.Helpers.html#29567" class="Bound">A</a> <a id="29569" href="SecureCompilation.Helpers.html#29569" class="Bound">v</a> <a id="29571" href="SecureCompilation.Helpers.html#29571" class="Bound">x</a> <a id="29573" href="SecureCompilation.Helpers.html#29573" class="Bound">v′</a> <a id="29576" href="SecureCompilation.Helpers.html#29576" class="Bound">x′</a> <a id="29579" href="SecureCompilation.Helpers.html#29579" class="Bound">Γ₀</a> <a id="29582" class="Keyword">where</a>
    <a id="29592" class="Keyword">private</a>
      <a id="29606" href="SecureCompilation.Helpers.html#29606" class="Function">Γ</a>  <a id="29609" class="Symbol">=</a> <a id="29611" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="29615" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="29617" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="29619" href="SecureCompilation.Helpers.html#29567" class="Bound">A</a> <a id="29621" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="29625" href="SecureCompilation.Helpers.html#29569" class="Bound">v</a> <a id="29627" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="29631" href="SecureCompilation.Helpers.html#29571" class="Bound">x</a> <a id="29633" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="29635" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="29637" href="SecureCompilation.Helpers.html#29567" class="Bound">A</a> <a id="29639" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="29643" href="SecureCompilation.Helpers.html#29573" class="Bound">v′</a> <a id="29646" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="29650" href="SecureCompilation.Helpers.html#29576" class="Bound">x′</a> <a id="29653" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="29655" href="SecureCompilation.Helpers.html#29579" class="Bound">Γ₀</a>
      <a id="29664" href="SecureCompilation.Helpers.html#29664" class="Function">Γ′</a> <a id="29667" class="Symbol">=</a> <a id="29669" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="29673" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="29675" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="29677" href="SecureCompilation.Helpers.html#29567" class="Bound">A</a> <a id="29679" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="29683" href="SecureCompilation.Helpers.html#29569" class="Bound">v</a> <a id="29685" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="29689" href="SecureCompilation.Helpers.html#29571" class="Bound">x</a> <a id="29691" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="29693" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="29695" href="SecureCompilation.Helpers.html#29567" class="Bound">A</a> <a id="29697" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="29701" href="SecureCompilation.Helpers.html#29573" class="Bound">v′</a> <a id="29704" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="29708" href="SecureCompilation.Helpers.html#29576" class="Bound">x′</a> <a id="29711" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="29713" href="SecureCompilation.Helpers.html#29567" class="Bound">A</a> <a id="29715" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="29721" href="SecureCompilation.Helpers.html#29571" class="Bound">x</a> <a id="29723" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">↔</a> <a id="29725" href="SecureCompilation.Helpers.html#29576" class="Bound">x′</a> <a id="29728" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">▷⟨</a> <a id="29731" href="SecureCompilation.Helpers.html#29567" class="Bound">A</a> <a id="29733" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">,</a> <a id="29735" href="SecureCompilation.Helpers.html#29569" class="Bound">v</a> <a id="29737" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="29739" href="SecureCompilation.Helpers.html#29573" class="Bound">v′</a> <a id="29742" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">⟩</a> <a id="29744" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="29746" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="29748" href="SecureCompilation.Helpers.html#29579" class="Bound">Γ₀</a>
    <a id="29755" class="Keyword">module</a> <a id="29762" href="SecureCompilation.Helpers.html#29762" class="Module">H₁₀</a> <a id="29766" class="Symbol">(</a><a id="29767" href="SecureCompilation.Helpers.html#29767" class="Bound">R≈</a> <a id="29770" class="Symbol">:</a> <a id="29772" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="29774" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="29777" href="SecureCompilation.Helpers.html#29606" class="Function">Γ</a> <a id="29779" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="29782" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a><a id="29783" class="Symbol">)</a> <a id="29785" class="Symbol">(</a><a id="29786" href="SecureCompilation.Helpers.html#29786" class="Bound">Γ→Γ′</a> <a id="29791" class="Symbol">:</a> <a id="29793" href="SecureCompilation.Helpers.html#29606" class="Function">Γ</a> <a id="29795" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="29798" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="29800" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="29803" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="29805" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="29809" href="SecureCompilation.Helpers.html#29664" class="Function">Γ′</a> <a id="29812" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="29815" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="29817" class="Symbol">)</a> <a id="29819" class="Symbol">(</a><a id="29820" href="SecureCompilation.Helpers.html#29820" class="Bound">∃Γ≈</a> <a id="29824" class="Symbol">:</a> <a id="29826" href="Data.Product.html#1378" class="Function">∃</a> <a id="29828" class="Symbol">(</a><a id="29829" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="29832" href="SecureCompilation.Helpers.html#29664" class="Function">Γ′</a><a id="29834" class="Symbol">))</a> <a id="29837" class="Keyword">where</a>
      <a id="29849" class="Comment">-- abstract</a>
      <a id="29867" href="SecureCompilation.Helpers.html#29867" class="Function">λˢ</a> <a id="29870" class="Symbol">:</a> <a id="29872" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="29874" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="29876" class="Symbol">(</a><a id="29877" href="SecureCompilation.Helpers.html#29820" class="Bound">∃Γ≈</a> <a id="29881" class="Symbol">.</a><a id="29882" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="29888" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="29891" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="29893" class="Symbol">)</a>
      <a id="29901" href="SecureCompilation.Helpers.html#29867" class="Function">λˢ</a> <a id="29904" class="Symbol">=</a> <a id="29906" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="29912" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="29914" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="29916" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="29918" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a> <a id="29921" href="SecureCompilation.Helpers.html#29606" class="Function">Γ</a> <a id="29923" href="SecureCompilation.Helpers.html#29767" class="Bound">R≈</a> <a id="29926" href="SecureCompilation.Helpers.html#29664" class="Function">Γ′</a> <a id="29929" href="SecureCompilation.Helpers.html#29786" class="Bound">Γ→Γ′</a> <a id="29934" href="SecureCompilation.Helpers.html#29820" class="Bound">∃Γ≈</a> <a id="29938" href="Function.Base.html#624" class="Function">id</a> <a id="29941" href="Function.Base.html#624" class="Function">id</a> <a id="29944" href="Function.Base.html#624" class="Function">id</a>

  <a id="29950" class="Comment">-- [11]</a>
  <a id="29960" class="Keyword">module</a> <a id="29967" href="SecureCompilation.Helpers.html#29967" class="Module">_</a> <a id="29969" href="SecureCompilation.Helpers.html#29969" class="Bound">A</a> <a id="29971" href="SecureCompilation.Helpers.html#29971" class="Bound">v</a> <a id="29973" href="SecureCompilation.Helpers.html#29973" class="Bound">x</a> <a id="29975" href="SecureCompilation.Helpers.html#29975" class="Bound">v′</a> <a id="29978" href="SecureCompilation.Helpers.html#29978" class="Bound">x′</a> <a id="29981" href="SecureCompilation.Helpers.html#29981" class="Bound">y</a> <a id="29983" href="SecureCompilation.Helpers.html#29983" class="Bound">Γ₀</a> <a id="29986" class="Keyword">where</a>
    <a id="29996" class="Keyword">private</a>
      <a id="30010" href="SecureCompilation.Helpers.html#30010" class="Function">Γ</a>  <a id="30013" class="Symbol">=</a> <a id="30015" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a>
         <a id="30028" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="30030" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="30032" href="SecureCompilation.Helpers.html#29969" class="Bound">A</a> <a id="30034" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="30038" href="SecureCompilation.Helpers.html#29971" class="Bound">v</a> <a id="30040" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="30044" href="SecureCompilation.Helpers.html#29973" class="Bound">x</a> <a id="30046" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="30048" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="30050" href="SecureCompilation.Helpers.html#29969" class="Bound">A</a> <a id="30052" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="30056" href="SecureCompilation.Helpers.html#29975" class="Bound">v′</a> <a id="30059" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="30063" href="SecureCompilation.Helpers.html#29978" class="Bound">x′</a> <a id="30066" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="30068" href="SecureCompilation.Helpers.html#29969" class="Bound">A</a> <a id="30070" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="30076" href="SecureCompilation.Helpers.html#29973" class="Bound">x</a> <a id="30078" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">↔</a> <a id="30080" href="SecureCompilation.Helpers.html#29978" class="Bound">x′</a> <a id="30083" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">▷⟨</a> <a id="30086" href="SecureCompilation.Helpers.html#29969" class="Bound">A</a> <a id="30088" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">,</a> <a id="30090" href="SecureCompilation.Helpers.html#29971" class="Bound">v</a> <a id="30092" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="30094" href="SecureCompilation.Helpers.html#29975" class="Bound">v′</a> <a id="30097" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">⟩</a> <a id="30099" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="30101" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="30103" href="SecureCompilation.Helpers.html#29983" class="Bound">Γ₀</a>
      <a id="30112" href="SecureCompilation.Helpers.html#30112" class="Function">Γ′</a> <a id="30115" class="Symbol">=</a> <a id="30117" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="30121" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="30123" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="30125" href="SecureCompilation.Helpers.html#29969" class="Bound">A</a> <a id="30127" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="30131" class="Symbol">(</a><a id="30132" href="SecureCompilation.Helpers.html#29971" class="Bound">v</a> <a id="30134" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="30136" href="SecureCompilation.Helpers.html#29975" class="Bound">v′</a><a id="30138" class="Symbol">)</a> <a id="30140" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="30144" href="SecureCompilation.Helpers.html#29981" class="Bound">y</a> <a id="30146" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="30148" href="SecureCompilation.Helpers.html#29983" class="Bound">Γ₀</a>
    <a id="30155" class="Keyword">module</a> <a id="30162" href="SecureCompilation.Helpers.html#30162" class="Module">H₁₁</a> <a id="30166" class="Symbol">(</a><a id="30167" href="SecureCompilation.Helpers.html#30167" class="Bound">R≈</a> <a id="30170" class="Symbol">:</a> <a id="30172" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="30174" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="30177" href="SecureCompilation.Helpers.html#30010" class="Function">Γ</a> <a id="30179" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="30182" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a><a id="30183" class="Symbol">)</a> <a id="30185" class="Symbol">(</a><a id="30186" href="SecureCompilation.Helpers.html#30186" class="Bound">tx</a> <a id="30189" class="Symbol">:</a> <a id="30191" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a><a id="30199" class="Symbol">)</a> <a id="30201" class="Symbol">(</a><a id="30202" href="SecureCompilation.Helpers.html#30202" class="Bound">Γ→Γ′</a> <a id="30207" class="Symbol">:</a> <a id="30209" href="SecureCompilation.Helpers.html#30010" class="Function">Γ</a> <a id="30211" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="30214" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="30216" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="30219" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="30221" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="30225" href="SecureCompilation.Helpers.html#30112" class="Function">Γ′</a> <a id="30228" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="30231" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="30233" class="Symbol">)</a> <a id="30235" class="Symbol">(</a><a id="30236" href="SecureCompilation.Helpers.html#30236" class="Bound">∃Γ≈</a> <a id="30240" class="Symbol">:</a> <a id="30242" href="Data.Product.html#1378" class="Function">∃</a> <a id="30244" class="Symbol">(</a><a id="30245" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="30248" href="SecureCompilation.Helpers.html#30112" class="Function">Γ′</a><a id="30250" class="Symbol">))</a> <a id="30253" class="Keyword">where</a>
      <a id="30265" class="Keyword">private</a>
        <a id="30281" href="SecureCompilation.Helpers.html#30281" class="Function">txout↝</a> <a id="30288" class="Symbol">:</a> <a id="30290" href="SecureCompilation.Helpers.html#30010" class="Function">Γ</a> <a id="30292" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="30295" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="30301" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="30303" href="SecureCompilation.Helpers.html#30112" class="Function">Γ′</a>
        <a id="30314" href="SecureCompilation.Helpers.html#30281" class="Function">txout↝</a> <a id="30321" href="SecureCompilation.Helpers.html#30321" class="Bound">txout′</a> <a id="30328" class="Symbol">=</a> <a id="30330" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="30337" href="SecureCompilation.Helpers.html#29981" class="Bound">y</a> <a id="30339" href="SecureCompilation.Helpers.html#30186" class="Bound">tx</a> <a id="30342" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="30344" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="30353" href="SecureCompilation.Helpers.html#30321" class="Bound">txout′</a> <a id="30360" class="Symbol">(λ</a> <a id="30363" href="SecureCompilation.Helpers.html#30363" class="Bound">x∈</a> <a id="30366" class="Symbol">→</a> <a id="30368" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a> <a id="30374" class="Symbol">(</a><a id="30375" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a> <a id="30381" href="SecureCompilation.Helpers.html#30363" class="Bound">x∈</a><a id="30383" class="Symbol">))</a>

        <a id="30395" class="Comment">-- Γ″  = ∃Γ≈ .proj₁</a>
        <a id="30423" class="Comment">-- Γₜ″ = Γ″ at t′</a>

      <a id="30448" class="Comment">-- abstract</a>
      <a id="30466" href="SecureCompilation.Helpers.html#30466" class="Function">λˢ</a> <a id="30469" class="Symbol">:</a> <a id="30471" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="30473" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="30475" class="Symbol">(</a><a id="30476" href="SecureCompilation.Helpers.html#30236" class="Bound">∃Γ≈</a> <a id="30480" class="Symbol">.</a><a id="30481" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="30487" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="30490" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="30492" class="Symbol">)</a> <a id="30494" class="Comment">-- Γₜ″</a>
      <a id="30507" href="SecureCompilation.Helpers.html#30466" class="Function">λˢ</a> <a id="30510" class="Symbol">=</a> <a id="30512" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="30518" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="30520" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="30522" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="30524" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a> <a id="30527" href="SecureCompilation.Helpers.html#30010" class="Function">Γ</a> <a id="30529" href="SecureCompilation.Helpers.html#30167" class="Bound">R≈</a> <a id="30532" href="SecureCompilation.Helpers.html#30112" class="Function">Γ′</a> <a id="30535" href="SecureCompilation.Helpers.html#30202" class="Bound">Γ→Γ′</a> <a id="30540" href="SecureCompilation.Helpers.html#30236" class="Bound">∃Γ≈</a> <a id="30544" href="SecureCompilation.Helpers.html#30281" class="Function">txout↝</a> <a id="30551" href="Function.Base.html#624" class="Function">id</a> <a id="30554" href="Function.Base.html#624" class="Function">id</a>

      <a id="30564" class="Comment">-- private</a>
      <a id="30581" class="Comment">--   𝕒  = λˢ .proj₁</a>
      <a id="30607" class="Comment">--   R′ = Γₜ″ ∷ R ⊣ 𝕒</a>

      <a id="30636" class="Comment">--   𝕣′ : ℝ R′</a>
      <a id="30657" class="Comment">--   𝕣′ = ℝ-step 𝕣 λˢ</a>

      <a id="30686" class="Comment">-- module _ {c v x} where</a>
      <a id="30718" class="Comment">--   private</a>
      <a id="30737" class="Comment">--     c∈⇐ : R′ ≈⋯ ⟨ c , v ⟩at x ⋯</a>
      <a id="30778" class="Comment">--         → R  ≈⋯ ⟨ c , v ⟩at x ⋯</a>
      <a id="30819" class="Comment">--     c∈⇐ = ?</a>
        <a id="30842" class="Comment">-- abstract</a>
        <a id="30862" class="Comment">--   txoutEndC≡ : ∀ (c∈ : ⟨ c , v ⟩at x ∈ᶜ Γ″) →</a>
        <a id="30919" class="Comment">--     𝕣′ ∙txoutC c∈ ≡ 𝕣 ∙txoutC (c∈⇐ c∈)</a>
        <a id="30969" class="Comment">--   txoutEndC≡ c∈ =</a>
        <a id="30998" class="Comment">--     begin</a>
        <a id="31019" class="Comment">--       𝕣′ ∙txoutC c∈</a>
        <a id="31050" class="Comment">--     ≡⟨⟩</a>
        <a id="31069" class="Comment">--       𝕣′ ∙txoutEnd (c∈⇒x∈ (R′ ∙cfg) c∈)</a>
        <a id="31120" class="Comment">--     -- ≡⟨ cong (𝕣′ ∙txoutEnd_) $ sym $ H c∈ ⟩</a>
        <a id="31177" class="Comment">--     --   𝕣′ ∙txoutEnd (x∈⇒ $ c∈⇒x∈ (R ∙cfg) $ c∈⇐ c∈)</a>
        <a id="31242" class="Comment">--     -- ≡⟨ txoutEnd≡ (c∈⇒x∈ (R ∙cfg) $ c∈⇐ c∈) ⟩</a>
        <a id="31301" class="Comment">--     --   𝕣 ∙txoutEnd (c∈⇒x∈ (R ∙cfg) $ c∈⇐ c∈)</a>
        <a id="31359" class="Comment">--     ≡⟨ ? ⟩</a>
        <a id="31381" class="Comment">--       𝕣 ∙txoutC (c∈⇐ c∈)</a>
        <a id="31417" class="Comment">--     ∎ where open ≡-Reasoning</a>

  <a id="31452" class="Comment">-- [12]</a>
  <a id="31462" class="Keyword">module</a> <a id="31469" href="SecureCompilation.Helpers.html#31469" class="Module">_</a> <a id="31471" href="SecureCompilation.Helpers.html#31471" class="Bound">A</a> <a id="31473" href="SecureCompilation.Helpers.html#31473" class="Bound">v</a> <a id="31475" href="SecureCompilation.Helpers.html#31475" class="Bound">v′</a> <a id="31478" href="SecureCompilation.Helpers.html#31478" class="Bound">x</a> <a id="31480" href="SecureCompilation.Helpers.html#31480" class="Bound">Γ₀</a> <a id="31483" class="Keyword">where</a>
    <a id="31493" class="Keyword">private</a>
      <a id="31507" href="SecureCompilation.Helpers.html#31507" class="Function">Γ</a>  <a id="31510" class="Symbol">=</a> <a id="31512" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="31516" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="31518" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="31520" href="SecureCompilation.Helpers.html#31471" class="Bound">A</a> <a id="31522" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="31526" class="Symbol">(</a><a id="31527" href="SecureCompilation.Helpers.html#31473" class="Bound">v</a> <a id="31529" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="31531" href="SecureCompilation.Helpers.html#31475" class="Bound">v′</a><a id="31533" class="Symbol">)</a> <a id="31535" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="31539" href="SecureCompilation.Helpers.html#31478" class="Bound">x</a> <a id="31541" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="31543" href="SecureCompilation.Helpers.html#31480" class="Bound">Γ₀</a>
      <a id="31552" href="SecureCompilation.Helpers.html#31552" class="Function">Γ′</a> <a id="31555" class="Symbol">=</a> <a id="31557" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="31561" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="31563" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="31565" href="SecureCompilation.Helpers.html#31471" class="Bound">A</a> <a id="31567" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="31571" class="Symbol">(</a><a id="31572" href="SecureCompilation.Helpers.html#31473" class="Bound">v</a> <a id="31574" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="31576" href="SecureCompilation.Helpers.html#31475" class="Bound">v′</a><a id="31578" class="Symbol">)</a> <a id="31580" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="31584" href="SecureCompilation.Helpers.html#31478" class="Bound">x</a> <a id="31586" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="31588" href="SecureCompilation.Helpers.html#31471" class="Bound">A</a> <a id="31590" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="31596" href="SecureCompilation.Helpers.html#31478" class="Bound">x</a> <a id="31598" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">▷⟨</a> <a id="31601" href="SecureCompilation.Helpers.html#31471" class="Bound">A</a> <a id="31603" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="31605" href="SecureCompilation.Helpers.html#31473" class="Bound">v</a> <a id="31607" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="31609" href="SecureCompilation.Helpers.html#31475" class="Bound">v′</a> <a id="31612" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">⟩</a> <a id="31614" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="31616" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="31618" href="SecureCompilation.Helpers.html#31480" class="Bound">Γ₀</a>
    <a id="31625" class="Keyword">module</a> <a id="31632" href="SecureCompilation.Helpers.html#31632" class="Module">H₁₂</a> <a id="31636" class="Symbol">(</a><a id="31637" href="SecureCompilation.Helpers.html#31637" class="Bound">R≈</a> <a id="31640" class="Symbol">:</a> <a id="31642" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="31644" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="31647" href="SecureCompilation.Helpers.html#31507" class="Function">Γ</a> <a id="31649" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="31652" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a><a id="31653" class="Symbol">)</a> <a id="31655" class="Symbol">(</a><a id="31656" href="SecureCompilation.Helpers.html#31656" class="Bound">Γ→Γ′</a> <a id="31661" class="Symbol">:</a> <a id="31663" href="SecureCompilation.Helpers.html#31507" class="Function">Γ</a> <a id="31665" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="31668" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="31670" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="31673" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="31675" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="31679" href="SecureCompilation.Helpers.html#31552" class="Function">Γ′</a> <a id="31682" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="31685" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="31687" class="Symbol">)</a> <a id="31689" class="Symbol">(</a><a id="31690" href="SecureCompilation.Helpers.html#31690" class="Bound">∃Γ≈</a> <a id="31694" class="Symbol">:</a> <a id="31696" href="Data.Product.html#1378" class="Function">∃</a> <a id="31698" class="Symbol">(</a><a id="31699" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="31702" href="SecureCompilation.Helpers.html#31552" class="Function">Γ′</a><a id="31704" class="Symbol">))</a> <a id="31707" class="Keyword">where</a>
      <a id="31719" class="Comment">-- abstract</a>
      <a id="31737" href="SecureCompilation.Helpers.html#31737" class="Function">λˢ</a> <a id="31740" class="Symbol">:</a> <a id="31742" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="31744" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="31746" class="Symbol">(</a><a id="31747" href="SecureCompilation.Helpers.html#31690" class="Bound">∃Γ≈</a> <a id="31751" class="Symbol">.</a><a id="31752" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="31758" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="31761" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="31763" class="Symbol">)</a>
      <a id="31771" href="SecureCompilation.Helpers.html#31737" class="Function">λˢ</a> <a id="31774" class="Symbol">=</a> <a id="31776" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="31782" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="31784" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="31786" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="31788" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a> <a id="31791" href="SecureCompilation.Helpers.html#31507" class="Function">Γ</a> <a id="31793" href="SecureCompilation.Helpers.html#31637" class="Bound">R≈</a> <a id="31796" href="SecureCompilation.Helpers.html#31552" class="Function">Γ′</a> <a id="31799" href="SecureCompilation.Helpers.html#31656" class="Bound">Γ→Γ′</a> <a id="31804" href="SecureCompilation.Helpers.html#31690" class="Bound">∃Γ≈</a> <a id="31808" href="Function.Base.html#624" class="Function">id</a> <a id="31811" href="Function.Base.html#624" class="Function">id</a> <a id="31814" href="Function.Base.html#624" class="Function">id</a>

  <a id="31820" class="Comment">-- [13]</a>
  <a id="31830" class="Keyword">module</a> <a id="31837" href="SecureCompilation.Helpers.html#31837" class="Module">_</a> <a id="31839" href="SecureCompilation.Helpers.html#31839" class="Bound">A</a> <a id="31841" href="SecureCompilation.Helpers.html#31841" class="Bound">v</a> <a id="31843" href="SecureCompilation.Helpers.html#31843" class="Bound">v′</a> <a id="31846" href="SecureCompilation.Helpers.html#31846" class="Bound">x</a> <a id="31848" href="SecureCompilation.Helpers.html#31848" class="Bound">Γ₀</a> <a id="31851" href="SecureCompilation.Helpers.html#31851" class="Bound">y</a> <a id="31853" href="SecureCompilation.Helpers.html#31853" class="Bound">y′</a> <a id="31856" class="Keyword">where</a>
    <a id="31866" class="Keyword">private</a>
      <a id="31880" href="SecureCompilation.Helpers.html#31880" class="Function">Γ</a>  <a id="31883" class="Symbol">=</a> <a id="31885" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="31889" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="31891" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="31893" href="SecureCompilation.Helpers.html#31839" class="Bound">A</a> <a id="31895" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="31899" class="Symbol">(</a><a id="31900" href="SecureCompilation.Helpers.html#31841" class="Bound">v</a> <a id="31902" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="31904" href="SecureCompilation.Helpers.html#31843" class="Bound">v′</a><a id="31906" class="Symbol">)</a> <a id="31908" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="31912" href="SecureCompilation.Helpers.html#31846" class="Bound">x</a> <a id="31914" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="31916" href="SecureCompilation.Helpers.html#31839" class="Bound">A</a> <a id="31918" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="31924" href="SecureCompilation.Helpers.html#31846" class="Bound">x</a> <a id="31926" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">▷⟨</a> <a id="31929" href="SecureCompilation.Helpers.html#31839" class="Bound">A</a> <a id="31931" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="31933" href="SecureCompilation.Helpers.html#31841" class="Bound">v</a> <a id="31935" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="31937" href="SecureCompilation.Helpers.html#31843" class="Bound">v′</a> <a id="31940" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">⟩</a> <a id="31942" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="31944" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="31946" href="SecureCompilation.Helpers.html#31848" class="Bound">Γ₀</a>
      <a id="31955" href="SecureCompilation.Helpers.html#31955" class="Function">Γ′</a> <a id="31958" class="Symbol">=</a> <a id="31960" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="31964" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="31966" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="31968" href="SecureCompilation.Helpers.html#31839" class="Bound">A</a> <a id="31970" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="31974" href="SecureCompilation.Helpers.html#31841" class="Bound">v</a> <a id="31976" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="31980" href="SecureCompilation.Helpers.html#31851" class="Bound">y</a> <a id="31982" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="31984" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="31986" href="SecureCompilation.Helpers.html#31839" class="Bound">A</a> <a id="31988" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="31992" href="SecureCompilation.Helpers.html#31843" class="Bound">v′</a> <a id="31995" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="31999" href="SecureCompilation.Helpers.html#31853" class="Bound">y′</a> <a id="32002" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="32004" href="SecureCompilation.Helpers.html#31848" class="Bound">Γ₀</a>
    <a id="32011" class="Keyword">module</a> <a id="32018" href="SecureCompilation.Helpers.html#32018" class="Module">H₁₃</a> <a id="32022" class="Symbol">(</a><a id="32023" href="SecureCompilation.Helpers.html#32023" class="Bound">R≈</a> <a id="32026" class="Symbol">:</a> <a id="32028" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="32030" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="32033" href="SecureCompilation.Helpers.html#31880" class="Function">Γ</a> <a id="32035" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="32038" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a><a id="32039" class="Symbol">)</a> <a id="32041" class="Symbol">(</a><a id="32042" href="SecureCompilation.Helpers.html#32042" class="Bound">tx</a> <a id="32045" href="SecureCompilation.Helpers.html#32045" class="Bound">tx′</a> <a id="32049" class="Symbol">:</a> <a id="32051" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a><a id="32059" class="Symbol">)</a> <a id="32061" class="Symbol">(</a><a id="32062" href="SecureCompilation.Helpers.html#32062" class="Bound">Γ→Γ′</a> <a id="32067" class="Symbol">:</a> <a id="32069" href="SecureCompilation.Helpers.html#31880" class="Function">Γ</a> <a id="32071" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="32074" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="32076" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="32079" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="32081" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="32085" href="SecureCompilation.Helpers.html#31955" class="Function">Γ′</a> <a id="32088" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="32091" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="32093" class="Symbol">)</a> <a id="32095" class="Symbol">(</a><a id="32096" href="SecureCompilation.Helpers.html#32096" class="Bound">∃Γ≈</a> <a id="32100" class="Symbol">:</a> <a id="32102" href="Data.Product.html#1378" class="Function">∃</a> <a id="32104" class="Symbol">(</a><a id="32105" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="32108" href="SecureCompilation.Helpers.html#31955" class="Function">Γ′</a><a id="32110" class="Symbol">))</a> <a id="32113" class="Keyword">where</a>
      <a id="32125" class="Comment">-- abstract</a>
      <a id="32143" href="SecureCompilation.Helpers.html#32143" class="Function">λˢ</a> <a id="32146" class="Symbol">:</a> <a id="32148" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="32150" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="32152" class="Symbol">(</a><a id="32153" href="SecureCompilation.Helpers.html#32096" class="Bound">∃Γ≈</a> <a id="32157" class="Symbol">.</a><a id="32158" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="32164" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="32167" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="32169" class="Symbol">)</a>
      <a id="32177" href="SecureCompilation.Helpers.html#32143" class="Function">λˢ</a> <a id="32180" class="Symbol">=</a> <a id="32182" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="32188" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="32190" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="32192" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="32194" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a> <a id="32197" href="SecureCompilation.Helpers.html#31880" class="Function">Γ</a> <a id="32199" href="SecureCompilation.Helpers.html#32023" class="Bound">R≈</a> <a id="32202" href="SecureCompilation.Helpers.html#31955" class="Function">Γ′</a> <a id="32205" href="SecureCompilation.Helpers.html#32062" class="Bound">Γ→Γ′</a> <a id="32210" href="SecureCompilation.Helpers.html#32096" class="Bound">∃Γ≈</a> <a id="32214" href="SecureCompilation.Helpers.html#32241" class="Function">txout↝</a> <a id="32221" href="Function.Base.html#624" class="Function">id</a> <a id="32224" href="Function.Base.html#624" class="Function">id</a>
        <a id="32235" class="Keyword">where</a> <a id="32241" href="SecureCompilation.Helpers.html#32241" class="Function">txout↝</a> <a id="32248" class="Symbol">:</a> <a id="32250" href="SecureCompilation.Helpers.html#31880" class="Function">Γ</a> <a id="32252" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="32255" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="32261" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="32263" href="SecureCompilation.Helpers.html#31955" class="Function">Γ′</a>
              <a id="32280" href="SecureCompilation.Helpers.html#32241" class="Function">txout↝</a> <a id="32287" href="SecureCompilation.Helpers.html#32287" class="Bound">txout′</a> <a id="32294" class="Symbol">=</a> <a id="32296" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="32303" href="SecureCompilation.Helpers.html#31851" class="Bound">y</a> <a id="32305" href="SecureCompilation.Helpers.html#32042" class="Bound">tx</a> <a id="32308" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="32310" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="32317" href="SecureCompilation.Helpers.html#31853" class="Bound">y′</a> <a id="32320" href="SecureCompilation.Helpers.html#32045" class="Bound">tx′</a> <a id="32324" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="32326" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="32335" href="SecureCompilation.Helpers.html#32287" class="Bound">txout′</a> <a id="32342" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a>

  <a id="32351" class="Comment">-- [14]</a>
  <a id="32361" class="Keyword">module</a> <a id="32368" href="SecureCompilation.Helpers.html#32368" class="Module">_</a> <a id="32370" href="SecureCompilation.Helpers.html#32370" class="Bound">A</a> <a id="32372" href="SecureCompilation.Helpers.html#32372" class="Bound">v</a> <a id="32374" href="SecureCompilation.Helpers.html#32374" class="Bound">x</a> <a id="32376" href="SecureCompilation.Helpers.html#32376" class="Bound">Γ₀</a> <a id="32379" href="SecureCompilation.Helpers.html#32379" class="Bound">B′</a> <a id="32382" class="Keyword">where</a>
    <a id="32392" class="Keyword">private</a>
      <a id="32406" href="SecureCompilation.Helpers.html#32406" class="Function">Γ</a>  <a id="32409" class="Symbol">=</a> <a id="32411" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="32415" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="32417" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="32419" href="SecureCompilation.Helpers.html#32370" class="Bound">A</a> <a id="32421" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="32425" href="SecureCompilation.Helpers.html#32372" class="Bound">v</a> <a id="32427" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="32431" href="SecureCompilation.Helpers.html#32374" class="Bound">x</a> <a id="32433" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="32435" href="SecureCompilation.Helpers.html#32376" class="Bound">Γ₀</a>
      <a id="32444" href="SecureCompilation.Helpers.html#32444" class="Function">Γ′</a> <a id="32447" class="Symbol">=</a> <a id="32449" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="32453" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="32455" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="32457" href="SecureCompilation.Helpers.html#32370" class="Bound">A</a> <a id="32459" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="32463" href="SecureCompilation.Helpers.html#32372" class="Bound">v</a> <a id="32465" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="32469" href="SecureCompilation.Helpers.html#32374" class="Bound">x</a> <a id="32471" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="32473" href="SecureCompilation.Helpers.html#32370" class="Bound">A</a> <a id="32475" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="32481" href="SecureCompilation.Helpers.html#32374" class="Bound">x</a> <a id="32483" href="BitML.Semantics.Action.html#782" class="InductiveConstructor Operator">▷ᵈ</a> <a id="32486" href="SecureCompilation.Helpers.html#32379" class="Bound">B′</a> <a id="32489" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="32491" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="32493" href="SecureCompilation.Helpers.html#32376" class="Bound">Γ₀</a>
    <a id="32500" class="Keyword">module</a> <a id="32507" href="SecureCompilation.Helpers.html#32507" class="Module">H₁₄</a> <a id="32511" class="Symbol">(</a><a id="32512" href="SecureCompilation.Helpers.html#32512" class="Bound">R≈</a> <a id="32515" class="Symbol">:</a> <a id="32517" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="32519" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="32522" href="SecureCompilation.Helpers.html#32406" class="Function">Γ</a> <a id="32524" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="32527" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a><a id="32528" class="Symbol">)</a> <a id="32530" class="Symbol">(</a><a id="32531" href="SecureCompilation.Helpers.html#32531" class="Bound">Γ→Γ′</a> <a id="32536" class="Symbol">:</a> <a id="32538" href="SecureCompilation.Helpers.html#32406" class="Function">Γ</a> <a id="32540" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="32543" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="32545" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="32548" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="32550" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="32554" href="SecureCompilation.Helpers.html#32444" class="Function">Γ′</a> <a id="32557" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="32560" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="32562" class="Symbol">)</a> <a id="32564" class="Symbol">(</a><a id="32565" href="SecureCompilation.Helpers.html#32565" class="Bound">∃Γ≈</a> <a id="32569" class="Symbol">:</a> <a id="32571" href="Data.Product.html#1378" class="Function">∃</a> <a id="32573" class="Symbol">(</a><a id="32574" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="32577" href="SecureCompilation.Helpers.html#32444" class="Function">Γ′</a><a id="32579" class="Symbol">))</a> <a id="32582" class="Keyword">where</a>
      <a id="32594" class="Comment">-- abstract</a>
      <a id="32612" href="SecureCompilation.Helpers.html#32612" class="Function">λˢ</a> <a id="32615" class="Symbol">:</a> <a id="32617" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="32619" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="32621" class="Symbol">(</a><a id="32622" href="SecureCompilation.Helpers.html#32565" class="Bound">∃Γ≈</a> <a id="32626" class="Symbol">.</a><a id="32627" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="32633" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="32636" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="32638" class="Symbol">)</a>
      <a id="32646" href="SecureCompilation.Helpers.html#32612" class="Function">λˢ</a> <a id="32649" class="Symbol">=</a> <a id="32651" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="32657" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="32659" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="32661" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="32663" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a> <a id="32666" href="SecureCompilation.Helpers.html#32406" class="Function">Γ</a> <a id="32668" href="SecureCompilation.Helpers.html#32512" class="Bound">R≈</a> <a id="32671" href="SecureCompilation.Helpers.html#32444" class="Function">Γ′</a> <a id="32674" href="SecureCompilation.Helpers.html#32531" class="Bound">Γ→Γ′</a> <a id="32679" href="SecureCompilation.Helpers.html#32565" class="Bound">∃Γ≈</a> <a id="32683" href="Function.Base.html#624" class="Function">id</a> <a id="32686" href="Function.Base.html#624" class="Function">id</a> <a id="32689" href="Function.Base.html#624" class="Function">id</a>

  <a id="32695" class="Comment">-- [15]</a>
  <a id="32705" class="Keyword">module</a> <a id="32712" href="SecureCompilation.Helpers.html#32712" class="Module">_</a> <a id="32714" href="SecureCompilation.Helpers.html#32714" class="Bound">A</a> <a id="32716" href="SecureCompilation.Helpers.html#32716" class="Bound">v</a> <a id="32718" href="SecureCompilation.Helpers.html#32718" class="Bound">x</a> <a id="32720" href="SecureCompilation.Helpers.html#32720" class="Bound">B′</a> <a id="32723" href="SecureCompilation.Helpers.html#32723" class="Bound">Γ₀</a> <a id="32726" href="SecureCompilation.Helpers.html#32726" class="Bound">y</a> <a id="32728" class="Keyword">where</a>
    <a id="32738" class="Keyword">private</a>
      <a id="32752" href="SecureCompilation.Helpers.html#32752" class="Function">Γ</a>  <a id="32755" class="Symbol">=</a> <a id="32757" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="32761" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="32763" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="32765" href="SecureCompilation.Helpers.html#32714" class="Bound">A</a> <a id="32767" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="32771" href="SecureCompilation.Helpers.html#32716" class="Bound">v</a> <a id="32773" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="32777" href="SecureCompilation.Helpers.html#32718" class="Bound">x</a> <a id="32779" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="32781" href="SecureCompilation.Helpers.html#32714" class="Bound">A</a> <a id="32783" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="32789" href="SecureCompilation.Helpers.html#32718" class="Bound">x</a> <a id="32791" href="BitML.Semantics.Action.html#782" class="InductiveConstructor Operator">▷ᵈ</a> <a id="32794" href="SecureCompilation.Helpers.html#32720" class="Bound">B′</a> <a id="32797" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="32799" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="32801" href="SecureCompilation.Helpers.html#32723" class="Bound">Γ₀</a>
      <a id="32810" href="SecureCompilation.Helpers.html#32810" class="Function">Γ′</a> <a id="32813" class="Symbol">=</a> <a id="32815" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="32819" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="32821" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="32823" href="SecureCompilation.Helpers.html#32720" class="Bound">B′</a> <a id="32826" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="32830" href="SecureCompilation.Helpers.html#32716" class="Bound">v</a> <a id="32832" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="32836" href="SecureCompilation.Helpers.html#32726" class="Bound">y</a> <a id="32838" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="32840" href="SecureCompilation.Helpers.html#32723" class="Bound">Γ₀</a>
    <a id="32847" class="Keyword">module</a> <a id="32854" href="SecureCompilation.Helpers.html#32854" class="Module">H₁₅</a> <a id="32858" class="Symbol">(</a><a id="32859" href="SecureCompilation.Helpers.html#32859" class="Bound">R≈</a> <a id="32862" class="Symbol">:</a> <a id="32864" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="32866" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="32869" href="SecureCompilation.Helpers.html#32752" class="Function">Γ</a> <a id="32871" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="32874" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a><a id="32875" class="Symbol">)</a> <a id="32877" class="Symbol">(</a><a id="32878" href="SecureCompilation.Helpers.html#32878" class="Bound">tx</a> <a id="32881" class="Symbol">:</a> <a id="32883" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a><a id="32891" class="Symbol">)</a> <a id="32893" class="Symbol">(</a><a id="32894" href="SecureCompilation.Helpers.html#32894" class="Bound">Γ→Γ′</a> <a id="32899" class="Symbol">:</a> <a id="32901" href="SecureCompilation.Helpers.html#32752" class="Function">Γ</a> <a id="32903" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="32906" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="32908" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="32911" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="32913" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="32917" href="SecureCompilation.Helpers.html#32810" class="Function">Γ′</a> <a id="32920" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="32923" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="32925" class="Symbol">)</a> <a id="32927" class="Symbol">(</a><a id="32928" href="SecureCompilation.Helpers.html#32928" class="Bound">∃Γ≈</a> <a id="32932" class="Symbol">:</a> <a id="32934" href="Data.Product.html#1378" class="Function">∃</a> <a id="32936" class="Symbol">(</a><a id="32937" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="32940" href="SecureCompilation.Helpers.html#32810" class="Function">Γ′</a><a id="32942" class="Symbol">))</a> <a id="32945" class="Keyword">where</a>
      <a id="32957" class="Comment">-- abstract</a>
      <a id="32975" href="SecureCompilation.Helpers.html#32975" class="Function">λˢ</a> <a id="32978" class="Symbol">:</a> <a id="32980" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="32982" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="32984" class="Symbol">(</a><a id="32985" href="SecureCompilation.Helpers.html#32928" class="Bound">∃Γ≈</a> <a id="32989" class="Symbol">.</a><a id="32990" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="32996" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="32999" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="33001" class="Symbol">)</a>
      <a id="33009" href="SecureCompilation.Helpers.html#32975" class="Function">λˢ</a> <a id="33012" class="Symbol">=</a> <a id="33014" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="33020" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="33022" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="33024" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="33026" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a> <a id="33029" href="SecureCompilation.Helpers.html#32752" class="Function">Γ</a> <a id="33031" href="SecureCompilation.Helpers.html#32859" class="Bound">R≈</a> <a id="33034" href="SecureCompilation.Helpers.html#32810" class="Function">Γ′</a> <a id="33037" href="SecureCompilation.Helpers.html#32894" class="Bound">Γ→Γ′</a> <a id="33042" href="SecureCompilation.Helpers.html#32928" class="Bound">∃Γ≈</a> <a id="33046" href="SecureCompilation.Helpers.html#33073" class="Function">txout↝</a> <a id="33053" href="Function.Base.html#624" class="Function">id</a> <a id="33056" href="Function.Base.html#624" class="Function">id</a>
        <a id="33067" class="Keyword">where</a> <a id="33073" href="SecureCompilation.Helpers.html#33073" class="Function">txout↝</a> <a id="33080" class="Symbol">:</a> <a id="33082" href="SecureCompilation.Helpers.html#32752" class="Function">Γ</a> <a id="33084" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="33087" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="33093" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="33095" href="SecureCompilation.Helpers.html#32810" class="Function">Γ′</a>
              <a id="33112" href="SecureCompilation.Helpers.html#33073" class="Function">txout↝</a> <a id="33119" href="SecureCompilation.Helpers.html#33119" class="Bound">txout′</a> <a id="33126" class="Symbol">=</a> <a id="33128" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="33135" href="SecureCompilation.Helpers.html#32726" class="Bound">y</a> <a id="33137" href="SecureCompilation.Helpers.html#32878" class="Bound">tx</a> <a id="33140" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="33142" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="33151" href="SecureCompilation.Helpers.html#33119" class="Bound">txout′</a> <a id="33158" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a>

  <a id="33167" class="Comment">-- [16]</a>
  <a id="33177" class="Keyword">module</a> <a id="33184" href="SecureCompilation.Helpers.html#33184" class="Module">_</a> <a id="33186" class="Symbol">(</a><a id="33187" href="SecureCompilation.Helpers.html#33187" class="Bound">ds</a> <a id="33190" class="Symbol">:</a> <a id="33192" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="33203" class="Symbol">)</a> <a id="33205" href="SecureCompilation.Helpers.html#33205" class="Bound">Γ₀</a> <a id="33208" class="Symbol">(</a><a id="33209" href="SecureCompilation.Helpers.html#33209" class="Bound">j</a> <a id="33211" class="Symbol">:</a> <a id="33213" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="33219" href="SecureCompilation.Helpers.html#33187" class="Bound">ds</a><a id="33221" class="Symbol">)</a> <a id="33223" href="SecureCompilation.Helpers.html#33223" class="Bound">A</a> <a id="33225" href="SecureCompilation.Helpers.html#33225" class="Bound">y</a> <a id="33227" class="Keyword">where</a>
    <a id="33237" class="Keyword">private</a>
      <a id="33251" href="SecureCompilation.Helpers.html#33251" class="Function">xs</a> <a id="33254" class="Symbol">=</a> <a id="33256" href="Data.List.Base.html#1553" class="Function">map</a> <a id="33260" class="Symbol">(</a><a id="33261" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="33267" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="33269" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="33274" class="Symbol">)</a> <a id="33276" href="SecureCompilation.Helpers.html#33187" class="Bound">ds</a>
      <a id="33285" href="SecureCompilation.Helpers.html#33285" class="Function">Δ</a>  <a id="33288" class="Symbol">=</a> <a id="33290" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="33293" href="Data.List.Base.html#1553" class="Function">map</a> <a id="33297" class="Symbol">(</a><a id="33298" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="33307" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨_has_⟩at_</a><a id="33317" class="Symbol">)</a> <a id="33319" href="SecureCompilation.Helpers.html#33187" class="Bound">ds</a>
      <a id="33328" href="SecureCompilation.Helpers.html#33328" class="Function">Γ</a>  <a id="33331" class="Symbol">=</a> <a id="33333" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="33337" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="33339" href="SecureCompilation.Helpers.html#33285" class="Function">Δ</a> <a id="33341" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="33343" href="SecureCompilation.Helpers.html#33205" class="Bound">Γ₀</a>
      <a id="33352" href="SecureCompilation.Helpers.html#33352" class="Function">j′</a> <a id="33355" class="Symbol">=</a> <a id="33357" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="33363" href="SecureCompilation.Helpers.html#33251" class="Function">xs</a> <a id="33366" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="33368" href="Prelude.Lists.Indexed.html#9518" class="Function">‼-map</a> <a id="33374" class="Symbol">{</a><a id="33375" class="Argument">xs</a> <a id="33378" class="Symbol">=</a> <a id="33380" href="SecureCompilation.Helpers.html#33187" class="Bound">ds</a><a id="33382" class="Symbol">}</a> <a id="33384" href="SecureCompilation.Helpers.html#33209" class="Bound">j</a>
      <a id="33392" href="SecureCompilation.Helpers.html#33392" class="Function">Γ′</a> <a id="33395" class="Symbol">=</a> <a id="33397" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="33401" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="33403" href="SecureCompilation.Helpers.html#33285" class="Function">Δ</a> <a id="33405" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="33407" href="SecureCompilation.Helpers.html#33223" class="Bound">A</a> <a id="33409" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="33415" href="SecureCompilation.Helpers.html#33251" class="Function">xs</a> <a id="33418" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="33420" href="SecureCompilation.Helpers.html#33352" class="Function">j′</a> <a id="33423" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="33427" href="SecureCompilation.Helpers.html#33225" class="Bound">y</a> <a id="33429" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="33431" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="33433" href="SecureCompilation.Helpers.html#33205" class="Bound">Γ₀</a>
    <a id="33440" class="Keyword">module</a> <a id="33447" href="SecureCompilation.Helpers.html#33447" class="Module">H₁₆</a> <a id="33451" class="Symbol">(</a><a id="33452" href="SecureCompilation.Helpers.html#33452" class="Bound">R≈</a> <a id="33455" class="Symbol">:</a> <a id="33457" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="33459" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="33462" href="SecureCompilation.Helpers.html#33328" class="Function">Γ</a> <a id="33464" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="33467" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a><a id="33468" class="Symbol">)</a> <a id="33470" class="Symbol">(</a><a id="33471" href="SecureCompilation.Helpers.html#33471" class="Bound">Γ→Γ′</a> <a id="33476" class="Symbol">:</a> <a id="33478" href="SecureCompilation.Helpers.html#33328" class="Function">Γ</a> <a id="33480" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="33483" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="33485" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="33488" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="33490" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="33494" href="SecureCompilation.Helpers.html#33392" class="Function">Γ′</a> <a id="33497" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="33500" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="33502" class="Symbol">)</a> <a id="33504" class="Symbol">(</a><a id="33505" href="SecureCompilation.Helpers.html#33505" class="Bound">∃Γ≈</a> <a id="33509" class="Symbol">:</a> <a id="33511" href="Data.Product.html#1378" class="Function">∃</a> <a id="33513" class="Symbol">(</a><a id="33514" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="33517" href="SecureCompilation.Helpers.html#33392" class="Function">Γ′</a><a id="33519" class="Symbol">))</a> <a id="33522" class="Keyword">where</a>
      <a id="33534" class="Comment">-- ** name resolution</a>
      <a id="33562" class="Keyword">abstract</a>
        <a id="33579" href="SecureCompilation.Helpers.html#33579" class="Function">xs↦</a> <a id="33583" class="Symbol">:</a> <a id="33585" href="SecureCompilation.Helpers.html#33251" class="Function">xs</a> <a id="33588" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="33590" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
        <a id="33607" href="SecureCompilation.Helpers.html#33579" class="Function">xs↦</a> <a id="33611" class="Symbol">=</a> <a id="33613" href="SymbolicModel.Mappings.Base.html#823" class="Function">txout′</a> <a id="33620" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="33622" href="SecureCompilation.Helpers.html#33652" class="Function">xs⊆</a>
          <a id="33636" class="Keyword">where</a>
          <a id="33652" href="SecureCompilation.Helpers.html#33652" class="Function">xs⊆</a> <a id="33656" class="Symbol">:</a> <a id="33658" href="SecureCompilation.Helpers.html#33251" class="Function">xs</a> <a id="33661" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="33663" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="33670" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a>
          <a id="33682" href="SecureCompilation.Helpers.html#33652" class="Function">xs⊆</a> <a id="33686" class="Symbol">=</a> <a id="33688" href="Relation.Binary.Reasoning.Base.Double.html#2222" class="Function Operator">begin</a> <a id="33694" href="SecureCompilation.Helpers.html#33251" class="Function">xs</a>              <a id="33710" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="33713" href="BitML.Semantics.Configurations.Helpers.html#16204" class="Function">namesʳ-∥map-authDestroy</a> <a id="33737" href="SecureCompilation.Helpers.html#33187" class="Bound">ds</a> <a id="33740" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
                      <a id="33764" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="33771" href="SecureCompilation.Helpers.html#33285" class="Function">Δ</a>        <a id="33780" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="33783" href="Prelude.Lists.MapMaybe.html#9263" class="Function">mapMaybe-⊆</a> <a id="33794" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="33801" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="33803" href="BitML.Semantics.Configurations.Helpers.html#7992" class="Function">∈-collect-++⁺ˡ</a> <a id="33818" href="SecureCompilation.Helpers.html#33285" class="Function">Δ</a> <a id="33820" href="SecureCompilation.Helpers.html#33205" class="Bound">Γ₀</a> <a id="33823" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
                      <a id="33847" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="33854" href="SecureCompilation.Helpers.html#33328" class="Function">Γ</a>        <a id="33863" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="33866" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="33881" class="Symbol">_</a> <a id="33883" class="Symbol">{</a><a id="33884" href="SecureCompilation.Helpers.html#33328" class="Function">Γ</a><a id="33885" class="Symbol">}{</a><a id="33887" href="BitML.Semantics.Configurations.Types.html#1335" class="Field">cfg</a> <a id="33891" class="Symbol">(</a><a id="33892" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="33894" class="Symbol">.</a><a id="33895" href="Prelude.Traces.html#568" class="Field">end</a><a id="33898" class="Symbol">)}</a> <a id="33901" class="Symbol">(</a><a id="33902" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="33908" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="33910" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="33916" href="SecureCompilation.Helpers.html#33452" class="Bound">R≈</a><a id="33918" class="Symbol">)</a> <a id="33920" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
                      <a id="33944" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="33951" class="Symbol">(</a><a id="33952" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="33954" class="Symbol">.</a><a id="33955" href="Prelude.Traces.html#568" class="Field">end</a><a id="33958" class="Symbol">)</a> <a id="33960" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="33963" href="SymbolicModel.Collections.html#1307" class="Function">namesʳ⦅end⦆⊆</a> <a id="33976" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="33978" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
                      <a id="34002" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="34009" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a>        <a id="34018" href="Relation.Binary.Reasoning.Base.Double.html#3656" class="Function Operator">∎</a> <a id="34020" class="Keyword">where</a> <a id="34026" class="Keyword">open</a> <a id="34031" href="Data.List.Relation.Binary.Subset.Propositional.Properties.html#3760" class="Module">⊆-Reasoning</a> <a id="34043" href="BitML.BasicTypes.html#303" class="Function">Secret</a>
      <a id="34056" class="Comment">--</a>
      <a id="34065" class="Keyword">private</a>
        <a id="34081" href="SecureCompilation.Helpers.html#34081" class="Function">names≡</a> <a id="34088" class="Symbol">:</a> <a id="34090" href="SecureCompilation.Helpers.html#33392" class="Function">Γ′</a> <a id="34093" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="34096" href="BitML.Contracts.Collections.html#4018" class="Function">names</a> <a id="34102" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="34104" href="SecureCompilation.Helpers.html#33328" class="Function">Γ</a>
        <a id="34114" href="SecureCompilation.Helpers.html#34081" class="Function">names≡</a> <a id="34121" class="Keyword">rewrite</a> <a id="34129" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="34148" class="Symbol">{</a><a id="34149" class="Argument">X</a> <a id="34151" class="Symbol">=</a> <a id="34153" href="BitML.BasicTypes.html#375" class="Function">Name</a><a id="34157" class="Symbol">}</a> <a id="34159" class="Symbol">(</a><a id="34160" href="SecureCompilation.Helpers.html#33285" class="Function">Δ</a> <a id="34162" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="34164" href="SecureCompilation.Helpers.html#33223" class="Bound">A</a> <a id="34166" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="34172" href="SecureCompilation.Helpers.html#33251" class="Function">xs</a> <a id="34175" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="34177" href="SecureCompilation.Helpers.html#33352" class="Function">j′</a> <a id="34180" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="34184" href="SecureCompilation.Helpers.html#33225" class="Bound">y</a> <a id="34186" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="34187" class="Symbol">)</a> <a id="34189" href="SecureCompilation.Helpers.html#33205" class="Bound">Γ₀</a>
                    <a id="34212" class="Symbol">|</a> <a id="34214" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="34233" class="Symbol">{</a><a id="34234" class="Argument">X</a> <a id="34236" class="Symbol">=</a> <a id="34238" href="BitML.BasicTypes.html#375" class="Function">Name</a><a id="34242" class="Symbol">}</a> <a id="34244" href="SecureCompilation.Helpers.html#33285" class="Function">Δ</a> <a id="34246" class="Symbol">(</a><a id="34247" href="SecureCompilation.Helpers.html#33223" class="Bound">A</a> <a id="34249" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="34255" href="SecureCompilation.Helpers.html#33251" class="Function">xs</a> <a id="34258" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="34260" href="SecureCompilation.Helpers.html#33352" class="Function">j′</a> <a id="34263" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="34267" href="SecureCompilation.Helpers.html#33225" class="Bound">y</a> <a id="34269" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="34270" class="Symbol">)</a>
                    <a id="34292" class="Symbol">|</a> <a id="34294" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="34309" class="Symbol">(</a><a id="34310" href="BitML.Contracts.Collections.html#4018" class="Function">names</a> <a id="34316" href="SecureCompilation.Helpers.html#33285" class="Function">Δ</a><a id="34317" class="Symbol">)</a>
                    <a id="34339" class="Symbol">=</a> <a id="34341" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="34345" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="34347" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="34366" class="Symbol">{</a><a id="34367" class="Argument">X</a> <a id="34369" class="Symbol">=</a> <a id="34371" href="BitML.BasicTypes.html#375" class="Function">Name</a><a id="34375" class="Symbol">}</a> <a id="34377" href="SecureCompilation.Helpers.html#33285" class="Function">Δ</a> <a id="34379" href="SecureCompilation.Helpers.html#33205" class="Bound">Γ₀</a>

        <a id="34391" href="SecureCompilation.Helpers.html#34391" class="Function">ids≡</a> <a id="34396" class="Symbol">:</a>  <a id="34399" href="SecureCompilation.Helpers.html#33392" class="Function">Γ′</a> <a id="34402" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="34405" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="34412" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="34414" href="SecureCompilation.Helpers.html#33328" class="Function">Γ</a>
        <a id="34424" href="SecureCompilation.Helpers.html#34391" class="Function">ids≡</a> <a id="34429" class="Symbol">=</a> <a id="34431" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="34436" href="Prelude.Lists.Core.html#2266" class="Function">filter₂</a> <a id="34444" href="SecureCompilation.Helpers.html#34081" class="Function">names≡</a>

        <a id="34460" href="SecureCompilation.Helpers.html#34460" class="Function">secrets≡</a> <a id="34469" class="Symbol">:</a> <a id="34471" href="SecureCompilation.Helpers.html#33392" class="Function">Γ′</a> <a id="34474" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="34477" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="34484" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="34486" href="SecureCompilation.Helpers.html#33328" class="Function">Γ</a>
        <a id="34496" href="SecureCompilation.Helpers.html#34460" class="Function">secrets≡</a> <a id="34505" class="Symbol">=</a> <a id="34507" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="34512" href="Prelude.Lists.Core.html#2207" class="Function">filter₁</a> <a id="34520" href="SecureCompilation.Helpers.html#34081" class="Function">names≡</a>

        <a id="34536" href="SecureCompilation.Helpers.html#34536" class="Function">ads≡</a> <a id="34541" class="Symbol">:</a> <a id="34543" href="SecureCompilation.Helpers.html#33392" class="Function">Γ′</a> <a id="34546" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="34549" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="34564" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="34566" href="SecureCompilation.Helpers.html#33328" class="Function">Γ</a>
        <a id="34576" href="SecureCompilation.Helpers.html#34536" class="Function">ads≡</a> <a id="34581" class="Keyword">rewrite</a> <a id="34589" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="34608" class="Symbol">{</a><a id="34609" class="Argument">X</a> <a id="34611" class="Symbol">=</a> <a id="34613" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="34615" class="Symbol">}</a> <a id="34617" class="Symbol">(</a><a id="34618" href="SecureCompilation.Helpers.html#33285" class="Function">Δ</a> <a id="34620" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="34622" href="SecureCompilation.Helpers.html#33223" class="Bound">A</a> <a id="34624" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="34630" href="SecureCompilation.Helpers.html#33251" class="Function">xs</a> <a id="34633" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="34635" href="SecureCompilation.Helpers.html#33352" class="Function">j′</a> <a id="34638" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="34642" href="SecureCompilation.Helpers.html#33225" class="Bound">y</a> <a id="34644" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="34645" class="Symbol">)</a> <a id="34647" href="SecureCompilation.Helpers.html#33205" class="Bound">Γ₀</a>
                  <a id="34668" class="Symbol">|</a> <a id="34670" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="34689" class="Symbol">{</a><a id="34690" class="Argument">X</a> <a id="34692" class="Symbol">=</a> <a id="34694" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="34696" class="Symbol">}</a> <a id="34698" href="SecureCompilation.Helpers.html#33285" class="Function">Δ</a> <a id="34700" class="Symbol">(</a><a id="34701" href="SecureCompilation.Helpers.html#33223" class="Bound">A</a> <a id="34703" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="34709" href="SecureCompilation.Helpers.html#33251" class="Function">xs</a> <a id="34712" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="34714" href="SecureCompilation.Helpers.html#33352" class="Function">j′</a> <a id="34717" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="34721" href="SecureCompilation.Helpers.html#33225" class="Bound">y</a> <a id="34723" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="34724" class="Symbol">)</a>
                  <a id="34744" class="Symbol">|</a> <a id="34746" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="34761" class="Symbol">(</a><a id="34762" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="34777" href="SecureCompilation.Helpers.html#33285" class="Function">Δ</a><a id="34778" class="Symbol">)</a>
                  <a id="34798" class="Symbol">=</a> <a id="34800" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="34804" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="34806" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="34825" class="Symbol">{</a><a id="34826" class="Argument">X</a> <a id="34828" class="Symbol">=</a> <a id="34830" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="34832" class="Symbol">}</a> <a id="34834" href="SecureCompilation.Helpers.html#33285" class="Function">Δ</a> <a id="34836" href="SecureCompilation.Helpers.html#33205" class="Bound">Γ₀</a>

        <a id="34848" href="SecureCompilation.Helpers.html#34848" class="Function">txout↝</a> <a id="34855" class="Symbol">:</a> <a id="34857" href="SecureCompilation.Helpers.html#33328" class="Function">Γ</a> <a id="34859" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="34862" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="34868" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="34870" href="SecureCompilation.Helpers.html#33392" class="Function">Γ′</a>
        <a id="34881" href="SecureCompilation.Helpers.html#34848" class="Function">txout↝</a> <a id="34888" class="Symbol">=</a> <a id="34890" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">lift</a> <a id="34895" href="SecureCompilation.Helpers.html#33328" class="Function">Γ</a> <a id="34897" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">—⟨</a> <a id="34900" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="34907" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⟩—</a> <a id="34910" href="SecureCompilation.Helpers.html#33392" class="Function">Γ′</a> <a id="34913" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⊣</a> <a id="34915" href="SecureCompilation.Helpers.html#34391" class="Function">ids≡</a>

        <a id="34929" href="SecureCompilation.Helpers.html#34929" class="Function">sechash↝</a> <a id="34938" class="Symbol">:</a> <a id="34940" href="SecureCompilation.Helpers.html#33328" class="Function">Γ</a> <a id="34942" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="34945" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="34953" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="34955" href="SecureCompilation.Helpers.html#33392" class="Function">Γ′</a>
        <a id="34966" href="SecureCompilation.Helpers.html#34929" class="Function">sechash↝</a>  <a id="34976" class="Symbol">=</a> <a id="34978" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">lift</a> <a id="34983" href="SecureCompilation.Helpers.html#33328" class="Function">Γ</a> <a id="34985" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">—⟨</a> <a id="34988" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="34995" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⟩—</a> <a id="34998" href="SecureCompilation.Helpers.html#33392" class="Function">Γ′</a> <a id="35001" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⊣</a> <a id="35003" href="SecureCompilation.Helpers.html#34460" class="Function">secrets≡</a>

        <a id="35021" href="SecureCompilation.Helpers.html#35021" class="Function">κ↝</a> <a id="35024" class="Symbol">:</a> <a id="35026" href="SecureCompilation.Helpers.html#33328" class="Function">Γ</a> <a id="35028" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="35031" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="35034" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="35036" href="SecureCompilation.Helpers.html#33392" class="Function">Γ′</a>
        <a id="35047" href="SecureCompilation.Helpers.html#35021" class="Function">κ↝</a> <a id="35050" class="Symbol">=</a> <a id="35052" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">lift</a> <a id="35057" href="SecureCompilation.Helpers.html#33328" class="Function">Γ</a> <a id="35059" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">—⟨</a> <a id="35062" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="35077" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⟩—</a> <a id="35080" href="SecureCompilation.Helpers.html#33392" class="Function">Γ′</a> <a id="35083" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⊣</a> <a id="35085" href="SecureCompilation.Helpers.html#34536" class="Function">ads≡</a>
      <a id="35096" class="Comment">-- abstract</a>
      <a id="35114" href="SecureCompilation.Helpers.html#35114" class="Function">λˢ</a> <a id="35117" class="Symbol">:</a> <a id="35119" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="35121" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="35123" class="Symbol">(</a><a id="35124" href="SecureCompilation.Helpers.html#33505" class="Bound">∃Γ≈</a> <a id="35128" class="Symbol">.</a><a id="35129" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="35135" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="35138" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="35140" class="Symbol">)</a>
      <a id="35148" href="SecureCompilation.Helpers.html#35114" class="Function">λˢ</a> <a id="35151" class="Symbol">=</a> <a id="35153" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="35159" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="35161" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="35163" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="35165" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a> <a id="35168" href="SecureCompilation.Helpers.html#33328" class="Function">Γ</a> <a id="35170" href="SecureCompilation.Helpers.html#33452" class="Bound">R≈</a> <a id="35173" href="SecureCompilation.Helpers.html#33392" class="Function">Γ′</a> <a id="35176" href="SecureCompilation.Helpers.html#33471" class="Bound">Γ→Γ′</a> <a id="35181" href="SecureCompilation.Helpers.html#33505" class="Bound">∃Γ≈</a> <a id="35185" href="SecureCompilation.Helpers.html#34848" class="Function">txout↝</a> <a id="35192" href="SecureCompilation.Helpers.html#34929" class="Function">sechash↝</a> <a id="35201" href="SecureCompilation.Helpers.html#35021" class="Function">κ↝</a>

  <a id="35207" class="Comment">-- [17]</a>
  <a id="35217" class="Keyword">module</a> <a id="35224" href="SecureCompilation.Helpers.html#35224" class="Module">_</a> <a id="35226" class="Symbol">(</a><a id="35227" href="SecureCompilation.Helpers.html#35227" class="Bound">ds</a> <a id="35230" class="Symbol">:</a> <a id="35232" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="35243" class="Symbol">)</a> <a id="35245" href="SecureCompilation.Helpers.html#35245" class="Bound">Γ₀</a> <a id="35248" href="SecureCompilation.Helpers.html#35248" class="Bound">y</a> <a id="35250" class="Keyword">where</a>
    <a id="35260" class="Keyword">private</a>
      <a id="35274" href="SecureCompilation.Helpers.html#35274" class="Function">xs</a> <a id="35277" class="Symbol">=</a> <a id="35279" href="Data.List.Base.html#1553" class="Function">map</a> <a id="35283" class="Symbol">(</a><a id="35284" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="35290" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="35292" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="35297" class="Symbol">)</a> <a id="35299" href="SecureCompilation.Helpers.html#35227" class="Bound">ds</a>
      <a id="35308" href="SecureCompilation.Helpers.html#35308" class="Function">Δ</a>  <a id="35311" class="Symbol">=</a> <a id="35313" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="35316" href="Data.List.Base.html#1553" class="Function">map</a> <a id="35320" class="Symbol">(λ{</a> <a id="35324" class="Symbol">(</a><a id="35325" href="SecureCompilation.Helpers.html#35325" class="Bound">i</a> <a id="35327" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="35329" href="SecureCompilation.Helpers.html#35329" class="Bound">Aᵢ</a> <a id="35332" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="35334" href="SecureCompilation.Helpers.html#35334" class="Bound">vᵢ</a> <a id="35337" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="35339" href="SecureCompilation.Helpers.html#35339" class="Bound">xᵢ</a><a id="35341" class="Symbol">)</a> <a id="35343" class="Symbol">→</a> <a id="35345" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="35347" href="SecureCompilation.Helpers.html#35329" class="Bound">Aᵢ</a> <a id="35350" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="35354" href="SecureCompilation.Helpers.html#35334" class="Bound">vᵢ</a> <a id="35357" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="35361" href="SecureCompilation.Helpers.html#35339" class="Bound">xᵢ</a> <a id="35364" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="35366" href="SecureCompilation.Helpers.html#35329" class="Bound">Aᵢ</a> <a id="35369" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="35375" href="SecureCompilation.Helpers.html#35274" class="Function">xs</a> <a id="35378" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="35380" href="Prelude.Lists.Indexed.html#9518" class="Function">‼-map</a> <a id="35386" class="Symbol">{</a><a id="35387" class="Argument">xs</a> <a id="35390" class="Symbol">=</a> <a id="35392" href="SecureCompilation.Helpers.html#35227" class="Bound">ds</a><a id="35394" class="Symbol">}</a> <a id="35396" href="SecureCompilation.Helpers.html#35325" class="Bound">i</a> <a id="35398" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="35402" href="SecureCompilation.Helpers.html#35248" class="Bound">y</a> <a id="35404" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="35406" class="Symbol">})</a>
                  <a id="35427" class="Symbol">(</a><a id="35428" href="Prelude.Lists.Indexed.html#1568" class="Function">enumerate</a> <a id="35438" href="SecureCompilation.Helpers.html#35227" class="Bound">ds</a><a id="35440" class="Symbol">)</a>
      <a id="35448" href="SecureCompilation.Helpers.html#35448" class="Function">Γ</a>  <a id="35451" class="Symbol">=</a> <a id="35453" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="35457" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="35459" href="SecureCompilation.Helpers.html#35308" class="Function">Δ</a> <a id="35461" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="35463" href="SecureCompilation.Helpers.html#35245" class="Bound">Γ₀</a>
      <a id="35472" href="SecureCompilation.Helpers.html#35472" class="Function">Γ′</a> <a id="35475" class="Symbol">=</a> <a id="35477" href="SecureCompilation.Helpers.html#35245" class="Bound">Γ₀</a>
    <a id="35484" class="Keyword">module</a> <a id="35491" href="SecureCompilation.Helpers.html#35491" class="Module">H₁₇</a> <a id="35495" class="Symbol">(</a><a id="35496" href="SecureCompilation.Helpers.html#35496" class="Bound">R≈</a> <a id="35499" class="Symbol">:</a> <a id="35501" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="35503" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="35506" href="SecureCompilation.Helpers.html#35448" class="Function">Γ</a> <a id="35508" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="35511" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a><a id="35512" class="Symbol">)</a> <a id="35514" class="Symbol">(</a><a id="35515" href="SecureCompilation.Helpers.html#35515" class="Bound">Γ→Γ′</a> <a id="35520" class="Symbol">:</a> <a id="35522" href="SecureCompilation.Helpers.html#35448" class="Function">Γ</a> <a id="35524" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="35527" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="35529" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="35532" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="35534" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="35538" href="SecureCompilation.Helpers.html#35472" class="Function">Γ′</a> <a id="35541" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="35544" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="35546" class="Symbol">)</a> <a id="35548" class="Symbol">(</a><a id="35549" href="SecureCompilation.Helpers.html#35549" class="Bound">∃Γ≈</a> <a id="35553" class="Symbol">:</a> <a id="35555" href="Data.Product.html#1378" class="Function">∃</a> <a id="35557" class="Symbol">(</a><a id="35558" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="35561" href="SecureCompilation.Helpers.html#35472" class="Function">Γ′</a><a id="35563" class="Symbol">))</a> <a id="35566" class="Keyword">where</a>
      <a id="35578" class="Comment">-- ** name resolution</a>
      <a id="35606" class="Keyword">abstract</a>
        <a id="35623" href="SecureCompilation.Helpers.html#35623" class="Function">xs↦</a> <a id="35627" class="Symbol">:</a> <a id="35629" href="SecureCompilation.Helpers.html#35274" class="Function">xs</a> <a id="35632" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="35634" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
        <a id="35651" href="SecureCompilation.Helpers.html#35623" class="Function">xs↦</a> <a id="35655" class="Symbol">=</a> <a id="35657" href="SymbolicModel.Mappings.Base.html#823" class="Function">txout′</a> <a id="35664" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="35666" href="SecureCompilation.Helpers.html#35696" class="Function">xs⊆</a>
          <a id="35680" class="Keyword">where</a>
          <a id="35696" href="SecureCompilation.Helpers.html#35696" class="Function">xs⊆</a> <a id="35700" class="Symbol">:</a> <a id="35702" href="SecureCompilation.Helpers.html#35274" class="Function">xs</a> <a id="35705" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="35707" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="35714" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a>
          <a id="35726" href="SecureCompilation.Helpers.html#35696" class="Function">xs⊆</a> <a id="35730" class="Symbol">=</a> <a id="35732" href="Relation.Binary.Reasoning.Base.Double.html#2222" class="Function Operator">begin</a> <a id="35738" href="SecureCompilation.Helpers.html#35274" class="Function">xs</a>              <a id="35754" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="35757" href="BitML.Semantics.Configurations.Helpers.html#17967" class="Function">namesʳ-∥map-destroy</a> <a id="35777" href="SecureCompilation.Helpers.html#35227" class="Bound">ds</a> <a id="35780" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
                      <a id="35804" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="35811" href="SecureCompilation.Helpers.html#35308" class="Function">Δ</a>        <a id="35820" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="35823" href="Prelude.Lists.MapMaybe.html#9263" class="Function">mapMaybe-⊆</a> <a id="35834" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="35841" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="35843" href="BitML.Semantics.Configurations.Helpers.html#7992" class="Function">∈-collect-++⁺ˡ</a> <a id="35858" href="SecureCompilation.Helpers.html#35308" class="Function">Δ</a> <a id="35860" href="SecureCompilation.Helpers.html#35245" class="Bound">Γ₀</a> <a id="35863" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
                      <a id="35887" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="35894" href="SecureCompilation.Helpers.html#35448" class="Function">Γ</a>        <a id="35903" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="35906" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="35921" class="Symbol">_</a> <a id="35923" class="Symbol">{</a><a id="35924" href="SecureCompilation.Helpers.html#35448" class="Function">Γ</a><a id="35925" class="Symbol">}{</a><a id="35927" href="BitML.Semantics.Configurations.Types.html#1335" class="Field">cfg</a> <a id="35931" class="Symbol">(</a><a id="35932" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="35934" class="Symbol">.</a><a id="35935" href="Prelude.Traces.html#568" class="Field">end</a><a id="35938" class="Symbol">)}</a> <a id="35941" class="Symbol">(</a><a id="35942" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="35948" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="35950" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="35956" href="SecureCompilation.Helpers.html#35496" class="Bound">R≈</a><a id="35958" class="Symbol">)</a> <a id="35960" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
                      <a id="35984" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="35991" class="Symbol">(</a><a id="35992" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="35994" class="Symbol">.</a><a id="35995" href="Prelude.Traces.html#568" class="Field">end</a><a id="35998" class="Symbol">)</a> <a id="36000" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="36003" href="SymbolicModel.Collections.html#1307" class="Function">namesʳ⦅end⦆⊆</a> <a id="36016" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="36018" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
                      <a id="36042" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="36049" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a>        <a id="36058" href="Relation.Binary.Reasoning.Base.Double.html#3656" class="Function Operator">∎</a> <a id="36060" class="Keyword">where</a> <a id="36066" class="Keyword">open</a> <a id="36071" href="Data.List.Relation.Binary.Subset.Propositional.Properties.html#3760" class="Module">⊆-Reasoning</a> <a id="36083" href="BitML.BasicTypes.html#303" class="Function">Secret</a>
      <a id="36096" class="Comment">--</a>
      <a id="36105" class="Keyword">private</a>
        <a id="36121" href="SecureCompilation.Helpers.html#36121" class="Function">secrets≡</a> <a id="36130" class="Symbol">:</a> <a id="36132" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="36139" href="SecureCompilation.Helpers.html#35448" class="Function">Γ</a> <a id="36141" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="36143" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="36150" href="SecureCompilation.Helpers.html#35308" class="Function">Δ</a> <a id="36152" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="36155" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="36162" href="SecureCompilation.Helpers.html#35245" class="Bound">Γ₀</a>
        <a id="36173" href="SecureCompilation.Helpers.html#36121" class="Function">secrets≡</a> <a id="36182" class="Symbol">=</a> <a id="36184" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="36212" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="36219" href="SecureCompilation.Helpers.html#35308" class="Function">Δ</a> <a id="36221" href="SecureCompilation.Helpers.html#35245" class="Bound">Γ₀</a>

        <a id="36233" href="SecureCompilation.Helpers.html#36233" class="Function">ids≡</a> <a id="36238" class="Symbol">:</a> <a id="36240" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="36247" href="SecureCompilation.Helpers.html#35448" class="Function">Γ</a> <a id="36249" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="36251" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="36258" href="SecureCompilation.Helpers.html#35308" class="Function">Δ</a> <a id="36260" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="36263" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="36270" href="SecureCompilation.Helpers.html#35245" class="Bound">Γ₀</a>
        <a id="36281" href="SecureCompilation.Helpers.html#36233" class="Function">ids≡</a> <a id="36286" class="Symbol">=</a> <a id="36288" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="36316" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="36323" href="SecureCompilation.Helpers.html#35308" class="Function">Δ</a> <a id="36325" href="SecureCompilation.Helpers.html#35245" class="Bound">Γ₀</a>

        <a id="36337" href="SecureCompilation.Helpers.html#36337" class="Function">txout↝</a> <a id="36344" class="Symbol">:</a> <a id="36346" href="SecureCompilation.Helpers.html#35448" class="Function">Γ</a> <a id="36348" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="36351" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="36357" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="36359" href="SecureCompilation.Helpers.html#35472" class="Function">Γ′</a>
        <a id="36370" href="SecureCompilation.Helpers.html#36337" class="Function">txout↝</a> <a id="36377" href="SecureCompilation.Helpers.html#36377" class="Bound">txout′</a> <a id="36384" class="Keyword">rewrite</a> <a id="36392" href="SecureCompilation.Helpers.html#36233" class="Function">ids≡</a> <a id="36397" class="Symbol">=</a> <a id="36399" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="36408" href="SecureCompilation.Helpers.html#36377" class="Bound">txout′</a> <a id="36415" class="Symbol">(</a><a id="36416" href="Data.List.Membership.Propositional.Properties.html#4054" class="Function">∈-++⁺ʳ</a> <a id="36423" class="Symbol">_)</a>

        <a id="36435" href="SecureCompilation.Helpers.html#36435" class="Function">sechash↝</a> <a id="36444" class="Symbol">:</a> <a id="36446" href="SecureCompilation.Helpers.html#35448" class="Function">Γ</a> <a id="36448" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="36451" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="36459" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="36461" href="SecureCompilation.Helpers.html#35472" class="Function">Γ′</a>
        <a id="36472" href="SecureCompilation.Helpers.html#36435" class="Function">sechash↝</a> <a id="36481" href="SecureCompilation.Helpers.html#36481" class="Bound">sechash′</a> <a id="36490" class="Keyword">rewrite</a> <a id="36498" href="SecureCompilation.Helpers.html#36121" class="Function">secrets≡</a> <a id="36507" class="Symbol">=</a> <a id="36509" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="36518" href="SecureCompilation.Helpers.html#36481" class="Bound">sechash′</a> <a id="36527" class="Symbol">(</a><a id="36528" href="Data.List.Membership.Propositional.Properties.html#4054" class="Function">∈-++⁺ʳ</a> <a id="36535" class="Symbol">_)</a>

        <a id="36547" href="SecureCompilation.Helpers.html#36547" class="Function">κ↝</a> <a id="36550" class="Symbol">:</a> <a id="36552" href="SecureCompilation.Helpers.html#35448" class="Function">Γ</a> <a id="36554" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="36557" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="36560" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="36562" href="SecureCompilation.Helpers.html#35472" class="Function">Γ′</a>
        <a id="36573" href="SecureCompilation.Helpers.html#36547" class="Function">κ↝</a> <a id="36576" href="SecureCompilation.Helpers.html#36576" class="Bound">κ′</a> <a id="36579" class="Symbol">=</a> <a id="36581" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="36590" href="SecureCompilation.Helpers.html#36576" class="Bound">κ′</a> <a id="36593" class="Symbol">(</a><a id="36594" href="BitML.Semantics.Configurations.Helpers.html#8196" class="Function">∈-collect-++⁺ʳ</a> <a id="36609" href="SecureCompilation.Helpers.html#35308" class="Function">Δ</a> <a id="36611" href="SecureCompilation.Helpers.html#35245" class="Bound">Γ₀</a><a id="36613" class="Symbol">)</a>

        <a id="36624" href="SecureCompilation.Helpers.html#36624" class="Function">Γ″</a> <a id="36627" class="Symbol">=</a> <a id="36629" href="SecureCompilation.Helpers.html#35549" class="Bound">∃Γ≈</a> <a id="36633" class="Symbol">.</a><a id="36634" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a><a id="36639" class="Symbol">;</a> <a id="36641" href="SecureCompilation.Helpers.html#36641" class="Function">Γ≈</a> <a id="36644" class="Symbol">=</a> <a id="36646" href="SecureCompilation.Helpers.html#35549" class="Bound">∃Γ≈</a> <a id="36650" class="Symbol">.</a><a id="36651" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
        <a id="36665" href="SecureCompilation.Helpers.html#36665" class="Function">Γₜ</a> <a id="36668" href="SecureCompilation.Helpers.html#36668" class="Function">Γₜ′</a> <a id="36672" href="SecureCompilation.Helpers.html#36672" class="Function">Γₜ″</a> <a id="36676" class="Symbol">:</a> <a id="36678" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a><a id="36682" class="Symbol">;</a> <a id="36684" href="SecureCompilation.Helpers.html#36665" class="Function">Γₜ</a>  <a id="36688" class="Symbol">=</a> <a id="36690" href="SecureCompilation.Helpers.html#35448" class="Function">Γ</a> <a id="36692" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="36695" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a><a id="36696" class="Symbol">;</a> <a id="36698" href="SecureCompilation.Helpers.html#36668" class="Function">Γₜ′</a> <a id="36702" class="Symbol">=</a> <a id="36704" href="SecureCompilation.Helpers.html#35472" class="Function">Γ′</a> <a id="36707" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="36710" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="36712" class="Symbol">;</a> <a id="36714" href="SecureCompilation.Helpers.html#36672" class="Function">Γₜ″</a> <a id="36718" class="Symbol">=</a> <a id="36720" href="SecureCompilation.Helpers.html#36624" class="Function">Γ″</a> <a id="36723" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="36726" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a>
      <a id="36735" class="Comment">-- abstract</a>
      <a id="36753" href="SecureCompilation.Helpers.html#36753" class="Function">λˢ</a> <a id="36756" class="Symbol">:</a> <a id="36758" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="36760" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="36762" href="SecureCompilation.Helpers.html#36672" class="Function">Γₜ″</a>
      <a id="36772" href="SecureCompilation.Helpers.html#36753" class="Function">λˢ</a> <a id="36775" class="Symbol">=</a> <a id="36777" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="36783" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="36785" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="36787" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="36789" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a> <a id="36792" href="SecureCompilation.Helpers.html#35448" class="Function">Γ</a> <a id="36794" href="SecureCompilation.Helpers.html#35496" class="Bound">R≈</a> <a id="36797" href="SecureCompilation.Helpers.html#35472" class="Function">Γ′</a> <a id="36800" href="SecureCompilation.Helpers.html#35515" class="Bound">Γ→Γ′</a> <a id="36805" href="SecureCompilation.Helpers.html#35549" class="Bound">∃Γ≈</a> <a id="36809" href="SecureCompilation.Helpers.html#36337" class="Function">txout↝</a> <a id="36816" href="SecureCompilation.Helpers.html#36435" class="Function">sechash↝</a> <a id="36825" href="SecureCompilation.Helpers.html#36547" class="Function">κ↝</a>
      <a id="36834" class="Keyword">private</a>
        <a id="36850" href="SecureCompilation.Helpers.html#36850" class="Function">𝕒</a>  <a id="36853" class="Symbol">=</a> <a id="36855" href="SecureCompilation.Helpers.html#36753" class="Function">λˢ</a> <a id="36858" class="Symbol">.</a><a id="36859" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
        <a id="36873" href="SecureCompilation.Helpers.html#36873" class="Function">R′</a> <a id="36876" class="Symbol">=</a> <a id="36878" href="SecureCompilation.Helpers.html#36672" class="Function">Γₜ″</a> <a id="36882" href="SymbolicModel.Run.Base.html#2558" class="Function Operator">∷</a> <a id="36884" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="36886" href="SymbolicModel.Run.Base.html#2558" class="Function Operator">⊣</a> <a id="36888" href="SecureCompilation.Helpers.html#36850" class="Function">𝕒</a>

        <a id="36899" href="SecureCompilation.Helpers.html#36899" class="Function">R≈′</a> <a id="36903" class="Symbol">:</a> <a id="36905" href="SecureCompilation.Helpers.html#36873" class="Function">R′</a> <a id="36908" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="36911" href="SecureCompilation.Helpers.html#35472" class="Function">Γ′</a> <a id="36914" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="36917" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a>
        <a id="36928" href="SecureCompilation.Helpers.html#36899" class="Function">R≈′</a> <a id="36932" class="Symbol">=</a> <a id="36934" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="36939" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="36941" href="SecureCompilation.Helpers.html#36641" class="Function">Γ≈</a>

        <a id="36953" href="SecureCompilation.Helpers.html#36953" class="Function">𝕣′</a> <a id="36956" class="Symbol">:</a> <a id="36958" href="SymbolicModel.Mappings.Base.html#743" class="Function">ℝ</a> <a id="36960" href="SecureCompilation.Helpers.html#36873" class="Function">R′</a>
        <a id="36971" href="SecureCompilation.Helpers.html#36953" class="Function">𝕣′</a> <a id="36974" class="Symbol">=</a> <a id="36976" href="SymbolicModel.Mappings.Properties.html#4538" class="Function">ℝ-step</a> <a id="36983" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="36985" href="SecureCompilation.Helpers.html#36753" class="Function">λˢ</a>
      <a id="36994" class="Keyword">abstract</a>
        <a id="37011" href="SecureCompilation.Helpers.html#37011" class="Function">value-preserving⇒</a> <a id="37029" class="Symbol">:</a>
          <a id="37041" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="37058" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a>
          <a id="37070" href="Prelude.InferenceRules.html#14163" class="Function Operator">───────────────────</a>
          <a id="37100" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="37117" href="SecureCompilation.Helpers.html#36953" class="Function">𝕣′</a>
        <a id="37128" href="SecureCompilation.Helpers.html#37011" class="Function">value-preserving⇒</a> <a id="37146" href="SecureCompilation.Helpers.html#37146" class="Bound">pv-txout</a> <a id="37155" class="Symbol">=</a> <a id="37157" href="SecureCompilation.Helpers.html#37996" class="Function">pv-txout′</a>
          <a id="37177" class="Keyword">where</a>
            <a id="37195" class="Keyword">open</a> <a id="37200" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

            <a id="37225" href="SecureCompilation.Helpers.html#37225" class="Function">txoutΓ</a> <a id="37232" class="Symbol">:</a> <a id="37234" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="37240" href="SecureCompilation.Helpers.html#35448" class="Function">Γ</a>
            <a id="37254" href="SecureCompilation.Helpers.html#37225" class="Function">txoutΓ</a> <a id="37261" class="Symbol">=</a> <a id="37263" href="SymbolicModel.Mappings.Properties.html#671" class="Function">Txout≈</a> <a id="37270" class="Symbol">{</a><a id="37271" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="37273" href="SymbolicModel.Accessors.html#597" class="Function Operator">∙cfg</a><a id="37277" class="Symbol">}{</a><a id="37279" href="SecureCompilation.Helpers.html#35448" class="Function">Γ</a><a id="37280" class="Symbol">}</a> <a id="37282" class="Symbol">(</a><a id="37283" href="SecureCompilation.Helpers.html#35496" class="Bound">R≈</a> <a id="37286" class="Symbol">.</a><a id="37287" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="37292" class="Symbol">)</a> <a id="37294" class="Symbol">(</a><a id="37295" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="37297" href="SymbolicModel.Mappings.Properties.html#12758" class="Function Operator">∙txoutEnd_</a><a id="37307" class="Symbol">)</a>

            <a id="37322" href="SecureCompilation.Helpers.html#37322" class="Function">pv-txoutΓ</a> <a id="37332" class="Symbol">:</a> <a id="37334" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="37350" class="Symbol">{</a><a id="37351" href="SecureCompilation.Helpers.html#35448" class="Function">Γ</a><a id="37352" class="Symbol">}</a> <a id="37354" href="SecureCompilation.Helpers.html#37225" class="Function">txoutΓ</a>
            <a id="37373" href="SecureCompilation.Helpers.html#37322" class="Function">pv-txoutΓ</a> <a id="37383" class="Symbol">=</a> <a id="37385" href="SymbolicModel.ValuePreservation.html#2568" class="Function">ValuePreserving-Txout≈</a> <a id="37408" class="Symbol">{</a><a id="37409" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="37411" href="SymbolicModel.Accessors.html#597" class="Function Operator">∙cfg</a><a id="37415" class="Symbol">}{</a><a id="37417" href="SecureCompilation.Helpers.html#35448" class="Function">Γ</a><a id="37418" class="Symbol">}</a> <a id="37420" class="Symbol">(</a><a id="37421" href="SecureCompilation.Helpers.html#35496" class="Bound">R≈</a> <a id="37424" class="Symbol">.</a><a id="37425" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="37430" class="Symbol">)</a> <a id="37432" class="Symbol">(</a><a id="37433" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="37435" href="SymbolicModel.Mappings.Properties.html#12758" class="Function Operator">∙txoutEnd_</a><a id="37445" class="Symbol">)</a> <a id="37447" href="SecureCompilation.Helpers.html#37146" class="Bound">pv-txout</a>

            <a id="37469" class="Keyword">postulate</a> <a id="37479" href="SecureCompilation.Helpers.html#37479" class="Postulate">pv↝</a> <a id="37483" class="Symbol">:</a> <a id="37485" href="SymbolicModel.ValuePreservation.html#3292" class="Function">ValuePreserving↝</a> <a id="37502" class="Symbol">{</a><a id="37503" href="SecureCompilation.Helpers.html#35448" class="Function">Γ</a><a id="37504" class="Symbol">}{</a><a id="37506" href="SecureCompilation.Helpers.html#35472" class="Function">Γ′</a><a id="37508" class="Symbol">}</a> <a id="37510" href="SecureCompilation.Helpers.html#36337" class="Function">txout↝</a>
            <a id="37529" class="Comment">-- pv↝ txoutΓ pv-txoutΓ {x} x∈</a>
            <a id="37572" class="Comment">--   = ?</a>

            <a id="37594" href="SecureCompilation.Helpers.html#37594" class="Function">txoutΓ′</a> <a id="37602" class="Symbol">:</a> <a id="37604" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="37610" href="SecureCompilation.Helpers.html#35472" class="Function">Γ′</a>
            <a id="37625" href="SecureCompilation.Helpers.html#37594" class="Function">txoutΓ′</a> <a id="37633" class="Symbol">=</a> <a id="37635" href="SecureCompilation.Helpers.html#36337" class="Function">txout↝</a> <a id="37642" href="SecureCompilation.Helpers.html#37225" class="Function">txoutΓ</a>

            <a id="37662" href="SecureCompilation.Helpers.html#37662" class="Function">pv-txoutΓ′</a> <a id="37673" class="Symbol">:</a> <a id="37675" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="37691" class="Symbol">{</a><a id="37692" href="SecureCompilation.Helpers.html#35472" class="Function">Γ′</a><a id="37694" class="Symbol">}</a> <a id="37696" href="SecureCompilation.Helpers.html#37594" class="Function">txoutΓ′</a>
            <a id="37716" href="SecureCompilation.Helpers.html#37662" class="Function">pv-txoutΓ′</a> <a id="37727" class="Symbol">=</a>  <a id="37730" href="SecureCompilation.Helpers.html#37479" class="Postulate">pv↝</a> <a id="37734" href="SecureCompilation.Helpers.html#37225" class="Function">txoutΓ</a> <a id="37741" href="SecureCompilation.Helpers.html#37322" class="Function">pv-txoutΓ</a>

            <a id="37764" href="SecureCompilation.Helpers.html#37764" class="Function">txoutΓ″</a> <a id="37772" class="Symbol">:</a> <a id="37774" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="37780" href="SecureCompilation.Helpers.html#36624" class="Function">Γ″</a>
            <a id="37795" href="SecureCompilation.Helpers.html#37764" class="Function">txoutΓ″</a> <a id="37803" class="Symbol">=</a> <a id="37805" href="SymbolicModel.Mappings.Properties.html#671" class="Function">Txout≈</a> <a id="37812" class="Symbol">{</a><a id="37813" href="SecureCompilation.Helpers.html#35472" class="Function">Γ′</a><a id="37815" class="Symbol">}{</a><a id="37817" href="SecureCompilation.Helpers.html#36624" class="Function">Γ″</a><a id="37819" class="Symbol">}</a> <a id="37821" class="Symbol">(</a><a id="37822" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="37828" href="SecureCompilation.Helpers.html#36641" class="Function">Γ≈</a><a id="37830" class="Symbol">)</a> <a id="37832" href="SecureCompilation.Helpers.html#37594" class="Function">txoutΓ′</a>

            <a id="37853" href="SecureCompilation.Helpers.html#37853" class="Function">pv-txoutΓ″</a> <a id="37864" class="Symbol">:</a> <a id="37866" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="37882" class="Symbol">{</a><a id="37883" href="SecureCompilation.Helpers.html#36624" class="Function">Γ″</a><a id="37885" class="Symbol">}</a> <a id="37887" href="SecureCompilation.Helpers.html#37764" class="Function">txoutΓ″</a>
            <a id="37907" href="SecureCompilation.Helpers.html#37853" class="Function">pv-txoutΓ″</a> <a id="37918" class="Symbol">=</a> <a id="37920" href="SymbolicModel.ValuePreservation.html#2568" class="Function">ValuePreserving-Txout≈</a> <a id="37943" class="Symbol">{</a><a id="37944" href="SecureCompilation.Helpers.html#35472" class="Function">Γ′</a><a id="37946" class="Symbol">}</a> <a id="37948" class="Symbol">{</a><a id="37949" href="SecureCompilation.Helpers.html#36624" class="Function">Γ″</a><a id="37951" class="Symbol">}</a> <a id="37953" class="Symbol">(</a><a id="37954" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="37960" href="SecureCompilation.Helpers.html#36641" class="Function">Γ≈</a><a id="37962" class="Symbol">)</a> <a id="37964" href="SecureCompilation.Helpers.html#37594" class="Function">txoutΓ′</a> <a id="37972" href="SecureCompilation.Helpers.html#37662" class="Function">pv-txoutΓ′</a>

            <a id="37996" href="SecureCompilation.Helpers.html#37996" class="Function">pv-txout′</a> <a id="38006" class="Symbol">:</a> <a id="38008" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="38025" href="SecureCompilation.Helpers.html#36953" class="Function">𝕣′</a>
            <a id="38040" href="SecureCompilation.Helpers.html#37996" class="Function">pv-txout′</a> <a id="38050" href="SecureCompilation.Helpers.html#38050" class="Bound">x∈</a> <a id="38053" class="Symbol">=</a>
              <a id="38069" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
                <a id="38091" class="Symbol">(</a><a id="38092" href="SecureCompilation.Helpers.html#36953" class="Function">𝕣′</a> <a id="38095" href="SymbolicModel.Mappings.Properties.html#12758" class="Function Operator">∙txoutEnd</a> <a id="38105" href="SecureCompilation.Helpers.html#38050" class="Bound">x∈</a><a id="38107" class="Symbol">)</a> <a id="38109" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
              <a id="38130" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="38133" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="38138" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">_∙value</a>
                    <a id="38166" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="38168" href="SymbolicModel.Mappings.Properties.html#9729" class="Function">txout∷∘namesʳ⦅end⦆⊆</a> <a id="38188" class="Symbol">{</a><a id="38189" class="Argument">R</a> <a id="38191" class="Symbol">=</a> <a id="38193" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a><a id="38194" class="Symbol">}</a> <a id="38196" href="SecureCompilation.Helpers.html#35515" class="Bound">Γ→Γ′</a> <a id="38201" class="Symbol">(</a><a id="38202" href="SecureCompilation.Helpers.html#36899" class="Function">R≈′</a> <a id="38206" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="38208" href="SecureCompilation.Helpers.html#35496" class="Bound">R≈</a><a id="38210" class="Symbol">)</a> <a id="38212" href="SecureCompilation.Helpers.html#37594" class="Function">txoutΓ′</a> <a id="38220" href="SymbolicModel.Mappings.Base.html#823" class="Function">txout′</a> <a id="38227" class="Symbol">_</a> <a id="38229" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="38247" class="Symbol">(</a><a id="38248" href="SecureCompilation.Helpers.html#37764" class="Function">txoutΓ″</a> <a id="38256" href="SecureCompilation.Helpers.html#38050" class="Bound">x∈</a><a id="38258" class="Symbol">)</a> <a id="38260" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
              <a id="38281" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="38284" href="SecureCompilation.Helpers.html#37853" class="Function">pv-txoutΓ″</a> <a id="38295" class="Symbol">_</a> <a id="38297" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="38315" class="Symbol">(</a><a id="38316" href="SecureCompilation.Helpers.html#36624" class="Function">Γ″</a> <a id="38319" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="38321" href="SecureCompilation.Helpers.html#38050" class="Bound">x∈</a><a id="38323" class="Symbol">)</a> <a id="38325" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
              <a id="38346" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

  <a id="38351" class="Comment">-- [18]</a>
  <a id="38361" class="Keyword">module</a> <a id="38368" href="SecureCompilation.Helpers.html#38368" class="Module">_</a> <a id="38370" href="SecureCompilation.Helpers.html#38370" class="Bound">Γ</a> <a id="38372" class="Symbol">(</a><a id="38373" href="SecureCompilation.Helpers.html#38373" class="Bound">R≈</a> <a id="38376" class="Symbol">:</a> <a id="38378" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="38380" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="38383" href="SecureCompilation.Helpers.html#38370" class="Bound">Γ</a> <a id="38385" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="38388" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a><a id="38389" class="Symbol">)</a> <a id="38391" class="Keyword">where</a>
    <a id="38401" class="Keyword">private</a> <a id="38409" href="SecureCompilation.Helpers.html#38409" class="Function">Γ′</a> <a id="38412" class="Symbol">=</a> <a id="38414" href="SecureCompilation.Helpers.html#38370" class="Bound">Γ</a>
    <a id="38420" class="Keyword">module</a> <a id="38427" href="SecureCompilation.Helpers.html#38427" class="Module">H₁₈</a> <a id="38431" class="Symbol">(</a><a id="38432" href="SecureCompilation.Helpers.html#38432" class="Bound">Γ→Γ′</a> <a id="38437" class="Symbol">:</a> <a id="38439" href="SecureCompilation.Helpers.html#38370" class="Bound">Γ</a> <a id="38441" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="38444" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="38446" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="38449" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="38451" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="38455" href="SecureCompilation.Helpers.html#38409" class="Function">Γ′</a> <a id="38458" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="38461" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="38463" class="Symbol">)</a> <a id="38465" class="Symbol">(</a><a id="38466" href="SecureCompilation.Helpers.html#38466" class="Bound">∃Γ≈</a> <a id="38470" class="Symbol">:</a> <a id="38472" href="Data.Product.html#1378" class="Function">∃</a> <a id="38474" class="Symbol">(</a><a id="38475" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="38478" href="SecureCompilation.Helpers.html#38409" class="Function">Γ′</a><a id="38480" class="Symbol">))</a> <a id="38483" class="Keyword">where</a>
      <a id="38495" class="Keyword">private</a>
        <a id="38511" href="SecureCompilation.Helpers.html#38511" class="Function">Γ″</a> <a id="38514" class="Symbol">=</a> <a id="38516" href="SecureCompilation.Helpers.html#38466" class="Bound">∃Γ≈</a> <a id="38520" class="Symbol">.</a><a id="38521" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a><a id="38526" class="Symbol">;</a> <a id="38528" href="SecureCompilation.Helpers.html#38528" class="Function">Γ≈</a> <a id="38531" class="Symbol">=</a> <a id="38533" href="SecureCompilation.Helpers.html#38466" class="Bound">∃Γ≈</a> <a id="38537" class="Symbol">.</a><a id="38538" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
        <a id="38552" href="SecureCompilation.Helpers.html#38552" class="Function">Γₜ</a> <a id="38555" href="SecureCompilation.Helpers.html#38555" class="Function">Γₜ′</a> <a id="38559" href="SecureCompilation.Helpers.html#38559" class="Function">Γₜ″</a> <a id="38563" class="Symbol">:</a> <a id="38565" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a><a id="38569" class="Symbol">;</a> <a id="38571" href="SecureCompilation.Helpers.html#38552" class="Function">Γₜ</a>  <a id="38575" class="Symbol">=</a> <a id="38577" href="SecureCompilation.Helpers.html#38370" class="Bound">Γ</a> <a id="38579" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="38582" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a><a id="38583" class="Symbol">;</a> <a id="38585" href="SecureCompilation.Helpers.html#38555" class="Function">Γₜ′</a> <a id="38589" class="Symbol">=</a> <a id="38591" href="SecureCompilation.Helpers.html#38409" class="Function">Γ′</a> <a id="38594" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="38597" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a><a id="38599" class="Symbol">;</a> <a id="38601" href="SecureCompilation.Helpers.html#38559" class="Function">Γₜ″</a> <a id="38605" class="Symbol">=</a> <a id="38607" href="SecureCompilation.Helpers.html#38511" class="Function">Γ″</a> <a id="38610" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="38613" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a>
      <a id="38622" class="Comment">-- abstract</a>
      <a id="38640" href="SecureCompilation.Helpers.html#38640" class="Function">λˢ</a> <a id="38643" class="Symbol">:</a> <a id="38645" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="38647" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="38649" href="SecureCompilation.Helpers.html#38559" class="Function">Γₜ″</a>
      <a id="38659" href="SecureCompilation.Helpers.html#38640" class="Function">λˢ</a> <a id="38662" class="Symbol">=</a> <a id="38664" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="38670" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="38672" href="SecureCompilation.Helpers.html#2913" class="Bound">t</a> <a id="38674" href="SecureCompilation.Helpers.html#2915" class="Bound">α</a> <a id="38676" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a> <a id="38679" href="SecureCompilation.Helpers.html#38370" class="Bound">Γ</a> <a id="38681" href="SecureCompilation.Helpers.html#38373" class="Bound">R≈</a> <a id="38684" href="SecureCompilation.Helpers.html#38409" class="Function">Γ′</a> <a id="38687" href="SecureCompilation.Helpers.html#38432" class="Bound">Γ→Γ′</a> <a id="38692" href="SecureCompilation.Helpers.html#38466" class="Bound">∃Γ≈</a> <a id="38696" href="Function.Base.html#624" class="Function">id</a> <a id="38699" href="Function.Base.html#624" class="Function">id</a> <a id="38702" href="Function.Base.html#624" class="Function">id</a>
      <a id="38711" class="Keyword">private</a>
        <a id="38727" href="SecureCompilation.Helpers.html#38727" class="Function">𝕒</a>  <a id="38730" class="Symbol">=</a> <a id="38732" href="SecureCompilation.Helpers.html#38640" class="Function">λˢ</a> <a id="38735" class="Symbol">.</a><a id="38736" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
        <a id="38750" href="SecureCompilation.Helpers.html#38750" class="Function">R′</a> <a id="38753" class="Symbol">=</a> <a id="38755" href="SecureCompilation.Helpers.html#38559" class="Function">Γₜ″</a> <a id="38759" href="SymbolicModel.Run.Base.html#2558" class="Function Operator">∷</a> <a id="38761" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="38763" href="SymbolicModel.Run.Base.html#2558" class="Function Operator">⊣</a> <a id="38765" href="SecureCompilation.Helpers.html#38727" class="Function">𝕒</a>

        <a id="38776" href="SecureCompilation.Helpers.html#38776" class="Function">R≈′</a> <a id="38780" class="Symbol">:</a> <a id="38782" href="SecureCompilation.Helpers.html#38750" class="Function">R′</a> <a id="38785" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="38788" href="SecureCompilation.Helpers.html#38409" class="Function">Γ′</a> <a id="38791" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="38794" href="SecureCompilation.Helpers.html#2917" class="Bound">t′</a>
        <a id="38805" href="SecureCompilation.Helpers.html#38776" class="Function">R≈′</a> <a id="38809" class="Symbol">=</a> <a id="38811" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="38816" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="38818" href="SecureCompilation.Helpers.html#38528" class="Function">Γ≈</a>

        <a id="38830" href="SecureCompilation.Helpers.html#38830" class="Function">𝕣′</a> <a id="38833" class="Symbol">:</a> <a id="38835" href="SymbolicModel.Mappings.Base.html#743" class="Function">ℝ</a> <a id="38837" href="SecureCompilation.Helpers.html#38750" class="Function">R′</a>
        <a id="38848" href="SecureCompilation.Helpers.html#38830" class="Function">𝕣′</a> <a id="38851" class="Symbol">=</a> <a id="38853" href="SymbolicModel.Mappings.Properties.html#4538" class="Function">ℝ-step</a> <a id="38860" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="38862" href="SecureCompilation.Helpers.html#38640" class="Function">λˢ</a>
      <a id="38871" class="Keyword">abstract</a>
        <a id="38888" href="SecureCompilation.Helpers.html#38888" class="Function">value-preserving⇒</a> <a id="38906" class="Symbol">:</a>
          <a id="38918" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="38935" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a>
          <a id="38947" href="Prelude.InferenceRules.html#14163" class="Function Operator">───────────────────</a>
          <a id="38977" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="38994" href="SecureCompilation.Helpers.html#38830" class="Function">𝕣′</a>
        <a id="39005" href="SecureCompilation.Helpers.html#38888" class="Function">value-preserving⇒</a> <a id="39023" href="SecureCompilation.Helpers.html#39023" class="Bound">pv-txout</a> <a id="39032" class="Symbol">=</a> <a id="39034" href="SecureCompilation.Helpers.html#39729" class="Function">pv-txout′</a>
          <a id="39054" class="Keyword">where</a>
            <a id="39072" class="Keyword">open</a> <a id="39077" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

            <a id="39102" href="SecureCompilation.Helpers.html#39102" class="Function">txoutΓ</a> <a id="39109" class="Symbol">:</a> <a id="39111" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="39117" href="SecureCompilation.Helpers.html#38370" class="Bound">Γ</a>
            <a id="39131" href="SecureCompilation.Helpers.html#39102" class="Function">txoutΓ</a> <a id="39138" class="Symbol">=</a> <a id="39140" href="SymbolicModel.Mappings.Properties.html#671" class="Function">Txout≈</a> <a id="39147" class="Symbol">{</a><a id="39148" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="39150" href="SymbolicModel.Accessors.html#597" class="Function Operator">∙cfg</a><a id="39154" class="Symbol">}{</a><a id="39156" href="SecureCompilation.Helpers.html#38370" class="Bound">Γ</a><a id="39157" class="Symbol">}</a> <a id="39159" class="Symbol">(</a><a id="39160" href="SecureCompilation.Helpers.html#38373" class="Bound">R≈</a> <a id="39163" class="Symbol">.</a><a id="39164" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="39169" class="Symbol">)</a> <a id="39171" class="Symbol">(</a><a id="39172" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="39174" href="SymbolicModel.Mappings.Properties.html#12758" class="Function Operator">∙txoutEnd_</a><a id="39184" class="Symbol">)</a>

            <a id="39199" href="SecureCompilation.Helpers.html#39199" class="Function">pv-txoutΓ</a> <a id="39209" class="Symbol">:</a> <a id="39211" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="39227" class="Symbol">{</a><a id="39228" href="SecureCompilation.Helpers.html#38370" class="Bound">Γ</a><a id="39229" class="Symbol">}</a> <a id="39231" href="SecureCompilation.Helpers.html#39102" class="Function">txoutΓ</a>
            <a id="39250" href="SecureCompilation.Helpers.html#39199" class="Function">pv-txoutΓ</a> <a id="39260" class="Symbol">=</a> <a id="39262" href="SymbolicModel.ValuePreservation.html#2568" class="Function">ValuePreserving-Txout≈</a> <a id="39285" class="Symbol">{</a><a id="39286" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a> <a id="39288" href="SymbolicModel.Accessors.html#597" class="Function Operator">∙cfg</a><a id="39292" class="Symbol">}{</a><a id="39294" href="SecureCompilation.Helpers.html#38370" class="Bound">Γ</a><a id="39295" class="Symbol">}</a> <a id="39297" class="Symbol">(</a><a id="39298" href="SecureCompilation.Helpers.html#38373" class="Bound">R≈</a> <a id="39301" class="Symbol">.</a><a id="39302" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="39307" class="Symbol">)</a> <a id="39309" class="Symbol">(</a><a id="39310" href="SecureCompilation.Helpers.html#2904" class="Bound">𝕣</a> <a id="39312" href="SymbolicModel.Mappings.Properties.html#12758" class="Function Operator">∙txoutEnd_</a><a id="39322" class="Symbol">)</a> <a id="39324" href="SecureCompilation.Helpers.html#39023" class="Bound">pv-txout</a>

            <a id="39346" href="SecureCompilation.Helpers.html#39346" class="Function">txoutΓ′</a> <a id="39354" class="Symbol">:</a> <a id="39356" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="39362" href="SecureCompilation.Helpers.html#38409" class="Function">Γ′</a>
            <a id="39377" href="SecureCompilation.Helpers.html#39346" class="Function">txoutΓ′</a> <a id="39385" class="Symbol">=</a> <a id="39387" href="SecureCompilation.Helpers.html#39102" class="Function">txoutΓ</a>

            <a id="39407" href="SecureCompilation.Helpers.html#39407" class="Function">pv-txoutΓ′</a> <a id="39418" class="Symbol">:</a> <a id="39420" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="39436" class="Symbol">{</a><a id="39437" href="SecureCompilation.Helpers.html#38409" class="Function">Γ′</a><a id="39439" class="Symbol">}</a> <a id="39441" href="SecureCompilation.Helpers.html#39346" class="Function">txoutΓ′</a>
            <a id="39461" href="SecureCompilation.Helpers.html#39407" class="Function">pv-txoutΓ′</a> <a id="39472" class="Symbol">=</a> <a id="39474" href="SecureCompilation.Helpers.html#39199" class="Function">pv-txoutΓ</a>

            <a id="39497" href="SecureCompilation.Helpers.html#39497" class="Function">txoutΓ″</a> <a id="39505" class="Symbol">:</a> <a id="39507" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="39513" href="SecureCompilation.Helpers.html#38511" class="Function">Γ″</a>
            <a id="39528" href="SecureCompilation.Helpers.html#39497" class="Function">txoutΓ″</a> <a id="39536" class="Symbol">=</a> <a id="39538" href="SymbolicModel.Mappings.Properties.html#671" class="Function">Txout≈</a> <a id="39545" class="Symbol">{</a><a id="39546" href="SecureCompilation.Helpers.html#38409" class="Function">Γ′</a><a id="39548" class="Symbol">}{</a><a id="39550" href="SecureCompilation.Helpers.html#38511" class="Function">Γ″</a><a id="39552" class="Symbol">}</a> <a id="39554" class="Symbol">(</a><a id="39555" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="39561" href="SecureCompilation.Helpers.html#38528" class="Function">Γ≈</a><a id="39563" class="Symbol">)</a> <a id="39565" href="SecureCompilation.Helpers.html#39346" class="Function">txoutΓ′</a>

            <a id="39586" href="SecureCompilation.Helpers.html#39586" class="Function">pv-txoutΓ″</a> <a id="39597" class="Symbol">:</a> <a id="39599" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="39615" class="Symbol">{</a><a id="39616" href="SecureCompilation.Helpers.html#38511" class="Function">Γ″</a><a id="39618" class="Symbol">}</a> <a id="39620" href="SecureCompilation.Helpers.html#39497" class="Function">txoutΓ″</a>
            <a id="39640" href="SecureCompilation.Helpers.html#39586" class="Function">pv-txoutΓ″</a> <a id="39651" class="Symbol">=</a> <a id="39653" href="SymbolicModel.ValuePreservation.html#2568" class="Function">ValuePreserving-Txout≈</a> <a id="39676" class="Symbol">{</a><a id="39677" href="SecureCompilation.Helpers.html#38409" class="Function">Γ′</a><a id="39679" class="Symbol">}</a> <a id="39681" class="Symbol">{</a><a id="39682" href="SecureCompilation.Helpers.html#38511" class="Function">Γ″</a><a id="39684" class="Symbol">}</a> <a id="39686" class="Symbol">(</a><a id="39687" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="39693" href="SecureCompilation.Helpers.html#38528" class="Function">Γ≈</a><a id="39695" class="Symbol">)</a> <a id="39697" href="SecureCompilation.Helpers.html#39346" class="Function">txoutΓ′</a> <a id="39705" href="SecureCompilation.Helpers.html#39407" class="Function">pv-txoutΓ′</a>

            <a id="39729" href="SecureCompilation.Helpers.html#39729" class="Function">pv-txout′</a> <a id="39739" class="Symbol">:</a> <a id="39741" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="39758" href="SecureCompilation.Helpers.html#38830" class="Function">𝕣′</a>
            <a id="39773" href="SecureCompilation.Helpers.html#39729" class="Function">pv-txout′</a> <a id="39783" href="SecureCompilation.Helpers.html#39783" class="Bound">x∈</a> <a id="39786" class="Symbol">=</a>
              <a id="39802" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
                <a id="39824" class="Symbol">(</a><a id="39825" href="SecureCompilation.Helpers.html#38830" class="Function">𝕣′</a> <a id="39828" href="SymbolicModel.Mappings.Properties.html#12758" class="Function Operator">∙txoutEnd</a> <a id="39838" href="SecureCompilation.Helpers.html#39783" class="Bound">x∈</a><a id="39840" class="Symbol">)</a> <a id="39842" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
              <a id="39863" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="39866" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="39871" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">_∙value</a>
                    <a id="39899" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="39901" href="SymbolicModel.Mappings.Properties.html#9729" class="Function">txout∷∘namesʳ⦅end⦆⊆</a> <a id="39921" class="Symbol">{</a><a id="39922" class="Argument">R</a> <a id="39924" class="Symbol">=</a> <a id="39926" href="SecureCompilation.Helpers.html#2900" class="Bound">R</a><a id="39927" class="Symbol">}</a> <a id="39929" href="SecureCompilation.Helpers.html#38432" class="Bound">Γ→Γ′</a> <a id="39934" class="Symbol">(</a><a id="39935" href="SecureCompilation.Helpers.html#38776" class="Function">R≈′</a> <a id="39939" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="39941" href="SecureCompilation.Helpers.html#38373" class="Bound">R≈</a><a id="39943" class="Symbol">)</a> <a id="39945" href="SecureCompilation.Helpers.html#39346" class="Function">txoutΓ′</a> <a id="39953" href="SymbolicModel.Mappings.Base.html#823" class="Function">txout′</a> <a id="39960" class="Symbol">_</a> <a id="39962" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="39980" class="Symbol">(</a><a id="39981" href="SecureCompilation.Helpers.html#39497" class="Function">txoutΓ″</a> <a id="39989" href="SecureCompilation.Helpers.html#39783" class="Bound">x∈</a><a id="39991" class="Symbol">)</a> <a id="39993" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
              <a id="40014" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="40017" href="SecureCompilation.Helpers.html#39586" class="Function">pv-txoutΓ″</a> <a id="40028" class="Symbol">_</a> <a id="40030" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="40048" class="Symbol">(</a><a id="40049" href="SecureCompilation.Helpers.html#38511" class="Function">Γ″</a> <a id="40052" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="40054" href="SecureCompilation.Helpers.html#39783" class="Bound">x∈</a><a id="40056" class="Symbol">)</a> <a id="40058" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
              <a id="40079" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>
</pre></body></html>