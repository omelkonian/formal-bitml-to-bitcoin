<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>SecureCompilation.Helpers</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/formal-bitml-to-bitcoin/tree/master/SecureCompilation/Helpers.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Comment">-- {-# OPTIONS --auto-inline #-}</a>
<a id="34" class="Keyword">open</a> <a id="39" class="Keyword">import</a> <a id="46" href="Prelude.Init.html" class="Module">Prelude.Init</a> <a id="59" class="Keyword">hiding</a> <a id="66" class="Symbol">(</a><a id="67" href="Data.Bool.Base.html#1460" class="Function">T</a><a id="68" class="Symbol">)</a>
<a id="70" class="Keyword">open</a> <a id="75" href="Prelude.Init.html#7254" class="Module">L.Mem</a> <a id="81" class="Keyword">using</a> <a id="87" class="Symbol">(</a><a id="88" href="Data.List.Membership.Propositional.Properties.html#3965" class="Function">∈-++⁺ˡ</a><a id="94" class="Symbol">;</a> <a id="96" href="Data.List.Membership.Propositional.Properties.html#4054" class="Function">∈-++⁺ʳ</a><a id="102" class="Symbol">)</a>
<a id="104" class="Keyword">open</a> <a id="109" class="Keyword">import</a> <a id="116" href="Prelude.Lists.html" class="Module">Prelude.Lists</a>
<a id="130" class="Keyword">open</a> <a id="135" class="Keyword">import</a> <a id="142" href="Prelude.Lists.Collections.html" class="Module">Prelude.Lists.Collections</a>
<a id="168" class="Keyword">open</a> <a id="173" class="Keyword">import</a> <a id="180" href="Prelude.Lists.Dec.html" class="Module">Prelude.Lists.Dec</a>
<a id="198" class="Keyword">open</a> <a id="203" class="Keyword">import</a> <a id="210" href="Prelude.Membership.html" class="Module">Prelude.Membership</a>
<a id="229" class="Keyword">open</a> <a id="234" class="Keyword">import</a> <a id="241" href="Prelude.Null.html" class="Module">Prelude.Null</a>
<a id="254" class="Keyword">open</a> <a id="259" class="Keyword">import</a> <a id="266" href="Prelude.Ord.html" class="Module">Prelude.Ord</a>
<a id="278" class="Keyword">open</a> <a id="283" class="Keyword">import</a> <a id="290" href="Prelude.Setoid.html" class="Module">Prelude.Setoid</a>
<a id="305" class="Keyword">open</a> <a id="310" class="Keyword">import</a> <a id="317" href="Prelude.General.html" class="Module">Prelude.General</a>
<a id="333" class="Keyword">open</a> <a id="338" class="Keyword">import</a> <a id="345" href="Prelude.InferenceRules.html" class="Module">Prelude.InferenceRules</a>
<a id="368" class="Keyword">open</a> <a id="373" class="Keyword">import</a> <a id="380" href="Prelude.Decidable.html" class="Module">Prelude.Decidable</a>
<a id="398" class="Keyword">open</a> <a id="403" class="Keyword">import</a> <a id="410" href="Prelude.Traces.html" class="Module">Prelude.Traces</a>
<a id="425" class="Keyword">open</a> <a id="430" class="Keyword">import</a> <a id="437" href="Prelude.Nary.html" class="Module">Prelude.Nary</a>
<a id="450" class="Keyword">open</a> <a id="455" class="Keyword">import</a> <a id="462" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>

<a id="477" class="Keyword">open</a> <a id="482" class="Keyword">import</a> <a id="489" href="Bitcoin.BasicTypes.html" class="Module">Bitcoin.BasicTypes</a> <a id="508" class="Keyword">using</a> <a id="514" class="Symbol">(</a><a id="515" href="Bitcoin.BasicTypes.html#351" class="Function">HashId</a><a id="521" class="Symbol">)</a>
<a id="523" class="Keyword">open</a> <a id="528" class="Keyword">import</a> <a id="535" href="Prelude.Serializable.html" class="Module">Prelude.Serializable</a> <a id="556" href="Bitcoin.BasicTypes.html#351" class="Function">HashId</a>
<a id="563" class="Keyword">open</a> <a id="568" class="Keyword">import</a> <a id="575" href="Bitcoin.Crypto.html" class="Module">Bitcoin.Crypto</a>

<a id="591" class="Keyword">open</a> <a id="596" class="Keyword">import</a> <a id="603" href="SecureCompilation.ModuleParameters.html" class="Module">SecureCompilation.ModuleParameters</a> <a id="638" class="Keyword">using</a> <a id="644" class="Symbol">(</a><a id="645" href="SecureCompilation.ModuleParameters.html#209" class="Record">⋯</a><a id="646" class="Symbol">)</a>

<a id="649" class="Keyword">module</a> <a id="656" href="SecureCompilation.Helpers.html" class="Module">SecureCompilation.Helpers</a> <a id="682" class="Symbol">(</a><a id="683" href="SecureCompilation.Helpers.html#683" class="Bound">⋯</a> <a id="685" class="Symbol">:</a> <a id="687" href="SecureCompilation.ModuleParameters.html#209" class="Record">⋯</a><a id="688" class="Symbol">)</a> <a id="690" class="Symbol">(</a><a id="691" class="Keyword">let</a> <a id="695" class="Keyword">open</a> <a id="700" href="SecureCompilation.ModuleParameters.html#209" class="Module">⋯</a> <a id="702" href="SecureCompilation.Helpers.html#683" class="Bound">⋯</a><a id="703" class="Symbol">)</a> <a id="705" class="Keyword">where</a>

<a id="712" class="Keyword">open</a> <a id="717" class="Keyword">import</a> <a id="724" href="SymbolicModel.html" class="Module">SymbolicModel</a> <a id="738" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a> as <a id="S"></a><a id="744" href="SecureCompilation.Helpers.html#744" class="Module">S</a>
  <a id="748" class="Keyword">hiding</a> <a id="755" class="Symbol">(</a> <a id="757" href="Prelude.Closures.html#5661" class="InductiveConstructor Operator">_∎</a><a id="759" class="Symbol">;</a> <a id="761" href="Prelude.Closures.html#5559" class="InductiveConstructor Operator">begin_</a>
         <a id="777" class="Symbol">;</a> <a id="779" class="Comment">{-variables-}</a> <a id="793" href="BitML.BasicTypes.html#578" class="Generalizable">t</a><a id="794" class="Symbol">;</a> <a id="796" href="BitML.BasicTypes.html#582" class="Generalizable">t′</a><a id="798" class="Symbol">;</a> <a id="800" href="BitML.Semantics.Label.html#1651" class="Generalizable">α</a><a id="801" class="Symbol">;</a> <a id="803" href="BitML.Contracts.Types.html#2159" class="Generalizable">g</a><a id="804" class="Symbol">;</a> <a id="806" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a><a id="807" class="Symbol">;</a> <a id="809" href="BitML.Contracts.Types.html#1254" class="Generalizable">c′</a><a id="811" class="Symbol">;</a> <a id="813" href="BitML.Contracts.Types.html#1273" class="Generalizable">cs</a><a id="815" class="Symbol">;</a> <a id="817" href="BitML.Contracts.Types.html#1241" class="Generalizable">ds</a><a id="819" class="Symbol">;</a> <a id="821" href="BitML.BasicTypes.html#527" class="Generalizable">x</a><a id="822" class="Symbol">;</a> <a id="824" href="BitML.BasicTypes.html#533" class="Generalizable">x′</a><a id="826" class="Symbol">;</a> <a id="828" href="BitML.BasicTypes.html#529" class="Generalizable">y</a><a id="829" class="Symbol">;</a> <a id="831" href="BitML.BasicTypes.html#536" class="Generalizable">y′</a><a id="833" class="Symbol">;</a> <a id="835" href="BitML.BasicTypes.html#503" class="Generalizable">as</a><a id="837" class="Symbol">;</a> <a id="839" href="BitML.BasicTypes.html#461" class="Generalizable">vs</a><a id="841" class="Symbol">;</a> <a id="843" href="BitML.BasicTypes.html#558" class="Generalizable">xs</a>
         <a id="855" class="Symbol">;</a> <a id="857" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Γ₀</a><a id="859" class="Symbol">;</a> <a id="861" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a><a id="862" class="Symbol">;</a> <a id="864" href="BitML.Semantics.Configurations.Types.html#1140" class="Generalizable">Γ′</a><a id="866" class="Symbol">;</a> <a id="868" href="BitML.Semantics.Configurations.Types.html#1143" class="Generalizable">Γ″</a><a id="870" class="Symbol">;</a> <a id="872" href="BitML.Semantics.Configurations.Types.html#1456" class="Generalizable">Γₜ</a><a id="874" class="Symbol">;</a> <a id="876" href="BitML.Semantics.Configurations.Types.html#1459" class="Generalizable">Γₜ′</a><a id="879" class="Symbol">;</a> <a id="881" href="BitML.Semantics.Configurations.Types.html#1463" class="Generalizable">Γₜ″</a><a id="884" class="Symbol">;</a> <a id="886" href="SymbolicModel.Run.Base.html#399" class="Generalizable">R</a><a id="887" class="Symbol">;</a> <a id="889" href="SymbolicModel.Run.Base.html#401" class="Generalizable">R′</a><a id="891" class="Symbol">;</a> <a id="893" href="BitML.Semantics.Configurations.Types.html#1157" class="Generalizable">Δ</a><a id="894" class="Symbol">;</a> <a id="896" href="BitML.Contracts.Types.html#1222" class="Generalizable">d</a><a id="897" class="Symbol">;</a> <a id="899" href="BitML.BasicTypes.html#443" class="Generalizable">v</a><a id="900" class="Symbol">;</a> <a id="902" href="BitML.Contracts.Types.html#1298" class="Generalizable">vcs</a>
         <a id="915" class="Symbol">)</a>
<a id="917" class="Keyword">open</a> <a id="922" class="Keyword">import</a> <a id="929" href="ComputationalModel.html" class="Module">ComputationalModel</a> <a id="948" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a> <a id="951" href="SecureCompilation.ModuleParameters.html#450" class="Field">finPart</a> <a id="959" href="SecureCompilation.ModuleParameters.html#487" class="Field">keypairs</a> as <a id="C"></a><a id="971" href="SecureCompilation.Helpers.html#971" class="Module">C</a>
  <a id="975" class="Keyword">using</a> <a id="981" class="Symbol">(</a><a id="982" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a><a id="984" class="Symbol">;</a> <a id="986" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a><a id="989" class="Symbol">;</a> <a id="991" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a><a id="999" class="Symbol">;</a> <a id="1001" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">_∙value</a><a id="1008" class="Symbol">;</a> <a id="1010" href="ComputationalModel.KeyPairs.html#208" class="Function">K̂</a><a id="1012" class="Symbol">;</a> <a id="1014" href="ComputationalModel.Strategy.html#4247" class="Datatype">CRun</a><a id="1018" class="Symbol">;</a> <a id="1020" href="ComputationalModel.Strategy.html#5964" class="Function">oracleInteractionsᶜ</a><a id="1039" class="Symbol">;</a> <a id="1041" href="ComputationalModel.Strategy.html#935" class="Function">Message</a><a id="1048" class="Symbol">;</a> <a id="1050" href="Bitcoin.Tx.Base.html#394" class="InductiveConstructor Operator">_at_</a><a id="1054" class="Symbol">)</a>
<a id="1056" class="Keyword">open</a> <a id="1061" class="Keyword">import</a> <a id="1068" href="Compiler.html" class="Module">Compiler</a> <a id="1077" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a> <a id="1080" href="SecureCompilation.ModuleParameters.html#357" class="Field">η</a>
<a id="1082" class="Keyword">open</a> <a id="1087" class="Keyword">import</a> <a id="1094" href="Compiler.Subterms.html" class="Module">Compiler.Subterms</a> <a id="1112" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a>
<a id="1115" class="Keyword">open</a> <a id="1120" class="Keyword">import</a> <a id="1127" href="SecureCompilation.ComputationalContracts.html" class="Module">SecureCompilation.ComputationalContracts</a> <a id="1168" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a>

<a id="1172" class="Keyword">postulate</a>
  <a id="SIGᵖ"></a><a id="1184" href="SecureCompilation.Helpers.html#1184" class="Postulate">SIGᵖ</a> <a id="1189" class="Symbol">:</a> <a id="1191" class="Symbol">∀</a> <a id="1193" class="Symbol">{</a><a id="1194" href="SecureCompilation.Helpers.html#1194" class="Bound">A</a> <a id="1196" class="Symbol">:</a> <a id="1198" href="Agda.Primitive.html#320" class="Primitive">Set</a><a id="1201" class="Symbol">}</a> <a id="1203" class="Symbol">→</a> <a id="1205" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a> <a id="1207" class="Comment">{- public key -}</a> <a id="1224" class="Symbol">→</a> <a id="1226" href="SecureCompilation.Helpers.html#1194" class="Bound">A</a> <a id="1228" class="Symbol">→</a> <a id="1230" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a>

  <a id="∣_∣ᶻ"></a><a id="1235" href="SecureCompilation.Helpers.html#1235" class="Postulate Operator">∣_∣ᶻ</a> <a id="1240" class="Symbol">:</a> <a id="1242" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a> <a id="1244" class="Symbol">→</a> <a id="1246" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
  <a id="∣_∣ᵐ"></a><a id="1250" href="SecureCompilation.Helpers.html#1250" class="Postulate Operator">∣_∣ᵐ</a> <a id="1255" class="Symbol">:</a> <a id="1257" href="ComputationalModel.Strategy.html#935" class="Function">Message</a> <a id="1265" class="Symbol">→</a> <a id="1267" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>

<a id="CheckOracleInteractions"></a><a id="1270" href="SecureCompilation.Helpers.html#1270" class="Function">CheckOracleInteractions</a> <a id="1294" class="Symbol">:</a> <a id="1296" href="ComputationalModel.Strategy.html#4247" class="Datatype">CRun</a> <a id="1301" class="Symbol">→</a> <a id="1303" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1308" class="Symbol">(</a><a id="1309" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="1316" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="1318" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="1324" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="1326" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="1328" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a><a id="1329" class="Symbol">)</a> <a id="1331" class="Symbol">→</a> <a id="1333" href="Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="1337" href="SecureCompilation.Helpers.html#1270" class="Function">CheckOracleInteractions</a> <a id="1361" href="SecureCompilation.Helpers.html#1361" class="Bound">Rᶜ</a> <a id="1364" class="Symbol">=</a> <a id="1366" class="Keyword">let</a> <a id="1370" href="SecureCompilation.Helpers.html#1370" class="Bound">os</a> <a id="1373" class="Symbol">=</a> <a id="1375" href="ComputationalModel.Strategy.html#5964" class="Function">oracleInteractionsᶜ</a> <a id="1395" href="SecureCompilation.Helpers.html#1361" class="Bound">Rᶜ</a> <a id="1398" class="Keyword">in</a>
  <a id="1403" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="1407" class="Symbol">λ</a> <a id="1409" class="Keyword">where</a>
    <a id="1419" class="Symbol">(_</a> <a id="1422" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1424" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="1429" href="SecureCompilation.Helpers.html#1429" class="Bound">Nᵢ</a> <a id="1432" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1434" href="SecureCompilation.Helpers.html#1434" class="Bound">hᵢ</a><a id="1436" class="Symbol">)</a> <a id="1438" class="Symbol">→</a>
      <a id="1446" href="Data.Product.html#1378" class="Function">∃</a> <a id="1448" class="Symbol">λ</a> <a id="1450" href="SecureCompilation.Helpers.html#1450" class="Bound">B</a> <a id="1452" class="Symbol">→</a> <a id="1454" href="Data.Product.html#1378" class="Function">∃</a> <a id="1456" class="Symbol">λ</a> <a id="1458" href="SecureCompilation.Helpers.html#1458" class="Bound">mᵢ</a> <a id="1461" class="Symbol">→</a> <a id="1463" class="Symbol">((</a><a id="1465" href="SecureCompilation.Helpers.html#1450" class="Bound">B</a> <a id="1467" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1469" href="SecureCompilation.Helpers.html#1458" class="Bound">mᵢ</a> <a id="1472" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1474" href="SecureCompilation.Helpers.html#1434" class="Bound">hᵢ</a><a id="1476" class="Symbol">)</a> <a id="1478" href="Data.List.Membership.Setoid.html#896" class="Function Operator">L.Mem.∈</a> <a id="1486" href="SecureCompilation.Helpers.html#1370" class="Bound">os</a><a id="1488" class="Symbol">)</a> <a id="1490" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="1492" class="Symbol">(</a><a id="1493" href="SecureCompilation.Helpers.html#1250" class="Postulate Operator">∣</a> <a id="1495" href="SecureCompilation.Helpers.html#1458" class="Bound">mᵢ</a> <a id="1498" href="SecureCompilation.Helpers.html#1250" class="Postulate Operator">∣ᵐ</a> <a id="1501" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1503" href="SecureCompilation.ModuleParameters.html#357" class="Field">η</a> <a id="1505" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="1507" href="SecureCompilation.Helpers.html#1429" class="Bound">Nᵢ</a><a id="1509" class="Symbol">)</a>
    <a id="1515" class="Symbol">(_</a> <a id="1518" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1520" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a> <a id="1528" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1530" href="SecureCompilation.Helpers.html#1530" class="Bound">hᵢ</a><a id="1532" class="Symbol">)</a> <a id="1534" class="Symbol">→</a>
      <a id="1542" href="SecureCompilation.Helpers.html#1530" class="Bound">hᵢ</a> <a id="1545" href="Prelude.Membership.html#502" class="Function Operator">∉</a> <a id="1547" href="Data.List.Base.html#1553" class="Function">map</a> <a id="1551" class="Symbol">(</a><a id="1552" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="1558" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1560" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="1565" class="Symbol">)</a> <a id="1567" class="Symbol">(</a><a id="1568" href="Data.List.Base.html#8101" class="Function">filter</a> <a id="1575" class="Symbol">((</a><a id="1577" href="SecureCompilation.ModuleParameters.html#357" class="Field">η</a> <a id="1579" href="Prelude.Ord.Dec.html#430" class="Function Operator">≤?_</a><a id="1582" class="Symbol">)</a> <a id="1584" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1586" href="SecureCompilation.Helpers.html#1250" class="Postulate Operator">∣_∣ᵐ</a> <a id="1591" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1593" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="1599" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1601" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="1606" class="Symbol">)</a> <a id="1608" href="SecureCompilation.Helpers.html#1370" class="Bound">os</a><a id="1610" class="Symbol">)</a>

<a id="1613" class="Comment">-- Convenient wrapper for calling the BitML compiler.</a>

<a id="COMPILE"></a><a id="1668" href="SecureCompilation.Helpers.html#1668" class="Function">COMPILE</a> <a id="1676" class="Symbol">:</a> <a id="1678" href="SymbolicModel.Mappings.Base.html#1314" class="Function">𝔾</a> <a id="1680" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="1683" class="Symbol">→</a> <a id="1685" href="Compiler.Outputs.html#206" class="Function">InitTx</a> <a id="1692" class="Symbol">(</a><a id="1693" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="1696" class="Symbol">.</a><a id="1697" href="BitML.Contracts.Types.html#2330" class="Field">G</a><a id="1698" class="Symbol">)</a> <a id="1700" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="1702" class="Symbol">(</a><a id="1703" href="BitML.Contracts.Subterms.html#647" class="Function">subterms</a> <a id="1712" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="1715" href="Prelude.Lists.Mappings.html#654" class="Function Operator">↦′</a> <a id="1718" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="1727" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1729" href="Compiler.Subterms.html#622" class="Field Operator">_∗</a><a id="1731" class="Symbol">)</a>
<a id="1733" href="SecureCompilation.Helpers.html#1668" class="Function">COMPILE</a> <a id="1741" class="Symbol">{</a><a id="1742" class="Argument">ad</a> <a id="1745" class="Symbol">=</a> <a id="1747" href="SecureCompilation.Helpers.html#1747" class="Bound">ad</a><a id="1749" class="Symbol">}</a> <a id="1751" class="Symbol">(</a><a id="1752" href="SecureCompilation.Helpers.html#1752" class="Bound">vad</a> <a id="1756" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1758" href="SecureCompilation.Helpers.html#1758" class="Bound">txout₀</a> <a id="1765" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1767" href="SecureCompilation.Helpers.html#1767" class="Bound">sechash₀</a> <a id="1776" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1778" href="SecureCompilation.Helpers.html#1778" class="Bound">κ₀</a><a id="1780" class="Symbol">)</a> <a id="1782" class="Symbol">=</a>
  <a id="1786" class="Keyword">let</a>
    <a id="1794" href="SecureCompilation.Helpers.html#1794" class="Bound">K</a> <a id="1796" class="Symbol">:</a> <a id="1798" href="Compiler.Mappings.html#394" class="Function">𝕂</a> <a id="1800" class="Symbol">(</a><a id="1801" href="SecureCompilation.Helpers.html#1747" class="Bound">ad</a> <a id="1804" class="Symbol">.</a><a id="1805" href="BitML.Contracts.Types.html#2330" class="Field">G</a><a id="1806" class="Symbol">)</a>
    <a id="1812" href="SecureCompilation.Helpers.html#1794" class="Bound">K</a> <a id="1814" class="Symbol">{</a><a id="1815" href="SecureCompilation.Helpers.html#1815" class="Bound">p</a><a id="1816" class="Symbol">}</a> <a id="1818" class="Symbol">_</a> <a id="1820" class="Symbol">=</a> <a id="1822" href="ComputationalModel.KeyPairs.html#208" class="Function">K̂</a> <a id="1825" href="SecureCompilation.Helpers.html#1815" class="Bound">p</a>

    <a id="1832" href="SecureCompilation.Helpers.html#1832" class="Bound">T</a> <a id="1834" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1836" href="SecureCompilation.Helpers.html#1836" class="Bound">∀d</a> <a id="1839" class="Symbol">=</a> <a id="1841" href="Compiler.Translation.html#1219" class="Function">bitml-compiler</a> <a id="1856" class="Symbol">{</a><a id="1857" class="Argument">ad</a> <a id="1860" class="Symbol">=</a> <a id="1862" href="SecureCompilation.Helpers.html#1747" class="Bound">ad</a><a id="1864" class="Symbol">}</a> <a id="1866" href="SecureCompilation.Helpers.html#1752" class="Bound">vad</a> <a id="1870" href="SecureCompilation.Helpers.html#1767" class="Bound">sechash₀</a> <a id="1879" href="SecureCompilation.Helpers.html#1758" class="Bound">txout₀</a> <a id="1886" href="SecureCompilation.Helpers.html#1794" class="Bound">K</a> <a id="1888" href="SecureCompilation.Helpers.html#1778" class="Bound">κ₀</a>
  <a id="1893" class="Keyword">in</a>
    <a id="1900" href="SecureCompilation.Helpers.html#1832" class="Bound">T</a> <a id="1902" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1904" href="Compiler.Subterms.html#2649" class="Function">weaken-sub</a> <a id="1915" class="Symbol">{</a><a id="1916" href="SecureCompilation.Helpers.html#1747" class="Bound">ad</a><a id="1918" class="Symbol">}</a> <a id="1920" href="SecureCompilation.Helpers.html#1836" class="Bound">∀d</a> <a id="1923" class="Comment">-- ∘ h-subᶜ {ds = ad .C})</a>

<a id="1950" class="Comment">-- Helpers for coherence, in order not to over-complicate the constructor definitions for `_~₁₁_`.</a>
<a id="2049" class="Comment">-- Also we need the complete power of rewrites/with that let-only expressions in constructors do not give us.</a>
<a id="2159" class="Comment">-- Last, these also export properties that we prove about coherence (e.g. invariants that are preserved).</a>
<a id="2265" class="Comment">-- ∙ each module corresponds to an inductive case for Coherence</a>
<a id="2329" class="Comment">-- ∙ for typechecking performance, `abstract` all exported definitions (if possible...)</a>
<a id="2417" class="Comment">-- ∙ all definitions should be private, except the following:</a>
<a id="2479" class="Comment">--   ∘ λˢ : the next symbolic move, along with updated mappings for the resulting state/configuration</a>
<a id="2581" class="Comment">--   ∘ txoutG/txoutΓ/txoutΓ′ : (optional) mappings for relevant subcomponents</a>
<a id="2659" class="Comment">--   ∘ T : (optional) compiled transaction needed for computational move λᶜ</a>
<a id="2735" class="Comment">--   ∘ pubK : (optional) public key to sign the transaction</a>
<a id="2795" class="Comment">--   ∘ value-preserving⇒ : (T0D0) proof that each mapping transformation preserves value assignments</a>
<a id="2896" class="Comment">-- NB: the above should be exported in an `abstract` block to aid typechecking</a>

<a id="2976" class="Keyword">module</a> <a id="2983" href="SecureCompilation.Helpers.html#2983" class="Module">_</a> <a id="2985" class="Symbol">{</a><a id="2986" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a><a id="2987" class="Symbol">}</a> <a id="2989" class="Symbol">(</a><a id="2990" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="2992" class="Symbol">:</a> <a id="2994" href="SymbolicModel.Mappings.Base.html#743" class="Function">ℝ</a> <a id="2996" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a><a id="2997" class="Symbol">)</a> <a id="2999" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="3001" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="3003" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a> <a id="3006" class="Keyword">where</a>
  <a id="3014" class="Keyword">open</a> <a id="3019" href="SymbolicModel.Mappings.Base.html#768" class="Module">ℝ</a> <a id="3021" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a>

  <a id="3026" class="Comment">-- [1]</a>
  <a id="3035" class="Keyword">module</a> <a id="3042" href="SecureCompilation.Helpers.html#3042" class="Module">_</a> <a id="3044" href="SecureCompilation.Helpers.html#3044" class="Bound">Γ</a> <a id="3046" class="Symbol">(</a><a id="3047" href="SecureCompilation.Helpers.html#3047" class="Bound">R≈</a> <a id="3050" class="Symbol">:</a> <a id="3052" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="3054" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="3057" href="SecureCompilation.Helpers.html#3044" class="Bound">Γ</a> <a id="3059" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="3062" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a><a id="3063" class="Symbol">)</a> <a id="3065" href="SecureCompilation.Helpers.html#3065" class="Bound">ad</a> <a id="3068" class="Keyword">where</a>
    <a id="3078" class="Keyword">private</a> <a id="3086" href="SecureCompilation.Helpers.html#3086" class="Function">Γ′</a> <a id="3089" class="Symbol">=</a> <a id="3091" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="3095" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="3097" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="3099" href="SecureCompilation.Helpers.html#3065" class="Bound">ad</a> <a id="3102" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="3104" href="SecureCompilation.Helpers.html#3044" class="Bound">Γ</a>
    <a id="3110" class="Keyword">module</a> <a id="3117" href="SecureCompilation.Helpers.html#3117" class="Module">H₁</a> <a id="3120" class="Symbol">(</a><a id="3121" href="SecureCompilation.Helpers.html#3121" class="Bound">Γ→Γ′</a> <a id="3126" class="Symbol">:</a> <a id="3128" href="SecureCompilation.Helpers.html#3044" class="Bound">Γ</a> <a id="3130" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="3133" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="3135" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="3138" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="3140" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="3144" href="SecureCompilation.Helpers.html#3086" class="Function">Γ′</a> <a id="3147" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="3150" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="3152" class="Symbol">)</a> <a id="3154" class="Symbol">(</a><a id="3155" href="SecureCompilation.Helpers.html#3155" class="Bound">∃Γ≈</a> <a id="3159" class="Symbol">:</a> <a id="3161" href="Data.Product.html#1378" class="Function">∃</a> <a id="3163" class="Symbol">(</a><a id="3164" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="3167" href="SecureCompilation.Helpers.html#3086" class="Function">Γ′</a><a id="3169" class="Symbol">))</a> <a id="3172" class="Keyword">where</a>
      <a id="3184" class="Keyword">private</a>
        <a id="3200" href="SecureCompilation.Helpers.html#3200" class="Function">Γ″</a> <a id="3203" class="Symbol">=</a> <a id="3205" href="SecureCompilation.Helpers.html#3155" class="Bound">∃Γ≈</a> <a id="3209" class="Symbol">.</a><a id="3210" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a><a id="3215" class="Symbol">;</a> <a id="3217" href="SecureCompilation.Helpers.html#3217" class="Function">Γ≈</a> <a id="3220" class="Symbol">=</a> <a id="3222" href="SecureCompilation.Helpers.html#3155" class="Bound">∃Γ≈</a> <a id="3226" class="Symbol">.</a><a id="3227" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
        <a id="3241" href="SecureCompilation.Helpers.html#3241" class="Function">Γₜ</a> <a id="3244" href="SecureCompilation.Helpers.html#3244" class="Function">Γₜ′</a> <a id="3248" href="SecureCompilation.Helpers.html#3248" class="Function">Γₜ″</a> <a id="3252" class="Symbol">:</a> <a id="3254" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a><a id="3258" class="Symbol">;</a> <a id="3260" href="SecureCompilation.Helpers.html#3241" class="Function">Γₜ</a>  <a id="3264" class="Symbol">=</a> <a id="3266" href="SecureCompilation.Helpers.html#3044" class="Bound">Γ</a> <a id="3268" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="3271" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a><a id="3272" class="Symbol">;</a> <a id="3274" href="SecureCompilation.Helpers.html#3244" class="Function">Γₜ′</a> <a id="3278" class="Symbol">=</a> <a id="3280" href="SecureCompilation.Helpers.html#3086" class="Function">Γ′</a> <a id="3283" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="3286" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="3288" class="Symbol">;</a> <a id="3290" href="SecureCompilation.Helpers.html#3248" class="Function">Γₜ″</a> <a id="3294" class="Symbol">=</a> <a id="3296" href="SecureCompilation.Helpers.html#3200" class="Function">Γ″</a> <a id="3299" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="3302" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a>
      <a id="3311" class="Comment">-- abstract</a>
      <a id="3329" href="SecureCompilation.Helpers.html#3329" class="Function">λˢ</a> <a id="3332" class="Symbol">:</a> <a id="3334" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="3336" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="3338" href="SecureCompilation.Helpers.html#3248" class="Function">Γₜ″</a>
      <a id="3348" href="SecureCompilation.Helpers.html#3329" class="Function">λˢ</a> <a id="3351" class="Symbol">=</a> <a id="3353" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="3359" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="3361" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="3363" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="3365" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a> <a id="3368" href="SecureCompilation.Helpers.html#3044" class="Bound">Γ</a> <a id="3370" href="SecureCompilation.Helpers.html#3047" class="Bound">R≈</a> <a id="3373" href="SecureCompilation.Helpers.html#3086" class="Function">Γ′</a> <a id="3376" href="SecureCompilation.Helpers.html#3121" class="Bound">Γ→Γ′</a> <a id="3381" href="SecureCompilation.Helpers.html#3155" class="Bound">∃Γ≈</a> <a id="3385" href="Function.Base.html#624" class="Function">id</a> <a id="3388" href="Function.Base.html#624" class="Function">id</a> <a id="3391" href="Function.Base.html#624" class="Function">id</a>

      <a id="3401" class="Keyword">private</a>
        <a id="3417" href="SecureCompilation.Helpers.html#3417" class="Function">𝕒</a>  <a id="3420" class="Symbol">=</a> <a id="3422" href="SecureCompilation.Helpers.html#3329" class="Function">λˢ</a> <a id="3425" class="Symbol">.</a><a id="3426" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
        <a id="3440" href="SecureCompilation.Helpers.html#3440" class="Function">R′</a> <a id="3443" class="Symbol">=</a> <a id="3445" href="SecureCompilation.Helpers.html#3248" class="Function">Γₜ″</a> <a id="3449" href="SymbolicModel.Run.Base.html#2558" class="Function Operator">∷</a> <a id="3451" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="3453" href="SymbolicModel.Run.Base.html#2558" class="Function Operator">⊣</a> <a id="3455" href="SecureCompilation.Helpers.html#3417" class="Function">𝕒</a>

        <a id="3466" href="SecureCompilation.Helpers.html#3466" class="Function">𝕣′</a> <a id="3469" class="Symbol">:</a> <a id="3471" href="SymbolicModel.Mappings.Base.html#743" class="Function">ℝ</a> <a id="3473" href="SecureCompilation.Helpers.html#3440" class="Function">R′</a>
        <a id="3484" href="SecureCompilation.Helpers.html#3466" class="Function">𝕣′</a> <a id="3487" class="Symbol">=</a> <a id="3489" href="SymbolicModel.Mappings.Properties.html#4538" class="Function">ℝ-step</a> <a id="3496" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="3498" href="SecureCompilation.Helpers.html#3329" class="Function">λˢ</a>

        <a id="3510" href="SecureCompilation.Helpers.html#3510" class="Function">R≈′</a> <a id="3514" class="Symbol">:</a> <a id="3516" href="SecureCompilation.Helpers.html#3440" class="Function">R′</a> <a id="3519" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="3522" href="SecureCompilation.Helpers.html#3086" class="Function">Γ′</a> <a id="3525" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="3528" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a>
        <a id="3539" href="SecureCompilation.Helpers.html#3510" class="Function">R≈′</a> <a id="3543" class="Symbol">=</a> <a id="3545" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="3550" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3552" href="SecureCompilation.Helpers.html#3217" class="Function">Γ≈</a>

      <a id="3562" class="Keyword">abstract</a>
        <a id="3579" href="SecureCompilation.Helpers.html#3579" class="Function">value-preserving⇒</a> <a id="3597" class="Symbol">:</a>
          <a id="3609" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="3626" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a>
          <a id="3638" href="Prelude.InferenceRules.html#14163" class="Function Operator">───────────────────</a>
          <a id="3668" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="3685" href="SecureCompilation.Helpers.html#3466" class="Function">𝕣′</a>
        <a id="3696" href="SecureCompilation.Helpers.html#3579" class="Function">value-preserving⇒</a> <a id="3714" href="SecureCompilation.Helpers.html#3714" class="Bound">pv-txout</a> <a id="3723" class="Symbol">=</a> <a id="3725" href="SecureCompilation.Helpers.html#4306" class="Function">pv-txout′</a>
          <a id="3745" class="Keyword">where</a>
          <a id="3761" class="Keyword">open</a> <a id="3766" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

          <a id="3789" href="SecureCompilation.Helpers.html#3789" class="Function">txoutΓ</a> <a id="3796" class="Symbol">:</a> <a id="3798" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="3804" class="Symbol">(</a><a id="3805" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="3807" class="Symbol">.</a><a id="3808" href="Prelude.Traces.html#568" class="Field">end</a><a id="3811" class="Symbol">)</a>
          <a id="3823" href="SecureCompilation.Helpers.html#3789" class="Function">txoutΓ</a> <a id="3830" class="Symbol">=</a> <a id="3832" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="3834" href="SymbolicModel.Mappings.Properties.html#12758" class="Function Operator">∙txoutEnd_</a>

          <a id="3856" href="SecureCompilation.Helpers.html#3856" class="Function">txoutΓ′</a> <a id="3864" class="Symbol">:</a> <a id="3866" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="3872" href="SecureCompilation.Helpers.html#3086" class="Function">Γ′</a>
          <a id="3885" href="SecureCompilation.Helpers.html#3856" class="Function">txoutΓ′</a> <a id="3893" class="Symbol">=</a> <a id="3895" href="SymbolicModel.Mappings.Properties.html#671" class="Function">Txout≈</a> <a id="3902" class="Symbol">{</a><a id="3903" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="3905" href="SymbolicModel.Accessors.html#597" class="Function Operator">∙cfg</a><a id="3909" class="Symbol">}{</a><a id="3911" href="SecureCompilation.Helpers.html#3044" class="Bound">Γ</a><a id="3912" class="Symbol">}</a> <a id="3914" class="Symbol">(</a><a id="3915" href="SecureCompilation.Helpers.html#3047" class="Bound">R≈</a> <a id="3918" class="Symbol">.</a><a id="3919" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="3924" class="Symbol">)</a> <a id="3926" href="SecureCompilation.Helpers.html#3789" class="Function">txoutΓ</a>

          <a id="3944" href="SecureCompilation.Helpers.html#3944" class="Function">pv-txoutΓ′</a> <a id="3955" class="Symbol">:</a> <a id="3957" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="3973" class="Symbol">{</a><a id="3974" href="SecureCompilation.Helpers.html#3086" class="Function">Γ′</a><a id="3976" class="Symbol">}</a> <a id="3978" href="SecureCompilation.Helpers.html#3856" class="Function">txoutΓ′</a>
          <a id="3996" href="SecureCompilation.Helpers.html#3944" class="Function">pv-txoutΓ′</a> <a id="4007" class="Symbol">=</a> <a id="4009" href="SymbolicModel.ValuePreservation.html#2568" class="Function">ValuePreserving-Txout≈</a> <a id="4032" class="Symbol">{</a><a id="4033" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="4035" href="SymbolicModel.Accessors.html#597" class="Function Operator">∙cfg</a><a id="4039" class="Symbol">}{</a><a id="4041" href="SecureCompilation.Helpers.html#3044" class="Bound">Γ</a><a id="4042" class="Symbol">}</a> <a id="4044" class="Symbol">(</a><a id="4045" href="SecureCompilation.Helpers.html#3047" class="Bound">R≈</a> <a id="4048" class="Symbol">.</a><a id="4049" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="4054" class="Symbol">)</a> <a id="4056" href="SecureCompilation.Helpers.html#3789" class="Function">txoutΓ</a> <a id="4063" href="SecureCompilation.Helpers.html#3714" class="Bound">pv-txout</a>

          <a id="4083" href="SecureCompilation.Helpers.html#4083" class="Function">txoutΓ″</a> <a id="4091" class="Symbol">:</a> <a id="4093" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="4099" href="SecureCompilation.Helpers.html#3200" class="Function">Γ″</a>
          <a id="4112" href="SecureCompilation.Helpers.html#4083" class="Function">txoutΓ″</a> <a id="4120" class="Symbol">=</a> <a id="4122" href="SymbolicModel.Mappings.Properties.html#671" class="Function">Txout≈</a> <a id="4129" class="Symbol">{</a><a id="4130" href="SecureCompilation.Helpers.html#3086" class="Function">Γ′</a><a id="4132" class="Symbol">}{</a><a id="4134" href="SecureCompilation.Helpers.html#3200" class="Function">Γ″</a><a id="4136" class="Symbol">}</a> <a id="4138" class="Symbol">(</a><a id="4139" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="4145" href="SecureCompilation.Helpers.html#3217" class="Function">Γ≈</a><a id="4147" class="Symbol">)</a> <a id="4149" href="SecureCompilation.Helpers.html#3856" class="Function">txoutΓ′</a>

          <a id="4168" href="SecureCompilation.Helpers.html#4168" class="Function">pv-txoutΓ″</a> <a id="4179" class="Symbol">:</a> <a id="4181" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="4197" class="Symbol">{</a><a id="4198" href="SecureCompilation.Helpers.html#3200" class="Function">Γ″</a><a id="4200" class="Symbol">}</a> <a id="4202" href="SecureCompilation.Helpers.html#4083" class="Function">txoutΓ″</a>
          <a id="4220" href="SecureCompilation.Helpers.html#4168" class="Function">pv-txoutΓ″</a> <a id="4231" class="Symbol">=</a> <a id="4233" href="SymbolicModel.ValuePreservation.html#2568" class="Function">ValuePreserving-Txout≈</a> <a id="4256" class="Symbol">{</a><a id="4257" href="SecureCompilation.Helpers.html#3086" class="Function">Γ′</a><a id="4259" class="Symbol">}{</a><a id="4261" href="SecureCompilation.Helpers.html#3200" class="Function">Γ″</a><a id="4263" class="Symbol">}</a> <a id="4265" class="Symbol">(</a><a id="4266" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="4272" href="SecureCompilation.Helpers.html#3217" class="Function">Γ≈</a><a id="4274" class="Symbol">)</a> <a id="4276" href="SecureCompilation.Helpers.html#3856" class="Function">txoutΓ′</a> <a id="4284" href="SecureCompilation.Helpers.html#3944" class="Function">pv-txoutΓ′</a>

          <a id="4306" href="SecureCompilation.Helpers.html#4306" class="Function">pv-txout′</a> <a id="4316" class="Symbol">:</a> <a id="4318" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="4335" href="SecureCompilation.Helpers.html#3466" class="Function">𝕣′</a>
          <a id="4348" href="SecureCompilation.Helpers.html#4306" class="Function">pv-txout′</a> <a id="4358" href="SecureCompilation.Helpers.html#4358" class="Bound">x∈</a> <a id="4361" class="Symbol">=</a>
            <a id="4375" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
              <a id="4395" class="Symbol">(</a><a id="4396" href="SecureCompilation.Helpers.html#3466" class="Function">𝕣′</a> <a id="4399" href="SymbolicModel.Mappings.Properties.html#12758" class="Function Operator">∙txoutEnd</a> <a id="4409" href="SecureCompilation.Helpers.html#4358" class="Bound">x∈</a><a id="4411" class="Symbol">)</a> <a id="4413" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
            <a id="4432" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="4435" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="4440" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">_∙value</a> <a id="4448" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="4450" href="SymbolicModel.Mappings.Properties.html#9729" class="Function">txout∷∘namesʳ⦅end⦆⊆</a> <a id="4470" class="Symbol">{</a><a id="4471" class="Argument">R</a> <a id="4473" class="Symbol">=</a> <a id="4475" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a><a id="4476" class="Symbol">}</a> <a id="4478" href="SecureCompilation.Helpers.html#3121" class="Bound">Γ→Γ′</a> <a id="4483" class="Symbol">(</a><a id="4484" href="SecureCompilation.Helpers.html#3510" class="Function">R≈′</a> <a id="4488" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4490" href="SecureCompilation.Helpers.html#3047" class="Bound">R≈</a><a id="4492" class="Symbol">)</a> <a id="4494" href="SecureCompilation.Helpers.html#3856" class="Function">txoutΓ′</a> <a id="4502" href="SymbolicModel.Mappings.Base.html#823" class="Function">txout′</a> <a id="4509" class="Symbol">_</a> <a id="4511" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
              <a id="4527" class="Symbol">(</a><a id="4528" href="SecureCompilation.Helpers.html#4083" class="Function">txoutΓ″</a> <a id="4536" href="SecureCompilation.Helpers.html#4358" class="Bound">x∈</a><a id="4538" class="Symbol">)</a> <a id="4540" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
            <a id="4559" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="4562" href="SecureCompilation.Helpers.html#4168" class="Function">pv-txoutΓ″</a> <a id="4573" class="Symbol">_</a> <a id="4575" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
              <a id="4591" class="Symbol">(</a><a id="4592" href="SecureCompilation.Helpers.html#3200" class="Function">Γ″</a> <a id="4595" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4597" href="SecureCompilation.Helpers.html#4358" class="Bound">x∈</a><a id="4599" class="Symbol">)</a> <a id="4601" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
            <a id="4620" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

  <a id="4625" class="Comment">-- [2]</a>
  <a id="4634" class="Keyword">module</a> <a id="4641" href="SecureCompilation.Helpers.html#4641" class="Module">_</a> <a id="4643" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="4645" class="Symbol">(</a><a id="4646" href="SecureCompilation.Helpers.html#4646" class="Bound">R≈</a> <a id="4649" class="Symbol">:</a> <a id="4651" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="4653" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="4656" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="4658" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="4661" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a><a id="4662" class="Symbol">)</a> <a id="4664" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="4666" href="SecureCompilation.Helpers.html#4666" class="Bound">A</a> <a id="4668" href="SecureCompilation.Helpers.html#4668" class="Bound">ad</a> <a id="4671" class="Symbol">(</a><a id="4672" href="SecureCompilation.Helpers.html#4672" class="Bound">Δ</a> <a id="4674" class="Symbol">:</a> <a id="4676" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="4681" class="Symbol">(</a><a id="4682" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="4689" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="4691" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="4697" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="4698" class="Symbol">))</a> <a id="4701" class="Keyword">where</a>
    <a id="4711" class="Keyword">private</a>
      <a id="4725" href="SecureCompilation.Helpers.html#4725" class="Function">Γ′</a> <a id="4728" class="Symbol">=</a> <a id="4730" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="4734" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="4736" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="4738" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4740" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="4743" href="Data.List.Base.html#1553" class="Function">map</a> <a id="4747" class="Symbol">(</a><a id="4748" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="4756" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="4758" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="4760" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="4765" class="Symbol">)</a> <a id="4767" href="SecureCompilation.Helpers.html#4672" class="Bound">Δ</a> <a id="4769" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4771" href="SecureCompilation.Helpers.html#4666" class="Bound">A</a> <a id="4773" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="4779" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="4782" href="SecureCompilation.Helpers.html#4668" class="Bound">ad</a> <a id="4785" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a>
      <a id="4793" href="SecureCompilation.Helpers.html#4793" class="Function">as</a> <a id="4796" class="Symbol">=</a> <a id="4798" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="4804" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="4806" href="Data.List.Base.html#3708" class="Function">unzip</a> <a id="4812" href="SecureCompilation.Helpers.html#4672" class="Bound">Δ</a>
    <a id="4818" class="Keyword">module</a> <a id="4825" href="SecureCompilation.Helpers.html#4825" class="Module">H₂</a> <a id="4828" class="Symbol">(</a><a id="4829" href="SecureCompilation.Helpers.html#4829" class="Bound">sechash⁺</a> <a id="4838" class="Symbol">:</a> <a id="4840" href="SecureCompilation.Helpers.html#4793" class="Function">as</a> <a id="4843" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="4845" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a><a id="4846" class="Symbol">)</a> <a id="4848" class="Symbol">(</a><a id="4849" href="SecureCompilation.Helpers.html#4849" class="Bound">k⃗</a> <a id="4852" class="Symbol">:</a> <a id="4854" href="Compiler.Mappings.html#454" class="Function">𝕂²′</a> <a id="4858" href="SecureCompilation.Helpers.html#4668" class="Bound">ad</a><a id="4860" class="Symbol">)</a> <a id="4862" class="Symbol">(</a><a id="4863" href="SecureCompilation.Helpers.html#4863" class="Bound">Γ→Γ′</a> <a id="4868" class="Symbol">:</a> <a id="4870" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="4872" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="4875" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="4877" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="4880" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="4882" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="4886" href="SecureCompilation.Helpers.html#4725" class="Function">Γ′</a> <a id="4889" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="4892" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="4894" class="Symbol">)</a> <a id="4896" class="Symbol">(</a><a id="4897" href="SecureCompilation.Helpers.html#4897" class="Bound">∃Γ≈</a> <a id="4901" class="Symbol">:</a> <a id="4903" href="Data.Product.html#1378" class="Function">∃</a> <a id="4905" class="Symbol">(</a><a id="4906" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="4909" href="SecureCompilation.Helpers.html#4725" class="Function">Γ′</a><a id="4911" class="Symbol">))</a> <a id="4914" class="Keyword">where</a>
      <a id="4926" class="Keyword">private</a>
        <a id="4942" class="Keyword">open</a> <a id="4947" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

        <a id="4968" href="SecureCompilation.Helpers.html#4968" class="Function">ids≡</a> <a id="4973" class="Symbol">:</a> <a id="4975" href="SecureCompilation.Helpers.html#4725" class="Function">Γ′</a> <a id="4978" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="4981" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="4988" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="4990" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a>
        <a id="5000" href="SecureCompilation.Helpers.html#4968" class="Function">ids≡</a> <a id="5005" class="Symbol">=</a>
          <a id="5017" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
            <a id="5035" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="5042" href="SecureCompilation.Helpers.html#4725" class="Function">Γ′</a>
          <a id="5055" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
            <a id="5071" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="5078" class="Symbol">(</a><a id="5079" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="5081" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5083" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="5086" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5090" class="Symbol">(</a><a id="5091" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="5099" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="5101" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="5103" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="5108" class="Symbol">)</a> <a id="5110" href="SecureCompilation.Helpers.html#4672" class="Bound">Δ</a> <a id="5112" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5114" href="SecureCompilation.Helpers.html#4666" class="Bound">A</a> <a id="5116" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="5122" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="5125" href="SecureCompilation.Helpers.html#4668" class="Bound">ad</a> <a id="5128" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="5129" class="Symbol">)</a>
          <a id="5141" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5144" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="5172" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="5179" class="Symbol">(</a><a id="5180" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="5182" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5184" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="5187" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5191" class="Symbol">(</a><a id="5192" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="5200" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="5202" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="5204" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="5209" class="Symbol">)</a> <a id="5211" href="SecureCompilation.Helpers.html#4672" class="Bound">Δ</a><a id="5212" class="Symbol">)</a> <a id="5214" class="Symbol">(</a><a id="5215" href="SecureCompilation.Helpers.html#4666" class="Bound">A</a> <a id="5217" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="5223" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="5226" href="SecureCompilation.Helpers.html#4668" class="Bound">ad</a> <a id="5229" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="5230" class="Symbol">)</a> <a id="5232" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="5246" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="5253" class="Symbol">(</a><a id="5254" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="5256" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5258" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="5261" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5265" class="Symbol">(</a><a id="5266" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="5274" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="5276" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="5278" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="5283" class="Symbol">)</a> <a id="5285" href="SecureCompilation.Helpers.html#4672" class="Bound">Δ</a><a id="5286" class="Symbol">)</a> <a id="5288" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="5291" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="5298" class="Symbol">(</a><a id="5299" href="SecureCompilation.Helpers.html#4666" class="Bound">A</a> <a id="5301" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="5307" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="5310" href="SecureCompilation.Helpers.html#4668" class="Bound">ad</a> <a id="5313" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="5314" class="Symbol">)</a>
          <a id="5326" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
            <a id="5342" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="5349" class="Symbol">(</a><a id="5350" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="5352" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5354" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="5357" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5361" class="Symbol">(</a><a id="5362" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="5370" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="5372" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="5374" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="5379" class="Symbol">)</a> <a id="5381" href="SecureCompilation.Helpers.html#4672" class="Bound">Δ</a><a id="5382" class="Symbol">)</a> <a id="5384" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="5387" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
          <a id="5400" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5403" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="5418" class="Symbol">_</a> <a id="5420" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="5434" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="5441" class="Symbol">(</a><a id="5442" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="5444" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5446" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="5449" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5453" class="Symbol">(</a><a id="5454" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="5462" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="5464" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="5466" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="5471" class="Symbol">)</a> <a id="5473" href="SecureCompilation.Helpers.html#4672" class="Bound">Δ</a><a id="5474" class="Symbol">)</a>
          <a id="5486" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5489" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="5517" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="5524" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="5526" class="Symbol">(</a><a id="5527" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="5530" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5534" class="Symbol">(</a><a id="5535" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="5543" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="5545" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="5547" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="5552" class="Symbol">)</a> <a id="5554" href="SecureCompilation.Helpers.html#4672" class="Bound">Δ</a><a id="5555" class="Symbol">)</a> <a id="5557" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="5571" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="5578" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="5580" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="5583" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="5590" class="Symbol">(</a><a id="5591" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="5594" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5598" class="Symbol">(</a><a id="5599" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="5607" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="5609" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="5611" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="5616" class="Symbol">)</a> <a id="5618" href="SecureCompilation.Helpers.html#4672" class="Bound">Δ</a><a id="5619" class="Symbol">)</a>
          <a id="5631" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5634" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="5639" class="Symbol">(</a><a id="5640" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="5647" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="5649" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="5652" class="Symbol">)</a> <a id="5654" class="Symbol">(</a><a id="5655" href="SecureCompilation.Helpers.html#5773" class="Function">hʳ</a> <a id="5658" href="SecureCompilation.Helpers.html#4672" class="Bound">Δ</a><a id="5659" class="Symbol">)</a> <a id="5661" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="5675" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="5682" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="5684" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="5687" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
          <a id="5700" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5703" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="5718" class="Symbol">_</a> <a id="5720" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="5734" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="5741" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a>
          <a id="5753" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="5755" class="Keyword">where</a>
            <a id="5773" href="SecureCompilation.Helpers.html#5773" class="Function">hʳ</a> <a id="5776" class="Symbol">:</a> <a id="5778" class="Symbol">∀</a> <a id="5780" href="SecureCompilation.Helpers.html#5780" class="Bound">Δ</a> <a id="5782" class="Symbol">→</a> <a id="5784" href="Prelude.Null.html#263" class="Field">Null</a> <a id="5789" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="5791" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="5798" class="Symbol">(</a><a id="5799" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="5802" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5806" class="Symbol">(</a><a id="5807" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="5815" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="5817" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="5819" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="5824" class="Symbol">)</a> <a id="5826" href="SecureCompilation.Helpers.html#5780" class="Bound">Δ</a><a id="5827" class="Symbol">)</a>
            <a id="5841" href="SecureCompilation.Helpers.html#5773" class="Function">hʳ</a> <a id="5844" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="5847" class="Symbol">=</a> <a id="5849" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
            <a id="5866" href="SecureCompilation.Helpers.html#5773" class="Function">hʳ</a> <a id="5869" class="Symbol">(_</a> <a id="5872" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="5874" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="5876" class="Symbol">)</a> <a id="5878" class="Symbol">=</a> <a id="5880" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
            <a id="5897" href="SecureCompilation.Helpers.html#5773" class="Function">hʳ</a> <a id="5900" class="Symbol">(_</a> <a id="5903" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="5905" href="SecureCompilation.Helpers.html#5905" class="Bound">Δ</a><a id="5906" class="Symbol">@(_</a> <a id="5910" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="5912" class="Symbol">_))</a> <a id="5916" class="Keyword">rewrite</a> <a id="5924" href="SecureCompilation.Helpers.html#5773" class="Function">hʳ</a> <a id="5927" href="SecureCompilation.Helpers.html#5905" class="Bound">Δ</a> <a id="5929" class="Symbol">=</a> <a id="5931" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="5946" class="Symbol">_</a>

        <a id="5957" href="SecureCompilation.Helpers.html#5957" class="Function">secrets≡</a> <a id="5966" class="Symbol">:</a> <a id="5968" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="5975" href="SecureCompilation.Helpers.html#4725" class="Function">Γ′</a> <a id="5978" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="5980" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="5987" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="5989" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="5992" href="SecureCompilation.Helpers.html#4793" class="Function">as</a>
        <a id="6003" href="SecureCompilation.Helpers.html#5957" class="Function">secrets≡</a> <a id="6012" class="Symbol">=</a>
          <a id="6024" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
            <a id="6042" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="6049" href="SecureCompilation.Helpers.html#4725" class="Function">Γ′</a>
          <a id="6062" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6065" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="6093" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="6100" class="Symbol">(</a><a id="6101" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="6103" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6105" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="6108" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6112" class="Symbol">(</a><a id="6113" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="6121" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6123" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="6125" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="6130" class="Symbol">)</a> <a id="6132" href="SecureCompilation.Helpers.html#4672" class="Bound">Δ</a><a id="6133" class="Symbol">)</a> <a id="6135" class="Symbol">(</a><a id="6136" href="SecureCompilation.Helpers.html#4666" class="Bound">A</a> <a id="6138" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="6144" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="6147" href="SecureCompilation.Helpers.html#4668" class="Bound">ad</a> <a id="6150" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="6151" class="Symbol">)</a> <a id="6153" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="6167" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="6174" class="Symbol">(</a><a id="6175" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="6177" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6179" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="6182" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6186" class="Symbol">(</a><a id="6187" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="6195" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6197" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="6199" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="6204" class="Symbol">)</a> <a id="6206" href="SecureCompilation.Helpers.html#4672" class="Bound">Δ</a><a id="6207" class="Symbol">)</a> <a id="6209" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6212" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
          <a id="6225" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6228" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="6243" class="Symbol">_</a> <a id="6245" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="6259" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="6266" class="Symbol">(</a><a id="6267" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="6269" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6271" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="6274" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6278" class="Symbol">(</a><a id="6279" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="6287" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6289" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="6291" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="6296" class="Symbol">)</a> <a id="6298" href="SecureCompilation.Helpers.html#4672" class="Bound">Δ</a><a id="6299" class="Symbol">)</a>
          <a id="6311" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6314" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="6342" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="6349" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="6351" class="Symbol">(</a><a id="6352" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="6355" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6359" class="Symbol">(</a><a id="6360" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="6368" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6370" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="6372" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="6377" class="Symbol">)</a> <a id="6379" href="SecureCompilation.Helpers.html#4672" class="Bound">Δ</a><a id="6380" class="Symbol">)</a> <a id="6382" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="6396" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="6403" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="6405" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6408" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="6415" class="Symbol">(</a><a id="6416" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="6419" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6423" class="Symbol">(</a><a id="6424" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="6432" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6434" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="6436" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="6441" class="Symbol">)</a> <a id="6443" href="SecureCompilation.Helpers.html#4672" class="Bound">Δ</a><a id="6444" class="Symbol">)</a>
          <a id="6456" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6459" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="6464" class="Symbol">(</a><a id="6465" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="6472" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="6474" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="6477" class="Symbol">)</a> <a id="6479" class="Symbol">(</a><a id="6480" href="SecureCompilation.Helpers.html#6545" class="Function">hˡ</a> <a id="6483" href="SecureCompilation.Helpers.html#4672" class="Bound">Δ</a><a id="6484" class="Symbol">)</a> <a id="6486" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="6500" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="6507" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="6509" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6512" href="SecureCompilation.Helpers.html#4793" class="Function">as</a>
          <a id="6525" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="6527" class="Keyword">where</a>
            <a id="6545" href="SecureCompilation.Helpers.html#6545" class="Function">hˡ</a> <a id="6548" class="Symbol">:</a> <a id="6550" class="Symbol">∀</a> <a id="6552" href="SecureCompilation.Helpers.html#6552" class="Bound">Δ</a> <a id="6554" class="Symbol">→</a> <a id="6556" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="6563" class="Symbol">(</a><a id="6564" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="6567" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6571" class="Symbol">(</a><a id="6572" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="6580" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6582" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="6584" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="6589" class="Symbol">)</a> <a id="6591" href="SecureCompilation.Helpers.html#6552" class="Bound">Δ</a><a id="6592" class="Symbol">)</a> <a id="6594" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="6596" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="6602" class="Symbol">(</a><a id="6603" href="Data.List.Base.html#3708" class="Function">unzip</a> <a id="6609" href="SecureCompilation.Helpers.html#6552" class="Bound">Δ</a><a id="6610" class="Symbol">)</a>
            <a id="6624" href="SecureCompilation.Helpers.html#6545" class="Function">hˡ</a> <a id="6627" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="6630" class="Symbol">=</a> <a id="6632" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
            <a id="6649" href="SecureCompilation.Helpers.html#6545" class="Function">hˡ</a> <a id="6652" class="Symbol">(_</a> <a id="6655" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6657" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="6659" class="Symbol">)</a> <a id="6661" class="Symbol">=</a> <a id="6663" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
            <a id="6680" href="SecureCompilation.Helpers.html#6545" class="Function">hˡ</a> <a id="6683" class="Symbol">((</a><a id="6685" href="SecureCompilation.Helpers.html#6685" class="Bound">s</a> <a id="6687" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6689" href="SecureCompilation.Helpers.html#6689" class="Bound">m</a><a id="6690" class="Symbol">)</a> <a id="6692" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6694" href="SecureCompilation.Helpers.html#6694" class="Bound">Δ</a><a id="6695" class="Symbol">@(_</a> <a id="6699" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6701" class="Symbol">_))</a> <a id="6705" class="Symbol">=</a>
              <a id="6721" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
                <a id="6743" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="6750" class="Symbol">(</a><a id="6751" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6753" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="6755" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶</a> <a id="6757" href="SecureCompilation.Helpers.html#6685" class="Bound">s</a> <a id="6759" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">♯</a> <a id="6761" href="SecureCompilation.Helpers.html#6689" class="Bound">m</a> <a id="6763" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟩</a> <a id="6765" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6767" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="6770" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6774" class="Symbol">(</a><a id="6775" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="6783" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6785" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="6787" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="6792" class="Symbol">)</a> <a id="6794" href="SecureCompilation.Helpers.html#6694" class="Bound">Δ</a><a id="6795" class="Symbol">)</a>
              <a id="6811" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6814" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="6842" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="6849" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6851" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="6853" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶</a> <a id="6855" href="SecureCompilation.Helpers.html#6685" class="Bound">s</a> <a id="6857" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">♯</a> <a id="6859" href="SecureCompilation.Helpers.html#6689" class="Bound">m</a> <a id="6861" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟩</a> <a id="6863" class="Symbol">(</a><a id="6864" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="6867" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6871" class="Symbol">(</a><a id="6872" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="6880" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6882" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="6884" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="6889" class="Symbol">)</a> <a id="6891" href="SecureCompilation.Helpers.html#6694" class="Bound">Δ</a><a id="6892" class="Symbol">)</a> <a id="6894" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="6912" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="6919" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6921" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="6923" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶</a> <a id="6925" href="SecureCompilation.Helpers.html#6685" class="Bound">s</a> <a id="6927" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">♯</a> <a id="6929" href="SecureCompilation.Helpers.html#6689" class="Bound">m</a> <a id="6931" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟩</a> <a id="6933" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6936" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="6943" class="Symbol">(</a><a id="6944" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="6947" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6951" class="Symbol">(</a><a id="6952" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="6960" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6962" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="6964" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="6969" class="Symbol">)</a> <a id="6971" href="SecureCompilation.Helpers.html#6694" class="Bound">Δ</a><a id="6972" class="Symbol">)</a>
              <a id="6988" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
                <a id="7008" href="SecureCompilation.Helpers.html#6685" class="Bound">s</a> <a id="7010" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7012" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="7019" class="Symbol">(</a><a id="7020" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="7023" href="Data.List.Base.html#1553" class="Function">map</a> <a id="7027" class="Symbol">(</a><a id="7028" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="7036" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="7038" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="7040" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="7045" class="Symbol">)</a> <a id="7047" href="SecureCompilation.Helpers.html#6694" class="Bound">Δ</a><a id="7048" class="Symbol">)</a>
              <a id="7064" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="7067" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="7072" class="Symbol">(</a><a id="7073" href="SecureCompilation.Helpers.html#6685" class="Bound">s</a> <a id="7075" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷_</a><a id="7077" class="Symbol">)</a> <a id="7079" class="Symbol">(</a><a id="7080" href="SecureCompilation.Helpers.html#6545" class="Function">hˡ</a> <a id="7083" href="SecureCompilation.Helpers.html#6694" class="Bound">Δ</a><a id="7084" class="Symbol">)</a> <a id="7086" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="7104" href="SecureCompilation.Helpers.html#6685" class="Bound">s</a> <a id="7106" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7108" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="7114" class="Symbol">(</a><a id="7115" href="Data.List.Base.html#3708" class="Function">unzip</a> <a id="7121" href="SecureCompilation.Helpers.html#6694" class="Bound">Δ</a><a id="7122" class="Symbol">)</a>
              <a id="7138" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

        <a id="7149" href="SecureCompilation.Helpers.html#7149" class="Function">hᵃ</a> <a id="7152" class="Symbol">:</a> <a id="7154" class="Symbol">∀</a> <a id="7156" href="SecureCompilation.Helpers.html#7156" class="Bound">Δ</a> <a id="7158" class="Symbol">→</a> <a id="7160" href="Prelude.Null.html#263" class="Field">Null</a> <a id="7165" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="7167" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="7182" class="Symbol">(</a><a id="7183" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="7186" href="Data.List.Base.html#1553" class="Function">map</a> <a id="7190" class="Symbol">(</a><a id="7191" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="7199" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="7201" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="7203" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="7208" class="Symbol">)</a> <a id="7210" href="SecureCompilation.Helpers.html#7156" class="Bound">Δ</a><a id="7211" class="Symbol">)</a>
        <a id="7221" href="SecureCompilation.Helpers.html#7149" class="Function">hᵃ</a> <a id="7224" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="7227" class="Symbol">=</a> <a id="7229" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="7242" href="SecureCompilation.Helpers.html#7149" class="Function">hᵃ</a> <a id="7245" class="Symbol">(_</a> <a id="7248" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7250" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="7252" class="Symbol">)</a> <a id="7254" class="Symbol">=</a> <a id="7256" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="7269" href="SecureCompilation.Helpers.html#7149" class="Function">hᵃ</a> <a id="7272" class="Symbol">(_</a> <a id="7275" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7277" href="SecureCompilation.Helpers.html#7277" class="Bound">Δ</a><a id="7278" class="Symbol">@(_</a> <a id="7282" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7284" class="Symbol">_))</a> <a id="7288" class="Keyword">rewrite</a> <a id="7296" href="SecureCompilation.Helpers.html#7149" class="Function">hᵃ</a> <a id="7299" href="SecureCompilation.Helpers.html#7277" class="Bound">Δ</a> <a id="7301" class="Symbol">=</a> <a id="7303" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="7318" class="Symbol">_</a>

        <a id="7329" href="SecureCompilation.Helpers.html#7329" class="Function">ads≡</a> <a id="7334" class="Symbol">:</a> <a id="7336" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="7351" href="SecureCompilation.Helpers.html#4725" class="Function">Γ′</a> <a id="7354" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="7356" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="7371" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="7373" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="7376" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="7391" class="Symbol">(</a><a id="7392" href="SecureCompilation.Helpers.html#4666" class="Bound">A</a> <a id="7394" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="7400" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="7403" href="SecureCompilation.Helpers.html#4668" class="Bound">ad</a> <a id="7406" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="7407" class="Symbol">)</a>
        <a id="7417" href="SecureCompilation.Helpers.html#7329" class="Function">ads≡</a> <a id="7422" class="Keyword">rewrite</a> <a id="7430" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="7449" class="Symbol">{</a><a id="7450" class="Argument">X</a> <a id="7452" class="Symbol">=</a> <a id="7454" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="7456" class="Symbol">}</a>
                       <a id="7481" class="Symbol">(</a><a id="7482" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="7484" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="7486" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="7489" href="Data.List.Base.html#1553" class="Function">map</a> <a id="7493" class="Symbol">(</a><a id="7494" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="7502" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="7504" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="7506" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="7511" class="Symbol">)</a> <a id="7513" href="SecureCompilation.Helpers.html#4672" class="Bound">Δ</a><a id="7514" class="Symbol">)</a> <a id="7516" class="Symbol">(</a><a id="7517" href="SecureCompilation.Helpers.html#4666" class="Bound">A</a> <a id="7519" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="7525" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="7528" href="SecureCompilation.Helpers.html#4668" class="Bound">ad</a> <a id="7531" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="7532" class="Symbol">)</a>
                    <a id="7554" class="Symbol">|</a> <a id="7556" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="7575" class="Symbol">{</a><a id="7576" class="Argument">X</a> <a id="7578" class="Symbol">=</a> <a id="7580" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="7582" class="Symbol">}</a>
                        <a id="7608" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="7610" class="Symbol">(</a><a id="7611" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="7614" href="Data.List.Base.html#1553" class="Function">map</a> <a id="7618" class="Symbol">(</a><a id="7619" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="7627" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="7629" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="7631" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="7636" class="Symbol">)</a> <a id="7638" href="SecureCompilation.Helpers.html#4672" class="Bound">Δ</a><a id="7639" class="Symbol">)</a>
                    <a id="7661" class="Symbol">|</a> <a id="7663" href="SecureCompilation.Helpers.html#7149" class="Function">hᵃ</a> <a id="7666" href="SecureCompilation.Helpers.html#4672" class="Bound">Δ</a>
                    <a id="7688" class="Symbol">|</a> <a id="7690" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="7705" class="Symbol">(</a><a id="7706" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="7721" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a><a id="7722" class="Symbol">)</a>
                    <a id="7744" class="Symbol">=</a> <a id="7746" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

        <a id="7760" href="SecureCompilation.Helpers.html#7760" class="Function">txout↝</a> <a id="7767" class="Symbol">:</a> <a id="7769" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="7771" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="7774" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="7780" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="7782" href="SecureCompilation.Helpers.html#4725" class="Function">Γ′</a>
        <a id="7793" class="Comment">-- txout↝ = lift Γ —⟨ namesʳ ⟩— Γ′ ⊣ ids≡</a>
        <a id="7843" href="SecureCompilation.Helpers.html#7760" class="Function">txout↝</a> <a id="7850" href="SecureCompilation.Helpers.html#7850" class="Bound">txoutΓ</a> <a id="7857" class="Symbol">{</a><a id="7858" href="SecureCompilation.Helpers.html#7858" class="Bound">x</a><a id="7859" class="Symbol">}</a> <a id="7861" href="SecureCompilation.Helpers.html#7861" class="Bound">x∈</a>
          <a id="7874" class="Keyword">with</a> <a id="7879" href="BitML.Semantics.Configurations.Helpers.html#10161" class="Function">∈-ids-++⁻</a> <a id="7889" class="Symbol">(</a><a id="7890" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="7892" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="7894" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="7897" href="Data.List.Base.html#1553" class="Function">map</a> <a id="7901" class="Symbol">(</a><a id="7902" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="7910" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="7912" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="7914" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="7919" class="Symbol">)</a> <a id="7921" href="SecureCompilation.Helpers.html#4672" class="Bound">Δ</a><a id="7922" class="Symbol">)</a> <a id="7924" class="Symbol">(</a><a id="7925" href="SecureCompilation.Helpers.html#4666" class="Bound">A</a> <a id="7927" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="7933" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="7936" href="SecureCompilation.Helpers.html#4668" class="Bound">ad</a> <a id="7939" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="7940" class="Symbol">)</a> <a id="7942" href="SecureCompilation.Helpers.html#7861" class="Bound">x∈</a>
        <a id="7953" class="Symbol">...</a> <a id="7957" class="Symbol">|</a> <a id="7959" href="Data.Sum.Base.html#818" class="InductiveConstructor">inj₂</a> <a id="7964" class="Symbol">()</a>
        <a id="7975" class="Symbol">...</a> <a id="7979" class="Symbol">|</a> <a id="7981" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="7986" href="SecureCompilation.Helpers.html#7986" class="Bound">x∈</a>
          <a id="7999" class="Keyword">with</a> <a id="8004" href="BitML.Semantics.Configurations.Helpers.html#10161" class="Function">∈-ids-++⁻</a> <a id="8014" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="8016" class="Symbol">(</a><a id="8017" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="8020" href="Data.List.Base.html#1553" class="Function">map</a> <a id="8024" class="Symbol">(</a><a id="8025" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="8033" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="8035" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="8037" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="8042" class="Symbol">)</a> <a id="8044" href="SecureCompilation.Helpers.html#4672" class="Bound">Δ</a><a id="8045" class="Symbol">)</a> <a id="8047" href="SecureCompilation.Helpers.html#7986" class="Bound">x∈</a>
        <a id="8058" class="Symbol">...</a> <a id="8062" class="Symbol">|</a> <a id="8064" href="Data.Sum.Base.html#818" class="InductiveConstructor">inj₂</a> <a id="8069" href="SecureCompilation.Helpers.html#8069" class="Bound">x∈</a> <a id="8072" class="Symbol">=</a> <a id="8074" href="Prelude.Decidable.Core.html#347" class="Function">contradict</a> <a id="8085" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="8087" href="SecureCompilation.Helpers.html#8069" class="Bound">x∈</a> <a id="8090" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="8093" href="SecureCompilation.Helpers.html#8139" class="Function">hʳ</a> <a id="8096" href="SecureCompilation.Helpers.html#4672" class="Bound">Δ</a> <a id="8098" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="8100" class="Bound">x</a> <a id="8102" href="Data.List.Membership.Setoid.html#896" class="Function Operator">L.Mem.∈_</a> <a id="8111" href="Prelude.SubstDSL.html#164" class="Function">⟫</a>
          <a id="8123" class="Keyword">where</a>
          <a id="8139" href="SecureCompilation.Helpers.html#8139" class="Function">hʳ</a> <a id="8142" class="Symbol">:</a> <a id="8144" class="Symbol">∀</a> <a id="8146" href="SecureCompilation.Helpers.html#8146" class="Bound">Δ</a> <a id="8148" class="Symbol">→</a> <a id="8150" href="Prelude.Null.html#263" class="Field">Null</a> <a id="8155" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="8157" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="8164" class="Symbol">(</a><a id="8165" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="8168" href="Data.List.Base.html#1553" class="Function">map</a> <a id="8172" class="Symbol">(</a><a id="8173" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="8181" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="8183" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="8185" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="8190" class="Symbol">)</a> <a id="8192" href="SecureCompilation.Helpers.html#8146" class="Bound">Δ</a><a id="8193" class="Symbol">)</a>
          <a id="8205" href="SecureCompilation.Helpers.html#8139" class="Function">hʳ</a> <a id="8208" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="8211" class="Symbol">=</a> <a id="8213" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
          <a id="8228" href="SecureCompilation.Helpers.html#8139" class="Function">hʳ</a> <a id="8231" class="Symbol">(_</a> <a id="8234" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="8236" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="8238" class="Symbol">)</a> <a id="8240" class="Symbol">=</a> <a id="8242" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
          <a id="8257" href="SecureCompilation.Helpers.html#8139" class="Function">hʳ</a> <a id="8260" class="Symbol">(_</a> <a id="8263" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="8265" href="SecureCompilation.Helpers.html#8265" class="Bound">Δ</a><a id="8266" class="Symbol">@(_</a> <a id="8270" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="8272" class="Symbol">_))</a> <a id="8276" class="Keyword">rewrite</a> <a id="8284" href="SecureCompilation.Helpers.html#8139" class="Function">hʳ</a> <a id="8287" href="SecureCompilation.Helpers.html#8265" class="Bound">Δ</a> <a id="8289" class="Symbol">=</a> <a id="8291" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="8306" class="Symbol">_</a>
        <a id="8316" class="Symbol">...</a> <a id="8320" class="Symbol">|</a> <a id="8322" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="8327" href="SecureCompilation.Helpers.html#8327" class="Bound">x∈</a> <a id="8330" class="Symbol">=</a> <a id="8332" class="Bound">txoutΓ</a> <a id="8339" href="SecureCompilation.Helpers.html#8327" class="Bound">x∈</a>

        <a id="8351" href="SecureCompilation.Helpers.html#8351" class="Function">sechash↝</a> <a id="8360" class="Symbol">:</a>  <a id="8363" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="8365" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="8368" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="8376" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="8378" href="SecureCompilation.Helpers.html#4725" class="Function">Γ′</a>
        <a id="8389" href="SecureCompilation.Helpers.html#8351" class="Function">sechash↝</a> <a id="8398" href="SecureCompilation.Helpers.html#8398" class="Bound">sechash′</a> <a id="8407" class="Symbol">=</a> <a id="8409" href="Prelude.Lists.Mappings.html#1750" class="Function">extend-↦</a> <a id="8418" class="Symbol">(</a><a id="8419" href="Data.List.Relation.Binary.Permutation.Propositional.html#1377" class="Function">↭-reflexive</a> <a id="8431" href="SecureCompilation.Helpers.html#5957" class="Function">secrets≡</a><a id="8439" class="Symbol">)</a> <a id="8441" href="SecureCompilation.Helpers.html#8398" class="Bound">sechash′</a> <a id="8450" href="SecureCompilation.Helpers.html#4829" class="Bound">sechash⁺</a>

        <a id="8468" href="SecureCompilation.Helpers.html#8468" class="Function">κ↝</a> <a id="8471" class="Symbol">:</a> <a id="8473" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="8475" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="8478" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="8481" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="8483" href="SecureCompilation.Helpers.html#4725" class="Function">Γ′</a>
        <a id="8494" href="SecureCompilation.Helpers.html#8468" class="Function">κ↝</a> <a id="8497" href="SecureCompilation.Helpers.html#8497" class="Bound">κ′</a> <a id="8500" class="Symbol">=</a> <a id="8502" href="Prelude.Lists.Mappings.html#1750" class="Function">extend-↦</a> <a id="8511" class="Symbol">(</a><a id="8512" href="Data.List.Relation.Binary.Permutation.Propositional.html#1377" class="Function">↭-reflexive</a> <a id="8524" href="SecureCompilation.Helpers.html#7329" class="Function">ads≡</a><a id="8528" class="Symbol">)</a> <a id="8530" href="SecureCompilation.Helpers.html#8497" class="Bound">κ′</a> <a id="8533" href="SecureCompilation.Helpers.html#8564" class="Function">κ″</a>
          <a id="8546" class="Keyword">where</a>
            <a id="8564" href="SecureCompilation.Helpers.html#8564" class="Function">κ″</a> <a id="8567" class="Symbol">:</a> <a id="8569" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="8584" class="Symbol">(</a><a id="8585" href="SecureCompilation.Helpers.html#4666" class="Bound">A</a> <a id="8587" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="8593" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="8596" href="SecureCompilation.Helpers.html#4668" class="Bound">ad</a> <a id="8599" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="8600" class="Symbol">)</a> <a id="8602" href="Prelude.Lists.Mappings.html#654" class="Function Operator">↦′</a> <a id="8605" href="Compiler.Mappings.html#454" class="Function">𝕂²′</a>
            <a id="8621" href="SecureCompilation.Helpers.html#8564" class="Function">κ″</a> <a id="8624" href="SecureCompilation.Helpers.html#8624" class="Bound">x∈</a> <a id="8627" class="Keyword">with</a> <a id="8632" href="Relation.Nullary.html#1590" class="Field">does</a> <a id="8637" class="Symbol">(</a><a id="8638" href="SecureCompilation.Helpers.html#4666" class="Bound">A</a> <a id="8640" href="Prelude.Membership.html#455" class="Field Operator">∈?</a> <a id="8643" href="BitML.BasicTypes.html#785" class="Function">Hon</a><a id="8646" class="Symbol">)</a> <a id="8648" class="Symbol">|</a> <a id="8650" href="SecureCompilation.Helpers.html#8624" class="Bound">x∈</a>
            <a id="8665" class="Symbol">...</a> <a id="8669" class="Symbol">|</a> <a id="8671" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>  <a id="8677" class="Symbol">|</a> <a id="8679" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="8684" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="8689" class="Symbol">=</a> <a id="8691" href="SecureCompilation.Helpers.html#4849" class="Bound">k⃗</a>
            <a id="8706" class="Symbol">...</a> <a id="8710" class="Symbol">|</a> <a id="8712" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a> <a id="8718" class="Symbol">|</a> <a id="8720" class="Symbol">()</a>

        <a id="8732" href="SecureCompilation.Helpers.html#8732" class="Function">Γ″</a> <a id="8735" class="Symbol">=</a> <a id="8737" href="SecureCompilation.Helpers.html#4897" class="Bound">∃Γ≈</a> <a id="8741" class="Symbol">.</a><a id="8742" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a><a id="8747" class="Symbol">;</a> <a id="8749" href="SecureCompilation.Helpers.html#8749" class="Function">Γ≈</a> <a id="8752" class="Symbol">=</a> <a id="8754" href="SecureCompilation.Helpers.html#4897" class="Bound">∃Γ≈</a> <a id="8758" class="Symbol">.</a><a id="8759" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
        <a id="8773" href="SecureCompilation.Helpers.html#8773" class="Function">Γₜ</a> <a id="8776" href="SecureCompilation.Helpers.html#8776" class="Function">Γₜ′</a> <a id="8780" href="SecureCompilation.Helpers.html#8780" class="Function">Γₜ″</a> <a id="8784" class="Symbol">:</a> <a id="8786" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a><a id="8790" class="Symbol">;</a> <a id="8792" href="SecureCompilation.Helpers.html#8773" class="Function">Γₜ</a>  <a id="8796" class="Symbol">=</a> <a id="8798" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="8800" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="8803" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a><a id="8804" class="Symbol">;</a> <a id="8806" href="SecureCompilation.Helpers.html#8776" class="Function">Γₜ′</a> <a id="8810" class="Symbol">=</a> <a id="8812" href="SecureCompilation.Helpers.html#4725" class="Function">Γ′</a> <a id="8815" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="8818" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="8820" class="Symbol">;</a> <a id="8822" href="SecureCompilation.Helpers.html#8780" class="Function">Γₜ″</a> <a id="8826" class="Symbol">=</a> <a id="8828" href="SecureCompilation.Helpers.html#8732" class="Function">Γ″</a> <a id="8831" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="8834" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a>
      <a id="8843" class="Comment">-- abstract</a>
      <a id="8861" href="SecureCompilation.Helpers.html#8861" class="Function">λˢ</a> <a id="8864" class="Symbol">:</a> <a id="8866" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="8868" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="8870" href="SecureCompilation.Helpers.html#8780" class="Function">Γₜ″</a>
      <a id="8880" href="SecureCompilation.Helpers.html#8861" class="Function">λˢ</a> <a id="8883" class="Symbol">=</a> <a id="8885" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="8891" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="8893" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="8895" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="8897" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a> <a id="8900" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="8902" href="SecureCompilation.Helpers.html#4646" class="Bound">R≈</a> <a id="8905" href="SecureCompilation.Helpers.html#4725" class="Function">Γ′</a> <a id="8908" href="SecureCompilation.Helpers.html#4863" class="Bound">Γ→Γ′</a> <a id="8913" href="SecureCompilation.Helpers.html#4897" class="Bound">∃Γ≈</a> <a id="8917" href="SecureCompilation.Helpers.html#7760" class="Function">txout↝</a> <a id="8924" href="SecureCompilation.Helpers.html#8351" class="Function">sechash↝</a> <a id="8933" href="SecureCompilation.Helpers.html#8468" class="Function">κ↝</a>
      <a id="8942" class="Keyword">private</a>
        <a id="8958" href="SecureCompilation.Helpers.html#8958" class="Function">𝕒</a>  <a id="8961" class="Symbol">=</a> <a id="8963" href="SecureCompilation.Helpers.html#8861" class="Function">λˢ</a> <a id="8966" class="Symbol">.</a><a id="8967" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
        <a id="8981" href="SecureCompilation.Helpers.html#8981" class="Function">R′</a> <a id="8984" class="Symbol">=</a> <a id="8986" href="SecureCompilation.Helpers.html#8780" class="Function">Γₜ″</a> <a id="8990" href="SymbolicModel.Run.Base.html#2558" class="Function Operator">∷</a> <a id="8992" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="8994" href="SymbolicModel.Run.Base.html#2558" class="Function Operator">⊣</a> <a id="8996" href="SecureCompilation.Helpers.html#8958" class="Function">𝕒</a>

        <a id="9007" href="SecureCompilation.Helpers.html#9007" class="Function">𝕣′</a> <a id="9010" class="Symbol">:</a> <a id="9012" href="SymbolicModel.Mappings.Base.html#743" class="Function">ℝ</a> <a id="9014" href="SecureCompilation.Helpers.html#8981" class="Function">R′</a>
        <a id="9025" href="SecureCompilation.Helpers.html#9007" class="Function">𝕣′</a> <a id="9028" class="Symbol">=</a> <a id="9030" href="SymbolicModel.Mappings.Properties.html#4538" class="Function">ℝ-step</a> <a id="9037" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="9039" href="SecureCompilation.Helpers.html#8861" class="Function">λˢ</a>

        <a id="9051" href="SecureCompilation.Helpers.html#9051" class="Function">R≈′</a> <a id="9055" class="Symbol">:</a> <a id="9057" href="SecureCompilation.Helpers.html#8981" class="Function">R′</a> <a id="9060" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="9063" href="SecureCompilation.Helpers.html#4725" class="Function">Γ′</a> <a id="9066" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="9069" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a>
        <a id="9080" href="SecureCompilation.Helpers.html#9051" class="Function">R≈′</a> <a id="9084" class="Symbol">=</a> <a id="9086" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="9091" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="9093" href="SecureCompilation.Helpers.html#8749" class="Function">Γ≈</a>
      <a id="9102" class="Keyword">abstract</a>
        <a id="9119" href="SecureCompilation.Helpers.html#9119" class="Function">value-preserving⇒</a> <a id="9137" class="Symbol">:</a>
          <a id="9149" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="9166" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a>
          <a id="9178" href="Prelude.InferenceRules.html#14163" class="Function Operator">───────────────────</a>
          <a id="9208" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="9225" href="SecureCompilation.Helpers.html#9007" class="Function">𝕣′</a>
        <a id="9236" href="SecureCompilation.Helpers.html#9119" class="Function">value-preserving⇒</a> <a id="9254" href="SecureCompilation.Helpers.html#9254" class="Bound">pv-txout</a> <a id="9263" class="Symbol">=</a> <a id="9265" href="SecureCompilation.Helpers.html#10590" class="Function">pv-txout′</a>
          <a id="9285" class="Keyword">where</a>
          <a id="9301" class="Keyword">open</a> <a id="9306" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

          <a id="9329" href="SecureCompilation.Helpers.html#9329" class="Function">txoutR</a> <a id="9336" class="Symbol">:</a> <a id="9338" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="9344" class="Symbol">(</a><a id="9345" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="9347" href="SymbolicModel.Accessors.html#597" class="Function Operator">∙cfg</a><a id="9351" class="Symbol">)</a>
          <a id="9363" href="SecureCompilation.Helpers.html#9329" class="Function">txoutR</a> <a id="9370" class="Symbol">=</a> <a id="9372" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="9374" href="SymbolicModel.Mappings.Properties.html#12758" class="Function Operator">∙txoutEnd_</a>

          <a id="9396" href="SecureCompilation.Helpers.html#9396" class="Function">txoutΓ</a> <a id="9403" class="Symbol">:</a> <a id="9405" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="9411" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a>
          <a id="9423" href="SecureCompilation.Helpers.html#9396" class="Function">txoutΓ</a> <a id="9430" class="Symbol">=</a> <a id="9432" href="SymbolicModel.Mappings.Properties.html#671" class="Function">Txout≈</a> <a id="9439" class="Symbol">{</a><a id="9440" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="9442" href="SymbolicModel.Accessors.html#597" class="Function Operator">∙cfg</a><a id="9446" class="Symbol">}{</a><a id="9448" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a><a id="9449" class="Symbol">}</a> <a id="9451" class="Symbol">(</a><a id="9452" href="SecureCompilation.Helpers.html#4646" class="Bound">R≈</a> <a id="9455" class="Symbol">.</a><a id="9456" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="9461" class="Symbol">)</a> <a id="9463" href="SecureCompilation.Helpers.html#9329" class="Function">txoutR</a>

          <a id="9481" href="SecureCompilation.Helpers.html#9481" class="Function">pv-txoutΓ</a> <a id="9491" class="Symbol">:</a> <a id="9493" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="9509" class="Symbol">{</a><a id="9510" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a><a id="9511" class="Symbol">}</a> <a id="9513" href="SecureCompilation.Helpers.html#9396" class="Function">txoutΓ</a>
          <a id="9530" href="SecureCompilation.Helpers.html#9481" class="Function">pv-txoutΓ</a> <a id="9540" class="Symbol">=</a> <a id="9542" href="SymbolicModel.ValuePreservation.html#2568" class="Function">ValuePreserving-Txout≈</a> <a id="9565" class="Symbol">{</a><a id="9566" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="9568" href="SymbolicModel.Accessors.html#597" class="Function Operator">∙cfg</a><a id="9572" class="Symbol">}{</a><a id="9574" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a><a id="9575" class="Symbol">}</a> <a id="9577" class="Symbol">(</a><a id="9578" href="SecureCompilation.Helpers.html#4646" class="Bound">R≈</a> <a id="9581" class="Symbol">.</a><a id="9582" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="9587" class="Symbol">)</a> <a id="9589" href="SecureCompilation.Helpers.html#9329" class="Function">txoutR</a> <a id="9596" href="SecureCompilation.Helpers.html#9254" class="Bound">pv-txout</a>

          <a id="9616" href="SecureCompilation.Helpers.html#9616" class="Function">txoutΓ′</a> <a id="9624" class="Symbol">:</a> <a id="9626" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="9632" href="SecureCompilation.Helpers.html#4725" class="Function">Γ′</a>
          <a id="9645" href="SecureCompilation.Helpers.html#9616" class="Function">txoutΓ′</a> <a id="9653" class="Symbol">=</a> <a id="9655" href="SecureCompilation.Helpers.html#7760" class="Function">txout↝</a> <a id="9662" href="SecureCompilation.Helpers.html#9396" class="Function">txoutΓ</a>

          <a id="9680" href="SecureCompilation.Helpers.html#9680" class="Function">pv↝</a> <a id="9684" class="Symbol">:</a> <a id="9686" href="SymbolicModel.ValuePreservation.html#3292" class="Function">ValuePreserving↝</a> <a id="9703" class="Symbol">{</a><a id="9704" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a><a id="9705" class="Symbol">}{</a><a id="9707" href="SecureCompilation.Helpers.html#4725" class="Function">Γ′</a><a id="9709" class="Symbol">}</a> <a id="9711" href="SecureCompilation.Helpers.html#7760" class="Function">txout↝</a>
          <a id="9728" href="SecureCompilation.Helpers.html#9680" class="Function">pv↝</a> <a id="9732" href="SecureCompilation.Helpers.html#9732" class="Bound">txoutΓ</a> <a id="9739" href="SecureCompilation.Helpers.html#9739" class="Bound">pv-txoutΓ</a> <a id="9749" class="Symbol">{</a><a id="9750" href="SecureCompilation.Helpers.html#9750" class="Bound">x</a><a id="9751" class="Symbol">}</a> <a id="9753" href="SecureCompilation.Helpers.html#9753" class="Bound">x∈</a>
            <a id="9768" class="Keyword">with</a> <a id="9773" href="BitML.Semantics.Configurations.Helpers.html#10161" class="Function">∈-ids-++⁻</a> <a id="9783" class="Symbol">(</a><a id="9784" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="9786" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="9788" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="9791" href="Data.List.Base.html#1553" class="Function">map</a> <a id="9795" class="Symbol">(</a><a id="9796" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="9804" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="9806" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="9808" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="9813" class="Symbol">)</a> <a id="9815" href="SecureCompilation.Helpers.html#4672" class="Bound">Δ</a><a id="9816" class="Symbol">)</a> <a id="9818" class="Symbol">(</a><a id="9819" href="SecureCompilation.Helpers.html#4666" class="Bound">A</a> <a id="9821" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="9827" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="9830" href="SecureCompilation.Helpers.html#4668" class="Bound">ad</a> <a id="9833" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="9834" class="Symbol">)</a> <a id="9836" href="SecureCompilation.Helpers.html#9753" class="Bound">x∈</a>
          <a id="9849" class="Symbol">...</a> <a id="9853" class="Symbol">|</a> <a id="9855" href="Data.Sum.Base.html#818" class="InductiveConstructor">inj₂</a> <a id="9860" class="Symbol">()</a>
          <a id="9873" class="Symbol">...</a> <a id="9877" class="Symbol">|</a> <a id="9879" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="9884" href="SecureCompilation.Helpers.html#9884" class="Bound">x∈</a>
            <a id="9899" class="Keyword">with</a> <a id="9904" href="BitML.Semantics.Configurations.Helpers.html#10161" class="Function">∈-ids-++⁻</a> <a id="9914" href="SecureCompilation.Helpers.html#4643" class="Bound">Γ</a> <a id="9916" class="Symbol">(</a><a id="9917" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="9920" href="Data.List.Base.html#1553" class="Function">map</a> <a id="9924" class="Symbol">(</a><a id="9925" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="9933" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="9935" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="9937" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="9942" class="Symbol">)</a> <a id="9944" href="SecureCompilation.Helpers.html#4672" class="Bound">Δ</a><a id="9945" class="Symbol">)</a> <a id="9947" href="SecureCompilation.Helpers.html#9884" class="Bound">x∈</a>
          <a id="9960" class="Symbol">...</a> <a id="9964" class="Symbol">|</a> <a id="9966" href="Data.Sum.Base.html#818" class="InductiveConstructor">inj₂</a> <a id="9971" href="SecureCompilation.Helpers.html#9971" class="Bound">x∈</a> <a id="9974" class="Symbol">=</a> <a id="9976" href="Prelude.Decidable.Core.html#347" class="Function">contradict</a> <a id="9987" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="9989" href="SecureCompilation.Helpers.html#9971" class="Bound">x∈</a> <a id="9992" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="9995" href="SecureCompilation.Helpers.html#10045" class="Function">hʳ</a> <a id="9998" href="SecureCompilation.Helpers.html#4672" class="Bound">Δ</a> <a id="10000" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="10002" class="Bound">x</a> <a id="10004" href="Data.List.Membership.Setoid.html#896" class="Function Operator">L.Mem.∈_</a> <a id="10013" href="Prelude.SubstDSL.html#164" class="Function">⟫</a>
            <a id="10027" class="Keyword">where</a>
            <a id="10045" href="SecureCompilation.Helpers.html#10045" class="Function">hʳ</a> <a id="10048" class="Symbol">:</a> <a id="10050" class="Symbol">∀</a> <a id="10052" href="SecureCompilation.Helpers.html#10052" class="Bound">Δ</a> <a id="10054" class="Symbol">→</a> <a id="10056" href="Prelude.Null.html#263" class="Field">Null</a> <a id="10061" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="10063" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="10070" class="Symbol">(</a><a id="10071" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="10074" href="Data.List.Base.html#1553" class="Function">map</a> <a id="10078" class="Symbol">(</a><a id="10079" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="10087" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="10089" href="SecureCompilation.Helpers.html#4664" class="Bound">B</a> <a id="10091" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="10096" class="Symbol">)</a> <a id="10098" href="SecureCompilation.Helpers.html#10052" class="Bound">Δ</a><a id="10099" class="Symbol">)</a>
            <a id="10113" href="SecureCompilation.Helpers.html#10045" class="Function">hʳ</a> <a id="10116" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="10119" class="Symbol">=</a> <a id="10121" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
            <a id="10138" href="SecureCompilation.Helpers.html#10045" class="Function">hʳ</a> <a id="10141" class="Symbol">(_</a> <a id="10144" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="10146" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="10148" class="Symbol">)</a> <a id="10150" class="Symbol">=</a> <a id="10152" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
            <a id="10169" href="SecureCompilation.Helpers.html#10045" class="Function">hʳ</a> <a id="10172" class="Symbol">(_</a> <a id="10175" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="10177" href="SecureCompilation.Helpers.html#10177" class="Bound">Δ</a><a id="10178" class="Symbol">@(_</a> <a id="10182" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="10184" class="Symbol">_))</a> <a id="10188" class="Keyword">rewrite</a> <a id="10196" href="SecureCompilation.Helpers.html#10045" class="Function">hʳ</a> <a id="10199" href="SecureCompilation.Helpers.html#10177" class="Bound">Δ</a> <a id="10201" class="Symbol">=</a> <a id="10203" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="10218" class="Symbol">_</a>
          <a id="10230" class="Symbol">...</a> <a id="10234" class="Symbol">|</a> <a id="10236" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="10241" href="SecureCompilation.Helpers.html#10241" class="Bound">x∈</a> <a id="10244" class="Symbol">=</a> <a id="10246" class="Bound">pv-txoutΓ</a> <a id="10256" href="SecureCompilation.Helpers.html#10241" class="Bound">x∈</a>

          <a id="10270" href="SecureCompilation.Helpers.html#10270" class="Function">pv-txoutΓ′</a> <a id="10281" class="Symbol">:</a> <a id="10283" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="10299" class="Symbol">{</a><a id="10300" href="SecureCompilation.Helpers.html#4725" class="Function">Γ′</a><a id="10302" class="Symbol">}</a> <a id="10304" href="SecureCompilation.Helpers.html#9616" class="Function">txoutΓ′</a>
          <a id="10322" href="SecureCompilation.Helpers.html#10270" class="Function">pv-txoutΓ′</a> <a id="10333" class="Symbol">=</a> <a id="10335" href="SecureCompilation.Helpers.html#9680" class="Function">pv↝</a> <a id="10339" href="SecureCompilation.Helpers.html#9396" class="Function">txoutΓ</a> <a id="10346" href="SecureCompilation.Helpers.html#9481" class="Function">pv-txoutΓ</a>

          <a id="10367" href="SecureCompilation.Helpers.html#10367" class="Function">txoutΓ″</a> <a id="10375" class="Symbol">:</a> <a id="10377" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="10383" href="SecureCompilation.Helpers.html#8732" class="Function">Γ″</a>
          <a id="10396" href="SecureCompilation.Helpers.html#10367" class="Function">txoutΓ″</a> <a id="10404" class="Symbol">=</a> <a id="10406" href="SymbolicModel.Mappings.Properties.html#671" class="Function">Txout≈</a> <a id="10413" class="Symbol">{</a><a id="10414" href="SecureCompilation.Helpers.html#4725" class="Function">Γ′</a><a id="10416" class="Symbol">}{</a><a id="10418" href="SecureCompilation.Helpers.html#8732" class="Function">Γ″</a><a id="10420" class="Symbol">}</a> <a id="10422" class="Symbol">(</a><a id="10423" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="10429" href="SecureCompilation.Helpers.html#8749" class="Function">Γ≈</a><a id="10431" class="Symbol">)</a> <a id="10433" href="SecureCompilation.Helpers.html#9616" class="Function">txoutΓ′</a>

          <a id="10452" href="SecureCompilation.Helpers.html#10452" class="Function">pv-txoutΓ″</a> <a id="10463" class="Symbol">:</a> <a id="10465" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="10481" class="Symbol">{</a><a id="10482" href="SecureCompilation.Helpers.html#8732" class="Function">Γ″</a><a id="10484" class="Symbol">}</a> <a id="10486" href="SecureCompilation.Helpers.html#10367" class="Function">txoutΓ″</a>
          <a id="10504" href="SecureCompilation.Helpers.html#10452" class="Function">pv-txoutΓ″</a> <a id="10515" class="Symbol">=</a> <a id="10517" href="SymbolicModel.ValuePreservation.html#2568" class="Function">ValuePreserving-Txout≈</a> <a id="10540" class="Symbol">{</a><a id="10541" href="SecureCompilation.Helpers.html#4725" class="Function">Γ′</a><a id="10543" class="Symbol">}{</a><a id="10545" href="SecureCompilation.Helpers.html#8732" class="Function">Γ″</a><a id="10547" class="Symbol">}</a> <a id="10549" class="Symbol">(</a><a id="10550" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="10556" href="SecureCompilation.Helpers.html#8749" class="Function">Γ≈</a><a id="10558" class="Symbol">)</a> <a id="10560" href="SecureCompilation.Helpers.html#9616" class="Function">txoutΓ′</a> <a id="10568" href="SecureCompilation.Helpers.html#10270" class="Function">pv-txoutΓ′</a>

          <a id="10590" href="SecureCompilation.Helpers.html#10590" class="Function">pv-txout′</a> <a id="10600" class="Symbol">:</a> <a id="10602" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="10619" href="SecureCompilation.Helpers.html#9007" class="Function">𝕣′</a>
          <a id="10632" href="SecureCompilation.Helpers.html#10590" class="Function">pv-txout′</a> <a id="10642" href="SecureCompilation.Helpers.html#10642" class="Bound">x∈</a> <a id="10645" class="Symbol">=</a>
            <a id="10659" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
              <a id="10679" class="Symbol">(</a><a id="10680" href="SecureCompilation.Helpers.html#9007" class="Function">𝕣′</a> <a id="10683" href="SymbolicModel.Mappings.Properties.html#12758" class="Function Operator">∙txoutEnd</a> <a id="10693" href="SecureCompilation.Helpers.html#10642" class="Bound">x∈</a><a id="10695" class="Symbol">)</a> <a id="10697" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
            <a id="10716" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="10719" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="10724" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">_∙value</a> <a id="10732" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="10734" href="SymbolicModel.Mappings.Properties.html#9729" class="Function">txout∷∘namesʳ⦅end⦆⊆</a> <a id="10754" class="Symbol">{</a><a id="10755" class="Argument">R</a> <a id="10757" class="Symbol">=</a> <a id="10759" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a><a id="10760" class="Symbol">}</a> <a id="10762" href="SecureCompilation.Helpers.html#4863" class="Bound">Γ→Γ′</a> <a id="10767" class="Symbol">(</a><a id="10768" href="SecureCompilation.Helpers.html#9051" class="Function">R≈′</a> <a id="10772" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="10774" href="SecureCompilation.Helpers.html#4646" class="Bound">R≈</a><a id="10776" class="Symbol">)</a> <a id="10778" href="SecureCompilation.Helpers.html#9616" class="Function">txoutΓ′</a> <a id="10786" href="SymbolicModel.Mappings.Base.html#823" class="Function">txout′</a> <a id="10793" class="Symbol">_</a> <a id="10795" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
              <a id="10811" class="Symbol">(</a><a id="10812" href="SecureCompilation.Helpers.html#10367" class="Function">txoutΓ″</a> <a id="10820" href="SecureCompilation.Helpers.html#10642" class="Bound">x∈</a><a id="10822" class="Symbol">)</a> <a id="10824" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
            <a id="10843" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="10846" href="SecureCompilation.Helpers.html#10452" class="Function">pv-txoutΓ″</a> <a id="10857" class="Symbol">_</a> <a id="10859" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
              <a id="10875" class="Symbol">(</a><a id="10876" href="SecureCompilation.Helpers.html#8732" class="Function">Γ″</a> <a id="10879" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="10881" href="SecureCompilation.Helpers.html#10642" class="Bound">x∈</a><a id="10883" class="Symbol">)</a> <a id="10885" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
            <a id="10904" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

  <a id="10909" class="Comment">-- [3]</a>
  <a id="10918" class="Keyword">module</a> <a id="10925" href="SecureCompilation.Helpers.html#10925" class="Module">_</a> <a id="10927" href="SecureCompilation.Helpers.html#10927" class="Bound">ad</a> <a id="10930" href="SecureCompilation.Helpers.html#10930" class="Bound">Γ₀</a> <a id="10933" href="SecureCompilation.Helpers.html#10933" class="Bound">A</a> <a id="10935" href="SecureCompilation.Helpers.html#10935" class="Bound">x</a> <a id="10937" class="Keyword">where</a>
    <a id="10947" class="Keyword">private</a>
      <a id="10961" href="SecureCompilation.Helpers.html#10961" class="Function">Γ</a>  <a id="10964" class="Symbol">=</a> <a id="10966" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="10970" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="10972" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="10974" href="SecureCompilation.Helpers.html#10927" class="Bound">ad</a> <a id="10977" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="10979" href="SecureCompilation.Helpers.html#10930" class="Bound">Γ₀</a>
      <a id="10988" href="SecureCompilation.Helpers.html#10988" class="Function">Γ′</a> <a id="10991" class="Symbol">=</a> <a id="10993" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="10997" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="10999" href="SecureCompilation.Helpers.html#10961" class="Function">Γ</a> <a id="11001" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="11003" href="SecureCompilation.Helpers.html#10933" class="Bound">A</a> <a id="11005" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="11011" href="SecureCompilation.Helpers.html#10935" class="Bound">x</a> <a id="11013" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="11016" href="SecureCompilation.Helpers.html#10927" class="Bound">ad</a> <a id="11019" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a>
    <a id="11025" class="Keyword">module</a> <a id="11032" href="SecureCompilation.Helpers.html#11032" class="Module">H₃</a> <a id="11035" class="Symbol">(</a><a id="11036" href="SecureCompilation.Helpers.html#11036" class="Bound">R≈</a> <a id="11039" class="Symbol">:</a> <a id="11041" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="11043" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="11046" href="SecureCompilation.Helpers.html#10961" class="Function">Γ</a> <a id="11048" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="11051" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a><a id="11052" class="Symbol">)</a> <a id="11054" class="Symbol">(</a><a id="11055" href="SecureCompilation.Helpers.html#11055" class="Bound">Γ→Γ′</a> <a id="11060" class="Symbol">:</a> <a id="11062" href="SecureCompilation.Helpers.html#10961" class="Function">Γ</a> <a id="11064" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="11067" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="11069" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="11072" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="11074" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="11078" href="SecureCompilation.Helpers.html#10988" class="Function">Γ′</a> <a id="11081" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="11084" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="11086" class="Symbol">)</a> <a id="11088" class="Symbol">(</a><a id="11089" href="SecureCompilation.Helpers.html#11089" class="Bound">∃Γ≈</a> <a id="11093" class="Symbol">:</a> <a id="11095" href="Data.Product.html#1378" class="Function">∃</a> <a id="11097" class="Symbol">(</a><a id="11098" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="11101" href="SecureCompilation.Helpers.html#10988" class="Function">Γ′</a><a id="11103" class="Symbol">))</a>
              <a id="11120" class="Symbol">(</a><a id="11121" href="SecureCompilation.Helpers.html#11121" class="Bound">committedA</a> <a id="11132" class="Symbol">:</a> <a id="11134" href="BitML.Contracts.Collections.html#2548" class="Function">nub-participants</a> <a id="11151" href="SecureCompilation.Helpers.html#10927" class="Bound">ad</a> <a id="11154" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="11156" href="BitML.Semantics.Configurations.Helpers.html#11398" class="Function">committedParticipants</a> <a id="11178" href="SecureCompilation.Helpers.html#10927" class="Bound">ad</a> <a id="11181" href="SecureCompilation.Helpers.html#10961" class="Function">Γ</a><a id="11182" class="Symbol">)</a> <a id="11184" class="Keyword">where</a>
      <a id="11196" class="Keyword">private</a>
        <a id="11212" href="SecureCompilation.Helpers.html#11212" class="Function">𝕘</a> <a id="11214" class="Symbol">:</a> <a id="11216" href="SymbolicModel.Mappings.Base.html#1314" class="Function">𝔾</a> <a id="11218" href="SecureCompilation.Helpers.html#10927" class="Bound">ad</a>
        <a id="11229" href="SecureCompilation.Helpers.html#11212" class="Function">𝕘</a> <a id="11231" class="Symbol">=</a> <a id="11233" href="SymbolicModel.Helpers.html#3335" class="Function">LIFT₀</a> <a id="11239" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="11241" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="11243" href="SecureCompilation.Helpers.html#10961" class="Function">Γ</a> <a id="11245" href="SecureCompilation.Helpers.html#11036" class="Bound">R≈</a> <a id="11248" href="SecureCompilation.Helpers.html#10927" class="Bound">ad</a> <a id="11251" class="Symbol">(</a><a id="11252" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="11257" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="11261" class="Symbol">)</a> <a id="11263" href="SecureCompilation.Helpers.html#11121" class="Bound">committedA</a>
      <a id="11280" class="Comment">-- abstract</a>
      <a id="11298" href="SecureCompilation.Helpers.html#11298" class="Function">T</a> <a id="11300" class="Symbol">:</a> <a id="11302" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
      <a id="11312" href="SecureCompilation.Helpers.html#11298" class="Function">T</a> <a id="11314" class="Symbol">=</a> <a id="11316" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="11319" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="11322" href="SecureCompilation.Helpers.html#1668" class="Function">COMPILE</a> <a id="11330" href="SecureCompilation.Helpers.html#11212" class="Function">𝕘</a> <a id="11332" class="Symbol">.</a><a id="11333" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
      <a id="11345" class="Keyword">private</a>
        <a id="11361" href="SecureCompilation.Helpers.html#11361" class="Function">names≡</a> <a id="11368" class="Symbol">:</a> <a id="11370" href="SecureCompilation.Helpers.html#10988" class="Function">Γ′</a> <a id="11373" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="11376" href="BitML.Contracts.Collections.html#4018" class="Function">names</a> <a id="11382" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="11384" href="SecureCompilation.Helpers.html#10961" class="Function">Γ</a>
        <a id="11394" href="SecureCompilation.Helpers.html#11361" class="Function">names≡</a> <a id="11401" class="Keyword">rewrite</a> <a id="11409" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="11428" class="Symbol">{</a><a id="11429" class="Argument">X</a> <a id="11431" class="Symbol">=</a> <a id="11433" href="BitML.BasicTypes.html#375" class="Function">Name</a><a id="11437" class="Symbol">}</a> <a id="11439" href="SecureCompilation.Helpers.html#10961" class="Function">Γ</a> <a id="11441" class="Symbol">(</a><a id="11442" href="SecureCompilation.Helpers.html#10933" class="Bound">A</a> <a id="11444" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="11450" href="SecureCompilation.Helpers.html#10935" class="Bound">x</a> <a id="11452" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="11455" href="SecureCompilation.Helpers.html#10927" class="Bound">ad</a> <a id="11458" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="11459" class="Symbol">)</a> <a id="11461" class="Symbol">=</a> <a id="11463" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="11478" class="Symbol">_</a>

        <a id="11489" href="SecureCompilation.Helpers.html#11489" class="Function">ids≡</a> <a id="11494" class="Symbol">:</a> <a id="11496" href="SecureCompilation.Helpers.html#10988" class="Function">Γ′</a> <a id="11499" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="11502" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="11509" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="11511" href="SecureCompilation.Helpers.html#10961" class="Function">Γ</a>
        <a id="11521" href="SecureCompilation.Helpers.html#11489" class="Function">ids≡</a> <a id="11526" class="Symbol">=</a> <a id="11528" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="11533" href="Prelude.Lists.Core.html#2266" class="Function">filter₂</a> <a id="11541" href="SecureCompilation.Helpers.html#11361" class="Function">names≡</a>

        <a id="11557" href="SecureCompilation.Helpers.html#11557" class="Function">secrets≡</a> <a id="11566" class="Symbol">:</a> <a id="11568" href="SecureCompilation.Helpers.html#10988" class="Function">Γ′</a> <a id="11571" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="11574" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="11581" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="11583" href="SecureCompilation.Helpers.html#10961" class="Function">Γ</a>
        <a id="11593" href="SecureCompilation.Helpers.html#11557" class="Function">secrets≡</a> <a id="11602" class="Symbol">=</a> <a id="11604" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="11609" href="Prelude.Lists.Core.html#2207" class="Function">filter₁</a> <a id="11617" href="SecureCompilation.Helpers.html#11361" class="Function">names≡</a>

        <a id="11633" href="SecureCompilation.Helpers.html#11633" class="Function">ads≡</a> <a id="11638" class="Symbol">:</a> <a id="11640" href="SecureCompilation.Helpers.html#10988" class="Function">Γ′</a> <a id="11643" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="11646" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="11661" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="11663" href="SecureCompilation.Helpers.html#10961" class="Function">Γ</a>
        <a id="11673" href="SecureCompilation.Helpers.html#11633" class="Function">ads≡</a> <a id="11678" class="Keyword">rewrite</a> <a id="11686" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="11705" class="Symbol">{</a><a id="11706" class="Argument">X</a> <a id="11708" class="Symbol">=</a> <a id="11710" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="11712" class="Symbol">}</a> <a id="11714" href="SecureCompilation.Helpers.html#10961" class="Function">Γ</a> <a id="11716" class="Symbol">(</a><a id="11717" href="SecureCompilation.Helpers.html#10933" class="Bound">A</a> <a id="11719" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="11725" href="SecureCompilation.Helpers.html#10935" class="Bound">x</a> <a id="11727" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="11730" href="SecureCompilation.Helpers.html#10927" class="Bound">ad</a> <a id="11733" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="11734" class="Symbol">)</a> <a id="11736" class="Symbol">=</a> <a id="11738" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="11753" class="Symbol">_</a>

        <a id="11764" href="SecureCompilation.Helpers.html#11764" class="Function">txout↝</a> <a id="11771" class="Symbol">:</a> <a id="11773" href="SecureCompilation.Helpers.html#10961" class="Function">Γ</a> <a id="11775" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="11778" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="11784" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="11786" href="SecureCompilation.Helpers.html#10988" class="Function">Γ′</a>
        <a id="11797" href="SecureCompilation.Helpers.html#11764" class="Function">txout↝</a> <a id="11804" href="SecureCompilation.Helpers.html#11804" class="Bound">txout′</a> <a id="11811" class="Keyword">rewrite</a> <a id="11819" href="SecureCompilation.Helpers.html#11489" class="Function">ids≡</a> <a id="11824" class="Symbol">=</a> <a id="11826" href="SecureCompilation.Helpers.html#11804" class="Bound">txout′</a>

        <a id="11842" href="SecureCompilation.Helpers.html#11842" class="Function">sechash↝</a> <a id="11851" class="Symbol">:</a> <a id="11853" href="SecureCompilation.Helpers.html#10961" class="Function">Γ</a> <a id="11855" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="11858" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="11866" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="11868" href="SecureCompilation.Helpers.html#10988" class="Function">Γ′</a>
        <a id="11879" href="SecureCompilation.Helpers.html#11842" class="Function">sechash↝</a> <a id="11888" href="SecureCompilation.Helpers.html#11888" class="Bound">sechash′</a> <a id="11897" class="Keyword">rewrite</a> <a id="11905" href="SecureCompilation.Helpers.html#11557" class="Function">secrets≡</a> <a id="11914" class="Symbol">=</a> <a id="11916" href="SecureCompilation.Helpers.html#11888" class="Bound">sechash′</a>

        <a id="11934" href="SecureCompilation.Helpers.html#11934" class="Function">κ↝</a> <a id="11937" class="Symbol">:</a> <a id="11939" href="SecureCompilation.Helpers.html#10961" class="Function">Γ</a> <a id="11941" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="11944" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="11947" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="11949" href="SecureCompilation.Helpers.html#10988" class="Function">Γ′</a>
        <a id="11960" href="SecureCompilation.Helpers.html#11934" class="Function">κ↝</a> <a id="11963" href="SecureCompilation.Helpers.html#11963" class="Bound">κ′</a> <a id="11966" class="Keyword">rewrite</a> <a id="11974" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="11993" class="Symbol">{</a><a id="11994" class="Argument">X</a> <a id="11996" class="Symbol">=</a> <a id="11998" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="12000" class="Symbol">}</a> <a id="12002" href="SecureCompilation.Helpers.html#10961" class="Function">Γ</a> <a id="12004" class="Symbol">(</a><a id="12005" href="SecureCompilation.Helpers.html#10933" class="Bound">A</a> <a id="12007" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="12013" href="SecureCompilation.Helpers.html#10935" class="Bound">x</a> <a id="12015" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="12018" href="SecureCompilation.Helpers.html#10927" class="Bound">ad</a> <a id="12021" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="12022" class="Symbol">)</a>
                    <a id="12044" class="Symbol">|</a> <a id="12046" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="12061" class="Symbol">(</a><a id="12062" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="12077" href="SecureCompilation.Helpers.html#10961" class="Function">Γ</a><a id="12078" class="Symbol">)</a>
                    <a id="12100" class="Symbol">=</a> <a id="12102" href="SecureCompilation.Helpers.html#11963" class="Bound">κ′</a>
      <a id="12111" class="Comment">-- abstract</a>
      <a id="12129" href="SecureCompilation.Helpers.html#12129" class="Function">λˢ</a> <a id="12132" class="Symbol">:</a> <a id="12134" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="12136" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="12138" class="Symbol">(</a><a id="12139" href="SecureCompilation.Helpers.html#11089" class="Bound">∃Γ≈</a> <a id="12143" class="Symbol">.</a><a id="12144" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="12150" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="12153" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="12155" class="Symbol">)</a>
      <a id="12163" href="SecureCompilation.Helpers.html#12129" class="Function">λˢ</a> <a id="12166" class="Symbol">=</a> <a id="12168" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="12174" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="12176" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="12178" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="12180" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a> <a id="12183" href="SecureCompilation.Helpers.html#10961" class="Function">Γ</a> <a id="12185" href="SecureCompilation.Helpers.html#11036" class="Bound">R≈</a> <a id="12188" href="SecureCompilation.Helpers.html#10988" class="Function">Γ′</a> <a id="12191" href="SecureCompilation.Helpers.html#11055" class="Bound">Γ→Γ′</a> <a id="12196" href="SecureCompilation.Helpers.html#11089" class="Bound">∃Γ≈</a> <a id="12200" href="SecureCompilation.Helpers.html#11764" class="Function">txout↝</a> <a id="12207" href="SecureCompilation.Helpers.html#11842" class="Function">sechash↝</a> <a id="12216" href="SecureCompilation.Helpers.html#11934" class="Function">κ↝</a>

  <a id="12222" class="Comment">-- [4]</a>
  <a id="12231" class="Keyword">module</a> <a id="12238" href="SecureCompilation.Helpers.html#12238" class="Module">_</a> <a id="12240" href="SecureCompilation.Helpers.html#12240" class="Bound">ad</a> <a id="12243" href="SecureCompilation.Helpers.html#12243" class="Bound">Γ₀</a> <a id="12246" class="Symbol">(</a><a id="12247" href="SecureCompilation.Helpers.html#12247" class="Bound">ds</a> <a id="12250" class="Symbol">:</a> <a id="12252" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="12257" href="BitML.Contracts.Types.html#2627" class="Function">DepositRef</a><a id="12267" class="Symbol">)</a> <a id="12269" href="SecureCompilation.Helpers.html#12269" class="Bound">v</a> <a id="12271" href="SecureCompilation.Helpers.html#12271" class="Bound">z</a> <a id="12273" class="Keyword">where</a>
    <a id="12283" class="Keyword">private</a>
      <a id="12297" href="SecureCompilation.Helpers.html#12297" class="Function">g</a> <a id="12299" class="Symbol">=</a> <a id="12301" href="SecureCompilation.Helpers.html#12240" class="Bound">ad</a> <a id="12304" class="Symbol">.</a><a id="12305" href="BitML.Contracts.Types.html#2330" class="Field">G</a>
      <a id="12313" href="SecureCompilation.Helpers.html#12313" class="Function">c</a> <a id="12315" class="Symbol">=</a> <a id="12317" href="BitML.Contracts.Types.html#2351" class="Field">C</a> <a id="12319" href="SecureCompilation.Helpers.html#12240" class="Bound">ad</a>
      <a id="12328" href="SecureCompilation.Helpers.html#12328" class="Function">partG</a> <a id="12334" class="Symbol">=</a> <a id="12336" href="SecureCompilation.Helpers.html#12297" class="Function">g</a> <a id="12338" href="SymbolicModel.Run.Base.html#425" class="Function Operator">∙partG</a>
      <a id="12351" class="Comment">-- [BUG] cannot get this to work here without explicitly passing ⦃ HPᵖ ⦄</a>
      <a id="12430" class="Comment">-- [WORKAROUND1] give it as module parameters (forgetting the fact that it&#39;s computed out of `g`</a>
      <a id="12533" class="Comment">-- [WORKAROUND2] instantiate and give non-instance version _∙partG</a>

      <a id="12607" href="SecureCompilation.Helpers.html#12607" class="Function">Γ₁</a> <a id="12610" class="Symbol">=</a> <a id="12612" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="12616" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="12618" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="12620" href="SecureCompilation.Helpers.html#12240" class="Bound">ad</a> <a id="12623" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="12625" href="SecureCompilation.Helpers.html#12243" class="Bound">Γ₀</a>
      <a id="12634" href="SecureCompilation.Helpers.html#12634" class="Function">Γ₂</a> <a id="12637" class="Symbol">=</a> <a id="12639" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="12643" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="12645" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="12648" href="Data.List.Base.html#1553" class="Function">map</a> <a id="12652" class="Symbol">(λ{</a> <a id="12656" class="Symbol">(</a><a id="12657" href="SecureCompilation.Helpers.html#12657" class="Bound">Aᵢ</a> <a id="12660" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="12662" href="SecureCompilation.Helpers.html#12662" class="Bound">vᵢ</a> <a id="12665" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="12667" href="SecureCompilation.Helpers.html#12667" class="Bound">xᵢ</a><a id="12669" class="Symbol">)</a> <a id="12671" class="Symbol">→</a> <a id="12673" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="12675" href="SecureCompilation.Helpers.html#12657" class="Bound">Aᵢ</a> <a id="12678" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="12682" href="SecureCompilation.Helpers.html#12662" class="Bound">vᵢ</a> <a id="12685" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="12689" href="SecureCompilation.Helpers.html#12667" class="Bound">xᵢ</a> <a id="12692" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="12694" href="SecureCompilation.Helpers.html#12657" class="Bound">Aᵢ</a> <a id="12697" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="12703" href="SecureCompilation.Helpers.html#12667" class="Bound">xᵢ</a> <a id="12706" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="12710" href="SecureCompilation.Helpers.html#12240" class="Bound">ad</a> <a id="12713" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="12715" class="Symbol">})</a> <a id="12718" class="Symbol">(</a><a id="12719" href="SecureCompilation.Helpers.html#12247" class="Bound">ds</a><a id="12721" class="Symbol">)</a>
      <a id="12729" href="SecureCompilation.Helpers.html#12729" class="Function">Γ₃</a> <a id="12732" class="Symbol">=</a> <a id="12734" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="12738" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="12740" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="12743" href="Data.List.Base.html#1553" class="Function">map</a> <a id="12747" class="Symbol">(</a><a id="12748" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">_auth[</a> <a id="12755" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="12758" href="SecureCompilation.Helpers.html#12240" class="Bound">ad</a> <a id="12761" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="12762" class="Symbol">)</a> <a id="12764" href="SecureCompilation.Helpers.html#12328" class="Function">partG</a>
      <a id="12776" href="SecureCompilation.Helpers.html#12776" class="Function">Γ</a>  <a id="12779" class="Symbol">=</a> <a id="12781" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="12785" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="12787" href="SecureCompilation.Helpers.html#12607" class="Function">Γ₁</a> <a id="12790" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="12792" href="SecureCompilation.Helpers.html#12634" class="Function">Γ₂</a> <a id="12795" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="12797" href="SecureCompilation.Helpers.html#12729" class="Function">Γ₃</a>
      <a id="12806" href="SecureCompilation.Helpers.html#12806" class="Function">Γ′</a> <a id="12809" class="Symbol">=</a> <a id="12811" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="12815" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="12817" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="12819" href="SecureCompilation.Helpers.html#12313" class="Function">c</a> <a id="12821" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="12823" href="SecureCompilation.Helpers.html#12269" class="Bound">v</a> <a id="12825" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="12829" href="SecureCompilation.Helpers.html#12271" class="Bound">z</a> <a id="12831" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="12833" href="SecureCompilation.Helpers.html#12243" class="Bound">Γ₀</a>
    <a id="12840" class="Keyword">module</a> <a id="12847" href="SecureCompilation.Helpers.html#12847" class="Module">H₄</a> <a id="12850" class="Symbol">(</a><a id="12851" href="SecureCompilation.Helpers.html#12851" class="Bound">R≈</a> <a id="12854" class="Symbol">:</a> <a id="12856" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="12858" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="12861" href="SecureCompilation.Helpers.html#12776" class="Function">Γ</a> <a id="12863" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="12866" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a><a id="12867" class="Symbol">)</a> <a id="12869" class="Symbol">(</a><a id="12870" href="SecureCompilation.Helpers.html#12870" class="Bound">Γ→Γ′</a> <a id="12875" class="Symbol">:</a> <a id="12877" href="SecureCompilation.Helpers.html#12776" class="Function">Γ</a> <a id="12879" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="12882" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="12884" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="12887" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="12889" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="12893" href="SecureCompilation.Helpers.html#12806" class="Function">Γ′</a> <a id="12896" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="12899" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="12901" class="Symbol">)</a> <a id="12903" class="Symbol">(</a><a id="12904" href="SecureCompilation.Helpers.html#12904" class="Bound">∃Γ≈</a> <a id="12908" class="Symbol">:</a> <a id="12910" href="Data.Product.html#1378" class="Function">∃</a> <a id="12912" class="Symbol">(</a><a id="12913" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="12916" href="SecureCompilation.Helpers.html#12806" class="Function">Γ′</a><a id="12918" class="Symbol">))</a> <a id="12921" class="Keyword">where</a>
      <a id="12933" class="Keyword">private</a>
        <a id="12949" href="SecureCompilation.Helpers.html#12949" class="Function">committedA</a> <a id="12960" class="Symbol">:</a> <a id="12962" href="SecureCompilation.Helpers.html#12328" class="Function">partG</a> <a id="12968" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="12970" href="BitML.Semantics.Configurations.Helpers.html#11398" class="Function">committedParticipants</a> <a id="12992" href="SecureCompilation.Helpers.html#12240" class="Bound">ad</a> <a id="12995" href="SecureCompilation.Helpers.html#12776" class="Function">Γ</a>
        <a id="13005" href="SecureCompilation.Helpers.html#12949" class="Function">committedA</a> <a id="13016" class="Symbol">{</a><a id="13017" href="SecureCompilation.Helpers.html#13017" class="Bound">p</a><a id="13018" class="Symbol">}</a> <a id="13020" href="SecureCompilation.Helpers.html#13020" class="Bound">p∈</a> <a id="13023" class="Symbol">=</a> <a id="13025" href="BitML.Semantics.Configurations.Helpers.html#8196" class="Function">∈-collect-++⁺ʳ</a> <a id="13040" class="Symbol">(</a><a id="13041" href="SecureCompilation.Helpers.html#12607" class="Function">Γ₁</a> <a id="13044" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="13046" href="SecureCompilation.Helpers.html#12634" class="Function">Γ₂</a><a id="13048" class="Symbol">)</a> <a id="13050" href="SecureCompilation.Helpers.html#12729" class="Function">Γ₃</a> <a id="13053" class="Symbol">⦃</a> <a id="13055" href="BitML.Semantics.Configurations.Helpers.html#11543" class="Function">∣committedParticipants∣.go</a> <a id="13082" href="SecureCompilation.Helpers.html#12240" class="Bound">ad</a> <a id="13085" class="Symbol">⦄</a> <a id="13087" href="SecureCompilation.Helpers.html#13107" class="Function">p∈′</a>
          <a id="13101" class="Keyword">where</a> <a id="13107" href="SecureCompilation.Helpers.html#13107" class="Function">p∈′</a> <a id="13111" class="Symbol">:</a> <a id="13113" href="SecureCompilation.Helpers.html#13017" class="Bound">p</a> <a id="13115" href="Prelude.Membership.html#428" class="Field Operator">∈</a> <a id="13117" href="BitML.Semantics.Configurations.Helpers.html#11398" class="Function">committedParticipants</a> <a id="13139" href="SecureCompilation.Helpers.html#12240" class="Bound">ad</a> <a id="13142" href="SecureCompilation.Helpers.html#12729" class="Function">Γ₃</a>
                <a id="13161" href="SecureCompilation.Helpers.html#13107" class="Function">p∈′</a> <a id="13165" class="Keyword">rewrite</a> <a id="13173" href="BitML.Semantics.Configurations.Helpers.html#12836" class="Function">committedPartG≡</a> <a id="13189" class="Symbol">{</a><a id="13190" href="SecureCompilation.Helpers.html#12240" class="Bound">ad</a><a id="13192" class="Symbol">}</a> <a id="13194" href="SecureCompilation.Helpers.html#12328" class="Function">partG</a> <a id="13200" class="Symbol">=</a> <a id="13202" href="SecureCompilation.Helpers.html#13020" class="Bound">p∈</a>
      <a id="13211" class="Keyword">private</a>
        <a id="13227" href="SecureCompilation.Helpers.html#13227" class="Function">𝕘</a> <a id="13229" class="Symbol">:</a> <a id="13231" href="SymbolicModel.Mappings.Base.html#1314" class="Function">𝔾</a> <a id="13233" href="SecureCompilation.Helpers.html#12240" class="Bound">ad</a>
        <a id="13244" href="SecureCompilation.Helpers.html#13227" class="Function">𝕘</a> <a id="13246" class="Symbol">=</a> <a id="13248" href="SymbolicModel.Helpers.html#3335" class="Function">LIFT₀</a> <a id="13254" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="13256" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="13258" href="SecureCompilation.Helpers.html#12776" class="Function">Γ</a> <a id="13260" href="SecureCompilation.Helpers.html#12851" class="Bound">R≈</a> <a id="13263" href="SecureCompilation.Helpers.html#12240" class="Bound">ad</a> <a id="13266" class="Symbol">(</a><a id="13267" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="13272" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="13276" class="Symbol">)</a> <a id="13278" href="SecureCompilation.Helpers.html#12949" class="Function">committedA</a>

        <a id="13298" href="SecureCompilation.Helpers.html#13298" class="Function">$T</a> <a id="13301" class="Symbol">:</a> <a id="13303" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
        <a id="13315" href="SecureCompilation.Helpers.html#13298" class="Function">$T</a> <a id="13318" class="Symbol">=</a> <a id="13320" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="13323" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="13326" href="SecureCompilation.Helpers.html#1668" class="Function">COMPILE</a> <a id="13334" href="SecureCompilation.Helpers.html#13227" class="Function">𝕘</a> <a id="13336" class="Symbol">.</a><a id="13337" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>

        <a id="13352" href="SecureCompilation.Helpers.html#13352" class="Function">tx</a> <a id="13355" class="Symbol">:</a> <a id="13357" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
        <a id="13374" href="SecureCompilation.Helpers.html#13352" class="Function">tx</a> <a id="13377" class="Symbol">=</a> <a id="13379" href="SecureCompilation.Helpers.html#13298" class="Function">$T</a> <a id="13382" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="13385" href="Data.Fin.Patterns.html#399" class="InductiveConstructor">0F</a>
      <a id="13394" class="Comment">-- abstract</a>
      <a id="13412" href="SecureCompilation.Helpers.html#13412" class="Function">T</a> <a id="13414" class="Symbol">:</a> <a id="13416" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
      <a id="13426" href="SecureCompilation.Helpers.html#13412" class="Function">T</a> <a id="13428" class="Symbol">=</a> <a id="13430" href="SecureCompilation.Helpers.html#13298" class="Function">$T</a>
      <a id="13439" class="Keyword">private</a>
        <a id="13455" href="SecureCompilation.Helpers.html#13455" class="Function">h₀</a> <a id="13458" class="Symbol">:</a> <a id="13460" class="Symbol">∀</a> <a id="13462" href="SecureCompilation.Helpers.html#13462" class="Bound">ps</a> <a id="13465" class="Symbol">→</a> <a id="13467" href="Prelude.Null.html#263" class="Field">Null</a> <a id="13472" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="13474" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="13481" class="Symbol">(</a><a id="13482" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="13485" href="Data.List.Base.html#1553" class="Function">map</a> <a id="13489" class="Symbol">(</a><a id="13490" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">_auth[</a> <a id="13497" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="13500" href="SecureCompilation.Helpers.html#12240" class="Bound">ad</a> <a id="13503" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="13504" class="Symbol">)</a> <a id="13506" href="SecureCompilation.Helpers.html#13462" class="Bound">ps</a><a id="13508" class="Symbol">)</a>
        <a id="13518" href="SecureCompilation.Helpers.html#13455" class="Function">h₀</a> <a id="13521" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="13524" class="Symbol">=</a> <a id="13526" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="13539" href="SecureCompilation.Helpers.html#13455" class="Function">h₀</a> <a id="13542" class="Symbol">(_</a> <a id="13545" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13547" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="13549" class="Symbol">)</a> <a id="13551" class="Symbol">=</a> <a id="13553" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="13566" href="SecureCompilation.Helpers.html#13455" class="Function">h₀</a> <a id="13569" class="Symbol">(_</a> <a id="13572" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13574" href="SecureCompilation.Helpers.html#13574" class="Bound">ps</a><a id="13576" class="Symbol">@(_</a> <a id="13580" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13582" class="Symbol">_))</a> <a id="13586" class="Symbol">=</a> <a id="13588" href="SecureCompilation.Helpers.html#13455" class="Function">h₀</a> <a id="13591" href="SecureCompilation.Helpers.html#13574" class="Bound">ps</a>

        <a id="13603" href="SecureCompilation.Helpers.html#13603" class="Function">h₀′</a> <a id="13607" class="Symbol">:</a> <a id="13609" class="Symbol">∀</a> <a id="13611" class="Symbol">(</a><a id="13612" href="SecureCompilation.Helpers.html#13612" class="Bound">ds</a> <a id="13615" class="Symbol">:</a> <a id="13617" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="13622" href="BitML.Contracts.Types.html#2627" class="Function">DepositRef</a><a id="13632" class="Symbol">)</a> <a id="13634" class="Symbol">→</a>
          <a id="13646" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="13653" class="Symbol">(</a><a id="13654" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="13657" href="Data.List.Base.html#1553" class="Function">map</a> <a id="13661" class="Symbol">(λ{</a> <a id="13665" class="Symbol">(</a><a id="13666" href="SecureCompilation.Helpers.html#13666" class="Bound">Aᵢ</a> <a id="13669" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="13671" href="SecureCompilation.Helpers.html#13671" class="Bound">vᵢ</a> <a id="13674" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="13676" href="SecureCompilation.Helpers.html#13676" class="Bound">xᵢ</a><a id="13678" class="Symbol">)</a> <a id="13680" class="Symbol">→</a> <a id="13682" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="13684" href="SecureCompilation.Helpers.html#13666" class="Bound">Aᵢ</a> <a id="13687" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="13691" href="SecureCompilation.Helpers.html#13671" class="Bound">vᵢ</a> <a id="13694" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="13698" href="SecureCompilation.Helpers.html#13676" class="Bound">xᵢ</a> <a id="13701" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="13703" href="SecureCompilation.Helpers.html#13666" class="Bound">Aᵢ</a> <a id="13706" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="13712" href="SecureCompilation.Helpers.html#13676" class="Bound">xᵢ</a> <a id="13715" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="13719" href="SecureCompilation.Helpers.html#12240" class="Bound">ad</a> <a id="13722" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="13724" class="Symbol">})</a> <a id="13727" href="SecureCompilation.Helpers.html#13612" class="Bound">ds</a><a id="13729" class="Symbol">)</a> <a id="13731" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="13733" href="Data.List.Base.html#1553" class="Function">map</a> <a id="13737" class="Symbol">(</a><a id="13738" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="13744" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="13746" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="13751" class="Symbol">)</a> <a id="13753" href="SecureCompilation.Helpers.html#13612" class="Bound">ds</a>
        <a id="13764" href="SecureCompilation.Helpers.html#13603" class="Function">h₀′</a> <a id="13768" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="13771" class="Symbol">=</a> <a id="13773" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="13786" href="SecureCompilation.Helpers.html#13603" class="Function">h₀′</a> <a id="13790" class="Symbol">(_</a> <a id="13793" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13795" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="13797" class="Symbol">)</a> <a id="13799" class="Symbol">=</a> <a id="13801" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="13814" href="SecureCompilation.Helpers.html#13603" class="Function">h₀′</a> <a id="13818" class="Symbol">((</a><a id="13820" href="SecureCompilation.Helpers.html#13820" class="Bound">Aᵢ</a> <a id="13823" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="13825" href="SecureCompilation.Helpers.html#13825" class="Bound">vᵢ</a> <a id="13828" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="13830" href="SecureCompilation.Helpers.html#13830" class="Bound">xᵢ</a><a id="13832" class="Symbol">)</a> <a id="13834" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13836" href="SecureCompilation.Helpers.html#13836" class="Bound">ds</a><a id="13838" class="Symbol">@(_</a> <a id="13842" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13844" class="Symbol">_))</a> <a id="13848" class="Symbol">=</a>
          <a id="13860" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
            <a id="13878" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="13885" class="Symbol">((</a><a id="13887" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="13889" href="SecureCompilation.Helpers.html#13820" class="Bound">Aᵢ</a> <a id="13892" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="13896" href="SecureCompilation.Helpers.html#13825" class="Bound">vᵢ</a> <a id="13899" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="13903" href="SecureCompilation.Helpers.html#13830" class="Bound">xᵢ</a> <a id="13906" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="13908" href="SecureCompilation.Helpers.html#13820" class="Bound">Aᵢ</a> <a id="13911" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="13917" href="SecureCompilation.Helpers.html#13830" class="Bound">xᵢ</a> <a id="13920" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="13924" href="SecureCompilation.Helpers.html#12240" class="Bound">ad</a> <a id="13927" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="13928" class="Symbol">)</a> <a id="13930" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="13932" href="SecureCompilation.Helpers.html#14580" class="Function">Δ</a><a id="13933" class="Symbol">)</a>
          <a id="13945" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="13948" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="13976" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="13983" class="Symbol">(</a><a id="13984" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="13986" href="SecureCompilation.Helpers.html#13820" class="Bound">Aᵢ</a> <a id="13989" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="13993" href="SecureCompilation.Helpers.html#13825" class="Bound">vᵢ</a> <a id="13996" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="14000" href="SecureCompilation.Helpers.html#13830" class="Bound">xᵢ</a> <a id="14003" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14005" href="SecureCompilation.Helpers.html#13820" class="Bound">Aᵢ</a> <a id="14008" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="14014" href="SecureCompilation.Helpers.html#13830" class="Bound">xᵢ</a> <a id="14017" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="14020" href="SecureCompilation.Helpers.html#12240" class="Bound">ad</a> <a id="14023" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="14024" class="Symbol">)</a> <a id="14026" href="SecureCompilation.Helpers.html#14580" class="Function">Δ</a> <a id="14028" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="14042" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="14049" class="Symbol">(</a><a id="14050" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="14052" href="SecureCompilation.Helpers.html#13820" class="Bound">Aᵢ</a> <a id="14055" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="14059" href="SecureCompilation.Helpers.html#13825" class="Bound">vᵢ</a> <a id="14062" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="14066" href="SecureCompilation.Helpers.html#13830" class="Bound">xᵢ</a> <a id="14069" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14071" href="SecureCompilation.Helpers.html#13820" class="Bound">Aᵢ</a> <a id="14074" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="14080" href="SecureCompilation.Helpers.html#13830" class="Bound">xᵢ</a> <a id="14083" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="14087" href="SecureCompilation.Helpers.html#12240" class="Bound">ad</a> <a id="14090" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="14091" class="Symbol">)</a> <a id="14093" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="14096" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="14103" href="SecureCompilation.Helpers.html#14580" class="Function">Δ</a>
          <a id="14115" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="14118" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="14123" class="Symbol">(</a><a id="14124" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="14128" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="14135" href="SecureCompilation.Helpers.html#14580" class="Function">Δ</a><a id="14136" class="Symbol">)</a> <a id="14138" class="Symbol">(</a><a id="14139" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="14167" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="14174" class="Symbol">(</a><a id="14175" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="14177" href="SecureCompilation.Helpers.html#13820" class="Bound">Aᵢ</a> <a id="14180" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="14184" href="SecureCompilation.Helpers.html#13825" class="Bound">vᵢ</a> <a id="14187" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="14191" href="SecureCompilation.Helpers.html#13830" class="Bound">xᵢ</a><a id="14193" class="Symbol">)</a> <a id="14195" class="Symbol">(</a><a id="14196" href="SecureCompilation.Helpers.html#13820" class="Bound">Aᵢ</a> <a id="14199" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="14205" href="SecureCompilation.Helpers.html#13830" class="Bound">xᵢ</a> <a id="14208" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="14211" href="SecureCompilation.Helpers.html#12240" class="Bound">ad</a> <a id="14214" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="14215" class="Symbol">))</a> <a id="14218" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="14232" class="Symbol">(</a><a id="14233" href="SecureCompilation.Helpers.html#13830" class="Bound">xᵢ</a> <a id="14236" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="14238" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="14245" class="Symbol">(</a><a id="14246" href="SecureCompilation.Helpers.html#13820" class="Bound">Aᵢ</a> <a id="14249" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="14255" href="SecureCompilation.Helpers.html#13830" class="Bound">xᵢ</a> <a id="14258" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="14261" href="SecureCompilation.Helpers.html#12240" class="Bound">ad</a> <a id="14264" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="14265" class="Symbol">))</a> <a id="14268" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="14271" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="14278" href="SecureCompilation.Helpers.html#14580" class="Function">Δ</a>
          <a id="14290" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="14293" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="14298" class="Symbol">(λ</a> <a id="14301" href="SecureCompilation.Helpers.html#14301" class="Bound">x</a> <a id="14303" class="Symbol">→</a> <a id="14305" class="Symbol">(</a><a id="14306" href="SecureCompilation.Helpers.html#13830" class="Bound">xᵢ</a> <a id="14309" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="14311" href="SecureCompilation.Helpers.html#14301" class="Bound">x</a><a id="14312" class="Symbol">)</a> <a id="14314" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="14317" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="14324" href="SecureCompilation.Helpers.html#14580" class="Function">Δ</a><a id="14325" class="Symbol">)</a> <a id="14327" class="Symbol">(</a><a id="14328" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="14343" class="Symbol">_)</a> <a id="14346" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="14360" href="SecureCompilation.Helpers.html#13830" class="Bound">xᵢ</a> <a id="14363" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="14365" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="14372" class="Symbol">(</a><a id="14373" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="14376" href="Data.List.Base.html#1553" class="Function">map</a> <a id="14380" class="Symbol">(λ{</a> <a id="14384" class="Symbol">(</a><a id="14385" href="SecureCompilation.Helpers.html#14385" class="Bound">Aᵢ</a> <a id="14388" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14390" href="SecureCompilation.Helpers.html#14390" class="Bound">vᵢ</a> <a id="14393" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14395" href="SecureCompilation.Helpers.html#14395" class="Bound">xᵢ</a><a id="14397" class="Symbol">)</a> <a id="14399" class="Symbol">→</a> <a id="14401" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="14403" href="SecureCompilation.Helpers.html#14385" class="Bound">Aᵢ</a> <a id="14406" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="14410" href="SecureCompilation.Helpers.html#14390" class="Bound">vᵢ</a> <a id="14413" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="14417" href="SecureCompilation.Helpers.html#14395" class="Bound">xᵢ</a> <a id="14420" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14422" href="SecureCompilation.Helpers.html#14385" class="Bound">Aᵢ</a> <a id="14425" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="14431" href="SecureCompilation.Helpers.html#14395" class="Bound">xᵢ</a> <a id="14434" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="14438" href="SecureCompilation.Helpers.html#12240" class="Bound">ad</a> <a id="14441" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="14443" class="Symbol">})</a> <a id="14446" href="SecureCompilation.Helpers.html#13836" class="Bound">ds</a><a id="14448" class="Symbol">)</a>
          <a id="14460" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="14463" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="14468" class="Symbol">(</a><a id="14469" href="SecureCompilation.Helpers.html#13830" class="Bound">xᵢ</a> <a id="14472" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷_</a><a id="14474" class="Symbol">)</a> <a id="14476" class="Symbol">(</a><a id="14477" href="SecureCompilation.Helpers.html#13603" class="Function">h₀′</a> <a id="14481" href="SecureCompilation.Helpers.html#13836" class="Bound">ds</a><a id="14483" class="Symbol">)</a> <a id="14485" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="14499" href="SecureCompilation.Helpers.html#13830" class="Bound">xᵢ</a> <a id="14502" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="14504" href="Data.List.Base.html#1553" class="Function">map</a> <a id="14508" class="Symbol">(</a><a id="14509" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="14515" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="14517" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="14522" class="Symbol">)</a> <a id="14524" href="SecureCompilation.Helpers.html#13836" class="Bound">ds</a>
          <a id="14537" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="14539" class="Keyword">where</a> <a id="14545" class="Keyword">open</a> <a id="14550" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>
                  <a id="14580" href="SecureCompilation.Helpers.html#14580" class="Function">Δ</a> <a id="14582" class="Symbol">=</a> <a id="14584" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="14587" href="Data.List.Base.html#1553" class="Function">map</a> <a id="14591" class="Symbol">(λ{</a> <a id="14595" class="Symbol">(</a><a id="14596" href="SecureCompilation.Helpers.html#14596" class="Bound">Aᵢ</a> <a id="14599" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14601" href="SecureCompilation.Helpers.html#14601" class="Bound">vᵢ</a> <a id="14604" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14606" href="SecureCompilation.Helpers.html#14606" class="Bound">xᵢ</a><a id="14608" class="Symbol">)</a> <a id="14610" class="Symbol">→</a> <a id="14612" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="14614" href="SecureCompilation.Helpers.html#14596" class="Bound">Aᵢ</a> <a id="14617" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="14621" href="SecureCompilation.Helpers.html#14601" class="Bound">vᵢ</a> <a id="14624" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="14628" href="SecureCompilation.Helpers.html#14606" class="Bound">xᵢ</a> <a id="14631" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14633" href="SecureCompilation.Helpers.html#14596" class="Bound">Aᵢ</a> <a id="14636" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="14642" href="SecureCompilation.Helpers.html#14606" class="Bound">xᵢ</a> <a id="14645" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="14649" href="SecureCompilation.Helpers.html#12240" class="Bound">ad</a> <a id="14652" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="14654" class="Symbol">})</a> <a id="14657" href="SecureCompilation.Helpers.html#13836" class="Bound">ds</a>

        <a id="14669" href="SecureCompilation.Helpers.html#14669" class="Function">h₁</a> <a id="14672" class="Symbol">:</a> <a id="14674" class="Symbol">∀</a> <a id="14676" class="Symbol">(</a><a id="14677" href="SecureCompilation.Helpers.html#14677" class="Bound">xs</a> <a id="14680" class="Symbol">:</a> <a id="14682" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="14687" href="BitML.Contracts.Types.html#2627" class="Function">DepositRef</a><a id="14697" class="Symbol">)</a> <a id="14699" class="Symbol">→</a>
          <a id="14711" href="Prelude.Null.html#263" class="Field">Null</a> <a id="14716" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="14718" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="14725" class="Symbol">(</a><a id="14726" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="14729" href="Data.List.Base.html#1553" class="Function">map</a> <a id="14733" class="Symbol">(λ{</a> <a id="14737" class="Symbol">(</a><a id="14738" href="SecureCompilation.Helpers.html#14738" class="Bound">Aᵢ</a> <a id="14741" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14743" href="SecureCompilation.Helpers.html#14743" class="Bound">vᵢ</a> <a id="14746" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14748" href="SecureCompilation.Helpers.html#14748" class="Bound">xᵢ</a><a id="14750" class="Symbol">)</a> <a id="14752" class="Symbol">→</a> <a id="14754" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="14756" href="SecureCompilation.Helpers.html#14738" class="Bound">Aᵢ</a> <a id="14759" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="14763" href="SecureCompilation.Helpers.html#14743" class="Bound">vᵢ</a> <a id="14766" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="14770" href="SecureCompilation.Helpers.html#14748" class="Bound">xᵢ</a> <a id="14773" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14775" href="SecureCompilation.Helpers.html#14738" class="Bound">Aᵢ</a> <a id="14778" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="14784" href="SecureCompilation.Helpers.html#14748" class="Bound">xᵢ</a> <a id="14787" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="14791" href="SecureCompilation.Helpers.html#12240" class="Bound">ad</a> <a id="14794" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="14796" class="Symbol">})</a> <a id="14799" href="SecureCompilation.Helpers.html#14677" class="Bound">xs</a><a id="14801" class="Symbol">)</a>
        <a id="14811" href="SecureCompilation.Helpers.html#14669" class="Function">h₁</a> <a id="14814" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="14817" class="Symbol">=</a> <a id="14819" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="14832" href="SecureCompilation.Helpers.html#14669" class="Function">h₁</a> <a id="14835" class="Symbol">(_</a> <a id="14838" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="14840" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="14842" class="Symbol">)</a> <a id="14844" class="Symbol">=</a> <a id="14846" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="14859" href="SecureCompilation.Helpers.html#14669" class="Function">h₁</a> <a id="14862" class="Symbol">(_</a> <a id="14865" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="14867" href="SecureCompilation.Helpers.html#14867" class="Bound">xs</a><a id="14869" class="Symbol">@(_</a> <a id="14873" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="14875" class="Symbol">_))</a> <a id="14879" class="Symbol">=</a> <a id="14881" href="SecureCompilation.Helpers.html#14669" class="Function">h₁</a> <a id="14884" href="SecureCompilation.Helpers.html#14867" class="Bound">xs</a>

        <a id="14896" href="SecureCompilation.Helpers.html#14896" class="Function">h₂</a> <a id="14899" class="Symbol">:</a> <a id="14901" class="Symbol">∀</a> <a id="14903" href="SecureCompilation.Helpers.html#14903" class="Bound">xs</a> <a id="14906" class="Symbol">→</a> <a id="14908" href="Prelude.Null.html#263" class="Field">Null</a> <a id="14913" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="14915" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="14922" class="Symbol">(</a><a id="14923" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="14926" href="Data.List.Base.html#1553" class="Function">map</a> <a id="14930" class="Symbol">(</a><a id="14931" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">_auth[</a> <a id="14938" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="14941" href="SecureCompilation.Helpers.html#12240" class="Bound">ad</a> <a id="14944" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="14945" class="Symbol">)</a> <a id="14947" href="SecureCompilation.Helpers.html#14903" class="Bound">xs</a><a id="14949" class="Symbol">)</a>
        <a id="14959" href="SecureCompilation.Helpers.html#14896" class="Function">h₂</a> <a id="14962" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="14965" class="Symbol">=</a> <a id="14967" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="14980" href="SecureCompilation.Helpers.html#14896" class="Function">h₂</a> <a id="14983" class="Symbol">(_</a> <a id="14986" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="14988" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="14990" class="Symbol">)</a> <a id="14992" class="Symbol">=</a> <a id="14994" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="15007" href="SecureCompilation.Helpers.html#14896" class="Function">h₂</a> <a id="15010" class="Symbol">(_</a> <a id="15013" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15015" href="SecureCompilation.Helpers.html#15015" class="Bound">xs</a><a id="15017" class="Symbol">@(_</a> <a id="15021" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15023" class="Symbol">_))</a> <a id="15027" class="Symbol">=</a> <a id="15029" href="SecureCompilation.Helpers.html#14896" class="Function">h₂</a> <a id="15032" href="SecureCompilation.Helpers.html#15015" class="Bound">xs</a>

        <a id="15044" href="SecureCompilation.Helpers.html#15044" class="Function">h₁′</a> <a id="15048" class="Symbol">:</a> <a id="15050" class="Symbol">∀</a> <a id="15052" class="Symbol">(</a><a id="15053" href="SecureCompilation.Helpers.html#15053" class="Bound">xs</a> <a id="15056" class="Symbol">:</a> <a id="15058" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="15063" href="BitML.Contracts.Types.html#2627" class="Function">DepositRef</a><a id="15073" class="Symbol">)</a> <a id="15075" class="Symbol">→</a>
          <a id="15087" href="Prelude.Null.html#263" class="Field">Null</a> <a id="15092" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="15094" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="15109" class="Symbol">(</a><a id="15110" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="15113" href="Data.List.Base.html#1553" class="Function">map</a> <a id="15117" class="Symbol">(λ{</a> <a id="15121" class="Symbol">(</a><a id="15122" href="SecureCompilation.Helpers.html#15122" class="Bound">Aᵢ</a> <a id="15125" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="15127" href="SecureCompilation.Helpers.html#15127" class="Bound">vᵢ</a> <a id="15130" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="15132" href="SecureCompilation.Helpers.html#15132" class="Bound">xᵢ</a><a id="15134" class="Symbol">)</a> <a id="15136" class="Symbol">→</a> <a id="15138" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="15140" href="SecureCompilation.Helpers.html#15122" class="Bound">Aᵢ</a> <a id="15143" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="15147" href="SecureCompilation.Helpers.html#15127" class="Bound">vᵢ</a> <a id="15150" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="15154" href="SecureCompilation.Helpers.html#15132" class="Bound">xᵢ</a> <a id="15157" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15159" href="SecureCompilation.Helpers.html#15122" class="Bound">Aᵢ</a> <a id="15162" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="15168" href="SecureCompilation.Helpers.html#15132" class="Bound">xᵢ</a> <a id="15171" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="15175" href="SecureCompilation.Helpers.html#12240" class="Bound">ad</a> <a id="15178" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="15180" class="Symbol">})</a> <a id="15183" href="SecureCompilation.Helpers.html#15053" class="Bound">xs</a><a id="15185" class="Symbol">)</a>
        <a id="15195" href="SecureCompilation.Helpers.html#15044" class="Function">h₁′</a> <a id="15199" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="15202" class="Symbol">=</a> <a id="15204" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="15217" href="SecureCompilation.Helpers.html#15044" class="Function">h₁′</a> <a id="15221" class="Symbol">(_</a> <a id="15224" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15226" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="15228" class="Symbol">)</a> <a id="15230" class="Symbol">=</a> <a id="15232" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="15245" href="SecureCompilation.Helpers.html#15044" class="Function">h₁′</a> <a id="15249" class="Symbol">(_</a> <a id="15252" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15254" href="SecureCompilation.Helpers.html#15254" class="Bound">xs</a><a id="15256" class="Symbol">@(_</a> <a id="15260" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15262" class="Symbol">_))</a> <a id="15266" class="Symbol">=</a> <a id="15268" href="SecureCompilation.Helpers.html#15044" class="Function">h₁′</a> <a id="15272" href="SecureCompilation.Helpers.html#15254" class="Bound">xs</a>

        <a id="15284" href="SecureCompilation.Helpers.html#15284" class="Function">ids≡</a> <a id="15289" class="Symbol">:</a> <a id="15291" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15298" href="SecureCompilation.Helpers.html#12776" class="Function">Γ</a> <a id="15300" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="15302" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15309" href="SecureCompilation.Helpers.html#12243" class="Bound">Γ₀</a> <a id="15312" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="15315" href="Data.List.Base.html#1553" class="Function">map</a> <a id="15319" class="Symbol">(</a><a id="15320" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="15326" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="15328" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="15333" class="Symbol">)</a> <a id="15335" href="SecureCompilation.Helpers.html#12247" class="Bound">ds</a>
        <a id="15346" href="SecureCompilation.Helpers.html#15284" class="Function">ids≡</a> <a id="15351" class="Symbol">=</a>
          <a id="15363" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
            <a id="15381" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15388" href="SecureCompilation.Helpers.html#12776" class="Function">Γ</a>
          <a id="15400" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="15403" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="15431" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="15438" class="Symbol">(</a><a id="15439" href="SecureCompilation.Helpers.html#12607" class="Function">Γ₁</a> <a id="15442" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15444" href="SecureCompilation.Helpers.html#12634" class="Function">Γ₂</a><a id="15446" class="Symbol">)</a> <a id="15448" href="SecureCompilation.Helpers.html#12729" class="Function">Γ₃</a> <a id="15451" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="15465" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15472" class="Symbol">(</a><a id="15473" href="SecureCompilation.Helpers.html#12607" class="Function">Γ₁</a> <a id="15476" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15478" href="SecureCompilation.Helpers.html#12634" class="Function">Γ₂</a><a id="15480" class="Symbol">)</a> <a id="15482" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="15485" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15492" href="SecureCompilation.Helpers.html#12729" class="Function">Γ₃</a>
          <a id="15505" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="15508" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="15513" class="Symbol">(</a><a id="15514" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15521" class="Symbol">(</a><a id="15522" href="SecureCompilation.Helpers.html#12607" class="Function">Γ₁</a> <a id="15525" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15527" href="SecureCompilation.Helpers.html#12634" class="Function">Γ₂</a><a id="15529" class="Symbol">)</a> <a id="15531" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="15534" class="Symbol">)</a> <a id="15536" class="Symbol">(</a><a id="15537" href="SecureCompilation.Helpers.html#13455" class="Function">h₀</a> <a id="15540" href="SecureCompilation.Helpers.html#12328" class="Function">partG</a><a id="15545" class="Symbol">)</a> <a id="15547" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="15561" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15568" class="Symbol">(</a><a id="15569" href="SecureCompilation.Helpers.html#12607" class="Function">Γ₁</a> <a id="15572" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15574" href="SecureCompilation.Helpers.html#12634" class="Function">Γ₂</a><a id="15576" class="Symbol">)</a> <a id="15578" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="15581" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
          <a id="15594" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="15597" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="15612" class="Symbol">_</a> <a id="15614" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="15628" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15635" class="Symbol">(</a><a id="15636" href="SecureCompilation.Helpers.html#12607" class="Function">Γ₁</a> <a id="15639" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15641" href="SecureCompilation.Helpers.html#12634" class="Function">Γ₂</a><a id="15643" class="Symbol">)</a>
          <a id="15655" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="15658" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="15686" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="15693" href="SecureCompilation.Helpers.html#12607" class="Function">Γ₁</a> <a id="15696" href="SecureCompilation.Helpers.html#12634" class="Function">Γ₂</a> <a id="15699" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="15713" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15720" href="SecureCompilation.Helpers.html#12607" class="Function">Γ₁</a> <a id="15723" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="15726" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15733" href="SecureCompilation.Helpers.html#12634" class="Function">Γ₂</a>
          <a id="15746" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="15749" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="15754" class="Symbol">(</a><a id="15755" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="15759" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15766" href="SecureCompilation.Helpers.html#12634" class="Function">Γ₂</a><a id="15768" class="Symbol">)</a> <a id="15770" class="Symbol">(</a><a id="15771" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="15799" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="15806" class="Symbol">(</a><a id="15807" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="15809" href="SecureCompilation.Helpers.html#12240" class="Bound">ad</a><a id="15811" class="Symbol">)</a> <a id="15813" href="SecureCompilation.Helpers.html#12243" class="Bound">Γ₀</a><a id="15815" class="Symbol">)</a> <a id="15817" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="15831" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15838" href="SecureCompilation.Helpers.html#12243" class="Bound">Γ₀</a> <a id="15841" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="15844" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15851" href="SecureCompilation.Helpers.html#12634" class="Function">Γ₂</a>
          <a id="15864" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="15867" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="15872" class="Symbol">(</a><a id="15873" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15880" href="SecureCompilation.Helpers.html#12243" class="Bound">Γ₀</a> <a id="15883" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="15886" class="Symbol">)</a> <a id="15888" class="Symbol">(</a><a id="15889" href="SecureCompilation.Helpers.html#13603" class="Function">h₀′</a> <a id="15893" href="SecureCompilation.Helpers.html#12247" class="Bound">ds</a><a id="15895" class="Symbol">)</a> <a id="15897" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="15911" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="15918" href="SecureCompilation.Helpers.html#12243" class="Bound">Γ₀</a> <a id="15921" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="15924" href="Data.List.Base.html#1553" class="Function">map</a> <a id="15928" class="Symbol">(</a><a id="15929" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="15935" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="15937" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="15942" class="Symbol">)</a> <a id="15944" href="SecureCompilation.Helpers.html#12247" class="Bound">ds</a>
          <a id="15957" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="15959" class="Keyword">where</a> <a id="15965" class="Keyword">open</a> <a id="15970" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

        <a id="15991" href="SecureCompilation.Helpers.html#15991" class="Function">secrets≡</a> <a id="16000" class="Symbol">:</a> <a id="16002" href="SecureCompilation.Helpers.html#12806" class="Function">Γ′</a> <a id="16005" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="16008" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="16015" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="16017" href="SecureCompilation.Helpers.html#12776" class="Function">Γ</a>
        <a id="16027" href="SecureCompilation.Helpers.html#15991" class="Function">secrets≡</a> <a id="16036" class="Symbol">=</a> <a id="16038" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="16042" href="Function.Base.html#1928" class="Function Operator">$</a>
          <a id="16054" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a> <a id="16060" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="16067" href="SecureCompilation.Helpers.html#12776" class="Function">Γ</a>                      <a id="16090" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
                <a id="16110" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="16117" class="Symbol">(</a><a id="16118" href="SecureCompilation.Helpers.html#12607" class="Function">Γ₁</a> <a id="16121" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="16123" href="SecureCompilation.Helpers.html#12634" class="Function">Γ₂</a> <a id="16126" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="16128" href="SecureCompilation.Helpers.html#12729" class="Function">Γ₃</a><a id="16130" class="Symbol">)</a>         <a id="16140" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="16143" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="16171" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="16178" class="Symbol">(</a><a id="16179" href="SecureCompilation.Helpers.html#12607" class="Function">Γ₁</a> <a id="16182" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="16184" href="SecureCompilation.Helpers.html#12634" class="Function">Γ₂</a><a id="16186" class="Symbol">)</a> <a id="16188" href="SecureCompilation.Helpers.html#12729" class="Function">Γ₃</a> <a id="16191" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="16209" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="16216" class="Symbol">(</a><a id="16217" href="SecureCompilation.Helpers.html#12607" class="Function">Γ₁</a> <a id="16220" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="16222" href="SecureCompilation.Helpers.html#12634" class="Function">Γ₂</a><a id="16224" class="Symbol">)</a> <a id="16226" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="16229" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="16236" href="SecureCompilation.Helpers.html#12729" class="Function">Γ₃</a> <a id="16239" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="16242" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="16247" class="Symbol">(</a><a id="16248" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="16255" class="Symbol">(</a><a id="16256" href="SecureCompilation.Helpers.html#12607" class="Function">Γ₁</a> <a id="16259" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="16261" href="SecureCompilation.Helpers.html#12634" class="Function">Γ₂</a><a id="16263" class="Symbol">)</a>  <a id="16266" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="16269" class="Symbol">)</a> <a id="16271" class="Symbol">(</a><a id="16272" href="SecureCompilation.Helpers.html#14896" class="Function">h₂</a> <a id="16275" href="SecureCompilation.Helpers.html#12328" class="Function">partG</a><a id="16280" class="Symbol">)</a> <a id="16282" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="16300" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="16307" class="Symbol">(</a><a id="16308" href="SecureCompilation.Helpers.html#12607" class="Function">Γ₁</a> <a id="16311" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="16313" href="SecureCompilation.Helpers.html#12634" class="Function">Γ₂</a><a id="16315" class="Symbol">)</a> <a id="16317" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="16320" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>        <a id="16330" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="16333" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="16348" class="Symbol">_</a> <a id="16350" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="16368" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="16375" class="Symbol">(</a><a id="16376" href="SecureCompilation.Helpers.html#12607" class="Function">Γ₁</a> <a id="16379" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="16381" href="SecureCompilation.Helpers.html#12634" class="Function">Γ₂</a><a id="16383" class="Symbol">)</a>              <a id="16398" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="16401" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="16429" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="16436" href="SecureCompilation.Helpers.html#12607" class="Function">Γ₁</a> <a id="16439" href="SecureCompilation.Helpers.html#12634" class="Function">Γ₂</a> <a id="16442" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="16460" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="16467" href="SecureCompilation.Helpers.html#12607" class="Function">Γ₁</a> <a id="16470" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="16473" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="16480" href="SecureCompilation.Helpers.html#12634" class="Function">Γ₂</a>        <a id="16490" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="16493" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="16498" class="Symbol">(</a><a id="16499" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="16506" href="SecureCompilation.Helpers.html#12607" class="Function">Γ₁</a> <a id="16509" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="16512" class="Symbol">)</a> <a id="16514" class="Symbol">(</a><a id="16515" href="SecureCompilation.Helpers.html#14669" class="Function">h₁</a> <a id="16518" href="SecureCompilation.Helpers.html#12247" class="Bound">ds</a><a id="16520" class="Symbol">)</a> <a id="16522" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="16540" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="16547" href="SecureCompilation.Helpers.html#12607" class="Function">Γ₁</a> <a id="16550" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="16553" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>               <a id="16570" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="16573" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="16588" class="Symbol">_</a> <a id="16590" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="16608" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="16615" href="SecureCompilation.Helpers.html#12607" class="Function">Γ₁</a>                     <a id="16638" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
                <a id="16658" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="16665" href="SecureCompilation.Helpers.html#12806" class="Function">Γ′</a>                     <a id="16688" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="16690" class="Keyword">where</a> <a id="16696" class="Keyword">open</a> <a id="16701" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

        <a id="16722" href="SecureCompilation.Helpers.html#16722" class="Function">ads⊆′</a> <a id="16728" class="Symbol">:</a> <a id="16730" href="SecureCompilation.Helpers.html#12806" class="Function">Γ′</a> <a id="16733" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="16736" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="16751" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="16753" href="SecureCompilation.Helpers.html#12776" class="Function">Γ</a>
        <a id="16763" href="SecureCompilation.Helpers.html#16722" class="Function">ads⊆′</a> <a id="16769" class="Symbol">=</a> <a id="16771" href="Relation.Binary.Reasoning.Base.Double.html#2222" class="Function Operator">begin</a> <a id="16777" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="16792" href="SecureCompilation.Helpers.html#12806" class="Function">Γ′</a> <a id="16795" href="Relation.Binary.Reasoning.Base.Double.html#3560" class="Function Operator">≡⟨⟩</a>
                      <a id="16821" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="16836" href="SecureCompilation.Helpers.html#12243" class="Bound">Γ₀</a> <a id="16839" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="16842" href="BitML.Semantics.Configurations.Helpers.html#7992" class="Function">∈-collect-++⁺ˡ</a> <a id="16857" class="Symbol">(</a><a id="16858" href="SecureCompilation.Helpers.html#12607" class="Function">Γ₁</a> <a id="16861" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="16863" href="SecureCompilation.Helpers.html#12634" class="Function">Γ₂</a><a id="16865" class="Symbol">)</a> <a id="16867" href="SecureCompilation.Helpers.html#12729" class="Function">Γ₃</a> <a id="16870" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="16872" href="BitML.Semantics.Configurations.Helpers.html#7992" class="Function">∈-collect-++⁺ˡ</a> <a id="16887" href="SecureCompilation.Helpers.html#12607" class="Function">Γ₁</a> <a id="16890" href="SecureCompilation.Helpers.html#12634" class="Function">Γ₂</a> <a id="16893" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
                      <a id="16917" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="16932" href="SecureCompilation.Helpers.html#12776" class="Function">Γ</a>  <a id="16935" href="Relation.Binary.Reasoning.Base.Double.html#3656" class="Function Operator">∎</a> <a id="16937" class="Keyword">where</a> <a id="16943" class="Keyword">open</a> <a id="16948" href="Data.List.Relation.Binary.Subset.Propositional.Properties.html#3760" class="Module">⊆-Reasoning</a> <a id="16960" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a>

        <a id="16972" href="SecureCompilation.Helpers.html#16972" class="Function">sechash↝</a> <a id="16981" class="Symbol">:</a>  <a id="16984" href="SecureCompilation.Helpers.html#12776" class="Function">Γ</a> <a id="16986" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="16989" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="16997" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="16999" href="SecureCompilation.Helpers.html#12806" class="Function">Γ′</a>
        <a id="17010" href="SecureCompilation.Helpers.html#16972" class="Function">sechash↝</a> <a id="17019" class="Symbol">=</a> <a id="17021" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">lift</a> <a id="17026" href="SecureCompilation.Helpers.html#12776" class="Function">Γ</a> <a id="17028" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">—⟨</a> <a id="17031" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="17038" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⟩—</a> <a id="17041" href="SecureCompilation.Helpers.html#12806" class="Function">Γ′</a> <a id="17044" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⊣</a> <a id="17046" href="SecureCompilation.Helpers.html#15991" class="Function">secrets≡</a>

        <a id="17064" href="SecureCompilation.Helpers.html#17064" class="Function">κ↝</a> <a id="17067" class="Symbol">:</a> <a id="17069" href="SecureCompilation.Helpers.html#12776" class="Function">Γ</a> <a id="17071" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="17074" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="17077" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="17079" href="SecureCompilation.Helpers.html#12806" class="Function">Γ′</a>
        <a id="17090" href="SecureCompilation.Helpers.html#17064" class="Function">κ↝</a> <a id="17093" href="SecureCompilation.Helpers.html#17093" class="Bound">κ′</a> <a id="17096" class="Symbol">=</a> <a id="17098" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="17107" href="SecureCompilation.Helpers.html#17093" class="Bound">κ′</a> <a id="17110" href="SecureCompilation.Helpers.html#16722" class="Function">ads⊆′</a>

        <a id="17125" href="SecureCompilation.Helpers.html#17125" class="Function">txout↝</a> <a id="17132" class="Symbol">:</a> <a id="17134" href="SecureCompilation.Helpers.html#12776" class="Function">Γ</a> <a id="17136" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="17139" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="17145" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="17147" href="SecureCompilation.Helpers.html#12806" class="Function">Γ′</a>
        <a id="17158" href="SecureCompilation.Helpers.html#17125" class="Function">txout↝</a> <a id="17165" href="SecureCompilation.Helpers.html#17165" class="Bound">txout′</a> <a id="17172" class="Keyword">rewrite</a> <a id="17180" href="SecureCompilation.Helpers.html#15284" class="Function">ids≡</a> <a id="17185" class="Symbol">=</a> <a id="17187" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="17194" href="SecureCompilation.Helpers.html#12271" class="Bound">z</a> <a id="17196" href="SecureCompilation.Helpers.html#13352" class="Function">tx</a> <a id="17199" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="17201" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="17210" href="SecureCompilation.Helpers.html#17165" class="Bound">txout′</a> <a id="17217" href="Data.List.Membership.Propositional.Properties.html#3965" class="Function">∈-++⁺ˡ</a>
      <a id="17230" class="Comment">-- abstract</a>
      <a id="17248" href="SecureCompilation.Helpers.html#17248" class="Function">λˢ</a> <a id="17251" class="Symbol">:</a> <a id="17253" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="17255" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="17257" class="Symbol">(</a><a id="17258" href="SecureCompilation.Helpers.html#12904" class="Bound">∃Γ≈</a> <a id="17262" class="Symbol">.</a><a id="17263" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="17269" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="17272" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="17274" class="Symbol">)</a>
      <a id="17282" href="SecureCompilation.Helpers.html#17248" class="Function">λˢ</a> <a id="17285" class="Symbol">=</a> <a id="17287" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="17293" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="17295" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="17297" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="17299" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a> <a id="17302" href="SecureCompilation.Helpers.html#12776" class="Function">Γ</a> <a id="17304" href="SecureCompilation.Helpers.html#12851" class="Bound">R≈</a> <a id="17307" href="SecureCompilation.Helpers.html#12806" class="Function">Γ′</a> <a id="17310" href="SecureCompilation.Helpers.html#12870" class="Bound">Γ→Γ′</a> <a id="17315" href="SecureCompilation.Helpers.html#12904" class="Bound">∃Γ≈</a> <a id="17319" href="SecureCompilation.Helpers.html#17125" class="Function">txout↝</a> <a id="17326" href="SecureCompilation.Helpers.html#16972" class="Function">sechash↝</a> <a id="17335" href="SecureCompilation.Helpers.html#17064" class="Function">κ↝</a>

  <a id="17341" class="Comment">-- [5]</a>
  <a id="17350" class="Keyword">module</a> <a id="17357" href="SecureCompilation.Helpers.html#17357" class="Module">_</a> <a id="17359" href="SecureCompilation.Helpers.html#17359" class="Bound">c</a> <a id="17361" href="SecureCompilation.Helpers.html#17361" class="Bound">v</a> <a id="17363" href="SecureCompilation.Helpers.html#17363" class="Bound">x</a> <a id="17365" href="SecureCompilation.Helpers.html#17365" class="Bound">Γ₀</a> <a id="17368" href="SecureCompilation.Helpers.html#17368" class="Bound">A</a> <a id="17370" class="Symbol">(</a><a id="17371" href="SecureCompilation.Helpers.html#17371" class="Bound">i</a> <a id="17373" class="Symbol">:</a> <a id="17375" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="17381" href="SecureCompilation.Helpers.html#17359" class="Bound">c</a><a id="17382" class="Symbol">)</a> <a id="17384" class="Keyword">where</a>
    <a id="17394" class="Keyword">open</a> <a id="17399" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="17407" href="SecureCompilation.Helpers.html#17359" class="Bound">c</a> <a id="17409" href="SecureCompilation.Helpers.html#17371" class="Bound">i</a>
    <a id="17415" class="Keyword">private</a>
      <a id="17429" href="SecureCompilation.Helpers.html#17429" class="Function">Γ</a>  <a id="17432" class="Symbol">=</a> <a id="17434" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="17438" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="17440" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="17442" href="SecureCompilation.Helpers.html#17359" class="Bound">c</a> <a id="17444" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="17446" href="SecureCompilation.Helpers.html#17361" class="Bound">v</a> <a id="17448" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="17452" href="SecureCompilation.Helpers.html#17363" class="Bound">x</a> <a id="17454" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="17456" href="SecureCompilation.Helpers.html#17365" class="Bound">Γ₀</a>
      <a id="17465" href="SecureCompilation.Helpers.html#17465" class="Function">Γ′</a> <a id="17468" class="Symbol">=</a> <a id="17470" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="17474" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="17476" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="17478" href="SecureCompilation.Helpers.html#17359" class="Bound">c</a> <a id="17480" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="17482" href="SecureCompilation.Helpers.html#17361" class="Bound">v</a> <a id="17484" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="17488" href="SecureCompilation.Helpers.html#17363" class="Bound">x</a> <a id="17490" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="17492" href="SecureCompilation.Helpers.html#17368" class="Bound">A</a> <a id="17494" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="17500" href="SecureCompilation.Helpers.html#17363" class="Bound">x</a> <a id="17502" href="BitML.Semantics.Action.html#565" class="InductiveConstructor Operator">▷</a> <a id="17504" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="17506" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="17508" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="17510" href="SecureCompilation.Helpers.html#17365" class="Bound">Γ₀</a>
    <a id="17517" class="Keyword">module</a> <a id="17524" href="SecureCompilation.Helpers.html#17524" class="Module">H₅</a> <a id="17527" class="Symbol">(</a><a id="17528" href="SecureCompilation.Helpers.html#17528" class="Bound">R≈</a> <a id="17531" class="Symbol">:</a> <a id="17533" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="17535" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="17538" href="SecureCompilation.Helpers.html#17429" class="Function">Γ</a> <a id="17540" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="17543" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a><a id="17544" class="Symbol">)</a> <a id="17546" class="Symbol">(</a><a id="17547" href="SecureCompilation.Helpers.html#17547" class="Bound">Γ→Γ′</a> <a id="17552" class="Symbol">:</a> <a id="17554" href="SecureCompilation.Helpers.html#17429" class="Function">Γ</a> <a id="17556" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="17559" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="17561" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="17564" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="17566" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="17570" href="SecureCompilation.Helpers.html#17465" class="Function">Γ′</a> <a id="17573" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="17576" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="17578" class="Symbol">)</a> <a id="17580" class="Symbol">(</a><a id="17581" href="SecureCompilation.Helpers.html#17581" class="Bound">∃Γ≈</a> <a id="17585" class="Symbol">:</a> <a id="17587" href="Data.Product.html#1378" class="Function">∃</a> <a id="17589" class="Symbol">(</a><a id="17590" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="17593" href="SecureCompilation.Helpers.html#17465" class="Function">Γ′</a><a id="17595" class="Symbol">))</a>
              <a id="17612" class="Symbol">(</a><a id="17613" href="SecureCompilation.Helpers.html#17613" class="Bound">D≡A:D′</a> <a id="17620" class="Symbol">:</a> <a id="17622" href="SecureCompilation.Helpers.html#17368" class="Bound">A</a> <a id="17624" href="Prelude.Membership.html#428" class="Field Operator">∈</a> <a id="17626" href="BitML.Contracts.Collections.html#14015" class="Function">authDecorations</a> <a id="17642" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a><a id="17643" class="Symbol">)</a> <a id="17645" class="Keyword">where</a>
      <a id="17657" class="Keyword">private</a>
        <a id="17673" href="SecureCompilation.Helpers.html#17673" class="Function">T×pubK</a> <a id="17680" class="Symbol">:</a> <a id="17682" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a> <a id="17686" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="17688" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a>
        <a id="17698" href="SecureCompilation.Helpers.html#17673" class="Function">T×pubK</a> <a id="17705" class="Symbol">=</a>
          <a id="17717" class="Keyword">let</a>
            <a id="17733" class="Comment">-- (ii) {G}C is the ancestor of ⟨C, v⟩ₓ in Rˢ</a>
            <a id="17791" href="SecureCompilation.Helpers.html#17791" class="Bound">⟨G⟩C</a> <a id="17796" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="17798" href="SecureCompilation.Helpers.html#17798" class="Bound">vad</a> <a id="17802" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="17804" href="SecureCompilation.Helpers.html#17804" class="Bound">ad∈</a> <a id="17808" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="17810" href="SecureCompilation.Helpers.html#17810" class="Bound">c⊆</a> <a id="17813" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="17815" href="SecureCompilation.Helpers.html#17815" class="Bound">anc</a> <a id="17819" class="Symbol">=</a> <a id="17821" href="SymbolicModel.Helpers.html#2768" class="Function">ANCESTOR</a> <a id="17830" class="Symbol">{</a><a id="17831" class="Argument">R</a> <a id="17833" class="Symbol">=</a> <a id="17835" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a><a id="17836" class="Symbol">}</a> <a id="17838" class="Symbol">{</a><a id="17839" class="Argument">Γ</a> <a id="17841" class="Symbol">=</a> <a id="17843" href="SecureCompilation.Helpers.html#17429" class="Function">Γ</a><a id="17844" class="Symbol">}</a> <a id="17846" href="SecureCompilation.Helpers.html#17528" class="Bound">R≈</a> <a id="17849" class="Symbol">(</a><a id="17850" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="17855" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="17859" class="Symbol">)</a>
            <a id="17873" href="BitML.Contracts.Types.html#2313" class="InductiveConstructor Operator">⟨</a> <a id="17875" href="SecureCompilation.Helpers.html#17875" class="Bound">G</a> <a id="17877" href="BitML.Contracts.Types.html#2313" class="InductiveConstructor Operator">⟩</a> <a id="17879" href="SecureCompilation.Helpers.html#17879" class="Bound">C</a> <a id="17881" class="Symbol">=</a> <a id="17883" href="SecureCompilation.Helpers.html#17791" class="Bound">⟨G⟩C</a><a id="17887" class="Symbol">;</a> <a id="17889" href="SecureCompilation.Helpers.html#17889" class="Bound">partG</a> <a id="17895" class="Symbol">=</a> <a id="17897" href="SecureCompilation.Helpers.html#17875" class="Bound">G</a> <a id="17899" href="SymbolicModel.Run.Base.html#425" class="Function Operator">∙partG</a>

            <a id="17919" href="SecureCompilation.Helpers.html#17919" class="Bound">d∈</a> <a id="17922" class="Symbol">:</a> <a id="17924" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="17926" href="Prelude.Membership.html#428" class="Field Operator">∈</a> <a id="17928" href="BitML.Contracts.Subterms.html#647" class="Function">subterms</a> <a id="17937" href="SecureCompilation.Helpers.html#17791" class="Bound">⟨G⟩C</a>
            <a id="17954" href="SecureCompilation.Helpers.html#17919" class="Bound">d∈</a> <a id="17957" class="Symbol">=</a> <a id="17959" href="SecureCompilation.Helpers.html#17810" class="Bound">c⊆</a> <a id="17962" class="Symbol">(</a><a id="17963" href="Data.List.Membership.Propositional.Properties.html#11102" class="Function">L.Mem.∈-lookup</a> <a id="17978" href="SecureCompilation.Helpers.html#17371" class="Bound">i</a><a id="17979" class="Symbol">)</a>

            <a id="17994" href="SecureCompilation.Helpers.html#17994" class="Bound">A∈</a> <a id="17997" class="Symbol">:</a> <a id="17999" href="SecureCompilation.Helpers.html#17368" class="Bound">A</a> <a id="18001" href="Prelude.Membership.html#428" class="Field Operator">∈</a> <a id="18003" href="SecureCompilation.Helpers.html#17889" class="Bound">partG</a>
            <a id="18021" href="SecureCompilation.Helpers.html#17994" class="Bound">A∈</a> <a id="18024" class="Symbol">=</a> <a id="18026" href="Prelude.Lists.Dec.html#4157" class="Function">∈-nub⁺</a> <a id="18033" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="18035" href="BitML.Contracts.Subterms.html#9999" class="Function">subterms-part⊆ᵃ</a> <a id="18051" href="SecureCompilation.Helpers.html#17798" class="Bound">vad</a> <a id="18055" href="SecureCompilation.Helpers.html#17919" class="Bound">d∈</a> <a id="18058" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="18060" href="BitML.Contracts.Collections.html#14174" class="Function">auth⊆part</a> <a id="18070" class="Symbol">{</a><a id="18071" class="Argument">d</a> <a id="18073" class="Symbol">=</a> <a id="18075" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a><a id="18076" class="Symbol">}</a> <a id="18078" href="SecureCompilation.Helpers.html#17613" class="Bound">D≡A:D′</a>

            <a id="18098" class="Symbol">_</a> <a id="18100" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="18102" href="SecureCompilation.Helpers.html#18102" class="Bound">∀d∗</a> <a id="18106" class="Symbol">=</a> <a id="18108" href="SecureCompilation.Helpers.html#1668" class="Function">COMPILE</a> <a id="18116" class="Symbol">(</a><a id="18117" href="SymbolicModel.Helpers.html#4824" class="Function">LIFTᶜ</a> <a id="18123" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="18125" href="SecureCompilation.Helpers.html#17815" class="Bound">anc</a><a id="18128" class="Symbol">)</a>
            <a id="18142" href="SecureCompilation.Helpers.html#18142" class="Bound">Tᵈ</a> <a id="18145" class="Symbol">:</a> <a id="18147" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="18156" class="Symbol">(</a><a id="18157" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="18159" href="Compiler.Subterms.html#622" class="Field Operator">∗</a><a id="18160" class="Symbol">)</a>
            <a id="18174" href="SecureCompilation.Helpers.html#18142" class="Bound">Tᵈ</a> <a id="18177" class="Symbol">=</a> <a id="18179" href="SecureCompilation.Helpers.html#18102" class="Bound">∀d∗</a> <a id="18183" href="SecureCompilation.Helpers.html#17919" class="Bound">d∈</a>
          <a id="18196" class="Keyword">in</a> <a id="18199" class="Symbol">(</a><a id="18200" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="18203" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="18206" href="SecureCompilation.Helpers.html#18142" class="Bound">Tᵈ</a><a id="18208" class="Symbol">)</a> <a id="18210" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="18212" class="Symbol">(</a><a id="18213" href="SymbolicModel.Mappings.Base.html#857" class="Function">κ′</a> <a id="18216" href="SecureCompilation.Helpers.html#17804" class="Bound">ad∈</a> <a id="18220" href="SecureCompilation.Helpers.html#17919" class="Bound">d∈</a> <a id="18223" class="Symbol">{</a><a id="18224" href="SecureCompilation.Helpers.html#17368" class="Bound">A</a><a id="18225" class="Symbol">}</a> <a id="18227" href="SecureCompilation.Helpers.html#17994" class="Bound">A∈</a> <a id="18230" class="Symbol">.</a><a id="18231" href="Bitcoin.Crypto.html#375" class="Field">pub</a><a id="18234" class="Symbol">)</a>
      <a id="18242" class="Comment">-- abstract</a>
      <a id="18260" href="SecureCompilation.Helpers.html#18260" class="Function">T</a> <a id="18262" class="Symbol">:</a> <a id="18264" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
      <a id="18274" href="SecureCompilation.Helpers.html#18260" class="Function">T</a> <a id="18276" class="Symbol">=</a> <a id="18278" href="SecureCompilation.Helpers.html#17673" class="Function">T×pubK</a> <a id="18285" class="Symbol">.</a><a id="18286" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>

      <a id="18299" href="SecureCompilation.Helpers.html#18299" class="Function">pubK</a> <a id="18304" class="Symbol">:</a> <a id="18306" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a>
      <a id="18314" href="SecureCompilation.Helpers.html#18299" class="Function">pubK</a> <a id="18319" class="Symbol">=</a> <a id="18321" href="SecureCompilation.Helpers.html#17673" class="Function">T×pubK</a> <a id="18328" class="Symbol">.</a><a id="18329" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
      <a id="18341" class="Comment">-- abstract</a>
      <a id="18359" class="Comment">-- (iv) txout = txout′, sechash = sechash′, κ = κ′</a>
      <a id="18416" href="SecureCompilation.Helpers.html#18416" class="Function">λˢ</a> <a id="18419" class="Symbol">:</a> <a id="18421" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="18423" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="18425" class="Symbol">(</a><a id="18426" href="SecureCompilation.Helpers.html#17581" class="Bound">∃Γ≈</a> <a id="18430" class="Symbol">.</a><a id="18431" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="18437" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="18440" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="18442" class="Symbol">)</a>
      <a id="18450" href="SecureCompilation.Helpers.html#18416" class="Function">λˢ</a> <a id="18453" class="Symbol">=</a> <a id="18455" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="18461" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="18463" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="18465" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="18467" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a> <a id="18470" href="SecureCompilation.Helpers.html#17429" class="Function">Γ</a> <a id="18472" href="SecureCompilation.Helpers.html#17528" class="Bound">R≈</a> <a id="18475" href="SecureCompilation.Helpers.html#17465" class="Function">Γ′</a> <a id="18478" href="SecureCompilation.Helpers.html#17547" class="Bound">Γ→Γ′</a> <a id="18483" href="SecureCompilation.Helpers.html#17581" class="Bound">∃Γ≈</a> <a id="18487" href="Function.Base.html#624" class="Function">id</a> <a id="18490" href="Function.Base.html#624" class="Function">id</a> <a id="18493" href="Function.Base.html#624" class="Function">id</a>

  <a id="18499" class="Comment">-- [6]</a>
  <a id="18508" class="Keyword">module</a> <a id="18515" href="SecureCompilation.Helpers.html#18515" class="Module">_</a> <a id="18517" href="SecureCompilation.Helpers.html#18517" class="Bound">c</a> <a id="18519" href="SecureCompilation.Helpers.html#18519" class="Bound">v</a> <a id="18521" href="SecureCompilation.Helpers.html#18521" class="Bound">y</a> <a id="18523" class="Symbol">(</a><a id="18524" href="SecureCompilation.Helpers.html#18524" class="Bound">ds</a> <a id="18527" class="Symbol">:</a> <a id="18529" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="18540" class="Symbol">)</a> <a id="18542" class="Symbol">(</a><a id="18543" href="SecureCompilation.Helpers.html#18543" class="Bound">ss</a> <a id="18546" class="Symbol">:</a> <a id="18548" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="18553" class="Symbol">(</a><a id="18554" href="BitML.BasicTypes.html#675" class="Function">Participant</a> <a id="18566" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="18568" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="18575" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="18577" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="18578" class="Symbol">))</a>
           <a id="18592" href="SecureCompilation.Helpers.html#18592" class="Bound">Γ₀</a>  <a id="18596" href="SecureCompilation.Helpers.html#18596" class="Bound">c′</a> <a id="18599" href="SecureCompilation.Helpers.html#18599" class="Bound">y′</a>  <a id="18603" class="Symbol">(</a><a id="18604" href="SecureCompilation.Helpers.html#18604" class="Bound">i</a> <a id="18606" class="Symbol">:</a> <a id="18608" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="18614" href="SecureCompilation.Helpers.html#18517" class="Bound">c</a><a id="18615" class="Symbol">)</a> <a id="18617" href="SecureCompilation.Helpers.html#18617" class="Bound">p</a> <a id="18619" class="Keyword">where</a>
    <a id="18629" class="Keyword">private</a>
      <a id="18643" href="SecureCompilation.Helpers.html#18643" class="Function">vs</a> <a id="18646" class="Symbol">=</a> <a id="18648" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="18654" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="18656" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="18662" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="18664" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="18671" href="SecureCompilation.Helpers.html#18524" class="Bound">ds</a>
      <a id="18680" href="SecureCompilation.Helpers.html#18680" class="Function">xs</a> <a id="18683" class="Symbol">=</a> <a id="18685" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="18691" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="18693" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="18699" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="18701" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="18708" href="SecureCompilation.Helpers.html#18524" class="Bound">ds</a>
      <a id="18717" href="SecureCompilation.Helpers.html#18717" class="Function">as</a> <a id="18720" class="Symbol">=</a> <a id="18722" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="18728" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="18730" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="18736" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="18738" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="18745" href="SecureCompilation.Helpers.html#18543" class="Bound">ss</a>
      <a id="18754" href="SecureCompilation.Helpers.html#18754" class="Function">Γ₁</a> <a id="18757" class="Symbol">=</a> <a id="18759" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="18762" href="Data.List.Base.html#1553" class="Function">map</a> <a id="18766" class="Symbol">(λ{</a> <a id="18770" class="Symbol">(</a><a id="18771" href="SecureCompilation.Helpers.html#18771" class="Bound">Aᵢ</a> <a id="18774" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="18776" href="SecureCompilation.Helpers.html#18776" class="Bound">vᵢ</a> <a id="18779" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="18781" href="SecureCompilation.Helpers.html#18781" class="Bound">xᵢ</a><a id="18783" class="Symbol">)</a> <a id="18785" class="Symbol">→</a> <a id="18787" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="18789" href="SecureCompilation.Helpers.html#18771" class="Bound">Aᵢ</a> <a id="18792" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="18796" href="SecureCompilation.Helpers.html#18776" class="Bound">vᵢ</a> <a id="18799" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="18803" href="SecureCompilation.Helpers.html#18781" class="Bound">xᵢ</a> <a id="18806" class="Symbol">})</a> <a id="18809" href="SecureCompilation.Helpers.html#18524" class="Bound">ds</a>
      <a id="18818" href="SecureCompilation.Helpers.html#18818" class="Function">Γ</a>  <a id="18821" class="Symbol">=</a> <a id="18823" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="18827" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="18829" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="18831" href="SecureCompilation.Helpers.html#18517" class="Bound">c</a> <a id="18833" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="18835" href="SecureCompilation.Helpers.html#18519" class="Bound">v</a> <a id="18837" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="18841" href="SecureCompilation.Helpers.html#18521" class="Bound">y</a> <a id="18843" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="18845" class="Symbol">(</a><a id="18846" href="SecureCompilation.Helpers.html#18754" class="Function">Γ₁</a> <a id="18849" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="18851" href="SecureCompilation.Helpers.html#18592" class="Bound">Γ₀</a><a id="18853" class="Symbol">)</a>
      <a id="18861" href="SecureCompilation.Helpers.html#18861" class="Function">Γ′</a> <a id="18864" class="Symbol">=</a> <a id="18866" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="18870" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="18872" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="18874" href="SecureCompilation.Helpers.html#18596" class="Bound">c′</a> <a id="18877" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="18879" href="SecureCompilation.Helpers.html#18519" class="Bound">v</a> <a id="18881" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="18883" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="18887" href="SecureCompilation.Helpers.html#18643" class="Function">vs</a> <a id="18890" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="18894" href="SecureCompilation.Helpers.html#18599" class="Bound">y′</a> <a id="18897" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="18899" href="SecureCompilation.Helpers.html#18592" class="Bound">Γ₀</a>
      <a id="18908" class="Keyword">open</a> <a id="18913" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="18921" href="SecureCompilation.Helpers.html#18517" class="Bound">c</a> <a id="18923" href="SecureCompilation.Helpers.html#18604" class="Bound">i</a>
    <a id="18929" class="Keyword">module</a> <a id="18936" href="SecureCompilation.Helpers.html#18936" class="Module">H₆</a> <a id="18939" class="Symbol">(</a><a id="18940" href="SecureCompilation.Helpers.html#18940" class="Bound">R≈</a> <a id="18943" class="Symbol">:</a> <a id="18945" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="18947" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="18950" href="SecureCompilation.Helpers.html#18818" class="Function">Γ</a> <a id="18952" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="18955" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a><a id="18956" class="Symbol">)</a> <a id="18958" class="Symbol">(</a><a id="18959" href="SecureCompilation.Helpers.html#18959" class="Bound">Γ→Γ′</a> <a id="18964" class="Symbol">:</a> <a id="18966" href="SecureCompilation.Helpers.html#18818" class="Function">Γ</a> <a id="18968" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="18971" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="18973" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="18976" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="18978" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="18982" href="SecureCompilation.Helpers.html#18861" class="Function">Γ′</a> <a id="18985" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="18988" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="18990" class="Symbol">)</a> <a id="18992" class="Symbol">(</a><a id="18993" href="SecureCompilation.Helpers.html#18993" class="Bound">∃Γ≈</a> <a id="18997" class="Symbol">:</a> <a id="18999" href="Data.Product.html#1378" class="Function">∃</a> <a id="19001" class="Symbol">(</a><a id="19002" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="19005" href="SecureCompilation.Helpers.html#18861" class="Function">Γ′</a><a id="19007" class="Symbol">))</a>
      <a id="19016" class="Symbol">(</a><a id="19017" href="SecureCompilation.Helpers.html#19017" class="Bound">d≡</a> <a id="19020" class="Symbol">:</a> <a id="19022" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="19024" href="BitML.Contracts.Collections.html#15163" class="Function Operator">≡⋯∶</a> <a id="19028" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">put</a> <a id="19032" href="SecureCompilation.Helpers.html#18680" class="Function">xs</a> <a id="19035" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">&amp;reveal</a> <a id="19043" href="SecureCompilation.Helpers.html#18717" class="Function">as</a> <a id="19046" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">if</a> <a id="19049" href="SecureCompilation.Helpers.html#18617" class="Bound">p</a> <a id="19051" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">⇒</a> <a id="19053" href="SecureCompilation.Helpers.html#18596" class="Bound">c′</a><a id="19055" class="Symbol">)</a>
      <a id="19063" class="Keyword">where</a>
      <a id="19075" class="Keyword">private</a>
        <a id="19091" href="SecureCompilation.Helpers.html#19091" class="Function">$T</a> <a id="19094" class="Symbol">:</a> <a id="19096" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
        <a id="19108" href="SecureCompilation.Helpers.html#19091" class="Function">$T</a> <a id="19111" class="Symbol">=</a> <a id="19113" class="Keyword">let</a> <a id="19117" href="SecureCompilation.Helpers.html#19117" class="Bound">⟨G⟩C″</a> <a id="19123" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="19125" class="Symbol">_</a> <a id="19127" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="19129" class="Symbol">_</a> <a id="19131" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="19133" href="SecureCompilation.Helpers.html#19133" class="Bound">c⊆</a> <a id="19136" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="19138" href="SecureCompilation.Helpers.html#19138" class="Bound">anc</a> <a id="19142" class="Symbol">=</a> <a id="19144" href="SymbolicModel.Helpers.html#2768" class="Function">ANCESTOR</a> <a id="19153" class="Symbol">{</a><a id="19154" class="Argument">R</a> <a id="19156" class="Symbol">=</a> <a id="19158" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a><a id="19159" class="Symbol">}</a> <a id="19161" class="Symbol">{</a><a id="19162" class="Argument">Γ</a> <a id="19164" class="Symbol">=</a> <a id="19166" href="SecureCompilation.Helpers.html#18818" class="Function">Γ</a><a id="19167" class="Symbol">}</a> <a id="19169" href="SecureCompilation.Helpers.html#18940" class="Bound">R≈</a> <a id="19172" class="Symbol">(</a><a id="19173" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="19178" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="19182" class="Symbol">)</a>
                 <a id="19201" href="SecureCompilation.Helpers.html#19201" class="Bound">d∈</a> <a id="19204" class="Symbol">:</a> <a id="19206" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="19208" href="Prelude.Membership.html#428" class="Field Operator">∈</a> <a id="19210" href="BitML.Contracts.Subterms.html#647" class="Function">subterms</a> <a id="19219" href="SecureCompilation.Helpers.html#19117" class="Bound">⟨G⟩C″</a>
                 <a id="19242" href="SecureCompilation.Helpers.html#19201" class="Bound">d∈</a> <a id="19245" class="Symbol">=</a> <a id="19247" href="SecureCompilation.Helpers.html#19133" class="Bound">c⊆</a> <a id="19250" class="Symbol">(</a><a id="19251" href="Data.List.Membership.Propositional.Properties.html#11102" class="Function">L.Mem.∈-lookup</a> <a id="19266" href="SecureCompilation.Helpers.html#18604" class="Bound">i</a><a id="19267" class="Symbol">)</a>
                 <a id="19286" class="Symbol">_</a> <a id="19288" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="19290" href="SecureCompilation.Helpers.html#19290" class="Bound">∀d∗</a> <a id="19294" class="Symbol">=</a> <a id="19296" href="SecureCompilation.Helpers.html#1668" class="Function">COMPILE</a> <a id="19304" class="Symbol">(</a><a id="19305" href="SymbolicModel.Helpers.html#4824" class="Function">LIFTᶜ</a> <a id="19311" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="19313" href="SecureCompilation.Helpers.html#19138" class="Bound">anc</a><a id="19316" class="Symbol">)</a>
            <a id="19330" class="Keyword">in</a> <a id="19333" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="19336" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="19339" class="Symbol">(</a><a id="19340" href="SecureCompilation.Helpers.html#19290" class="Bound">∀d∗</a> <a id="19344" href="SecureCompilation.Helpers.html#19201" class="Bound">d∈</a> <a id="19347" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="19350" href="SecureCompilation.Helpers.html#19017" class="Bound">d≡</a> <a id="19353" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="19355" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="19364" href="Prelude.SubstDSL.html#164" class="Function">⟫</a><a id="19365" class="Symbol">)</a>

        <a id="19376" href="SecureCompilation.Helpers.html#19376" class="Function">tx</a> <a id="19379" class="Symbol">:</a> <a id="19381" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
        <a id="19398" href="SecureCompilation.Helpers.html#19376" class="Function">tx</a> <a id="19401" class="Symbol">=</a> <a id="19403" href="SecureCompilation.Helpers.html#19091" class="Function">$T</a> <a id="19406" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="19409" href="Data.Fin.Patterns.html#399" class="InductiveConstructor">0F</a>
      <a id="19418" class="Comment">-- abstract</a>
      <a id="19436" href="SecureCompilation.Helpers.html#19436" class="Function">T</a> <a id="19438" class="Symbol">:</a> <a id="19440" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
      <a id="19450" href="SecureCompilation.Helpers.html#19436" class="Function">T</a> <a id="19452" class="Symbol">=</a> <a id="19454" href="SecureCompilation.Helpers.html#19091" class="Function">$T</a>
      <a id="19463" class="Keyword">private</a>
        <a id="19479" class="Keyword">postulate</a> <a id="19489" href="SecureCompilation.Helpers.html#19489" class="Postulate">val≡</a> <a id="19494" class="Symbol">:</a> <a id="19496" href="SecureCompilation.Helpers.html#19376" class="Function">tx</a> <a id="19499" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a> <a id="19506" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="19508" href="SecureCompilation.Helpers.html#18519" class="Bound">v</a> <a id="19510" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="19512" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="19516" href="SecureCompilation.Helpers.html#18643" class="Function">vs</a>

        <a id="19528" class="Keyword">open</a> <a id="19533" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

        <a id="19554" href="SecureCompilation.Helpers.html#19554" class="Function">secrets≡</a> <a id="19563" class="Symbol">:</a> <a id="19565" href="SecureCompilation.Helpers.html#18861" class="Function">Γ′</a> <a id="19568" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="19571" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19578" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="19580" href="SecureCompilation.Helpers.html#18818" class="Function">Γ</a>
        <a id="19590" href="SecureCompilation.Helpers.html#19554" class="Function">secrets≡</a> <a id="19599" class="Symbol">=</a>
          <a id="19611" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
            <a id="19629" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19636" href="SecureCompilation.Helpers.html#18861" class="Function">Γ′</a>
          <a id="19649" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="19652" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="19680" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="19687" class="Symbol">(</a><a id="19688" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="19690" href="SecureCompilation.Helpers.html#18596" class="Bound">c′</a> <a id="19693" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="19695" href="SecureCompilation.Helpers.html#18519" class="Bound">v</a> <a id="19697" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="19699" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="19703" href="SecureCompilation.Helpers.html#18643" class="Function">vs</a> <a id="19706" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="19710" href="SecureCompilation.Helpers.html#18599" class="Bound">y′</a><a id="19712" class="Symbol">)</a> <a id="19714" href="SecureCompilation.Helpers.html#18592" class="Bound">Γ₀</a> <a id="19717" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="19731" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19738" class="Symbol">(</a><a id="19739" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="19741" href="SecureCompilation.Helpers.html#18596" class="Bound">c′</a> <a id="19744" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="19746" href="SecureCompilation.Helpers.html#18519" class="Bound">v</a> <a id="19748" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="19750" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="19754" href="SecureCompilation.Helpers.html#18643" class="Function">vs</a> <a id="19757" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="19761" href="SecureCompilation.Helpers.html#18599" class="Bound">y′</a><a id="19763" class="Symbol">)</a> <a id="19765" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="19768" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19775" href="SecureCompilation.Helpers.html#18592" class="Bound">Γ₀</a>
          <a id="19788" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
            <a id="19804" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19811" href="SecureCompilation.Helpers.html#18592" class="Bound">Γ₀</a>
          <a id="19824" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="19828" href="Data.List.Properties.html#5558" class="Function">L.++-identityˡ</a> <a id="19843" class="Symbol">_</a> <a id="19845" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
            <a id="19859" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="19862" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="19865" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19872" href="SecureCompilation.Helpers.html#18592" class="Bound">Γ₀</a>
          <a id="19885" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="19889" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="19894" class="Symbol">(</a><a id="19895" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="19899" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19906" href="SecureCompilation.Helpers.html#18592" class="Bound">Γ₀</a><a id="19908" class="Symbol">)</a> <a id="19910" class="Symbol">(</a><a id="19911" href="SecureCompilation.Helpers.html#20101" class="Function">go</a> <a id="19914" href="SecureCompilation.Helpers.html#18524" class="Bound">ds</a><a id="19916" class="Symbol">)</a> <a id="19918" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
            <a id="19932" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19939" class="Symbol">(</a><a id="19940" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="19942" href="SecureCompilation.Helpers.html#18596" class="Bound">c′</a> <a id="19945" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="19947" href="SecureCompilation.Helpers.html#18519" class="Bound">v</a> <a id="19949" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="19953" href="SecureCompilation.Helpers.html#18521" class="Bound">y</a> <a id="19955" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="19957" href="SecureCompilation.Helpers.html#18754" class="Function">Γ₁</a><a id="19959" class="Symbol">)</a> <a id="19961" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="19964" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19971" href="SecureCompilation.Helpers.html#18592" class="Bound">Γ₀</a>
          <a id="19984" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="19988" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="20016" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="20023" class="Symbol">(</a><a id="20024" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="20026" href="SecureCompilation.Helpers.html#18596" class="Bound">c′</a> <a id="20029" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="20031" href="SecureCompilation.Helpers.html#18519" class="Bound">v</a> <a id="20033" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="20037" href="SecureCompilation.Helpers.html#18521" class="Bound">y</a> <a id="20039" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="20041" href="SecureCompilation.Helpers.html#18754" class="Function">Γ₁</a><a id="20043" class="Symbol">)</a> <a id="20045" href="SecureCompilation.Helpers.html#18592" class="Bound">Γ₀</a> <a id="20048" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
            <a id="20062" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="20069" href="SecureCompilation.Helpers.html#18818" class="Function">Γ</a>
          <a id="20081" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="20083" class="Keyword">where</a>
            <a id="20101" href="SecureCompilation.Helpers.html#20101" class="Function">go</a> <a id="20104" class="Symbol">:</a> <a id="20106" class="Symbol">∀</a> <a id="20108" class="Symbol">(</a><a id="20109" href="SecureCompilation.Helpers.html#20109" class="Bound">ds</a> <a id="20112" class="Symbol">:</a> <a id="20114" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="20125" class="Symbol">)</a> <a id="20127" class="Symbol">→</a>
              <a id="20143" href="Prelude.Null.html#263" class="Field">Null</a> <a id="20148" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="20150" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="20157" class="Symbol">(</a><a id="20158" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="20161" href="Data.List.Base.html#1553" class="Function">map</a> <a id="20165" class="Symbol">(λ{</a> <a id="20169" class="Symbol">(</a><a id="20170" href="SecureCompilation.Helpers.html#20170" class="Bound">Aᵢ</a> <a id="20173" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="20175" href="SecureCompilation.Helpers.html#20175" class="Bound">vᵢ</a> <a id="20178" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="20180" href="SecureCompilation.Helpers.html#20180" class="Bound">xᵢ</a><a id="20182" class="Symbol">)</a> <a id="20184" class="Symbol">→</a> <a id="20186" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="20188" href="SecureCompilation.Helpers.html#20170" class="Bound">Aᵢ</a> <a id="20191" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="20195" href="SecureCompilation.Helpers.html#20175" class="Bound">vᵢ</a> <a id="20198" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="20202" href="SecureCompilation.Helpers.html#20180" class="Bound">xᵢ</a> <a id="20205" class="Symbol">})</a> <a id="20208" href="SecureCompilation.Helpers.html#20109" class="Bound">ds</a><a id="20210" class="Symbol">)</a>
            <a id="20224" href="SecureCompilation.Helpers.html#20101" class="Function">go</a> <a id="20227" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="20230" class="Symbol">=</a> <a id="20232" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
            <a id="20249" href="SecureCompilation.Helpers.html#20101" class="Function">go</a> <a id="20252" class="Symbol">(_</a> <a id="20255" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="20257" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="20259" class="Symbol">)</a> <a id="20261" class="Symbol">=</a> <a id="20263" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
            <a id="20280" href="SecureCompilation.Helpers.html#20101" class="Function">go</a> <a id="20283" class="Symbol">(_</a> <a id="20286" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="20288" href="SecureCompilation.Helpers.html#20288" class="Bound">xs</a><a id="20290" class="Symbol">@(_</a> <a id="20294" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="20296" class="Symbol">_))</a> <a id="20300" class="Symbol">=</a> <a id="20302" href="SecureCompilation.Helpers.html#20101" class="Function">go</a> <a id="20305" href="SecureCompilation.Helpers.html#20288" class="Bound">xs</a>

        <a id="20317" href="SecureCompilation.Helpers.html#20317" class="Function">ads≡</a> <a id="20322" class="Symbol">:</a> <a id="20324" href="SecureCompilation.Helpers.html#18861" class="Function">Γ′</a> <a id="20327" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="20330" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="20345" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="20347" href="SecureCompilation.Helpers.html#18818" class="Function">Γ</a>
        <a id="20357" href="SecureCompilation.Helpers.html#20317" class="Function">ads≡</a> <a id="20362" class="Symbol">=</a>
          <a id="20374" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
            <a id="20392" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="20407" href="SecureCompilation.Helpers.html#18861" class="Function">Γ′</a>
          <a id="20420" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
            <a id="20436" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="20451" href="SecureCompilation.Helpers.html#18592" class="Bound">Γ₀</a>
          <a id="20464" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="20468" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="20473" class="Symbol">(</a><a id="20474" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="20478" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="20493" href="SecureCompilation.Helpers.html#18592" class="Bound">Γ₀</a><a id="20495" class="Symbol">)</a> <a id="20497" class="Symbol">(</a><a id="20498" href="SecureCompilation.Helpers.html#20663" class="Function">go</a> <a id="20501" href="SecureCompilation.Helpers.html#18524" class="Bound">ds</a><a id="20503" class="Symbol">)</a> <a id="20505" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
            <a id="20519" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="20534" href="SecureCompilation.Helpers.html#18754" class="Function">Γ₁</a> <a id="20537" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="20540" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="20555" href="SecureCompilation.Helpers.html#18592" class="Bound">Γ₀</a>
          <a id="20568" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="20571" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="20575" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="20577" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="20596" href="SecureCompilation.Helpers.html#18754" class="Function">Γ₁</a> <a id="20599" href="SecureCompilation.Helpers.html#18592" class="Bound">Γ₀</a> <a id="20602" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="20616" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="20631" href="SecureCompilation.Helpers.html#18818" class="Function">Γ</a>
          <a id="20643" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="20645" class="Keyword">where</a>
            <a id="20663" href="SecureCompilation.Helpers.html#20663" class="Function">go</a> <a id="20666" class="Symbol">:</a> <a id="20668" class="Symbol">∀</a> <a id="20670" class="Symbol">(</a><a id="20671" href="SecureCompilation.Helpers.html#20671" class="Bound">ds</a> <a id="20674" class="Symbol">:</a> <a id="20676" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="20687" class="Symbol">)</a> <a id="20689" class="Symbol">→</a>
              <a id="20705" href="Prelude.Null.html#263" class="Field">Null</a> <a id="20710" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="20712" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="20727" class="Symbol">(</a><a id="20728" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="20731" href="Data.List.Base.html#1553" class="Function">map</a> <a id="20735" class="Symbol">(λ{</a> <a id="20739" class="Symbol">(</a><a id="20740" href="SecureCompilation.Helpers.html#20740" class="Bound">Aᵢ</a> <a id="20743" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="20745" href="SecureCompilation.Helpers.html#20745" class="Bound">vᵢ</a> <a id="20748" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="20750" href="SecureCompilation.Helpers.html#20750" class="Bound">xᵢ</a><a id="20752" class="Symbol">)</a> <a id="20754" class="Symbol">→</a> <a id="20756" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="20758" href="SecureCompilation.Helpers.html#20740" class="Bound">Aᵢ</a> <a id="20761" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="20765" href="SecureCompilation.Helpers.html#20745" class="Bound">vᵢ</a> <a id="20768" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="20772" href="SecureCompilation.Helpers.html#20750" class="Bound">xᵢ</a> <a id="20775" class="Symbol">})</a> <a id="20778" href="SecureCompilation.Helpers.html#20671" class="Bound">ds</a><a id="20780" class="Symbol">)</a>
            <a id="20794" href="SecureCompilation.Helpers.html#20663" class="Function">go</a> <a id="20797" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="20800" class="Symbol">=</a> <a id="20802" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
            <a id="20819" href="SecureCompilation.Helpers.html#20663" class="Function">go</a> <a id="20822" class="Symbol">(_</a> <a id="20825" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="20827" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="20829" class="Symbol">)</a> <a id="20831" class="Symbol">=</a> <a id="20833" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
            <a id="20850" href="SecureCompilation.Helpers.html#20663" class="Function">go</a> <a id="20853" class="Symbol">(_</a> <a id="20856" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="20858" href="SecureCompilation.Helpers.html#20858" class="Bound">xs</a><a id="20860" class="Symbol">@(_</a> <a id="20864" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="20866" class="Symbol">_))</a> <a id="20870" class="Symbol">=</a> <a id="20872" href="SecureCompilation.Helpers.html#20663" class="Function">go</a> <a id="20875" href="SecureCompilation.Helpers.html#20858" class="Bound">xs</a>

        <a id="20887" href="SecureCompilation.Helpers.html#20887" class="Function">sechash↝</a> <a id="20896" class="Symbol">:</a>  <a id="20899" href="SecureCompilation.Helpers.html#18818" class="Function">Γ</a> <a id="20901" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="20904" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="20912" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="20914" href="SecureCompilation.Helpers.html#18861" class="Function">Γ′</a>
        <a id="20925" href="SecureCompilation.Helpers.html#20887" class="Function">sechash↝</a> <a id="20934" class="Symbol">=</a> <a id="20936" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">lift</a> <a id="20941" href="SecureCompilation.Helpers.html#18818" class="Function">Γ</a> <a id="20943" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">—⟨</a> <a id="20946" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="20953" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⟩—</a> <a id="20956" href="SecureCompilation.Helpers.html#18861" class="Function">Γ′</a> <a id="20959" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⊣</a> <a id="20961" href="SecureCompilation.Helpers.html#19554" class="Function">secrets≡</a>

        <a id="20979" href="SecureCompilation.Helpers.html#20979" class="Function">κ↝</a> <a id="20982" class="Symbol">:</a> <a id="20984" href="SecureCompilation.Helpers.html#18818" class="Function">Γ</a> <a id="20986" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="20989" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="20992" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="20994" href="SecureCompilation.Helpers.html#18861" class="Function">Γ′</a>
        <a id="21005" href="SecureCompilation.Helpers.html#20979" class="Function">κ↝</a> <a id="21008" class="Symbol">=</a> <a id="21010" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">lift</a> <a id="21015" href="SecureCompilation.Helpers.html#18818" class="Function">Γ</a> <a id="21017" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">—⟨</a> <a id="21020" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="21035" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⟩—</a> <a id="21038" href="SecureCompilation.Helpers.html#18861" class="Function">Γ′</a> <a id="21041" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⊣</a> <a id="21043" href="SecureCompilation.Helpers.html#20317" class="Function">ads≡</a>

        <a id="21057" href="SecureCompilation.Helpers.html#21057" class="Function">p⊆</a> <a id="21060" class="Symbol">:</a> <a id="21062" href="SecureCompilation.Helpers.html#18592" class="Bound">Γ₀</a> <a id="21065" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="21068" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="21072" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="21074" href="SecureCompilation.Helpers.html#18818" class="Function">Γ</a>
        <a id="21084" href="SecureCompilation.Helpers.html#21057" class="Function">p⊆</a> <a id="21087" class="Symbol">=</a> <a id="21089" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a> <a id="21095" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="21097" href="BitML.Semantics.Configurations.Helpers.html#10369" class="Function">∈-ids-++⁺ʳ</a> <a id="21108" href="SecureCompilation.Helpers.html#18754" class="Function">Γ₁</a> <a id="21111" href="SecureCompilation.Helpers.html#18592" class="Bound">Γ₀</a>

        <a id="21123" class="Comment">-- (v) extend txout′ with {y′↦(T,0)}, sechash = sechash′, κ = κ′</a>
        <a id="21196" href="SecureCompilation.Helpers.html#21196" class="Function">txout↝</a> <a id="21203" class="Symbol">:</a> <a id="21205" href="SecureCompilation.Helpers.html#18818" class="Function">Γ</a> <a id="21207" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="21210" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="21216" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="21218" href="SecureCompilation.Helpers.html#18861" class="Function">Γ′</a>
        <a id="21229" href="SecureCompilation.Helpers.html#21196" class="Function">txout↝</a> <a id="21236" href="SecureCompilation.Helpers.html#21236" class="Bound">txout′</a> <a id="21243" class="Symbol">=</a> <a id="21245" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="21252" href="SecureCompilation.Helpers.html#18599" class="Bound">y′</a> <a id="21255" href="SecureCompilation.Helpers.html#19376" class="Function">tx</a> <a id="21258" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="21260" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="21269" href="SecureCompilation.Helpers.html#21236" class="Bound">txout′</a> <a id="21276" href="SecureCompilation.Helpers.html#21057" class="Function">p⊆</a>

        <a id="21288" href="SecureCompilation.Helpers.html#21288" class="Function">Γ″</a> <a id="21291" class="Symbol">=</a> <a id="21293" href="SecureCompilation.Helpers.html#18993" class="Bound">∃Γ≈</a> <a id="21297" class="Symbol">.</a><a id="21298" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a><a id="21303" class="Symbol">;</a> <a id="21305" href="SecureCompilation.Helpers.html#21305" class="Function">Γ≈</a> <a id="21308" class="Symbol">=</a> <a id="21310" href="SecureCompilation.Helpers.html#18993" class="Bound">∃Γ≈</a> <a id="21314" class="Symbol">.</a><a id="21315" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
        <a id="21329" href="SecureCompilation.Helpers.html#21329" class="Function">Γₜ</a> <a id="21332" href="SecureCompilation.Helpers.html#21332" class="Function">Γₜ′</a> <a id="21336" href="SecureCompilation.Helpers.html#21336" class="Function">Γₜ″</a> <a id="21340" class="Symbol">:</a> <a id="21342" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a><a id="21346" class="Symbol">;</a> <a id="21348" href="SecureCompilation.Helpers.html#21329" class="Function">Γₜ</a>  <a id="21352" class="Symbol">=</a> <a id="21354" href="SecureCompilation.Helpers.html#18818" class="Function">Γ</a> <a id="21356" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="21359" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a><a id="21360" class="Symbol">;</a> <a id="21362" href="SecureCompilation.Helpers.html#21332" class="Function">Γₜ′</a> <a id="21366" class="Symbol">=</a> <a id="21368" href="SecureCompilation.Helpers.html#18861" class="Function">Γ′</a> <a id="21371" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="21374" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="21376" class="Symbol">;</a> <a id="21378" href="SecureCompilation.Helpers.html#21336" class="Function">Γₜ″</a> <a id="21382" class="Symbol">=</a> <a id="21384" href="SecureCompilation.Helpers.html#21288" class="Function">Γ″</a> <a id="21387" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="21390" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a>
      <a id="21399" class="Comment">-- abstract</a>
      <a id="21417" href="SecureCompilation.Helpers.html#21417" class="Function">λˢ</a> <a id="21420" class="Symbol">:</a> <a id="21422" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="21424" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="21426" href="SecureCompilation.Helpers.html#21336" class="Function">Γₜ″</a>
      <a id="21436" href="SecureCompilation.Helpers.html#21417" class="Function">λˢ</a> <a id="21439" class="Symbol">=</a> <a id="21441" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="21447" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="21449" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="21451" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="21453" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a> <a id="21456" href="SecureCompilation.Helpers.html#18818" class="Function">Γ</a> <a id="21458" href="SecureCompilation.Helpers.html#18940" class="Bound">R≈</a> <a id="21461" href="SecureCompilation.Helpers.html#18861" class="Function">Γ′</a> <a id="21464" href="SecureCompilation.Helpers.html#18959" class="Bound">Γ→Γ′</a> <a id="21469" href="SecureCompilation.Helpers.html#18993" class="Bound">∃Γ≈</a> <a id="21473" href="SecureCompilation.Helpers.html#21196" class="Function">txout↝</a> <a id="21480" href="SecureCompilation.Helpers.html#20887" class="Function">sechash↝</a> <a id="21489" href="SecureCompilation.Helpers.html#20979" class="Function">κ↝</a>
      <a id="21498" class="Keyword">private</a>
        <a id="21514" href="SecureCompilation.Helpers.html#21514" class="Function">𝕒</a>  <a id="21517" class="Symbol">=</a> <a id="21519" href="SecureCompilation.Helpers.html#21417" class="Function">λˢ</a> <a id="21522" class="Symbol">.</a><a id="21523" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
        <a id="21537" href="SecureCompilation.Helpers.html#21537" class="Function">R′</a> <a id="21540" class="Symbol">=</a> <a id="21542" href="SecureCompilation.Helpers.html#21336" class="Function">Γₜ″</a> <a id="21546" href="SymbolicModel.Run.Base.html#2558" class="Function Operator">∷</a> <a id="21548" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="21550" href="SymbolicModel.Run.Base.html#2558" class="Function Operator">⊣</a> <a id="21552" href="SecureCompilation.Helpers.html#21514" class="Function">𝕒</a>

        <a id="21563" href="SecureCompilation.Helpers.html#21563" class="Function">R≈′</a> <a id="21567" class="Symbol">:</a> <a id="21569" href="SecureCompilation.Helpers.html#21537" class="Function">R′</a> <a id="21572" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="21575" href="SecureCompilation.Helpers.html#18861" class="Function">Γ′</a> <a id="21578" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="21581" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a>
        <a id="21592" href="SecureCompilation.Helpers.html#21563" class="Function">R≈′</a> <a id="21596" class="Symbol">=</a> <a id="21598" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="21603" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="21605" href="SecureCompilation.Helpers.html#21305" class="Function">Γ≈</a>

        <a id="21617" href="SecureCompilation.Helpers.html#21617" class="Function">𝕣′</a> <a id="21620" class="Symbol">:</a> <a id="21622" href="SymbolicModel.Mappings.Base.html#743" class="Function">ℝ</a> <a id="21624" href="SecureCompilation.Helpers.html#21537" class="Function">R′</a>
        <a id="21635" href="SecureCompilation.Helpers.html#21617" class="Function">𝕣′</a> <a id="21638" class="Symbol">=</a> <a id="21640" href="SymbolicModel.Mappings.Properties.html#4538" class="Function">ℝ-step</a> <a id="21647" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="21649" href="SecureCompilation.Helpers.html#21417" class="Function">λˢ</a>
      <a id="21658" class="Keyword">abstract</a>
        <a id="21675" href="SecureCompilation.Helpers.html#21675" class="Function">value-preserving⇒</a> <a id="21693" class="Symbol">:</a>
          <a id="21705" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="21722" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a>
          <a id="21734" href="Prelude.InferenceRules.html#14163" class="Function Operator">───────────────────</a>
          <a id="21764" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="21781" href="SecureCompilation.Helpers.html#21617" class="Function">𝕣′</a>
        <a id="21792" href="SecureCompilation.Helpers.html#21675" class="Function">value-preserving⇒</a> <a id="21810" href="SecureCompilation.Helpers.html#21810" class="Bound">pv-txout</a> <a id="21819" class="Symbol">=</a> <a id="21821" href="SecureCompilation.Helpers.html#23332" class="Function">pv-txout′</a>
          <a id="21841" class="Keyword">where</a>
          <a id="21857" href="SecureCompilation.Helpers.html#21857" class="Function">txoutΓ</a> <a id="21864" class="Symbol">:</a> <a id="21866" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="21872" href="SecureCompilation.Helpers.html#18818" class="Function">Γ</a>
          <a id="21884" href="SecureCompilation.Helpers.html#21857" class="Function">txoutΓ</a> <a id="21891" class="Symbol">=</a> <a id="21893" href="SymbolicModel.Mappings.Properties.html#671" class="Function">Txout≈</a> <a id="21900" class="Symbol">{</a><a id="21901" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="21903" href="SymbolicModel.Accessors.html#597" class="Function Operator">∙cfg</a><a id="21907" class="Symbol">}{</a><a id="21909" href="SecureCompilation.Helpers.html#18818" class="Function">Γ</a><a id="21910" class="Symbol">}</a> <a id="21912" class="Symbol">(</a><a id="21913" href="SecureCompilation.Helpers.html#18940" class="Bound">R≈</a> <a id="21916" class="Symbol">.</a><a id="21917" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="21922" class="Symbol">)</a> <a id="21924" class="Symbol">(</a><a id="21925" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="21927" href="SymbolicModel.Mappings.Properties.html#12758" class="Function Operator">∙txoutEnd_</a><a id="21937" class="Symbol">)</a>

          <a id="21950" href="SecureCompilation.Helpers.html#21950" class="Function">pv-txoutΓ</a> <a id="21960" class="Symbol">:</a> <a id="21962" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="21978" class="Symbol">{</a><a id="21979" href="SecureCompilation.Helpers.html#18818" class="Function">Γ</a><a id="21980" class="Symbol">}</a> <a id="21982" href="SecureCompilation.Helpers.html#21857" class="Function">txoutΓ</a>
          <a id="21999" href="SecureCompilation.Helpers.html#21950" class="Function">pv-txoutΓ</a> <a id="22009" class="Symbol">=</a> <a id="22011" href="SymbolicModel.ValuePreservation.html#2568" class="Function">ValuePreserving-Txout≈</a> <a id="22034" class="Symbol">{</a><a id="22035" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="22037" href="SymbolicModel.Accessors.html#597" class="Function Operator">∙cfg</a><a id="22041" class="Symbol">}{</a><a id="22043" href="SecureCompilation.Helpers.html#18818" class="Function">Γ</a><a id="22044" class="Symbol">}</a> <a id="22046" class="Symbol">(</a><a id="22047" href="SecureCompilation.Helpers.html#18940" class="Bound">R≈</a> <a id="22050" class="Symbol">.</a><a id="22051" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="22056" class="Symbol">)</a> <a id="22058" class="Symbol">(</a><a id="22059" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="22061" href="SymbolicModel.Mappings.Properties.html#12758" class="Function Operator">∙txoutEnd_</a><a id="22071" class="Symbol">)</a> <a id="22073" href="SecureCompilation.Helpers.html#21810" class="Bound">pv-txout</a>

          <a id="22093" href="SecureCompilation.Helpers.html#22093" class="Function">txoutΓ₀</a> <a id="22101" class="Symbol">:</a> <a id="22103" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="22109" href="SecureCompilation.Helpers.html#18592" class="Bound">Γ₀</a>
          <a id="22122" href="SecureCompilation.Helpers.html#22093" class="Function">txoutΓ₀</a> <a id="22130" class="Symbol">=</a> <a id="22132" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="22141" href="SecureCompilation.Helpers.html#21857" class="Function">txoutΓ</a> <a id="22148" href="SecureCompilation.Helpers.html#21057" class="Function">p⊆</a>

          <a id="22162" href="SecureCompilation.Helpers.html#22162" class="Function">pv-txoutΓ₀</a> <a id="22173" class="Symbol">:</a> <a id="22175" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="22191" class="Symbol">{</a><a id="22192" href="SecureCompilation.Helpers.html#18592" class="Bound">Γ₀</a><a id="22194" class="Symbol">}</a> <a id="22196" href="SecureCompilation.Helpers.html#22093" class="Function">txoutΓ₀</a>
          <a id="22214" href="SecureCompilation.Helpers.html#22162" class="Function">pv-txoutΓ₀</a> <a id="22225" href="SecureCompilation.Helpers.html#22225" class="Bound">x∈</a> <a id="22228" class="Symbol">=</a>
            <a id="22242" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
              <a id="22262" href="SecureCompilation.Helpers.html#22093" class="Function">txoutΓ₀</a> <a id="22270" href="SecureCompilation.Helpers.html#22225" class="Bound">x∈</a> <a id="22273" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
            <a id="22292" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
              <a id="22310" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="22319" href="SecureCompilation.Helpers.html#21857" class="Function">txoutΓ</a> <a id="22326" href="SecureCompilation.Helpers.html#21057" class="Function">p⊆</a> <a id="22329" href="SecureCompilation.Helpers.html#22225" class="Bound">x∈</a> <a id="22332" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
            <a id="22351" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="22354" href="SymbolicModel.ValuePreservation.html#1545" class="Function">pv-weaken-↦</a> <a id="22366" class="Symbol">{</a><a id="22367" href="SecureCompilation.Helpers.html#18818" class="Function">Γ</a><a id="22368" class="Symbol">}{</a><a id="22370" href="SecureCompilation.Helpers.html#18592" class="Bound">Γ₀</a><a id="22372" class="Symbol">}</a> <a id="22374" href="SecureCompilation.Helpers.html#21857" class="Function">txoutΓ</a> <a id="22381" href="SecureCompilation.Helpers.html#21057" class="Function">p⊆</a> <a id="22384" href="SecureCompilation.Helpers.html#22491" class="Function">pv⊆</a> <a id="22388" href="SecureCompilation.Helpers.html#21950" class="Function">pv-txoutΓ</a> <a id="22398" href="SecureCompilation.Helpers.html#22225" class="Bound">x∈</a> <a id="22401" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
              <a id="22417" class="Symbol">(</a><a id="22418" href="SecureCompilation.Helpers.html#18592" class="Bound">Γ₀</a> <a id="22421" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="22423" href="SecureCompilation.Helpers.html#22225" class="Bound">x∈</a><a id="22425" class="Symbol">)</a> <a id="22427" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
            <a id="22446" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="22448" class="Keyword">where</a> <a id="22454" class="Keyword">open</a> <a id="22459" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>
                    <a id="22491" href="SecureCompilation.Helpers.html#22491" class="Function">pv⊆</a> <a id="22495" class="Symbol">:</a> <a id="22497" href="SymbolicModel.ValuePreservation.html#1410" class="Function">ValuePreserving⊆</a> <a id="22514" class="Symbol">{</a><a id="22515" href="SecureCompilation.Helpers.html#18592" class="Bound">Γ₀</a><a id="22517" class="Symbol">}{</a><a id="22519" href="SecureCompilation.Helpers.html#18818" class="Function">Γ</a><a id="22520" class="Symbol">}</a> <a id="22522" href="SecureCompilation.Helpers.html#21057" class="Function">p⊆</a>
                    <a id="22545" href="SecureCompilation.Helpers.html#22491" class="Function">pv⊆</a> <a id="22549" href="SecureCompilation.Helpers.html#22549" class="Bound">x∈</a> <a id="22552" class="Symbol">=</a>
                      <a id="22576" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
                        <a id="22606" class="Symbol">(</a><a id="22607" href="SecureCompilation.Helpers.html#18592" class="Bound">Γ₀</a> <a id="22610" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="22612" href="SecureCompilation.Helpers.html#22549" class="Bound">x∈</a><a id="22614" class="Symbol">)</a> <a id="22616" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
                      <a id="22645" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="22649" href="SymbolicModel.Accessors.html#5452" class="Function">∈-ids-++⁺ʳ∙value</a> <a id="22666" class="Symbol">{</a><a id="22667" class="Argument">Γ′</a> <a id="22670" class="Symbol">=</a> <a id="22672" href="SecureCompilation.Helpers.html#18592" class="Bound">Γ₀</a><a id="22674" class="Symbol">}{</a><a id="22676" href="SecureCompilation.Helpers.html#18754" class="Function">Γ₁</a><a id="22678" class="Symbol">}</a> <a id="22680" href="SecureCompilation.Helpers.html#22549" class="Bound">x∈</a> <a id="22683" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
                        <a id="22709" class="Symbol">(</a><a id="22710" href="SecureCompilation.Helpers.html#18754" class="Function">Γ₁</a> <a id="22713" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="22715" href="SecureCompilation.Helpers.html#18592" class="Bound">Γ₀</a> <a id="22718" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="22720" href="BitML.Semantics.Configurations.Helpers.html#10369" class="Function">∈-ids-++⁺ʳ</a> <a id="22731" href="SecureCompilation.Helpers.html#18754" class="Function">Γ₁</a> <a id="22734" href="SecureCompilation.Helpers.html#18592" class="Bound">Γ₀</a> <a id="22737" href="SecureCompilation.Helpers.html#22549" class="Bound">x∈</a><a id="22739" class="Symbol">)</a> <a id="22741" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
                      <a id="22770" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
                        <a id="22798" class="Symbol">(</a><a id="22799" href="SecureCompilation.Helpers.html#18818" class="Function">Γ</a> <a id="22801" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="22803" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a> <a id="22809" class="Symbol">(</a><a id="22810" href="BitML.Semantics.Configurations.Helpers.html#10369" class="Function">∈-ids-++⁺ʳ</a> <a id="22821" href="SecureCompilation.Helpers.html#18754" class="Function">Γ₁</a> <a id="22824" href="SecureCompilation.Helpers.html#18592" class="Bound">Γ₀</a> <a id="22827" href="SecureCompilation.Helpers.html#22549" class="Bound">x∈</a><a id="22829" class="Symbol">))</a> <a id="22832" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
                      <a id="22861" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
                        <a id="22889" class="Symbol">(</a><a id="22890" href="SecureCompilation.Helpers.html#18818" class="Function">Γ</a> <a id="22892" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="22894" href="SecureCompilation.Helpers.html#21057" class="Function">p⊆</a> <a id="22897" href="SecureCompilation.Helpers.html#22549" class="Bound">x∈</a><a id="22899" class="Symbol">)</a> <a id="22901" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
                      <a id="22930" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

          <a id="22943" href="SecureCompilation.Helpers.html#22943" class="Function">txoutΓ′</a> <a id="22951" class="Symbol">:</a> <a id="22953" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="22959" href="SecureCompilation.Helpers.html#18861" class="Function">Γ′</a>
          <a id="22972" href="SecureCompilation.Helpers.html#22943" class="Function">txoutΓ′</a> <a id="22980" class="Symbol">=</a> <a id="22982" href="SecureCompilation.Helpers.html#21196" class="Function">txout↝</a> <a id="22989" href="SecureCompilation.Helpers.html#21857" class="Function">txoutΓ</a>

          <a id="23007" href="SecureCompilation.Helpers.html#23007" class="Function">pv-txoutΓ′</a> <a id="23018" class="Symbol">:</a> <a id="23020" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="23036" class="Symbol">{</a><a id="23037" href="SecureCompilation.Helpers.html#18861" class="Function">Γ′</a><a id="23039" class="Symbol">}</a> <a id="23041" href="SecureCompilation.Helpers.html#22943" class="Function">txoutΓ′</a>
          <a id="23059" href="SecureCompilation.Helpers.html#23007" class="Function">pv-txoutΓ′</a> <a id="23070" class="Symbol">=</a> <a id="23072" href="SymbolicModel.ValuePreservation.html#1122" class="Function">pv-cons-↦</a> <a id="23082" href="SecureCompilation.Helpers.html#19489" class="Postulate">val≡</a> <a id="23087" href="SecureCompilation.Helpers.html#22162" class="Function">pv-txoutΓ₀</a>

          <a id="23109" href="SecureCompilation.Helpers.html#23109" class="Function">txoutΓ″</a> <a id="23117" class="Symbol">:</a> <a id="23119" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="23125" href="SecureCompilation.Helpers.html#21288" class="Function">Γ″</a>
          <a id="23138" href="SecureCompilation.Helpers.html#23109" class="Function">txoutΓ″</a> <a id="23146" class="Symbol">=</a> <a id="23148" href="SymbolicModel.Mappings.Properties.html#671" class="Function">Txout≈</a> <a id="23155" class="Symbol">{</a><a id="23156" href="SecureCompilation.Helpers.html#18861" class="Function">Γ′</a><a id="23158" class="Symbol">}{</a><a id="23160" href="SecureCompilation.Helpers.html#21288" class="Function">Γ″</a><a id="23162" class="Symbol">}</a> <a id="23164" class="Symbol">(</a><a id="23165" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="23171" href="SecureCompilation.Helpers.html#21305" class="Function">Γ≈</a><a id="23173" class="Symbol">)</a> <a id="23175" href="SecureCompilation.Helpers.html#22943" class="Function">txoutΓ′</a>

          <a id="23194" href="SecureCompilation.Helpers.html#23194" class="Function">pv-txoutΓ″</a> <a id="23205" class="Symbol">:</a> <a id="23207" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="23223" class="Symbol">{</a><a id="23224" href="SecureCompilation.Helpers.html#21288" class="Function">Γ″</a><a id="23226" class="Symbol">}</a> <a id="23228" href="SecureCompilation.Helpers.html#23109" class="Function">txoutΓ″</a>
          <a id="23246" href="SecureCompilation.Helpers.html#23194" class="Function">pv-txoutΓ″</a> <a id="23257" class="Symbol">=</a> <a id="23259" href="SymbolicModel.ValuePreservation.html#2568" class="Function">ValuePreserving-Txout≈</a> <a id="23282" class="Symbol">{</a><a id="23283" href="SecureCompilation.Helpers.html#18861" class="Function">Γ′</a><a id="23285" class="Symbol">}{</a><a id="23287" href="SecureCompilation.Helpers.html#21288" class="Function">Γ″</a><a id="23289" class="Symbol">}</a> <a id="23291" class="Symbol">(</a><a id="23292" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="23298" href="SecureCompilation.Helpers.html#21305" class="Function">Γ≈</a><a id="23300" class="Symbol">)</a> <a id="23302" href="SecureCompilation.Helpers.html#22943" class="Function">txoutΓ′</a> <a id="23310" href="SecureCompilation.Helpers.html#23007" class="Function">pv-txoutΓ′</a>

          <a id="23332" href="SecureCompilation.Helpers.html#23332" class="Function">pv-txout′</a> <a id="23342" class="Symbol">:</a> <a id="23344" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="23361" href="SecureCompilation.Helpers.html#21617" class="Function">𝕣′</a>
          <a id="23374" href="SecureCompilation.Helpers.html#23332" class="Function">pv-txout′</a> <a id="23384" href="SecureCompilation.Helpers.html#23384" class="Bound">x∈</a> <a id="23387" class="Symbol">=</a>
            <a id="23401" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
              <a id="23421" class="Symbol">(</a><a id="23422" href="SecureCompilation.Helpers.html#21617" class="Function">𝕣′</a> <a id="23425" href="SymbolicModel.Mappings.Properties.html#12758" class="Function Operator">∙txoutEnd</a> <a id="23435" href="SecureCompilation.Helpers.html#23384" class="Bound">x∈</a><a id="23437" class="Symbol">)</a> <a id="23439" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
            <a id="23458" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="23461" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="23466" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">_∙value</a>
                  <a id="23492" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="23494" href="SymbolicModel.Mappings.Properties.html#9729" class="Function">txout∷∘namesʳ⦅end⦆⊆</a> <a id="23514" class="Symbol">{</a><a id="23515" class="Argument">R</a> <a id="23517" class="Symbol">=</a> <a id="23519" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a><a id="23520" class="Symbol">}</a> <a id="23522" href="SecureCompilation.Helpers.html#18959" class="Bound">Γ→Γ′</a> <a id="23527" class="Symbol">(</a><a id="23528" href="SecureCompilation.Helpers.html#21563" class="Function">R≈′</a> <a id="23532" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="23534" href="SecureCompilation.Helpers.html#18940" class="Bound">R≈</a><a id="23536" class="Symbol">)</a> <a id="23538" href="SecureCompilation.Helpers.html#22943" class="Function">txoutΓ′</a> <a id="23546" href="SymbolicModel.Mappings.Base.html#823" class="Function">txout′</a> <a id="23553" class="Symbol">_</a> <a id="23555" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
              <a id="23571" class="Symbol">(</a><a id="23572" href="SecureCompilation.Helpers.html#23109" class="Function">txoutΓ″</a> <a id="23580" href="SecureCompilation.Helpers.html#23384" class="Bound">x∈</a><a id="23582" class="Symbol">)</a> <a id="23584" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
            <a id="23603" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="23606" href="SecureCompilation.Helpers.html#23194" class="Function">pv-txoutΓ″</a> <a id="23617" class="Symbol">_</a> <a id="23619" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
              <a id="23635" class="Symbol">(</a><a id="23636" href="SecureCompilation.Helpers.html#21288" class="Function">Γ″</a> <a id="23639" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="23641" href="SecureCompilation.Helpers.html#23384" class="Bound">x∈</a><a id="23643" class="Symbol">)</a> <a id="23645" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
            <a id="23664" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

  <a id="23669" class="Comment">-- [7]</a>
  <a id="23678" class="Keyword">module</a> <a id="23685" href="SecureCompilation.Helpers.html#23685" class="Module">_</a> <a id="23687" href="SecureCompilation.Helpers.html#23687" class="Bound">A</a> <a id="23689" href="SecureCompilation.Helpers.html#23689" class="Bound">a</a> <a id="23691" href="SecureCompilation.Helpers.html#23691" class="Bound">n</a> <a id="23693" href="SecureCompilation.Helpers.html#23693" class="Bound">Γ₀</a> <a id="23696" class="Keyword">where</a>
    <a id="23706" class="Keyword">private</a>
      <a id="23720" href="SecureCompilation.Helpers.html#23720" class="Function">Γ</a>  <a id="23723" class="Symbol">=</a> <a id="23725" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="23729" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="23731" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="23733" href="SecureCompilation.Helpers.html#23687" class="Bound">A</a> <a id="23735" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶</a> <a id="23737" href="SecureCompilation.Helpers.html#23689" class="Bound">a</a> <a id="23739" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">♯</a> <a id="23741" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="23746" href="SecureCompilation.Helpers.html#23691" class="Bound">n</a> <a id="23748" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟩</a> <a id="23750" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="23752" href="SecureCompilation.Helpers.html#23693" class="Bound">Γ₀</a>
      <a id="23761" href="SecureCompilation.Helpers.html#23761" class="Function">Γ′</a> <a id="23764" class="Symbol">=</a> <a id="23766" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="23770" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="23772" href="SecureCompilation.Helpers.html#23687" class="Bound">A</a> <a id="23774" href="BitML.Semantics.Configurations.Types.html#968" class="InductiveConstructor Operator">∶</a> <a id="23776" href="SecureCompilation.Helpers.html#23689" class="Bound">a</a> <a id="23778" href="BitML.Semantics.Configurations.Types.html#968" class="InductiveConstructor Operator">♯</a> <a id="23780" href="SecureCompilation.Helpers.html#23691" class="Bound">n</a> <a id="23782" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="23784" href="SecureCompilation.Helpers.html#23693" class="Bound">Γ₀</a>
    <a id="23791" class="Keyword">module</a> <a id="23798" href="SecureCompilation.Helpers.html#23798" class="Module">H₇</a> <a id="23801" class="Symbol">(</a><a id="23802" href="SecureCompilation.Helpers.html#23802" class="Bound">R≈</a> <a id="23805" class="Symbol">:</a> <a id="23807" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="23809" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="23812" href="SecureCompilation.Helpers.html#23720" class="Function">Γ</a> <a id="23814" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="23817" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a><a id="23818" class="Symbol">)</a> <a id="23820" class="Symbol">(</a><a id="23821" href="SecureCompilation.Helpers.html#23821" class="Bound">Γ→Γ′</a> <a id="23826" class="Symbol">:</a> <a id="23828" href="SecureCompilation.Helpers.html#23720" class="Function">Γ</a> <a id="23830" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="23833" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="23835" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="23838" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="23840" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="23844" href="SecureCompilation.Helpers.html#23761" class="Function">Γ′</a> <a id="23847" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="23850" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="23852" class="Symbol">)</a> <a id="23854" class="Symbol">(</a><a id="23855" href="SecureCompilation.Helpers.html#23855" class="Bound">∃Γ≈</a> <a id="23859" class="Symbol">:</a> <a id="23861" href="Data.Product.html#1378" class="Function">∃</a> <a id="23863" class="Symbol">(</a><a id="23864" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="23867" href="SecureCompilation.Helpers.html#23761" class="Function">Γ′</a><a id="23869" class="Symbol">))</a> <a id="23872" class="Keyword">where</a>
      <a id="23884" class="Comment">-- abstract</a>
      <a id="23902" href="SecureCompilation.Helpers.html#23902" class="Function">λˢ</a> <a id="23905" class="Symbol">:</a> <a id="23907" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="23909" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="23911" class="Symbol">(</a><a id="23912" href="SecureCompilation.Helpers.html#23855" class="Bound">∃Γ≈</a> <a id="23916" class="Symbol">.</a><a id="23917" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="23923" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="23926" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="23928" class="Symbol">)</a>
      <a id="23936" href="SecureCompilation.Helpers.html#23902" class="Function">λˢ</a> <a id="23939" class="Symbol">=</a> <a id="23941" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="23947" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="23949" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="23951" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="23953" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a> <a id="23956" href="SecureCompilation.Helpers.html#23720" class="Function">Γ</a> <a id="23958" href="SecureCompilation.Helpers.html#23802" class="Bound">R≈</a> <a id="23961" href="SecureCompilation.Helpers.html#23761" class="Function">Γ′</a> <a id="23964" href="SecureCompilation.Helpers.html#23821" class="Bound">Γ→Γ′</a> <a id="23969" href="SecureCompilation.Helpers.html#23855" class="Bound">∃Γ≈</a> <a id="23973" href="Function.Base.html#624" class="Function">id</a> <a id="23976" href="Function.Base.html#624" class="Function">id</a> <a id="23979" href="Function.Base.html#624" class="Function">id</a>
  <a id="23984" class="Keyword">module</a> <a id="23991" href="SecureCompilation.Helpers.html#23991" class="Module">H₇′</a>
    <a id="23999" class="Symbol">(</a><a id="24000" href="SecureCompilation.Helpers.html#24000" class="Bound">Δ</a> <a id="24002" class="Symbol">:</a> <a id="24004" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="24009" class="Symbol">(</a><a id="24010" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="24017" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="24019" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="24025" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="24026" class="Symbol">))</a>
    <a id="24033" class="Symbol">(</a><a id="24034" href="SecureCompilation.Helpers.html#24034" class="Bound">h̅</a> <a id="24037" class="Symbol">:</a> <a id="24039" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="24044" href="Bitcoin.BasicTypes.html#351" class="Function">HashId</a><a id="24050" class="Symbol">)</a>
    <a id="24056" class="Symbol">{</a><a id="24057" href="SecureCompilation.Helpers.html#24057" class="Bound">ad</a><a id="24059" class="Symbol">}</a> <a id="24061" class="Symbol">(</a><a id="24062" href="SecureCompilation.Helpers.html#24062" class="Bound">k⃗</a> <a id="24065" class="Symbol">:</a> <a id="24067" href="Compiler.Mappings.html#454" class="Function">𝕂²′</a> <a id="24071" href="SecureCompilation.Helpers.html#24057" class="Bound">ad</a><a id="24073" class="Symbol">)</a>
    <a id="24079" class="Symbol">{</a><a id="24080" href="SecureCompilation.Helpers.html#24080" class="Bound">A</a><a id="24081" class="Symbol">}</a> <a id="24083" class="Symbol">(</a><a id="24084" href="SecureCompilation.Helpers.html#24084" class="Bound">∃α</a> <a id="24087" class="Symbol">:</a> <a id="24089" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">auth-commit⦅</a> <a id="24102" href="SecureCompilation.Helpers.html#24080" class="Bound">A</a> <a id="24104" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">,</a> <a id="24106" href="SecureCompilation.Helpers.html#24057" class="Bound">ad</a> <a id="24109" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">,</a> <a id="24111" href="SecureCompilation.Helpers.html#24000" class="Bound">Δ</a> <a id="24113" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">⦆</a> <a id="24115" href="Prelude.Membership.html#428" class="Field Operator">∈</a> <a id="24117" href="SymbolicModel.Collections.html#873" class="Function">labelsʳ</a> <a id="24125" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a><a id="24126" class="Symbol">)</a> <a id="24128" class="Keyword">where</a>
    <a id="24138" class="Keyword">private</a>
      <a id="24152" href="SecureCompilation.Helpers.html#24152" class="Function">txoutᶜ</a> <a id="24159" class="Symbol">:</a> <a id="24161" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="24167" href="SecureCompilation.Helpers.html#24057" class="Bound">ad</a> <a id="24170" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="24172" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="24178" class="Symbol">(</a><a id="24179" href="SecureCompilation.Helpers.html#24057" class="Bound">ad</a> <a id="24182" class="Symbol">.</a><a id="24183" href="BitML.Contracts.Types.html#2351" class="Field">C</a><a id="24184" class="Symbol">)</a>
      <a id="24192" href="SecureCompilation.Helpers.html#24152" class="Function">txoutᶜ</a> <a id="24199" class="Symbol">=</a> <a id="24201" href="SymbolicModel.Helpers.html#6277" class="Function">auth-commit∈⇒Txout</a> <a id="24220" href="SecureCompilation.Helpers.html#24084" class="Bound">∃α</a> <a id="24223" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a>
    <a id="24229" class="Keyword">abstract</a>
      <a id="24244" class="Comment">-- T0D0: should we search for a signature of this message instead?</a>
      <a id="24317" href="SecureCompilation.Helpers.html#24317" class="Function">C,h̅,k̅</a> <a id="24325" class="Symbol">:</a> <a id="24327" href="Bitcoin.BasicTypes.html#351" class="Function">HashId</a>
      <a id="24340" href="SecureCompilation.Helpers.html#24317" class="Function">C,h̅,k̅</a> <a id="24348" class="Symbol">=</a> <a id="24350" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="24357" class="Symbol">{</a><a id="24358" class="Argument">A</a> <a id="24360" class="Symbol">=</a> <a id="24362" href="Bitcoin.BasicTypes.html#351" class="Function">HashId</a> <a id="24369" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="24371" href="Bitcoin.BasicTypes.html#351" class="Function">HashId</a> <a id="24378" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="24380" href="Bitcoin.BasicTypes.html#351" class="Function">HashId</a><a id="24386" class="Symbol">}</a>
                <a id="24404" class="Symbol">(</a> <a id="24406" href="SecureCompilation.ComputationalContracts.html#12858" class="Function">encodeAd</a> <a id="24415" href="SecureCompilation.Helpers.html#24057" class="Bound">ad</a> <a id="24418" href="SecureCompilation.Helpers.html#24152" class="Function">txoutᶜ</a>
                <a id="24441" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="24443" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="24450" href="SecureCompilation.Helpers.html#24034" class="Bound">h̅</a>
                <a id="24469" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="24471" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="24478" class="Symbol">(</a><a id="24479" href="Data.List.Base.html#4459" class="Function">concatMap</a> <a id="24489" class="Symbol">(</a><a id="24490" href="Data.List.Base.html#1553" class="Function">map</a> <a id="24494" href="Bitcoin.Crypto.html#375" class="Field">pub</a> <a id="24498" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="24500" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a><a id="24505" class="Symbol">)</a> <a id="24507" class="Symbol">(</a><a id="24508" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="24514" href="SecureCompilation.Helpers.html#24062" class="Bound">k⃗</a><a id="24516" class="Symbol">))</a>
                <a id="24535" class="Symbol">)</a>

  <a id="24540" class="Comment">-- [8]</a>
  <a id="24549" class="Keyword">module</a> <a id="24556" href="SecureCompilation.Helpers.html#24556" class="Module">_</a> <a id="24558" href="SecureCompilation.Helpers.html#24558" class="Bound">c</a> <a id="24560" href="SecureCompilation.Helpers.html#24560" class="Bound">v</a> <a id="24562" href="SecureCompilation.Helpers.html#24562" class="Bound">y</a> <a id="24564" href="SecureCompilation.Helpers.html#24564" class="Bound">Γ₀</a> <a id="24567" class="Symbol">(</a><a id="24568" href="SecureCompilation.Helpers.html#24568" class="Bound">i</a> <a id="24570" class="Symbol">:</a> <a id="24572" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="24578" href="SecureCompilation.Helpers.html#24558" class="Bound">c</a><a id="24579" class="Symbol">)</a> <a id="24581" class="Symbol">(</a><a id="24582" href="SecureCompilation.Helpers.html#24582" class="Bound">vcis</a> <a id="24587" class="Symbol">:</a> <a id="24589" href="BitML.Contracts.Types.html#594" class="Function">VIContracts</a><a id="24600" class="Symbol">)</a> <a id="24602" class="Keyword">where</a>
    <a id="24612" class="Keyword">open</a> <a id="24617" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="24625" href="SecureCompilation.Helpers.html#24558" class="Bound">c</a> <a id="24627" href="SecureCompilation.Helpers.html#24568" class="Bound">i</a>
    <a id="24633" class="Keyword">private</a>
      <a id="24647" href="SecureCompilation.Helpers.html#24647" class="Function">Γ</a> <a id="24649" class="Symbol">=</a> <a id="24651" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="24655" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="24657" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="24659" href="SecureCompilation.Helpers.html#24558" class="Bound">c</a> <a id="24661" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="24663" href="SecureCompilation.Helpers.html#24560" class="Bound">v</a> <a id="24665" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="24669" href="SecureCompilation.Helpers.html#24562" class="Bound">y</a> <a id="24671" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="24673" href="SecureCompilation.Helpers.html#24564" class="Bound">Γ₀</a>
      <a id="24682" href="SecureCompilation.Helpers.html#24682" class="Function">Γ₁</a> <a id="24685" class="Symbol">=</a> <a id="24687" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="24690" href="Data.List.Base.html#1553" class="Function">map</a> <a id="24694" class="Symbol">(λ{</a> <a id="24698" class="Symbol">(</a><a id="24699" href="SecureCompilation.Helpers.html#24699" class="Bound">vᵢ</a> <a id="24702" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="24704" href="SecureCompilation.Helpers.html#24704" class="Bound">cᵢ</a> <a id="24707" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="24709" href="SecureCompilation.Helpers.html#24709" class="Bound">xᵢ</a><a id="24711" class="Symbol">)</a> <a id="24713" class="Symbol">→</a> <a id="24715" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="24717" href="SecureCompilation.Helpers.html#24704" class="Bound">cᵢ</a> <a id="24720" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="24722" href="SecureCompilation.Helpers.html#24699" class="Bound">vᵢ</a> <a id="24725" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="24729" href="SecureCompilation.Helpers.html#24709" class="Bound">xᵢ</a> <a id="24732" class="Symbol">})</a> <a id="24735" href="SecureCompilation.Helpers.html#24582" class="Bound">vcis</a>
      <a id="24746" href="SecureCompilation.Helpers.html#24746" class="Function">Γ′</a> <a id="24749" class="Symbol">=</a> <a id="24751" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="24755" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="24757" href="SecureCompilation.Helpers.html#24682" class="Function">Γ₁</a> <a id="24760" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="24762" href="SecureCompilation.Helpers.html#24564" class="Bound">Γ₀</a>
      <a id="24771" href="SecureCompilation.Helpers.html#24771" class="Function">vs</a>  <a id="24775" class="Symbol">=</a> <a id="24777" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="24784" href="SecureCompilation.Helpers.html#24582" class="Bound">vcis</a> <a id="24789" class="Symbol">.</a><a id="24790" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
      <a id="24802" href="SecureCompilation.Helpers.html#24802" class="Function">cs</a>  <a id="24806" class="Symbol">=</a> <a id="24808" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="24815" href="SecureCompilation.Helpers.html#24582" class="Bound">vcis</a> <a id="24820" class="Symbol">.</a><a id="24821" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="24827" class="Symbol">.</a><a id="24828" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
      <a id="24840" href="SecureCompilation.Helpers.html#24840" class="Function">vcs</a> <a id="24844" class="Symbol">=</a> <a id="24846" href="Data.List.Base.html#3579" class="Function">zip</a> <a id="24850" href="SecureCompilation.Helpers.html#24771" class="Function">vs</a> <a id="24853" href="SecureCompilation.Helpers.html#24802" class="Function">cs</a>
      <a id="24862" href="SecureCompilation.Helpers.html#24862" class="Function">xs</a>  <a id="24866" class="Symbol">=</a> <a id="24868" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="24875" href="SecureCompilation.Helpers.html#24582" class="Bound">vcis</a> <a id="24880" class="Symbol">.</a><a id="24881" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="24887" class="Symbol">.</a><a id="24888" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
    <a id="24898" class="Keyword">module</a> <a id="24905" href="SecureCompilation.Helpers.html#24905" class="Module">H₈</a> <a id="24908" class="Symbol">(</a><a id="24909" href="SecureCompilation.Helpers.html#24909" class="Bound">R≈</a> <a id="24912" class="Symbol">:</a> <a id="24914" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="24916" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="24919" href="SecureCompilation.Helpers.html#24647" class="Function">Γ</a> <a id="24921" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="24924" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a><a id="24925" class="Symbol">)</a> <a id="24927" class="Symbol">(</a><a id="24928" href="SecureCompilation.Helpers.html#24928" class="Bound">Γ→Γ′</a> <a id="24933" class="Symbol">:</a> <a id="24935" href="SecureCompilation.Helpers.html#24647" class="Function">Γ</a> <a id="24937" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="24940" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="24942" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="24945" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="24947" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="24951" href="SecureCompilation.Helpers.html#24746" class="Function">Γ′</a> <a id="24954" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="24957" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="24959" class="Symbol">)</a> <a id="24961" class="Symbol">(</a><a id="24962" href="SecureCompilation.Helpers.html#24962" class="Bound">∃Γ≈</a> <a id="24966" class="Symbol">:</a> <a id="24968" href="Data.Product.html#1378" class="Function">∃</a> <a id="24970" class="Symbol">(</a><a id="24971" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="24974" href="SecureCompilation.Helpers.html#24746" class="Function">Γ′</a><a id="24976" class="Symbol">))</a>
              <a id="24993" class="Symbol">(</a><a id="24994" href="SecureCompilation.Helpers.html#24994" class="Bound">d≡</a> <a id="24997" class="Symbol">:</a> <a id="24999" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="25001" href="BitML.Contracts.Collections.html#15163" class="Function Operator">≡⋯∶</a> <a id="25005" href="BitML.Contracts.Types.html#941" class="InductiveConstructor">split</a> <a id="25011" href="SecureCompilation.Helpers.html#24840" class="Function">vcs</a><a id="25014" class="Symbol">)</a> <a id="25016" class="Keyword">where</a>
      <a id="25028" class="Keyword">private</a>
        <a id="25044" href="SecureCompilation.Helpers.html#25044" class="Function">$T</a> <a id="25047" class="Symbol">:</a> <a id="25049" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
        <a id="25061" href="SecureCompilation.Helpers.html#25044" class="Function">$T</a> <a id="25064" class="Symbol">=</a>
          <a id="25076" class="Keyword">let</a>
            <a id="25092" class="Comment">-- (ii) {G}C′ is the ancestor of ⟨D+C,v⟩y in Rˢ</a>
            <a id="25152" href="SecureCompilation.Helpers.html#25152" class="Bound">⟨G⟩C′</a> <a id="25158" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="25160" class="Symbol">_</a> <a id="25162" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="25164" class="Symbol">_</a> <a id="25166" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="25168" href="SecureCompilation.Helpers.html#25168" class="Bound">c⊆</a> <a id="25171" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="25173" href="SecureCompilation.Helpers.html#25173" class="Bound">anc</a> <a id="25177" class="Symbol">=</a> <a id="25179" href="SymbolicModel.Helpers.html#2768" class="Function">ANCESTOR</a> <a id="25188" class="Symbol">{</a><a id="25189" class="Argument">R</a> <a id="25191" class="Symbol">=</a> <a id="25193" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a><a id="25194" class="Symbol">}</a> <a id="25196" class="Symbol">{</a><a id="25197" class="Argument">Γ</a> <a id="25199" class="Symbol">=</a> <a id="25201" href="SecureCompilation.Helpers.html#24647" class="Function">Γ</a><a id="25202" class="Symbol">}</a> <a id="25204" href="SecureCompilation.Helpers.html#24909" class="Bound">R≈</a> <a id="25207" class="Symbol">(</a><a id="25208" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="25213" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="25217" class="Symbol">)</a>

            <a id="25232" href="SecureCompilation.Helpers.html#25232" class="Bound">d∈</a> <a id="25235" class="Symbol">:</a> <a id="25237" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="25239" href="Prelude.Membership.html#428" class="Field Operator">∈</a> <a id="25241" href="BitML.Contracts.Subterms.html#647" class="Function">subterms</a> <a id="25250" href="SecureCompilation.Helpers.html#25152" class="Bound">⟨G⟩C′</a>
            <a id="25268" href="SecureCompilation.Helpers.html#25232" class="Bound">d∈</a> <a id="25271" class="Symbol">=</a> <a id="25273" href="SecureCompilation.Helpers.html#25168" class="Bound">c⊆</a> <a id="25276" class="Symbol">(</a><a id="25277" href="Data.List.Membership.Propositional.Properties.html#11102" class="Function">L.Mem.∈-lookup</a> <a id="25292" href="SecureCompilation.Helpers.html#24568" class="Bound">i</a><a id="25293" class="Symbol">)</a>

            <a id="25308" class="Comment">-- (iii) submit transaction T</a>
            <a id="25350" class="Comment">--       where ∙ (T′,o) = txout′(y)</a>
            <a id="25398" class="Comment">--             ∙ T is the first transaction in Bpar(cs,d,T′,o,partG,t)</a>
            <a id="25481" class="Comment">--       i.e. the one corresponding to subterm `d∗ = split (zip vs cs)`</a>
            <a id="25565" class="Symbol">_</a> <a id="25567" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="25569" href="SecureCompilation.Helpers.html#25569" class="Bound">∀d∗</a> <a id="25573" class="Symbol">=</a> <a id="25575" href="SecureCompilation.Helpers.html#1668" class="Function">COMPILE</a> <a id="25583" class="Symbol">(</a><a id="25584" href="SymbolicModel.Helpers.html#4824" class="Function">LIFTᶜ</a> <a id="25590" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="25592" href="SecureCompilation.Helpers.html#25173" class="Bound">anc</a><a id="25595" class="Symbol">)</a>

            <a id="25610" href="SecureCompilation.Helpers.html#25610" class="Bound">Tᵈ</a> <a id="25613" class="Symbol">:</a> <a id="25615" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="25618" class="Number">1</a> <a id="25620" class="Symbol">(</a><a id="25621" href="Data.List.Base.html#4873" class="Function">length</a> <a id="25628" href="SecureCompilation.Helpers.html#24840" class="Function">vcs</a><a id="25631" class="Symbol">)</a>
            <a id="25645" href="SecureCompilation.Helpers.html#25610" class="Bound">Tᵈ</a> <a id="25648" class="Symbol">=</a> <a id="25650" href="SecureCompilation.Helpers.html#25569" class="Bound">∀d∗</a> <a id="25654" href="SecureCompilation.Helpers.html#25232" class="Bound">d∈</a> <a id="25657" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="25660" href="SecureCompilation.Helpers.html#24994" class="Bound">d≡</a> <a id="25663" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="25665" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="25674" href="Prelude.SubstDSL.html#164" class="Function">⟫</a>

            <a id="25689" class="Keyword">open</a> <a id="25694" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>
            <a id="25718" href="SecureCompilation.Helpers.html#25718" class="Bound">vs≡</a> <a id="25722" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="25724" href="SecureCompilation.Helpers.html#25724" class="Bound">cs≡</a> <a id="25728" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="25730" href="SecureCompilation.Helpers.html#25730" class="Bound">xs≡</a> <a id="25734" class="Symbol">=</a> <a id="25736" href="Prelude.Lists.Core.html#1445" class="Function">length-unzip₃</a> <a id="25750" href="SecureCompilation.Helpers.html#24582" class="Bound">vcis</a>

            <a id="25768" href="SecureCompilation.Helpers.html#25768" class="Bound">l≡</a> <a id="25771" class="Symbol">:</a> <a id="25773" href="Data.List.Base.html#4873" class="Function">length</a> <a id="25780" href="SecureCompilation.Helpers.html#24862" class="Function">xs</a> <a id="25783" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="25785" href="Data.List.Base.html#4873" class="Function">length</a> <a id="25792" class="Symbol">(</a><a id="25793" href="Data.List.Base.html#3579" class="Function">zip</a> <a id="25797" href="SecureCompilation.Helpers.html#24771" class="Function">vs</a> <a id="25800" href="SecureCompilation.Helpers.html#24802" class="Function">cs</a><a id="25802" class="Symbol">)</a>
            <a id="25816" href="SecureCompilation.Helpers.html#25768" class="Bound">l≡</a> <a id="25819" class="Symbol">=</a> <a id="25821" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="25825" href="Function.Base.html#1928" class="Function Operator">$</a>
              <a id="25841" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a> <a id="25847" href="Data.List.Base.html#4873" class="Function">length</a> <a id="25854" class="Symbol">(</a><a id="25855" href="Data.List.Base.html#3579" class="Function">zip</a> <a id="25859" href="SecureCompilation.Helpers.html#24771" class="Function">vs</a> <a id="25862" href="SecureCompilation.Helpers.html#24802" class="Function">cs</a><a id="25864" class="Symbol">)</a>    <a id="25869" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="25872" href="Data.List.Properties.html#10399" class="Function">L.length-zipWith</a> <a id="25889" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">_,_</a> <a id="25893" href="SecureCompilation.Helpers.html#24771" class="Function">vs</a> <a id="25896" href="SecureCompilation.Helpers.html#24802" class="Function">cs</a> <a id="25899" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                    <a id="25921" href="Data.List.Base.html#4873" class="Function">length</a> <a id="25928" href="SecureCompilation.Helpers.html#24771" class="Function">vs</a> <a id="25931" href="Data.Nat.Base.html#3166" class="Function Operator">⊓</a> <a id="25933" href="Data.List.Base.html#4873" class="Function">length</a> <a id="25940" href="SecureCompilation.Helpers.html#24802" class="Function">cs</a> <a id="25943" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="25946" href="Data.Nat.Properties.html#29390" class="Function">Nat.m≥n⇒m⊓n≡n</a>
                                           <a id="26003" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="26005" href="Data.Nat.Properties.html#4468" class="Function">Nat.≤-reflexive</a> <a id="26021" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="26023" href="Relation.Binary.PropositionalEquality.Core.html#1738" class="Function">trans</a> <a id="26029" href="SecureCompilation.Helpers.html#25724" class="Bound">cs≡</a> <a id="26033" class="Symbol">(</a><a id="26034" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="26038" href="SecureCompilation.Helpers.html#25718" class="Bound">vs≡</a><a id="26041" class="Symbol">)</a> <a id="26043" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                    <a id="26065" href="Data.List.Base.html#4873" class="Function">length</a> <a id="26072" href="SecureCompilation.Helpers.html#24802" class="Function">cs</a>             <a id="26087" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="26090" href="SecureCompilation.Helpers.html#25724" class="Bound">cs≡</a> <a id="26094" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                    <a id="26116" href="Data.List.Base.html#4873" class="Function">length</a> <a id="26123" href="SecureCompilation.Helpers.html#24582" class="Bound">vcis</a>           <a id="26138" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="26141" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="26145" href="SecureCompilation.Helpers.html#25730" class="Bound">xs≡</a> <a id="26149" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                    <a id="26171" href="Data.List.Base.html#4873" class="Function">length</a> <a id="26178" href="SecureCompilation.Helpers.html#24862" class="Function">xs</a>             <a id="26193" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

            <a id="26208" href="SecureCompilation.Helpers.html#26208" class="Bound">Tᵈ′</a> <a id="26212" class="Symbol">:</a> <a id="26214" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="26217" class="Number">1</a> <a id="26219" class="Symbol">(</a><a id="26220" href="Data.List.Base.html#4873" class="Function">length</a> <a id="26227" href="SecureCompilation.Helpers.html#24862" class="Function">xs</a><a id="26229" class="Symbol">)</a>
            <a id="26243" href="SecureCompilation.Helpers.html#26208" class="Bound">Tᵈ′</a> <a id="26247" class="Symbol">=</a> <a id="26249" href="Prelude.SubstDSL.html#488" class="Function">⟪</a> <a id="26251" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="26254" class="Number">1</a> <a id="26256" href="Prelude.SubstDSL.html#488" class="Function">⟫</a> <a id="26258" href="SecureCompilation.Helpers.html#25768" class="Bound">l≡</a> <a id="26261" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="26264" href="SecureCompilation.Helpers.html#25610" class="Bound">Tᵈ</a>
          <a id="26277" class="Keyword">in</a>
            <a id="26292" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="26295" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="26298" href="SecureCompilation.Helpers.html#26208" class="Bound">Tᵈ′</a>

        <a id="26311" class="Comment">-- (iv) extend txout′ with {xᵢ ↦ (T,i)}, sechash = sechash′, κ = κ′</a>
        <a id="26387" href="SecureCompilation.Helpers.html#26387" class="Function">txout⁺</a> <a id="26394" class="Symbol">:</a> <a id="26396" href="SecureCompilation.Helpers.html#24862" class="Function">xs</a> <a id="26399" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="26401" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
        <a id="26418" href="SecureCompilation.Helpers.html#26387" class="Function">txout⁺</a> <a id="26425" href="SecureCompilation.Helpers.html#26425" class="Bound">x∈</a> <a id="26428" class="Symbol">=</a> <a id="26430" href="SecureCompilation.Helpers.html#25044" class="Function">$T</a> <a id="26433" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="26436" href="Data.List.Relation.Unary.Any.html#1826" class="Function">L.Any.index</a> <a id="26448" href="SecureCompilation.Helpers.html#26425" class="Bound">x∈</a>
      <a id="26457" class="Comment">-- abstract</a>
      <a id="26475" href="SecureCompilation.Helpers.html#26475" class="Function">T</a> <a id="26477" class="Symbol">:</a> <a id="26479" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
      <a id="26489" href="SecureCompilation.Helpers.html#26475" class="Function">T</a> <a id="26491" class="Symbol">=</a> <a id="26493" href="SecureCompilation.Helpers.html#25044" class="Function">$T</a>
      <a id="26502" class="Keyword">private</a>
        <a id="26518" href="SecureCompilation.Helpers.html#26518" class="Function">hʳ</a> <a id="26521" class="Symbol">:</a> <a id="26523" class="Symbol">∀</a> <a id="26525" class="Symbol">(</a><a id="26526" href="SecureCompilation.Helpers.html#26526" class="Bound">vcis</a> <a id="26531" class="Symbol">:</a> <a id="26533" href="BitML.Contracts.Types.html#594" class="Function">VIContracts</a><a id="26544" class="Symbol">)</a> <a id="26546" class="Symbol">→</a>
            <a id="26560" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="26567" class="Symbol">(</a><a id="26568" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="26571" href="Data.List.Base.html#1553" class="Function">map</a> <a id="26575" class="Symbol">(λ{</a> <a id="26579" class="Symbol">(</a><a id="26580" href="SecureCompilation.Helpers.html#26580" class="Bound">vᵢ</a> <a id="26583" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="26585" href="SecureCompilation.Helpers.html#26585" class="Bound">cᵢ</a> <a id="26588" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="26590" href="SecureCompilation.Helpers.html#26590" class="Bound">xᵢ</a><a id="26592" class="Symbol">)</a> <a id="26594" class="Symbol">→</a> <a id="26596" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="26598" href="SecureCompilation.Helpers.html#26585" class="Bound">cᵢ</a> <a id="26601" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="26603" href="SecureCompilation.Helpers.html#26580" class="Bound">vᵢ</a> <a id="26606" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="26610" href="SecureCompilation.Helpers.html#26590" class="Bound">xᵢ</a> <a id="26613" class="Symbol">})</a> <a id="26616" href="SecureCompilation.Helpers.html#26526" class="Bound">vcis</a><a id="26620" class="Symbol">)</a>
          <a id="26632" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="26634" class="Symbol">(</a><a id="26635" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="26641" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="26643" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="26649" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="26651" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="26658" href="SecureCompilation.Helpers.html#26526" class="Bound">vcis</a><a id="26662" class="Symbol">)</a>
        <a id="26672" href="SecureCompilation.Helpers.html#26518" class="Function">hʳ</a> <a id="26675" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="26678" class="Symbol">=</a> <a id="26680" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="26693" href="SecureCompilation.Helpers.html#26518" class="Function">hʳ</a> <a id="26696" class="Symbol">(_</a> <a id="26699" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="26701" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="26703" class="Symbol">)</a> <a id="26705" class="Symbol">=</a> <a id="26707" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="26720" href="SecureCompilation.Helpers.html#26518" class="Function">hʳ</a> <a id="26723" class="Symbol">(_</a> <a id="26726" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="26728" href="SecureCompilation.Helpers.html#26728" class="Bound">xs</a><a id="26730" class="Symbol">@(_</a> <a id="26734" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="26736" class="Symbol">_))</a> <a id="26740" class="Symbol">=</a> <a id="26742" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="26747" class="Symbol">(_</a> <a id="26750" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷_</a><a id="26752" class="Symbol">)</a> <a id="26754" class="Symbol">(</a><a id="26755" href="SecureCompilation.Helpers.html#26518" class="Function">hʳ</a> <a id="26758" href="SecureCompilation.Helpers.html#26728" class="Bound">xs</a><a id="26760" class="Symbol">)</a>

        <a id="26771" href="SecureCompilation.Helpers.html#26771" class="Function">hˡ</a> <a id="26774" class="Symbol">:</a> <a id="26776" class="Symbol">∀</a> <a id="26778" class="Symbol">(</a><a id="26779" href="SecureCompilation.Helpers.html#26779" class="Bound">vcis</a> <a id="26784" class="Symbol">:</a> <a id="26786" href="BitML.Contracts.Types.html#594" class="Function">VIContracts</a><a id="26797" class="Symbol">)</a> <a id="26799" class="Symbol">→</a>
          <a id="26811" href="Prelude.Null.html#263" class="Field">Null</a> <a id="26816" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="26818" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="26825" class="Symbol">(</a><a id="26826" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="26829" href="Data.List.Base.html#1553" class="Function">map</a> <a id="26833" class="Symbol">(λ{</a> <a id="26837" class="Symbol">(</a><a id="26838" href="SecureCompilation.Helpers.html#26838" class="Bound">vᵢ</a> <a id="26841" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="26843" href="SecureCompilation.Helpers.html#26843" class="Bound">cᵢ</a> <a id="26846" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="26848" href="SecureCompilation.Helpers.html#26848" class="Bound">xᵢ</a><a id="26850" class="Symbol">)</a> <a id="26852" class="Symbol">→</a> <a id="26854" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="26856" href="SecureCompilation.Helpers.html#26843" class="Bound">cᵢ</a> <a id="26859" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="26861" href="SecureCompilation.Helpers.html#26838" class="Bound">vᵢ</a> <a id="26864" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="26868" href="SecureCompilation.Helpers.html#26848" class="Bound">xᵢ</a> <a id="26871" class="Symbol">})</a> <a id="26874" href="SecureCompilation.Helpers.html#26779" class="Bound">vcis</a><a id="26878" class="Symbol">)</a>
        <a id="26888" href="SecureCompilation.Helpers.html#26771" class="Function">hˡ</a> <a id="26891" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="26894" class="Symbol">=</a> <a id="26896" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="26909" href="SecureCompilation.Helpers.html#26771" class="Function">hˡ</a> <a id="26912" class="Symbol">(_</a> <a id="26915" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="26917" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="26919" class="Symbol">)</a> <a id="26921" class="Symbol">=</a> <a id="26923" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="26936" href="SecureCompilation.Helpers.html#26771" class="Function">hˡ</a> <a id="26939" class="Symbol">(_</a> <a id="26942" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="26944" href="SecureCompilation.Helpers.html#26944" class="Bound">xs</a><a id="26946" class="Symbol">@(_</a> <a id="26950" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="26952" class="Symbol">_))</a> <a id="26956" class="Symbol">=</a> <a id="26958" href="SecureCompilation.Helpers.html#26771" class="Function">hˡ</a> <a id="26961" href="SecureCompilation.Helpers.html#26944" class="Bound">xs</a>

        <a id="26973" href="SecureCompilation.Helpers.html#26973" class="Function">hᵃ</a> <a id="26976" class="Symbol">:</a> <a id="26978" class="Symbol">∀</a> <a id="26980" class="Symbol">(</a><a id="26981" href="SecureCompilation.Helpers.html#26981" class="Bound">vcis</a> <a id="26986" class="Symbol">:</a> <a id="26988" href="BitML.Contracts.Types.html#594" class="Function">VIContracts</a><a id="26999" class="Symbol">)</a> <a id="27001" class="Symbol">→</a>
          <a id="27013" href="Prelude.Null.html#263" class="Field">Null</a> <a id="27018" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="27020" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="27035" class="Symbol">(</a><a id="27036" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="27039" href="Data.List.Base.html#1553" class="Function">map</a> <a id="27043" class="Symbol">(λ{</a> <a id="27047" class="Symbol">(</a><a id="27048" href="SecureCompilation.Helpers.html#27048" class="Bound">vᵢ</a> <a id="27051" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="27053" href="SecureCompilation.Helpers.html#27053" class="Bound">cᵢ</a> <a id="27056" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="27058" href="SecureCompilation.Helpers.html#27058" class="Bound">xᵢ</a><a id="27060" class="Symbol">)</a> <a id="27062" class="Symbol">→</a> <a id="27064" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="27066" href="SecureCompilation.Helpers.html#27053" class="Bound">cᵢ</a> <a id="27069" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="27071" href="SecureCompilation.Helpers.html#27048" class="Bound">vᵢ</a> <a id="27074" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="27078" href="SecureCompilation.Helpers.html#27058" class="Bound">xᵢ</a> <a id="27081" class="Symbol">})</a> <a id="27084" href="SecureCompilation.Helpers.html#26981" class="Bound">vcis</a><a id="27088" class="Symbol">)</a>
        <a id="27098" href="SecureCompilation.Helpers.html#26973" class="Function">hᵃ</a> <a id="27101" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="27104" class="Symbol">=</a> <a id="27106" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="27119" href="SecureCompilation.Helpers.html#26973" class="Function">hᵃ</a> <a id="27122" class="Symbol">(_</a> <a id="27125" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="27127" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="27129" class="Symbol">)</a> <a id="27131" class="Symbol">=</a> <a id="27133" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="27146" href="SecureCompilation.Helpers.html#26973" class="Function">hᵃ</a> <a id="27149" class="Symbol">(_</a> <a id="27152" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="27154" href="SecureCompilation.Helpers.html#27154" class="Bound">xs</a><a id="27156" class="Symbol">@(_</a> <a id="27160" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="27162" class="Symbol">_))</a> <a id="27166" class="Symbol">=</a> <a id="27168" href="SecureCompilation.Helpers.html#26973" class="Function">hᵃ</a> <a id="27171" href="SecureCompilation.Helpers.html#27154" class="Bound">xs</a>

        <a id="27183" href="SecureCompilation.Helpers.html#27183" class="Function">ids≡</a> <a id="27188" class="Symbol">:</a> <a id="27190" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="27197" href="SecureCompilation.Helpers.html#24647" class="Function">Γ</a> <a id="27199" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="27201" href="SecureCompilation.Helpers.html#24562" class="Bound">y</a> <a id="27203" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="27205" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="27212" href="SecureCompilation.Helpers.html#24564" class="Bound">Γ₀</a>
        <a id="27223" href="SecureCompilation.Helpers.html#27183" class="Function">ids≡</a> <a id="27228" class="Symbol">=</a> <a id="27230" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="27258" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="27265" class="Symbol">(</a><a id="27266" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="27268" href="SecureCompilation.Helpers.html#24558" class="Bound">c</a> <a id="27270" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="27272" href="SecureCompilation.Helpers.html#24560" class="Bound">v</a> <a id="27274" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="27278" href="SecureCompilation.Helpers.html#24562" class="Bound">y</a><a id="27279" class="Symbol">)</a> <a id="27281" href="SecureCompilation.Helpers.html#24564" class="Bound">Γ₀</a>

        <a id="27293" href="SecureCompilation.Helpers.html#27293" class="Function">ids≡′</a> <a id="27299" class="Symbol">:</a> <a id="27301" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="27308" href="SecureCompilation.Helpers.html#24746" class="Function">Γ′</a> <a id="27311" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="27313" href="SecureCompilation.Helpers.html#24862" class="Function">xs</a> <a id="27316" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="27319" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="27326" href="SecureCompilation.Helpers.html#24564" class="Bound">Γ₀</a>
        <a id="27337" href="SecureCompilation.Helpers.html#27293" class="Function">ids≡′</a> <a id="27343" class="Symbol">=</a>
          <a id="27355" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
            <a id="27373" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="27380" href="SecureCompilation.Helpers.html#24746" class="Function">Γ′</a>
          <a id="27393" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="27396" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="27424" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="27431" href="SecureCompilation.Helpers.html#24682" class="Function">Γ₁</a> <a id="27434" href="SecureCompilation.Helpers.html#24564" class="Bound">Γ₀</a> <a id="27437" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="27451" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="27458" href="SecureCompilation.Helpers.html#24682" class="Function">Γ₁</a> <a id="27461" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="27464" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="27471" href="SecureCompilation.Helpers.html#24564" class="Bound">Γ₀</a>
          <a id="27484" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="27487" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="27492" class="Symbol">(</a><a id="27493" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="27497" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="27504" href="SecureCompilation.Helpers.html#24564" class="Bound">Γ₀</a><a id="27506" class="Symbol">)</a> <a id="27508" class="Symbol">(</a><a id="27509" href="SecureCompilation.Helpers.html#26518" class="Function">hʳ</a> <a id="27512" href="SecureCompilation.Helpers.html#24582" class="Bound">vcis</a><a id="27516" class="Symbol">)</a> <a id="27518" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="27532" href="SecureCompilation.Helpers.html#24862" class="Function">xs</a> <a id="27535" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="27538" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="27545" href="SecureCompilation.Helpers.html#24564" class="Bound">Γ₀</a>
          <a id="27558" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="27560" class="Keyword">where</a> <a id="27566" class="Keyword">open</a> <a id="27571" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

        <a id="27592" href="SecureCompilation.Helpers.html#27592" class="Function">secrets≡</a> <a id="27601" class="Symbol">:</a> <a id="27603" href="SecureCompilation.Helpers.html#24746" class="Function">Γ′</a> <a id="27606" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="27609" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="27616" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="27618" href="SecureCompilation.Helpers.html#24647" class="Function">Γ</a>
        <a id="27628" href="SecureCompilation.Helpers.html#27592" class="Function">secrets≡</a> <a id="27637" class="Symbol">=</a>
          <a id="27649" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
            <a id="27667" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="27674" href="SecureCompilation.Helpers.html#24746" class="Function">Γ′</a>
          <a id="27687" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="27690" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="27718" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="27725" href="SecureCompilation.Helpers.html#24682" class="Function">Γ₁</a> <a id="27728" href="SecureCompilation.Helpers.html#24564" class="Bound">Γ₀</a> <a id="27731" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="27745" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="27752" href="SecureCompilation.Helpers.html#24682" class="Function">Γ₁</a> <a id="27755" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="27758" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="27765" href="SecureCompilation.Helpers.html#24564" class="Bound">Γ₀</a>
          <a id="27778" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="27781" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="27786" class="Symbol">(</a><a id="27787" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="27791" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="27798" href="SecureCompilation.Helpers.html#24564" class="Bound">Γ₀</a><a id="27800" class="Symbol">)</a> <a id="27802" class="Symbol">(</a><a id="27803" href="SecureCompilation.Helpers.html#26771" class="Function">hˡ</a> <a id="27806" href="SecureCompilation.Helpers.html#24582" class="Bound">vcis</a><a id="27810" class="Symbol">)</a> <a id="27812" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="27826" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="27833" href="SecureCompilation.Helpers.html#24564" class="Bound">Γ₀</a>
          <a id="27846" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
            <a id="27862" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="27869" href="SecureCompilation.Helpers.html#24647" class="Function">Γ</a>
          <a id="27881" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="27883" class="Keyword">where</a> <a id="27889" class="Keyword">open</a> <a id="27894" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

        <a id="27915" href="SecureCompilation.Helpers.html#27915" class="Function">ads≡</a> <a id="27920" class="Symbol">:</a> <a id="27922" href="SecureCompilation.Helpers.html#24746" class="Function">Γ′</a> <a id="27925" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="27928" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="27943" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="27945" href="SecureCompilation.Helpers.html#24647" class="Function">Γ</a>
        <a id="27955" href="SecureCompilation.Helpers.html#27915" class="Function">ads≡</a> <a id="27960" class="Symbol">=</a>
          <a id="27972" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
            <a id="27990" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="28005" href="SecureCompilation.Helpers.html#24746" class="Function">Γ′</a>
          <a id="28018" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="28021" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="28040" href="SecureCompilation.Helpers.html#24682" class="Function">Γ₁</a> <a id="28043" href="SecureCompilation.Helpers.html#24564" class="Bound">Γ₀</a> <a id="28046" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="28060" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="28075" href="SecureCompilation.Helpers.html#24682" class="Function">Γ₁</a> <a id="28078" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="28081" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="28096" href="SecureCompilation.Helpers.html#24564" class="Bound">Γ₀</a>
          <a id="28109" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="28112" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="28117" class="Symbol">(</a><a id="28118" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="28122" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="28137" href="SecureCompilation.Helpers.html#24564" class="Bound">Γ₀</a><a id="28139" class="Symbol">)</a> <a id="28141" class="Symbol">(</a><a id="28142" href="SecureCompilation.Helpers.html#26973" class="Function">hᵃ</a> <a id="28145" href="SecureCompilation.Helpers.html#24582" class="Bound">vcis</a><a id="28149" class="Symbol">)</a> <a id="28151" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="28165" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="28180" href="SecureCompilation.Helpers.html#24564" class="Bound">Γ₀</a>
          <a id="28193" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
            <a id="28209" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="28224" href="SecureCompilation.Helpers.html#24647" class="Function">Γ</a>
          <a id="28236" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="28238" class="Keyword">where</a> <a id="28244" class="Keyword">open</a> <a id="28249" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

        <a id="28270" href="SecureCompilation.Helpers.html#28270" class="Function">txout↝</a> <a id="28277" class="Symbol">:</a> <a id="28279" href="SecureCompilation.Helpers.html#24647" class="Function">Γ</a> <a id="28281" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="28284" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="28290" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="28292" href="SecureCompilation.Helpers.html#24746" class="Function">Γ′</a>
        <a id="28303" href="SecureCompilation.Helpers.html#28270" class="Function">txout↝</a> <a id="28310" href="SecureCompilation.Helpers.html#28310" class="Bound">txout′</a> <a id="28317" class="Keyword">rewrite</a> <a id="28325" href="SecureCompilation.Helpers.html#27183" class="Function">ids≡</a> <a id="28330" class="Symbol">=</a> <a id="28332" href="Prelude.Lists.Mappings.html#1750" class="Function">extend-↦</a> <a id="28341" class="Symbol">(</a><a id="28342" href="Data.List.Relation.Binary.Permutation.Propositional.html#1377" class="Function">↭-reflexive</a> <a id="28354" href="SecureCompilation.Helpers.html#27293" class="Function">ids≡′</a><a id="28359" class="Symbol">)</a> <a id="28361" href="SecureCompilation.Helpers.html#26387" class="Function">txout⁺</a> <a id="28368" class="Symbol">(</a><a id="28369" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="28378" href="SecureCompilation.Helpers.html#28310" class="Bound">txout′</a> <a id="28385" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a><a id="28390" class="Symbol">)</a>

        <a id="28401" href="SecureCompilation.Helpers.html#28401" class="Function">sechash↝</a> <a id="28410" class="Symbol">:</a> <a id="28412" href="SecureCompilation.Helpers.html#24647" class="Function">Γ</a> <a id="28414" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="28417" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="28425" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="28427" href="SecureCompilation.Helpers.html#24746" class="Function">Γ′</a>
        <a id="28438" href="SecureCompilation.Helpers.html#28401" class="Function">sechash↝</a> <a id="28447" class="Symbol">=</a> <a id="28449" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">lift</a> <a id="28454" href="SecureCompilation.Helpers.html#24647" class="Function">Γ</a> <a id="28456" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">—⟨</a> <a id="28459" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="28466" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⟩—</a> <a id="28469" href="SecureCompilation.Helpers.html#24746" class="Function">Γ′</a> <a id="28472" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⊣</a> <a id="28474" href="SecureCompilation.Helpers.html#27592" class="Function">secrets≡</a>

        <a id="28492" href="SecureCompilation.Helpers.html#28492" class="Function">κ↝</a> <a id="28495" class="Symbol">:</a> <a id="28497" href="SecureCompilation.Helpers.html#24647" class="Function">Γ</a> <a id="28499" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="28502" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="28505" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="28507" href="SecureCompilation.Helpers.html#24746" class="Function">Γ′</a>
        <a id="28518" href="SecureCompilation.Helpers.html#28492" class="Function">κ↝</a> <a id="28521" class="Symbol">=</a> <a id="28523" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">lift</a> <a id="28528" href="SecureCompilation.Helpers.html#24647" class="Function">Γ</a> <a id="28530" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">—⟨</a> <a id="28533" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="28548" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⟩—</a> <a id="28551" href="SecureCompilation.Helpers.html#24746" class="Function">Γ′</a> <a id="28554" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⊣</a> <a id="28556" href="SecureCompilation.Helpers.html#27915" class="Function">ads≡</a>
      <a id="28567" class="Comment">-- abstract</a>
      <a id="28585" href="SecureCompilation.Helpers.html#28585" class="Function">λˢ</a> <a id="28588" class="Symbol">:</a> <a id="28590" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="28592" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="28594" class="Symbol">(</a><a id="28595" href="SecureCompilation.Helpers.html#24962" class="Bound">∃Γ≈</a> <a id="28599" class="Symbol">.</a><a id="28600" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="28606" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="28609" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="28611" class="Symbol">)</a>
      <a id="28619" href="SecureCompilation.Helpers.html#28585" class="Function">λˢ</a> <a id="28622" class="Symbol">=</a> <a id="28624" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="28630" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="28632" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="28634" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="28636" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a> <a id="28639" href="SecureCompilation.Helpers.html#24647" class="Function">Γ</a> <a id="28641" href="SecureCompilation.Helpers.html#24909" class="Bound">R≈</a> <a id="28644" href="SecureCompilation.Helpers.html#24746" class="Function">Γ′</a> <a id="28647" href="SecureCompilation.Helpers.html#24928" class="Bound">Γ→Γ′</a> <a id="28652" href="SecureCompilation.Helpers.html#24962" class="Bound">∃Γ≈</a> <a id="28656" href="SecureCompilation.Helpers.html#28270" class="Function">txout↝</a> <a id="28663" href="SecureCompilation.Helpers.html#28401" class="Function">sechash↝</a> <a id="28672" href="SecureCompilation.Helpers.html#28492" class="Function">κ↝</a>

  <a id="28678" class="Comment">-- [9]</a>
  <a id="28687" class="Keyword">module</a> <a id="28694" href="SecureCompilation.Helpers.html#28694" class="Module">_</a> <a id="28696" href="SecureCompilation.Helpers.html#28696" class="Bound">c</a> <a id="28698" href="SecureCompilation.Helpers.html#28698" class="Bound">v</a> <a id="28700" href="SecureCompilation.Helpers.html#28700" class="Bound">y</a> <a id="28702" href="SecureCompilation.Helpers.html#28702" class="Bound">Γ₀</a> <a id="28705" href="SecureCompilation.Helpers.html#28705" class="Bound">A</a> <a id="28707" href="SecureCompilation.Helpers.html#28707" class="Bound">x</a> <a id="28709" class="Symbol">(</a><a id="28710" href="SecureCompilation.Helpers.html#28710" class="Bound">i</a> <a id="28712" class="Symbol">:</a> <a id="28714" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="28720" href="SecureCompilation.Helpers.html#28696" class="Bound">c</a><a id="28721" class="Symbol">)</a> <a id="28723" class="Keyword">where</a>
    <a id="28733" class="Keyword">open</a> <a id="28738" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="28746" href="SecureCompilation.Helpers.html#28696" class="Bound">c</a> <a id="28748" href="SecureCompilation.Helpers.html#28710" class="Bound">i</a>
    <a id="28754" class="Keyword">private</a>
      <a id="28768" href="SecureCompilation.Helpers.html#28768" class="Function">Γ</a>  <a id="28771" class="Symbol">=</a> <a id="28773" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="28777" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="28779" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="28781" href="SecureCompilation.Helpers.html#28696" class="Bound">c</a> <a id="28783" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="28785" href="SecureCompilation.Helpers.html#28698" class="Bound">v</a> <a id="28787" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="28791" href="SecureCompilation.Helpers.html#28700" class="Bound">y</a> <a id="28793" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="28795" href="SecureCompilation.Helpers.html#28702" class="Bound">Γ₀</a>
      <a id="28804" href="SecureCompilation.Helpers.html#28804" class="Function">Γ′</a> <a id="28807" class="Symbol">=</a> <a id="28809" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="28813" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="28815" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="28817" href="SecureCompilation.Helpers.html#28705" class="Bound">A</a> <a id="28819" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="28823" href="SecureCompilation.Helpers.html#28698" class="Bound">v</a> <a id="28825" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="28829" href="SecureCompilation.Helpers.html#28707" class="Bound">x</a> <a id="28831" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="28833" href="SecureCompilation.Helpers.html#28702" class="Bound">Γ₀</a>
    <a id="28840" class="Keyword">module</a> <a id="28847" href="SecureCompilation.Helpers.html#28847" class="Module">H₉</a> <a id="28850" class="Symbol">(</a><a id="28851" href="SecureCompilation.Helpers.html#28851" class="Bound">R≈</a> <a id="28854" class="Symbol">:</a> <a id="28856" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="28858" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="28861" href="SecureCompilation.Helpers.html#28768" class="Function">Γ</a> <a id="28863" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="28866" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a><a id="28867" class="Symbol">)</a> <a id="28869" class="Symbol">(</a><a id="28870" href="SecureCompilation.Helpers.html#28870" class="Bound">Γ→Γ′</a> <a id="28875" class="Symbol">:</a> <a id="28877" href="SecureCompilation.Helpers.html#28768" class="Function">Γ</a> <a id="28879" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="28882" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="28884" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="28887" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="28889" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="28893" href="SecureCompilation.Helpers.html#28804" class="Function">Γ′</a> <a id="28896" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="28899" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="28901" class="Symbol">)</a> <a id="28903" class="Symbol">(</a><a id="28904" href="SecureCompilation.Helpers.html#28904" class="Bound">∃Γ≈</a> <a id="28908" class="Symbol">:</a> <a id="28910" href="Data.Product.html#1378" class="Function">∃</a> <a id="28912" class="Symbol">(</a><a id="28913" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="28916" href="SecureCompilation.Helpers.html#28804" class="Function">Γ′</a><a id="28918" class="Symbol">))</a>
              <a id="28935" class="Symbol">(</a><a id="28936" href="SecureCompilation.Helpers.html#28936" class="Bound">d≡</a> <a id="28939" class="Symbol">:</a> <a id="28941" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="28943" href="BitML.Contracts.Collections.html#15163" class="Function Operator">≡⋯∶</a> <a id="28947" href="BitML.Contracts.Types.html#805" class="InductiveConstructor">withdraw</a> <a id="28956" href="SecureCompilation.Helpers.html#28705" class="Bound">A</a><a id="28957" class="Symbol">)</a> <a id="28959" class="Keyword">where</a>
  <a id="28967" class="Comment">-- module H₉ c v y Γ₀ A x (i : Index c)</a>
  <a id="29009" class="Comment">--   (let open ∣SELECT c i</a>
  <a id="29038" class="Comment">--        Γ  = ⟨ c , v ⟩at y ∣ Γ₀</a>
  <a id="29074" class="Comment">--        Γ′ = ⟨ A has v ⟩at x ∣ Γ₀)</a>
  <a id="29113" class="Comment">--   (R≈ : R ≈⋯ Γ at t) (Γ→Γ′ : Γ at t —[ α ]→ₜ Γ′ at t′) (∃Γ≈ : ∃ (_≈ Γ′))</a>
  <a id="29191" class="Comment">--   (d≡ : d ≡⋯∶ withdraw A)</a>
  <a id="29222" class="Comment">--   where</a>
      <a id="29239" class="Comment">-- abstract</a>
      <a id="29257" href="SecureCompilation.Helpers.html#29257" class="Function">T</a> <a id="29259" class="Symbol">:</a> <a id="29261" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
      <a id="29271" href="SecureCompilation.Helpers.html#29257" class="Function">T</a> <a id="29273" class="Symbol">=</a>
          <a id="29285" class="Keyword">let</a>
            <a id="29301" class="Comment">-- (ii) {G}C′ is the ancestor of ⟨D+C,v⟩y in Rˢ</a>
            <a id="29361" href="SecureCompilation.Helpers.html#29361" class="Bound">⟨G⟩C′</a> <a id="29367" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="29369" class="Symbol">_</a> <a id="29371" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="29373" class="Symbol">_</a> <a id="29375" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="29377" href="SecureCompilation.Helpers.html#29377" class="Bound">c⊆</a> <a id="29380" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="29382" href="SecureCompilation.Helpers.html#29382" class="Bound">anc</a> <a id="29386" class="Symbol">=</a> <a id="29388" href="SymbolicModel.Helpers.html#2768" class="Function">ANCESTOR</a> <a id="29397" class="Symbol">{</a><a id="29398" class="Argument">R</a> <a id="29400" class="Symbol">=</a> <a id="29402" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a><a id="29403" class="Symbol">}</a> <a id="29405" class="Symbol">{</a><a id="29406" class="Argument">Γ</a> <a id="29408" class="Symbol">=</a> <a id="29410" href="SecureCompilation.Helpers.html#28768" class="Function">Γ</a><a id="29411" class="Symbol">}</a> <a id="29413" href="SecureCompilation.Helpers.html#28851" class="Bound">R≈</a> <a id="29416" class="Symbol">(</a><a id="29417" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="29422" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="29426" class="Symbol">)</a>

            <a id="29441" href="SecureCompilation.Helpers.html#29441" class="Bound">d∈</a> <a id="29444" class="Symbol">:</a> <a id="29446" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="29448" href="Prelude.Membership.html#428" class="Field Operator">∈</a> <a id="29450" href="BitML.Contracts.Subterms.html#647" class="Function">subterms</a> <a id="29459" href="SecureCompilation.Helpers.html#29361" class="Bound">⟨G⟩C′</a>
            <a id="29477" href="SecureCompilation.Helpers.html#29441" class="Bound">d∈</a> <a id="29480" class="Symbol">=</a> <a id="29482" href="SecureCompilation.Helpers.html#29377" class="Bound">c⊆</a> <a id="29485" class="Symbol">(</a><a id="29486" href="Data.List.Membership.Propositional.Properties.html#11102" class="Function">L.Mem.∈-lookup</a> <a id="29501" href="SecureCompilation.Helpers.html#28710" class="Bound">i</a><a id="29502" class="Symbol">)</a>

            <a id="29517" class="Comment">--   ∙ T′ at o = txout′(x)</a>
            <a id="29556" class="Comment">--   ∙ T is the first transaction of Bd(d,d,T′,o,v,partG,0)</a>
            <a id="29628" class="Comment">-- i.e.</a>
            <a id="29648" class="Comment">-- (iii) submit transaction T</a>
            <a id="29690" class="Comment">--       where ∙ (T′,o) = txout′(y)</a>
            <a id="29738" class="Comment">--             ∙ T is the first transaction in Bd(d,d,T′,o,v,partG,0)</a>
            <a id="29820" class="Comment">--       i.e. the one corresponding to subterm `d∗ = withdraw A`</a>
            <a id="29897" class="Symbol">_</a> <a id="29899" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="29901" href="SecureCompilation.Helpers.html#29901" class="Bound">∀d∗</a> <a id="29905" class="Symbol">=</a> <a id="29907" href="SecureCompilation.Helpers.html#1668" class="Function">COMPILE</a> <a id="29915" class="Symbol">(</a><a id="29916" href="SymbolicModel.Helpers.html#4824" class="Function">LIFTᶜ</a> <a id="29922" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="29924" href="SecureCompilation.Helpers.html#29382" class="Bound">anc</a><a id="29927" class="Symbol">)</a>
            <a id="29941" href="SecureCompilation.Helpers.html#29941" class="Bound">Tᵈ</a> <a id="29944" class="Symbol">=</a> <a id="29946" href="SecureCompilation.Helpers.html#29901" class="Bound">∀d∗</a> <a id="29950" href="SecureCompilation.Helpers.html#29441" class="Bound">d∈</a> <a id="29953" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="29956" href="SecureCompilation.Helpers.html#28936" class="Bound">d≡</a> <a id="29959" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="29961" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="29970" href="Prelude.SubstDSL.html#164" class="Function">⟫</a>
          <a id="29982" class="Keyword">in</a>
            <a id="29997" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="30000" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="30003" href="SecureCompilation.Helpers.html#29941" class="Bound">Tᵈ</a>
      <a id="30012" class="Keyword">private</a>
        <a id="30028" class="Comment">-- (iv) extend txout′ with {x ↦ (T,0)}, sechash = sechash′, κ = κ′</a>
        <a id="30103" href="SecureCompilation.Helpers.html#30103" class="Function">txout↝</a> <a id="30110" class="Symbol">:</a> <a id="30112" href="SecureCompilation.Helpers.html#28768" class="Function">Γ</a> <a id="30114" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="30117" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="30123" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="30125" href="SecureCompilation.Helpers.html#28804" class="Function">Γ′</a>
        <a id="30136" href="SecureCompilation.Helpers.html#30103" class="Function">txout↝</a>  <a id="30144" href="SecureCompilation.Helpers.html#30144" class="Bound">txout′</a> <a id="30151" class="Symbol">=</a> <a id="30153" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="30160" href="SecureCompilation.Helpers.html#28707" class="Bound">x</a> <a id="30162" class="Symbol">(</a><a id="30163" href="SecureCompilation.Helpers.html#29257" class="Function">T</a> <a id="30165" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="30168" href="Data.Fin.Patterns.html#399" class="InductiveConstructor">0F</a><a id="30170" class="Symbol">)</a> <a id="30172" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="30174" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="30183" href="SecureCompilation.Helpers.html#30144" class="Bound">txout′</a> <a id="30190" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a>
      <a id="30202" class="Comment">-- abstract</a>
      <a id="30220" href="SecureCompilation.Helpers.html#30220" class="Function">λˢ</a> <a id="30223" class="Symbol">:</a> <a id="30225" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="30227" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="30229" class="Symbol">(</a><a id="30230" href="SecureCompilation.Helpers.html#28904" class="Bound">∃Γ≈</a> <a id="30234" class="Symbol">.</a><a id="30235" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="30241" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="30244" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="30246" class="Symbol">)</a>
      <a id="30254" href="SecureCompilation.Helpers.html#30220" class="Function">λˢ</a> <a id="30257" class="Symbol">=</a> <a id="30259" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="30265" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="30267" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="30269" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="30271" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a> <a id="30274" href="SecureCompilation.Helpers.html#28768" class="Function">Γ</a> <a id="30276" href="SecureCompilation.Helpers.html#28851" class="Bound">R≈</a> <a id="30279" href="SecureCompilation.Helpers.html#28804" class="Function">Γ′</a> <a id="30282" href="SecureCompilation.Helpers.html#28870" class="Bound">Γ→Γ′</a> <a id="30287" href="SecureCompilation.Helpers.html#28904" class="Bound">∃Γ≈</a> <a id="30291" href="SecureCompilation.Helpers.html#30103" class="Function">txout↝</a> <a id="30298" href="Function.Base.html#624" class="Function">id</a> <a id="30301" href="Function.Base.html#624" class="Function">id</a>

  <a id="30307" class="Comment">-- [10]</a>
  <a id="30317" class="Keyword">module</a> <a id="30324" href="SecureCompilation.Helpers.html#30324" class="Module">_</a> <a id="30326" href="SecureCompilation.Helpers.html#30326" class="Bound">A</a> <a id="30328" href="SecureCompilation.Helpers.html#30328" class="Bound">v</a> <a id="30330" href="SecureCompilation.Helpers.html#30330" class="Bound">x</a> <a id="30332" href="SecureCompilation.Helpers.html#30332" class="Bound">v′</a> <a id="30335" href="SecureCompilation.Helpers.html#30335" class="Bound">x′</a> <a id="30338" href="SecureCompilation.Helpers.html#30338" class="Bound">Γ₀</a> <a id="30341" class="Keyword">where</a>
    <a id="30351" class="Keyword">private</a>
      <a id="30365" href="SecureCompilation.Helpers.html#30365" class="Function">Γ</a>  <a id="30368" class="Symbol">=</a> <a id="30370" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="30374" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="30376" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="30378" href="SecureCompilation.Helpers.html#30326" class="Bound">A</a> <a id="30380" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="30384" href="SecureCompilation.Helpers.html#30328" class="Bound">v</a> <a id="30386" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="30390" href="SecureCompilation.Helpers.html#30330" class="Bound">x</a> <a id="30392" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="30394" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="30396" href="SecureCompilation.Helpers.html#30326" class="Bound">A</a> <a id="30398" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="30402" href="SecureCompilation.Helpers.html#30332" class="Bound">v′</a> <a id="30405" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="30409" href="SecureCompilation.Helpers.html#30335" class="Bound">x′</a> <a id="30412" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="30414" href="SecureCompilation.Helpers.html#30338" class="Bound">Γ₀</a>
      <a id="30423" href="SecureCompilation.Helpers.html#30423" class="Function">Γ′</a> <a id="30426" class="Symbol">=</a> <a id="30428" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="30432" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="30434" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="30436" href="SecureCompilation.Helpers.html#30326" class="Bound">A</a> <a id="30438" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="30442" href="SecureCompilation.Helpers.html#30328" class="Bound">v</a> <a id="30444" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="30448" href="SecureCompilation.Helpers.html#30330" class="Bound">x</a> <a id="30450" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="30452" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="30454" href="SecureCompilation.Helpers.html#30326" class="Bound">A</a> <a id="30456" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="30460" href="SecureCompilation.Helpers.html#30332" class="Bound">v′</a> <a id="30463" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="30467" href="SecureCompilation.Helpers.html#30335" class="Bound">x′</a> <a id="30470" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="30472" href="SecureCompilation.Helpers.html#30326" class="Bound">A</a> <a id="30474" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="30480" href="SecureCompilation.Helpers.html#30330" class="Bound">x</a> <a id="30482" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">↔</a> <a id="30484" href="SecureCompilation.Helpers.html#30335" class="Bound">x′</a> <a id="30487" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">▷⟨</a> <a id="30490" href="SecureCompilation.Helpers.html#30326" class="Bound">A</a> <a id="30492" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">,</a> <a id="30494" href="SecureCompilation.Helpers.html#30328" class="Bound">v</a> <a id="30496" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="30498" href="SecureCompilation.Helpers.html#30332" class="Bound">v′</a> <a id="30501" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">⟩</a> <a id="30503" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="30505" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="30507" href="SecureCompilation.Helpers.html#30338" class="Bound">Γ₀</a>
    <a id="30514" class="Keyword">module</a> <a id="30521" href="SecureCompilation.Helpers.html#30521" class="Module">H₁₀</a> <a id="30525" class="Symbol">(</a><a id="30526" href="SecureCompilation.Helpers.html#30526" class="Bound">R≈</a> <a id="30529" class="Symbol">:</a> <a id="30531" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="30533" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="30536" href="SecureCompilation.Helpers.html#30365" class="Function">Γ</a> <a id="30538" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="30541" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a><a id="30542" class="Symbol">)</a> <a id="30544" class="Symbol">(</a><a id="30545" href="SecureCompilation.Helpers.html#30545" class="Bound">Γ→Γ′</a> <a id="30550" class="Symbol">:</a> <a id="30552" href="SecureCompilation.Helpers.html#30365" class="Function">Γ</a> <a id="30554" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="30557" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="30559" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="30562" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="30564" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="30568" href="SecureCompilation.Helpers.html#30423" class="Function">Γ′</a> <a id="30571" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="30574" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="30576" class="Symbol">)</a> <a id="30578" class="Symbol">(</a><a id="30579" href="SecureCompilation.Helpers.html#30579" class="Bound">∃Γ≈</a> <a id="30583" class="Symbol">:</a> <a id="30585" href="Data.Product.html#1378" class="Function">∃</a> <a id="30587" class="Symbol">(</a><a id="30588" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="30591" href="SecureCompilation.Helpers.html#30423" class="Function">Γ′</a><a id="30593" class="Symbol">))</a> <a id="30596" class="Keyword">where</a>
      <a id="30608" class="Comment">-- abstract</a>
      <a id="30626" href="SecureCompilation.Helpers.html#30626" class="Function">λˢ</a> <a id="30629" class="Symbol">:</a> <a id="30631" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="30633" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="30635" class="Symbol">(</a><a id="30636" href="SecureCompilation.Helpers.html#30579" class="Bound">∃Γ≈</a> <a id="30640" class="Symbol">.</a><a id="30641" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="30647" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="30650" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="30652" class="Symbol">)</a>
      <a id="30660" href="SecureCompilation.Helpers.html#30626" class="Function">λˢ</a> <a id="30663" class="Symbol">=</a> <a id="30665" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="30671" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="30673" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="30675" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="30677" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a> <a id="30680" href="SecureCompilation.Helpers.html#30365" class="Function">Γ</a> <a id="30682" href="SecureCompilation.Helpers.html#30526" class="Bound">R≈</a> <a id="30685" href="SecureCompilation.Helpers.html#30423" class="Function">Γ′</a> <a id="30688" href="SecureCompilation.Helpers.html#30545" class="Bound">Γ→Γ′</a> <a id="30693" href="SecureCompilation.Helpers.html#30579" class="Bound">∃Γ≈</a> <a id="30697" href="Function.Base.html#624" class="Function">id</a> <a id="30700" href="Function.Base.html#624" class="Function">id</a> <a id="30703" href="Function.Base.html#624" class="Function">id</a>

  <a id="30709" class="Comment">-- [11]</a>
  <a id="30719" class="Keyword">module</a> <a id="30726" href="SecureCompilation.Helpers.html#30726" class="Module">_</a> <a id="30728" href="SecureCompilation.Helpers.html#30728" class="Bound">A</a> <a id="30730" href="SecureCompilation.Helpers.html#30730" class="Bound">v</a> <a id="30732" href="SecureCompilation.Helpers.html#30732" class="Bound">x</a> <a id="30734" href="SecureCompilation.Helpers.html#30734" class="Bound">v′</a> <a id="30737" href="SecureCompilation.Helpers.html#30737" class="Bound">x′</a> <a id="30740" href="SecureCompilation.Helpers.html#30740" class="Bound">y</a> <a id="30742" href="SecureCompilation.Helpers.html#30742" class="Bound">Γ₀</a> <a id="30745" class="Keyword">where</a>
    <a id="30755" class="Keyword">private</a>
      <a id="30769" href="SecureCompilation.Helpers.html#30769" class="Function">Γ</a>  <a id="30772" class="Symbol">=</a> <a id="30774" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a>
         <a id="30787" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="30789" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="30791" href="SecureCompilation.Helpers.html#30728" class="Bound">A</a> <a id="30793" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="30797" href="SecureCompilation.Helpers.html#30730" class="Bound">v</a> <a id="30799" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="30803" href="SecureCompilation.Helpers.html#30732" class="Bound">x</a> <a id="30805" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="30807" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="30809" href="SecureCompilation.Helpers.html#30728" class="Bound">A</a> <a id="30811" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="30815" href="SecureCompilation.Helpers.html#30734" class="Bound">v′</a> <a id="30818" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="30822" href="SecureCompilation.Helpers.html#30737" class="Bound">x′</a> <a id="30825" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="30827" href="SecureCompilation.Helpers.html#30728" class="Bound">A</a> <a id="30829" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="30835" href="SecureCompilation.Helpers.html#30732" class="Bound">x</a> <a id="30837" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">↔</a> <a id="30839" href="SecureCompilation.Helpers.html#30737" class="Bound">x′</a> <a id="30842" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">▷⟨</a> <a id="30845" href="SecureCompilation.Helpers.html#30728" class="Bound">A</a> <a id="30847" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">,</a> <a id="30849" href="SecureCompilation.Helpers.html#30730" class="Bound">v</a> <a id="30851" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="30853" href="SecureCompilation.Helpers.html#30734" class="Bound">v′</a> <a id="30856" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">⟩</a> <a id="30858" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="30860" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="30862" href="SecureCompilation.Helpers.html#30742" class="Bound">Γ₀</a>
      <a id="30871" href="SecureCompilation.Helpers.html#30871" class="Function">Γ′</a> <a id="30874" class="Symbol">=</a> <a id="30876" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="30880" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="30882" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="30884" href="SecureCompilation.Helpers.html#30728" class="Bound">A</a> <a id="30886" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="30890" class="Symbol">(</a><a id="30891" href="SecureCompilation.Helpers.html#30730" class="Bound">v</a> <a id="30893" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="30895" href="SecureCompilation.Helpers.html#30734" class="Bound">v′</a><a id="30897" class="Symbol">)</a> <a id="30899" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="30903" href="SecureCompilation.Helpers.html#30740" class="Bound">y</a> <a id="30905" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="30907" href="SecureCompilation.Helpers.html#30742" class="Bound">Γ₀</a>
    <a id="30914" class="Keyword">module</a> <a id="30921" href="SecureCompilation.Helpers.html#30921" class="Module">H₁₁</a> <a id="30925" class="Symbol">(</a><a id="30926" href="SecureCompilation.Helpers.html#30926" class="Bound">R≈</a> <a id="30929" class="Symbol">:</a> <a id="30931" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="30933" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="30936" href="SecureCompilation.Helpers.html#30769" class="Function">Γ</a> <a id="30938" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="30941" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a><a id="30942" class="Symbol">)</a> <a id="30944" class="Symbol">(</a><a id="30945" href="SecureCompilation.Helpers.html#30945" class="Bound">tx</a> <a id="30948" class="Symbol">:</a> <a id="30950" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a><a id="30958" class="Symbol">)</a> <a id="30960" class="Symbol">(</a><a id="30961" href="SecureCompilation.Helpers.html#30961" class="Bound">Γ→Γ′</a> <a id="30966" class="Symbol">:</a> <a id="30968" href="SecureCompilation.Helpers.html#30769" class="Function">Γ</a> <a id="30970" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="30973" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="30975" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="30978" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="30980" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="30984" href="SecureCompilation.Helpers.html#30871" class="Function">Γ′</a> <a id="30987" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="30990" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="30992" class="Symbol">)</a> <a id="30994" class="Symbol">(</a><a id="30995" href="SecureCompilation.Helpers.html#30995" class="Bound">∃Γ≈</a> <a id="30999" class="Symbol">:</a> <a id="31001" href="Data.Product.html#1378" class="Function">∃</a> <a id="31003" class="Symbol">(</a><a id="31004" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="31007" href="SecureCompilation.Helpers.html#30871" class="Function">Γ′</a><a id="31009" class="Symbol">))</a> <a id="31012" class="Keyword">where</a>
      <a id="31024" class="Keyword">private</a>
        <a id="31040" href="SecureCompilation.Helpers.html#31040" class="Function">txout↝</a> <a id="31047" class="Symbol">:</a> <a id="31049" href="SecureCompilation.Helpers.html#30769" class="Function">Γ</a> <a id="31051" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="31054" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="31060" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="31062" href="SecureCompilation.Helpers.html#30871" class="Function">Γ′</a>
        <a id="31073" href="SecureCompilation.Helpers.html#31040" class="Function">txout↝</a> <a id="31080" href="SecureCompilation.Helpers.html#31080" class="Bound">txout′</a> <a id="31087" class="Symbol">=</a> <a id="31089" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="31096" href="SecureCompilation.Helpers.html#30740" class="Bound">y</a> <a id="31098" href="SecureCompilation.Helpers.html#30945" class="Bound">tx</a> <a id="31101" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="31103" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="31112" href="SecureCompilation.Helpers.html#31080" class="Bound">txout′</a> <a id="31119" class="Symbol">(λ</a> <a id="31122" href="SecureCompilation.Helpers.html#31122" class="Bound">x∈</a> <a id="31125" class="Symbol">→</a> <a id="31127" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a> <a id="31133" class="Symbol">(</a><a id="31134" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a> <a id="31140" href="SecureCompilation.Helpers.html#31122" class="Bound">x∈</a><a id="31142" class="Symbol">))</a>

        <a id="31154" class="Comment">-- Γ″  = ∃Γ≈ .proj₁</a>
        <a id="31182" class="Comment">-- Γₜ″ = Γ″ at t′</a>

      <a id="31207" class="Comment">-- abstract</a>
      <a id="31225" href="SecureCompilation.Helpers.html#31225" class="Function">λˢ</a> <a id="31228" class="Symbol">:</a> <a id="31230" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="31232" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="31234" class="Symbol">(</a><a id="31235" href="SecureCompilation.Helpers.html#30995" class="Bound">∃Γ≈</a> <a id="31239" class="Symbol">.</a><a id="31240" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="31246" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="31249" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="31251" class="Symbol">)</a> <a id="31253" class="Comment">-- Γₜ″</a>
      <a id="31266" href="SecureCompilation.Helpers.html#31225" class="Function">λˢ</a> <a id="31269" class="Symbol">=</a> <a id="31271" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="31277" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="31279" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="31281" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="31283" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a> <a id="31286" href="SecureCompilation.Helpers.html#30769" class="Function">Γ</a> <a id="31288" href="SecureCompilation.Helpers.html#30926" class="Bound">R≈</a> <a id="31291" href="SecureCompilation.Helpers.html#30871" class="Function">Γ′</a> <a id="31294" href="SecureCompilation.Helpers.html#30961" class="Bound">Γ→Γ′</a> <a id="31299" href="SecureCompilation.Helpers.html#30995" class="Bound">∃Γ≈</a> <a id="31303" href="SecureCompilation.Helpers.html#31040" class="Function">txout↝</a> <a id="31310" href="Function.Base.html#624" class="Function">id</a> <a id="31313" href="Function.Base.html#624" class="Function">id</a>

      <a id="31323" class="Comment">-- private</a>
      <a id="31340" class="Comment">--   𝕒  = λˢ .proj₁</a>
      <a id="31366" class="Comment">--   R′ = Γₜ″ ∷ R ⊣ 𝕒</a>

      <a id="31395" class="Comment">--   𝕣′ : ℝ R′</a>
      <a id="31416" class="Comment">--   𝕣′ = ℝ-step 𝕣 λˢ</a>

      <a id="31445" class="Comment">-- module _ {c v x} where</a>
      <a id="31477" class="Comment">--   private</a>
      <a id="31496" class="Comment">--     c∈⇐ : R′ ≈⋯ ⟨ c , v ⟩at x ⋯</a>
      <a id="31537" class="Comment">--         → R  ≈⋯ ⟨ c , v ⟩at x ⋯</a>
      <a id="31578" class="Comment">--     c∈⇐ = ?</a>
        <a id="31601" class="Comment">-- abstract</a>
        <a id="31621" class="Comment">--   txoutEndC≡ : ∀ (c∈ : ⟨ c , v ⟩at x ∈ᶜ Γ″) →</a>
        <a id="31678" class="Comment">--     𝕣′ ∙txoutC c∈ ≡ 𝕣 ∙txoutC (c∈⇐ c∈)</a>
        <a id="31728" class="Comment">--   txoutEndC≡ c∈ =</a>
        <a id="31757" class="Comment">--     begin</a>
        <a id="31778" class="Comment">--       𝕣′ ∙txoutC c∈</a>
        <a id="31809" class="Comment">--     ≡⟨⟩</a>
        <a id="31828" class="Comment">--       𝕣′ ∙txoutEnd (c∈⇒x∈ (R′ ∙cfg) c∈)</a>
        <a id="31879" class="Comment">--     -- ≡⟨ cong (𝕣′ ∙txoutEnd_) $ sym $ H c∈ ⟩</a>
        <a id="31936" class="Comment">--     --   𝕣′ ∙txoutEnd (x∈⇒ $ c∈⇒x∈ (R ∙cfg) $ c∈⇐ c∈)</a>
        <a id="32001" class="Comment">--     -- ≡⟨ txoutEnd≡ (c∈⇒x∈ (R ∙cfg) $ c∈⇐ c∈) ⟩</a>
        <a id="32060" class="Comment">--     --   𝕣 ∙txoutEnd (c∈⇒x∈ (R ∙cfg) $ c∈⇐ c∈)</a>
        <a id="32118" class="Comment">--     ≡⟨ ? ⟩</a>
        <a id="32140" class="Comment">--       𝕣 ∙txoutC (c∈⇐ c∈)</a>
        <a id="32176" class="Comment">--     ∎ where open ≡-Reasoning</a>

  <a id="32211" class="Comment">-- [12]</a>
  <a id="32221" class="Keyword">module</a> <a id="32228" href="SecureCompilation.Helpers.html#32228" class="Module">_</a> <a id="32230" href="SecureCompilation.Helpers.html#32230" class="Bound">A</a> <a id="32232" href="SecureCompilation.Helpers.html#32232" class="Bound">v</a> <a id="32234" href="SecureCompilation.Helpers.html#32234" class="Bound">v′</a> <a id="32237" href="SecureCompilation.Helpers.html#32237" class="Bound">x</a> <a id="32239" href="SecureCompilation.Helpers.html#32239" class="Bound">Γ₀</a> <a id="32242" class="Keyword">where</a>
    <a id="32252" class="Keyword">private</a>
      <a id="32266" href="SecureCompilation.Helpers.html#32266" class="Function">Γ</a>  <a id="32269" class="Symbol">=</a> <a id="32271" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="32275" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="32277" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="32279" href="SecureCompilation.Helpers.html#32230" class="Bound">A</a> <a id="32281" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="32285" class="Symbol">(</a><a id="32286" href="SecureCompilation.Helpers.html#32232" class="Bound">v</a> <a id="32288" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="32290" href="SecureCompilation.Helpers.html#32234" class="Bound">v′</a><a id="32292" class="Symbol">)</a> <a id="32294" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="32298" href="SecureCompilation.Helpers.html#32237" class="Bound">x</a> <a id="32300" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="32302" href="SecureCompilation.Helpers.html#32239" class="Bound">Γ₀</a>
      <a id="32311" href="SecureCompilation.Helpers.html#32311" class="Function">Γ′</a> <a id="32314" class="Symbol">=</a> <a id="32316" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="32320" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="32322" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="32324" href="SecureCompilation.Helpers.html#32230" class="Bound">A</a> <a id="32326" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="32330" class="Symbol">(</a><a id="32331" href="SecureCompilation.Helpers.html#32232" class="Bound">v</a> <a id="32333" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="32335" href="SecureCompilation.Helpers.html#32234" class="Bound">v′</a><a id="32337" class="Symbol">)</a> <a id="32339" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="32343" href="SecureCompilation.Helpers.html#32237" class="Bound">x</a> <a id="32345" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="32347" href="SecureCompilation.Helpers.html#32230" class="Bound">A</a> <a id="32349" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="32355" href="SecureCompilation.Helpers.html#32237" class="Bound">x</a> <a id="32357" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">▷⟨</a> <a id="32360" href="SecureCompilation.Helpers.html#32230" class="Bound">A</a> <a id="32362" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="32364" href="SecureCompilation.Helpers.html#32232" class="Bound">v</a> <a id="32366" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="32368" href="SecureCompilation.Helpers.html#32234" class="Bound">v′</a> <a id="32371" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">⟩</a> <a id="32373" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="32375" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="32377" href="SecureCompilation.Helpers.html#32239" class="Bound">Γ₀</a>
    <a id="32384" class="Keyword">module</a> <a id="32391" href="SecureCompilation.Helpers.html#32391" class="Module">H₁₂</a> <a id="32395" class="Symbol">(</a><a id="32396" href="SecureCompilation.Helpers.html#32396" class="Bound">R≈</a> <a id="32399" class="Symbol">:</a> <a id="32401" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="32403" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="32406" href="SecureCompilation.Helpers.html#32266" class="Function">Γ</a> <a id="32408" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="32411" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a><a id="32412" class="Symbol">)</a> <a id="32414" class="Symbol">(</a><a id="32415" href="SecureCompilation.Helpers.html#32415" class="Bound">Γ→Γ′</a> <a id="32420" class="Symbol">:</a> <a id="32422" href="SecureCompilation.Helpers.html#32266" class="Function">Γ</a> <a id="32424" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="32427" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="32429" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="32432" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="32434" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="32438" href="SecureCompilation.Helpers.html#32311" class="Function">Γ′</a> <a id="32441" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="32444" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="32446" class="Symbol">)</a> <a id="32448" class="Symbol">(</a><a id="32449" href="SecureCompilation.Helpers.html#32449" class="Bound">∃Γ≈</a> <a id="32453" class="Symbol">:</a> <a id="32455" href="Data.Product.html#1378" class="Function">∃</a> <a id="32457" class="Symbol">(</a><a id="32458" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="32461" href="SecureCompilation.Helpers.html#32311" class="Function">Γ′</a><a id="32463" class="Symbol">))</a> <a id="32466" class="Keyword">where</a>
      <a id="32478" class="Comment">-- abstract</a>
      <a id="32496" href="SecureCompilation.Helpers.html#32496" class="Function">λˢ</a> <a id="32499" class="Symbol">:</a> <a id="32501" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="32503" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="32505" class="Symbol">(</a><a id="32506" href="SecureCompilation.Helpers.html#32449" class="Bound">∃Γ≈</a> <a id="32510" class="Symbol">.</a><a id="32511" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="32517" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="32520" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="32522" class="Symbol">)</a>
      <a id="32530" href="SecureCompilation.Helpers.html#32496" class="Function">λˢ</a> <a id="32533" class="Symbol">=</a> <a id="32535" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="32541" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="32543" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="32545" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="32547" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a> <a id="32550" href="SecureCompilation.Helpers.html#32266" class="Function">Γ</a> <a id="32552" href="SecureCompilation.Helpers.html#32396" class="Bound">R≈</a> <a id="32555" href="SecureCompilation.Helpers.html#32311" class="Function">Γ′</a> <a id="32558" href="SecureCompilation.Helpers.html#32415" class="Bound">Γ→Γ′</a> <a id="32563" href="SecureCompilation.Helpers.html#32449" class="Bound">∃Γ≈</a> <a id="32567" href="Function.Base.html#624" class="Function">id</a> <a id="32570" href="Function.Base.html#624" class="Function">id</a> <a id="32573" href="Function.Base.html#624" class="Function">id</a>

  <a id="32579" class="Comment">-- [13]</a>
  <a id="32589" class="Keyword">module</a> <a id="32596" href="SecureCompilation.Helpers.html#32596" class="Module">_</a> <a id="32598" href="SecureCompilation.Helpers.html#32598" class="Bound">A</a> <a id="32600" href="SecureCompilation.Helpers.html#32600" class="Bound">v</a> <a id="32602" href="SecureCompilation.Helpers.html#32602" class="Bound">v′</a> <a id="32605" href="SecureCompilation.Helpers.html#32605" class="Bound">x</a> <a id="32607" href="SecureCompilation.Helpers.html#32607" class="Bound">Γ₀</a> <a id="32610" href="SecureCompilation.Helpers.html#32610" class="Bound">y</a> <a id="32612" href="SecureCompilation.Helpers.html#32612" class="Bound">y′</a> <a id="32615" class="Keyword">where</a>
    <a id="32625" class="Keyword">private</a>
      <a id="32639" href="SecureCompilation.Helpers.html#32639" class="Function">Γ</a>  <a id="32642" class="Symbol">=</a> <a id="32644" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="32648" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="32650" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="32652" href="SecureCompilation.Helpers.html#32598" class="Bound">A</a> <a id="32654" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="32658" class="Symbol">(</a><a id="32659" href="SecureCompilation.Helpers.html#32600" class="Bound">v</a> <a id="32661" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="32663" href="SecureCompilation.Helpers.html#32602" class="Bound">v′</a><a id="32665" class="Symbol">)</a> <a id="32667" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="32671" href="SecureCompilation.Helpers.html#32605" class="Bound">x</a> <a id="32673" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="32675" href="SecureCompilation.Helpers.html#32598" class="Bound">A</a> <a id="32677" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="32683" href="SecureCompilation.Helpers.html#32605" class="Bound">x</a> <a id="32685" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">▷⟨</a> <a id="32688" href="SecureCompilation.Helpers.html#32598" class="Bound">A</a> <a id="32690" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="32692" href="SecureCompilation.Helpers.html#32600" class="Bound">v</a> <a id="32694" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="32696" href="SecureCompilation.Helpers.html#32602" class="Bound">v′</a> <a id="32699" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">⟩</a> <a id="32701" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="32703" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="32705" href="SecureCompilation.Helpers.html#32607" class="Bound">Γ₀</a>
      <a id="32714" href="SecureCompilation.Helpers.html#32714" class="Function">Γ′</a> <a id="32717" class="Symbol">=</a> <a id="32719" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="32723" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="32725" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="32727" href="SecureCompilation.Helpers.html#32598" class="Bound">A</a> <a id="32729" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="32733" href="SecureCompilation.Helpers.html#32600" class="Bound">v</a> <a id="32735" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="32739" href="SecureCompilation.Helpers.html#32610" class="Bound">y</a> <a id="32741" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="32743" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="32745" href="SecureCompilation.Helpers.html#32598" class="Bound">A</a> <a id="32747" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="32751" href="SecureCompilation.Helpers.html#32602" class="Bound">v′</a> <a id="32754" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="32758" href="SecureCompilation.Helpers.html#32612" class="Bound">y′</a> <a id="32761" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="32763" href="SecureCompilation.Helpers.html#32607" class="Bound">Γ₀</a>
    <a id="32770" class="Keyword">module</a> <a id="32777" href="SecureCompilation.Helpers.html#32777" class="Module">H₁₃</a> <a id="32781" class="Symbol">(</a><a id="32782" href="SecureCompilation.Helpers.html#32782" class="Bound">R≈</a> <a id="32785" class="Symbol">:</a> <a id="32787" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="32789" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="32792" href="SecureCompilation.Helpers.html#32639" class="Function">Γ</a> <a id="32794" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="32797" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a><a id="32798" class="Symbol">)</a> <a id="32800" class="Symbol">(</a><a id="32801" href="SecureCompilation.Helpers.html#32801" class="Bound">tx</a> <a id="32804" href="SecureCompilation.Helpers.html#32804" class="Bound">tx′</a> <a id="32808" class="Symbol">:</a> <a id="32810" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a><a id="32818" class="Symbol">)</a> <a id="32820" class="Symbol">(</a><a id="32821" href="SecureCompilation.Helpers.html#32821" class="Bound">Γ→Γ′</a> <a id="32826" class="Symbol">:</a> <a id="32828" href="SecureCompilation.Helpers.html#32639" class="Function">Γ</a> <a id="32830" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="32833" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="32835" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="32838" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="32840" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="32844" href="SecureCompilation.Helpers.html#32714" class="Function">Γ′</a> <a id="32847" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="32850" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="32852" class="Symbol">)</a> <a id="32854" class="Symbol">(</a><a id="32855" href="SecureCompilation.Helpers.html#32855" class="Bound">∃Γ≈</a> <a id="32859" class="Symbol">:</a> <a id="32861" href="Data.Product.html#1378" class="Function">∃</a> <a id="32863" class="Symbol">(</a><a id="32864" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="32867" href="SecureCompilation.Helpers.html#32714" class="Function">Γ′</a><a id="32869" class="Symbol">))</a> <a id="32872" class="Keyword">where</a>
      <a id="32884" class="Comment">-- abstract</a>
      <a id="32902" href="SecureCompilation.Helpers.html#32902" class="Function">λˢ</a> <a id="32905" class="Symbol">:</a> <a id="32907" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="32909" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="32911" class="Symbol">(</a><a id="32912" href="SecureCompilation.Helpers.html#32855" class="Bound">∃Γ≈</a> <a id="32916" class="Symbol">.</a><a id="32917" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="32923" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="32926" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="32928" class="Symbol">)</a>
      <a id="32936" href="SecureCompilation.Helpers.html#32902" class="Function">λˢ</a> <a id="32939" class="Symbol">=</a> <a id="32941" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="32947" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="32949" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="32951" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="32953" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a> <a id="32956" href="SecureCompilation.Helpers.html#32639" class="Function">Γ</a> <a id="32958" href="SecureCompilation.Helpers.html#32782" class="Bound">R≈</a> <a id="32961" href="SecureCompilation.Helpers.html#32714" class="Function">Γ′</a> <a id="32964" href="SecureCompilation.Helpers.html#32821" class="Bound">Γ→Γ′</a> <a id="32969" href="SecureCompilation.Helpers.html#32855" class="Bound">∃Γ≈</a> <a id="32973" href="SecureCompilation.Helpers.html#33000" class="Function">txout↝</a> <a id="32980" href="Function.Base.html#624" class="Function">id</a> <a id="32983" href="Function.Base.html#624" class="Function">id</a>
        <a id="32994" class="Keyword">where</a> <a id="33000" href="SecureCompilation.Helpers.html#33000" class="Function">txout↝</a> <a id="33007" class="Symbol">:</a> <a id="33009" href="SecureCompilation.Helpers.html#32639" class="Function">Γ</a> <a id="33011" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="33014" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="33020" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="33022" href="SecureCompilation.Helpers.html#32714" class="Function">Γ′</a>
              <a id="33039" href="SecureCompilation.Helpers.html#33000" class="Function">txout↝</a> <a id="33046" href="SecureCompilation.Helpers.html#33046" class="Bound">txout′</a> <a id="33053" class="Symbol">=</a> <a id="33055" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="33062" href="SecureCompilation.Helpers.html#32610" class="Bound">y</a> <a id="33064" href="SecureCompilation.Helpers.html#32801" class="Bound">tx</a> <a id="33067" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="33069" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="33076" href="SecureCompilation.Helpers.html#32612" class="Bound">y′</a> <a id="33079" href="SecureCompilation.Helpers.html#32804" class="Bound">tx′</a> <a id="33083" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="33085" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="33094" href="SecureCompilation.Helpers.html#33046" class="Bound">txout′</a> <a id="33101" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a>

  <a id="33110" class="Comment">-- [14]</a>
  <a id="33120" class="Keyword">module</a> <a id="33127" href="SecureCompilation.Helpers.html#33127" class="Module">_</a> <a id="33129" href="SecureCompilation.Helpers.html#33129" class="Bound">A</a> <a id="33131" href="SecureCompilation.Helpers.html#33131" class="Bound">v</a> <a id="33133" href="SecureCompilation.Helpers.html#33133" class="Bound">x</a> <a id="33135" href="SecureCompilation.Helpers.html#33135" class="Bound">Γ₀</a> <a id="33138" href="SecureCompilation.Helpers.html#33138" class="Bound">B′</a> <a id="33141" class="Keyword">where</a>
    <a id="33151" class="Keyword">private</a>
      <a id="33165" href="SecureCompilation.Helpers.html#33165" class="Function">Γ</a>  <a id="33168" class="Symbol">=</a> <a id="33170" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="33174" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="33176" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="33178" href="SecureCompilation.Helpers.html#33129" class="Bound">A</a> <a id="33180" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="33184" href="SecureCompilation.Helpers.html#33131" class="Bound">v</a> <a id="33186" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="33190" href="SecureCompilation.Helpers.html#33133" class="Bound">x</a> <a id="33192" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="33194" href="SecureCompilation.Helpers.html#33135" class="Bound">Γ₀</a>
      <a id="33203" href="SecureCompilation.Helpers.html#33203" class="Function">Γ′</a> <a id="33206" class="Symbol">=</a> <a id="33208" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="33212" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="33214" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="33216" href="SecureCompilation.Helpers.html#33129" class="Bound">A</a> <a id="33218" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="33222" href="SecureCompilation.Helpers.html#33131" class="Bound">v</a> <a id="33224" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="33228" href="SecureCompilation.Helpers.html#33133" class="Bound">x</a> <a id="33230" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="33232" href="SecureCompilation.Helpers.html#33129" class="Bound">A</a> <a id="33234" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="33240" href="SecureCompilation.Helpers.html#33133" class="Bound">x</a> <a id="33242" href="BitML.Semantics.Action.html#782" class="InductiveConstructor Operator">▷ᵈ</a> <a id="33245" href="SecureCompilation.Helpers.html#33138" class="Bound">B′</a> <a id="33248" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="33250" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="33252" href="SecureCompilation.Helpers.html#33135" class="Bound">Γ₀</a>
    <a id="33259" class="Keyword">module</a> <a id="33266" href="SecureCompilation.Helpers.html#33266" class="Module">H₁₄</a> <a id="33270" class="Symbol">(</a><a id="33271" href="SecureCompilation.Helpers.html#33271" class="Bound">R≈</a> <a id="33274" class="Symbol">:</a> <a id="33276" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="33278" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="33281" href="SecureCompilation.Helpers.html#33165" class="Function">Γ</a> <a id="33283" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="33286" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a><a id="33287" class="Symbol">)</a> <a id="33289" class="Symbol">(</a><a id="33290" href="SecureCompilation.Helpers.html#33290" class="Bound">Γ→Γ′</a> <a id="33295" class="Symbol">:</a> <a id="33297" href="SecureCompilation.Helpers.html#33165" class="Function">Γ</a> <a id="33299" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="33302" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="33304" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="33307" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="33309" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="33313" href="SecureCompilation.Helpers.html#33203" class="Function">Γ′</a> <a id="33316" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="33319" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="33321" class="Symbol">)</a> <a id="33323" class="Symbol">(</a><a id="33324" href="SecureCompilation.Helpers.html#33324" class="Bound">∃Γ≈</a> <a id="33328" class="Symbol">:</a> <a id="33330" href="Data.Product.html#1378" class="Function">∃</a> <a id="33332" class="Symbol">(</a><a id="33333" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="33336" href="SecureCompilation.Helpers.html#33203" class="Function">Γ′</a><a id="33338" class="Symbol">))</a> <a id="33341" class="Keyword">where</a>
      <a id="33353" class="Comment">-- abstract</a>
      <a id="33371" href="SecureCompilation.Helpers.html#33371" class="Function">λˢ</a> <a id="33374" class="Symbol">:</a> <a id="33376" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="33378" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="33380" class="Symbol">(</a><a id="33381" href="SecureCompilation.Helpers.html#33324" class="Bound">∃Γ≈</a> <a id="33385" class="Symbol">.</a><a id="33386" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="33392" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="33395" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="33397" class="Symbol">)</a>
      <a id="33405" href="SecureCompilation.Helpers.html#33371" class="Function">λˢ</a> <a id="33408" class="Symbol">=</a> <a id="33410" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="33416" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="33418" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="33420" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="33422" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a> <a id="33425" href="SecureCompilation.Helpers.html#33165" class="Function">Γ</a> <a id="33427" href="SecureCompilation.Helpers.html#33271" class="Bound">R≈</a> <a id="33430" href="SecureCompilation.Helpers.html#33203" class="Function">Γ′</a> <a id="33433" href="SecureCompilation.Helpers.html#33290" class="Bound">Γ→Γ′</a> <a id="33438" href="SecureCompilation.Helpers.html#33324" class="Bound">∃Γ≈</a> <a id="33442" href="Function.Base.html#624" class="Function">id</a> <a id="33445" href="Function.Base.html#624" class="Function">id</a> <a id="33448" href="Function.Base.html#624" class="Function">id</a>

  <a id="33454" class="Comment">-- [15]</a>
  <a id="33464" class="Keyword">module</a> <a id="33471" href="SecureCompilation.Helpers.html#33471" class="Module">_</a> <a id="33473" href="SecureCompilation.Helpers.html#33473" class="Bound">A</a> <a id="33475" href="SecureCompilation.Helpers.html#33475" class="Bound">v</a> <a id="33477" href="SecureCompilation.Helpers.html#33477" class="Bound">x</a> <a id="33479" href="SecureCompilation.Helpers.html#33479" class="Bound">B′</a> <a id="33482" href="SecureCompilation.Helpers.html#33482" class="Bound">Γ₀</a> <a id="33485" href="SecureCompilation.Helpers.html#33485" class="Bound">y</a> <a id="33487" class="Keyword">where</a>
    <a id="33497" class="Keyword">private</a>
      <a id="33511" href="SecureCompilation.Helpers.html#33511" class="Function">Γ</a>  <a id="33514" class="Symbol">=</a> <a id="33516" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="33520" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="33522" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="33524" href="SecureCompilation.Helpers.html#33473" class="Bound">A</a> <a id="33526" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="33530" href="SecureCompilation.Helpers.html#33475" class="Bound">v</a> <a id="33532" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="33536" href="SecureCompilation.Helpers.html#33477" class="Bound">x</a> <a id="33538" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="33540" href="SecureCompilation.Helpers.html#33473" class="Bound">A</a> <a id="33542" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="33548" href="SecureCompilation.Helpers.html#33477" class="Bound">x</a> <a id="33550" href="BitML.Semantics.Action.html#782" class="InductiveConstructor Operator">▷ᵈ</a> <a id="33553" href="SecureCompilation.Helpers.html#33479" class="Bound">B′</a> <a id="33556" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="33558" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="33560" href="SecureCompilation.Helpers.html#33482" class="Bound">Γ₀</a>
      <a id="33569" href="SecureCompilation.Helpers.html#33569" class="Function">Γ′</a> <a id="33572" class="Symbol">=</a> <a id="33574" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="33578" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="33580" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="33582" href="SecureCompilation.Helpers.html#33479" class="Bound">B′</a> <a id="33585" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="33589" href="SecureCompilation.Helpers.html#33475" class="Bound">v</a> <a id="33591" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="33595" href="SecureCompilation.Helpers.html#33485" class="Bound">y</a> <a id="33597" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="33599" href="SecureCompilation.Helpers.html#33482" class="Bound">Γ₀</a>
    <a id="33606" class="Keyword">module</a> <a id="33613" href="SecureCompilation.Helpers.html#33613" class="Module">H₁₅</a> <a id="33617" class="Symbol">(</a><a id="33618" href="SecureCompilation.Helpers.html#33618" class="Bound">R≈</a> <a id="33621" class="Symbol">:</a> <a id="33623" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="33625" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="33628" href="SecureCompilation.Helpers.html#33511" class="Function">Γ</a> <a id="33630" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="33633" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a><a id="33634" class="Symbol">)</a> <a id="33636" class="Symbol">(</a><a id="33637" href="SecureCompilation.Helpers.html#33637" class="Bound">tx</a> <a id="33640" class="Symbol">:</a> <a id="33642" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a><a id="33650" class="Symbol">)</a> <a id="33652" class="Symbol">(</a><a id="33653" href="SecureCompilation.Helpers.html#33653" class="Bound">Γ→Γ′</a> <a id="33658" class="Symbol">:</a> <a id="33660" href="SecureCompilation.Helpers.html#33511" class="Function">Γ</a> <a id="33662" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="33665" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="33667" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="33670" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="33672" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="33676" href="SecureCompilation.Helpers.html#33569" class="Function">Γ′</a> <a id="33679" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="33682" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="33684" class="Symbol">)</a> <a id="33686" class="Symbol">(</a><a id="33687" href="SecureCompilation.Helpers.html#33687" class="Bound">∃Γ≈</a> <a id="33691" class="Symbol">:</a> <a id="33693" href="Data.Product.html#1378" class="Function">∃</a> <a id="33695" class="Symbol">(</a><a id="33696" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="33699" href="SecureCompilation.Helpers.html#33569" class="Function">Γ′</a><a id="33701" class="Symbol">))</a> <a id="33704" class="Keyword">where</a>
      <a id="33716" class="Comment">-- abstract</a>
      <a id="33734" href="SecureCompilation.Helpers.html#33734" class="Function">λˢ</a> <a id="33737" class="Symbol">:</a> <a id="33739" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="33741" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="33743" class="Symbol">(</a><a id="33744" href="SecureCompilation.Helpers.html#33687" class="Bound">∃Γ≈</a> <a id="33748" class="Symbol">.</a><a id="33749" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="33755" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="33758" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="33760" class="Symbol">)</a>
      <a id="33768" href="SecureCompilation.Helpers.html#33734" class="Function">λˢ</a> <a id="33771" class="Symbol">=</a> <a id="33773" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="33779" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="33781" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="33783" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="33785" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a> <a id="33788" href="SecureCompilation.Helpers.html#33511" class="Function">Γ</a> <a id="33790" href="SecureCompilation.Helpers.html#33618" class="Bound">R≈</a> <a id="33793" href="SecureCompilation.Helpers.html#33569" class="Function">Γ′</a> <a id="33796" href="SecureCompilation.Helpers.html#33653" class="Bound">Γ→Γ′</a> <a id="33801" href="SecureCompilation.Helpers.html#33687" class="Bound">∃Γ≈</a> <a id="33805" href="SecureCompilation.Helpers.html#33832" class="Function">txout↝</a> <a id="33812" href="Function.Base.html#624" class="Function">id</a> <a id="33815" href="Function.Base.html#624" class="Function">id</a>
        <a id="33826" class="Keyword">where</a> <a id="33832" href="SecureCompilation.Helpers.html#33832" class="Function">txout↝</a> <a id="33839" class="Symbol">:</a> <a id="33841" href="SecureCompilation.Helpers.html#33511" class="Function">Γ</a> <a id="33843" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="33846" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="33852" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="33854" href="SecureCompilation.Helpers.html#33569" class="Function">Γ′</a>
              <a id="33871" href="SecureCompilation.Helpers.html#33832" class="Function">txout↝</a> <a id="33878" href="SecureCompilation.Helpers.html#33878" class="Bound">txout′</a> <a id="33885" class="Symbol">=</a> <a id="33887" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="33894" href="SecureCompilation.Helpers.html#33485" class="Bound">y</a> <a id="33896" href="SecureCompilation.Helpers.html#33637" class="Bound">tx</a> <a id="33899" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="33901" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="33910" href="SecureCompilation.Helpers.html#33878" class="Bound">txout′</a> <a id="33917" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a>

  <a id="33926" class="Comment">-- [16]</a>
  <a id="33936" class="Keyword">module</a> <a id="33943" href="SecureCompilation.Helpers.html#33943" class="Module">_</a> <a id="33945" class="Symbol">(</a><a id="33946" href="SecureCompilation.Helpers.html#33946" class="Bound">ds</a> <a id="33949" class="Symbol">:</a> <a id="33951" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="33962" class="Symbol">)</a> <a id="33964" href="SecureCompilation.Helpers.html#33964" class="Bound">Γ₀</a> <a id="33967" class="Symbol">(</a><a id="33968" href="SecureCompilation.Helpers.html#33968" class="Bound">j</a> <a id="33970" class="Symbol">:</a> <a id="33972" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="33978" href="SecureCompilation.Helpers.html#33946" class="Bound">ds</a><a id="33980" class="Symbol">)</a> <a id="33982" href="SecureCompilation.Helpers.html#33982" class="Bound">A</a> <a id="33984" href="SecureCompilation.Helpers.html#33984" class="Bound">y</a> <a id="33986" class="Keyword">where</a>
    <a id="33996" class="Keyword">private</a>
      <a id="34010" href="SecureCompilation.Helpers.html#34010" class="Function">xs</a> <a id="34013" class="Symbol">=</a> <a id="34015" href="Data.List.Base.html#1553" class="Function">map</a> <a id="34019" class="Symbol">(</a><a id="34020" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="34026" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="34028" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="34033" class="Symbol">)</a> <a id="34035" href="SecureCompilation.Helpers.html#33946" class="Bound">ds</a>
      <a id="34044" href="SecureCompilation.Helpers.html#34044" class="Function">Δ</a>  <a id="34047" class="Symbol">=</a> <a id="34049" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="34052" href="Data.List.Base.html#1553" class="Function">map</a> <a id="34056" class="Symbol">(</a><a id="34057" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="34066" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨_has_⟩at_</a><a id="34076" class="Symbol">)</a> <a id="34078" href="SecureCompilation.Helpers.html#33946" class="Bound">ds</a>
      <a id="34087" href="SecureCompilation.Helpers.html#34087" class="Function">Γ</a>  <a id="34090" class="Symbol">=</a> <a id="34092" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="34096" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="34098" href="SecureCompilation.Helpers.html#34044" class="Function">Δ</a> <a id="34100" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="34102" href="SecureCompilation.Helpers.html#33964" class="Bound">Γ₀</a>
      <a id="34111" href="SecureCompilation.Helpers.html#34111" class="Function">j′</a> <a id="34114" class="Symbol">=</a> <a id="34116" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="34122" href="SecureCompilation.Helpers.html#34010" class="Function">xs</a> <a id="34125" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="34127" href="Prelude.Lists.Indexed.html#9518" class="Function">‼-map</a> <a id="34133" class="Symbol">{</a><a id="34134" class="Argument">xs</a> <a id="34137" class="Symbol">=</a> <a id="34139" href="SecureCompilation.Helpers.html#33946" class="Bound">ds</a><a id="34141" class="Symbol">}</a> <a id="34143" href="SecureCompilation.Helpers.html#33968" class="Bound">j</a>
      <a id="34151" href="SecureCompilation.Helpers.html#34151" class="Function">Γ′</a> <a id="34154" class="Symbol">=</a> <a id="34156" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="34160" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="34162" href="SecureCompilation.Helpers.html#34044" class="Function">Δ</a> <a id="34164" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="34166" href="SecureCompilation.Helpers.html#33982" class="Bound">A</a> <a id="34168" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="34174" href="SecureCompilation.Helpers.html#34010" class="Function">xs</a> <a id="34177" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="34179" href="SecureCompilation.Helpers.html#34111" class="Function">j′</a> <a id="34182" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="34186" href="SecureCompilation.Helpers.html#33984" class="Bound">y</a> <a id="34188" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="34190" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="34192" href="SecureCompilation.Helpers.html#33964" class="Bound">Γ₀</a>
    <a id="34199" class="Keyword">module</a> <a id="34206" href="SecureCompilation.Helpers.html#34206" class="Module">H₁₆</a> <a id="34210" class="Symbol">(</a><a id="34211" href="SecureCompilation.Helpers.html#34211" class="Bound">R≈</a> <a id="34214" class="Symbol">:</a> <a id="34216" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="34218" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="34221" href="SecureCompilation.Helpers.html#34087" class="Function">Γ</a> <a id="34223" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="34226" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a><a id="34227" class="Symbol">)</a> <a id="34229" class="Symbol">(</a><a id="34230" href="SecureCompilation.Helpers.html#34230" class="Bound">Γ→Γ′</a> <a id="34235" class="Symbol">:</a> <a id="34237" href="SecureCompilation.Helpers.html#34087" class="Function">Γ</a> <a id="34239" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="34242" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="34244" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="34247" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="34249" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="34253" href="SecureCompilation.Helpers.html#34151" class="Function">Γ′</a> <a id="34256" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="34259" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="34261" class="Symbol">)</a> <a id="34263" class="Symbol">(</a><a id="34264" href="SecureCompilation.Helpers.html#34264" class="Bound">∃Γ≈</a> <a id="34268" class="Symbol">:</a> <a id="34270" href="Data.Product.html#1378" class="Function">∃</a> <a id="34272" class="Symbol">(</a><a id="34273" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="34276" href="SecureCompilation.Helpers.html#34151" class="Function">Γ′</a><a id="34278" class="Symbol">))</a> <a id="34281" class="Keyword">where</a>
      <a id="34293" class="Comment">-- ** name resolution</a>
      <a id="34321" class="Keyword">abstract</a>
        <a id="34338" href="SecureCompilation.Helpers.html#34338" class="Function">xs↦</a> <a id="34342" class="Symbol">:</a> <a id="34344" href="SecureCompilation.Helpers.html#34010" class="Function">xs</a> <a id="34347" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="34349" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
        <a id="34366" href="SecureCompilation.Helpers.html#34338" class="Function">xs↦</a> <a id="34370" class="Symbol">=</a> <a id="34372" href="SymbolicModel.Mappings.Base.html#823" class="Function">txout′</a> <a id="34379" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="34381" href="SecureCompilation.Helpers.html#34411" class="Function">xs⊆</a>
          <a id="34395" class="Keyword">where</a>
          <a id="34411" href="SecureCompilation.Helpers.html#34411" class="Function">xs⊆</a> <a id="34415" class="Symbol">:</a> <a id="34417" href="SecureCompilation.Helpers.html#34010" class="Function">xs</a> <a id="34420" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="34422" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="34429" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a>
          <a id="34441" href="SecureCompilation.Helpers.html#34411" class="Function">xs⊆</a> <a id="34445" class="Symbol">=</a> <a id="34447" href="Relation.Binary.Reasoning.Base.Double.html#2222" class="Function Operator">begin</a> <a id="34453" href="SecureCompilation.Helpers.html#34010" class="Function">xs</a>              <a id="34469" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="34472" href="BitML.Semantics.Configurations.Helpers.html#16204" class="Function">namesʳ-∥map-authDestroy</a> <a id="34496" href="SecureCompilation.Helpers.html#33946" class="Bound">ds</a> <a id="34499" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
                      <a id="34523" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="34530" href="SecureCompilation.Helpers.html#34044" class="Function">Δ</a>        <a id="34539" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="34542" href="Prelude.Lists.MapMaybe.html#9263" class="Function">mapMaybe-⊆</a> <a id="34553" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="34560" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="34562" href="BitML.Semantics.Configurations.Helpers.html#7992" class="Function">∈-collect-++⁺ˡ</a> <a id="34577" href="SecureCompilation.Helpers.html#34044" class="Function">Δ</a> <a id="34579" href="SecureCompilation.Helpers.html#33964" class="Bound">Γ₀</a> <a id="34582" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
                      <a id="34606" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="34613" href="SecureCompilation.Helpers.html#34087" class="Function">Γ</a>        <a id="34622" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="34625" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="34640" class="Symbol">_</a> <a id="34642" class="Symbol">{</a><a id="34643" href="SecureCompilation.Helpers.html#34087" class="Function">Γ</a><a id="34644" class="Symbol">}{</a><a id="34646" href="BitML.Semantics.Configurations.Types.html#1335" class="Field">cfg</a> <a id="34650" class="Symbol">(</a><a id="34651" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="34653" class="Symbol">.</a><a id="34654" href="Prelude.Traces.html#568" class="Field">end</a><a id="34657" class="Symbol">)}</a> <a id="34660" class="Symbol">(</a><a id="34661" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="34667" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="34669" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="34675" href="SecureCompilation.Helpers.html#34211" class="Bound">R≈</a><a id="34677" class="Symbol">)</a> <a id="34679" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
                      <a id="34703" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="34710" class="Symbol">(</a><a id="34711" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="34713" class="Symbol">.</a><a id="34714" href="Prelude.Traces.html#568" class="Field">end</a><a id="34717" class="Symbol">)</a> <a id="34719" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="34722" href="SymbolicModel.Collections.html#1355" class="Function">namesʳ⦅end⦆⊆</a> <a id="34735" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="34737" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
                      <a id="34761" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="34768" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a>        <a id="34777" href="Relation.Binary.Reasoning.Base.Double.html#3656" class="Function Operator">∎</a> <a id="34779" class="Keyword">where</a> <a id="34785" class="Keyword">open</a> <a id="34790" href="Data.List.Relation.Binary.Subset.Propositional.Properties.html#3760" class="Module">⊆-Reasoning</a> <a id="34802" href="BitML.BasicTypes.html#303" class="Function">Secret</a>
      <a id="34815" class="Comment">--</a>
      <a id="34824" class="Keyword">private</a>
        <a id="34840" href="SecureCompilation.Helpers.html#34840" class="Function">names≡</a> <a id="34847" class="Symbol">:</a> <a id="34849" href="SecureCompilation.Helpers.html#34151" class="Function">Γ′</a> <a id="34852" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="34855" href="BitML.Contracts.Collections.html#4018" class="Function">names</a> <a id="34861" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="34863" href="SecureCompilation.Helpers.html#34087" class="Function">Γ</a>
        <a id="34873" href="SecureCompilation.Helpers.html#34840" class="Function">names≡</a> <a id="34880" class="Keyword">rewrite</a> <a id="34888" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="34907" class="Symbol">{</a><a id="34908" class="Argument">X</a> <a id="34910" class="Symbol">=</a> <a id="34912" href="BitML.BasicTypes.html#375" class="Function">Name</a><a id="34916" class="Symbol">}</a> <a id="34918" class="Symbol">(</a><a id="34919" href="SecureCompilation.Helpers.html#34044" class="Function">Δ</a> <a id="34921" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="34923" href="SecureCompilation.Helpers.html#33982" class="Bound">A</a> <a id="34925" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="34931" href="SecureCompilation.Helpers.html#34010" class="Function">xs</a> <a id="34934" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="34936" href="SecureCompilation.Helpers.html#34111" class="Function">j′</a> <a id="34939" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="34943" href="SecureCompilation.Helpers.html#33984" class="Bound">y</a> <a id="34945" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="34946" class="Symbol">)</a> <a id="34948" href="SecureCompilation.Helpers.html#33964" class="Bound">Γ₀</a>
                    <a id="34971" class="Symbol">|</a> <a id="34973" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="34992" class="Symbol">{</a><a id="34993" class="Argument">X</a> <a id="34995" class="Symbol">=</a> <a id="34997" href="BitML.BasicTypes.html#375" class="Function">Name</a><a id="35001" class="Symbol">}</a> <a id="35003" href="SecureCompilation.Helpers.html#34044" class="Function">Δ</a> <a id="35005" class="Symbol">(</a><a id="35006" href="SecureCompilation.Helpers.html#33982" class="Bound">A</a> <a id="35008" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="35014" href="SecureCompilation.Helpers.html#34010" class="Function">xs</a> <a id="35017" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="35019" href="SecureCompilation.Helpers.html#34111" class="Function">j′</a> <a id="35022" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="35026" href="SecureCompilation.Helpers.html#33984" class="Bound">y</a> <a id="35028" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="35029" class="Symbol">)</a>
                    <a id="35051" class="Symbol">|</a> <a id="35053" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="35068" class="Symbol">(</a><a id="35069" href="BitML.Contracts.Collections.html#4018" class="Function">names</a> <a id="35075" href="SecureCompilation.Helpers.html#34044" class="Function">Δ</a><a id="35076" class="Symbol">)</a>
                    <a id="35098" class="Symbol">=</a> <a id="35100" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="35104" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="35106" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="35125" class="Symbol">{</a><a id="35126" class="Argument">X</a> <a id="35128" class="Symbol">=</a> <a id="35130" href="BitML.BasicTypes.html#375" class="Function">Name</a><a id="35134" class="Symbol">}</a> <a id="35136" href="SecureCompilation.Helpers.html#34044" class="Function">Δ</a> <a id="35138" href="SecureCompilation.Helpers.html#33964" class="Bound">Γ₀</a>

        <a id="35150" href="SecureCompilation.Helpers.html#35150" class="Function">ids≡</a> <a id="35155" class="Symbol">:</a>  <a id="35158" href="SecureCompilation.Helpers.html#34151" class="Function">Γ′</a> <a id="35161" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="35164" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="35171" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="35173" href="SecureCompilation.Helpers.html#34087" class="Function">Γ</a>
        <a id="35183" href="SecureCompilation.Helpers.html#35150" class="Function">ids≡</a> <a id="35188" class="Symbol">=</a> <a id="35190" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="35195" href="Prelude.Lists.Core.html#2266" class="Function">filter₂</a> <a id="35203" href="SecureCompilation.Helpers.html#34840" class="Function">names≡</a>

        <a id="35219" href="SecureCompilation.Helpers.html#35219" class="Function">secrets≡</a> <a id="35228" class="Symbol">:</a> <a id="35230" href="SecureCompilation.Helpers.html#34151" class="Function">Γ′</a> <a id="35233" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="35236" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="35243" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="35245" href="SecureCompilation.Helpers.html#34087" class="Function">Γ</a>
        <a id="35255" href="SecureCompilation.Helpers.html#35219" class="Function">secrets≡</a> <a id="35264" class="Symbol">=</a> <a id="35266" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="35271" href="Prelude.Lists.Core.html#2207" class="Function">filter₁</a> <a id="35279" href="SecureCompilation.Helpers.html#34840" class="Function">names≡</a>

        <a id="35295" href="SecureCompilation.Helpers.html#35295" class="Function">ads≡</a> <a id="35300" class="Symbol">:</a> <a id="35302" href="SecureCompilation.Helpers.html#34151" class="Function">Γ′</a> <a id="35305" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="35308" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="35323" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="35325" href="SecureCompilation.Helpers.html#34087" class="Function">Γ</a>
        <a id="35335" href="SecureCompilation.Helpers.html#35295" class="Function">ads≡</a> <a id="35340" class="Keyword">rewrite</a> <a id="35348" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="35367" class="Symbol">{</a><a id="35368" class="Argument">X</a> <a id="35370" class="Symbol">=</a> <a id="35372" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="35374" class="Symbol">}</a> <a id="35376" class="Symbol">(</a><a id="35377" href="SecureCompilation.Helpers.html#34044" class="Function">Δ</a> <a id="35379" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="35381" href="SecureCompilation.Helpers.html#33982" class="Bound">A</a> <a id="35383" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="35389" href="SecureCompilation.Helpers.html#34010" class="Function">xs</a> <a id="35392" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="35394" href="SecureCompilation.Helpers.html#34111" class="Function">j′</a> <a id="35397" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="35401" href="SecureCompilation.Helpers.html#33984" class="Bound">y</a> <a id="35403" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="35404" class="Symbol">)</a> <a id="35406" href="SecureCompilation.Helpers.html#33964" class="Bound">Γ₀</a>
                  <a id="35427" class="Symbol">|</a> <a id="35429" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="35448" class="Symbol">{</a><a id="35449" class="Argument">X</a> <a id="35451" class="Symbol">=</a> <a id="35453" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="35455" class="Symbol">}</a> <a id="35457" href="SecureCompilation.Helpers.html#34044" class="Function">Δ</a> <a id="35459" class="Symbol">(</a><a id="35460" href="SecureCompilation.Helpers.html#33982" class="Bound">A</a> <a id="35462" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="35468" href="SecureCompilation.Helpers.html#34010" class="Function">xs</a> <a id="35471" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="35473" href="SecureCompilation.Helpers.html#34111" class="Function">j′</a> <a id="35476" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="35480" href="SecureCompilation.Helpers.html#33984" class="Bound">y</a> <a id="35482" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="35483" class="Symbol">)</a>
                  <a id="35503" class="Symbol">|</a> <a id="35505" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="35520" class="Symbol">(</a><a id="35521" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="35536" href="SecureCompilation.Helpers.html#34044" class="Function">Δ</a><a id="35537" class="Symbol">)</a>
                  <a id="35557" class="Symbol">=</a> <a id="35559" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="35563" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="35565" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="35584" class="Symbol">{</a><a id="35585" class="Argument">X</a> <a id="35587" class="Symbol">=</a> <a id="35589" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="35591" class="Symbol">}</a> <a id="35593" href="SecureCompilation.Helpers.html#34044" class="Function">Δ</a> <a id="35595" href="SecureCompilation.Helpers.html#33964" class="Bound">Γ₀</a>

        <a id="35607" href="SecureCompilation.Helpers.html#35607" class="Function">txout↝</a> <a id="35614" class="Symbol">:</a> <a id="35616" href="SecureCompilation.Helpers.html#34087" class="Function">Γ</a> <a id="35618" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="35621" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="35627" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="35629" href="SecureCompilation.Helpers.html#34151" class="Function">Γ′</a>
        <a id="35640" href="SecureCompilation.Helpers.html#35607" class="Function">txout↝</a> <a id="35647" class="Symbol">=</a> <a id="35649" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">lift</a> <a id="35654" href="SecureCompilation.Helpers.html#34087" class="Function">Γ</a> <a id="35656" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">—⟨</a> <a id="35659" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="35666" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⟩—</a> <a id="35669" href="SecureCompilation.Helpers.html#34151" class="Function">Γ′</a> <a id="35672" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⊣</a> <a id="35674" href="SecureCompilation.Helpers.html#35150" class="Function">ids≡</a>

        <a id="35688" href="SecureCompilation.Helpers.html#35688" class="Function">sechash↝</a> <a id="35697" class="Symbol">:</a> <a id="35699" href="SecureCompilation.Helpers.html#34087" class="Function">Γ</a> <a id="35701" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="35704" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="35712" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="35714" href="SecureCompilation.Helpers.html#34151" class="Function">Γ′</a>
        <a id="35725" href="SecureCompilation.Helpers.html#35688" class="Function">sechash↝</a>  <a id="35735" class="Symbol">=</a> <a id="35737" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">lift</a> <a id="35742" href="SecureCompilation.Helpers.html#34087" class="Function">Γ</a> <a id="35744" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">—⟨</a> <a id="35747" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="35754" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⟩—</a> <a id="35757" href="SecureCompilation.Helpers.html#34151" class="Function">Γ′</a> <a id="35760" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⊣</a> <a id="35762" href="SecureCompilation.Helpers.html#35219" class="Function">secrets≡</a>

        <a id="35780" href="SecureCompilation.Helpers.html#35780" class="Function">κ↝</a> <a id="35783" class="Symbol">:</a> <a id="35785" href="SecureCompilation.Helpers.html#34087" class="Function">Γ</a> <a id="35787" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="35790" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="35793" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="35795" href="SecureCompilation.Helpers.html#34151" class="Function">Γ′</a>
        <a id="35806" href="SecureCompilation.Helpers.html#35780" class="Function">κ↝</a> <a id="35809" class="Symbol">=</a> <a id="35811" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">lift</a> <a id="35816" href="SecureCompilation.Helpers.html#34087" class="Function">Γ</a> <a id="35818" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">—⟨</a> <a id="35821" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="35836" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⟩—</a> <a id="35839" href="SecureCompilation.Helpers.html#34151" class="Function">Γ′</a> <a id="35842" href="SymbolicModel.Mappings.Properties.html#1951" class="Function Operator">⊣</a> <a id="35844" href="SecureCompilation.Helpers.html#35295" class="Function">ads≡</a>
      <a id="35855" class="Comment">-- abstract</a>
      <a id="35873" href="SecureCompilation.Helpers.html#35873" class="Function">λˢ</a> <a id="35876" class="Symbol">:</a> <a id="35878" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="35880" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="35882" class="Symbol">(</a><a id="35883" href="SecureCompilation.Helpers.html#34264" class="Bound">∃Γ≈</a> <a id="35887" class="Symbol">.</a><a id="35888" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="35894" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="35897" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="35899" class="Symbol">)</a>
      <a id="35907" href="SecureCompilation.Helpers.html#35873" class="Function">λˢ</a> <a id="35910" class="Symbol">=</a> <a id="35912" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="35918" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="35920" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="35922" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="35924" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a> <a id="35927" href="SecureCompilation.Helpers.html#34087" class="Function">Γ</a> <a id="35929" href="SecureCompilation.Helpers.html#34211" class="Bound">R≈</a> <a id="35932" href="SecureCompilation.Helpers.html#34151" class="Function">Γ′</a> <a id="35935" href="SecureCompilation.Helpers.html#34230" class="Bound">Γ→Γ′</a> <a id="35940" href="SecureCompilation.Helpers.html#34264" class="Bound">∃Γ≈</a> <a id="35944" href="SecureCompilation.Helpers.html#35607" class="Function">txout↝</a> <a id="35951" href="SecureCompilation.Helpers.html#35688" class="Function">sechash↝</a> <a id="35960" href="SecureCompilation.Helpers.html#35780" class="Function">κ↝</a>

  <a id="35966" class="Comment">-- [17]</a>
  <a id="35976" class="Keyword">module</a> <a id="35983" href="SecureCompilation.Helpers.html#35983" class="Module">_</a> <a id="35985" class="Symbol">(</a><a id="35986" href="SecureCompilation.Helpers.html#35986" class="Bound">ds</a> <a id="35989" class="Symbol">:</a> <a id="35991" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="36002" class="Symbol">)</a> <a id="36004" href="SecureCompilation.Helpers.html#36004" class="Bound">Γ₀</a> <a id="36007" href="SecureCompilation.Helpers.html#36007" class="Bound">y</a> <a id="36009" class="Keyword">where</a>
    <a id="36019" class="Keyword">private</a>
      <a id="36033" href="SecureCompilation.Helpers.html#36033" class="Function">xs</a> <a id="36036" class="Symbol">=</a> <a id="36038" href="Data.List.Base.html#1553" class="Function">map</a> <a id="36042" class="Symbol">(</a><a id="36043" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="36049" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="36051" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="36056" class="Symbol">)</a> <a id="36058" href="SecureCompilation.Helpers.html#35986" class="Bound">ds</a>
      <a id="36067" href="SecureCompilation.Helpers.html#36067" class="Function">Δ</a>  <a id="36070" class="Symbol">=</a> <a id="36072" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="36075" href="Data.List.Base.html#1553" class="Function">map</a> <a id="36079" class="Symbol">(λ{</a> <a id="36083" class="Symbol">(</a><a id="36084" href="SecureCompilation.Helpers.html#36084" class="Bound">i</a> <a id="36086" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="36088" href="SecureCompilation.Helpers.html#36088" class="Bound">Aᵢ</a> <a id="36091" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="36093" href="SecureCompilation.Helpers.html#36093" class="Bound">vᵢ</a> <a id="36096" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="36098" href="SecureCompilation.Helpers.html#36098" class="Bound">xᵢ</a><a id="36100" class="Symbol">)</a> <a id="36102" class="Symbol">→</a> <a id="36104" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="36106" href="SecureCompilation.Helpers.html#36088" class="Bound">Aᵢ</a> <a id="36109" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="36113" href="SecureCompilation.Helpers.html#36093" class="Bound">vᵢ</a> <a id="36116" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="36120" href="SecureCompilation.Helpers.html#36098" class="Bound">xᵢ</a> <a id="36123" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="36125" href="SecureCompilation.Helpers.html#36088" class="Bound">Aᵢ</a> <a id="36128" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="36134" href="SecureCompilation.Helpers.html#36033" class="Function">xs</a> <a id="36137" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="36139" href="Prelude.Lists.Indexed.html#9518" class="Function">‼-map</a> <a id="36145" class="Symbol">{</a><a id="36146" class="Argument">xs</a> <a id="36149" class="Symbol">=</a> <a id="36151" href="SecureCompilation.Helpers.html#35986" class="Bound">ds</a><a id="36153" class="Symbol">}</a> <a id="36155" href="SecureCompilation.Helpers.html#36084" class="Bound">i</a> <a id="36157" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="36161" href="SecureCompilation.Helpers.html#36007" class="Bound">y</a> <a id="36163" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="36165" class="Symbol">})</a>
                  <a id="36186" class="Symbol">(</a><a id="36187" href="Prelude.Lists.Indexed.html#1568" class="Function">enumerate</a> <a id="36197" href="SecureCompilation.Helpers.html#35986" class="Bound">ds</a><a id="36199" class="Symbol">)</a>
      <a id="36207" href="SecureCompilation.Helpers.html#36207" class="Function">Γ</a>  <a id="36210" class="Symbol">=</a> <a id="36212" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="36216" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="36218" href="SecureCompilation.Helpers.html#36067" class="Function">Δ</a> <a id="36220" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="36222" href="SecureCompilation.Helpers.html#36004" class="Bound">Γ₀</a>
      <a id="36231" href="SecureCompilation.Helpers.html#36231" class="Function">Γ′</a> <a id="36234" class="Symbol">=</a> <a id="36236" href="SecureCompilation.Helpers.html#36004" class="Bound">Γ₀</a>
    <a id="36243" class="Keyword">module</a> <a id="36250" href="SecureCompilation.Helpers.html#36250" class="Module">H₁₇</a> <a id="36254" class="Symbol">(</a><a id="36255" href="SecureCompilation.Helpers.html#36255" class="Bound">R≈</a> <a id="36258" class="Symbol">:</a> <a id="36260" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="36262" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="36265" href="SecureCompilation.Helpers.html#36207" class="Function">Γ</a> <a id="36267" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="36270" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a><a id="36271" class="Symbol">)</a> <a id="36273" class="Symbol">(</a><a id="36274" href="SecureCompilation.Helpers.html#36274" class="Bound">Γ→Γ′</a> <a id="36279" class="Symbol">:</a> <a id="36281" href="SecureCompilation.Helpers.html#36207" class="Function">Γ</a> <a id="36283" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="36286" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="36288" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="36291" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="36293" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="36297" href="SecureCompilation.Helpers.html#36231" class="Function">Γ′</a> <a id="36300" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="36303" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="36305" class="Symbol">)</a> <a id="36307" class="Symbol">(</a><a id="36308" href="SecureCompilation.Helpers.html#36308" class="Bound">∃Γ≈</a> <a id="36312" class="Symbol">:</a> <a id="36314" href="Data.Product.html#1378" class="Function">∃</a> <a id="36316" class="Symbol">(</a><a id="36317" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="36320" href="SecureCompilation.Helpers.html#36231" class="Function">Γ′</a><a id="36322" class="Symbol">))</a> <a id="36325" class="Keyword">where</a>
      <a id="36337" class="Comment">-- ** name resolution</a>
      <a id="36365" class="Keyword">abstract</a>
        <a id="36382" href="SecureCompilation.Helpers.html#36382" class="Function">xs↦</a> <a id="36386" class="Symbol">:</a> <a id="36388" href="SecureCompilation.Helpers.html#36033" class="Function">xs</a> <a id="36391" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="36393" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
        <a id="36410" href="SecureCompilation.Helpers.html#36382" class="Function">xs↦</a> <a id="36414" class="Symbol">=</a> <a id="36416" href="SymbolicModel.Mappings.Base.html#823" class="Function">txout′</a> <a id="36423" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="36425" href="SecureCompilation.Helpers.html#36455" class="Function">xs⊆</a>
          <a id="36439" class="Keyword">where</a>
          <a id="36455" href="SecureCompilation.Helpers.html#36455" class="Function">xs⊆</a> <a id="36459" class="Symbol">:</a> <a id="36461" href="SecureCompilation.Helpers.html#36033" class="Function">xs</a> <a id="36464" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="36466" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="36473" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a>
          <a id="36485" href="SecureCompilation.Helpers.html#36455" class="Function">xs⊆</a> <a id="36489" class="Symbol">=</a> <a id="36491" href="Relation.Binary.Reasoning.Base.Double.html#2222" class="Function Operator">begin</a> <a id="36497" href="SecureCompilation.Helpers.html#36033" class="Function">xs</a>              <a id="36513" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="36516" href="BitML.Semantics.Configurations.Helpers.html#17967" class="Function">namesʳ-∥map-destroy</a> <a id="36536" href="SecureCompilation.Helpers.html#35986" class="Bound">ds</a> <a id="36539" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
                      <a id="36563" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="36570" href="SecureCompilation.Helpers.html#36067" class="Function">Δ</a>        <a id="36579" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="36582" href="Prelude.Lists.MapMaybe.html#9263" class="Function">mapMaybe-⊆</a> <a id="36593" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="36600" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="36602" href="BitML.Semantics.Configurations.Helpers.html#7992" class="Function">∈-collect-++⁺ˡ</a> <a id="36617" href="SecureCompilation.Helpers.html#36067" class="Function">Δ</a> <a id="36619" href="SecureCompilation.Helpers.html#36004" class="Bound">Γ₀</a> <a id="36622" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
                      <a id="36646" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="36653" href="SecureCompilation.Helpers.html#36207" class="Function">Γ</a>        <a id="36662" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="36665" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="36680" class="Symbol">_</a> <a id="36682" class="Symbol">{</a><a id="36683" href="SecureCompilation.Helpers.html#36207" class="Function">Γ</a><a id="36684" class="Symbol">}{</a><a id="36686" href="BitML.Semantics.Configurations.Types.html#1335" class="Field">cfg</a> <a id="36690" class="Symbol">(</a><a id="36691" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="36693" class="Symbol">.</a><a id="36694" href="Prelude.Traces.html#568" class="Field">end</a><a id="36697" class="Symbol">)}</a> <a id="36700" class="Symbol">(</a><a id="36701" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="36707" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="36709" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="36715" href="SecureCompilation.Helpers.html#36255" class="Bound">R≈</a><a id="36717" class="Symbol">)</a> <a id="36719" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
                      <a id="36743" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="36750" class="Symbol">(</a><a id="36751" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="36753" class="Symbol">.</a><a id="36754" href="Prelude.Traces.html#568" class="Field">end</a><a id="36757" class="Symbol">)</a> <a id="36759" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="36762" href="SymbolicModel.Collections.html#1355" class="Function">namesʳ⦅end⦆⊆</a> <a id="36775" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="36777" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
                      <a id="36801" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="36808" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a>        <a id="36817" href="Relation.Binary.Reasoning.Base.Double.html#3656" class="Function Operator">∎</a> <a id="36819" class="Keyword">where</a> <a id="36825" class="Keyword">open</a> <a id="36830" href="Data.List.Relation.Binary.Subset.Propositional.Properties.html#3760" class="Module">⊆-Reasoning</a> <a id="36842" href="BitML.BasicTypes.html#303" class="Function">Secret</a>
      <a id="36855" class="Comment">--</a>
      <a id="36864" class="Keyword">private</a>
        <a id="36880" href="SecureCompilation.Helpers.html#36880" class="Function">secrets≡</a> <a id="36889" class="Symbol">:</a> <a id="36891" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="36898" href="SecureCompilation.Helpers.html#36207" class="Function">Γ</a> <a id="36900" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="36902" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="36909" href="SecureCompilation.Helpers.html#36067" class="Function">Δ</a> <a id="36911" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="36914" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="36921" href="SecureCompilation.Helpers.html#36004" class="Bound">Γ₀</a>
        <a id="36932" href="SecureCompilation.Helpers.html#36880" class="Function">secrets≡</a> <a id="36941" class="Symbol">=</a> <a id="36943" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="36971" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="36978" href="SecureCompilation.Helpers.html#36067" class="Function">Δ</a> <a id="36980" href="SecureCompilation.Helpers.html#36004" class="Bound">Γ₀</a>

        <a id="36992" href="SecureCompilation.Helpers.html#36992" class="Function">ids≡</a> <a id="36997" class="Symbol">:</a> <a id="36999" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="37006" href="SecureCompilation.Helpers.html#36207" class="Function">Γ</a> <a id="37008" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="37010" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="37017" href="SecureCompilation.Helpers.html#36067" class="Function">Δ</a> <a id="37019" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="37022" href="BitML.Contracts.Collections.html#4144" class="Function">namesʳ</a> <a id="37029" href="SecureCompilation.Helpers.html#36004" class="Bound">Γ₀</a>
        <a id="37040" href="SecureCompilation.Helpers.html#36992" class="Function">ids≡</a> <a id="37045" class="Symbol">=</a> <a id="37047" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="37075" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="37082" href="SecureCompilation.Helpers.html#36067" class="Function">Δ</a> <a id="37084" href="SecureCompilation.Helpers.html#36004" class="Bound">Γ₀</a>

        <a id="37096" href="SecureCompilation.Helpers.html#37096" class="Function">txout↝</a> <a id="37103" class="Symbol">:</a> <a id="37105" href="SecureCompilation.Helpers.html#36207" class="Function">Γ</a> <a id="37107" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="37110" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="37116" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="37118" href="SecureCompilation.Helpers.html#36231" class="Function">Γ′</a>
        <a id="37129" href="SecureCompilation.Helpers.html#37096" class="Function">txout↝</a> <a id="37136" href="SecureCompilation.Helpers.html#37136" class="Bound">txout′</a> <a id="37143" class="Keyword">rewrite</a> <a id="37151" href="SecureCompilation.Helpers.html#36992" class="Function">ids≡</a> <a id="37156" class="Symbol">=</a> <a id="37158" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="37167" href="SecureCompilation.Helpers.html#37136" class="Bound">txout′</a> <a id="37174" class="Symbol">(</a><a id="37175" href="Data.List.Membership.Propositional.Properties.html#4054" class="Function">∈-++⁺ʳ</a> <a id="37182" class="Symbol">_)</a>

        <a id="37194" href="SecureCompilation.Helpers.html#37194" class="Function">sechash↝</a> <a id="37203" class="Symbol">:</a> <a id="37205" href="SecureCompilation.Helpers.html#36207" class="Function">Γ</a> <a id="37207" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="37210" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="37218" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="37220" href="SecureCompilation.Helpers.html#36231" class="Function">Γ′</a>
        <a id="37231" href="SecureCompilation.Helpers.html#37194" class="Function">sechash↝</a> <a id="37240" href="SecureCompilation.Helpers.html#37240" class="Bound">sechash′</a> <a id="37249" class="Keyword">rewrite</a> <a id="37257" href="SecureCompilation.Helpers.html#36880" class="Function">secrets≡</a> <a id="37266" class="Symbol">=</a> <a id="37268" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="37277" href="SecureCompilation.Helpers.html#37240" class="Bound">sechash′</a> <a id="37286" class="Symbol">(</a><a id="37287" href="Data.List.Membership.Propositional.Properties.html#4054" class="Function">∈-++⁺ʳ</a> <a id="37294" class="Symbol">_)</a>

        <a id="37306" href="SecureCompilation.Helpers.html#37306" class="Function">κ↝</a> <a id="37309" class="Symbol">:</a> <a id="37311" href="SecureCompilation.Helpers.html#36207" class="Function">Γ</a> <a id="37313" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="37316" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="37319" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="37321" href="SecureCompilation.Helpers.html#36231" class="Function">Γ′</a>
        <a id="37332" href="SecureCompilation.Helpers.html#37306" class="Function">κ↝</a> <a id="37335" href="SecureCompilation.Helpers.html#37335" class="Bound">κ′</a> <a id="37338" class="Symbol">=</a> <a id="37340" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="37349" href="SecureCompilation.Helpers.html#37335" class="Bound">κ′</a> <a id="37352" class="Symbol">(</a><a id="37353" href="BitML.Semantics.Configurations.Helpers.html#8196" class="Function">∈-collect-++⁺ʳ</a> <a id="37368" href="SecureCompilation.Helpers.html#36067" class="Function">Δ</a> <a id="37370" href="SecureCompilation.Helpers.html#36004" class="Bound">Γ₀</a><a id="37372" class="Symbol">)</a>

        <a id="37383" href="SecureCompilation.Helpers.html#37383" class="Function">Γ″</a> <a id="37386" class="Symbol">=</a> <a id="37388" href="SecureCompilation.Helpers.html#36308" class="Bound">∃Γ≈</a> <a id="37392" class="Symbol">.</a><a id="37393" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a><a id="37398" class="Symbol">;</a> <a id="37400" href="SecureCompilation.Helpers.html#37400" class="Function">Γ≈</a> <a id="37403" class="Symbol">=</a> <a id="37405" href="SecureCompilation.Helpers.html#36308" class="Bound">∃Γ≈</a> <a id="37409" class="Symbol">.</a><a id="37410" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
        <a id="37424" href="SecureCompilation.Helpers.html#37424" class="Function">Γₜ</a> <a id="37427" href="SecureCompilation.Helpers.html#37427" class="Function">Γₜ′</a> <a id="37431" href="SecureCompilation.Helpers.html#37431" class="Function">Γₜ″</a> <a id="37435" class="Symbol">:</a> <a id="37437" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a><a id="37441" class="Symbol">;</a> <a id="37443" href="SecureCompilation.Helpers.html#37424" class="Function">Γₜ</a>  <a id="37447" class="Symbol">=</a> <a id="37449" href="SecureCompilation.Helpers.html#36207" class="Function">Γ</a> <a id="37451" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="37454" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a><a id="37455" class="Symbol">;</a> <a id="37457" href="SecureCompilation.Helpers.html#37427" class="Function">Γₜ′</a> <a id="37461" class="Symbol">=</a> <a id="37463" href="SecureCompilation.Helpers.html#36231" class="Function">Γ′</a> <a id="37466" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="37469" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="37471" class="Symbol">;</a> <a id="37473" href="SecureCompilation.Helpers.html#37431" class="Function">Γₜ″</a> <a id="37477" class="Symbol">=</a> <a id="37479" href="SecureCompilation.Helpers.html#37383" class="Function">Γ″</a> <a id="37482" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="37485" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a>
      <a id="37494" class="Comment">-- abstract</a>
      <a id="37512" href="SecureCompilation.Helpers.html#37512" class="Function">λˢ</a> <a id="37515" class="Symbol">:</a> <a id="37517" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="37519" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="37521" href="SecureCompilation.Helpers.html#37431" class="Function">Γₜ″</a>
      <a id="37531" href="SecureCompilation.Helpers.html#37512" class="Function">λˢ</a> <a id="37534" class="Symbol">=</a> <a id="37536" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="37542" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="37544" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="37546" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="37548" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a> <a id="37551" href="SecureCompilation.Helpers.html#36207" class="Function">Γ</a> <a id="37553" href="SecureCompilation.Helpers.html#36255" class="Bound">R≈</a> <a id="37556" href="SecureCompilation.Helpers.html#36231" class="Function">Γ′</a> <a id="37559" href="SecureCompilation.Helpers.html#36274" class="Bound">Γ→Γ′</a> <a id="37564" href="SecureCompilation.Helpers.html#36308" class="Bound">∃Γ≈</a> <a id="37568" href="SecureCompilation.Helpers.html#37096" class="Function">txout↝</a> <a id="37575" href="SecureCompilation.Helpers.html#37194" class="Function">sechash↝</a> <a id="37584" href="SecureCompilation.Helpers.html#37306" class="Function">κ↝</a>
      <a id="37593" class="Keyword">private</a>
        <a id="37609" href="SecureCompilation.Helpers.html#37609" class="Function">𝕒</a>  <a id="37612" class="Symbol">=</a> <a id="37614" href="SecureCompilation.Helpers.html#37512" class="Function">λˢ</a> <a id="37617" class="Symbol">.</a><a id="37618" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
        <a id="37632" href="SecureCompilation.Helpers.html#37632" class="Function">R′</a> <a id="37635" class="Symbol">=</a> <a id="37637" href="SecureCompilation.Helpers.html#37431" class="Function">Γₜ″</a> <a id="37641" href="SymbolicModel.Run.Base.html#2558" class="Function Operator">∷</a> <a id="37643" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="37645" href="SymbolicModel.Run.Base.html#2558" class="Function Operator">⊣</a> <a id="37647" href="SecureCompilation.Helpers.html#37609" class="Function">𝕒</a>

        <a id="37658" href="SecureCompilation.Helpers.html#37658" class="Function">R≈′</a> <a id="37662" class="Symbol">:</a> <a id="37664" href="SecureCompilation.Helpers.html#37632" class="Function">R′</a> <a id="37667" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="37670" href="SecureCompilation.Helpers.html#36231" class="Function">Γ′</a> <a id="37673" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="37676" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a>
        <a id="37687" href="SecureCompilation.Helpers.html#37658" class="Function">R≈′</a> <a id="37691" class="Symbol">=</a> <a id="37693" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="37698" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="37700" href="SecureCompilation.Helpers.html#37400" class="Function">Γ≈</a>

        <a id="37712" href="SecureCompilation.Helpers.html#37712" class="Function">𝕣′</a> <a id="37715" class="Symbol">:</a> <a id="37717" href="SymbolicModel.Mappings.Base.html#743" class="Function">ℝ</a> <a id="37719" href="SecureCompilation.Helpers.html#37632" class="Function">R′</a>
        <a id="37730" href="SecureCompilation.Helpers.html#37712" class="Function">𝕣′</a> <a id="37733" class="Symbol">=</a> <a id="37735" href="SymbolicModel.Mappings.Properties.html#4538" class="Function">ℝ-step</a> <a id="37742" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="37744" href="SecureCompilation.Helpers.html#37512" class="Function">λˢ</a>
      <a id="37753" class="Keyword">abstract</a>
        <a id="37770" href="SecureCompilation.Helpers.html#37770" class="Function">value-preserving⇒</a> <a id="37788" class="Symbol">:</a>
          <a id="37800" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="37817" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a>
          <a id="37829" href="Prelude.InferenceRules.html#14163" class="Function Operator">───────────────────</a>
          <a id="37859" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="37876" href="SecureCompilation.Helpers.html#37712" class="Function">𝕣′</a>
        <a id="37887" href="SecureCompilation.Helpers.html#37770" class="Function">value-preserving⇒</a> <a id="37905" href="SecureCompilation.Helpers.html#37905" class="Bound">pv-txout</a> <a id="37914" class="Symbol">=</a> <a id="37916" href="SecureCompilation.Helpers.html#38755" class="Function">pv-txout′</a>
          <a id="37936" class="Keyword">where</a>
            <a id="37954" class="Keyword">open</a> <a id="37959" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

            <a id="37984" href="SecureCompilation.Helpers.html#37984" class="Function">txoutΓ</a> <a id="37991" class="Symbol">:</a> <a id="37993" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="37999" href="SecureCompilation.Helpers.html#36207" class="Function">Γ</a>
            <a id="38013" href="SecureCompilation.Helpers.html#37984" class="Function">txoutΓ</a> <a id="38020" class="Symbol">=</a> <a id="38022" href="SymbolicModel.Mappings.Properties.html#671" class="Function">Txout≈</a> <a id="38029" class="Symbol">{</a><a id="38030" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="38032" href="SymbolicModel.Accessors.html#597" class="Function Operator">∙cfg</a><a id="38036" class="Symbol">}{</a><a id="38038" href="SecureCompilation.Helpers.html#36207" class="Function">Γ</a><a id="38039" class="Symbol">}</a> <a id="38041" class="Symbol">(</a><a id="38042" href="SecureCompilation.Helpers.html#36255" class="Bound">R≈</a> <a id="38045" class="Symbol">.</a><a id="38046" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="38051" class="Symbol">)</a> <a id="38053" class="Symbol">(</a><a id="38054" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="38056" href="SymbolicModel.Mappings.Properties.html#12758" class="Function Operator">∙txoutEnd_</a><a id="38066" class="Symbol">)</a>

            <a id="38081" href="SecureCompilation.Helpers.html#38081" class="Function">pv-txoutΓ</a> <a id="38091" class="Symbol">:</a> <a id="38093" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="38109" class="Symbol">{</a><a id="38110" href="SecureCompilation.Helpers.html#36207" class="Function">Γ</a><a id="38111" class="Symbol">}</a> <a id="38113" href="SecureCompilation.Helpers.html#37984" class="Function">txoutΓ</a>
            <a id="38132" href="SecureCompilation.Helpers.html#38081" class="Function">pv-txoutΓ</a> <a id="38142" class="Symbol">=</a> <a id="38144" href="SymbolicModel.ValuePreservation.html#2568" class="Function">ValuePreserving-Txout≈</a> <a id="38167" class="Symbol">{</a><a id="38168" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="38170" href="SymbolicModel.Accessors.html#597" class="Function Operator">∙cfg</a><a id="38174" class="Symbol">}{</a><a id="38176" href="SecureCompilation.Helpers.html#36207" class="Function">Γ</a><a id="38177" class="Symbol">}</a> <a id="38179" class="Symbol">(</a><a id="38180" href="SecureCompilation.Helpers.html#36255" class="Bound">R≈</a> <a id="38183" class="Symbol">.</a><a id="38184" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="38189" class="Symbol">)</a> <a id="38191" class="Symbol">(</a><a id="38192" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="38194" href="SymbolicModel.Mappings.Properties.html#12758" class="Function Operator">∙txoutEnd_</a><a id="38204" class="Symbol">)</a> <a id="38206" href="SecureCompilation.Helpers.html#37905" class="Bound">pv-txout</a>

            <a id="38228" class="Keyword">postulate</a> <a id="38238" href="SecureCompilation.Helpers.html#38238" class="Postulate">pv↝</a> <a id="38242" class="Symbol">:</a> <a id="38244" href="SymbolicModel.ValuePreservation.html#3292" class="Function">ValuePreserving↝</a> <a id="38261" class="Symbol">{</a><a id="38262" href="SecureCompilation.Helpers.html#36207" class="Function">Γ</a><a id="38263" class="Symbol">}{</a><a id="38265" href="SecureCompilation.Helpers.html#36231" class="Function">Γ′</a><a id="38267" class="Symbol">}</a> <a id="38269" href="SecureCompilation.Helpers.html#37096" class="Function">txout↝</a>
            <a id="38288" class="Comment">-- pv↝ txoutΓ pv-txoutΓ {x} x∈</a>
            <a id="38331" class="Comment">--   = ?</a>

            <a id="38353" href="SecureCompilation.Helpers.html#38353" class="Function">txoutΓ′</a> <a id="38361" class="Symbol">:</a> <a id="38363" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="38369" href="SecureCompilation.Helpers.html#36231" class="Function">Γ′</a>
            <a id="38384" href="SecureCompilation.Helpers.html#38353" class="Function">txoutΓ′</a> <a id="38392" class="Symbol">=</a> <a id="38394" href="SecureCompilation.Helpers.html#37096" class="Function">txout↝</a> <a id="38401" href="SecureCompilation.Helpers.html#37984" class="Function">txoutΓ</a>

            <a id="38421" href="SecureCompilation.Helpers.html#38421" class="Function">pv-txoutΓ′</a> <a id="38432" class="Symbol">:</a> <a id="38434" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="38450" class="Symbol">{</a><a id="38451" href="SecureCompilation.Helpers.html#36231" class="Function">Γ′</a><a id="38453" class="Symbol">}</a> <a id="38455" href="SecureCompilation.Helpers.html#38353" class="Function">txoutΓ′</a>
            <a id="38475" href="SecureCompilation.Helpers.html#38421" class="Function">pv-txoutΓ′</a> <a id="38486" class="Symbol">=</a>  <a id="38489" href="SecureCompilation.Helpers.html#38238" class="Postulate">pv↝</a> <a id="38493" href="SecureCompilation.Helpers.html#37984" class="Function">txoutΓ</a> <a id="38500" href="SecureCompilation.Helpers.html#38081" class="Function">pv-txoutΓ</a>

            <a id="38523" href="SecureCompilation.Helpers.html#38523" class="Function">txoutΓ″</a> <a id="38531" class="Symbol">:</a> <a id="38533" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="38539" href="SecureCompilation.Helpers.html#37383" class="Function">Γ″</a>
            <a id="38554" href="SecureCompilation.Helpers.html#38523" class="Function">txoutΓ″</a> <a id="38562" class="Symbol">=</a> <a id="38564" href="SymbolicModel.Mappings.Properties.html#671" class="Function">Txout≈</a> <a id="38571" class="Symbol">{</a><a id="38572" href="SecureCompilation.Helpers.html#36231" class="Function">Γ′</a><a id="38574" class="Symbol">}{</a><a id="38576" href="SecureCompilation.Helpers.html#37383" class="Function">Γ″</a><a id="38578" class="Symbol">}</a> <a id="38580" class="Symbol">(</a><a id="38581" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="38587" href="SecureCompilation.Helpers.html#37400" class="Function">Γ≈</a><a id="38589" class="Symbol">)</a> <a id="38591" href="SecureCompilation.Helpers.html#38353" class="Function">txoutΓ′</a>

            <a id="38612" href="SecureCompilation.Helpers.html#38612" class="Function">pv-txoutΓ″</a> <a id="38623" class="Symbol">:</a> <a id="38625" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="38641" class="Symbol">{</a><a id="38642" href="SecureCompilation.Helpers.html#37383" class="Function">Γ″</a><a id="38644" class="Symbol">}</a> <a id="38646" href="SecureCompilation.Helpers.html#38523" class="Function">txoutΓ″</a>
            <a id="38666" href="SecureCompilation.Helpers.html#38612" class="Function">pv-txoutΓ″</a> <a id="38677" class="Symbol">=</a> <a id="38679" href="SymbolicModel.ValuePreservation.html#2568" class="Function">ValuePreserving-Txout≈</a> <a id="38702" class="Symbol">{</a><a id="38703" href="SecureCompilation.Helpers.html#36231" class="Function">Γ′</a><a id="38705" class="Symbol">}</a> <a id="38707" class="Symbol">{</a><a id="38708" href="SecureCompilation.Helpers.html#37383" class="Function">Γ″</a><a id="38710" class="Symbol">}</a> <a id="38712" class="Symbol">(</a><a id="38713" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="38719" href="SecureCompilation.Helpers.html#37400" class="Function">Γ≈</a><a id="38721" class="Symbol">)</a> <a id="38723" href="SecureCompilation.Helpers.html#38353" class="Function">txoutΓ′</a> <a id="38731" href="SecureCompilation.Helpers.html#38421" class="Function">pv-txoutΓ′</a>

            <a id="38755" href="SecureCompilation.Helpers.html#38755" class="Function">pv-txout′</a> <a id="38765" class="Symbol">:</a> <a id="38767" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="38784" href="SecureCompilation.Helpers.html#37712" class="Function">𝕣′</a>
            <a id="38799" href="SecureCompilation.Helpers.html#38755" class="Function">pv-txout′</a> <a id="38809" href="SecureCompilation.Helpers.html#38809" class="Bound">x∈</a> <a id="38812" class="Symbol">=</a>
              <a id="38828" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
                <a id="38850" class="Symbol">(</a><a id="38851" href="SecureCompilation.Helpers.html#37712" class="Function">𝕣′</a> <a id="38854" href="SymbolicModel.Mappings.Properties.html#12758" class="Function Operator">∙txoutEnd</a> <a id="38864" href="SecureCompilation.Helpers.html#38809" class="Bound">x∈</a><a id="38866" class="Symbol">)</a> <a id="38868" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
              <a id="38889" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="38892" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="38897" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">_∙value</a>
                    <a id="38925" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="38927" href="SymbolicModel.Mappings.Properties.html#9729" class="Function">txout∷∘namesʳ⦅end⦆⊆</a> <a id="38947" class="Symbol">{</a><a id="38948" class="Argument">R</a> <a id="38950" class="Symbol">=</a> <a id="38952" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a><a id="38953" class="Symbol">}</a> <a id="38955" href="SecureCompilation.Helpers.html#36274" class="Bound">Γ→Γ′</a> <a id="38960" class="Symbol">(</a><a id="38961" href="SecureCompilation.Helpers.html#37658" class="Function">R≈′</a> <a id="38965" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="38967" href="SecureCompilation.Helpers.html#36255" class="Bound">R≈</a><a id="38969" class="Symbol">)</a> <a id="38971" href="SecureCompilation.Helpers.html#38353" class="Function">txoutΓ′</a> <a id="38979" href="SymbolicModel.Mappings.Base.html#823" class="Function">txout′</a> <a id="38986" class="Symbol">_</a> <a id="38988" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="39006" class="Symbol">(</a><a id="39007" href="SecureCompilation.Helpers.html#38523" class="Function">txoutΓ″</a> <a id="39015" href="SecureCompilation.Helpers.html#38809" class="Bound">x∈</a><a id="39017" class="Symbol">)</a> <a id="39019" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
              <a id="39040" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="39043" href="SecureCompilation.Helpers.html#38612" class="Function">pv-txoutΓ″</a> <a id="39054" class="Symbol">_</a> <a id="39056" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="39074" class="Symbol">(</a><a id="39075" href="SecureCompilation.Helpers.html#37383" class="Function">Γ″</a> <a id="39078" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="39080" href="SecureCompilation.Helpers.html#38809" class="Bound">x∈</a><a id="39082" class="Symbol">)</a> <a id="39084" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
              <a id="39105" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

  <a id="39110" class="Comment">-- [18]</a>
  <a id="39120" class="Keyword">module</a> <a id="39127" href="SecureCompilation.Helpers.html#39127" class="Module">_</a> <a id="39129" href="SecureCompilation.Helpers.html#39129" class="Bound">Γ</a> <a id="39131" class="Symbol">(</a><a id="39132" href="SecureCompilation.Helpers.html#39132" class="Bound">R≈</a> <a id="39135" class="Symbol">:</a> <a id="39137" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="39139" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="39142" href="SecureCompilation.Helpers.html#39129" class="Bound">Γ</a> <a id="39144" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="39147" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a><a id="39148" class="Symbol">)</a> <a id="39150" class="Keyword">where</a>
    <a id="39160" class="Keyword">private</a> <a id="39168" href="SecureCompilation.Helpers.html#39168" class="Function">Γ′</a> <a id="39171" class="Symbol">=</a> <a id="39173" href="SecureCompilation.Helpers.html#39129" class="Bound">Γ</a>
    <a id="39179" class="Keyword">module</a> <a id="39186" href="SecureCompilation.Helpers.html#39186" class="Module">H₁₈</a> <a id="39190" class="Symbol">(</a><a id="39191" href="SecureCompilation.Helpers.html#39191" class="Bound">Γ→Γ′</a> <a id="39196" class="Symbol">:</a> <a id="39198" href="SecureCompilation.Helpers.html#39129" class="Bound">Γ</a> <a id="39200" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="39203" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="39205" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="39208" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="39210" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="39214" href="SecureCompilation.Helpers.html#39168" class="Function">Γ′</a> <a id="39217" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="39220" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="39222" class="Symbol">)</a> <a id="39224" class="Symbol">(</a><a id="39225" href="SecureCompilation.Helpers.html#39225" class="Bound">∃Γ≈</a> <a id="39229" class="Symbol">:</a> <a id="39231" href="Data.Product.html#1378" class="Function">∃</a> <a id="39233" class="Symbol">(</a><a id="39234" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="39237" href="SecureCompilation.Helpers.html#39168" class="Function">Γ′</a><a id="39239" class="Symbol">))</a> <a id="39242" class="Keyword">where</a>
      <a id="39254" class="Keyword">private</a>
        <a id="39270" href="SecureCompilation.Helpers.html#39270" class="Function">Γ″</a> <a id="39273" class="Symbol">=</a> <a id="39275" href="SecureCompilation.Helpers.html#39225" class="Bound">∃Γ≈</a> <a id="39279" class="Symbol">.</a><a id="39280" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a><a id="39285" class="Symbol">;</a> <a id="39287" href="SecureCompilation.Helpers.html#39287" class="Function">Γ≈</a> <a id="39290" class="Symbol">=</a> <a id="39292" href="SecureCompilation.Helpers.html#39225" class="Bound">∃Γ≈</a> <a id="39296" class="Symbol">.</a><a id="39297" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
        <a id="39311" href="SecureCompilation.Helpers.html#39311" class="Function">Γₜ</a> <a id="39314" href="SecureCompilation.Helpers.html#39314" class="Function">Γₜ′</a> <a id="39318" href="SecureCompilation.Helpers.html#39318" class="Function">Γₜ″</a> <a id="39322" class="Symbol">:</a> <a id="39324" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a><a id="39328" class="Symbol">;</a> <a id="39330" href="SecureCompilation.Helpers.html#39311" class="Function">Γₜ</a>  <a id="39334" class="Symbol">=</a> <a id="39336" href="SecureCompilation.Helpers.html#39129" class="Bound">Γ</a> <a id="39338" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="39341" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a><a id="39342" class="Symbol">;</a> <a id="39344" href="SecureCompilation.Helpers.html#39314" class="Function">Γₜ′</a> <a id="39348" class="Symbol">=</a> <a id="39350" href="SecureCompilation.Helpers.html#39168" class="Function">Γ′</a> <a id="39353" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="39356" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a><a id="39358" class="Symbol">;</a> <a id="39360" href="SecureCompilation.Helpers.html#39318" class="Function">Γₜ″</a> <a id="39364" class="Symbol">=</a> <a id="39366" href="SecureCompilation.Helpers.html#39270" class="Function">Γ″</a> <a id="39369" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="39372" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a>
      <a id="39381" class="Comment">-- abstract</a>
      <a id="39399" href="SecureCompilation.Helpers.html#39399" class="Function">λˢ</a> <a id="39402" class="Symbol">:</a> <a id="39404" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">𝕃</a> <a id="39406" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="39408" href="SecureCompilation.Helpers.html#39318" class="Function">Γₜ″</a>
      <a id="39418" href="SecureCompilation.Helpers.html#39399" class="Function">λˢ</a> <a id="39421" class="Symbol">=</a> <a id="39423" href="SymbolicModel.Helpers.html#1526" class="Function">LIFTˢ</a> <a id="39429" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="39431" href="SecureCompilation.Helpers.html#2999" class="Bound">t</a> <a id="39433" href="SecureCompilation.Helpers.html#3001" class="Bound">α</a> <a id="39435" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a> <a id="39438" href="SecureCompilation.Helpers.html#39129" class="Bound">Γ</a> <a id="39440" href="SecureCompilation.Helpers.html#39132" class="Bound">R≈</a> <a id="39443" href="SecureCompilation.Helpers.html#39168" class="Function">Γ′</a> <a id="39446" href="SecureCompilation.Helpers.html#39191" class="Bound">Γ→Γ′</a> <a id="39451" href="SecureCompilation.Helpers.html#39225" class="Bound">∃Γ≈</a> <a id="39455" href="Function.Base.html#624" class="Function">id</a> <a id="39458" href="Function.Base.html#624" class="Function">id</a> <a id="39461" href="Function.Base.html#624" class="Function">id</a>
      <a id="39470" class="Keyword">private</a>
        <a id="39486" href="SecureCompilation.Helpers.html#39486" class="Function">𝕒</a>  <a id="39489" class="Symbol">=</a> <a id="39491" href="SecureCompilation.Helpers.html#39399" class="Function">λˢ</a> <a id="39494" class="Symbol">.</a><a id="39495" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
        <a id="39509" href="SecureCompilation.Helpers.html#39509" class="Function">R′</a> <a id="39512" class="Symbol">=</a> <a id="39514" href="SecureCompilation.Helpers.html#39318" class="Function">Γₜ″</a> <a id="39518" href="SymbolicModel.Run.Base.html#2558" class="Function Operator">∷</a> <a id="39520" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="39522" href="SymbolicModel.Run.Base.html#2558" class="Function Operator">⊣</a> <a id="39524" href="SecureCompilation.Helpers.html#39486" class="Function">𝕒</a>

        <a id="39535" href="SecureCompilation.Helpers.html#39535" class="Function">R≈′</a> <a id="39539" class="Symbol">:</a> <a id="39541" href="SecureCompilation.Helpers.html#39509" class="Function">R′</a> <a id="39544" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">≈⋯</a> <a id="39547" href="SecureCompilation.Helpers.html#39168" class="Function">Γ′</a> <a id="39550" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="39553" href="SecureCompilation.Helpers.html#3003" class="Bound">t′</a>
        <a id="39564" href="SecureCompilation.Helpers.html#39535" class="Function">R≈′</a> <a id="39568" class="Symbol">=</a> <a id="39570" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="39575" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="39577" href="SecureCompilation.Helpers.html#39287" class="Function">Γ≈</a>

        <a id="39589" href="SecureCompilation.Helpers.html#39589" class="Function">𝕣′</a> <a id="39592" class="Symbol">:</a> <a id="39594" href="SymbolicModel.Mappings.Base.html#743" class="Function">ℝ</a> <a id="39596" href="SecureCompilation.Helpers.html#39509" class="Function">R′</a>
        <a id="39607" href="SecureCompilation.Helpers.html#39589" class="Function">𝕣′</a> <a id="39610" class="Symbol">=</a> <a id="39612" href="SymbolicModel.Mappings.Properties.html#4538" class="Function">ℝ-step</a> <a id="39619" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="39621" href="SecureCompilation.Helpers.html#39399" class="Function">λˢ</a>
      <a id="39630" class="Keyword">abstract</a>
        <a id="39647" href="SecureCompilation.Helpers.html#39647" class="Function">value-preserving⇒</a> <a id="39665" class="Symbol">:</a>
          <a id="39677" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="39694" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a>
          <a id="39706" href="Prelude.InferenceRules.html#14163" class="Function Operator">───────────────────</a>
          <a id="39736" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="39753" href="SecureCompilation.Helpers.html#39589" class="Function">𝕣′</a>
        <a id="39764" href="SecureCompilation.Helpers.html#39647" class="Function">value-preserving⇒</a> <a id="39782" href="SecureCompilation.Helpers.html#39782" class="Bound">pv-txout</a> <a id="39791" class="Symbol">=</a> <a id="39793" href="SecureCompilation.Helpers.html#40488" class="Function">pv-txout′</a>
          <a id="39813" class="Keyword">where</a>
            <a id="39831" class="Keyword">open</a> <a id="39836" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

            <a id="39861" href="SecureCompilation.Helpers.html#39861" class="Function">txoutΓ</a> <a id="39868" class="Symbol">:</a> <a id="39870" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="39876" href="SecureCompilation.Helpers.html#39129" class="Bound">Γ</a>
            <a id="39890" href="SecureCompilation.Helpers.html#39861" class="Function">txoutΓ</a> <a id="39897" class="Symbol">=</a> <a id="39899" href="SymbolicModel.Mappings.Properties.html#671" class="Function">Txout≈</a> <a id="39906" class="Symbol">{</a><a id="39907" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="39909" href="SymbolicModel.Accessors.html#597" class="Function Operator">∙cfg</a><a id="39913" class="Symbol">}{</a><a id="39915" href="SecureCompilation.Helpers.html#39129" class="Bound">Γ</a><a id="39916" class="Symbol">}</a> <a id="39918" class="Symbol">(</a><a id="39919" href="SecureCompilation.Helpers.html#39132" class="Bound">R≈</a> <a id="39922" class="Symbol">.</a><a id="39923" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="39928" class="Symbol">)</a> <a id="39930" class="Symbol">(</a><a id="39931" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="39933" href="SymbolicModel.Mappings.Properties.html#12758" class="Function Operator">∙txoutEnd_</a><a id="39943" class="Symbol">)</a>

            <a id="39958" href="SecureCompilation.Helpers.html#39958" class="Function">pv-txoutΓ</a> <a id="39968" class="Symbol">:</a> <a id="39970" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="39986" class="Symbol">{</a><a id="39987" href="SecureCompilation.Helpers.html#39129" class="Bound">Γ</a><a id="39988" class="Symbol">}</a> <a id="39990" href="SecureCompilation.Helpers.html#39861" class="Function">txoutΓ</a>
            <a id="40009" href="SecureCompilation.Helpers.html#39958" class="Function">pv-txoutΓ</a> <a id="40019" class="Symbol">=</a> <a id="40021" href="SymbolicModel.ValuePreservation.html#2568" class="Function">ValuePreserving-Txout≈</a> <a id="40044" class="Symbol">{</a><a id="40045" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a> <a id="40047" href="SymbolicModel.Accessors.html#597" class="Function Operator">∙cfg</a><a id="40051" class="Symbol">}{</a><a id="40053" href="SecureCompilation.Helpers.html#39129" class="Bound">Γ</a><a id="40054" class="Symbol">}</a> <a id="40056" class="Symbol">(</a><a id="40057" href="SecureCompilation.Helpers.html#39132" class="Bound">R≈</a> <a id="40060" class="Symbol">.</a><a id="40061" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="40066" class="Symbol">)</a> <a id="40068" class="Symbol">(</a><a id="40069" href="SecureCompilation.Helpers.html#2990" class="Bound">𝕣</a> <a id="40071" href="SymbolicModel.Mappings.Properties.html#12758" class="Function Operator">∙txoutEnd_</a><a id="40081" class="Symbol">)</a> <a id="40083" href="SecureCompilation.Helpers.html#39782" class="Bound">pv-txout</a>

            <a id="40105" href="SecureCompilation.Helpers.html#40105" class="Function">txoutΓ′</a> <a id="40113" class="Symbol">:</a> <a id="40115" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="40121" href="SecureCompilation.Helpers.html#39168" class="Function">Γ′</a>
            <a id="40136" href="SecureCompilation.Helpers.html#40105" class="Function">txoutΓ′</a> <a id="40144" class="Symbol">=</a> <a id="40146" href="SecureCompilation.Helpers.html#39861" class="Function">txoutΓ</a>

            <a id="40166" href="SecureCompilation.Helpers.html#40166" class="Function">pv-txoutΓ′</a> <a id="40177" class="Symbol">:</a> <a id="40179" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="40195" class="Symbol">{</a><a id="40196" href="SecureCompilation.Helpers.html#39168" class="Function">Γ′</a><a id="40198" class="Symbol">}</a> <a id="40200" href="SecureCompilation.Helpers.html#40105" class="Function">txoutΓ′</a>
            <a id="40220" href="SecureCompilation.Helpers.html#40166" class="Function">pv-txoutΓ′</a> <a id="40231" class="Symbol">=</a> <a id="40233" href="SecureCompilation.Helpers.html#39958" class="Function">pv-txoutΓ</a>

            <a id="40256" href="SecureCompilation.Helpers.html#40256" class="Function">txoutΓ″</a> <a id="40264" class="Symbol">:</a> <a id="40266" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="40272" href="SecureCompilation.Helpers.html#39270" class="Function">Γ″</a>
            <a id="40287" href="SecureCompilation.Helpers.html#40256" class="Function">txoutΓ″</a> <a id="40295" class="Symbol">=</a> <a id="40297" href="SymbolicModel.Mappings.Properties.html#671" class="Function">Txout≈</a> <a id="40304" class="Symbol">{</a><a id="40305" href="SecureCompilation.Helpers.html#39168" class="Function">Γ′</a><a id="40307" class="Symbol">}{</a><a id="40309" href="SecureCompilation.Helpers.html#39270" class="Function">Γ″</a><a id="40311" class="Symbol">}</a> <a id="40313" class="Symbol">(</a><a id="40314" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="40320" href="SecureCompilation.Helpers.html#39287" class="Function">Γ≈</a><a id="40322" class="Symbol">)</a> <a id="40324" href="SecureCompilation.Helpers.html#40105" class="Function">txoutΓ′</a>

            <a id="40345" href="SecureCompilation.Helpers.html#40345" class="Function">pv-txoutΓ″</a> <a id="40356" class="Symbol">:</a> <a id="40358" href="SymbolicModel.ValuePreservation.html#1000" class="Function">ValuePreserving</a> <a id="40374" class="Symbol">{</a><a id="40375" href="SecureCompilation.Helpers.html#39270" class="Function">Γ″</a><a id="40377" class="Symbol">}</a> <a id="40379" href="SecureCompilation.Helpers.html#40256" class="Function">txoutΓ″</a>
            <a id="40399" href="SecureCompilation.Helpers.html#40345" class="Function">pv-txoutΓ″</a> <a id="40410" class="Symbol">=</a> <a id="40412" href="SymbolicModel.ValuePreservation.html#2568" class="Function">ValuePreserving-Txout≈</a> <a id="40435" class="Symbol">{</a><a id="40436" href="SecureCompilation.Helpers.html#39168" class="Function">Γ′</a><a id="40438" class="Symbol">}</a> <a id="40440" class="Symbol">{</a><a id="40441" href="SecureCompilation.Helpers.html#39270" class="Function">Γ″</a><a id="40443" class="Symbol">}</a> <a id="40445" class="Symbol">(</a><a id="40446" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="40452" href="SecureCompilation.Helpers.html#39287" class="Function">Γ≈</a><a id="40454" class="Symbol">)</a> <a id="40456" href="SecureCompilation.Helpers.html#40105" class="Function">txoutΓ′</a> <a id="40464" href="SecureCompilation.Helpers.html#40166" class="Function">pv-txoutΓ′</a>

            <a id="40488" href="SecureCompilation.Helpers.html#40488" class="Function">pv-txout′</a> <a id="40498" class="Symbol">:</a> <a id="40500" href="SymbolicModel.ValuePreservation.html#3500" class="Function">ValuePreservingʳ</a> <a id="40517" href="SecureCompilation.Helpers.html#39589" class="Function">𝕣′</a>
            <a id="40532" href="SecureCompilation.Helpers.html#40488" class="Function">pv-txout′</a> <a id="40542" href="SecureCompilation.Helpers.html#40542" class="Bound">x∈</a> <a id="40545" class="Symbol">=</a>
              <a id="40561" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
                <a id="40583" class="Symbol">(</a><a id="40584" href="SecureCompilation.Helpers.html#39589" class="Function">𝕣′</a> <a id="40587" href="SymbolicModel.Mappings.Properties.html#12758" class="Function Operator">∙txoutEnd</a> <a id="40597" href="SecureCompilation.Helpers.html#40542" class="Bound">x∈</a><a id="40599" class="Symbol">)</a> <a id="40601" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
              <a id="40622" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="40625" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="40630" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">_∙value</a>
                    <a id="40658" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="40660" href="SymbolicModel.Mappings.Properties.html#9729" class="Function">txout∷∘namesʳ⦅end⦆⊆</a> <a id="40680" class="Symbol">{</a><a id="40681" class="Argument">R</a> <a id="40683" class="Symbol">=</a> <a id="40685" href="SecureCompilation.Helpers.html#2986" class="Bound">R</a><a id="40686" class="Symbol">}</a> <a id="40688" href="SecureCompilation.Helpers.html#39191" class="Bound">Γ→Γ′</a> <a id="40693" class="Symbol">(</a><a id="40694" href="SecureCompilation.Helpers.html#39535" class="Function">R≈′</a> <a id="40698" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="40700" href="SecureCompilation.Helpers.html#39132" class="Bound">R≈</a><a id="40702" class="Symbol">)</a> <a id="40704" href="SecureCompilation.Helpers.html#40105" class="Function">txoutΓ′</a> <a id="40712" href="SymbolicModel.Mappings.Base.html#823" class="Function">txout′</a> <a id="40719" class="Symbol">_</a> <a id="40721" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="40739" class="Symbol">(</a><a id="40740" href="SecureCompilation.Helpers.html#40256" class="Function">txoutΓ″</a> <a id="40748" href="SecureCompilation.Helpers.html#40542" class="Bound">x∈</a><a id="40750" class="Symbol">)</a> <a id="40752" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
              <a id="40773" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="40776" href="SecureCompilation.Helpers.html#40345" class="Function">pv-txoutΓ″</a> <a id="40787" class="Symbol">_</a> <a id="40789" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="40807" class="Symbol">(</a><a id="40808" href="SecureCompilation.Helpers.html#39270" class="Function">Γ″</a> <a id="40811" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="40813" href="SecureCompilation.Helpers.html#40542" class="Bound">x∈</a><a id="40815" class="Symbol">)</a> <a id="40817" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
              <a id="40838" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>
</pre></body></html>