<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Compiler.Subterms</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/formal-bitml-to-bitcoin/tree/master/Compiler/Subterms.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="Prelude.Init.html" class="Module">Prelude.Init</a><a id="25" class="Symbol">;</a> <a id="27" class="Keyword">open</a> <a id="32" href="Prelude.Init.html#504" class="Module">SetAsType</a>
<a id="42" class="Keyword">open</a> <a id="47" class="Keyword">import</a> <a id="54" href="Prelude.Lists.Mappings.html" class="Module">Prelude.Lists.Mappings</a>

<a id="78" class="Keyword">open</a> <a id="83" class="Keyword">import</a> <a id="90" href="BitML.BasicTypes.html" class="Module">BitML.BasicTypes</a> <a id="107" class="Keyword">using</a> <a id="113" class="Symbol">(</a><a id="114" href="BitML.BasicTypes.html#631" class="Record">⋯</a><a id="115" class="Symbol">)</a>

<a id="118" class="Keyword">module</a> <a id="125" href="Compiler.Subterms.html" class="Module">Compiler.Subterms</a> <a id="143" class="Symbol">(</a><a id="144" href="Compiler.Subterms.html#144" class="Bound">⋯</a> <a id="146" class="Symbol">:</a> <a id="148" href="BitML.BasicTypes.html#631" class="Record">⋯</a><a id="149" class="Symbol">)</a> <a id="151" class="Keyword">where</a>

<a id="158" class="Keyword">open</a> <a id="163" class="Keyword">import</a> <a id="170" href="BitML.html" class="Module">BitML</a> <a id="176" href="Compiler.Subterms.html#144" class="Bound">⋯</a>
  <a id="180" class="Keyword">hiding</a> <a id="187" class="Symbol">(</a><a id="188" href="Prelude.Closures.html#5559" class="InductiveConstructor Operator">begin_</a><a id="194" class="Symbol">;</a> <a id="196" href="Prelude.Closures.html#5661" class="InductiveConstructor Operator">_∎</a><a id="198" class="Symbol">)</a>
<a id="200" class="Keyword">open</a> <a id="205" class="Keyword">import</a> <a id="212" href="Compiler.Outputs.html" class="Module">Compiler.Outputs</a> <a id="229" href="Compiler.Subterms.html#144" class="Bound">⋯</a>

<a id="map-↦"></a><a id="232" href="Compiler.Subterms.html#232" class="Function">map-↦</a> <a id="238" class="Symbol">:</a> <a id="240" class="Symbol">∀</a> <a id="242" class="Symbol">{</a><a id="243" href="Compiler.Subterms.html#243" class="Bound">A</a> <a id="245" href="Compiler.Subterms.html#245" class="Bound">B</a> <a id="247" class="Symbol">:</a> <a id="249" href="Agda.Primitive.html#320" class="Primitive">Type</a><a id="253" class="Symbol">}</a> <a id="255" class="Symbol">{</a><a id="256" href="Compiler.Subterms.html#256" class="Bound">C</a> <a id="258" class="Symbol">:</a> <a id="260" href="Compiler.Subterms.html#245" class="Bound">B</a> <a id="262" class="Symbol">→</a> <a id="264" href="Agda.Primitive.html#320" class="Primitive">Type</a><a id="268" class="Symbol">}</a> <a id="270" class="Symbol">{</a><a id="271" href="Compiler.Subterms.html#271" class="Bound">xs</a> <a id="274" class="Symbol">:</a> <a id="276" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="281" href="Compiler.Subterms.html#243" class="Bound">A</a><a id="282" class="Symbol">}</a>
  <a id="286" class="Symbol">→</a> <a id="288" class="Symbol">(</a><a id="289" href="Compiler.Subterms.html#289" class="Bound">f</a> <a id="291" class="Symbol">:</a> <a id="293" href="Compiler.Subterms.html#243" class="Bound">A</a> <a id="295" class="Symbol">→</a> <a id="297" href="Compiler.Subterms.html#245" class="Bound">B</a><a id="298" class="Symbol">)</a>
  <a id="302" class="Symbol">→</a> <a id="304" class="Symbol">(</a><a id="305" href="Compiler.Subterms.html#271" class="Bound">xs</a> <a id="308" href="Prelude.Lists.Mappings.html#654" class="Function Operator">↦′</a> <a id="311" href="Compiler.Subterms.html#256" class="Bound">C</a> <a id="313" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="315" href="Compiler.Subterms.html#289" class="Bound">f</a><a id="316" class="Symbol">)</a>
  <a id="320" class="Symbol">→</a> <a id="322" class="Symbol">(</a><a id="323" href="Data.List.Base.html#1553" class="Function">map</a> <a id="327" href="Compiler.Subterms.html#289" class="Bound">f</a> <a id="329" href="Compiler.Subterms.html#271" class="Bound">xs</a> <a id="332" href="Prelude.Lists.Mappings.html#654" class="Function Operator">↦′</a> <a id="335" href="Compiler.Subterms.html#256" class="Bound">C</a><a id="336" class="Symbol">)</a>
<a id="338" href="Compiler.Subterms.html#232" class="Function">map-↦</a> <a id="344" href="Compiler.Subterms.html#344" class="Bound">f</a> <a id="346" href="Compiler.Subterms.html#346" class="Bound">m</a> <a id="348" href="Compiler.Subterms.html#348" class="Bound">y∈</a>
  <a id="353" class="Keyword">with</a> <a id="358" class="Symbol">_</a> <a id="360" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="362" href="Compiler.Subterms.html#362" class="Bound">x∈</a> <a id="365" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="367" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> ← <a id="374" href="Data.List.Membership.Propositional.Properties.html#3491" class="Function">L.Mem.∈-map⁻</a> <a id="387" href="Compiler.Subterms.html#344" class="Bound">f</a> <a id="389" href="Compiler.Subterms.html#348" class="Bound">y∈</a>
  <a id="394" class="Symbol">=</a> <a id="396" href="Compiler.Subterms.html#346" class="Bound">m</a> <a id="398" href="Compiler.Subterms.html#362" class="Bound">x∈</a>

<a id="map-↦˘"></a><a id="402" href="Compiler.Subterms.html#402" class="Function">map-↦˘</a> <a id="409" class="Symbol">:</a> <a id="411" class="Symbol">∀</a> <a id="413" class="Symbol">{</a><a id="414" href="Compiler.Subterms.html#414" class="Bound">A</a> <a id="416" href="Compiler.Subterms.html#416" class="Bound">B</a> <a id="418" class="Symbol">:</a> <a id="420" href="Agda.Primitive.html#320" class="Primitive">Type</a><a id="424" class="Symbol">}</a> <a id="426" class="Symbol">{</a><a id="427" href="Compiler.Subterms.html#427" class="Bound">C</a> <a id="429" class="Symbol">:</a> <a id="431" href="Compiler.Subterms.html#416" class="Bound">B</a> <a id="433" class="Symbol">→</a> <a id="435" href="Agda.Primitive.html#320" class="Primitive">Type</a><a id="439" class="Symbol">}</a> <a id="441" class="Symbol">{</a><a id="442" href="Compiler.Subterms.html#442" class="Bound">xs</a> <a id="445" class="Symbol">:</a> <a id="447" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="452" href="Compiler.Subterms.html#414" class="Bound">A</a><a id="453" class="Symbol">}</a>
  <a id="457" class="Symbol">→</a> <a id="459" class="Symbol">(</a><a id="460" href="Compiler.Subterms.html#460" class="Bound">f</a> <a id="462" class="Symbol">:</a> <a id="464" href="Compiler.Subterms.html#414" class="Bound">A</a> <a id="466" class="Symbol">→</a> <a id="468" href="Compiler.Subterms.html#416" class="Bound">B</a><a id="469" class="Symbol">)</a>
  <a id="473" class="Symbol">→</a> <a id="475" class="Symbol">(</a><a id="476" href="Data.List.Base.html#1553" class="Function">map</a> <a id="480" href="Compiler.Subterms.html#460" class="Bound">f</a> <a id="482" href="Compiler.Subterms.html#442" class="Bound">xs</a> <a id="485" href="Prelude.Lists.Mappings.html#654" class="Function Operator">↦′</a> <a id="488" href="Compiler.Subterms.html#427" class="Bound">C</a><a id="489" class="Symbol">)</a>
  <a id="493" class="Symbol">→</a> <a id="495" class="Symbol">(</a><a id="496" href="Compiler.Subterms.html#442" class="Bound">xs</a> <a id="499" href="Prelude.Lists.Mappings.html#654" class="Function Operator">↦′</a> <a id="502" href="Compiler.Subterms.html#427" class="Bound">C</a> <a id="504" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="506" href="Compiler.Subterms.html#460" class="Bound">f</a><a id="507" class="Symbol">)</a>
<a id="509" href="Compiler.Subterms.html#402" class="Function">map-↦˘</a> <a id="516" href="Compiler.Subterms.html#516" class="Bound">f</a> <a id="518" class="Symbol">=</a> <a id="520" href="Function.Base.html#1040" class="Function Operator">_∘</a> <a id="523" href="Data.List.Membership.Propositional.Properties.html#3377" class="Function">L.Mem.∈-map⁺</a> <a id="536" href="Compiler.Subterms.html#516" class="Bound">f</a>

<a id="539" class="Comment">-- stipped version of `subterms`</a>

<a id="573" class="Keyword">record</a> <a id="Strip"></a><a id="580" href="Compiler.Subterms.html#580" class="Record">Strip</a> <a id="586" class="Symbol">(</a><a id="587" href="Compiler.Subterms.html#587" class="Bound">A</a> <a id="589" class="Symbol">:</a> <a id="591" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="596" href="Prelude.Init.html#261" class="Generalizable">ℓ</a><a id="597" class="Symbol">)</a> <a id="599" class="Symbol">:</a> <a id="601" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="606" href="Compiler.Subterms.html#596" class="Bound">ℓ</a> <a id="608" class="Keyword">where</a>
  <a id="616" class="Keyword">field</a> <a id="Strip._∗"></a><a id="622" href="Compiler.Subterms.html#622" class="Field Operator">_∗</a> <a id="625" class="Symbol">:</a> <a id="627" href="Algebra.Core.html#484" class="Function">Op₁</a> <a id="631" href="Compiler.Subterms.html#587" class="Bound">A</a>
<a id="633" class="Keyword">open</a> <a id="638" href="Compiler.Subterms.html#580" class="Module">Strip</a> <a id="644" class="Symbol">⦃...⦄</a> <a id="650" class="Keyword">public</a>

<a id="658" class="Keyword">instance</a>
  <a id="Strip-D"></a><a id="669" href="Compiler.Subterms.html#669" class="Function">Strip-D</a> <a id="677" class="Symbol">:</a> <a id="679" href="Compiler.Subterms.html#580" class="Record">Strip</a> <a id="685" href="BitML.Contracts.Types.html#488" class="Datatype">Branch</a>
  <a id="694" href="Compiler.Subterms.html#669" class="Function">Strip-D</a> <a id="702" class="Symbol">.</a><a id="703" href="Compiler.Subterms.html#622" class="Field Operator">_∗</a> <a id="706" class="Symbol">=</a> <a id="708" href="BitML.Contracts.Collections.html#13244" class="Function">removeTopDecorations</a>

<a id="730" class="Comment">{-
open import Prelude.Functor

private variable
  X Y : Type ℓ
  F : ∀ {ℓ} → Type ℓ → Type ℓ

instance
  Strip-List : ⦃ _ : Strip X ⦄ → ⦃ Functor F ⦄ → Strip (F X)
  Strip-List ⦃ sx ⦄ ._∗ = fmap (_∗ ⦃ sx ⦄)

  Strip-×² : ⦃ Strip Y ⦄ → Strip (X × Y)
  Strip-×² ⦃ sy ⦄ ._∗ = map₂ (_∗ ⦃ sy ⦄)
-}</a>
  <a id="Strip-C"></a><a id="1026" href="Compiler.Subterms.html#1026" class="Function">Strip-C</a> <a id="1034" class="Symbol">:</a> <a id="1036" href="Compiler.Subterms.html#580" class="Record">Strip</a> <a id="1042" href="BitML.Contracts.Types.html#502" class="Function">Contract</a>
  <a id="1053" href="Compiler.Subterms.html#1026" class="Function">Strip-C</a> <a id="1061" class="Symbol">.</a><a id="1062" href="Compiler.Subterms.html#622" class="Field Operator">_∗</a> <a id="1065" class="Symbol">=</a> <a id="1067" href="Data.List.Base.html#1553" class="Function">map</a> <a id="1071" href="Compiler.Subterms.html#622" class="Field Operator">_∗</a>

  <a id="Strip-V"></a><a id="1077" href="Compiler.Subterms.html#1077" class="Function">Strip-V</a> <a id="1085" class="Symbol">:</a> <a id="1087" href="Compiler.Subterms.html#580" class="Record">Strip</a> <a id="1093" href="BitML.Contracts.Types.html#556" class="Function">VContracts</a>
  <a id="1106" href="Compiler.Subterms.html#1077" class="Function">Strip-V</a> <a id="1114" class="Symbol">.</a><a id="1115" href="Compiler.Subterms.html#622" class="Field Operator">_∗</a> <a id="1118" class="Symbol">=</a> <a id="1120" href="Data.List.Base.html#1553" class="Function">map</a> <a id="1124" class="Symbol">(</a><a id="1125" href="Prelude.Bifunctor.html#1037" class="Function">map₂</a> <a id="1130" href="Compiler.Subterms.html#622" class="Field Operator">_∗</a><a id="1132" class="Symbol">)</a>
    <a id="1138" class="Keyword">where</a> <a id="1144" class="Keyword">open</a> <a id="1149" class="Keyword">import</a> <a id="1156" href="Prelude.Bifunctor.html" class="Module">Prelude.Bifunctor</a>


<a id="1176" class="Keyword">open</a> <a id="1181" href="BitML.Contracts.html#181" class="Module">Induction</a>
<a id="1191" class="Keyword">module</a> <a id="1198" href="Compiler.Subterms.html#1198" class="Module">_</a> <a id="1200" class="Symbol">{</a><a id="1201" href="Compiler.Subterms.html#1201" class="Bound">X</a><a id="1202" class="Symbol">}</a> <a id="1204" class="Symbol">⦃</a> <a id="1206" href="Compiler.Subterms.html#1206" class="Bound">_</a> <a id="1208" class="Symbol">:</a> <a id="1210" href="BitML.Contracts.Induction.html#1416" class="Record">Toℂ</a> <a id="1214" href="Compiler.Subterms.html#1201" class="Bound">X</a> <a id="1216" class="Symbol">⦄</a> <a id="1218" class="Keyword">where</a>
  <a id="1226" href="Compiler.Subterms.html#1226" class="Function">subterms∗</a> <a id="1236" class="Symbol">:</a> <a id="1238" href="Compiler.Subterms.html#1201" class="Bound">X</a> <a id="1240" class="Symbol">→</a> <a id="1242" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1247" href="BitML.Contracts.Types.html#488" class="Datatype">Branch</a>
  <a id="1256" href="Compiler.Subterms.html#1226" class="Function">subterms∗</a> <a id="1266" class="Symbol">=</a> <a id="1268" href="Compiler.Subterms.html#622" class="Field Operator">_∗</a> <a id="1271" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="1273" href="BitML.Contracts.Subterms.html#647" class="Function">subterms</a>

<a id="1283" class="Keyword">open</a> <a id="1288" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

<a id="1301" class="Keyword">mutual</a>
  <a id="subᵈ"></a><a id="1310" href="Compiler.Subterms.html#1310" class="Function">subᵈ</a> <a id="1315" class="Symbol">:</a> <a id="1317" href="BitML.Contracts.Subterms.html#656" class="Function">subterms⁺</a> <a id="1327" href="BitML.Contracts.Types.html#1222" class="Generalizable">d</a> <a id="1329" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1331" href="BitML.Contracts.Types.html#1222" class="Generalizable">d</a> <a id="1333" href="Compiler.Subterms.html#622" class="Field Operator">∗</a> <a id="1335" class="InductiveConstructor Operator">∷</a> <a id="1337" href="Compiler.Subterms.html#1226" class="Function">subterms∗</a> <a id="1347" href="BitML.Contracts.Types.html#1222" class="Generalizable">d</a>
  <a id="1351" href="Compiler.Subterms.html#1310" class="Function">subᵈ</a> <a id="1356" class="Symbol">{</a><a id="1357" href="Compiler.Subterms.html#1357" class="Bound">d</a><a id="1358" class="Symbol">}</a> <a id="1360" class="Keyword">with</a> <a id="1365" href="Compiler.Subterms.html#1357" class="Bound">d</a>
  <a id="1369" class="Symbol">...</a> <a id="1373" class="Symbol">|</a> <a id="1375" href="BitML.Contracts.Types.html#805" class="InductiveConstructor">withdraw</a> <a id="1384" class="Symbol">_</a>               <a id="1400" class="Symbol">=</a> <a id="1402" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="1409" class="Symbol">...</a> <a id="1413" class="Symbol">|</a> <a id="1415" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">put</a> <a id="1419" class="Symbol">_</a> <a id="1421" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">&amp;reveal</a> <a id="1429" class="Symbol">_</a> <a id="1431" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">if</a> <a id="1434" class="Symbol">_</a> <a id="1436" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">⇒</a> <a id="1438" href="Compiler.Subterms.html#1438" class="Bound">c</a> <a id="1440" class="Symbol">=</a> <a id="1442" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="1447" class="Symbol">(_</a> <a id="1450" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷_</a><a id="1452" class="Symbol">)</a> <a id="1454" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="1456" href="Compiler.Subterms.html#1616" class="Function">subᶜ</a> <a id="1461" class="Symbol">{</a><a id="1462" href="Compiler.Subterms.html#1438" class="Bound">c</a><a id="1463" class="Symbol">}</a>
  <a id="1467" class="Symbol">...</a> <a id="1471" class="Symbol">|</a> <a id="1473" href="BitML.Contracts.Types.html#941" class="InductiveConstructor">split</a> <a id="1479" href="Compiler.Subterms.html#1479" class="Bound">vcs</a>                <a id="1498" class="Symbol">=</a> <a id="1500" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="1505" class="Symbol">(_</a> <a id="1508" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷_</a><a id="1510" class="Symbol">)</a> <a id="1512" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="1514" href="Compiler.Subterms.html#2045" class="Function">subᵛ</a> <a id="1519" class="Symbol">{</a><a id="1520" href="Compiler.Subterms.html#1479" class="Bound">vcs</a><a id="1523" class="Symbol">}</a>
  <a id="1527" class="Symbol">...</a> <a id="1531" class="Symbol">|</a> <a id="1533" class="Symbol">_</a> <a id="1535" href="BitML.Contracts.Types.html#1014" class="InductiveConstructor Operator">∶</a> <a id="1537" href="Compiler.Subterms.html#1537" class="Bound">d</a>                    <a id="1558" class="Symbol">=</a> <a id="1560" href="Compiler.Subterms.html#1310" class="Function">subᵈ</a> <a id="1565" class="Symbol">{</a><a id="1566" href="Compiler.Subterms.html#1537" class="Bound">d</a><a id="1567" class="Symbol">}</a>
  <a id="1571" class="Symbol">...</a> <a id="1575" class="Symbol">|</a> <a id="1577" href="BitML.Contracts.Types.html#1083" class="InductiveConstructor Operator">after</a> <a id="1583" class="Symbol">_</a> <a id="1585" href="BitML.Contracts.Types.html#1083" class="InductiveConstructor Operator">∶</a> <a id="1587" href="Compiler.Subterms.html#1587" class="Bound">d</a>              <a id="1602" class="Symbol">=</a> <a id="1604" href="Compiler.Subterms.html#1310" class="Function">subᵈ</a> <a id="1609" class="Symbol">{</a><a id="1610" href="Compiler.Subterms.html#1587" class="Bound">d</a><a id="1611" class="Symbol">}</a>

  <a id="subᶜ"></a><a id="1616" href="Compiler.Subterms.html#1616" class="Function">subᶜ</a> <a id="1621" class="Symbol">:</a> <a id="1623" href="BitML.Contracts.Subterms.html#656" class="Function">subterms⁺</a> <a id="1633" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a> <a id="1635" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1637" href="Compiler.Subterms.html#1226" class="Function">subterms∗</a> <a id="1647" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a>
  <a id="1651" href="Compiler.Subterms.html#1616" class="Function">subᶜ</a> <a id="1656" class="Symbol">{</a><a id="1657" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="1659" class="Symbol">}</a>    <a id="1664" class="Symbol">=</a> <a id="1666" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="1673" href="Compiler.Subterms.html#1616" class="Function">subᶜ</a> <a id="1678" class="Symbol">{</a><a id="1679" href="Compiler.Subterms.html#1679" class="Bound">d</a> <a id="1681" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1683" href="Compiler.Subterms.html#1683" class="Bound">c</a><a id="1684" class="Symbol">}</a> <a id="1686" class="Symbol">=</a>
    <a id="1692" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
      <a id="1704" href="BitML.Contracts.Subterms.html#656" class="Function">subterms⁺</a> <a id="1714" href="Compiler.Subterms.html#1679" class="Bound">d</a> <a id="1716" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="1719" href="BitML.Contracts.Subterms.html#656" class="Function">subterms⁺</a> <a id="1729" href="Compiler.Subterms.html#1683" class="Bound">c</a>
    <a id="1735" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="1738" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="1743" class="Symbol">(</a><a id="1744" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="1748" class="Symbol">_)</a> <a id="1751" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="1753" href="Compiler.Subterms.html#1310" class="Function">subᵈ</a> <a id="1758" class="Symbol">{</a><a id="1759" href="Compiler.Subterms.html#1679" class="Bound">d</a><a id="1760" class="Symbol">}</a> <a id="1762" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="1770" href="Compiler.Subterms.html#1679" class="Bound">d</a> <a id="1772" href="Compiler.Subterms.html#622" class="Field Operator">∗</a> <a id="1774" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1776" href="Compiler.Subterms.html#1226" class="Function">subterms∗</a> <a id="1786" href="Compiler.Subterms.html#1679" class="Bound">d</a> <a id="1788" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="1791" href="BitML.Contracts.Subterms.html#656" class="Function">subterms⁺</a> <a id="1801" href="Compiler.Subterms.html#1683" class="Bound">c</a>
    <a id="1807" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="1810" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="1815" class="Symbol">((_</a> <a id="1819" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1821" class="Symbol">_)</a> <a id="1824" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="1827" class="Symbol">)</a> <a id="1829" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="1831" href="Compiler.Subterms.html#1616" class="Function">subᶜ</a> <a id="1836" class="Symbol">{</a><a id="1837" href="Compiler.Subterms.html#1683" class="Bound">c</a><a id="1838" class="Symbol">}</a> <a id="1840" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="1848" href="Compiler.Subterms.html#1679" class="Bound">d</a> <a id="1850" href="Compiler.Subterms.html#622" class="Field Operator">∗</a> <a id="1852" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1854" href="Compiler.Subterms.html#1226" class="Function">subterms∗</a> <a id="1864" href="Compiler.Subterms.html#1679" class="Bound">d</a> <a id="1866" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="1869" href="Compiler.Subterms.html#1226" class="Function">subterms∗</a> <a id="1879" href="Compiler.Subterms.html#1683" class="Bound">c</a>
    <a id="1885" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
      <a id="1895" href="Compiler.Subterms.html#1679" class="Bound">d</a> <a id="1897" href="Compiler.Subterms.html#622" class="Field Operator">∗</a> <a id="1899" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="1901" class="Symbol">(</a><a id="1902" href="BitML.Contracts.Subterms.html#647" class="Function">subterms</a> <a id="1911" href="Compiler.Subterms.html#1679" class="Bound">d</a><a id="1912" class="Symbol">)</a> <a id="1914" href="Compiler.Subterms.html#622" class="Field Operator">∗</a> <a id="1916" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="1919" class="Symbol">(</a><a id="1920" href="BitML.Contracts.Subterms.html#647" class="Function">subterms</a> <a id="1929" href="Compiler.Subterms.html#1683" class="Bound">c</a><a id="1930" class="Symbol">)</a> <a id="1932" href="Compiler.Subterms.html#622" class="Field Operator">∗</a>
    <a id="1938" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="1942" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="1947" class="Symbol">(</a><a id="1948" href="Compiler.Subterms.html#1679" class="Bound">d</a> <a id="1950" href="Compiler.Subterms.html#622" class="Field Operator">∗</a> <a id="1952" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷_</a><a id="1954" class="Symbol">)</a> <a id="1956" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="1958" href="Data.List.Properties.html#3094" class="Function">L.map-++-commute</a> <a id="1975" href="Compiler.Subterms.html#622" class="Field Operator">_∗</a> <a id="1978" class="Symbol">(</a><a id="1979" href="BitML.Contracts.Subterms.html#647" class="Function">subterms</a> <a id="1988" href="Compiler.Subterms.html#1679" class="Bound">d</a><a id="1989" class="Symbol">)</a> <a id="1991" class="Symbol">_</a> <a id="1993" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
      <a id="2001" href="Compiler.Subterms.html#1679" class="Bound">d</a> <a id="2003" href="Compiler.Subterms.html#622" class="Field Operator">∗</a> <a id="2005" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2007" class="Symbol">(</a><a id="2008" href="BitML.Contracts.Subterms.html#647" class="Function">subterms</a> <a id="2017" href="Compiler.Subterms.html#1679" class="Bound">d</a> <a id="2019" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="2022" href="BitML.Contracts.Subterms.html#647" class="Function">subterms</a> <a id="2031" href="Compiler.Subterms.html#1683" class="Bound">c</a><a id="2032" class="Symbol">)</a> <a id="2034" href="Compiler.Subterms.html#622" class="Field Operator">∗</a>
    <a id="2040" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

  <a id="subᵛ"></a><a id="2045" href="Compiler.Subterms.html#2045" class="Function">subᵛ</a> <a id="2050" class="Symbol">:</a> <a id="2052" href="BitML.Contracts.Subterms.html#656" class="Function">subterms⁺</a> <a id="2062" href="BitML.Contracts.Types.html#1298" class="Generalizable">vcs</a> <a id="2066" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="2068" href="Compiler.Subterms.html#1226" class="Function">subterms∗</a> <a id="2078" href="BitML.Contracts.Types.html#1298" class="Generalizable">vcs</a>
  <a id="2084" href="Compiler.Subterms.html#2045" class="Function">subᵛ</a> <a id="2089" class="Symbol">{</a><a id="2090" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="2092" class="Symbol">}</a> <a id="2094" class="Symbol">=</a> <a id="2096" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="2103" href="Compiler.Subterms.html#2045" class="Function">subᵛ</a> <a id="2108" class="Symbol">{(</a><a id="2110" href="Compiler.Subterms.html#2110" class="Bound">v</a> <a id="2112" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2114" href="Compiler.Subterms.html#2114" class="Bound">c</a><a id="2115" class="Symbol">)</a> <a id="2117" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2119" href="Compiler.Subterms.html#2119" class="Bound">vcs</a><a id="2122" class="Symbol">}</a> <a id="2124" class="Symbol">=</a>
    <a id="2130" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
      <a id="2142" href="BitML.Contracts.Subterms.html#656" class="Function">subterms⁺</a> <a id="2152" href="Compiler.Subterms.html#2114" class="Bound">c</a> <a id="2154" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="2157" href="BitML.Contracts.Subterms.html#656" class="Function">subterms⁺</a> <a id="2167" href="Compiler.Subterms.html#2119" class="Bound">vcs</a>
    <a id="2175" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="2178" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="2183" class="Symbol">(</a><a id="2184" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="2188" class="Symbol">_)</a> <a id="2191" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="2193" href="Compiler.Subterms.html#1616" class="Function">subᶜ</a> <a id="2198" class="Symbol">{</a><a id="2199" href="Compiler.Subterms.html#2114" class="Bound">c</a><a id="2200" class="Symbol">}</a> <a id="2202" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="2210" href="Compiler.Subterms.html#1226" class="Function">subterms∗</a> <a id="2220" href="Compiler.Subterms.html#2114" class="Bound">c</a> <a id="2222" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="2225" href="BitML.Contracts.Subterms.html#656" class="Function">subterms⁺</a> <a id="2235" href="Compiler.Subterms.html#2119" class="Bound">vcs</a>
    <a id="2243" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="2246" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="2251" class="Symbol">(_</a> <a id="2254" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="2257" class="Symbol">)</a> <a id="2259" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="2261" href="Compiler.Subterms.html#2045" class="Function">subᵛ</a> <a id="2266" class="Symbol">{</a><a id="2267" href="Compiler.Subterms.html#2119" class="Bound">vcs</a><a id="2270" class="Symbol">}</a> <a id="2272" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="2280" href="Compiler.Subterms.html#1226" class="Function">subterms∗</a> <a id="2290" href="Compiler.Subterms.html#2114" class="Bound">c</a> <a id="2292" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="2295" href="Compiler.Subterms.html#1226" class="Function">subterms∗</a> <a id="2305" href="Compiler.Subterms.html#2119" class="Bound">vcs</a>
    <a id="2313" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="2317" href="Data.List.Properties.html#3094" class="Function">L.map-++-commute</a> <a id="2334" href="Compiler.Subterms.html#622" class="Field Operator">_∗</a> <a id="2337" class="Symbol">(</a><a id="2338" href="BitML.Contracts.Subterms.html#647" class="Function">subterms</a> <a id="2347" href="Compiler.Subterms.html#2114" class="Bound">c</a><a id="2348" class="Symbol">)</a> <a id="2350" class="Symbol">_</a> <a id="2352" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
      <a id="2360" class="Symbol">(</a><a id="2361" href="BitML.Contracts.Subterms.html#647" class="Function">subterms</a> <a id="2370" href="Compiler.Subterms.html#2114" class="Bound">c</a> <a id="2372" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="2375" href="BitML.Contracts.Subterms.html#647" class="Function">subterms</a> <a id="2384" href="Compiler.Subterms.html#2119" class="Bound">vcs</a><a id="2387" class="Symbol">)</a> <a id="2389" href="Compiler.Subterms.html#622" class="Field Operator">∗</a>
    <a id="2395" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

<a id="weaken-sub+"></a><a id="2398" href="Compiler.Subterms.html#2398" class="Function">weaken-sub+</a> <a id="2410" class="Symbol">:</a> <a id="2412" class="Symbol">(</a><a id="2413" href="BitML.Contracts.Subterms.html#656" class="Function">subterms⁺</a> <a id="2423" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="2426" href="Prelude.Lists.Mappings.html#654" class="Function Operator">↦′</a> <a id="2429" href="Compiler.Outputs.html#504" class="Function">BranchTx</a><a id="2437" class="Symbol">)</a>
            <a id="2451" class="Symbol">→</a> <a id="2453" class="Symbol">(</a><a id="2454" href="Compiler.Subterms.html#1226" class="Function">subterms∗</a> <a id="2464" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="2467" href="Prelude.Lists.Mappings.html#654" class="Function Operator">↦′</a> <a id="2470" href="Compiler.Outputs.html#504" class="Function">BranchTx</a><a id="2478" class="Symbol">)</a>
<a id="2480" href="Compiler.Subterms.html#2398" class="Function">weaken-sub+</a> <a id="2492" class="Symbol">{</a><a id="2493" href="BitML.Contracts.Types.html#2313" class="InductiveConstructor Operator">⟨</a> <a id="2495" class="Symbol">_</a> <a id="2497" href="BitML.Contracts.Types.html#2313" class="InductiveConstructor Operator">⟩</a> <a id="2499" href="Compiler.Subterms.html#2499" class="Bound">c</a><a id="2500" class="Symbol">}</a> <a id="2502" class="Symbol">=</a> <a id="2504" href="Relation.Binary.PropositionalEquality.Core.html#1789" class="Function">subst</a> <a id="2510" class="Symbol">(</a><a id="2511" href="Prelude.Lists.Mappings.html#654" class="Function Operator">_↦′</a> <a id="2515" href="Compiler.Outputs.html#504" class="Function">BranchTx</a><a id="2523" class="Symbol">)</a> <a id="2525" class="Symbol">(</a><a id="2526" href="Compiler.Subterms.html#1616" class="Function">subᶜ</a> <a id="2531" class="Symbol">{</a><a id="2532" href="Compiler.Subterms.html#2499" class="Bound">c</a><a id="2533" class="Symbol">})</a>

<a id="weaken-sub∗"></a><a id="2537" href="Compiler.Subterms.html#2537" class="Function">weaken-sub∗</a> <a id="2549" class="Symbol">:</a> <a id="2551" class="Symbol">(</a><a id="2552" href="Compiler.Subterms.html#1226" class="Function">subterms∗</a> <a id="2562" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="2565" href="Prelude.Lists.Mappings.html#654" class="Function Operator">↦′</a> <a id="2568" href="Compiler.Outputs.html#504" class="Function">BranchTx</a><a id="2576" class="Symbol">)</a>
            <a id="2590" class="Symbol">→</a> <a id="2592" class="Symbol">(</a><a id="2593" href="BitML.Contracts.Subterms.html#647" class="Function">subterms</a>  <a id="2603" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="2606" href="Prelude.Lists.Mappings.html#654" class="Function Operator">↦′</a> <a id="2609" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="2618" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="2620" href="Compiler.Subterms.html#622" class="Field Operator">_∗</a><a id="2622" class="Symbol">)</a>
<a id="2624" href="Compiler.Subterms.html#2537" class="Function">weaken-sub∗</a> <a id="2636" class="Symbol">=</a> <a id="2638" href="Compiler.Subterms.html#402" class="Function">map-↦˘</a> <a id="2645" href="Compiler.Subterms.html#622" class="Field Operator">_∗</a>

<a id="weaken-sub"></a><a id="2649" href="Compiler.Subterms.html#2649" class="Function">weaken-sub</a> <a id="2660" class="Symbol">:</a> <a id="2662" class="Symbol">(</a><a id="2663" href="BitML.Contracts.Subterms.html#656" class="Function">subterms⁺</a> <a id="2673" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="2676" href="Prelude.Lists.Mappings.html#654" class="Function Operator">↦′</a> <a id="2679" href="Compiler.Outputs.html#504" class="Function">BranchTx</a><a id="2687" class="Symbol">)</a>
           <a id="2700" class="Symbol">→</a> <a id="2702" class="Symbol">(</a><a id="2703" href="BitML.Contracts.Subterms.html#647" class="Function">subterms</a>  <a id="2713" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a> <a id="2716" href="Prelude.Lists.Mappings.html#654" class="Function Operator">↦′</a> <a id="2719" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="2728" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="2730" href="Compiler.Subterms.html#622" class="Field Operator">_∗</a><a id="2732" class="Symbol">)</a>
<a id="2734" href="Compiler.Subterms.html#2649" class="Function">weaken-sub</a> <a id="2745" class="Symbol">{</a><a id="2746" href="Compiler.Subterms.html#2746" class="Bound">ad</a><a id="2748" class="Symbol">}</a> <a id="2750" class="Symbol">=</a> <a id="2752" href="Compiler.Subterms.html#2537" class="Function">weaken-sub∗</a> <a id="2764" class="Symbol">{</a><a id="2765" href="Compiler.Subterms.html#2746" class="Bound">ad</a><a id="2767" class="Symbol">}</a> <a id="2769" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="2771" href="Compiler.Subterms.html#2398" class="Function">weaken-sub+</a> <a id="2783" class="Symbol">{</a><a id="2784" href="Compiler.Subterms.html#2746" class="Bound">ad</a><a id="2786" class="Symbol">}</a>
</pre></body></html>