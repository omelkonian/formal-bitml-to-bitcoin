<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Coherence.Hypotheses</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/formal-bitml-to-bitcoin/tree/master/Coherence/Hypotheses.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="Prelude.Init.html" class="Module">Prelude.Init</a> <a id="26" class="Keyword">hiding</a> <a id="33" class="Symbol">(</a><a id="34" href="Data.Bool.Base.html#1460" class="Function">T</a><a id="35" class="Symbol">);</a> <a id="38" class="Keyword">open</a> <a id="43" href="Prelude.Init.html#504" class="Module">SetAsType</a>
<a id="53" class="Keyword">open</a> <a id="58" href="Prelude.Init.html#7254" class="Module">L.Mem</a>
<a id="64" class="Keyword">open</a> <a id="69" class="Keyword">import</a> <a id="76" href="Prelude.Membership.html" class="Module">Prelude.Membership</a> <a id="95" class="Keyword">using</a> <a id="101" class="Symbol">(</a><a id="102" href="Prelude.Membership.html#455" class="Field Operator">_∈?_</a><a id="106" class="Symbol">;</a> <a id="108" href="Prelude.Membership.html#613" class="Function Operator">_∉?_</a><a id="112" class="Symbol">)</a>
<a id="114" class="Keyword">open</a> <a id="119" class="Keyword">import</a> <a id="126" href="Prelude.Membership.Patterns.html" class="Module">Prelude.Membership.Patterns</a>
<a id="154" class="Keyword">open</a> <a id="159" class="Keyword">import</a> <a id="166" href="Prelude.Lists.html" class="Module">Prelude.Lists</a>
<a id="180" class="Keyword">open</a> <a id="185" class="Keyword">import</a> <a id="192" href="Prelude.Lists.Collections.html" class="Module">Prelude.Lists.Collections</a>
<a id="218" class="Keyword">open</a> <a id="223" class="Keyword">import</a> <a id="230" href="Prelude.Lists.Dec.html" class="Module">Prelude.Lists.Dec</a>
<a id="248" class="Keyword">open</a> <a id="253" class="Keyword">import</a> <a id="260" href="Prelude.General.html" class="Module">Prelude.General</a>
<a id="276" class="Keyword">open</a> <a id="281" class="Keyword">import</a> <a id="288" href="Prelude.InferenceRules.html" class="Module">Prelude.InferenceRules</a>
<a id="311" class="Keyword">open</a> <a id="316" class="Keyword">import</a> <a id="323" href="Prelude.Lists.Dec.html" class="Module">Prelude.Lists.Dec</a>
<a id="341" class="Keyword">open</a> <a id="346" class="Keyword">import</a> <a id="353" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="367" class="Keyword">open</a> <a id="372" class="Keyword">import</a> <a id="379" href="Prelude.Ord.html" class="Module">Prelude.Ord</a>
<a id="391" class="Keyword">open</a> <a id="396" class="Keyword">import</a> <a id="403" href="Prelude.Traces.html" class="Module">Prelude.Traces</a>
<a id="418" class="Keyword">open</a> <a id="423" class="Keyword">import</a> <a id="430" href="Prelude.Null.html" class="Module">Prelude.Null</a>
<a id="443" class="Keyword">open</a> <a id="448" class="Keyword">import</a> <a id="455" href="Prelude.Setoid.html" class="Module">Prelude.Setoid</a>
<a id="470" class="Keyword">open</a> <a id="475" class="Keyword">import</a> <a id="482" href="Prelude.Nary.html" class="Module">Prelude.Nary</a>
<a id="495" class="Keyword">open</a> <a id="500" class="Keyword">import</a> <a id="507" href="Prelude.ToList.html" class="Module">Prelude.ToList</a>
<a id="522" class="Keyword">open</a> <a id="527" class="Keyword">import</a> <a id="534" href="Prelude.Functor.html" class="Module">Prelude.Functor</a>
<a id="550" class="Keyword">open</a> <a id="555" class="Keyword">import</a> <a id="562" href="Prelude.Decidable.html" class="Module">Prelude.Decidable</a>
<a id="580" class="Keyword">open</a> <a id="585" class="Keyword">import</a> <a id="592" href="Prelude.Num.html" class="Module">Prelude.Num</a>

<a id="605" class="Keyword">open</a> <a id="610" class="Keyword">import</a> <a id="617" href="SecureCompilation.ModuleParameters.html" class="Module">SecureCompilation.ModuleParameters</a> <a id="652" class="Keyword">using</a> <a id="658" class="Symbol">(</a><a id="659" href="SecureCompilation.ModuleParameters.html#209" class="Record">⋯</a><a id="660" class="Symbol">)</a>
<a id="662" class="Keyword">module</a> <a id="669" href="Coherence.Hypotheses.html" class="Module">Coherence.Hypotheses</a> <a id="690" class="Symbol">(</a><a id="691" href="Coherence.Hypotheses.html#691" class="Bound">⋯</a> <a id="693" class="Symbol">:</a> <a id="695" href="SecureCompilation.ModuleParameters.html#209" class="Record">⋯</a><a id="696" class="Symbol">)</a> <a id="698" class="Symbol">(</a><a id="699" class="Keyword">open</a> <a id="704" href="SecureCompilation.ModuleParameters.html#209" class="Module">⋯</a> <a id="706" href="Coherence.Hypotheses.html#691" class="Bound">⋯</a><a id="707" class="Symbol">)</a> <a id="709" class="Keyword">where</a>

<a id="716" class="Keyword">open</a> <a id="721" class="Keyword">import</a> <a id="728" href="SymbolicModel.html" class="Module">SymbolicModel</a> <a id="742" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a> as <a id="S"></a><a id="748" href="Coherence.Hypotheses.html#748" class="Module">S</a>
  <a id="752" class="Keyword">hiding</a> <a id="759" class="Symbol">(</a> <a id="761" href="Prelude.Closures.html#5661" class="InductiveConstructor Operator">_∎</a><a id="763" class="Symbol">;</a> <a id="765" href="Prelude.Closures.html#5559" class="InductiveConstructor Operator">begin_</a>
         <a id="781" class="Comment">{-variables-}</a>
         <a id="804" class="Symbol">;</a> <a id="806" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Γ₀</a><a id="808" class="Symbol">;</a> <a id="810" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a><a id="811" class="Symbol">;</a> <a id="813" href="BitML.Semantics.Configurations.Types.html#1140" class="Generalizable">Γ′</a><a id="815" class="Symbol">;</a> <a id="817" href="BitML.Semantics.Configurations.Types.html#1143" class="Generalizable">Γ″</a><a id="819" class="Symbol">;</a> <a id="821" href="BitML.Semantics.Configurations.Types.html#1456" class="Generalizable">Γₜ</a><a id="823" class="Symbol">;</a> <a id="825" href="BitML.Semantics.Configurations.Types.html#1459" class="Generalizable">Γₜ′</a><a id="828" class="Symbol">;</a> <a id="830" href="BitML.Semantics.Configurations.Types.html#1463" class="Generalizable">Γₜ″</a><a id="833" class="Symbol">;</a> <a id="835" href="BitML.Semantics.Configurations.Types.html#1157" class="Generalizable">Δ</a>
         <a id="846" class="Symbol">;</a> <a id="848" href="SymbolicModel.Run.Base.html#431" class="Generalizable">R</a><a id="849" class="Symbol">;</a> <a id="851" href="SymbolicModel.Run.Base.html#433" class="Generalizable">R′</a><a id="853" class="Symbol">;</a> <a id="855" href="SymbolicModel.Run.Base.html#439" class="Generalizable">Rˢ</a><a id="857" class="Symbol">;</a> <a id="859" href="SymbolicModel.Run.Base.html#442" class="Generalizable">Rˢ′</a>
         <a id="872" class="Symbol">;</a> <a id="874" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a><a id="875" class="Symbol">;</a> <a id="877" href="BitML.Contracts.Types.html#373" class="Generalizable">B</a><a id="878" class="Symbol">;</a> <a id="880" href="BitML.Contracts.Types.html#378" class="Generalizable">B′</a>
         <a id="892" class="Symbol">;</a> <a id="894" href="BitML.Contracts.Types.html#2330" class="Field">G</a><a id="895" class="Symbol">;</a> <a id="897" href="BitML.Contracts.Types.html#2351" class="Field">C</a>
         <a id="908" class="Symbol">;</a> <a id="910" href="BitML.BasicTypes.html#578" class="Generalizable">t</a><a id="911" class="Symbol">;</a> <a id="913" href="BitML.BasicTypes.html#582" class="Generalizable">t′</a><a id="915" class="Symbol">;</a> <a id="917" href="BitML.BasicTypes.html#580" class="Generalizable">δ</a><a id="918" class="Symbol">;</a> <a id="920" href="BitML.BasicTypes.html#434" class="Generalizable">n</a>
         <a id="931" class="Symbol">;</a> <a id="933" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a><a id="935" class="Symbol">;</a> <a id="937" href="BitML.Contracts.Types.html#2159" class="Generalizable">g</a><a id="938" class="Symbol">;</a> <a id="940" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a><a id="941" class="Symbol">;</a> <a id="943" href="BitML.Contracts.Types.html#1254" class="Generalizable">c′</a><a id="945" class="Symbol">;</a> <a id="947" href="BitML.Contracts.Types.html#1273" class="Generalizable">cs</a><a id="949" class="Symbol">;</a> <a id="951" href="BitML.Contracts.Types.html#1241" class="Generalizable">ds</a><a id="953" class="Symbol">;</a> <a id="955" href="BitML.Contracts.Types.html#1222" class="Generalizable">d</a><a id="956" class="Symbol">;</a> <a id="958" href="BitML.Contracts.Types.html#1298" class="Generalizable">vcs</a>
         <a id="971" class="Symbol">;</a> <a id="973" href="BitML.BasicTypes.html#527" class="Generalizable">x</a><a id="974" class="Symbol">;</a> <a id="976" href="BitML.BasicTypes.html#533" class="Generalizable">x′</a><a id="978" class="Symbol">;</a> <a id="980" href="BitML.BasicTypes.html#529" class="Generalizable">y</a><a id="981" class="Symbol">;</a> <a id="983" href="BitML.BasicTypes.html#536" class="Generalizable">y′</a><a id="985" class="Symbol">;</a> <a id="987" href="BitML.BasicTypes.html#531" class="Generalizable">z</a><a id="988" class="Symbol">;</a> <a id="990" href="BitML.BasicTypes.html#558" class="Generalizable">xs</a>
         <a id="1002" class="Symbol">;</a> <a id="1004" href="BitML.BasicTypes.html#484" class="Generalizable">a</a><a id="1005" class="Symbol">;</a> <a id="1007" href="BitML.BasicTypes.html#503" class="Generalizable">as</a>
         <a id="1019" class="Symbol">;</a> <a id="1021" href="BitML.BasicTypes.html#443" class="Generalizable">v</a><a id="1022" class="Symbol">;</a> <a id="1024" href="BitML.BasicTypes.html#445" class="Generalizable">v′</a><a id="1026" class="Symbol">;</a> <a id="1028" href="BitML.BasicTypes.html#461" class="Generalizable">vs</a>
         <a id="1040" class="Symbol">;</a> <a id="1042" href="BitML.Semantics.Label.html#1651" class="Generalizable">α</a><a id="1043" class="Symbol">;</a> <a id="1045" href="BitML.Predicate.html#747" class="Generalizable">p</a>
         <a id="1056" class="Symbol">)</a>
<a id="1058" class="Keyword">open</a> <a id="1063" class="Keyword">import</a> <a id="1070" href="ComputationalModel.html" class="Module">ComputationalModel</a> <a id="1089" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a> <a id="1092" href="SecureCompilation.ModuleParameters.html#450" class="Field">finPart</a> <a id="1100" href="SecureCompilation.ModuleParameters.html#487" class="Field">keypairs</a>
  <a id="1111" class="Keyword">hiding</a> <a id="1118" class="Symbol">(</a> <a id="1120" href="Bitcoin.Script.Base.html#821" class="InductiveConstructor">`</a><a id="1121" class="Symbol">;</a> <a id="1123" href="Bitcoin.Script.Base.html#1071" class="InductiveConstructor Operator">∣_∣</a><a id="1126" class="Symbol">;</a> <a id="1128" href="Bitcoin.Script.Base.html#1594" class="Function Operator">_`∧_</a><a id="1132" class="Symbol">;</a> <a id="1134" href="Bitcoin.Script.Base.html#1693" class="Function Operator">_`∨_</a><a id="1138" class="Symbol">;</a> <a id="1140" href="Bitcoin.Script.Base.html#893" class="InductiveConstructor Operator">_`=_</a><a id="1144" class="Symbol">;</a> <a id="1146" href="Bitcoin.Script.Base.html#898" class="InductiveConstructor Operator">_`&lt;_</a><a id="1150" class="Symbol">;</a> <a id="1152" href="Bitcoin.Script.Base.html#1549" class="Function">`true</a><a id="1157" class="Symbol">;</a> <a id="1159" href="Bitcoin.Consistency.html#3086" class="InductiveConstructor">∎</a>
         <a id="1170" class="Symbol">;</a> <a id="1172" href="ComputationalModel.Run.html#1309" class="Function">Run</a><a id="1175" class="Symbol">;</a> <a id="1177" href="Bitcoin.BasicTypes.html#293" class="Function">Time</a><a id="1181" class="Symbol">;</a> <a id="1183" href="Bitcoin.BasicTypes.html#260" class="Function">Value</a><a id="1188" class="Symbol">;</a> <a id="1190" href="ComputationalModel.Run.html#1251" class="Function">DecEq-Label</a>
         <a id="1211" class="Comment">{-variables-}</a>
         <a id="1234" class="Symbol">;</a> <a id="1236" href="ComputationalModel.Run.html#1378" class="Generalizable">R</a><a id="1237" class="Symbol">;</a> <a id="1239" href="ComputationalModel.Run.html#1380" class="Generalizable">R′</a><a id="1241" class="Symbol">;</a> <a id="1243" href="ComputationalModel.Run.html#1383" class="Generalizable">R″</a><a id="1245" class="Symbol">;</a> <a id="1247" href="ComputationalModel.Run.html#4351" class="Generalizable">Rᶜ</a>
         <a id="1259" class="Symbol">;</a> <a id="1261" href="Bitcoin.Script.Semantics.html#843" class="Field">tx</a><a id="1263" class="Symbol">;</a> <a id="1265" href="Bitcoin.Tx.Base.html#2058" class="Generalizable">i</a><a id="1266" class="Symbol">;</a> <a id="1268" href="Bitcoin.BasicTypes.html#429" class="Generalizable">t</a><a id="1269" class="Symbol">;</a> <a id="1271" href="Bitcoin.BasicTypes.html#431" class="Generalizable">t′</a><a id="1273" class="Symbol">;</a> <a id="1275" href="Bitcoin.BasicTypes.html#418" class="Generalizable">n</a><a id="1276" class="Symbol">;</a> <a id="1278" href="ComputationalModel.Run.html#1361" class="Generalizable">m</a><a id="1279" class="Symbol">;</a> <a id="1281" href="ComputationalModel.Run.html#1363" class="Generalizable">m′</a><a id="1283" class="Symbol">;</a> <a id="1285" href="ComputationalModel.Run.html#1394" class="Generalizable">λᶜ</a>
         <a id="1297" class="Symbol">)</a>
  <a id="1301" class="Keyword">renaming</a> <a id="1310" class="Symbol">(</a><a id="1311" href="ComputationalModel.Run.html#913" class="Datatype">Label</a> <a id="1317" class="Symbol">to</a> <a id="1320" class="Datatype">CLabel</a><a id="1326" class="Symbol">;</a> <a id="1328" href="ComputationalModel.Run.html#1329" class="Function">Labels</a> <a id="1335" class="Symbol">to</a> <a id="1338" class="Function">CLabels</a><a id="1345" class="Symbol">)</a>
<a id="1347" class="Keyword">open</a> <a id="1352" class="Keyword">import</a> <a id="1359" href="Compiler.html" class="Module">Compiler</a> <a id="1368" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a> <a id="1371" href="SecureCompilation.ModuleParameters.html#357" class="Field">η</a>
<a id="1373" class="Keyword">open</a> <a id="1378" class="Keyword">import</a> <a id="1385" href="Coherence.ComputationalContracts.html" class="Module">Coherence.ComputationalContracts</a> <a id="1418" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a>
<a id="1421" class="Keyword">open</a> <a id="1426" class="Keyword">import</a> <a id="1433" href="Coherence.Helpers.html" class="Module">Coherence.Helpers</a> <a id="1451" href="Coherence.Hypotheses.html#691" class="Bound">⋯</a>

<a id="1454" class="Comment">-- shorthands</a>
<a id="StepRel"></a><a id="1468" href="Coherence.Hypotheses.html#1468" class="Function">StepRel</a> <a id="1476" class="Symbol">:</a> <a id="1478" href="Agda.Primitive.html#320" class="Primitive">Type₁</a>
<a id="1484" href="Coherence.Hypotheses.html#1468" class="Function">StepRel</a> <a id="1492" class="Symbol">=</a> <a id="1494" class="Symbol">(</a><a id="1495" href="Coherence.Hypotheses.html#1495" class="Bound">Γₜ</a> <a id="1498" class="Symbol">:</a> <a id="1500" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a><a id="1504" class="Symbol">)</a> <a id="1506" class="Symbol">{</a><a id="1507" href="Coherence.Hypotheses.html#1507" class="Bound">Rˢ</a> <a id="1510" class="Symbol">:</a> <a id="1512" href="SymbolicModel.Run.Base.html#404" class="Function">S.Run</a><a id="1517" class="Symbol">}</a>
        <a id="1527" class="Symbol">→</a> <a id="1529" href="SymbolicModel.Mappings.html#1658" class="Datatype">ℝ∗</a> <a id="1532" href="Coherence.Hypotheses.html#1507" class="Bound">Rˢ</a>
        <a id="1543" class="Symbol">→</a> <a id="1545" href="SymbolicModel.Mappings.html#1577" class="Function">𝕃</a> <a id="1547" href="Coherence.Hypotheses.html#1507" class="Bound">Rˢ</a> <a id="1550" href="Coherence.Hypotheses.html#1495" class="Bound">Γₜ</a>
        <a id="1561" class="Symbol">→</a> <a id="1563" href="Coherence.Hypotheses.html#1320" class="Datatype">CLabel</a>
        <a id="1578" class="Symbol">→</a> <a id="1580" href="ComputationalModel.Run.html#4253" class="Datatype">CRun</a>
        <a id="1593" class="Symbol">→</a> <a id="1595" href="Agda.Primitive.html#320" class="Primitive">Type</a>

<a id="1601" class="Keyword">record</a> <a id="Transition"></a><a id="1608" href="Coherence.Hypotheses.html#1608" class="Record">Transition</a> <a id="1619" class="Symbol">:</a> <a id="1621" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="1626" class="Keyword">where</a>
  <a id="1634" class="Keyword">constructor</a> <a id="_⨾_——_—→_⨾_⊣_"></a><a id="1646" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">_⨾_——_—→_⨾_⊣_</a>
  <a id="1662" class="Keyword">field</a>
    <a id="Transition.Γ"></a><a id="1672" href="Coherence.Hypotheses.html#1672" class="Field">Γ</a>  <a id="1675" class="Symbol">:</a> <a id="1677" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a>
    <a id="Transition.t"></a><a id="1685" href="Coherence.Hypotheses.html#1685" class="Field">t</a>  <a id="1688" class="Symbol">:</a> <a id="1690" href="BitML.BasicTypes.html#413" class="Function">Time</a>
    <a id="Transition.α"></a><a id="1699" href="Coherence.Hypotheses.html#1699" class="Field">α</a>  <a id="1702" class="Symbol">:</a> <a id="1704" href="BitML.Semantics.Label.html#459" class="Datatype">Label</a>
    <a id="Transition.Γ′"></a><a id="1714" href="Coherence.Hypotheses.html#1714" class="Field">Γ′</a> <a id="1717" class="Symbol">:</a> <a id="1719" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a>
    <a id="Transition.t′"></a><a id="1727" href="Coherence.Hypotheses.html#1727" class="Field">t′</a> <a id="1730" class="Symbol">:</a> <a id="1732" href="BitML.BasicTypes.html#413" class="Function">Time</a>
  <a id="Transition.Γₜ"></a><a id="1739" href="Coherence.Hypotheses.html#1739" class="Function">Γₜ</a>  <a id="1743" class="Symbol">=</a> <a id="1745" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a> <a id="1750" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="1752" href="Coherence.Hypotheses.html#1672" class="Field">Γ</a> <a id="1754" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="1757" href="Coherence.Hypotheses.html#1685" class="Field">t</a>
  <a id="Transition.Γₜ′"></a><a id="1761" href="Coherence.Hypotheses.html#1761" class="Function">Γₜ′</a> <a id="1765" class="Symbol">=</a> <a id="1767" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a> <a id="1772" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="1774" href="Coherence.Hypotheses.html#1714" class="Field">Γ′</a> <a id="1777" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="1780" href="Coherence.Hypotheses.html#1727" class="Field">t′</a>
  <a id="1785" class="Keyword">field</a>
    <a id="Transition.Γ→"></a><a id="1795" href="Coherence.Hypotheses.html#1795" class="Field">Γ→</a> <a id="1798" class="Symbol">:</a> <a id="1800" href="Coherence.Hypotheses.html#1739" class="Function">Γₜ</a> <a id="1803" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="1806" href="Coherence.Hypotheses.html#1699" class="Field">α</a> <a id="1808" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="1812" href="Coherence.Hypotheses.html#1761" class="Function">Γₜ′</a>

<a id="1817" class="Keyword">record</a> <a id="ℍ-Run"></a><a id="1824" href="Coherence.Hypotheses.html#1824" class="Record">ℍ-Run</a> <a id="1830" class="Symbol">{</a><a id="1831" href="Coherence.Hypotheses.html#1831" class="Bound">Γₜ</a> <a id="1834" href="Coherence.Hypotheses.html#1834" class="Bound">α</a> <a id="1836" href="Coherence.Hypotheses.html#1836" class="Bound">Γₜ′</a><a id="1839" class="Symbol">}</a> <a id="1841" class="Symbol">(</a><a id="1842" href="Coherence.Hypotheses.html#1842" class="Bound">Γ→</a> <a id="1845" class="Symbol">:</a> <a id="1847" href="Coherence.Hypotheses.html#1831" class="Bound">Γₜ</a> <a id="1850" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="1853" href="Coherence.Hypotheses.html#1834" class="Bound">α</a> <a id="1855" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="1859" href="Coherence.Hypotheses.html#1836" class="Bound">Γₜ′</a><a id="1862" class="Symbol">)</a> <a id="1864" class="Symbol">:</a> <a id="1866" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="1871" class="Keyword">where</a>
  <a id="1879" class="Keyword">constructor</a> <a id="_⨾_⨾_⊣_≈_⊣_"></a><a id="1891" href="Coherence.Hypotheses.html#1891" class="InductiveConstructor Operator">_⨾_⨾_⊣_≈_⊣_</a>
  <a id="1905" class="Keyword">private</a> <a id="ℍ-Run.Γ′"></a><a id="1913" href="Coherence.Hypotheses.html#1913" class="Function">Γ′</a> <a id="1916" class="Symbol">=</a> <a id="1918" href="Coherence.Hypotheses.html#1836" class="Bound">Γₜ′</a> <a id="1922" class="Symbol">.</a><a id="1923" href="BitML.Semantics.Configurations.Types.html#1335" class="Field">cfg</a><a id="1926" class="Symbol">;</a> <a id="ℍ-Run.t′"></a><a id="1928" href="Coherence.Hypotheses.html#1928" class="Function">t′</a> <a id="1931" class="Symbol">=</a> <a id="1933" href="Coherence.Hypotheses.html#1836" class="Bound">Γₜ′</a> <a id="1937" class="Symbol">.</a><a id="1938" href="BitML.Semantics.Configurations.Types.html#1354" class="Field">time</a>
  <a id="1945" class="Keyword">field</a>
    <a id="ℍ-Run.Rᶜ"></a><a id="1955" href="Coherence.Hypotheses.html#1955" class="Field">Rᶜ</a> <a id="1958" class="Symbol">:</a> <a id="1960" href="ComputationalModel.Run.html#4253" class="Datatype">CRun</a>
    <a id="ℍ-Run.Rˢ"></a><a id="1969" href="Coherence.Hypotheses.html#1969" class="Field">Rˢ</a> <a id="1972" class="Symbol">:</a> <a id="1974" href="SymbolicModel.Run.Base.html#404" class="Function">Run</a>
    <a id="ℍ-Run.𝕣∗"></a><a id="1982" href="Coherence.Hypotheses.html#1982" class="Field">𝕣∗</a> <a id="1985" class="Symbol">:</a> <a id="1987" href="SymbolicModel.Mappings.html#1658" class="Datatype">ℝ∗</a> <a id="1990" href="Coherence.Hypotheses.html#1969" class="Field">Rˢ</a>
    <a id="ℍ-Run.R≈"></a><a id="1997" href="Coherence.Hypotheses.html#1997" class="Field">R≈</a> <a id="2000" class="Symbol">:</a> <a id="2002" href="Coherence.Hypotheses.html#1969" class="Field">Rˢ</a> <a id="2005" href="SymbolicModel.Run.Base.html#1539" class="Function Operator">≈⋯</a> <a id="2008" href="Coherence.Hypotheses.html#1831" class="Bound">Γₜ</a>
    <a id="ℍ-Run.Γ″"></a><a id="2015" href="Coherence.Hypotheses.html#2015" class="Field">Γ″</a> <a id="2018" class="Symbol">:</a> <a id="2020" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a>
    <a id="ℍ-Run.Γ≈"></a><a id="2028" href="Coherence.Hypotheses.html#2028" class="Field">Γ≈</a> <a id="2031" class="Symbol">:</a> <a id="2033" href="Coherence.Hypotheses.html#2015" class="Field">Γ″</a> <a id="2036" href="Prelude.Setoid.Core.html#191" class="Field Operator">≈</a> <a id="2038" href="Coherence.Hypotheses.html#1913" class="Function">Γ′</a>
  <a id="ℍ-Run.Γₜ″"></a><a id="2043" href="Coherence.Hypotheses.html#2043" class="Function">Γₜ″</a> <a id="2047" class="Symbol">=</a> <a id="2049" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a> <a id="2054" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="2056" href="Coherence.Hypotheses.html#2015" class="Field">Γ″</a> <a id="2059" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="2062" href="Coherence.Hypotheses.html#1928" class="Function">t′</a>
  <a id="ℍ-Run.∃Γ≈"></a><a id="2067" href="Coherence.Hypotheses.html#2067" class="Function">∃Γ≈</a> <a id="2071" class="Symbol">=</a> <a id="2073" href="Data.Product.html#1378" class="Function">∃</a> <a id="2075" class="Symbol">(</a><a id="2076" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="2079" href="Coherence.Hypotheses.html#1913" class="Function">Γ′</a><a id="2081" class="Symbol">)</a> <a id="2083" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="2085" href="Coherence.Hypotheses.html#2015" class="Field">Γ″</a> <a id="2088" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2090" href="Coherence.Hypotheses.html#2028" class="Field">Γ≈</a>
  <a id="ℍ-Run.𝕣"></a><a id="2095" href="Coherence.Hypotheses.html#2095" class="Function">𝕣</a>   <a id="2099" class="Symbol">=</a> <a id="2101" href="SymbolicModel.Mappings.html#6116" class="Function">ℝ∗⇒ℝ</a> <a id="2106" href="Coherence.Hypotheses.html#1982" class="Field">𝕣∗</a>
  <a id="2111" class="Keyword">open</a> <a id="2116" href="SymbolicModel.Mappings.html#958" class="Module">ℝ</a> <a id="2118" href="Coherence.Hypotheses.html#2095" class="Function">𝕣</a> <a id="2120" class="Keyword">public</a>
  <a id="ℍ-Run.𝕒"></a><a id="2129" href="Coherence.Hypotheses.html#2129" class="Function">𝕒</a> <a id="2131" class="Symbol">:</a> <a id="2133" href="SymbolicModel.Run.Base.html#2637" class="Function">𝔸</a> <a id="2135" href="Coherence.Hypotheses.html#1969" class="Field">Rˢ</a> <a id="2138" href="Coherence.Hypotheses.html#2043" class="Function">Γₜ″</a>
  <a id="2144" href="Coherence.Hypotheses.html#2129" class="Function">𝕒</a> <a id="2146" class="Symbol">=</a> <a id="2148" href="Coherence.Hypotheses.html#1834" class="Bound">α</a> <a id="2150" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2152" href="Coherence.Hypotheses.html#1831" class="Bound">Γₜ</a> <a id="2155" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2157" href="Coherence.Hypotheses.html#1836" class="Bound">Γₜ′</a> <a id="2161" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2163" href="Coherence.Hypotheses.html#1842" class="Bound">Γ→</a> <a id="2166" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2168" class="Symbol">(</a><a id="2169" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="2174" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2176" href="Coherence.Hypotheses.html#2028" class="Field">Γ≈</a><a id="2178" class="Symbol">)</a> <a id="2180" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2182" href="Coherence.Hypotheses.html#1997" class="Field">R≈</a>

  <a id="ℍ-Run.Rˢ′"></a><a id="2188" href="Coherence.Hypotheses.html#2188" class="Function">Rˢ′</a> <a id="2192" class="Symbol">:</a> <a id="2194" href="SymbolicModel.Run.Base.html#404" class="Function">Run</a>
  <a id="2200" href="Coherence.Hypotheses.html#2188" class="Function">Rˢ′</a> <a id="2204" class="Symbol">=</a> <a id="2206" href="Coherence.Hypotheses.html#2043" class="Function">Γₜ″</a> <a id="2210" href="SymbolicModel.Run.Base.html#2764" class="Function Operator">∷</a> <a id="2212" href="Coherence.Hypotheses.html#1969" class="Field">Rˢ</a> <a id="2215" href="SymbolicModel.Run.Base.html#2764" class="Function Operator">⊣</a> <a id="2217" href="Coherence.Hypotheses.html#2129" class="Function">𝕒</a>

  <a id="ℍ-Run.R≈′"></a><a id="2222" href="Coherence.Hypotheses.html#2222" class="Function">R≈′</a> <a id="2226" class="Symbol">:</a> <a id="2228" href="Coherence.Hypotheses.html#2188" class="Function">Rˢ′</a> <a id="2232" href="SymbolicModel.Run.Base.html#1539" class="Function Operator">≈⋯</a> <a id="2235" href="Coherence.Hypotheses.html#1913" class="Function">Γ′</a> <a id="2238" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="2241" href="Coherence.Hypotheses.html#1928" class="Function">t′</a>
  <a id="2246" href="Coherence.Hypotheses.html#2222" class="Function">R≈′</a> <a id="2250" class="Symbol">=</a> <a id="2252" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="2257" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2259" href="Coherence.Hypotheses.html#2028" class="Field">Γ≈</a>

  <a id="ℍ-Run.R"></a><a id="2265" href="Coherence.Hypotheses.html#2265" class="Function">R</a> <a id="2267" class="Symbol">=</a> <a id="2269" href="Coherence.Hypotheses.html#1969" class="Field">Rˢ</a><a id="2271" class="Symbol">;</a> <a id="ℍ-Run.R′"></a><a id="2273" href="Coherence.Hypotheses.html#2273" class="Function">R′</a> <a id="2276" class="Symbol">=</a> <a id="2278" href="Coherence.Hypotheses.html#2188" class="Function">Rˢ′</a>

<a id="2283" class="Keyword">infix</a> <a id="2289" class="Number">0</a> <a id="2291" href="Coherence.Hypotheses.html#2304" class="InductiveConstructor Operator">_⨾≋_</a>
<a id="2296" class="Keyword">pattern</a> <a id="_⨾≋_"></a><a id="2304" href="Coherence.Hypotheses.html#2304" class="InductiveConstructor Operator">_⨾≋_</a> <a id="2309" href="Coherence.Hypotheses.html#2325" class="Bound">𝕣∗</a> <a id="2312" href="Coherence.Hypotheses.html#2346" class="Bound">Γ″</a> <a id="2315" class="Symbol">=</a> <a id="2317" class="Symbol">_</a> <a id="2319" href="Coherence.Hypotheses.html#1891" class="InductiveConstructor Operator">⨾</a> <a id="2321" class="Symbol">_</a> <a id="2323" href="Coherence.Hypotheses.html#1891" class="InductiveConstructor Operator">⨾</a> <a id="2325" href="Coherence.Hypotheses.html#2325" class="Bound">𝕣∗</a> <a id="2328" href="Coherence.Hypotheses.html#1891" class="InductiveConstructor Operator">⊣</a> <a id="2330" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="2335" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2337" href="Data.List.Relation.Binary.Permutation.Propositional.html#1079" class="InductiveConstructor">↭-refl</a> <a id="2344" href="Coherence.Hypotheses.html#1891" class="InductiveConstructor Operator">≈</a> <a id="2346" href="Coherence.Hypotheses.html#2346" class="Bound">Γ″</a> <a id="2349" href="Coherence.Hypotheses.html#1891" class="InductiveConstructor Operator">⊣</a> <a id="2351" href="Data.List.Relation.Binary.Permutation.Propositional.html#1079" class="InductiveConstructor">↭-refl</a>

<a id="2359" class="Comment">-- ** Stipulation: advertisting a contract</a>
<a id="2402" class="Keyword">record</a> <a id="H₁-args"></a><a id="2409" href="Coherence.Hypotheses.html#2409" class="Record">H₁-args</a> <a id="2417" class="Symbol">:</a> <a id="2419" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="2424" class="Keyword">where</a>
  <a id="2432" class="Keyword">constructor</a> <a id="mk"></a><a id="2444" href="Coherence.Hypotheses.html#2444" class="InductiveConstructor">mk</a>
  <a id="2449" class="Keyword">field</a>
    <a id="2459" class="Symbol">{</a><a id="H₁-args.ad"></a><a id="2460" href="Coherence.Hypotheses.html#2460" class="Field">ad</a> <a id="H₁-args.Γ₀"></a><a id="2463" href="Coherence.Hypotheses.html#2463" class="Field">Γ₀</a> <a id="H₁-args.t"></a><a id="2466" href="Coherence.Hypotheses.html#2466" class="Field">t</a><a id="2467" class="Symbol">}</a> <a id="2469" class="Symbol">:</a> <a id="2471" class="Symbol">_</a>
  <a id="2475" class="Keyword">open</a> <a id="2480" href="BitML.Contracts.ModuleMacros.html#761" class="Module">∣AD</a> <a id="2484" href="Coherence.Hypotheses.html#2460" class="Field">ad</a> <a id="2487" class="Keyword">public</a>
  <a id="2496" class="Keyword">field</a>
    <a id="2506" class="Comment">-- Hypotheses from [C-Advertise]</a>
    <a id="H₁-args.vad"></a><a id="2543" href="Coherence.Hypotheses.html#2543" class="Field">vad</a> <a id="2547" class="Symbol">:</a> <a id="2549" href="BitML.Contracts.Validity.html#1544" class="Record">ValidAd</a> <a id="2557" href="Coherence.Hypotheses.html#2460" class="Field">ad</a>
    <a id="H₁-args.hon"></a><a id="2564" href="Coherence.Hypotheses.html#2564" class="Field">hon</a> <a id="2568" class="Symbol">:</a> <a id="2570" href="Data.List.Relation.Unary.Any.html#1165" class="Datatype">Any</a> <a id="2574" class="Symbol">(</a><a id="2575" href="Data.List.Membership.Setoid.html#896" class="Function Operator">_∈</a> <a id="2578" href="BitML.BasicTypes.html#785" class="Function">Hon</a><a id="2581" class="Symbol">)</a> <a id="2583" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a>
    <a id="H₁-args.d⊆"></a><a id="2593" href="Coherence.Hypotheses.html#2593" class="Field">d⊆</a>  <a id="2597" class="Symbol">:</a> <a id="2599" href="Coherence.Hypotheses.html#2460" class="Field">ad</a> <a id="2602" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="2605" href="BitML.Contracts.Collections.html#6451" class="Function">deposits</a> <a id="2614" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="2616" href="Coherence.Hypotheses.html#2463" class="Field">Γ₀</a>
  <a id="2621" class="Keyword">open</a> <a id="2626" href="Coherence.Hypotheses.html#1608" class="Module">Transition</a>
    <a id="2641" class="Symbol">(</a> <a id="2643" href="Coherence.Hypotheses.html#2463" class="Field">Γ₀</a> <a id="2646" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="2648" href="Coherence.Hypotheses.html#2466" class="Field">t</a> <a id="2650" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">——</a> <a id="2653" href="BitML.Semantics.Label.html#975" class="InductiveConstructor Operator">advertise⦅</a> <a id="2664" href="Coherence.Hypotheses.html#2460" class="Field">ad</a> <a id="2667" href="BitML.Semantics.Label.html#975" class="InductiveConstructor Operator">⦆</a> <a id="2669" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">—→</a> <a id="2672" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="2674" href="Coherence.Hypotheses.html#2460" class="Field">ad</a> <a id="2677" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="2679" href="Coherence.Hypotheses.html#2463" class="Field">Γ₀</a> <a id="2682" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="2684" href="Coherence.Hypotheses.html#2466" class="Field">t</a>
    <a id="2690" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⊣</a> <a id="2692" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="2696" class="Symbol">(</a><a id="2697" href="BitML.Semantics.InferenceRules.html#3454" class="InductiveConstructor">[C-Advertise]</a> <a id="2711" href="Coherence.Hypotheses.html#2543" class="Field">vad</a> <a id="2715" href="Coherence.Hypotheses.html#2564" class="Field">hon</a> <a id="2719" href="Coherence.Hypotheses.html#2593" class="Field">d⊆</a><a id="2721" class="Symbol">)</a>
    <a id="2727" class="Symbol">)</a> <a id="2729" class="Keyword">public</a> <a id="2736" class="Keyword">hiding</a> <a id="2743" class="Symbol">(</a><a id="2744" href="Coherence.Hypotheses.html#1685" class="Field">t</a><a id="2745" class="Symbol">)</a>
  <a id="2749" class="Keyword">field</a> <a id="H₁-args.𝕙r"></a><a id="2755" href="Coherence.Hypotheses.html#2755" class="Field">𝕙r</a> <a id="2758" class="Symbol">:</a> <a id="2760" href="Coherence.Hypotheses.html#1824" class="Record">ℍ-Run</a> <a id="2766" href="Coherence.Hypotheses.html#1795" class="Function">Γ→</a>
  <a id="2771" class="Keyword">open</a> <a id="2776" href="Coherence.Hypotheses.html#1824" class="Module">ℍ-Run</a> <a id="2782" href="Coherence.Hypotheses.html#2755" class="Field">𝕙r</a> <a id="2785" class="Keyword">public</a>

<a id="2793" class="Keyword">module</a> <a id="2800" href="Coherence.Hypotheses.html#2800" class="Module">H₁</a> <a id="2803" class="Symbol">(</a><a id="2804" href="Coherence.Hypotheses.html#2804" class="Bound">⋯</a> <a id="2806" class="Symbol">:</a> <a id="2808" href="Coherence.Hypotheses.html#2409" class="Record">H₁-args</a><a id="2815" class="Symbol">)</a> <a id="2817" class="Symbol">(</a><a id="2818" class="Keyword">open</a> <a id="2823" href="Coherence.Hypotheses.html#2409" class="Module">H₁-args</a> <a id="2831" href="Coherence.Hypotheses.html#2804" class="Bound">⋯</a><a id="2832" class="Symbol">)</a> <a id="2834" class="Keyword">where</a>
  <a id="2842" href="Coherence.Hypotheses.html#2842" class="Function">λˢ</a> <a id="2845" class="Symbol">:</a> <a id="2847" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="2850" href="Coherence.Hypotheses.html#1761" class="Function">Γₜ′</a>
  <a id="2856" href="Coherence.Hypotheses.html#2842" class="Function">λˢ</a> <a id="2859" class="Symbol">=</a> <a id="2861" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="2867" href="Coherence.Hypotheses.html#2095" class="Function">𝕣</a> <a id="2869" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="2871" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="2874" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="2877" href="Function.Base.html#624" class="Function">id</a> <a id="2880" href="Function.Base.html#624" class="Function">id</a> <a id="2883" href="Function.Base.html#624" class="Function">id</a>

<a id="2887" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[1]~_⨾_"></a><a id="2892" href="Coherence.Hypotheses.html#2892" class="Datatype Operator">_⨾_⨾_~ℍ[1]~_⨾_</a> <a id="2907" class="Symbol">:</a> <a id="2909" href="Coherence.Hypotheses.html#1468" class="Function">StepRel</a> <a id="2917" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[1]~_⨾_.mkℍ"></a><a id="2925" href="Coherence.Hypotheses.html#2925" class="InductiveConstructor">mkℍ</a> <a id="2929" class="Symbol">:</a> <a id="2931" class="Symbol">∀</a> <a id="2933" class="Symbol">{</a><a id="2934" href="Coherence.Hypotheses.html#2934" class="Bound">h</a> <a id="2936" class="Symbol">:</a> <a id="2938" href="Coherence.Hypotheses.html#2409" class="Record">H₁-args</a><a id="2945" class="Symbol">}</a> <a id="2947" class="Symbol">{</a><a id="2948" href="Coherence.Hypotheses.html#2948" class="Bound">A</a><a id="2949" class="Symbol">}</a>
    <a id="2955" class="Symbol">→</a> <a id="2957" class="Keyword">let</a>
        <a id="2969" class="Comment">-- (i) consume {G}C and its persistent deposits from Rˢ</a>
        <a id="3033" class="Keyword">open</a> <a id="3038" href="Coherence.Hypotheses.html#2409" class="Module">H₁-args</a> <a id="3046" href="Coherence.Hypotheses.html#2934" class="Bound">h</a> <a id="3048" class="Keyword">renaming</a> <a id="3057" class="Symbol">(</a><a id="3058" href="Coherence.Hypotheses.html#2460" class="Field">ad</a> <a id="3061" class="Symbol">to</a> <a id="3064" class="Field">⟨G⟩C</a><a id="3068" class="Symbol">)</a>

        <a id="3079" class="Comment">-- txout′ = txout, sechash′ = sechash, κ′ = κ</a>
        <a id="3133" class="Keyword">open</a> <a id="3138" href="Coherence.Hypotheses.html#2800" class="Module">H₁</a> <a id="3141" href="Coherence.Hypotheses.html#2934" class="Bound">h</a> <a id="3143" class="Keyword">using</a> <a id="3149" class="Symbol">(</a><a id="3150" href="Coherence.Hypotheses.html#2842" class="Function">λˢ</a><a id="3152" class="Symbol">)</a>

        <a id="3163" href="Coherence.Hypotheses.html#3163" class="Bound">m</a> <a id="3165" class="Symbol">=</a>
          <a id="3177" class="Keyword">let</a>
            <a id="3193" href="Coherence.Hypotheses.html#3193" class="Bound">txoutΓ</a> <a id="3200" class="Symbol">=</a> <a id="3202" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="3208" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="3210" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="3212" href="SymbolicModel.Mappings.html#1992" class="Function">Txout≈</a> <a id="3219" class="Symbol">{</a><a id="3220" href="Coherence.Hypotheses.html#1969" class="Function">Rˢ</a> <a id="3223" href="SymbolicModel.Run.Accessors.html#734" class="Function Operator">∙cfg</a><a id="3227" class="Symbol">}{</a><a id="3229" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a><a id="3230" class="Symbol">}</a> <a id="3232" class="Symbol">(</a><a id="3233" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="3236" class="Symbol">.</a><a id="3237" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="3242" class="Symbol">)</a> <a id="3244" class="Symbol">(</a><a id="3245" href="Coherence.Hypotheses.html#2095" class="Function">𝕣</a> <a id="3247" href="SymbolicModel.Mappings.html#9038" class="Function Operator">∙txoutEnd_</a><a id="3257" class="Symbol">)</a>
            <a id="3271" href="Coherence.Hypotheses.html#3271" class="Bound">txoutG</a> <a id="3278" class="Symbol">=</a> <a id="3280" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="3286" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a> <a id="3288" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="3290" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="3299" href="Coherence.Hypotheses.html#3193" class="Bound">txoutΓ</a> <a id="3306" class="Symbol">(</a><a id="3307" href="BitML.Properties.Helpers.html#6513" class="Function">deposits⊆⇒namesʳ⊆</a> <a id="3325" class="Symbol">{</a><a id="3326" href="Coherence.Hypotheses.html#3064" class="Function">⟨G⟩C</a><a id="3330" class="Symbol">}{</a><a id="3332" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a><a id="3333" class="Symbol">}</a> <a id="3335" href="Coherence.Hypotheses.html#2593" class="Function">d⊆</a><a id="3337" class="Symbol">)</a>
            <a id="3351" href="Coherence.Hypotheses.html#3351" class="Bound">txoutC</a> <a id="3358" class="Symbol">=</a> <a id="3360" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="3366" href="BitML.Contracts.ModuleMacros.html#783" class="Function">C</a> <a id="3368" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="3370" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="3379" href="Coherence.Hypotheses.html#3271" class="Bound">txoutG</a> <a id="3386" class="Symbol">(</a><a id="3387" href="Prelude.Lists.MapMaybe.html#9263" class="Function">mapMaybe-⊆</a> <a id="3398" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="3405" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="3407" href="Coherence.Hypotheses.html#2543" class="Function">vad</a> <a id="3411" href="BitML.Contracts.Validity.html#2163" class="Function Operator">∙names-⊆</a><a id="3419" class="Symbol">)</a>
          <a id="3431" class="Keyword">in</a>
            <a id="3446" href="Coherence.ComputationalContracts.html#12140" class="Function">encodeAd</a> <a id="3455" href="Coherence.Hypotheses.html#3064" class="Function">⟨G⟩C</a> <a id="3460" class="Symbol">(</a><a id="3461" href="Coherence.Hypotheses.html#3271" class="Bound">txoutG</a> <a id="3468" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3470" href="Coherence.Hypotheses.html#3351" class="Bound">txoutC</a><a id="3476" class="Symbol">)</a>
        <a id="3486" href="Coherence.Hypotheses.html#3486" class="Bound">λᶜ</a> <a id="3489" class="Symbol">=</a> <a id="3491" href="Coherence.Hypotheses.html#2948" class="Bound">A</a> <a id="3493" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="3497" href="Coherence.Hypotheses.html#3163" class="Bound">m</a>
      <a id="3505" class="Keyword">in</a>
      <a id="3514" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="3574" href="Coherence.Hypotheses.html#2043" class="Function">Γₜ″</a> <a id="3578" href="Coherence.Hypotheses.html#2892" class="Datatype Operator">⨾</a> <a id="3580" href="Coherence.Hypotheses.html#1982" class="Function">𝕣∗</a> <a id="3583" href="Coherence.Hypotheses.html#2892" class="Datatype Operator">⨾</a> <a id="3585" class="Symbol">(</a><a id="3586" href="Coherence.Hypotheses.html#2129" class="Function">𝕒</a> <a id="3588" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3590" href="Coherence.Hypotheses.html#2842" class="Function">λˢ</a><a id="3592" class="Symbol">)</a> <a id="3594" href="Coherence.Hypotheses.html#2892" class="Datatype Operator">~ℍ[1]~</a> <a id="3601" href="Coherence.Hypotheses.html#3486" class="Bound">λᶜ</a> <a id="3604" href="Coherence.Hypotheses.html#2892" class="Datatype Operator">⨾</a> <a id="3606" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a>

<a id="3610" class="Comment">-- ** Stipulation: committing secrets</a>
<a id="3648" class="Keyword">record</a> <a id="H₂-args"></a><a id="3655" href="Coherence.Hypotheses.html#3655" class="Record">H₂-args</a> <a id="3663" class="Symbol">:</a> <a id="3665" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="3670" class="Keyword">where</a>
  <a id="3678" class="Keyword">constructor</a> <a id="mk"></a><a id="3690" href="Coherence.Hypotheses.html#3690" class="InductiveConstructor">mk</a>
  <a id="3695" class="Keyword">field</a>
    <a id="3705" class="Symbol">{</a><a id="H₂-args.ad"></a><a id="3706" href="Coherence.Hypotheses.html#3706" class="Field">ad</a> <a id="H₂-args.Γ₀"></a><a id="3709" href="Coherence.Hypotheses.html#3709" class="Field">Γ₀</a> <a id="H₂-args.t"></a><a id="3712" href="Coherence.Hypotheses.html#3712" class="Field">t</a> <a id="H₂-args.A"></a><a id="3714" href="Coherence.Hypotheses.html#3714" class="Field">A</a><a id="3715" class="Symbol">}</a> <a id="3717" class="Symbol">:</a> <a id="3719" class="Symbol">_</a>
    <a id="H₂-args.k⃗"></a><a id="3725" href="Coherence.Hypotheses.html#3725" class="Field">k⃗</a>   <a id="3730" class="Symbol">:</a> <a id="3732" href="Compiler.Mappings.html#454" class="Function">𝕂²′</a> <a id="3736" href="Coherence.Hypotheses.html#3706" class="Field">ad</a>
    <a id="H₂-args.Δ×h̅"></a><a id="3743" href="Coherence.Hypotheses.html#3743" class="Field">Δ×h̅</a> <a id="3748" class="Symbol">:</a> <a id="3750" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3755" class="Symbol">(</a><a id="3756" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="3763" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="3765" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="3771" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="3773" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="3775" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a><a id="3776" class="Symbol">)</a>
  <a id="3780" class="Keyword">open</a> <a id="3785" href="BitML.Contracts.ModuleMacros.html#761" class="Module">∣AD</a> <a id="3789" href="Coherence.Hypotheses.html#3706" class="Field">ad</a> <a id="3792" class="Keyword">public</a>
    <a id="3803" class="Keyword">hiding</a> <a id="3810" class="Symbol">(</a><a id="3811" href="BitML.Contracts.ModuleMacros.html#783" class="Function">C</a><a id="3812" class="Symbol">)</a>
  <a id="H₂-args.h̅"></a><a id="3816" href="Coherence.Hypotheses.html#3816" class="Function">h̅</a>  <a id="3820" class="Symbol">=</a> <a id="3822" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3827" href="Bitcoin.BasicTypes.html#351" class="Function">HashId</a>             <a id="3846" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="3848" href="Data.List.Base.html#1553" class="Function">map</a> <a id="3852" class="Symbol">(</a><a id="3853" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="3859" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="3861" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="3866" class="Symbol">)</a> <a id="3868" href="Coherence.Hypotheses.html#3743" class="Field">Δ×h̅</a>
  <a id="H₂-args.Δ"></a><a id="3875" href="Coherence.Hypotheses.html#3875" class="Function">Δ</a>  <a id="3878" class="Symbol">=</a> <a id="3880" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3885" class="Symbol">(</a><a id="3886" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="3893" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="3895" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="3901" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="3902" class="Symbol">)</a> <a id="3904" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="3906" href="Data.List.Base.html#1553" class="Function">map</a> <a id="3910" href="Prelude.Nary.html#3032" class="Function">drop₃</a>   <a id="3918" href="Coherence.Hypotheses.html#3743" class="Field">Δ×h̅</a>
  <a id="H₂-args.Δᶜ"></a><a id="3925" href="Coherence.Hypotheses.html#3925" class="Function">Δᶜ</a> <a id="3928" class="Symbol">=</a> <a id="3930" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="3933" href="Data.List.Base.html#1553" class="Function">map</a> <a id="3937" class="Symbol">(</a><a id="3938" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="3946" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="3948" href="Coherence.Hypotheses.html#3714" class="Field">A</a> <a id="3950" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="3955" class="Symbol">)</a> <a id="3957" href="Coherence.Hypotheses.html#3875" class="Function">Δ</a>
  <a id="H₂-args.as"></a><a id="3961" href="Coherence.Hypotheses.html#3961" class="Function">as</a> <a id="3964" class="Symbol">=</a> <a id="3966" href="Data.List.Base.html#3708" class="Function">unzip</a> <a id="3972" href="Coherence.Hypotheses.html#3875" class="Function">Δ</a> <a id="3974" class="Symbol">.</a><a id="3975" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₂-args.ms"></a><a id="3983" href="Coherence.Hypotheses.html#3983" class="Function">ms</a> <a id="3986" class="Symbol">=</a> <a id="3988" href="Data.List.Base.html#3708" class="Function">unzip</a> <a id="3994" href="Coherence.Hypotheses.html#3875" class="Function">Δ</a> <a id="3996" class="Symbol">.</a><a id="3997" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
  <a id="H₂-args.k̅"></a><a id="4005" href="Coherence.Hypotheses.html#4005" class="Function">k̅</a>  <a id="4009" class="Symbol">=</a> <a id="4011" href="Data.List.Base.html#4459" class="Function">concatMap</a> <a id="4021" class="Symbol">(</a><a id="4022" href="Data.List.Base.html#1553" class="Function">map</a> <a id="4026" href="Bitcoin.Crypto.html#375" class="Field">pub</a> <a id="4030" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="4032" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a><a id="4037" class="Symbol">)</a> <a id="4039" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="4041" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="4047" href="Coherence.Hypotheses.html#3725" class="Field">k⃗</a>

  <a id="H₂-args.sechash⁺"></a><a id="4053" href="Coherence.Hypotheses.html#4053" class="Function">sechash⁺</a> <a id="4062" class="Symbol">:</a> <a id="4064" href="Coherence.Hypotheses.html#3961" class="Function">as</a> <a id="4067" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="4069" href="Bitcoin.BasicTypes.html#351" class="Function">HashId</a>
  <a id="4078" href="Coherence.Hypotheses.html#4053" class="Function">sechash⁺</a> <a id="4087" href="Coherence.Hypotheses.html#4087" class="Bound">a∈</a> <a id="4090" class="Symbol">=</a>
    <a id="4096" class="Keyword">let</a> <a id="4100" class="Symbol">_</a> <a id="4102" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4104" href="Coherence.Hypotheses.html#4104" class="Bound">a×m∈</a> <a id="4109" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4111" class="Symbol">_</a>    <a id="4116" class="Symbol">=</a> <a id="4118" href="Prelude.Lists.Core.html#1051" class="Function">∈-unzip⁻ˡ</a> <a id="4128" href="Coherence.Hypotheses.html#3875" class="Function">Δ</a> <a id="4130" href="Coherence.Hypotheses.html#4087" class="Bound">a∈</a>
        <a id="4141" class="Symbol">(_</a> <a id="4144" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4146" class="Symbol">_</a> <a id="4148" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4150" href="Coherence.Hypotheses.html#4150" class="Bound">z</a><a id="4151" class="Symbol">)</a> <a id="4153" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4155" class="Symbol">_</a> <a id="4157" class="Symbol">=</a> <a id="4159" href="Data.List.Membership.Propositional.Properties.html#3491" class="Function">∈-map⁻</a> <a id="4166" href="Prelude.Nary.html#3032" class="Function">drop₃</a> <a id="4172" href="Coherence.Hypotheses.html#4104" class="Bound">a×m∈</a>
    <a id="4181" class="Keyword">in</a> <a id="4184" href="Coherence.Hypotheses.html#4150" class="Bound">z</a>
  <a id="4188" class="Keyword">field</a>
    <a id="4198" class="Comment">-- Hypotheses from [C-AuthCommit]</a>
    <a id="H₂-args.as≡"></a><a id="4236" href="Coherence.Hypotheses.html#4236" class="Field">as≡</a> <a id="4240" class="Symbol">:</a> <a id="4242" href="Coherence.Hypotheses.html#3961" class="Function">as</a> <a id="4245" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="4247" href="BitML.Contracts.Collections.html#7218" class="Function">secretsOfᵖ</a> <a id="4258" href="Coherence.Hypotheses.html#3714" class="Field">A</a> <a id="4260" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a>
    <a id="H₂-args.All∉"></a><a id="4266" href="Coherence.Hypotheses.html#4266" class="Field">All∉</a> <a id="4271" class="Symbol">:</a> <a id="4273" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="4277" class="Symbol">(</a><a id="4278" href="Data.List.Membership.Setoid.html#945" class="Function Operator">_∉</a> <a id="4281" href="BitML.Semantics.Configurations.Helpers.html#11169" class="Function">secretsOfᶜᶠ</a> <a id="4293" href="Coherence.Hypotheses.html#3714" class="Field">A</a> <a id="4295" href="Coherence.Hypotheses.html#3709" class="Field">Γ₀</a><a id="4297" class="Symbol">)</a> <a id="4299" href="Coherence.Hypotheses.html#3961" class="Function">as</a>
    <a id="H₂-args.Hon⇒"></a><a id="4306" href="Coherence.Hypotheses.html#4306" class="Field">Hon⇒</a> <a id="4311" class="Symbol">:</a> <a id="4313" href="Coherence.Hypotheses.html#3714" class="Field">A</a> <a id="4315" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="4317" href="BitML.BasicTypes.html#785" class="Function">Hon</a> <a id="4321" class="Symbol">→</a> <a id="4323" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="4327" href="Data.Maybe.html#810" class="Function">Is-just</a> <a id="4335" href="Coherence.Hypotheses.html#3983" class="Function">ms</a>
  <a id="4340" class="Keyword">open</a> <a id="4345" href="Coherence.Hypotheses.html#1608" class="Module">Transition</a>
    <a id="4360" class="Symbol">(</a> <a id="4362" class="Symbol">(</a><a id="4363" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="4365" href="Coherence.Hypotheses.html#3706" class="Field">ad</a> <a id="4368" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4370" href="Coherence.Hypotheses.html#3709" class="Field">Γ₀</a><a id="4372" class="Symbol">)</a> <a id="4374" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="4376" href="Coherence.Hypotheses.html#3712" class="Field">t</a>
    <a id="4382" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">——</a> <a id="4385" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">auth-commit⦅</a> <a id="4398" href="Coherence.Hypotheses.html#3714" class="Field">A</a> <a id="4400" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">,</a> <a id="4402" href="Coherence.Hypotheses.html#3706" class="Field">ad</a> <a id="4405" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">,</a> <a id="4407" href="Coherence.Hypotheses.html#3875" class="Function">Δ</a> <a id="4409" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">⦆</a> <a id="4411" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">—→</a>
      <a id="4420" class="Symbol">(</a><a id="4421" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="4423" href="Coherence.Hypotheses.html#3706" class="Field">ad</a> <a id="4426" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4428" href="Coherence.Hypotheses.html#3709" class="Field">Γ₀</a> <a id="4431" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4433" href="Coherence.Hypotheses.html#3925" class="Function">Δᶜ</a> <a id="4436" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4438" href="Coherence.Hypotheses.html#3714" class="Field">A</a> <a id="4440" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="4446" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="4449" href="Coherence.Hypotheses.html#3706" class="Field">ad</a> <a id="4452" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="4453" class="Symbol">)</a> <a id="4455" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="4457" href="Coherence.Hypotheses.html#3712" class="Field">t</a>
    <a id="4463" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⊣</a> <a id="4465" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="4469" class="Symbol">(</a><a id="4470" href="BitML.Semantics.InferenceRules.html#3794" class="InductiveConstructor">[C-AuthCommit]</a> <a id="4485" href="Coherence.Hypotheses.html#4236" class="Field">as≡</a> <a id="4489" href="Coherence.Hypotheses.html#4266" class="Field">All∉</a> <a id="4494" href="Coherence.Hypotheses.html#4306" class="Field">Hon⇒</a><a id="4498" class="Symbol">)</a>
    <a id="4504" class="Symbol">)</a> <a id="4506" class="Keyword">public</a> <a id="4513" class="Keyword">hiding</a> <a id="4520" class="Symbol">(</a><a id="4521" href="Coherence.Hypotheses.html#1685" class="Field">t</a><a id="4522" class="Symbol">)</a>
  <a id="4526" class="Keyword">field</a> <a id="H₂-args.𝕙r"></a><a id="4532" href="Coherence.Hypotheses.html#4532" class="Field">𝕙r</a> <a id="4535" class="Symbol">:</a> <a id="4537" href="Coherence.Hypotheses.html#1824" class="Record">ℍ-Run</a> <a id="4543" href="Coherence.Hypotheses.html#1795" class="Function">Γ→</a>
  <a id="4548" class="Keyword">open</a> <a id="4553" href="Coherence.Hypotheses.html#1824" class="Module">ℍ-Run</a> <a id="4559" href="Coherence.Hypotheses.html#4532" class="Field">𝕙r</a> <a id="4562" class="Keyword">public</a>

<a id="4570" class="Keyword">module</a> <a id="4577" href="Coherence.Hypotheses.html#4577" class="Module">H₂</a> <a id="4580" class="Symbol">(</a><a id="4581" href="Coherence.Hypotheses.html#4581" class="Bound">⋯</a> <a id="4583" class="Symbol">:</a> <a id="4585" href="Coherence.Hypotheses.html#3655" class="Record">H₂-args</a><a id="4592" class="Symbol">)</a> <a id="4594" class="Symbol">(</a><a id="4595" class="Keyword">open</a> <a id="4600" href="Coherence.Hypotheses.html#3655" class="Module">H₂-args</a> <a id="4608" href="Coherence.Hypotheses.html#4581" class="Bound">⋯</a><a id="4609" class="Symbol">)</a> <a id="4611" class="Keyword">where</a>
  <a id="4619" class="Keyword">open</a> <a id="4624" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

  <a id="4639" href="Coherence.Hypotheses.html#4639" class="Function">mkRev</a> <a id="4645" class="Symbol">:</a> <a id="4647" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="4652" class="Symbol">(</a><a id="4653" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="4660" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="4662" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="4668" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="4669" class="Symbol">)</a> <a id="4671" class="Symbol">→</a> <a id="4673" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a>
  <a id="4679" href="Coherence.Hypotheses.html#4639" class="Function">mkRev</a> <a id="4685" class="Symbol">=</a> <a id="4687" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||_</a> <a id="4691" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="4693" href="Data.List.Base.html#1553" class="Function">map</a> <a id="4697" class="Symbol">(</a><a id="4698" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="4706" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="4708" href="Coherence.Hypotheses.html#3714" class="Field">A</a> <a id="4710" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="4715" class="Symbol">)</a>

  <a id="4720" href="Coherence.Hypotheses.html#4720" class="Function">ids≡</a> <a id="4725" class="Symbol">:</a> <a id="4727" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="4730" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="4733" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="4737" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="4739" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a>
  <a id="4743" href="Coherence.Hypotheses.html#4720" class="Function">ids≡</a> <a id="4748" class="Symbol">=</a>
    <a id="4754" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
      <a id="4766" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="4770" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
    <a id="4777" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
      <a id="4787" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="4791" class="Symbol">(</a><a id="4792" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="4794" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4796" href="Coherence.Hypotheses.html#4639" class="Function">mkRev</a> <a id="4802" href="Coherence.Hypotheses.html#3875" class="Function">Δ</a> <a id="4804" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4806" href="Coherence.Hypotheses.html#3714" class="Field">A</a> <a id="4808" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="4814" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="4817" href="Coherence.Hypotheses.html#3706" class="Field">ad</a> <a id="4820" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="4821" class="Symbol">)</a>
    <a id="4827" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="4830" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="4858" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="4865" class="Symbol">(</a><a id="4866" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="4868" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4870" href="Coherence.Hypotheses.html#4639" class="Function">mkRev</a> <a id="4876" href="Coherence.Hypotheses.html#3875" class="Function">Δ</a><a id="4877" class="Symbol">)</a> <a id="4879" class="Symbol">(</a><a id="4880" href="Coherence.Hypotheses.html#3714" class="Field">A</a> <a id="4882" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="4888" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="4891" href="Coherence.Hypotheses.html#3706" class="Field">ad</a> <a id="4894" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="4895" class="Symbol">)</a> <a id="4897" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="4905" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="4909" class="Symbol">(</a><a id="4910" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="4912" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4914" href="Coherence.Hypotheses.html#4639" class="Function">mkRev</a> <a id="4920" href="Coherence.Hypotheses.html#3875" class="Function">Δ</a><a id="4921" class="Symbol">)</a> <a id="4923" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="4926" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="4930" class="Symbol">(</a><a id="4931" href="Coherence.Hypotheses.html#3714" class="Field">A</a> <a id="4933" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="4939" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="4942" href="Coherence.Hypotheses.html#3706" class="Field">ad</a> <a id="4945" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="4946" class="Symbol">)</a>
    <a id="4952" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
      <a id="4962" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="4966" class="Symbol">(</a><a id="4967" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="4969" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4971" href="Coherence.Hypotheses.html#4639" class="Function">mkRev</a> <a id="4977" href="Coherence.Hypotheses.html#3875" class="Function">Δ</a><a id="4978" class="Symbol">)</a> <a id="4980" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="4983" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
    <a id="4990" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="4993" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="5008" class="Symbol">_</a> <a id="5010" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="5018" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="5022" class="Symbol">(</a><a id="5023" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="5025" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5027" href="Coherence.Hypotheses.html#4639" class="Function">mkRev</a> <a id="5033" href="Coherence.Hypotheses.html#3875" class="Function">Δ</a><a id="5034" class="Symbol">)</a>
    <a id="5040" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5043" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="5071" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="5078" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="5080" class="Symbol">(</a><a id="5081" href="Coherence.Hypotheses.html#4639" class="Function">mkRev</a> <a id="5087" href="Coherence.Hypotheses.html#3875" class="Function">Δ</a><a id="5088" class="Symbol">)</a> <a id="5090" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="5098" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="5102" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="5104" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="5107" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="5111" class="Symbol">(</a><a id="5112" href="Coherence.Hypotheses.html#4639" class="Function">mkRev</a> <a id="5118" href="Coherence.Hypotheses.html#3875" class="Function">Δ</a><a id="5119" class="Symbol">)</a>
    <a id="5125" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5128" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="5133" class="Symbol">(</a><a id="5134" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="5138" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="5140" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="5143" class="Symbol">)</a> <a id="5145" class="Symbol">(</a><a id="5146" href="Coherence.Hypotheses.html#5228" class="Function">hʳ</a> <a id="5149" href="Coherence.Hypotheses.html#3875" class="Function">Δ</a><a id="5150" class="Symbol">)</a> <a id="5152" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="5160" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="5164" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="5166" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="5169" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
    <a id="5176" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5179" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="5194" class="Symbol">_</a> <a id="5196" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="5204" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="5208" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a>
    <a id="5214" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="5216" class="Keyword">where</a>
      <a id="5228" href="Coherence.Hypotheses.html#5228" class="Function">hʳ</a> <a id="5231" class="Symbol">:</a> <a id="5233" class="Symbol">∀</a> <a id="5235" href="Coherence.Hypotheses.html#5235" class="Bound">Δ</a> <a id="5237" class="Symbol">→</a> <a id="5239" href="Prelude.Null.html#263" class="Field">Null</a> <a id="5244" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="5246" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="5250" class="Symbol">(</a><a id="5251" href="Coherence.Hypotheses.html#4639" class="Function">mkRev</a> <a id="5257" href="Coherence.Hypotheses.html#5235" class="Bound">Δ</a><a id="5258" class="Symbol">)</a>
      <a id="5266" href="Coherence.Hypotheses.html#5228" class="Function">hʳ</a> <a id="5269" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="5272" class="Symbol">=</a> <a id="5274" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="5285" href="Coherence.Hypotheses.html#5228" class="Function">hʳ</a> <a id="5288" class="Symbol">(_</a> <a id="5291" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="5293" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="5295" class="Symbol">)</a> <a id="5297" class="Symbol">=</a> <a id="5299" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="5310" href="Coherence.Hypotheses.html#5228" class="Function">hʳ</a> <a id="5313" class="Symbol">(_</a> <a id="5316" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="5318" href="Coherence.Hypotheses.html#5318" class="Bound">Δ</a><a id="5319" class="Symbol">@(_</a> <a id="5323" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="5325" class="Symbol">_))</a> <a id="5329" class="Keyword">rewrite</a> <a id="5337" href="Coherence.Hypotheses.html#5228" class="Function">hʳ</a> <a id="5340" href="Coherence.Hypotheses.html#5318" class="Bound">Δ</a> <a id="5342" class="Symbol">=</a> <a id="5344" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="5359" class="Symbol">_</a>

  <a id="5364" href="Coherence.Hypotheses.html#5364" class="Function">secrets≡</a> <a id="5373" class="Symbol">:</a> <a id="5375" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="5383" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="5386" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="5388" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="5396" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="5398" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="5401" href="Coherence.Hypotheses.html#3961" class="Function">as</a>
  <a id="5406" href="Coherence.Hypotheses.html#5364" class="Function">secrets≡</a> <a id="5415" class="Symbol">=</a>
    <a id="5421" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
      <a id="5433" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="5441" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
    <a id="5448" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5451" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="5479" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="5486" class="Symbol">(</a><a id="5487" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="5489" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5491" href="Coherence.Hypotheses.html#4639" class="Function">mkRev</a> <a id="5497" href="Coherence.Hypotheses.html#3875" class="Function">Δ</a><a id="5498" class="Symbol">)</a> <a id="5500" class="Symbol">(</a><a id="5501" href="Coherence.Hypotheses.html#3714" class="Field">A</a> <a id="5503" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="5509" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="5512" href="Coherence.Hypotheses.html#3706" class="Field">ad</a> <a id="5515" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="5516" class="Symbol">)</a> <a id="5518" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="5526" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="5534" class="Symbol">(</a><a id="5535" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="5537" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5539" href="Coherence.Hypotheses.html#4639" class="Function">mkRev</a> <a id="5545" href="Coherence.Hypotheses.html#3875" class="Function">Δ</a><a id="5546" class="Symbol">)</a> <a id="5548" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="5551" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
    <a id="5558" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5561" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="5576" class="Symbol">_</a> <a id="5578" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="5586" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="5594" class="Symbol">(</a><a id="5595" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="5597" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5599" href="Coherence.Hypotheses.html#4639" class="Function">mkRev</a> <a id="5605" href="Coherence.Hypotheses.html#3875" class="Function">Δ</a><a id="5606" class="Symbol">)</a>
    <a id="5612" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5615" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="5643" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="5650" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="5652" class="Symbol">(</a><a id="5653" href="Coherence.Hypotheses.html#4639" class="Function">mkRev</a> <a id="5659" href="Coherence.Hypotheses.html#3875" class="Function">Δ</a><a id="5660" class="Symbol">)</a> <a id="5662" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="5670" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="5678" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="5680" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="5683" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="5691" class="Symbol">(</a><a id="5692" href="Coherence.Hypotheses.html#4639" class="Function">mkRev</a> <a id="5698" href="Coherence.Hypotheses.html#3875" class="Function">Δ</a><a id="5699" class="Symbol">)</a>
    <a id="5705" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5708" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="5713" class="Symbol">(</a><a id="5714" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="5722" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="5724" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="5727" class="Symbol">)</a> <a id="5729" class="Symbol">(</a><a id="5730" href="Coherence.Hypotheses.html#5778" class="Function">hˡ</a> <a id="5733" href="Coherence.Hypotheses.html#3875" class="Function">Δ</a><a id="5734" class="Symbol">)</a> <a id="5736" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="5744" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="5752" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="5754" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="5757" href="Coherence.Hypotheses.html#3961" class="Function">as</a>
    <a id="5764" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="5766" class="Keyword">where</a>
      <a id="5778" href="Coherence.Hypotheses.html#5778" class="Function">hˡ</a> <a id="5781" class="Symbol">:</a> <a id="5783" class="Symbol">∀</a> <a id="5785" href="Coherence.Hypotheses.html#5785" class="Bound">Δ</a> <a id="5787" class="Symbol">→</a> <a id="5789" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="5797" class="Symbol">(</a><a id="5798" href="Coherence.Hypotheses.html#4639" class="Function">mkRev</a> <a id="5804" href="Coherence.Hypotheses.html#5785" class="Bound">Δ</a><a id="5805" class="Symbol">)</a> <a id="5807" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="5809" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="5815" class="Symbol">(</a><a id="5816" href="Data.List.Base.html#3708" class="Function">unzip</a> <a id="5822" href="Coherence.Hypotheses.html#5785" class="Bound">Δ</a><a id="5823" class="Symbol">)</a>
      <a id="5831" href="Coherence.Hypotheses.html#5778" class="Function">hˡ</a> <a id="5834" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="5837" class="Symbol">=</a> <a id="5839" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="5850" href="Coherence.Hypotheses.html#5778" class="Function">hˡ</a> <a id="5853" class="Symbol">(_</a> <a id="5856" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="5858" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="5860" class="Symbol">)</a> <a id="5862" class="Symbol">=</a> <a id="5864" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="5875" href="Coherence.Hypotheses.html#5778" class="Function">hˡ</a> <a id="5878" class="Symbol">((</a><a id="5880" href="Coherence.Hypotheses.html#5880" class="Bound">s</a> <a id="5882" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5884" href="Coherence.Hypotheses.html#5884" class="Bound">m</a><a id="5885" class="Symbol">)</a> <a id="5887" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="5889" href="Coherence.Hypotheses.html#5889" class="Bound">Δ</a><a id="5890" class="Symbol">@(_</a> <a id="5894" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="5896" class="Symbol">_))</a> <a id="5900" class="Symbol">=</a>
        <a id="5910" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
          <a id="5926" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="5934" class="Symbol">(</a><a id="5935" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="5937" href="Coherence.Hypotheses.html#3714" class="Field">A</a> <a id="5939" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶</a> <a id="5941" href="Coherence.Hypotheses.html#5880" class="Bound">s</a> <a id="5943" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">♯</a> <a id="5945" href="Coherence.Hypotheses.html#5884" class="Bound">m</a> <a id="5947" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟩</a> <a id="5949" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5951" href="Coherence.Hypotheses.html#4639" class="Function">mkRev</a> <a id="5957" href="Coherence.Hypotheses.html#5889" class="Bound">Δ</a><a id="5958" class="Symbol">)</a>
        <a id="5968" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5971" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="5999" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="6006" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6008" href="Coherence.Hypotheses.html#3714" class="Field">A</a> <a id="6010" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶</a> <a id="6012" href="Coherence.Hypotheses.html#5880" class="Bound">s</a> <a id="6014" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">♯</a> <a id="6016" href="Coherence.Hypotheses.html#5884" class="Bound">m</a> <a id="6018" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟩</a> <a id="6020" class="Symbol">(</a><a id="6021" href="Coherence.Hypotheses.html#4639" class="Function">mkRev</a> <a id="6027" href="Coherence.Hypotheses.html#5889" class="Bound">Δ</a><a id="6028" class="Symbol">)</a> <a id="6030" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="6042" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="6050" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6052" href="Coherence.Hypotheses.html#3714" class="Field">A</a> <a id="6054" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶</a> <a id="6056" href="Coherence.Hypotheses.html#5880" class="Bound">s</a> <a id="6058" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">♯</a> <a id="6060" href="Coherence.Hypotheses.html#5884" class="Bound">m</a> <a id="6062" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟩</a> <a id="6064" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6067" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="6075" class="Symbol">(</a><a id="6076" href="Coherence.Hypotheses.html#4639" class="Function">mkRev</a> <a id="6082" href="Coherence.Hypotheses.html#5889" class="Bound">Δ</a><a id="6083" class="Symbol">)</a>
        <a id="6093" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
          <a id="6107" href="Coherence.Hypotheses.html#5880" class="Bound">s</a> <a id="6109" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6111" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="6119" class="Symbol">(</a><a id="6120" href="Coherence.Hypotheses.html#4639" class="Function">mkRev</a> <a id="6126" href="Coherence.Hypotheses.html#5889" class="Bound">Δ</a><a id="6127" class="Symbol">)</a>
        <a id="6137" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6140" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="6145" class="Symbol">(</a><a id="6146" href="Coherence.Hypotheses.html#5880" class="Bound">s</a> <a id="6148" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷_</a><a id="6150" class="Symbol">)</a> <a id="6152" class="Symbol">(</a><a id="6153" href="Coherence.Hypotheses.html#5778" class="Function">hˡ</a> <a id="6156" href="Coherence.Hypotheses.html#5889" class="Bound">Δ</a><a id="6157" class="Symbol">)</a> <a id="6159" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="6171" href="Coherence.Hypotheses.html#5880" class="Bound">s</a> <a id="6173" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6175" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="6181" class="Symbol">(</a><a id="6182" href="Data.List.Base.html#3708" class="Function">unzip</a> <a id="6188" href="Coherence.Hypotheses.html#5889" class="Bound">Δ</a><a id="6189" class="Symbol">)</a>
        <a id="6199" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

  <a id="6204" href="Coherence.Hypotheses.html#6204" class="Function">hᵃ</a> <a id="6207" class="Symbol">:</a> <a id="6209" class="Symbol">∀</a> <a id="6211" href="Coherence.Hypotheses.html#6211" class="Bound">Δ</a> <a id="6213" class="Symbol">→</a> <a id="6215" href="Prelude.Null.html#263" class="Field">Null</a> <a id="6220" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="6222" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="6237" class="Symbol">(</a><a id="6238" href="Coherence.Hypotheses.html#4639" class="Function">mkRev</a> <a id="6244" href="Coherence.Hypotheses.html#6211" class="Bound">Δ</a><a id="6245" class="Symbol">)</a>
  <a id="6249" href="Coherence.Hypotheses.html#6204" class="Function">hᵃ</a> <a id="6252" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="6255" class="Symbol">=</a> <a id="6257" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="6264" href="Coherence.Hypotheses.html#6204" class="Function">hᵃ</a> <a id="6267" class="Symbol">(_</a> <a id="6270" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6272" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="6274" class="Symbol">)</a> <a id="6276" class="Symbol">=</a> <a id="6278" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="6285" href="Coherence.Hypotheses.html#6204" class="Function">hᵃ</a> <a id="6288" class="Symbol">(_</a> <a id="6291" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6293" href="Coherence.Hypotheses.html#6293" class="Bound">Δ</a><a id="6294" class="Symbol">@(_</a> <a id="6298" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6300" class="Symbol">_))</a> <a id="6304" class="Keyword">rewrite</a> <a id="6312" href="Coherence.Hypotheses.html#6204" class="Function">hᵃ</a> <a id="6315" href="Coherence.Hypotheses.html#6293" class="Bound">Δ</a> <a id="6317" class="Symbol">=</a> <a id="6319" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="6334" class="Symbol">_</a>

  <a id="6339" href="Coherence.Hypotheses.html#6339" class="Function">ads≡</a> <a id="6344" class="Symbol">:</a> <a id="6346" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="6361" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="6364" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="6366" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="6381" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="6383" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6386" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="6401" class="Symbol">(</a><a id="6402" href="Coherence.Hypotheses.html#3714" class="Field">A</a> <a id="6404" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="6410" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="6413" href="Coherence.Hypotheses.html#3706" class="Field">ad</a> <a id="6416" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="6417" class="Symbol">)</a>
  <a id="6421" href="Coherence.Hypotheses.html#6339" class="Function">ads≡</a> <a id="6426" class="Keyword">rewrite</a> <a id="6434" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="6453" class="Symbol">{</a><a id="6454" class="Argument">X</a> <a id="6456" class="Symbol">=</a> <a id="6458" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="6460" class="Symbol">}</a> <a id="6462" class="Symbol">(</a><a id="6463" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="6465" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6467" href="Coherence.Hypotheses.html#4639" class="Function">mkRev</a> <a id="6473" href="Coherence.Hypotheses.html#3875" class="Function">Δ</a><a id="6474" class="Symbol">)</a> <a id="6476" class="Symbol">(</a><a id="6477" href="Coherence.Hypotheses.html#3714" class="Field">A</a> <a id="6479" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="6485" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="6488" href="Coherence.Hypotheses.html#3706" class="Field">ad</a> <a id="6491" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="6492" class="Symbol">)</a>
              <a id="6508" class="Symbol">|</a> <a id="6510" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="6529" class="Symbol">{</a><a id="6530" class="Argument">X</a> <a id="6532" class="Symbol">=</a> <a id="6534" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="6536" class="Symbol">}</a> <a id="6538" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="6540" class="Symbol">(</a><a id="6541" href="Coherence.Hypotheses.html#4639" class="Function">mkRev</a> <a id="6547" href="Coherence.Hypotheses.html#3875" class="Function">Δ</a><a id="6548" class="Symbol">)</a>
              <a id="6564" class="Symbol">|</a> <a id="6566" href="Coherence.Hypotheses.html#6204" class="Function">hᵃ</a> <a id="6569" href="Coherence.Hypotheses.html#3875" class="Function">Δ</a>
              <a id="6585" class="Symbol">|</a> <a id="6587" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="6602" class="Symbol">(</a><a id="6603" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="6618" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a><a id="6619" class="Symbol">)</a>
              <a id="6635" class="Symbol">=</a> <a id="6637" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

  <a id="6645" href="Coherence.Hypotheses.html#6645" class="Function">txout↝</a> <a id="6652" class="Symbol">:</a> <a id="6654" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="6656" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="6659" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="6665" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="6667" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
  <a id="6672" class="Comment">-- txout↝ = lift Γ —⟨ ids ⟩— Γ′ ⊣ ids≡</a>
  <a id="6713" href="Coherence.Hypotheses.html#6645" class="Function">txout↝</a> <a id="6720" href="Coherence.Hypotheses.html#6720" class="Bound">txoutΓ</a> <a id="6727" class="Symbol">{</a><a id="6728" href="Coherence.Hypotheses.html#6728" class="Bound">x</a><a id="6729" class="Symbol">}</a> <a id="6731" href="Coherence.Hypotheses.html#6731" class="Bound">x∈</a>
    <a id="6738" class="Keyword">with</a> <a id="6743" href="BitML.Semantics.Configurations.Helpers.html#10161" class="Function">∈-ids-++⁻</a> <a id="6753" class="Symbol">(</a><a id="6754" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="6756" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6758" href="Coherence.Hypotheses.html#4639" class="Function">mkRev</a> <a id="6764" href="Coherence.Hypotheses.html#3875" class="Function">Δ</a><a id="6765" class="Symbol">)</a> <a id="6767" class="Symbol">(</a><a id="6768" href="Coherence.Hypotheses.html#3714" class="Field">A</a> <a id="6770" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="6776" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="6779" href="Coherence.Hypotheses.html#3706" class="Field">ad</a> <a id="6782" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="6783" class="Symbol">)</a> <a id="6785" href="Coherence.Hypotheses.html#6731" class="Bound">x∈</a>
  <a id="6790" class="Symbol">...</a> <a id="6794" class="Symbol">|</a> <a id="6796" href="Data.Sum.Base.html#818" class="InductiveConstructor">inj₂</a> <a id="6801" class="Symbol">()</a>
  <a id="6806" class="Symbol">...</a> <a id="6810" class="Symbol">|</a> <a id="6812" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="6817" href="Coherence.Hypotheses.html#6817" class="Bound">x∈</a>
    <a id="6824" class="Keyword">with</a> <a id="6829" href="BitML.Semantics.Configurations.Helpers.html#10161" class="Function">∈-ids-++⁻</a> <a id="6839" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="6841" class="Symbol">(</a><a id="6842" href="Coherence.Hypotheses.html#4639" class="Function">mkRev</a> <a id="6848" href="Coherence.Hypotheses.html#3875" class="Function">Δ</a><a id="6849" class="Symbol">)</a> <a id="6851" href="Coherence.Hypotheses.html#6817" class="Bound">x∈</a>
  <a id="6856" class="Symbol">...</a> <a id="6860" class="Symbol">|</a> <a id="6862" href="Data.Sum.Base.html#818" class="InductiveConstructor">inj₂</a> <a id="6867" href="Coherence.Hypotheses.html#6867" class="Bound">x∈</a> <a id="6870" class="Symbol">=</a> <a id="6872" href="Prelude.Decidable.Core.html#347" class="Function">contradict</a> <a id="6883" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="6885" href="Coherence.Hypotheses.html#6867" class="Bound">x∈</a> <a id="6888" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="6891" href="Coherence.Hypotheses.html#6925" class="Function">hʳ</a> <a id="6894" href="Coherence.Hypotheses.html#3875" class="Function">Δ</a> <a id="6896" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="6898" class="Bound">x</a> <a id="6900" href="Data.List.Membership.Setoid.html#896" class="Function Operator">L.Mem.∈_</a> <a id="6909" href="Prelude.SubstDSL.html#164" class="Function">⟫</a>
    <a id="6915" class="Keyword">where</a>
    <a id="6925" href="Coherence.Hypotheses.html#6925" class="Function">hʳ</a> <a id="6928" class="Symbol">:</a> <a id="6930" class="Symbol">∀</a> <a id="6932" href="Coherence.Hypotheses.html#6932" class="Bound">Δ</a> <a id="6934" class="Symbol">→</a> <a id="6936" href="Prelude.Null.html#263" class="Field">Null</a> <a id="6941" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="6943" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="6947" class="Symbol">(</a><a id="6948" href="Coherence.Hypotheses.html#4639" class="Function">mkRev</a> <a id="6954" href="Coherence.Hypotheses.html#6932" class="Bound">Δ</a><a id="6955" class="Symbol">)</a>
    <a id="6961" href="Coherence.Hypotheses.html#6925" class="Function">hʳ</a> <a id="6964" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="6967" class="Symbol">=</a> <a id="6969" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="6978" href="Coherence.Hypotheses.html#6925" class="Function">hʳ</a> <a id="6981" class="Symbol">(_</a> <a id="6984" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6986" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="6988" class="Symbol">)</a> <a id="6990" class="Symbol">=</a> <a id="6992" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="7001" href="Coherence.Hypotheses.html#6925" class="Function">hʳ</a> <a id="7004" class="Symbol">(_</a> <a id="7007" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7009" href="Coherence.Hypotheses.html#7009" class="Bound">Δ</a><a id="7010" class="Symbol">@(_</a> <a id="7014" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7016" class="Symbol">_))</a> <a id="7020" class="Keyword">rewrite</a> <a id="7028" href="Coherence.Hypotheses.html#6925" class="Function">hʳ</a> <a id="7031" href="Coherence.Hypotheses.html#7009" class="Bound">Δ</a> <a id="7033" class="Symbol">=</a> <a id="7035" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="7050" class="Symbol">_</a>
  <a id="7054" class="Symbol">...</a> <a id="7058" class="Symbol">|</a> <a id="7060" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="7065" href="Coherence.Hypotheses.html#7065" class="Bound">x∈</a> <a id="7068" class="Symbol">=</a> <a id="7070" class="Bound">txoutΓ</a> <a id="7077" href="Coherence.Hypotheses.html#7065" class="Bound">x∈</a>

  <a id="7083" href="Coherence.Hypotheses.html#7083" class="Function">sechash↝</a> <a id="7092" class="Symbol">:</a>  <a id="7095" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="7097" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="7100" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="7108" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="7110" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
  <a id="7115" href="Coherence.Hypotheses.html#7083" class="Function">sechash↝</a> <a id="7124" href="Coherence.Hypotheses.html#7124" class="Bound">sechash′</a> <a id="7133" class="Symbol">=</a> <a id="7135" href="Prelude.Lists.Mappings.html#1750" class="Function">extend-↦</a> <a id="7144" class="Symbol">(</a><a id="7145" href="Data.List.Relation.Binary.Permutation.Propositional.html#1377" class="Function">↭-reflexive</a> <a id="7157" href="Coherence.Hypotheses.html#5364" class="Function">secrets≡</a><a id="7165" class="Symbol">)</a> <a id="7167" href="Coherence.Hypotheses.html#7124" class="Bound">sechash′</a> <a id="7176" href="Coherence.Hypotheses.html#4053" class="Function">sechash⁺</a>

  <a id="7188" href="Coherence.Hypotheses.html#7188" class="Function">κ↝</a> <a id="7191" class="Symbol">:</a> <a id="7193" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="7195" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="7198" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="7201" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="7203" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
  <a id="7208" href="Coherence.Hypotheses.html#7188" class="Function">κ↝</a> <a id="7211" href="Coherence.Hypotheses.html#7211" class="Bound">κ′</a> <a id="7214" class="Symbol">=</a> <a id="7216" href="Prelude.Lists.Mappings.html#1750" class="Function">extend-↦</a> <a id="7225" class="Symbol">(</a><a id="7226" href="Data.List.Relation.Binary.Permutation.Propositional.html#1377" class="Function">↭-reflexive</a> <a id="7238" href="Coherence.Hypotheses.html#6339" class="Function">ads≡</a><a id="7242" class="Symbol">)</a> <a id="7244" href="Coherence.Hypotheses.html#7211" class="Bound">κ′</a> <a id="7247" href="Coherence.Hypotheses.html#7266" class="Function">κ″</a>
    <a id="7254" class="Keyword">where</a>
      <a id="7266" href="Coherence.Hypotheses.html#7266" class="Function">κ″</a> <a id="7269" class="Symbol">:</a> <a id="7271" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="7286" class="Symbol">(</a><a id="7287" href="Coherence.Hypotheses.html#3714" class="Field">A</a> <a id="7289" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="7295" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="7298" href="Coherence.Hypotheses.html#3706" class="Field">ad</a> <a id="7301" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="7302" class="Symbol">)</a> <a id="7304" href="Prelude.Lists.Mappings.html#654" class="Function Operator">↦′</a> <a id="7307" href="Compiler.Mappings.html#454" class="Function">𝕂²′</a>
      <a id="7317" href="Coherence.Hypotheses.html#7266" class="Function">κ″</a> <a id="7320" href="Coherence.Hypotheses.html#7320" class="Bound">x∈</a> <a id="7323" class="Keyword">with</a> <a id="7328" href="Relation.Nullary.html#1590" class="Field">does</a> <a id="7333" class="Symbol">(</a><a id="7334" href="Coherence.Hypotheses.html#3714" class="Field">A</a> <a id="7336" href="Prelude.Membership.html#455" class="Field Operator">∈?</a> <a id="7339" href="BitML.BasicTypes.html#785" class="Function">Hon</a><a id="7342" class="Symbol">)</a> <a id="7344" class="Symbol">|</a> <a id="7346" href="Coherence.Hypotheses.html#7320" class="Bound">x∈</a>
      <a id="7355" class="Symbol">...</a> <a id="7359" class="Symbol">|</a> <a id="7361" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>  <a id="7367" class="Symbol">|</a> <a id="7369" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="7371" class="Symbol">=</a> <a id="7373" href="Coherence.Hypotheses.html#3725" class="Field">k⃗</a>
      <a id="7382" class="Symbol">...</a> <a id="7386" class="Symbol">|</a> <a id="7388" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a> <a id="7394" class="Symbol">|</a> <a id="7396" class="Symbol">()</a>

  <a id="7402" href="Coherence.Hypotheses.html#7402" class="Function">λˢ</a> <a id="7405" class="Symbol">:</a> <a id="7407" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="7410" href="Coherence.Hypotheses.html#1761" class="Function">Γₜ′</a>
  <a id="7416" href="Coherence.Hypotheses.html#7402" class="Function">λˢ</a> <a id="7419" class="Symbol">=</a> <a id="7421" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="7427" href="Coherence.Hypotheses.html#2095" class="Function">𝕣</a> <a id="7429" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="7431" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="7434" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="7437" href="Coherence.Hypotheses.html#6645" class="Function">txout↝</a> <a id="7444" href="Coherence.Hypotheses.html#7083" class="Function">sechash↝</a> <a id="7453" href="Coherence.Hypotheses.html#7188" class="Function">κ↝</a>

<a id="7457" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[2]~_⨾_"></a><a id="7462" href="Coherence.Hypotheses.html#7462" class="Datatype Operator">_⨾_⨾_~ℍ[2]~_⨾_</a> <a id="7477" class="Symbol">:</a> <a id="7479" href="Coherence.Hypotheses.html#1468" class="Function">StepRel</a> <a id="7487" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[2]~_⨾_.mkℍ"></a><a id="7495" href="Coherence.Hypotheses.html#7495" class="InductiveConstructor">mkℍ</a> <a id="7499" class="Symbol">:</a> <a id="7501" class="Symbol">∀</a> <a id="7503" class="Symbol">{</a><a id="7504" href="Coherence.Hypotheses.html#7504" class="Bound">h</a> <a id="7506" class="Symbol">:</a> <a id="7508" href="Coherence.Hypotheses.html#3655" class="Record">H₂-args</a><a id="7515" class="Symbol">}</a> <a id="7517" class="Symbol">{</a><a id="7518" href="Coherence.Hypotheses.html#7518" class="Bound">B</a><a id="7519" class="Symbol">}</a>
    <a id="7525" class="Symbol">→</a> <a id="7527" class="Keyword">let</a>
        <a id="7539" class="Comment">-- (i) consume {G}C and its persistent deposits from Rˢ</a>
        <a id="7603" class="Keyword">open</a> <a id="7608" href="Coherence.Hypotheses.html#3655" class="Module">H₂-args</a> <a id="7616" href="Coherence.Hypotheses.html#7504" class="Bound">h</a> <a id="7618" class="Keyword">renaming</a> <a id="7627" class="Symbol">(</a><a id="7628" href="Coherence.Hypotheses.html#3706" class="Field">ad</a> <a id="7631" class="Symbol">to</a> <a id="7634" class="Field">⟨G⟩C</a><a id="7638" class="Symbol">)</a>

        <a id="7649" href="Coherence.Hypotheses.html#7649" class="Bound">C</a>      <a id="7656" class="Symbol">=</a> <a id="7658" href="Coherence.ComputationalContracts.html#12140" class="Function">encodeAd</a> <a id="7667" href="Coherence.Hypotheses.html#7634" class="Function">⟨G⟩C</a> <a id="7672" class="Symbol">(</a><a id="7673" href="SymbolicModel.Properties.html#4893" class="Function">ad∈⇒Txout</a> <a id="7683" class="Symbol">{</a><a id="7684" href="Coherence.Hypotheses.html#7634" class="Function">⟨G⟩C</a><a id="7688" class="Symbol">}{</a><a id="7690" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a><a id="7691" class="Symbol">}{</a><a id="7693" href="Coherence.Hypotheses.html#1969" class="Function">Rˢ</a><a id="7695" class="Symbol">}</a> <a id="7697" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="7699" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="7702" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a><a id="7708" class="Symbol">)</a>
        <a id="7718" href="Coherence.Hypotheses.html#7718" class="Bound">C,h̅,k̅</a>  <a id="7727" class="Symbol">=</a> <a id="7729" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="7736" class="Symbol">(</a><a id="7737" href="Coherence.Hypotheses.html#7649" class="Bound">C</a> <a id="7739" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="7741" href="Coherence.Hypotheses.html#3816" class="Function">h̅</a> <a id="7744" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="7746" href="Coherence.Hypotheses.html#4005" class="Function">k̅</a><a id="7748" class="Symbol">)</a>
        <a id="7758" href="Coherence.Hypotheses.html#7758" class="Bound">C,h̅,k̅ₐ</a> <a id="7767" class="Symbol">=</a> <a id="7769" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="7773" class="Symbol">(</a><a id="7774" href="ComputationalModel.KeyPairs.html#177" class="Function">K</a> <a id="7776" href="Coherence.Hypotheses.html#3714" class="Function">A</a><a id="7777" class="Symbol">)</a> <a id="7779" href="Coherence.Hypotheses.html#7718" class="Bound">C,h̅,k̅</a>

        <a id="7796" class="Comment">-- (ii) broadcast message in Rᶜ</a>
        <a id="7836" href="Coherence.Hypotheses.html#7836" class="Bound">λᶜ</a> <a id="7839" class="Symbol">=</a> <a id="7841" href="Coherence.Hypotheses.html#7518" class="Bound">B</a> <a id="7843" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="7847" href="Coherence.Hypotheses.html#7758" class="Bound">C,h̅,k̅ₐ</a>

        <a id="7865" class="Comment">-- (v) txout = txout′ (vi) extend sechash′ (vii) extend κ′</a>
        <a id="7932" class="Keyword">open</a> <a id="7937" href="Coherence.Hypotheses.html#4577" class="Module">H₂</a> <a id="7940" href="Coherence.Hypotheses.html#7504" class="Bound">h</a> <a id="7942" class="Keyword">using</a> <a id="7948" class="Symbol">(</a><a id="7949" href="Coherence.Hypotheses.html#7402" class="Function">λˢ</a><a id="7951" class="Symbol">)</a>
      <a id="7959" class="Keyword">in</a>

      <a id="7969" class="Comment">-- (i) ⟨G⟩C has been previously advertised in Rᶜ</a>
    <a id="8022" class="Symbol">∀</a> <a id="8024" class="Symbol">(</a><a id="8025" href="Coherence.Hypotheses.html#8025" class="Bound">∃B</a> <a id="8028" class="Symbol">:</a> <a id="8030" href="Data.Product.html#1378" class="Function">∃</a> <a id="8032" class="Symbol">λ</a> <a id="8034" href="Coherence.Hypotheses.html#8034" class="Bound">B</a> <a id="8036" class="Symbol">→</a> <a id="8038" class="Symbol">(</a><a id="8039" href="Coherence.Hypotheses.html#8034" class="Bound">B</a> <a id="8041" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="8045" href="Coherence.Hypotheses.html#7649" class="Bound">C</a><a id="8046" class="Symbol">)</a> <a id="8048" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="8050" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="8057" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a><a id="8059" class="Symbol">)</a> <a id="8061" class="Symbol">→</a>

      <a id="8070" class="Comment">-- ∘ it is the first occurrence of such a broadcast in Rᶜ</a>
    <a id="8132" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="8134" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="8138" class="Symbol">(λ</a> <a id="8141" href="Coherence.Hypotheses.html#8141" class="Bound">l</a> <a id="8143" class="Symbol">→</a> <a id="8145" class="Symbol">∀</a> <a id="8147" href="Coherence.Hypotheses.html#8147" class="Bound">X</a> <a id="8149" class="Symbol">→</a> <a id="8151" href="Coherence.Hypotheses.html#8141" class="Bound">l</a> <a id="8153" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="8155" href="Coherence.Hypotheses.html#8147" class="Bound">X</a> <a id="8157" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="8161" href="Coherence.Hypotheses.html#7649" class="Bound">C</a><a id="8162" class="Symbol">)</a> <a id="8164" class="Symbol">(</a><a id="8165" href="Prelude.Lists.Membership.html#6373" class="Function">Any-tail</a> <a id="8174" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="8176" href="Coherence.Hypotheses.html#8025" class="Bound">∃B</a> <a id="8179" class="Symbol">.</a><a id="8180" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="8185" class="Symbol">)</a>

      <a id="8194" class="Comment">-- ∘ hashes respect security parameter η</a>
    <a id="8239" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="8241" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="8245" class="Symbol">(λ</a> <a id="8248" href="Coherence.Hypotheses.html#8248" class="Bound">hᵢ</a> <a id="8251" class="Symbol">→</a> <a id="8253" href="ComputationalModel.Serialization.html#245" class="Function Operator">∣</a> <a id="8255" href="Coherence.Hypotheses.html#8248" class="Bound">hᵢ</a> <a id="8258" href="ComputationalModel.Serialization.html#245" class="Function Operator">∣ᵐ</a> <a id="8261" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="8263" href="SecureCompilation.ModuleParameters.html#357" class="Field">η</a><a id="8264" class="Symbol">)</a> <a id="8266" href="Coherence.Hypotheses.html#3816" class="Function">h̅</a>

      <a id="8276" class="Comment">-- ∘ make sure that λᶜ is the first occurrence of such a message after C in Rᶜ</a>
    <a id="8359" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="8361" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="8365" class="Symbol">(λ</a> <a id="8368" href="Coherence.Hypotheses.html#8368" class="Bound">l</a> <a id="8370" class="Symbol">→</a> <a id="8372" class="Symbol">∀</a> <a id="8374" href="Coherence.Hypotheses.html#8374" class="Bound">X</a> <a id="8376" class="Symbol">→</a> <a id="8378" href="Coherence.Hypotheses.html#8368" class="Bound">l</a> <a id="8380" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="8382" href="Coherence.Hypotheses.html#8374" class="Bound">X</a> <a id="8384" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="8388" href="Coherence.Hypotheses.html#7758" class="Bound">C,h̅,k̅ₐ</a><a id="8396" class="Symbol">)</a> <a id="8398" class="Symbol">(</a><a id="8399" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="8409" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="8411" href="Coherence.Hypotheses.html#8025" class="Bound">∃B</a> <a id="8414" class="Symbol">.</a><a id="8415" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="8420" class="Symbol">)</a>

      <a id="8429" class="Comment">-- (iii) each hᵢ is obtained by querying the oracle,</a>
      <a id="8488" class="Comment">--       otherwise we have a dishonestly chosen secret</a>
    <a id="8547" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="8549" href="Coherence.Helpers.html#1072" class="Function">CheckOracleInteractions</a> <a id="8573" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a> <a id="8576" href="Coherence.Hypotheses.html#3743" class="Function">Δ×h̅</a>

      <a id="8588" class="Comment">-- (iv) no hash is reused</a>
    <a id="8618" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="8620" href="Data.List.Relation.Unary.Unique.Setoid.html#728" class="Datatype">Unique</a> <a id="8627" href="Coherence.Hypotheses.html#3816" class="Function">h̅</a>
    <a id="8634" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="8636" href="Data.List.Relation.Binary.Disjoint.Setoid.html#851" class="Function">Disjoint</a> <a id="8645" href="Coherence.Hypotheses.html#3816" class="Function">h̅</a> <a id="8648" class="Symbol">(</a><a id="8649" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="8655" href="SymbolicModel.Mappings.html#1032" class="Function">sechash′</a><a id="8663" class="Symbol">)</a>

      <a id="8672" href="Prelude.InferenceRules.html#12752" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="8732" href="Coherence.Hypotheses.html#2043" class="Function">Γₜ″</a> <a id="8736" href="Coherence.Hypotheses.html#7462" class="Datatype Operator">⨾</a> <a id="8738" href="Coherence.Hypotheses.html#1982" class="Function">𝕣∗</a> <a id="8741" href="Coherence.Hypotheses.html#7462" class="Datatype Operator">⨾</a> <a id="8743" class="Symbol">(</a><a id="8744" href="Coherence.Hypotheses.html#2129" class="Function">𝕒</a> <a id="8746" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8748" href="Coherence.Hypotheses.html#7402" class="Function">λˢ</a><a id="8750" class="Symbol">)</a> <a id="8752" href="Coherence.Hypotheses.html#7462" class="Datatype Operator">~ℍ[2]~</a> <a id="8759" href="Coherence.Hypotheses.html#7836" class="Bound">λᶜ</a> <a id="8762" href="Coherence.Hypotheses.html#7462" class="Datatype Operator">⨾</a> <a id="8764" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a>

<a id="8768" class="Comment">-- ** Stipulation: authorizing deposits</a>
<a id="8808" class="Keyword">record</a> <a id="H₃-args"></a><a id="8815" href="Coherence.Hypotheses.html#8815" class="Record">H₃-args</a> <a id="8823" class="Symbol">:</a> <a id="8825" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="8830" class="Keyword">where</a>
  <a id="8838" class="Keyword">constructor</a> <a id="mk"></a><a id="8850" href="Coherence.Hypotheses.html#8850" class="InductiveConstructor">mk</a>
  <a id="8855" class="Keyword">field</a>
    <a id="8865" class="Symbol">{</a><a id="H₃-args.ad"></a><a id="8866" href="Coherence.Hypotheses.html#8866" class="Field">ad</a> <a id="H₃-args.Γ₀"></a><a id="8869" href="Coherence.Hypotheses.html#8869" class="Field">Γ₀</a> <a id="H₃-args.t"></a><a id="8872" href="Coherence.Hypotheses.html#8872" class="Field">t</a> <a id="H₃-args.A"></a><a id="8874" href="Coherence.Hypotheses.html#8874" class="Field">A</a> <a id="H₃-args.x"></a><a id="8876" href="Coherence.Hypotheses.html#8876" class="Field">x</a> <a id="H₃-args.v"></a><a id="8878" href="Coherence.Hypotheses.html#8878" class="Field">v</a><a id="8879" class="Symbol">}</a> <a id="8881" class="Symbol">:</a> <a id="8883" class="Symbol">_</a>
  <a id="8887" class="Keyword">open</a> <a id="8892" href="BitML.Contracts.ModuleMacros.html#761" class="Module">∣AD</a> <a id="8896" href="Coherence.Hypotheses.html#8866" class="Field">ad</a> <a id="8899" class="Keyword">public</a>
  <a id="8908" class="Keyword">field</a>
    <a id="8918" class="Comment">-- Hypotheses from [C-AuthInit]</a>
    <a id="H₃-args.committedA"></a><a id="8954" href="Coherence.Hypotheses.html#8954" class="Field">committedA</a> <a id="8965" class="Symbol">:</a> <a id="8967" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a> <a id="8973" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="8975" href="BitML.Semantics.Configurations.Helpers.html#11398" class="Function">committedParticipants</a> <a id="8997" href="Coherence.Hypotheses.html#8866" class="Field">ad</a> <a id="9000" href="Coherence.Hypotheses.html#8869" class="Field">Γ₀</a>
    <a id="H₃-args.A∈per"></a><a id="9007" href="Coherence.Hypotheses.html#9007" class="Field">A∈per</a> <a id="9013" class="Symbol">:</a> <a id="9015" class="Symbol">(</a><a id="9016" href="Coherence.Hypotheses.html#8874" class="Field">A</a> <a id="9018" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="9020" href="Coherence.Hypotheses.html#8878" class="Field">v</a> <a id="9022" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="9024" href="Coherence.Hypotheses.html#8876" class="Field">x</a><a id="9025" class="Symbol">)</a> <a id="9027" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="9029" href="BitML.Contracts.Collections.html#8546" class="Function">persistentDeposits</a> <a id="9048" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a>
  <a id="9052" class="Keyword">open</a> <a id="9057" href="Coherence.Hypotheses.html#1608" class="Module">Transition</a>
    <a id="9072" class="Symbol">(</a> <a id="9074" class="Symbol">(</a><a id="9075" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="9077" href="Coherence.Hypotheses.html#8866" class="Field">ad</a> <a id="9080" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="9082" href="Coherence.Hypotheses.html#8869" class="Field">Γ₀</a><a id="9084" class="Symbol">)</a> <a id="9086" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="9088" href="Coherence.Hypotheses.html#8872" class="Field">t</a>
    <a id="9094" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">——</a> <a id="9097" href="BitML.Semantics.Label.html#1109" class="InductiveConstructor Operator">auth-init⦅</a> <a id="9108" href="Coherence.Hypotheses.html#8874" class="Field">A</a> <a id="9110" href="BitML.Semantics.Label.html#1109" class="InductiveConstructor Operator">,</a> <a id="9112" href="Coherence.Hypotheses.html#8866" class="Field">ad</a> <a id="9115" href="BitML.Semantics.Label.html#1109" class="InductiveConstructor Operator">,</a> <a id="9117" href="Coherence.Hypotheses.html#8876" class="Field">x</a> <a id="9119" href="BitML.Semantics.Label.html#1109" class="InductiveConstructor Operator">⦆</a> <a id="9121" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">—→</a>
      <a id="9130" class="Symbol">(</a><a id="9131" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="9133" href="Coherence.Hypotheses.html#8866" class="Field">ad</a> <a id="9136" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="9138" href="Coherence.Hypotheses.html#8869" class="Field">Γ₀</a> <a id="9141" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="9143" href="Coherence.Hypotheses.html#8874" class="Field">A</a> <a id="9145" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="9151" href="Coherence.Hypotheses.html#8876" class="Field">x</a> <a id="9153" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="9156" href="Coherence.Hypotheses.html#8866" class="Field">ad</a> <a id="9159" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="9160" class="Symbol">)</a> <a id="9162" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="9164" href="Coherence.Hypotheses.html#8872" class="Field">t</a>
    <a id="9170" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⊣</a> <a id="9172" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="9176" class="Symbol">(</a><a id="9177" href="BitML.Semantics.InferenceRules.html#4369" class="InductiveConstructor">[C-AuthInit]</a> <a id="9190" href="Coherence.Hypotheses.html#8954" class="Field">committedA</a> <a id="9201" href="Coherence.Hypotheses.html#9007" class="Field">A∈per</a><a id="9206" class="Symbol">)</a>
    <a id="9212" class="Symbol">)</a> <a id="9214" class="Keyword">public</a> <a id="9221" class="Keyword">hiding</a> <a id="9228" class="Symbol">(</a><a id="9229" href="Coherence.Hypotheses.html#1685" class="Field">t</a><a id="9230" class="Symbol">)</a>
  <a id="9234" class="Keyword">field</a> <a id="H₃-args.𝕙r"></a><a id="9240" href="Coherence.Hypotheses.html#9240" class="Field">𝕙r</a> <a id="9243" class="Symbol">:</a> <a id="9245" href="Coherence.Hypotheses.html#1824" class="Record">ℍ-Run</a> <a id="9251" href="Coherence.Hypotheses.html#1795" class="Function">Γ→</a>
  <a id="9256" class="Keyword">open</a> <a id="9261" href="Coherence.Hypotheses.html#1824" class="Module">ℍ-Run</a> <a id="9267" href="Coherence.Hypotheses.html#9240" class="Field">𝕙r</a> <a id="9270" class="Keyword">public</a>

<a id="9278" class="Keyword">module</a> <a id="9285" href="Coherence.Hypotheses.html#9285" class="Module">H₃</a> <a id="9288" class="Symbol">(</a><a id="9289" href="Coherence.Hypotheses.html#9289" class="Bound">⋯</a> <a id="9291" class="Symbol">:</a> <a id="9293" href="Coherence.Hypotheses.html#8815" class="Record">H₃-args</a><a id="9300" class="Symbol">)</a> <a id="9302" class="Symbol">(</a><a id="9303" class="Keyword">open</a> <a id="9308" href="Coherence.Hypotheses.html#8815" class="Module">H₃-args</a> <a id="9316" href="Coherence.Hypotheses.html#9289" class="Bound">⋯</a><a id="9317" class="Symbol">)</a> <a id="9319" class="Keyword">where</a>
  <a id="9327" href="Coherence.Hypotheses.html#9327" class="Function">𝕘</a> <a id="9329" class="Symbol">:</a> <a id="9331" href="SymbolicModel.Mappings.html#1504" class="Function">𝔾</a> <a id="9333" href="Coherence.Hypotheses.html#8866" class="Field">ad</a>
  <a id="9338" href="Coherence.Hypotheses.html#9327" class="Function">𝕘</a> <a id="9340" class="Symbol">=</a> <a id="9342" href="Coherence.Helpers.html#1856" class="Function">LIFT₀</a> <a id="9348" href="Coherence.Hypotheses.html#2095" class="Function">𝕣</a> <a id="9350" href="Coherence.Hypotheses.html#8872" class="Field">t</a> <a id="9352" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="9354" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="9357" href="Coherence.Hypotheses.html#8866" class="Field">ad</a> <a id="9360" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="9362" href="Coherence.Hypotheses.html#8954" class="Field">committedA</a>

  <a id="9376" href="Coherence.Hypotheses.html#9376" class="Function">T</a> <a id="9378" class="Symbol">:</a> <a id="9380" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
  <a id="9386" href="Coherence.Hypotheses.html#9376" class="Function">T</a> <a id="9388" class="Symbol">=</a> <a id="9390" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="9393" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="9396" href="Coherence.Helpers.html#4326" class="Function">COMPILE-INIT</a> <a id="9409" href="Coherence.Hypotheses.html#9327" class="Function">𝕘</a>

  <a id="9414" href="Coherence.Hypotheses.html#9414" class="Function">names≡</a> <a id="9421" class="Symbol">:</a> <a id="9423" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="9426" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="9429" href="BitML.Contracts.Collections.html#4018" class="Function">names</a> <a id="9435" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="9437" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a>
  <a id="9441" href="Coherence.Hypotheses.html#9414" class="Function">names≡</a> <a id="9448" class="Keyword">rewrite</a> <a id="9456" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="9475" class="Symbol">{</a><a id="9476" class="Argument">X</a> <a id="9478" class="Symbol">=</a> <a id="9480" href="BitML.BasicTypes.html#375" class="Function">Name</a><a id="9484" class="Symbol">}</a> <a id="9486" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="9488" class="Symbol">(</a><a id="9489" href="Coherence.Hypotheses.html#8874" class="Field">A</a> <a id="9491" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="9497" href="Coherence.Hypotheses.html#8876" class="Field">x</a> <a id="9499" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="9502" href="Coherence.Hypotheses.html#8866" class="Field">ad</a> <a id="9505" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="9506" class="Symbol">)</a>
                <a id="9524" class="Symbol">=</a> <a id="9526" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="9541" class="Symbol">_</a>

  <a id="9546" href="Coherence.Hypotheses.html#9546" class="Function">ids≡</a> <a id="9551" class="Symbol">:</a> <a id="9553" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="9556" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="9559" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="9563" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="9565" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a>
  <a id="9569" href="Coherence.Hypotheses.html#9546" class="Function">ids≡</a> <a id="9574" class="Symbol">=</a> <a id="9576" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="9581" href="Prelude.Lists.Core.html#2266" class="Function">filter₂</a> <a id="9589" href="Coherence.Hypotheses.html#9414" class="Function">names≡</a>

  <a id="9599" href="Coherence.Hypotheses.html#9599" class="Function">secrets≡</a> <a id="9608" class="Symbol">:</a> <a id="9610" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="9613" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="9616" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="9624" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="9626" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a>
  <a id="9630" href="Coherence.Hypotheses.html#9599" class="Function">secrets≡</a> <a id="9639" class="Symbol">=</a> <a id="9641" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="9646" href="Prelude.Lists.Core.html#2207" class="Function">filter₁</a> <a id="9654" href="Coherence.Hypotheses.html#9414" class="Function">names≡</a>

  <a id="9664" href="Coherence.Hypotheses.html#9664" class="Function">ads≡</a> <a id="9669" class="Symbol">:</a> <a id="9671" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="9674" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="9677" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="9692" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="9694" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a>
  <a id="9698" href="Coherence.Hypotheses.html#9664" class="Function">ads≡</a> <a id="9703" class="Keyword">rewrite</a> <a id="9711" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="9730" class="Symbol">{</a><a id="9731" class="Argument">X</a> <a id="9733" class="Symbol">=</a> <a id="9735" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="9737" class="Symbol">}</a> <a id="9739" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="9741" class="Symbol">(</a><a id="9742" href="Coherence.Hypotheses.html#8874" class="Field">A</a> <a id="9744" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="9750" href="Coherence.Hypotheses.html#8876" class="Field">x</a> <a id="9752" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="9755" href="Coherence.Hypotheses.html#8866" class="Field">ad</a> <a id="9758" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="9759" class="Symbol">)</a>
              <a id="9775" class="Symbol">=</a> <a id="9777" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="9792" class="Symbol">_</a>

  <a id="9797" href="Coherence.Hypotheses.html#9797" class="Function">txout↝</a> <a id="9804" class="Symbol">:</a> <a id="9806" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="9808" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="9811" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="9817" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="9819" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
  <a id="9824" href="Coherence.Hypotheses.html#9797" class="Function">txout↝</a> <a id="9831" href="Coherence.Hypotheses.html#9831" class="Bound">txout′</a> <a id="9838" class="Keyword">rewrite</a> <a id="9846" href="Coherence.Hypotheses.html#9546" class="Function">ids≡</a> <a id="9851" class="Symbol">=</a> <a id="9853" href="Coherence.Hypotheses.html#9831" class="Bound">txout′</a>

  <a id="9863" href="Coherence.Hypotheses.html#9863" class="Function">sechash↝</a> <a id="9872" class="Symbol">:</a> <a id="9874" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="9876" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="9879" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="9887" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="9889" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
  <a id="9894" href="Coherence.Hypotheses.html#9863" class="Function">sechash↝</a> <a id="9903" href="Coherence.Hypotheses.html#9903" class="Bound">sechash′</a> <a id="9912" class="Keyword">rewrite</a> <a id="9920" href="Coherence.Hypotheses.html#9599" class="Function">secrets≡</a> <a id="9929" class="Symbol">=</a> <a id="9931" href="Coherence.Hypotheses.html#9903" class="Bound">sechash′</a>

  <a id="9943" href="Coherence.Hypotheses.html#9943" class="Function">κ↝</a> <a id="9946" class="Symbol">:</a> <a id="9948" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="9950" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="9953" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="9956" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="9958" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
  <a id="9963" href="Coherence.Hypotheses.html#9943" class="Function">κ↝</a> <a id="9966" href="Coherence.Hypotheses.html#9966" class="Bound">κ′</a> <a id="9969" class="Keyword">rewrite</a> <a id="9977" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="9996" class="Symbol">{</a><a id="9997" class="Argument">X</a> <a id="9999" class="Symbol">=</a> <a id="10001" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="10003" class="Symbol">}</a> <a id="10005" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="10007" class="Symbol">(</a><a id="10008" href="Coherence.Hypotheses.html#8874" class="Field">A</a> <a id="10010" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="10016" href="Coherence.Hypotheses.html#8876" class="Field">x</a> <a id="10018" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="10021" href="Coherence.Hypotheses.html#8866" class="Field">ad</a> <a id="10024" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="10025" class="Symbol">)</a>
              <a id="10041" class="Symbol">|</a> <a id="10043" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="10058" class="Symbol">(</a><a id="10059" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="10074" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a><a id="10075" class="Symbol">)</a>
              <a id="10091" class="Symbol">=</a> <a id="10093" href="Coherence.Hypotheses.html#9966" class="Bound">κ′</a>

  <a id="10099" href="Coherence.Hypotheses.html#10099" class="Function">λˢ</a> <a id="10102" class="Symbol">:</a> <a id="10104" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="10107" href="Coherence.Hypotheses.html#1761" class="Function">Γₜ′</a>
  <a id="10113" href="Coherence.Hypotheses.html#10099" class="Function">λˢ</a> <a id="10116" class="Symbol">=</a> <a id="10118" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="10124" href="Coherence.Hypotheses.html#2095" class="Function">𝕣</a> <a id="10126" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="10128" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="10131" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="10134" href="Coherence.Hypotheses.html#9797" class="Function">txout↝</a> <a id="10141" href="Coherence.Hypotheses.html#9863" class="Function">sechash↝</a> <a id="10150" href="Coherence.Hypotheses.html#9943" class="Function">κ↝</a>

<a id="10154" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[3]~_⨾_"></a><a id="10159" href="Coherence.Hypotheses.html#10159" class="Datatype Operator">_⨾_⨾_~ℍ[3]~_⨾_</a> <a id="10174" class="Symbol">:</a> <a id="10176" href="Coherence.Hypotheses.html#1468" class="Function">StepRel</a> <a id="10184" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[3]~_⨾_.mkℍ"></a><a id="10192" href="Coherence.Hypotheses.html#10192" class="InductiveConstructor">mkℍ</a> <a id="10196" class="Symbol">:</a> <a id="10198" class="Symbol">∀</a> <a id="10200" class="Symbol">{</a><a id="10201" href="Coherence.Hypotheses.html#10201" class="Bound">h</a> <a id="10203" class="Symbol">:</a> <a id="10205" href="Coherence.Hypotheses.html#8815" class="Record">H₃-args</a><a id="10212" class="Symbol">}</a> <a id="10214" class="Symbol">{</a><a id="10215" href="Coherence.Hypotheses.html#10215" class="Bound">B</a><a id="10216" class="Symbol">}</a>
    <a id="10222" class="Symbol">→</a> <a id="10224" class="Keyword">let</a>
        <a id="10236" class="Comment">-- (i) consume {G}C and its persistent deposits from Rˢ</a>
        <a id="10300" class="Keyword">open</a> <a id="10305" href="Coherence.Hypotheses.html#8815" class="Module">H₃-args</a> <a id="10313" href="Coherence.Hypotheses.html#10201" class="Bound">h</a>

        <a id="10324" class="Comment">-- (iv) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="10383" class="Keyword">open</a> <a id="10388" href="Coherence.Hypotheses.html#9285" class="Module">H₃</a> <a id="10391" href="Coherence.Hypotheses.html#10201" class="Bound">h</a> <a id="10393" class="Keyword">using</a> <a id="10399" class="Symbol">(</a><a id="10400" href="Coherence.Hypotheses.html#10099" class="Function">λˢ</a><a id="10402" class="Symbol">;</a> <a id="10404" href="Coherence.Hypotheses.html#9376" class="Function">T</a><a id="10405" class="Symbol">)</a>

        <a id="10416" class="Comment">-- (i) broadcast Tᵢₙᵢₜ , signed with A&#39;s private key</a>
        <a id="10477" href="Coherence.Hypotheses.html#10477" class="Bound">m</a> <a id="10479" class="Symbol">=</a> <a id="10481" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="10485" class="Symbol">(</a><a id="10486" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="10489" href="Coherence.Hypotheses.html#8874" class="Function">A</a><a id="10490" class="Symbol">)</a> <a id="10492" href="Coherence.Hypotheses.html#9376" class="Function">T</a>
        <a id="10502" href="Coherence.Hypotheses.html#10502" class="Bound">λᶜ</a> <a id="10505" class="Symbol">=</a> <a id="10507" href="Coherence.Hypotheses.html#10215" class="Bound">B</a> <a id="10509" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="10513" href="Coherence.Hypotheses.html#10477" class="Bound">m</a>
      <a id="10521" class="Keyword">in</a>

      <a id="10531" class="Comment">-- (ii) Tᵢₙᵢₜ occurs as a message in Rᶜ</a>
    <a id="10575" class="Symbol">∀</a> <a id="10577" class="Symbol">(</a><a id="10578" href="Coherence.Hypotheses.html#10578" class="Bound">∃B</a> <a id="10581" class="Symbol">:</a> <a id="10583" href="Data.Product.html#1378" class="Function">∃</a> <a id="10585" class="Symbol">λ</a> <a id="10587" href="Coherence.Hypotheses.html#10587" class="Bound">B</a> <a id="10589" class="Symbol">→</a> <a id="10591" href="Coherence.Hypotheses.html#10587" class="Bound">B</a> <a id="10593" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="10597" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="10604" class="Symbol">(</a><a id="10605" href="Coherence.Hypotheses.html#9376" class="Function">T</a> <a id="10607" class="Symbol">.</a><a id="10608" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="10614" class="Symbol">.</a><a id="10615" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="10620" class="Symbol">)</a> <a id="10622" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="10624" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="10631" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a><a id="10633" class="Symbol">)</a> <a id="10635" class="Symbol">→</a>

      <a id="10644" class="Comment">-- (iii) broadcast message in Rᶜ</a>
      <a id="10683" class="Comment">-- ∘ λᶜ is the first occurrence of such a message after Tinit in Rᶜ</a>
    <a id="10755" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="10757" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="10761" class="Symbol">(λ</a> <a id="10764" href="Coherence.Hypotheses.html#10764" class="Bound">l</a> <a id="10766" class="Symbol">→</a> <a id="10768" class="Symbol">∀</a> <a id="10770" href="Coherence.Hypotheses.html#10770" class="Bound">X</a> <a id="10772" class="Symbol">→</a> <a id="10774" href="Coherence.Hypotheses.html#10764" class="Bound">l</a> <a id="10776" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="10778" href="Coherence.Hypotheses.html#10770" class="Bound">X</a> <a id="10780" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="10784" href="Coherence.Hypotheses.html#10477" class="Bound">m</a><a id="10785" class="Symbol">)</a> <a id="10787" class="Symbol">(</a><a id="10788" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="10798" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="10800" href="Coherence.Hypotheses.html#10578" class="Bound">∃B</a> <a id="10803" class="Symbol">.</a><a id="10804" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="10809" class="Symbol">)</a>

      <a id="10818" href="Prelude.InferenceRules.html#12752" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="10878" href="Coherence.Hypotheses.html#2043" class="Function">Γₜ″</a> <a id="10882" href="Coherence.Hypotheses.html#10159" class="Datatype Operator">⨾</a> <a id="10884" href="Coherence.Hypotheses.html#1982" class="Function">𝕣∗</a> <a id="10887" href="Coherence.Hypotheses.html#10159" class="Datatype Operator">⨾</a> <a id="10889" class="Symbol">(</a><a id="10890" href="Coherence.Hypotheses.html#2129" class="Function">𝕒</a> <a id="10892" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="10894" href="Coherence.Hypotheses.html#10099" class="Function">λˢ</a><a id="10896" class="Symbol">)</a> <a id="10898" href="Coherence.Hypotheses.html#10159" class="Datatype Operator">~ℍ[3]~</a> <a id="10905" href="Coherence.Hypotheses.html#10502" class="Bound">λᶜ</a> <a id="10908" href="Coherence.Hypotheses.html#10159" class="Datatype Operator">⨾</a> <a id="10910" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a>

<a id="10914" class="Comment">-- ** Stipulation: activating the contract</a>
<a id="10957" class="Keyword">record</a> <a id="H₄-args"></a><a id="10964" href="Coherence.Hypotheses.html#10964" class="Record">H₄-args</a> <a id="10972" class="Symbol">:</a> <a id="10974" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="10979" class="Keyword">where</a>
  <a id="10987" class="Keyword">constructor</a> <a id="mk"></a><a id="10999" href="Coherence.Hypotheses.html#10999" class="InductiveConstructor">mk</a>
  <a id="11004" class="Keyword">field</a>
    <a id="11014" class="Symbol">{</a><a id="H₄-args.ad"></a><a id="11015" href="Coherence.Hypotheses.html#11015" class="Field">ad</a> <a id="H₄-args.Γ₀"></a><a id="11018" href="Coherence.Hypotheses.html#11018" class="Field">Γ₀</a> <a id="H₄-args.t"></a><a id="11021" href="Coherence.Hypotheses.html#11021" class="Field">t</a> <a id="H₄-args.z"></a><a id="11023" href="Coherence.Hypotheses.html#11023" class="Field">z</a><a id="11024" class="Symbol">}</a> <a id="11026" class="Symbol">:</a> <a id="11028" class="Symbol">_</a>
  <a id="11032" class="Keyword">open</a> <a id="11037" href="BitML.Contracts.ModuleMacros.html#761" class="Module">∣AD</a> <a id="11041" href="Coherence.Hypotheses.html#11015" class="Field">ad</a> <a id="11044" class="Keyword">public</a>
  <a id="H₄-args.ds"></a><a id="11053" href="Coherence.Hypotheses.html#11053" class="Function">ds</a> <a id="11056" class="Symbol">=</a> <a id="11058" href="BitML.Contracts.Collections.html#8546" class="Function">persistentDeposits</a> <a id="11077" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a>
  <a id="H₄-args.vs"></a><a id="11081" href="Coherence.Hypotheses.html#11081" class="Function">vs</a> <a id="11084" class="Symbol">=</a> <a id="11086" href="Data.List.Base.html#1553" class="Function">map</a> <a id="11090" href="Prelude.Nary.html#2292" class="Function">select₂</a> <a id="11098" href="Coherence.Hypotheses.html#11053" class="Function">ds</a>
  <a id="H₄-args.xs"></a><a id="11103" href="Coherence.Hypotheses.html#11103" class="Function">xs</a> <a id="11106" class="Symbol">=</a> <a id="11108" href="Data.List.Base.html#1553" class="Function">map</a> <a id="11112" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="11120" href="Coherence.Hypotheses.html#11053" class="Function">ds</a>
  <a id="H₄-args.v"></a><a id="11125" href="Coherence.Hypotheses.html#11125" class="Function">v</a>  <a id="11128" class="Symbol">=</a> <a id="11130" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="11134" href="Coherence.Hypotheses.html#11081" class="Function">vs</a>
  <a id="11139" class="Keyword">field</a>
    <a id="11149" class="Comment">-- Hypotheses from [C-Init]</a>
    <a id="H₄-args.fresh-z"></a><a id="11181" href="Coherence.Hypotheses.html#11181" class="Field">fresh-z</a> <a id="11189" class="Symbol">:</a> <a id="11191" href="Coherence.Hypotheses.html#11023" class="Field">z</a> <a id="11193" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="11195" href="Coherence.Hypotheses.html#11103" class="Function">xs</a> <a id="11198" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="11201" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="11205" href="Coherence.Hypotheses.html#11018" class="Field">Γ₀</a>
  <a id="H₄-args.Γ₁"></a><a id="11210" href="Coherence.Hypotheses.html#11210" class="Function">Γ₁</a> <a id="11213" class="Symbol">=</a> <a id="11215" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="11219" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="11221" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="11223" href="Coherence.Hypotheses.html#11015" class="Field">ad</a> <a id="11226" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="11228" href="Coherence.Hypotheses.html#11018" class="Field">Γ₀</a>
  <a id="H₄-args.Γ₂"></a><a id="11233" href="Coherence.Hypotheses.html#11233" class="Function">Γ₂</a> <a id="11236" class="Symbol">=</a> <a id="11238" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="11242" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="11244" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="11247" href="Data.List.Base.html#1553" class="Function">map</a> <a id="11251" class="Symbol">(λ{</a> <a id="11255" class="Symbol">(</a><a id="11256" href="Coherence.Hypotheses.html#11256" class="Bound">Aᵢ</a> <a id="11259" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="11261" href="Coherence.Hypotheses.html#11261" class="Bound">vᵢ</a> <a id="11264" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="11266" href="Coherence.Hypotheses.html#11266" class="Bound">xᵢ</a><a id="11268" class="Symbol">)</a> <a id="11270" class="Symbol">→</a>
    <a id="11276" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="11278" href="Coherence.Hypotheses.html#11256" class="Bound">Aᵢ</a> <a id="11281" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="11285" href="Coherence.Hypotheses.html#11261" class="Bound">vᵢ</a> <a id="11288" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="11292" href="Coherence.Hypotheses.html#11266" class="Bound">xᵢ</a> <a id="11295" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="11297" href="Coherence.Hypotheses.html#11256" class="Bound">Aᵢ</a> <a id="11300" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="11306" href="Coherence.Hypotheses.html#11266" class="Bound">xᵢ</a> <a id="11309" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="11313" href="Coherence.Hypotheses.html#11015" class="Field">ad</a> <a id="11316" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="11318" class="Symbol">})</a> <a id="11321" href="Coherence.Hypotheses.html#11053" class="Function">ds</a>
  <a id="H₄-args.Γ₃"></a><a id="11326" href="Coherence.Hypotheses.html#11326" class="Function">Γ₃</a> <a id="11329" class="Symbol">=</a> <a id="11331" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="11335" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="11337" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="11340" href="Data.List.Base.html#1553" class="Function">map</a> <a id="11344" class="Symbol">(</a><a id="11345" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">_auth[</a> <a id="11352" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="11355" href="Coherence.Hypotheses.html#11015" class="Field">ad</a> <a id="11358" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="11359" class="Symbol">)</a> <a id="11361" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a>
  <a id="11369" class="Keyword">open</a> <a id="11374" href="Coherence.Hypotheses.html#1608" class="Module">Transition</a>
    <a id="11389" class="Symbol">(</a> <a id="11391" class="Symbol">(</a><a id="11392" href="Coherence.Hypotheses.html#11210" class="Function">Γ₁</a> <a id="11395" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="11397" href="Coherence.Hypotheses.html#11233" class="Function">Γ₂</a> <a id="11400" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="11402" href="Coherence.Hypotheses.html#11326" class="Function">Γ₃</a><a id="11404" class="Symbol">)</a> <a id="11406" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="11408" href="Coherence.Hypotheses.html#11021" class="Field">t</a>
    <a id="11414" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">——</a> <a id="11417" href="BitML.Semantics.Label.html#1172" class="InductiveConstructor Operator">init⦅</a> <a id="11423" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a> <a id="11425" href="BitML.Semantics.Label.html#1172" class="InductiveConstructor Operator">,</a> <a id="11427" href="BitML.Contracts.ModuleMacros.html#783" class="Function">C</a> <a id="11429" href="BitML.Semantics.Label.html#1172" class="InductiveConstructor Operator">⦆</a> <a id="11431" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">—→</a>
      <a id="11440" class="Symbol">(</a><a id="11441" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="11443" href="BitML.Contracts.ModuleMacros.html#783" class="Function">C</a> <a id="11445" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="11447" href="Coherence.Hypotheses.html#11125" class="Function">v</a> <a id="11449" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="11453" href="Coherence.Hypotheses.html#11023" class="Field">z</a> <a id="11455" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="11457" href="Coherence.Hypotheses.html#11018" class="Field">Γ₀</a><a id="11459" class="Symbol">)</a> <a id="11461" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="11463" href="Coherence.Hypotheses.html#11021" class="Field">t</a>
    <a id="11469" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⊣</a> <a id="11471" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="11475" class="Symbol">(</a><a id="11476" href="BitML.Semantics.InferenceRules.html#4741" class="InductiveConstructor">[C-Init]</a> <a id="11485" href="Coherence.Hypotheses.html#11181" class="Field">fresh-z</a><a id="11492" class="Symbol">)</a>
    <a id="11498" class="Symbol">)</a> <a id="11500" class="Keyword">public</a> <a id="11507" class="Keyword">hiding</a> <a id="11514" class="Symbol">(</a><a id="11515" href="Coherence.Hypotheses.html#1685" class="Field">t</a><a id="11516" class="Symbol">)</a>
  <a id="11520" class="Keyword">field</a> <a id="H₄-args.𝕙r"></a><a id="11526" href="Coherence.Hypotheses.html#11526" class="Field">𝕙r</a> <a id="11529" class="Symbol">:</a> <a id="11531" href="Coherence.Hypotheses.html#1824" class="Record">ℍ-Run</a> <a id="11537" href="Coherence.Hypotheses.html#1795" class="Function">Γ→</a>
  <a id="11542" class="Keyword">open</a> <a id="11547" href="Coherence.Hypotheses.html#1824" class="Module">ℍ-Run</a> <a id="11553" href="Coherence.Hypotheses.html#11526" class="Field">𝕙r</a> <a id="11556" class="Keyword">public</a>

<a id="11564" class="Keyword">module</a> <a id="11571" href="Coherence.Hypotheses.html#11571" class="Module">H₄</a> <a id="11574" class="Symbol">(</a><a id="11575" href="Coherence.Hypotheses.html#11575" class="Bound">⋯</a> <a id="11577" class="Symbol">:</a> <a id="11579" href="Coherence.Hypotheses.html#10964" class="Record">H₄-args</a><a id="11586" class="Symbol">)</a> <a id="11588" class="Symbol">(</a><a id="11589" class="Keyword">open</a> <a id="11594" href="Coherence.Hypotheses.html#10964" class="Module">H₄-args</a> <a id="11602" href="Coherence.Hypotheses.html#11575" class="Bound">⋯</a><a id="11603" class="Symbol">)</a> <a id="11605" class="Keyword">where</a>
  <a id="11613" href="Coherence.Hypotheses.html#11613" class="Function">committedA</a> <a id="11624" class="Symbol">:</a> <a id="11626" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a> <a id="11632" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="11634" href="BitML.Semantics.Configurations.Helpers.html#11398" class="Function">committedParticipants</a> <a id="11656" href="Coherence.Hypotheses.html#11015" class="Field">ad</a> <a id="11659" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a>
  <a id="11663" href="Coherence.Hypotheses.html#11613" class="Function">committedA</a> <a id="11674" class="Symbol">{</a><a id="11675" href="Coherence.Hypotheses.html#11675" class="Bound">p</a><a id="11676" class="Symbol">}</a> <a id="11678" href="Coherence.Hypotheses.html#11678" class="Bound">p∈</a> <a id="11681" class="Symbol">=</a>
    <a id="11687" href="BitML.Semantics.Configurations.Helpers.html#8196" class="Function">∈-collect-++⁺ʳ</a> <a id="11702" class="Symbol">(</a><a id="11703" href="Coherence.Hypotheses.html#11210" class="Function">Γ₁</a> <a id="11706" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="11708" href="Coherence.Hypotheses.html#11233" class="Function">Γ₂</a><a id="11710" class="Symbol">)</a> <a id="11712" href="Coherence.Hypotheses.html#11326" class="Function">Γ₃</a> <a id="11715" class="Symbol">⦃</a> <a id="11717" href="BitML.Semantics.Configurations.Helpers.html#11543" class="Function">∣committedParticipants∣.go</a> <a id="11744" href="Coherence.Hypotheses.html#11015" class="Field">ad</a> <a id="11747" class="Symbol">⦄</a> <a id="11749" href="Coherence.Hypotheses.html#11763" class="Function">p∈′</a>
    <a id="11757" class="Keyword">where</a> <a id="11763" href="Coherence.Hypotheses.html#11763" class="Function">p∈′</a> <a id="11767" class="Symbol">:</a> <a id="11769" href="Coherence.Hypotheses.html#11675" class="Bound">p</a> <a id="11771" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="11773" href="BitML.Semantics.Configurations.Helpers.html#11398" class="Function">committedParticipants</a> <a id="11795" href="Coherence.Hypotheses.html#11015" class="Field">ad</a> <a id="11798" href="Coherence.Hypotheses.html#11326" class="Function">Γ₃</a>
          <a id="11811" href="Coherence.Hypotheses.html#11763" class="Function">p∈′</a> <a id="11815" class="Keyword">rewrite</a> <a id="11823" href="BitML.Semantics.Configurations.Helpers.html#12836" class="Function">committedPartG≡</a> <a id="11839" class="Symbol">{</a><a id="11840" href="Coherence.Hypotheses.html#11015" class="Field">ad</a><a id="11842" class="Symbol">}</a> <a id="11844" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a> <a id="11850" class="Symbol">=</a> <a id="11852" href="Coherence.Hypotheses.html#11678" class="Bound">p∈</a>

  <a id="11858" href="Coherence.Hypotheses.html#11858" class="Function">𝕘</a> <a id="11860" class="Symbol">:</a> <a id="11862" href="SymbolicModel.Mappings.html#1504" class="Function">𝔾</a> <a id="11864" href="Coherence.Hypotheses.html#11015" class="Field">ad</a>
  <a id="11869" href="Coherence.Hypotheses.html#11858" class="Function">𝕘</a> <a id="11871" class="Symbol">=</a> <a id="11873" href="Coherence.Helpers.html#1856" class="Function">LIFT₀</a> <a id="11879" href="Coherence.Hypotheses.html#2095" class="Function">𝕣</a> <a id="11881" href="Coherence.Hypotheses.html#11021" class="Field">t</a> <a id="11883" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="11885" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="11888" href="Coherence.Hypotheses.html#11015" class="Field">ad</a> <a id="11891" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="11893" href="Coherence.Hypotheses.html#11613" class="Function">committedA</a>

  <a id="11907" href="Coherence.Hypotheses.html#11907" class="Function">T</a> <a id="11909" class="Symbol">:</a> <a id="11911" href="Compiler.Outputs.html#206" class="Function">InitTx</a> <a id="11918" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a>
  <a id="11922" href="Coherence.Hypotheses.html#11907" class="Function">T</a> <a id="11924" class="Symbol">=</a> <a id="11926" href="Coherence.Helpers.html#4326" class="Function">COMPILE-INIT</a> <a id="11939" href="Coherence.Hypotheses.html#11858" class="Function">𝕘</a>

  <a id="11944" href="Coherence.Hypotheses.html#11944" class="Function">mkAuth</a> <a id="11951" class="Symbol">:</a> <a id="11953" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a> <a id="11965" class="Symbol">→</a> <a id="11967" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a>
  <a id="11973" href="Coherence.Hypotheses.html#11944" class="Function">mkAuth</a> <a id="11980" class="Symbol">=</a> <a id="11982" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||_</a>
          <a id="11996" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="11998" href="Data.List.Base.html#1553" class="Function">map</a> <a id="12002" class="Symbol">λ{</a> <a id="12005" class="Symbol">(</a><a id="12006" href="Coherence.Hypotheses.html#12006" class="Bound">Aᵢ</a> <a id="12009" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="12011" href="Coherence.Hypotheses.html#12011" class="Bound">vᵢ</a> <a id="12014" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="12016" href="Coherence.Hypotheses.html#12016" class="Bound">xᵢ</a><a id="12018" class="Symbol">)</a> <a id="12020" class="Symbol">→</a> <a id="12022" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="12024" href="Coherence.Hypotheses.html#12006" class="Bound">Aᵢ</a> <a id="12027" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="12031" href="Coherence.Hypotheses.html#12011" class="Bound">vᵢ</a> <a id="12034" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="12038" href="Coherence.Hypotheses.html#12016" class="Bound">xᵢ</a> <a id="12041" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="12043" href="Coherence.Hypotheses.html#12006" class="Bound">Aᵢ</a> <a id="12046" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="12052" href="Coherence.Hypotheses.html#12016" class="Bound">xᵢ</a> <a id="12055" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="12059" href="Coherence.Hypotheses.html#11015" class="Field">ad</a> <a id="12062" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="12064" class="Symbol">}</a>

  <a id="12069" href="Coherence.Hypotheses.html#12069" class="Function">h₀</a> <a id="12072" class="Symbol">:</a> <a id="12074" class="Symbol">∀</a> <a id="12076" href="Coherence.Hypotheses.html#12076" class="Bound">ps</a> <a id="12079" class="Symbol">→</a> <a id="12081" href="Prelude.Null.html#263" class="Field">Null</a> <a id="12086" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="12088" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="12092" class="Symbol">(</a><a id="12093" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="12096" href="Data.List.Base.html#1553" class="Function">map</a> <a id="12100" class="Symbol">(</a><a id="12101" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">_auth[</a> <a id="12108" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="12111" href="Coherence.Hypotheses.html#11015" class="Field">ad</a> <a id="12114" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="12115" class="Symbol">)</a> <a id="12117" href="Coherence.Hypotheses.html#12076" class="Bound">ps</a><a id="12119" class="Symbol">)</a>
  <a id="12123" href="Coherence.Hypotheses.html#12069" class="Function">h₀</a> <a id="12126" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="12129" class="Symbol">=</a> <a id="12131" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="12138" href="Coherence.Hypotheses.html#12069" class="Function">h₀</a> <a id="12141" class="Symbol">(_</a> <a id="12144" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="12146" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="12148" class="Symbol">)</a> <a id="12150" class="Symbol">=</a> <a id="12152" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="12159" href="Coherence.Hypotheses.html#12069" class="Function">h₀</a> <a id="12162" class="Symbol">(_</a> <a id="12165" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="12167" href="Coherence.Hypotheses.html#12167" class="Bound">ps</a><a id="12169" class="Symbol">@(_</a> <a id="12173" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="12175" class="Symbol">_))</a> <a id="12179" class="Symbol">=</a> <a id="12181" href="Coherence.Hypotheses.html#12069" class="Function">h₀</a> <a id="12184" href="Coherence.Hypotheses.html#12167" class="Bound">ps</a>

  <a id="12190" href="Coherence.Hypotheses.html#12190" class="Function">h₀′</a> <a id="12194" class="Symbol">:</a> <a id="12196" class="Symbol">∀</a> <a id="12198" class="Symbol">(</a><a id="12199" href="Coherence.Hypotheses.html#12199" class="Bound">ds</a> <a id="12202" class="Symbol">:</a> <a id="12204" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="12215" class="Symbol">)</a> <a id="12217" class="Symbol">→</a> <a id="12219" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="12223" class="Symbol">(</a><a id="12224" href="Coherence.Hypotheses.html#11944" class="Function">mkAuth</a> <a id="12231" href="Coherence.Hypotheses.html#12199" class="Bound">ds</a><a id="12233" class="Symbol">)</a> <a id="12235" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="12237" href="Data.List.Base.html#1553" class="Function">map</a> <a id="12241" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="12249" href="Coherence.Hypotheses.html#12199" class="Bound">ds</a>
  <a id="12254" href="Coherence.Hypotheses.html#12190" class="Function">h₀′</a> <a id="12258" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="12261" class="Symbol">=</a> <a id="12263" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="12270" href="Coherence.Hypotheses.html#12190" class="Function">h₀′</a> <a id="12274" class="Symbol">(_</a> <a id="12277" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="12279" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="12281" class="Symbol">)</a> <a id="12283" class="Symbol">=</a> <a id="12285" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="12292" href="Coherence.Hypotheses.html#12190" class="Function">h₀′</a> <a id="12296" class="Symbol">((</a><a id="12298" href="Coherence.Hypotheses.html#12298" class="Bound">Aᵢ</a> <a id="12301" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="12303" href="Coherence.Hypotheses.html#12303" class="Bound">vᵢ</a> <a id="12306" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="12308" href="Coherence.Hypotheses.html#12308" class="Bound">xᵢ</a><a id="12310" class="Symbol">)</a> <a id="12312" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="12314" href="Coherence.Hypotheses.html#12314" class="Bound">ds</a><a id="12316" class="Symbol">@(_</a> <a id="12320" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="12322" class="Symbol">_))</a> <a id="12326" class="Symbol">=</a>
    <a id="12332" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
      <a id="12344" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="12348" class="Symbol">((</a><a id="12350" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="12352" href="Coherence.Hypotheses.html#12298" class="Bound">Aᵢ</a> <a id="12355" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="12359" href="Coherence.Hypotheses.html#12303" class="Bound">vᵢ</a> <a id="12362" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="12366" href="Coherence.Hypotheses.html#12308" class="Bound">xᵢ</a> <a id="12369" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="12371" href="Coherence.Hypotheses.html#12298" class="Bound">Aᵢ</a> <a id="12374" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="12380" href="Coherence.Hypotheses.html#12308" class="Bound">xᵢ</a> <a id="12383" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="12387" href="Coherence.Hypotheses.html#11015" class="Field">ad</a> <a id="12390" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="12391" class="Symbol">)</a> <a id="12393" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="12395" href="Coherence.Hypotheses.html#12883" class="Function">Δ</a><a id="12396" class="Symbol">)</a>
    <a id="12402" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="12405" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="12433" href="Data.Sum.html#838" class="Function">isInj₂</a>
        <a id="12448" class="Symbol">(</a><a id="12449" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="12451" href="Coherence.Hypotheses.html#12298" class="Bound">Aᵢ</a> <a id="12454" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="12458" href="Coherence.Hypotheses.html#12303" class="Bound">vᵢ</a> <a id="12461" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="12465" href="Coherence.Hypotheses.html#12308" class="Bound">xᵢ</a> <a id="12468" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="12470" href="Coherence.Hypotheses.html#12298" class="Bound">Aᵢ</a> <a id="12473" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="12479" href="Coherence.Hypotheses.html#12308" class="Bound">xᵢ</a> <a id="12482" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="12485" href="Coherence.Hypotheses.html#11015" class="Field">ad</a> <a id="12488" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="12489" class="Symbol">)</a> <a id="12491" href="Coherence.Hypotheses.html#12883" class="Function">Δ</a> <a id="12493" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="12501" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="12505" class="Symbol">(</a><a id="12506" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="12508" href="Coherence.Hypotheses.html#12298" class="Bound">Aᵢ</a> <a id="12511" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="12515" href="Coherence.Hypotheses.html#12303" class="Bound">vᵢ</a> <a id="12518" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="12522" href="Coherence.Hypotheses.html#12308" class="Bound">xᵢ</a> <a id="12525" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="12527" href="Coherence.Hypotheses.html#12298" class="Bound">Aᵢ</a> <a id="12530" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="12536" href="Coherence.Hypotheses.html#12308" class="Bound">xᵢ</a> <a id="12539" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="12543" href="Coherence.Hypotheses.html#11015" class="Field">ad</a> <a id="12546" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="12547" class="Symbol">)</a> <a id="12549" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="12552" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="12556" href="Coherence.Hypotheses.html#12883" class="Function">Δ</a>
    <a id="12562" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="12565" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="12570" class="Symbol">(</a><a id="12571" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="12575" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="12579" href="Coherence.Hypotheses.html#12883" class="Function">Δ</a><a id="12580" class="Symbol">)</a> <a id="12582" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="12584" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="12612" href="Data.Sum.html#838" class="Function">isInj₂</a>
        <a id="12627" class="Symbol">(</a><a id="12628" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="12630" href="Coherence.Hypotheses.html#12298" class="Bound">Aᵢ</a> <a id="12633" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="12637" href="Coherence.Hypotheses.html#12303" class="Bound">vᵢ</a> <a id="12640" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="12644" href="Coherence.Hypotheses.html#12308" class="Bound">xᵢ</a><a id="12646" class="Symbol">)</a> <a id="12648" class="Symbol">(</a><a id="12649" href="Coherence.Hypotheses.html#12298" class="Bound">Aᵢ</a> <a id="12652" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="12658" href="Coherence.Hypotheses.html#12308" class="Bound">xᵢ</a> <a id="12661" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="12664" href="Coherence.Hypotheses.html#11015" class="Field">ad</a> <a id="12667" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="12668" class="Symbol">)</a> <a id="12670" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="12678" class="Symbol">(</a><a id="12679" href="Coherence.Hypotheses.html#12308" class="Bound">xᵢ</a> <a id="12682" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="12684" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="12688" class="Symbol">(</a><a id="12689" href="Coherence.Hypotheses.html#12298" class="Bound">Aᵢ</a> <a id="12692" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="12698" href="Coherence.Hypotheses.html#12308" class="Bound">xᵢ</a> <a id="12701" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="12704" href="Coherence.Hypotheses.html#11015" class="Field">ad</a> <a id="12707" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="12708" class="Symbol">))</a> <a id="12711" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="12714" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="12718" href="Coherence.Hypotheses.html#12883" class="Function">Δ</a>
    <a id="12724" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="12727" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="12732" class="Symbol">(λ</a> <a id="12735" href="Coherence.Hypotheses.html#12735" class="Bound">x</a> <a id="12737" class="Symbol">→</a> <a id="12739" class="Symbol">(</a><a id="12740" href="Coherence.Hypotheses.html#12308" class="Bound">xᵢ</a> <a id="12743" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="12745" href="Coherence.Hypotheses.html#12735" class="Bound">x</a><a id="12746" class="Symbol">)</a> <a id="12748" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="12751" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="12755" href="Coherence.Hypotheses.html#12883" class="Function">Δ</a><a id="12756" class="Symbol">)</a> <a id="12758" class="Symbol">(</a><a id="12759" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="12774" class="Symbol">_)</a> <a id="12777" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="12785" href="Coherence.Hypotheses.html#12308" class="Bound">xᵢ</a> <a id="12788" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="12790" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="12794" href="Coherence.Hypotheses.html#12883" class="Function">Δ</a>
    <a id="12800" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="12803" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="12808" class="Symbol">(</a><a id="12809" href="Coherence.Hypotheses.html#12308" class="Bound">xᵢ</a> <a id="12812" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷_</a><a id="12814" class="Symbol">)</a> <a id="12816" class="Symbol">(</a><a id="12817" href="Coherence.Hypotheses.html#12190" class="Function">h₀′</a> <a id="12821" href="Coherence.Hypotheses.html#12314" class="Bound">ds</a><a id="12823" class="Symbol">)</a> <a id="12825" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="12833" href="Coherence.Hypotheses.html#12308" class="Bound">xᵢ</a> <a id="12836" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="12838" href="Data.List.Base.html#1553" class="Function">map</a> <a id="12842" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="12850" href="Coherence.Hypotheses.html#12314" class="Bound">ds</a>
    <a id="12857" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="12859" class="Keyword">where</a> <a id="12865" class="Keyword">open</a> <a id="12870" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a><a id="12881" class="Symbol">;</a> <a id="12883" href="Coherence.Hypotheses.html#12883" class="Function">Δ</a> <a id="12885" class="Symbol">=</a> <a id="12887" href="Coherence.Hypotheses.html#11944" class="Function">mkAuth</a> <a id="12894" href="Coherence.Hypotheses.html#12314" class="Bound">ds</a>

  <a id="12900" href="Coherence.Hypotheses.html#12900" class="Function">h₁</a> <a id="12903" class="Symbol">:</a> <a id="12905" class="Symbol">∀</a> <a id="12907" class="Symbol">(</a><a id="12908" href="Coherence.Hypotheses.html#12908" class="Bound">xs</a> <a id="12911" class="Symbol">:</a> <a id="12913" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="12924" class="Symbol">)</a> <a id="12926" class="Symbol">→</a> <a id="12928" href="Prelude.Null.html#263" class="Field">Null</a> <a id="12933" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="12935" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="12943" class="Symbol">(</a><a id="12944" href="Coherence.Hypotheses.html#11944" class="Function">mkAuth</a> <a id="12951" href="Coherence.Hypotheses.html#12908" class="Bound">xs</a><a id="12953" class="Symbol">)</a>
  <a id="12957" href="Coherence.Hypotheses.html#12900" class="Function">h₁</a> <a id="12960" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="12963" class="Symbol">=</a> <a id="12965" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="12972" href="Coherence.Hypotheses.html#12900" class="Function">h₁</a> <a id="12975" class="Symbol">(_</a> <a id="12978" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="12980" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="12982" class="Symbol">)</a> <a id="12984" class="Symbol">=</a> <a id="12986" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="12993" href="Coherence.Hypotheses.html#12900" class="Function">h₁</a> <a id="12996" class="Symbol">(_</a> <a id="12999" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13001" href="Coherence.Hypotheses.html#13001" class="Bound">xs</a><a id="13003" class="Symbol">@(_</a> <a id="13007" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13009" class="Symbol">_))</a> <a id="13013" class="Symbol">=</a> <a id="13015" href="Coherence.Hypotheses.html#12900" class="Function">h₁</a> <a id="13018" href="Coherence.Hypotheses.html#13001" class="Bound">xs</a>

  <a id="13024" href="Coherence.Hypotheses.html#13024" class="Function">h₂</a> <a id="13027" class="Symbol">:</a> <a id="13029" class="Symbol">∀</a> <a id="13031" href="Coherence.Hypotheses.html#13031" class="Bound">xs</a> <a id="13034" class="Symbol">→</a> <a id="13036" href="Prelude.Null.html#263" class="Field">Null</a> <a id="13041" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="13043" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="13051" class="Symbol">(</a><a id="13052" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="13055" href="Data.List.Base.html#1553" class="Function">map</a> <a id="13059" class="Symbol">(</a><a id="13060" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">_auth[</a> <a id="13067" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="13070" href="Coherence.Hypotheses.html#11015" class="Field">ad</a> <a id="13073" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="13074" class="Symbol">)</a> <a id="13076" href="Coherence.Hypotheses.html#13031" class="Bound">xs</a><a id="13078" class="Symbol">)</a>
  <a id="13082" href="Coherence.Hypotheses.html#13024" class="Function">h₂</a> <a id="13085" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="13088" class="Symbol">=</a> <a id="13090" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="13097" href="Coherence.Hypotheses.html#13024" class="Function">h₂</a> <a id="13100" class="Symbol">(_</a> <a id="13103" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13105" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="13107" class="Symbol">)</a> <a id="13109" class="Symbol">=</a> <a id="13111" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="13118" href="Coherence.Hypotheses.html#13024" class="Function">h₂</a> <a id="13121" class="Symbol">(_</a> <a id="13124" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13126" href="Coherence.Hypotheses.html#13126" class="Bound">xs</a><a id="13128" class="Symbol">@(_</a> <a id="13132" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13134" class="Symbol">_))</a> <a id="13138" class="Symbol">=</a> <a id="13140" href="Coherence.Hypotheses.html#13024" class="Function">h₂</a> <a id="13143" href="Coherence.Hypotheses.html#13126" class="Bound">xs</a>

  <a id="13149" href="Coherence.Hypotheses.html#13149" class="Function">h₁′</a> <a id="13153" class="Symbol">:</a> <a id="13155" class="Symbol">∀</a> <a id="13157" class="Symbol">(</a><a id="13158" href="Coherence.Hypotheses.html#13158" class="Bound">xs</a> <a id="13161" class="Symbol">:</a> <a id="13163" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="13174" class="Symbol">)</a> <a id="13176" class="Symbol">→</a> <a id="13178" href="Prelude.Null.html#263" class="Field">Null</a> <a id="13183" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="13185" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="13200" class="Symbol">(</a><a id="13201" href="Coherence.Hypotheses.html#11944" class="Function">mkAuth</a> <a id="13208" href="Coherence.Hypotheses.html#13158" class="Bound">xs</a><a id="13210" class="Symbol">)</a>
  <a id="13214" href="Coherence.Hypotheses.html#13149" class="Function">h₁′</a> <a id="13218" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="13221" class="Symbol">=</a> <a id="13223" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="13230" href="Coherence.Hypotheses.html#13149" class="Function">h₁′</a> <a id="13234" class="Symbol">(_</a> <a id="13237" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13239" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="13241" class="Symbol">)</a> <a id="13243" class="Symbol">=</a> <a id="13245" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="13252" href="Coherence.Hypotheses.html#13149" class="Function">h₁′</a> <a id="13256" class="Symbol">(_</a> <a id="13259" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13261" href="Coherence.Hypotheses.html#13261" class="Bound">xs</a><a id="13263" class="Symbol">@(_</a> <a id="13267" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13269" class="Symbol">_))</a> <a id="13273" class="Symbol">=</a> <a id="13275" href="Coherence.Hypotheses.html#13149" class="Function">h₁′</a> <a id="13279" href="Coherence.Hypotheses.html#13261" class="Bound">xs</a>

  <a id="13285" href="Coherence.Hypotheses.html#13285" class="Function">ids≡</a> <a id="13290" class="Symbol">:</a> <a id="13292" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13296" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="13298" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="13300" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13304" href="Coherence.Hypotheses.html#11018" class="Field">Γ₀</a> <a id="13307" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="13310" href="Data.List.Base.html#1553" class="Function">map</a> <a id="13314" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="13322" href="Coherence.Hypotheses.html#11053" class="Function">ds</a>
  <a id="13327" href="Coherence.Hypotheses.html#13285" class="Function">ids≡</a> <a id="13332" class="Symbol">=</a> <a id="13334" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
    <a id="13344" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13348" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a>                    <a id="13369" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="13372" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="13400" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="13407" class="Symbol">(</a><a id="13408" href="Coherence.Hypotheses.html#11210" class="Function">Γ₁</a> <a id="13411" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="13413" href="Coherence.Hypotheses.html#11233" class="Function">Γ₂</a><a id="13415" class="Symbol">)</a> <a id="13417" href="Coherence.Hypotheses.html#11326" class="Function">Γ₃</a> <a id="13420" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="13426" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13430" class="Symbol">(</a><a id="13431" href="Coherence.Hypotheses.html#11210" class="Function">Γ₁</a> <a id="13434" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="13436" href="Coherence.Hypotheses.html#11233" class="Function">Γ₂</a><a id="13438" class="Symbol">)</a> <a id="13440" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="13443" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13447" href="Coherence.Hypotheses.html#11326" class="Function">Γ₃</a>  <a id="13451" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="13454" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="13459" class="Symbol">(</a><a id="13460" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13464" class="Symbol">(</a><a id="13465" href="Coherence.Hypotheses.html#11210" class="Function">Γ₁</a> <a id="13468" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="13470" href="Coherence.Hypotheses.html#11233" class="Function">Γ₂</a><a id="13472" class="Symbol">)</a> <a id="13474" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="13477" class="Symbol">)</a> <a id="13479" class="Symbol">(</a><a id="13480" href="Coherence.Hypotheses.html#12069" class="Function">h₀</a> <a id="13483" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a><a id="13488" class="Symbol">)</a> <a id="13490" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="13496" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13500" class="Symbol">(</a><a id="13501" href="Coherence.Hypotheses.html#11210" class="Function">Γ₁</a> <a id="13504" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="13506" href="Coherence.Hypotheses.html#11233" class="Function">Γ₂</a><a id="13508" class="Symbol">)</a> <a id="13510" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="13513" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>      <a id="13521" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="13524" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="13539" class="Symbol">_</a> <a id="13541" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="13547" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13551" class="Symbol">(</a><a id="13552" href="Coherence.Hypotheses.html#11210" class="Function">Γ₁</a> <a id="13555" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="13557" href="Coherence.Hypotheses.html#11233" class="Function">Γ₂</a><a id="13559" class="Symbol">)</a>            <a id="13572" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="13575" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="13603" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="13610" href="Coherence.Hypotheses.html#11210" class="Function">Γ₁</a> <a id="13613" href="Coherence.Hypotheses.html#11233" class="Function">Γ₂</a> <a id="13616" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="13622" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13626" href="Coherence.Hypotheses.html#11210" class="Function">Γ₁</a> <a id="13629" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="13632" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13636" href="Coherence.Hypotheses.html#11233" class="Function">Γ₂</a>         <a id="13647" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="13650" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="13655" class="Symbol">(</a><a id="13656" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="13660" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13664" href="Coherence.Hypotheses.html#11233" class="Function">Γ₂</a><a id="13666" class="Symbol">)</a>
                                  <a id="13702" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="13704" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="13732" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="13739" class="Symbol">(</a><a id="13740" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="13742" href="Coherence.Hypotheses.html#11015" class="Field">ad</a><a id="13744" class="Symbol">)</a> <a id="13746" href="Coherence.Hypotheses.html#11018" class="Field">Γ₀</a> <a id="13749" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="13755" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13759" href="Coherence.Hypotheses.html#11018" class="Field">Γ₀</a> <a id="13762" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="13765" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13769" href="Coherence.Hypotheses.html#11233" class="Function">Γ₂</a>         <a id="13780" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="13783" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="13788" class="Symbol">(</a><a id="13789" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13793" href="Coherence.Hypotheses.html#11018" class="Field">Γ₀</a> <a id="13796" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="13799" class="Symbol">)</a> <a id="13801" class="Symbol">(</a><a id="13802" href="Coherence.Hypotheses.html#12190" class="Function">h₀′</a> <a id="13806" href="Coherence.Hypotheses.html#11053" class="Function">ds</a><a id="13808" class="Symbol">)</a> <a id="13810" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="13816" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13820" href="Coherence.Hypotheses.html#11018" class="Field">Γ₀</a> <a id="13823" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="13826" href="Data.List.Base.html#1553" class="Function">map</a> <a id="13830" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="13838" href="Coherence.Hypotheses.html#11053" class="Function">ds</a> <a id="13841" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="13843" class="Keyword">where</a> <a id="13849" class="Keyword">open</a> <a id="13854" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

  <a id="13869" href="Coherence.Hypotheses.html#13869" class="Function">secrets≡</a> <a id="13878" class="Symbol">:</a> <a id="13880" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="13883" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="13886" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="13894" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="13896" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a>
  <a id="13900" href="Coherence.Hypotheses.html#13869" class="Function">secrets≡</a> <a id="13909" class="Symbol">=</a> <a id="13911" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="13915" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="13917" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
    <a id="13927" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="13935" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a>                       <a id="13959" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
    <a id="13967" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="13975" class="Symbol">(</a><a id="13976" href="Coherence.Hypotheses.html#11210" class="Function">Γ₁</a> <a id="13979" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="13981" href="Coherence.Hypotheses.html#11233" class="Function">Γ₂</a> <a id="13984" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="13986" href="Coherence.Hypotheses.html#11326" class="Function">Γ₃</a><a id="13988" class="Symbol">)</a>          <a id="13999" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="14002" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="14030" href="Data.Sum.html#755" class="Function">isInj₁</a>
                                          <a id="14079" class="Symbol">(</a><a id="14080" href="Coherence.Hypotheses.html#11210" class="Function">Γ₁</a> <a id="14083" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14085" href="Coherence.Hypotheses.html#11233" class="Function">Γ₂</a><a id="14087" class="Symbol">)</a> <a id="14089" href="Coherence.Hypotheses.html#11326" class="Function">Γ₃</a> <a id="14092" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="14098" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="14106" class="Symbol">(</a><a id="14107" href="Coherence.Hypotheses.html#11210" class="Function">Γ₁</a> <a id="14110" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14112" href="Coherence.Hypotheses.html#11233" class="Function">Γ₂</a><a id="14114" class="Symbol">)</a> <a id="14116" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="14119" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="14127" href="Coherence.Hypotheses.html#11326" class="Function">Γ₃</a> <a id="14130" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="14133" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="14138" class="Symbol">(</a><a id="14139" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="14147" class="Symbol">(</a><a id="14148" href="Coherence.Hypotheses.html#11210" class="Function">Γ₁</a> <a id="14151" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14153" href="Coherence.Hypotheses.html#11233" class="Function">Γ₂</a><a id="14155" class="Symbol">)</a>  <a id="14158" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="14161" class="Symbol">)</a> <a id="14163" class="Symbol">(</a><a id="14164" href="Coherence.Hypotheses.html#13024" class="Function">h₂</a> <a id="14167" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a><a id="14172" class="Symbol">)</a> <a id="14174" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="14180" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="14188" class="Symbol">(</a><a id="14189" href="Coherence.Hypotheses.html#11210" class="Function">Γ₁</a> <a id="14192" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14194" href="Coherence.Hypotheses.html#11233" class="Function">Γ₂</a><a id="14196" class="Symbol">)</a> <a id="14198" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="14201" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>         <a id="14212" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="14215" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="14230" class="Symbol">_</a> <a id="14232" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="14238" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="14246" class="Symbol">(</a><a id="14247" href="Coherence.Hypotheses.html#11210" class="Function">Γ₁</a> <a id="14250" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14252" href="Coherence.Hypotheses.html#11233" class="Function">Γ₂</a><a id="14254" class="Symbol">)</a>               <a id="14270" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="14273" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="14301" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="14308" href="Coherence.Hypotheses.html#11210" class="Function">Γ₁</a> <a id="14311" href="Coherence.Hypotheses.html#11233" class="Function">Γ₂</a> <a id="14314" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="14320" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="14328" href="Coherence.Hypotheses.html#11210" class="Function">Γ₁</a> <a id="14331" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="14334" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="14342" href="Coherence.Hypotheses.html#11233" class="Function">Γ₂</a>        <a id="14352" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="14355" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="14360" class="Symbol">(</a><a id="14361" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="14369" href="Coherence.Hypotheses.html#11210" class="Function">Γ₁</a> <a id="14372" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="14375" class="Symbol">)</a> <a id="14377" class="Symbol">(</a><a id="14378" href="Coherence.Hypotheses.html#12900" class="Function">h₁</a> <a id="14381" href="Coherence.Hypotheses.html#11053" class="Function">ds</a><a id="14383" class="Symbol">)</a> <a id="14385" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="14391" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="14399" href="Coherence.Hypotheses.html#11210" class="Function">Γ₁</a> <a id="14402" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="14405" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>                <a id="14423" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="14426" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="14441" class="Symbol">_</a> <a id="14443" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="14449" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="14457" href="Coherence.Hypotheses.html#11210" class="Function">Γ₁</a>                      <a id="14481" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
    <a id="14489" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="14497" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>                      <a id="14521" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="14523" class="Keyword">where</a> <a id="14529" class="Keyword">open</a> <a id="14534" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

  <a id="14549" href="Coherence.Hypotheses.html#14549" class="Function">ads⊆′</a> <a id="14555" class="Symbol">:</a> <a id="14557" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="14560" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="14563" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="14578" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="14580" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a>
  <a id="14584" href="Coherence.Hypotheses.html#14549" class="Function">ads⊆′</a> <a id="14590" class="Symbol">=</a> <a id="14592" href="Relation.Binary.Reasoning.Base.Double.html#2222" class="Function Operator">begin</a>
    <a id="14602" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="14617" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="14620" href="Relation.Binary.Reasoning.Base.Double.html#3560" class="Function Operator">≡⟨⟩</a>
    <a id="14628" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="14643" href="Coherence.Hypotheses.html#11018" class="Field">Γ₀</a> <a id="14646" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="14649" href="BitML.Semantics.Configurations.Helpers.html#7992" class="Function">∈-collect-++⁺ˡ</a> <a id="14664" class="Symbol">(</a><a id="14665" href="Coherence.Hypotheses.html#11210" class="Function">Γ₁</a> <a id="14668" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14670" href="Coherence.Hypotheses.html#11233" class="Function">Γ₂</a><a id="14672" class="Symbol">)</a> <a id="14674" href="Coherence.Hypotheses.html#11326" class="Function">Γ₃</a> <a id="14677" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="14679" href="BitML.Semantics.Configurations.Helpers.html#7992" class="Function">∈-collect-++⁺ˡ</a> <a id="14694" href="Coherence.Hypotheses.html#11210" class="Function">Γ₁</a> <a id="14697" href="Coherence.Hypotheses.html#11233" class="Function">Γ₂</a> <a id="14700" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
    <a id="14706" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="14721" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a>  <a id="14724" href="Relation.Binary.Reasoning.Base.Double.html#3656" class="Function Operator">∎</a> <a id="14726" class="Keyword">where</a> <a id="14732" class="Keyword">open</a> <a id="14737" href="Data.List.Relation.Binary.Subset.Propositional.Properties.html#3760" class="Module">⊆-Reasoning</a> <a id="14749" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a>

  <a id="14755" href="Coherence.Hypotheses.html#14755" class="Function">sechash↝</a> <a id="14764" class="Symbol">:</a>  <a id="14767" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="14769" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="14772" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="14780" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="14782" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
  <a id="14787" href="Coherence.Hypotheses.html#14755" class="Function">sechash↝</a> <a id="14796" class="Symbol">=</a> <a id="14798" href="SymbolicModel.Mappings.html#3670" class="Function Operator">lift</a> <a id="14803" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="14805" href="SymbolicModel.Mappings.html#3670" class="Function Operator">—⟨</a> <a id="14808" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="14816" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⟩—</a> <a id="14819" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="14822" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⊣</a> <a id="14824" href="Coherence.Hypotheses.html#13869" class="Function">secrets≡</a>

  <a id="14836" href="Coherence.Hypotheses.html#14836" class="Function">κ↝</a> <a id="14839" class="Symbol">:</a> <a id="14841" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="14843" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="14846" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="14849" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="14851" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
  <a id="14856" href="Coherence.Hypotheses.html#14836" class="Function">κ↝</a> <a id="14859" href="Coherence.Hypotheses.html#14859" class="Bound">κ′</a> <a id="14862" class="Symbol">=</a> <a id="14864" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="14873" href="Coherence.Hypotheses.html#14859" class="Bound">κ′</a> <a id="14876" href="Coherence.Hypotheses.html#14549" class="Function">ads⊆′</a>

  <a id="14885" href="Coherence.Hypotheses.html#14885" class="Function">txout↝</a> <a id="14892" class="Symbol">:</a> <a id="14894" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="14896" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="14899" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="14905" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="14907" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
  <a id="14912" href="Coherence.Hypotheses.html#14885" class="Function">txout↝</a> <a id="14919" href="Coherence.Hypotheses.html#14919" class="Bound">txout′</a> <a id="14926" class="Keyword">rewrite</a> <a id="14934" href="Coherence.Hypotheses.html#13285" class="Function">ids≡</a> <a id="14939" class="Symbol">=</a> <a id="14941" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="14948" href="Coherence.Hypotheses.html#11023" class="Field">z</a> <a id="14950" class="Symbol">((</a><a id="14952" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="14955" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="14958" href="Coherence.Hypotheses.html#11907" class="Function">T</a><a id="14959" class="Symbol">)</a> <a id="14961" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="14964" class="Number">0</a><a id="14965" class="Symbol">)</a> <a id="14967" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="14969" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="14978" href="Coherence.Hypotheses.html#14919" class="Bound">txout′</a> <a id="14985" href="Data.List.Membership.Propositional.Properties.html#3965" class="Function">∈-++⁺ˡ</a>

  <a id="14995" href="Coherence.Hypotheses.html#14995" class="Function">λˢ</a> <a id="14998" class="Symbol">:</a> <a id="15000" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="15003" href="Coherence.Hypotheses.html#1761" class="Function">Γₜ′</a>
  <a id="15009" href="Coherence.Hypotheses.html#14995" class="Function">λˢ</a> <a id="15012" class="Symbol">=</a> <a id="15014" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="15020" href="Coherence.Hypotheses.html#2095" class="Function">𝕣</a> <a id="15022" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="15024" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="15027" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="15030" href="Coherence.Hypotheses.html#14885" class="Function">txout↝</a> <a id="15037" href="Coherence.Hypotheses.html#14755" class="Function">sechash↝</a> <a id="15046" href="Coherence.Hypotheses.html#14836" class="Function">κ↝</a>

<a id="15050" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[4]~_⨾_"></a><a id="15055" href="Coherence.Hypotheses.html#15055" class="Datatype Operator">_⨾_⨾_~ℍ[4]~_⨾_</a> <a id="15070" class="Symbol">:</a> <a id="15072" href="Coherence.Hypotheses.html#1468" class="Function">StepRel</a> <a id="15080" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[4]~_⨾_.mkℍ"></a><a id="15088" href="Coherence.Hypotheses.html#15088" class="InductiveConstructor">mkℍ</a> <a id="15092" class="Symbol">:</a> <a id="15094" class="Symbol">∀</a> <a id="15096" class="Symbol">{</a><a id="15097" href="Coherence.Hypotheses.html#15097" class="Bound">h</a> <a id="15099" class="Symbol">:</a> <a id="15101" href="Coherence.Hypotheses.html#10964" class="Record">H₄-args</a><a id="15108" class="Symbol">}</a>
    <a id="15114" class="Symbol">→</a> <a id="15116" class="Keyword">let</a>
        <a id="15128" class="Comment">-- (i) consume {G}C and its persistent deposits from Rˢ</a>
        <a id="15192" class="Keyword">open</a> <a id="15197" href="Coherence.Hypotheses.html#10964" class="Module">H₄-args</a> <a id="15205" href="Coherence.Hypotheses.html#15097" class="Bound">h</a>

        <a id="15216" class="Comment">-- (iii) sechash = sechash′, κ = κ′, txout extends txout′ with (z ↦ Tᵢₙᵢₜ)</a>
        <a id="15299" class="Keyword">open</a> <a id="15304" href="Coherence.Hypotheses.html#11571" class="Module">H₄</a> <a id="15307" href="Coherence.Hypotheses.html#15097" class="Bound">h</a> <a id="15309" class="Keyword">using</a> <a id="15315" class="Symbol">(</a><a id="15316" href="Coherence.Hypotheses.html#14995" class="Function">λˢ</a><a id="15318" class="Symbol">;</a> <a id="15320" href="Coherence.Hypotheses.html#11907" class="Function">T</a><a id="15321" class="Symbol">)</a>

        <a id="15332" class="Comment">-- (ii) append Tᵢₙᵢₜ to the blockchain</a>
        <a id="15379" href="Coherence.Hypotheses.html#15379" class="Bound">λᶜ</a> <a id="15382" class="Symbol">=</a> <a id="15384" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="15391" class="Symbol">(</a><a id="15392" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="15395" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="15398" href="Coherence.Hypotheses.html#11907" class="Function">T</a><a id="15399" class="Symbol">)</a>

      <a id="15408" class="Keyword">in</a>
      <a id="15417" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="15477" href="Coherence.Hypotheses.html#2043" class="Function">Γₜ″</a> <a id="15481" href="Coherence.Hypotheses.html#15055" class="Datatype Operator">⨾</a> <a id="15483" href="Coherence.Hypotheses.html#1982" class="Function">𝕣∗</a> <a id="15486" href="Coherence.Hypotheses.html#15055" class="Datatype Operator">⨾</a> <a id="15488" class="Symbol">(</a><a id="15489" href="Coherence.Hypotheses.html#2129" class="Function">𝕒</a> <a id="15491" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="15493" href="Coherence.Hypotheses.html#14995" class="Function">λˢ</a><a id="15495" class="Symbol">)</a> <a id="15497" href="Coherence.Hypotheses.html#15055" class="Datatype Operator">~ℍ[4]~</a> <a id="15504" href="Coherence.Hypotheses.html#15379" class="Bound">λᶜ</a> <a id="15507" href="Coherence.Hypotheses.html#15055" class="Datatype Operator">⨾</a> <a id="15509" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a>

<a id="15513" class="Comment">-- ** Contract actions: authorize control</a>
<a id="15555" class="Keyword">record</a> <a id="H₅-args"></a><a id="15562" href="Coherence.Hypotheses.html#15562" class="Record">H₅-args</a> <a id="15570" class="Symbol">:</a> <a id="15572" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="15577" class="Keyword">where</a>
  <a id="15585" class="Keyword">constructor</a> <a id="mk"></a><a id="15597" href="Coherence.Hypotheses.html#15597" class="InductiveConstructor">mk</a>
  <a id="15602" class="Keyword">field</a>
    <a id="15612" class="Symbol">{</a><a id="H₅-args.c"></a><a id="15613" href="Coherence.Hypotheses.html#15613" class="Field">c</a> <a id="H₅-args.v"></a><a id="15615" href="Coherence.Hypotheses.html#15615" class="Field">v</a> <a id="H₅-args.x"></a><a id="15617" href="Coherence.Hypotheses.html#15617" class="Field">x</a> <a id="H₅-args.Γ₀"></a><a id="15619" href="Coherence.Hypotheses.html#15619" class="Field">Γ₀</a> <a id="H₅-args.t"></a><a id="15622" href="Coherence.Hypotheses.html#15622" class="Field">t</a> <a id="H₅-args.A"></a><a id="15624" href="Coherence.Hypotheses.html#15624" class="Field">A</a><a id="15625" class="Symbol">}</a> <a id="15627" class="Symbol">:</a> <a id="15629" class="Symbol">_</a>
    <a id="15635" class="Symbol">{</a><a id="H₅-args.i"></a><a id="15636" href="Coherence.Hypotheses.html#15636" class="Field">i</a><a id="15637" class="Symbol">}</a> <a id="15639" class="Symbol">:</a> <a id="15641" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="15647" href="Coherence.Hypotheses.html#15613" class="Field">c</a>
  <a id="15651" class="Keyword">open</a> <a id="15656" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="15664" href="Coherence.Hypotheses.html#15613" class="Field">c</a> <a id="15666" href="Coherence.Hypotheses.html#15636" class="Field">i</a> <a id="15668" class="Keyword">public</a>
  <a id="15677" class="Keyword">field</a>
    <a id="15687" class="Comment">-- D ≡ A ∶ D′</a>
    <a id="H₅-args.d≡"></a><a id="15705" href="Coherence.Hypotheses.html#15705" class="Field">d≡</a> <a id="15708" class="Symbol">:</a> <a id="15710" href="Coherence.Hypotheses.html#15624" class="Field">A</a> <a id="15712" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="15714" href="BitML.Contracts.Collections.html#14015" class="Function">authDecorations</a> <a id="15730" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a>
    <a id="15736" class="Comment">-- Hypotheses from [C-AuthControl], already in hypothesis `D≡A:D′`</a>
  <a id="15805" class="Keyword">open</a> <a id="15810" href="Coherence.Hypotheses.html#1608" class="Module">Transition</a>
    <a id="15825" class="Symbol">(</a> <a id="15827" class="Symbol">(</a><a id="15828" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="15830" href="Coherence.Hypotheses.html#15613" class="Field">c</a> <a id="15832" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="15834" href="Coherence.Hypotheses.html#15615" class="Field">v</a> <a id="15836" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="15840" href="Coherence.Hypotheses.html#15617" class="Field">x</a> <a id="15842" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15844" href="Coherence.Hypotheses.html#15619" class="Field">Γ₀</a><a id="15846" class="Symbol">)</a> <a id="15848" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="15850" href="Coherence.Hypotheses.html#15622" class="Field">t</a>
      <a id="15858" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">——</a> <a id="15861" href="BitML.Semantics.Label.html#1451" class="InductiveConstructor Operator">auth-control⦅</a> <a id="15875" href="Coherence.Hypotheses.html#15624" class="Field">A</a> <a id="15877" href="BitML.Semantics.Label.html#1451" class="InductiveConstructor Operator">,</a> <a id="15879" href="Coherence.Hypotheses.html#15617" class="Field">x</a> <a id="15881" href="BitML.Semantics.Label.html#1451" class="InductiveConstructor Operator">▷</a> <a id="15883" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="15885" href="BitML.Semantics.Label.html#1451" class="InductiveConstructor Operator">⦆</a> <a id="15887" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">—→</a>
      <a id="15896" class="Symbol">(</a><a id="15897" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="15899" href="Coherence.Hypotheses.html#15613" class="Field">c</a> <a id="15901" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="15903" href="Coherence.Hypotheses.html#15615" class="Field">v</a> <a id="15905" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="15909" href="Coherence.Hypotheses.html#15617" class="Field">x</a> <a id="15911" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15913" href="Coherence.Hypotheses.html#15624" class="Field">A</a> <a id="15915" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="15921" href="Coherence.Hypotheses.html#15617" class="Field">x</a> <a id="15923" href="BitML.Semantics.Action.html#565" class="InductiveConstructor Operator">▷</a> <a id="15925" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="15927" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="15929" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15931" href="Coherence.Hypotheses.html#15619" class="Field">Γ₀</a><a id="15933" class="Symbol">)</a> <a id="15935" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="15937" href="Coherence.Hypotheses.html#15622" class="Field">t</a>
    <a id="15943" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⊣</a> <a id="15945" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="15949" class="Symbol">(</a><a id="15950" href="BitML.Semantics.InferenceRules.html#6523" class="InductiveConstructor">[C-AuthControl]</a> <a id="15966" href="Coherence.Hypotheses.html#15705" class="Field">d≡</a><a id="15968" class="Symbol">)</a>
    <a id="15974" class="Symbol">)</a> <a id="15976" class="Keyword">public</a> <a id="15983" class="Keyword">hiding</a> <a id="15990" class="Symbol">(</a><a id="15991" href="Coherence.Hypotheses.html#1685" class="Field">t</a><a id="15992" class="Symbol">)</a>
  <a id="15996" class="Keyword">field</a> <a id="H₅-args.𝕙r"></a><a id="16002" href="Coherence.Hypotheses.html#16002" class="Field">𝕙r</a> <a id="16005" class="Symbol">:</a> <a id="16007" href="Coherence.Hypotheses.html#1824" class="Record">ℍ-Run</a> <a id="16013" href="Coherence.Hypotheses.html#1795" class="Function">Γ→</a>
  <a id="16018" class="Keyword">open</a> <a id="16023" href="Coherence.Hypotheses.html#1824" class="Module">ℍ-Run</a> <a id="16029" href="Coherence.Hypotheses.html#16002" class="Field">𝕙r</a> <a id="16032" class="Keyword">public</a>

<a id="16040" class="Keyword">module</a> <a id="16047" href="Coherence.Hypotheses.html#16047" class="Module">H₅</a> <a id="16050" class="Symbol">(</a><a id="16051" href="Coherence.Hypotheses.html#16051" class="Bound">⋯</a> <a id="16053" class="Symbol">:</a> <a id="16055" href="Coherence.Hypotheses.html#15562" class="Record">H₅-args</a><a id="16062" class="Symbol">)</a> <a id="16064" class="Symbol">(</a><a id="16065" class="Keyword">open</a> <a id="16070" href="Coherence.Hypotheses.html#15562" class="Module">H₅-args</a> <a id="16078" href="Coherence.Hypotheses.html#16051" class="Bound">⋯</a><a id="16079" class="Symbol">)</a> <a id="16081" class="Keyword">where</a>
  <a id="16089" class="Comment">-- (ii) {G}C is the ancestor of ⟨C, v⟩ₓ in Rˢ</a>
  <a id="16137" href="Coherence.Hypotheses.html#16137" class="Function">T×K</a> <a id="16141" class="Symbol">=</a> <a id="16143" href="Coherence.Helpers.html#4528" class="Function">COMPILE-ANCESTOR</a> <a id="16160" class="Symbol">{</a><a id="16161" class="Argument">Γ</a> <a id="16163" class="Symbol">=</a> <a id="16165" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a><a id="16166" class="Symbol">}</a> <a id="16168" class="Symbol">{</a><a id="16169" class="Argument">i</a> <a id="16171" class="Symbol">=</a> <a id="16173" href="Coherence.Hypotheses.html#15636" class="Field">i</a><a id="16174" class="Symbol">}</a> <a id="16176" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="16179" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="16181" href="Coherence.Hypotheses.html#2095" class="Function">𝕣</a>
  <a id="16185" href="Coherence.Hypotheses.html#16185" class="Function">T</a>   <a id="16189" class="Symbol">=</a> <a id="16191" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="16200" href="BitML.Contracts.ModuleMacros.html#607" class="Function">d∗</a> <a id="16203" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="16205" href="Coherence.Hypotheses.html#16137" class="Function">T×K</a> <a id="16209" class="Symbol">.</a><a id="16210" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="16218" href="Coherence.Hypotheses.html#16218" class="Function">Kᵈ</a>  <a id="16222" class="Symbol">=</a> <a id="16224" href="Bitcoin.Crypto.html#346" class="Record">KeyPair</a>     <a id="16236" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="16238" href="Coherence.Hypotheses.html#16137" class="Function">T×K</a> <a id="16242" class="Symbol">.</a><a id="16243" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="16249" href="Coherence.Hypotheses.html#15705" class="Field">d≡</a>
  <a id="16254" href="Coherence.Hypotheses.html#16254" class="Function">∃T</a>  <a id="16258" class="Symbol">=</a> <a id="16260" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>         <a id="16272" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="16274" href="Compiler.Outputs.html#311" class="Function">Inᵈ</a> <a id="16278" href="BitML.Contracts.ModuleMacros.html#607" class="Function">d∗</a> <a id="16281" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="16283" href="Compiler.Outputs.html#315" class="Function">Outᵈ</a> <a id="16288" href="BitML.Contracts.ModuleMacros.html#607" class="Function">d∗</a> <a id="16291" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="16293" href="Coherence.Hypotheses.html#16185" class="Function">T</a>

  <a id="16298" class="Keyword">abstract</a>
    <a id="16311" href="Coherence.Hypotheses.html#16311" class="Function">m</a> <a id="16313" href="Coherence.Hypotheses.html#16313" class="Function">⌞T⌟</a> <a id="16317" class="Symbol">:</a> <a id="16319" href="ComputationalModel.Serialization.html#227" class="Function">Message</a>
    <a id="16331" href="Coherence.Hypotheses.html#16311" class="Function">m</a>   <a id="16335" class="Symbol">=</a> <a id="16337" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="16341" href="Coherence.Hypotheses.html#16218" class="Function">Kᵈ</a> <a id="16344" href="Coherence.Hypotheses.html#16254" class="Function">∃T</a>
    <a id="16351" href="Coherence.Hypotheses.html#16313" class="Function">⌞T⌟</a> <a id="16355" class="Symbol">=</a> <a id="16357" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="16364" href="Coherence.Hypotheses.html#16185" class="Function">T</a>

    <a id="16371" href="Coherence.Hypotheses.html#16371" class="Function">m≡</a> <a id="16374" class="Symbol">:</a> <a id="16376" href="Coherence.Hypotheses.html#16311" class="Function">m</a>   <a id="16380" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="16382" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="16386" href="Coherence.Hypotheses.html#16218" class="Function">Kᵈ</a> <a id="16389" href="Coherence.Hypotheses.html#16254" class="Function">∃T</a>
    <a id="16396" href="Coherence.Hypotheses.html#16371" class="Function">m≡</a> <a id="16399" class="Symbol">=</a> <a id="16401" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

    <a id="16411" href="Coherence.Hypotheses.html#16411" class="Function">T≡</a> <a id="16414" class="Symbol">:</a> <a id="16416" href="Coherence.Hypotheses.html#16313" class="Function">⌞T⌟</a> <a id="16420" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="16422" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="16429" href="Coherence.Hypotheses.html#16185" class="Function">T</a>
    <a id="16435" href="Coherence.Hypotheses.html#16411" class="Function">T≡</a> <a id="16438" class="Symbol">=</a> <a id="16440" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

  <a id="16448" class="Comment">-- (iv) txout = txout′, sechash = sechash′, κ = κ′</a>
  <a id="16501" href="Coherence.Hypotheses.html#16501" class="Function">λˢ</a> <a id="16504" class="Symbol">:</a> <a id="16506" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="16509" href="Coherence.Hypotheses.html#1761" class="Function">Γₜ′</a>
  <a id="16515" href="Coherence.Hypotheses.html#16501" class="Function">λˢ</a> <a id="16518" class="Symbol">=</a> <a id="16520" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="16526" href="Coherence.Hypotheses.html#2095" class="Function">𝕣</a> <a id="16528" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="16530" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="16533" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="16536" href="Function.Base.html#624" class="Function">id</a> <a id="16539" href="Function.Base.html#624" class="Function">id</a> <a id="16542" href="Function.Base.html#624" class="Function">id</a>

<a id="16546" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[5]~_⨾_"></a><a id="16551" href="Coherence.Hypotheses.html#16551" class="Datatype Operator">_⨾_⨾_~ℍ[5]~_⨾_</a> <a id="16566" class="Symbol">:</a> <a id="16568" href="Coherence.Hypotheses.html#1468" class="Function">StepRel</a> <a id="16576" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[5]~_⨾_.mkℍ"></a><a id="16584" href="Coherence.Hypotheses.html#16584" class="InductiveConstructor">mkℍ</a> <a id="16588" class="Symbol">:</a>
    <a id="16594" class="Comment">-- (i) Rˢ contains ⟨C , v⟩ₓ with C = D + ∑ᵢ Dᵢ</a>
    <a id="16645" class="Symbol">∀</a> <a id="16647" class="Symbol">{</a><a id="16648" href="Coherence.Hypotheses.html#16648" class="Bound">h</a> <a id="16650" class="Symbol">:</a> <a id="16652" href="Coherence.Hypotheses.html#15562" class="Record">H₅-args</a><a id="16659" class="Symbol">}</a> <a id="16661" class="Symbol">(</a><a id="16662" class="Keyword">open</a> <a id="16667" href="Coherence.Hypotheses.html#15562" class="Module">H₅-args</a> <a id="16675" href="Coherence.Hypotheses.html#16648" class="Bound">h</a><a id="16676" class="Symbol">)</a> <a id="16678" class="Symbol">{</a><a id="16679" href="Coherence.Hypotheses.html#16679" class="Bound">B</a><a id="16680" class="Symbol">}</a>
    <a id="16686" class="Symbol">→</a> <a id="16688" class="Keyword">let</a>
        <a id="16700" class="Keyword">open</a> <a id="16705" href="Coherence.Hypotheses.html#16047" class="Module">H₅</a> <a id="16708" href="Coherence.Hypotheses.html#16648" class="Bound">h</a> <a id="16710" class="Keyword">using</a> <a id="16716" class="Symbol">(</a><a id="16717" href="Coherence.Hypotheses.html#16501" class="Function">λˢ</a><a id="16719" class="Symbol">;</a> <a id="16721" href="Coherence.Hypotheses.html#16311" class="Function">m</a><a id="16722" class="Symbol">;</a> <a id="16724" href="Coherence.Hypotheses.html#16313" class="Function">⌞T⌟</a><a id="16727" class="Symbol">)</a>
        <a id="16737" href="Coherence.Hypotheses.html#16737" class="Bound">λᶜ</a> <a id="16740" class="Symbol">=</a> <a id="16742" href="Coherence.Hypotheses.html#16679" class="Bound">B</a> <a id="16744" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="16748" href="Coherence.Hypotheses.html#16311" class="Function">m</a>
      <a id="16756" class="Keyword">in</a>
      <a id="16765" class="Comment">-- (v) Rᶜ contains B→∗:T for some B...</a>
    <a id="16808" class="Symbol">∀</a> <a id="16810" class="Symbol">(</a><a id="16811" href="Coherence.Hypotheses.html#16811" class="Bound">∃B</a> <a id="16814" class="Symbol">:</a> <a id="16816" href="Data.Product.html#1378" class="Function">∃</a> <a id="16818" class="Symbol">λ</a> <a id="16820" href="Coherence.Hypotheses.html#16820" class="Bound">B</a> <a id="16822" class="Symbol">→</a> <a id="16824" href="Coherence.Hypotheses.html#16820" class="Bound">B</a> <a id="16826" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="16830" href="Coherence.Hypotheses.html#16313" class="Function">⌞T⌟</a> <a id="16834" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="16836" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="16843" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a><a id="16845" class="Symbol">)</a> <a id="16847" class="Symbol">→</a>

      <a id="16856" class="Comment">-- ...and m is the first signature of T after that</a>
    <a id="16911" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="16913" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="16917" class="Symbol">(λ</a> <a id="16920" href="Coherence.Hypotheses.html#16920" class="Bound">l</a> <a id="16922" class="Symbol">→</a> <a id="16924" class="Symbol">∀</a> <a id="16926" href="Coherence.Hypotheses.html#16926" class="Bound">B</a> <a id="16928" class="Symbol">→</a> <a id="16930" href="Coherence.Hypotheses.html#16920" class="Bound">l</a> <a id="16932" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="16934" href="Coherence.Hypotheses.html#16926" class="Bound">B</a> <a id="16936" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="16940" href="Coherence.Hypotheses.html#16311" class="Function">m</a><a id="16941" class="Symbol">)</a> <a id="16943" class="Symbol">(</a><a id="16944" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="16954" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="16956" href="Coherence.Hypotheses.html#16811" class="Bound">∃B</a> <a id="16959" class="Symbol">.</a><a id="16960" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="16965" class="Symbol">)</a>

      <a id="16974" href="Prelude.InferenceRules.html#12752" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="17034" href="Coherence.Hypotheses.html#2043" class="Function">Γₜ″</a> <a id="17038" href="Coherence.Hypotheses.html#16551" class="Datatype Operator">⨾</a> <a id="17040" href="Coherence.Hypotheses.html#1982" class="Function">𝕣∗</a> <a id="17043" href="Coherence.Hypotheses.html#16551" class="Datatype Operator">⨾</a> <a id="17045" class="Symbol">(</a><a id="17046" href="Coherence.Hypotheses.html#2129" class="Function">𝕒</a> <a id="17048" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="17050" href="Coherence.Hypotheses.html#16501" class="Function">λˢ</a><a id="17052" class="Symbol">)</a> <a id="17054" href="Coherence.Hypotheses.html#16551" class="Datatype Operator">~ℍ[5]~</a> <a id="17061" href="Coherence.Hypotheses.html#16737" class="Bound">λᶜ</a> <a id="17064" href="Coherence.Hypotheses.html#16551" class="Datatype Operator">⨾</a> <a id="17066" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a>

<a id="17070" class="Comment">-- ** Contract actions: put</a>
<a id="17098" class="Keyword">record</a> <a id="H₆-args"></a><a id="17105" href="Coherence.Hypotheses.html#17105" class="Record">H₆-args</a> <a id="17113" class="Symbol">:</a> <a id="17115" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="17120" class="Keyword">where</a>
  <a id="17128" class="Keyword">constructor</a> <a id="mk"></a><a id="17140" href="Coherence.Hypotheses.html#17140" class="InductiveConstructor">mk</a>
  <a id="17145" class="Keyword">field</a>
    <a id="17155" class="Symbol">{</a><a id="H₆-args.c"></a><a id="17156" href="Coherence.Hypotheses.html#17156" class="Field">c</a> <a id="H₆-args.v"></a><a id="17158" href="Coherence.Hypotheses.html#17158" class="Field">v</a> <a id="H₆-args.y"></a><a id="17160" href="Coherence.Hypotheses.html#17160" class="Field">y</a> <a id="H₆-args.c′"></a><a id="17162" href="Coherence.Hypotheses.html#17162" class="Field">c′</a> <a id="H₆-args.y′"></a><a id="17165" href="Coherence.Hypotheses.html#17165" class="Field">y′</a> <a id="H₆-args.Γ₀"></a><a id="17168" href="Coherence.Hypotheses.html#17168" class="Field">Γ₀</a> <a id="H₆-args.t"></a><a id="17171" href="Coherence.Hypotheses.html#17171" class="Field">t</a> <a id="H₆-args.p"></a><a id="17173" href="Coherence.Hypotheses.html#17173" class="Field">p</a><a id="17174" class="Symbol">}</a> <a id="17176" class="Symbol">:</a> <a id="17178" class="Symbol">_</a>
    <a id="17184" class="Symbol">{</a><a id="H₆-args.ds"></a><a id="17185" href="Coherence.Hypotheses.html#17185" class="Field">ds</a><a id="17187" class="Symbol">}</a> <a id="17189" class="Symbol">:</a> <a id="17191" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a>
    <a id="17207" class="Symbol">{</a><a id="H₆-args.ss"></a><a id="17208" href="Coherence.Hypotheses.html#17208" class="Field">ss</a><a id="17210" class="Symbol">}</a> <a id="17212" class="Symbol">:</a> <a id="17214" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="17219" class="Symbol">(</a><a id="17220" href="BitML.BasicTypes.html#675" class="Function">Participant</a> <a id="17232" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="17234" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="17241" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="17243" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="17244" class="Symbol">)</a>
    <a id="17250" class="Symbol">{</a><a id="H₆-args.i"></a><a id="17251" href="Coherence.Hypotheses.html#17251" class="Field">i</a><a id="17252" class="Symbol">}</a> <a id="17254" class="Symbol">:</a> <a id="17256" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="17262" href="Coherence.Hypotheses.html#17156" class="Field">c</a>
  <a id="H₆-args.vs"></a><a id="17266" href="Coherence.Hypotheses.html#17266" class="Function">vs</a> <a id="17269" class="Symbol">=</a> <a id="17271" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="17278" href="Coherence.Hypotheses.html#17185" class="Field">ds</a> <a id="17281" class="Symbol">.</a><a id="17282" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="17288" class="Symbol">.</a><a id="17289" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₆-args.xs"></a><a id="17297" href="Coherence.Hypotheses.html#17297" class="Function">xs</a> <a id="17300" class="Symbol">=</a> <a id="17302" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="17309" href="Coherence.Hypotheses.html#17185" class="Field">ds</a> <a id="17312" class="Symbol">.</a><a id="17313" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="17319" class="Symbol">.</a><a id="17320" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="17326" class="Comment">-- (i) xs = x₁⋯xₖ</a>
  <a id="H₆-args.as"></a><a id="17346" href="Coherence.Hypotheses.html#17346" class="Function">as</a> <a id="17349" class="Symbol">=</a> <a id="17351" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="17358" href="Coherence.Hypotheses.html#17208" class="Field">ss</a> <a id="17361" class="Symbol">.</a><a id="17362" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="17368" class="Symbol">.</a><a id="17369" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₆-args.Γ₁"></a><a id="17377" href="Coherence.Hypotheses.html#17377" class="Function">Γ₁</a>  <a id="17381" class="Symbol">=</a> <a id="17383" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="17386" href="Data.List.Base.html#1553" class="Function">map</a> <a id="17390" class="Symbol">(</a><a id="17391" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="17400" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨_has_⟩at_</a><a id="17410" class="Symbol">)</a> <a id="17412" href="Coherence.Hypotheses.html#17185" class="Field">ds</a>
  <a id="H₆-args.Δ"></a><a id="17417" href="Coherence.Hypotheses.html#17417" class="Function">Δ</a>   <a id="17421" class="Symbol">=</a> <a id="17423" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="17426" href="Data.List.Base.html#1553" class="Function">map</a> <a id="17430" class="Symbol">(</a><a id="17431" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="17440" href="BitML.Semantics.Configurations.Types.html#968" class="InductiveConstructor Operator">_∶_♯_</a><a id="17445" class="Symbol">)</a> <a id="17447" href="Coherence.Hypotheses.html#17208" class="Field">ss</a>
  <a id="H₆-args.Γ₂"></a><a id="17452" href="Coherence.Hypotheses.html#17452" class="Function">Γ₂</a>  <a id="17456" class="Symbol">=</a> <a id="17458" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="17462" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="17464" href="Coherence.Hypotheses.html#17417" class="Function">Δ</a> <a id="17466" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="17468" href="Coherence.Hypotheses.html#17168" class="Field">Γ₀</a>
  <a id="H₆-args.Γ₁₂"></a><a id="17473" href="Coherence.Hypotheses.html#17473" class="Function">Γ₁₂</a> <a id="17477" class="Symbol">=</a> <a id="17479" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="17483" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="17485" href="Coherence.Hypotheses.html#17377" class="Function">Γ₁</a> <a id="17488" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="17490" href="Coherence.Hypotheses.html#17452" class="Function">Γ₂</a>
  <a id="17495" class="Keyword">open</a> <a id="17500" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="17508" href="Coherence.Hypotheses.html#17156" class="Field">c</a> <a id="17510" href="Coherence.Hypotheses.html#17251" class="Field">i</a> <a id="17512" class="Keyword">public</a>
  <a id="H₆-args.As"></a><a id="17521" href="Coherence.Hypotheses.html#17521" class="Function">As</a> <a id="17524" class="Symbol">=</a> <a id="17526" href="BitML.Contracts.Collections.html#13915" class="Function">decorations</a> <a id="17538" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="17540" class="Symbol">.</a><a id="17541" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₆-args.ts"></a><a id="17549" href="Coherence.Hypotheses.html#17549" class="Function">ts</a> <a id="17552" class="Symbol">=</a> <a id="17554" href="BitML.Contracts.Collections.html#13915" class="Function">decorations</a> <a id="17566" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="17568" class="Symbol">.</a><a id="17569" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
  <a id="17577" class="Keyword">field</a>
    <a id="17587" class="Comment">-- ii) in Rˢ, α consumes ⟨D+C,v⟩y and the deposits ⟨Aᵢ,vᵢ⟩ₓᵢ</a>
    <a id="17652" class="Comment">-- to produce ⟨C′,v′⟩y′</a>
    <a id="17680" class="Comment">--     where D = ⋯ : put⋯reveal⋯.C′</a>
    <a id="17720" class="Comment">--     let t be the maximum deadline in an `after` in front of D</a>
    <a id="17789" class="Comment">--     T0D0: what should t′ be in case there are no `after` decorations?</a>
    <a id="17866" class="Comment">--           (currently any value)</a>
    <a id="H₆-args.t≡"></a><a id="17905" href="Coherence.Hypotheses.html#17905" class="Field">t≡</a> <a id="17908" class="Symbol">:</a> <a id="17910" href="Coherence.Hypotheses.html#17171" class="Field">t</a> <a id="17912" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="17914" href="Prelude.Ord.MinMax.html#436" class="Function">maximum</a> <a id="17922" href="Coherence.Hypotheses.html#17171" class="Field">t</a> <a id="17924" href="Coherence.Hypotheses.html#17549" class="Function">ts</a>
    <a id="H₆-args.d≡"></a><a id="17931" href="Coherence.Hypotheses.html#17931" class="Field">d≡</a> <a id="17934" class="Symbol">:</a> <a id="17936" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="17938" href="BitML.Contracts.Collections.html#15163" class="Function Operator">≡⋯∶</a> <a id="17942" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">put</a> <a id="17946" href="Coherence.Hypotheses.html#17297" class="Function">xs</a> <a id="17949" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">&amp;reveal</a> <a id="17957" href="Coherence.Hypotheses.html#17346" class="Function">as</a> <a id="17960" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">if</a> <a id="17963" href="Coherence.Hypotheses.html#17173" class="Field">p</a> <a id="17965" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">⇒</a> <a id="17967" href="Coherence.Hypotheses.html#17162" class="Field">c′</a>
    <a id="17974" class="Comment">-- Hypotheses from [C-PutRev]</a>
    <a id="H₆-args.fresh-y′"></a><a id="18008" href="Coherence.Hypotheses.html#18008" class="Field">fresh-y′</a> <a id="18017" class="Symbol">:</a> <a id="18019" href="Coherence.Hypotheses.html#17165" class="Field">y′</a> <a id="18022" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="18024" href="Coherence.Hypotheses.html#17160" class="Field">y</a> <a id="18026" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="18030" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="18034" href="Coherence.Hypotheses.html#17473" class="Function">Γ₁₂</a>
    <a id="H₆-args.p⟦Δ⟧≡"></a><a id="18042" href="Coherence.Hypotheses.html#18042" class="Field">p⟦Δ⟧≡</a> <a id="18048" class="Symbol">:</a> <a id="18050" href="BitML.Semantics.Predicate.html#906" class="Function Operator">⟦</a> <a id="18052" href="Coherence.Hypotheses.html#17173" class="Field">p</a> <a id="18054" href="BitML.Semantics.Predicate.html#906" class="Function Operator">⟧ᵖ</a> <a id="18057" href="Coherence.Hypotheses.html#17417" class="Function">Δ</a> <a id="18059" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="18061" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="18066" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>
    <a id="18075" class="Comment">-- Hypotheses from [Timeout]</a>
    <a id="H₆-args.As≡∅"></a><a id="18108" href="Coherence.Hypotheses.html#18108" class="Field">As≡∅</a> <a id="18113" class="Symbol">:</a> <a id="18115" href="Prelude.Null.html#263" class="Field">Null</a> <a id="18120" href="Coherence.Hypotheses.html#17521" class="Function">As</a>
  <a id="18125" class="Keyword">private</a>
    <a id="H₆-args.α"></a><a id="18137" href="Coherence.Hypotheses.html#18137" class="Function">α</a>  <a id="18140" class="Symbol">=</a> <a id="18142" href="BitML.Semantics.Label.html#1322" class="InductiveConstructor Operator">put⦅</a> <a id="18147" href="Coherence.Hypotheses.html#17297" class="Function">xs</a> <a id="18150" href="BitML.Semantics.Label.html#1322" class="InductiveConstructor Operator">,</a> <a id="18152" href="Coherence.Hypotheses.html#17346" class="Function">as</a> <a id="18155" href="BitML.Semantics.Label.html#1322" class="InductiveConstructor Operator">,</a> <a id="18157" href="Coherence.Hypotheses.html#17160" class="Field">y</a> <a id="18159" href="BitML.Semantics.Label.html#1322" class="InductiveConstructor Operator">⦆</a>
    <a id="H₆-args.Γ′"></a><a id="18165" href="Coherence.Hypotheses.html#18165" class="Function">Γ′</a> <a id="18168" class="Symbol">=</a> <a id="18170" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="18172" href="Coherence.Hypotheses.html#17162" class="Field">c′</a> <a id="18175" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="18177" href="Coherence.Hypotheses.html#17158" class="Field">v</a> <a id="18179" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="18181" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="18185" href="Coherence.Hypotheses.html#17266" class="Function">vs</a> <a id="18188" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="18192" href="Coherence.Hypotheses.html#17165" class="Field">y′</a> <a id="18195" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="18197" href="Coherence.Hypotheses.html#17452" class="Function">Γ₂</a>

    <a id="H₆-args.∀≤t"></a><a id="18205" href="Coherence.Hypotheses.html#18205" class="Function">∀≤t</a> <a id="18209" class="Symbol">:</a> <a id="18211" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="18215" class="Symbol">(</a><a id="18216" href="Prelude.Ord.Core.html#209" class="Field Operator">_≤</a> <a id="18219" href="Coherence.Hypotheses.html#17171" class="Field">t</a><a id="18220" class="Symbol">)</a> <a id="18222" href="Coherence.Hypotheses.html#17549" class="Function">ts</a>
    <a id="18229" href="Coherence.Hypotheses.html#18205" class="Function">∀≤t</a> <a id="18233" class="Symbol">=</a> <a id="18235" href="Prelude.SubstDSL.html#488" class="Function">⟪</a> <a id="18237" class="Symbol">(λ</a> <a id="18240" href="Coherence.Hypotheses.html#18240" class="Bound">◆</a> <a id="18242" class="Symbol">→</a> <a id="18244" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="18248" class="Symbol">(</a><a id="18249" href="Prelude.Ord.Core.html#209" class="Field Operator">_≤</a> <a id="18252" href="Coherence.Hypotheses.html#18240" class="Bound">◆</a><a id="18253" class="Symbol">)</a> <a id="18255" href="Coherence.Hypotheses.html#17549" class="Function">ts</a><a id="18257" class="Symbol">)</a> <a id="18259" href="Prelude.SubstDSL.html#488" class="Function">⟫</a> <a id="18261" href="Coherence.Hypotheses.html#17905" class="Field">t≡</a> <a id="18264" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="18267" href="Prelude.Ord.MinMax.html#1034" class="Postulate">∀≤max</a> <a id="18273" href="Coherence.Hypotheses.html#17171" class="Field">t</a> <a id="18275" href="Coherence.Hypotheses.html#17549" class="Function">ts</a>

    <a id="H₆-args.put→"></a><a id="18283" href="Coherence.Hypotheses.html#18283" class="Function">put→</a> <a id="18288" class="Symbol">:</a> <a id="18290" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="18292" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="18294" href="BitML.Contracts.ModuleMacros.html#607" class="Function">d∗</a> <a id="18297" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="18299" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="18301" href="Coherence.Hypotheses.html#17158" class="Field">v</a> <a id="18303" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="18307" href="Coherence.Hypotheses.html#17160" class="Field">y</a> <a id="18309" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="18311" href="Coherence.Hypotheses.html#17473" class="Function">Γ₁₂</a> <a id="18315" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="18318" href="Coherence.Hypotheses.html#18137" class="Function">α</a> <a id="18320" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a> <a id="18323" href="Coherence.Hypotheses.html#18165" class="Function">Γ′</a>
    <a id="18330" href="Coherence.Hypotheses.html#18283" class="Function">put→</a> <a id="18335" class="Symbol">=</a> <a id="18337" href="Prelude.SubstDSL.html#488" class="Function">⟪</a> <a id="18339" class="Symbol">(λ</a> <a id="18342" href="Coherence.Hypotheses.html#18342" class="Bound">◆</a> <a id="18344" class="Symbol">→</a> <a id="18346" class="Symbol">(</a><a id="18347" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="18349" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="18351" href="Coherence.Hypotheses.html#18342" class="Bound">◆</a> <a id="18353" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="18355" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="18357" href="Coherence.Hypotheses.html#17158" class="Field">v</a> <a id="18359" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="18363" href="Coherence.Hypotheses.html#17160" class="Field">y</a> <a id="18365" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="18367" class="Symbol">(</a><a id="18368" href="Coherence.Hypotheses.html#17377" class="Function">Γ₁</a> <a id="18371" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="18373" href="Coherence.Hypotheses.html#17452" class="Function">Γ₂</a><a id="18375" class="Symbol">)</a> <a id="18377" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="18380" href="Coherence.Hypotheses.html#18137" class="Function">α</a> <a id="18382" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a> <a id="18385" href="Coherence.Hypotheses.html#18165" class="Function">Γ′</a><a id="18387" class="Symbol">))</a> <a id="18390" href="Prelude.SubstDSL.html#488" class="Function">⟫</a> <a id="18392" href="Coherence.Hypotheses.html#17931" class="Field">d≡</a>
           <a id="18406" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="18409" href="BitML.Semantics.InferenceRules.html#5799" class="InductiveConstructor">[C-PutRev]</a> <a id="18420" class="Symbol">{</a><a id="18421" class="Argument">ds</a> <a id="18424" class="Symbol">=</a> <a id="18426" href="Coherence.Hypotheses.html#17185" class="Field">ds</a><a id="18428" class="Symbol">}</a> <a id="18430" class="Symbol">{</a><a id="18431" class="Argument">ss</a> <a id="18434" class="Symbol">=</a> <a id="18436" href="Coherence.Hypotheses.html#17208" class="Field">ss</a><a id="18438" class="Symbol">}</a> <a id="18440" href="Coherence.Hypotheses.html#18008" class="Field">fresh-y′</a> <a id="18449" href="Coherence.Hypotheses.html#18042" class="Field">p⟦Δ⟧≡</a>
  <a id="18457" class="Keyword">open</a> <a id="18462" href="Coherence.Hypotheses.html#1608" class="Module">Transition</a>
    <a id="18477" class="Symbol">(</a> <a id="18479" class="Symbol">(</a><a id="18480" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="18482" href="Coherence.Hypotheses.html#17156" class="Field">c</a> <a id="18484" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="18486" href="Coherence.Hypotheses.html#17158" class="Field">v</a> <a id="18488" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="18492" href="Coherence.Hypotheses.html#17160" class="Field">y</a> <a id="18494" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="18496" href="Coherence.Hypotheses.html#17473" class="Function">Γ₁₂</a><a id="18499" class="Symbol">)</a> <a id="18501" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="18503" href="Coherence.Hypotheses.html#17171" class="Field">t</a> <a id="18505" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">——</a> <a id="18508" href="Coherence.Hypotheses.html#18137" class="Function">α</a> <a id="18510" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">—→</a> <a id="18513" href="Coherence.Hypotheses.html#18165" class="Function">Γ′</a> <a id="18516" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="18518" href="Coherence.Hypotheses.html#17171" class="Field">t</a>
    <a id="18524" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⊣</a> <a id="18526" href="BitML.Semantics.InferenceRules.html#7812" class="InductiveConstructor">[Timeout]</a> <a id="18536" href="Coherence.Hypotheses.html#18108" class="Field">As≡∅</a> <a id="18541" href="Coherence.Hypotheses.html#18205" class="Function">∀≤t</a> <a id="18545" href="Coherence.Hypotheses.html#18283" class="Function">put→</a> <a id="18550" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="18559" class="Symbol">)</a> <a id="18561" class="Keyword">public</a> <a id="18568" class="Keyword">hiding</a> <a id="18575" class="Symbol">(</a><a id="18576" href="Coherence.Hypotheses.html#1685" class="Field">t</a><a id="18577" class="Symbol">)</a>
  <a id="18581" class="Keyword">field</a> <a id="H₆-args.𝕙r"></a><a id="18587" href="Coherence.Hypotheses.html#18587" class="Field">𝕙r</a> <a id="18590" class="Symbol">:</a> <a id="18592" href="Coherence.Hypotheses.html#1824" class="Record">ℍ-Run</a> <a id="18598" href="Coherence.Hypotheses.html#1795" class="Function">Γ→</a>
  <a id="18603" class="Keyword">open</a> <a id="18608" href="Coherence.Hypotheses.html#1824" class="Module">ℍ-Run</a> <a id="18614" href="Coherence.Hypotheses.html#18587" class="Field">𝕙r</a> <a id="18617" class="Keyword">public</a>

<a id="18625" class="Keyword">module</a> <a id="18632" href="Coherence.Hypotheses.html#18632" class="Module">H₆</a> <a id="18635" class="Symbol">(</a><a id="18636" href="Coherence.Hypotheses.html#18636" class="Bound">⋯</a> <a id="18638" class="Symbol">:</a> <a id="18640" href="Coherence.Hypotheses.html#17105" class="Record">H₆-args</a><a id="18647" class="Symbol">)</a> <a id="18649" class="Symbol">(</a><a id="18650" class="Keyword">open</a> <a id="18655" href="Coherence.Hypotheses.html#17105" class="Module">H₆-args</a> <a id="18663" href="Coherence.Hypotheses.html#18636" class="Bound">⋯</a><a id="18664" class="Symbol">)</a> <a id="18666" class="Keyword">where</a>
  <a id="18674" href="Coherence.Hypotheses.html#18674" class="Function">T</a> <a id="18676" class="Symbol">:</a> <a id="18678" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="18681" class="Symbol">(</a><a id="18682" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="18686" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="18688" href="Data.List.Base.html#4873" class="Function">length</a> <a id="18695" href="Coherence.Hypotheses.html#17297" class="Function">xs</a><a id="18697" class="Symbol">)</a> <a id="18699" class="Number">1</a>
  <a id="18703" href="Coherence.Hypotheses.html#18674" class="Function">T</a> <a id="18705" class="Symbol">=</a> <a id="18707" href="Coherence.Helpers.html#4528" class="Function">COMPILE-ANCESTOR</a> <a id="18724" class="Symbol">{</a><a id="18725" class="Argument">Γ</a> <a id="18727" class="Symbol">=</a> <a id="18729" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a><a id="18730" class="Symbol">}</a> <a id="18732" class="Symbol">{</a><a id="18733" class="Argument">i</a> <a id="18735" class="Symbol">=</a> <a id="18737" href="Coherence.Hypotheses.html#17251" class="Field">i</a><a id="18738" class="Symbol">}</a> <a id="18740" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="18743" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="18745" href="Coherence.Hypotheses.html#2095" class="Function">𝕣</a> <a id="18747" class="Symbol">.</a><a id="18748" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="18754" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="18757" href="Coherence.Hypotheses.html#17931" class="Field">d≡</a> <a id="18760" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="18762" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="18771" href="Prelude.SubstDSL.html#164" class="Function">⟫</a>

  <a id="18776" href="Coherence.Hypotheses.html#18776" class="Function">txi</a> <a id="18780" class="Symbol">:</a> <a id="18782" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
  <a id="18793" href="Coherence.Hypotheses.html#18776" class="Function">txi</a> <a id="18797" class="Symbol">=</a> <a id="18799" class="Symbol">(</a><a id="18800" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="18803" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="18806" href="Coherence.Hypotheses.html#18674" class="Function">T</a><a id="18807" class="Symbol">)</a> <a id="18809" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="18812" class="Number">0</a>

  <a id="18817" class="Keyword">postulate</a> <a id="18827" href="Coherence.Hypotheses.html#18827" class="Postulate">val≡</a> <a id="18832" class="Symbol">:</a> <a id="18834" href="Coherence.Hypotheses.html#18776" class="Function">txi</a> <a id="18838" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a> <a id="18845" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="18847" href="Coherence.Hypotheses.html#17158" class="Field">v</a> <a id="18849" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="18851" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="18855" href="Coherence.Hypotheses.html#17266" class="Function">vs</a>

  <a id="18861" class="Keyword">open</a> <a id="18866" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

  <a id="18881" href="Coherence.Hypotheses.html#18881" class="Function">secrets≡</a> <a id="18890" class="Symbol">:</a> <a id="18892" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="18895" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="18898" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="18905" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="18907" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a>
  <a id="18911" href="Coherence.Hypotheses.html#18881" class="Function">secrets≡</a> <a id="18920" class="Symbol">=</a>
    <a id="18926" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
      <a id="18938" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="18945" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
    <a id="18952" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="18955" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="18983" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="18990" class="Symbol">(</a><a id="18991" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="18993" href="Coherence.Hypotheses.html#17162" class="Field">c′</a> <a id="18996" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="18998" href="Coherence.Hypotheses.html#17158" class="Field">v</a> <a id="19000" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="19002" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="19006" href="Coherence.Hypotheses.html#17266" class="Function">vs</a> <a id="19009" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="19013" href="Coherence.Hypotheses.html#17165" class="Field">y′</a><a id="19015" class="Symbol">)</a> <a id="19017" href="Coherence.Hypotheses.html#17452" class="Function">Γ₂</a> <a id="19020" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="19028" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19035" class="Symbol">(</a><a id="19036" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="19038" href="Coherence.Hypotheses.html#17162" class="Field">c′</a> <a id="19041" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="19043" href="Coherence.Hypotheses.html#17158" class="Field">v</a> <a id="19045" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="19047" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="19051" href="Coherence.Hypotheses.html#17266" class="Function">vs</a> <a id="19054" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="19058" href="Coherence.Hypotheses.html#17165" class="Field">y′</a><a id="19060" class="Symbol">)</a> <a id="19062" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="19065" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19072" href="Coherence.Hypotheses.html#17452" class="Function">Γ₂</a>
    <a id="19079" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
      <a id="19089" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19096" href="Coherence.Hypotheses.html#17452" class="Function">Γ₂</a>
    <a id="19103" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="19107" href="Data.List.Properties.html#5558" class="Function">L.++-identityˡ</a> <a id="19122" class="Symbol">_</a> <a id="19124" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
      <a id="19132" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="19135" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="19138" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19145" href="Coherence.Hypotheses.html#17452" class="Function">Γ₂</a>
    <a id="19152" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="19156" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="19161" class="Symbol">(</a><a id="19162" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="19166" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19173" href="Coherence.Hypotheses.html#17452" class="Function">Γ₂</a><a id="19175" class="Symbol">)</a> <a id="19177" class="Symbol">(</a><a id="19178" href="Coherence.Hypotheses.html#19338" class="Function">go</a> <a id="19181" href="Coherence.Hypotheses.html#17185" class="Field">ds</a><a id="19183" class="Symbol">)</a> <a id="19185" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
      <a id="19193" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19200" class="Symbol">(</a><a id="19201" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="19203" href="Coherence.Hypotheses.html#17162" class="Field">c′</a> <a id="19206" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="19208" href="Coherence.Hypotheses.html#17158" class="Field">v</a> <a id="19210" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="19214" href="Coherence.Hypotheses.html#17160" class="Field">y</a> <a id="19216" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="19218" href="Coherence.Hypotheses.html#17377" class="Function">Γ₁</a><a id="19220" class="Symbol">)</a> <a id="19222" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="19225" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19232" href="Coherence.Hypotheses.html#17452" class="Function">Γ₂</a>
    <a id="19239" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="19243" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="19271" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="19278" class="Symbol">(</a><a id="19279" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="19281" href="Coherence.Hypotheses.html#17162" class="Field">c′</a> <a id="19284" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="19286" href="Coherence.Hypotheses.html#17158" class="Field">v</a> <a id="19288" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="19292" href="Coherence.Hypotheses.html#17160" class="Field">y</a> <a id="19294" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="19296" href="Coherence.Hypotheses.html#17377" class="Function">Γ₁</a><a id="19298" class="Symbol">)</a> <a id="19300" href="Coherence.Hypotheses.html#17452" class="Function">Γ₂</a> <a id="19303" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
      <a id="19311" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19318" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a>
    <a id="19324" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="19326" class="Keyword">where</a>
      <a id="19338" href="Coherence.Hypotheses.html#19338" class="Function">go</a> <a id="19341" class="Symbol">:</a> <a id="19343" class="Symbol">∀</a> <a id="19345" class="Symbol">(</a><a id="19346" href="Coherence.Hypotheses.html#19346" class="Bound">ds</a> <a id="19349" class="Symbol">:</a> <a id="19351" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="19362" class="Symbol">)</a> <a id="19364" class="Symbol">→</a>
        <a id="19374" href="Prelude.Null.html#263" class="Field">Null</a> <a id="19379" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="19381" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19388" class="Symbol">(</a><a id="19389" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="19392" href="Data.List.Base.html#1553" class="Function">map</a> <a id="19396" class="Symbol">(λ{</a> <a id="19400" class="Symbol">(</a><a id="19401" href="Coherence.Hypotheses.html#19401" class="Bound">Aᵢ</a> <a id="19404" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="19406" href="Coherence.Hypotheses.html#19406" class="Bound">vᵢ</a> <a id="19409" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="19411" href="Coherence.Hypotheses.html#19411" class="Bound">xᵢ</a><a id="19413" class="Symbol">)</a> <a id="19415" class="Symbol">→</a> <a id="19417" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="19419" href="Coherence.Hypotheses.html#19401" class="Bound">Aᵢ</a> <a id="19422" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="19426" href="Coherence.Hypotheses.html#19406" class="Bound">vᵢ</a> <a id="19429" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="19433" href="Coherence.Hypotheses.html#19411" class="Bound">xᵢ</a> <a id="19436" class="Symbol">})</a> <a id="19439" href="Coherence.Hypotheses.html#19346" class="Bound">ds</a><a id="19441" class="Symbol">)</a>
      <a id="19449" href="Coherence.Hypotheses.html#19338" class="Function">go</a> <a id="19452" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="19455" class="Symbol">=</a> <a id="19457" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="19468" href="Coherence.Hypotheses.html#19338" class="Function">go</a> <a id="19471" class="Symbol">(_</a> <a id="19474" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="19476" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="19478" class="Symbol">)</a> <a id="19480" class="Symbol">=</a> <a id="19482" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="19493" href="Coherence.Hypotheses.html#19338" class="Function">go</a> <a id="19496" class="Symbol">(_</a> <a id="19499" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="19501" href="Coherence.Hypotheses.html#19501" class="Bound">xs</a><a id="19503" class="Symbol">@(_</a> <a id="19507" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="19509" class="Symbol">_))</a> <a id="19513" class="Symbol">=</a> <a id="19515" href="Coherence.Hypotheses.html#19338" class="Function">go</a> <a id="19518" href="Coherence.Hypotheses.html#19501" class="Bound">xs</a>

  <a id="19524" href="Coherence.Hypotheses.html#19524" class="Function">ads≡</a> <a id="19529" class="Symbol">:</a> <a id="19531" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="19534" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="19537" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="19552" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="19554" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a>
  <a id="19558" href="Coherence.Hypotheses.html#19524" class="Function">ads≡</a> <a id="19563" class="Symbol">=</a>
    <a id="19569" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
      <a id="19581" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="19596" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
    <a id="19603" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
      <a id="19613" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="19628" href="Coherence.Hypotheses.html#17452" class="Function">Γ₂</a>
    <a id="19635" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="19639" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="19644" class="Symbol">(</a><a id="19645" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="19649" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="19664" href="Coherence.Hypotheses.html#17452" class="Function">Γ₂</a><a id="19666" class="Symbol">)</a> <a id="19668" class="Symbol">(</a><a id="19669" href="Coherence.Hypotheses.html#19804" class="Function">go</a> <a id="19672" href="Coherence.Hypotheses.html#17185" class="Field">ds</a><a id="19674" class="Symbol">)</a> <a id="19676" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
      <a id="19684" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="19699" href="Coherence.Hypotheses.html#17377" class="Function">Γ₁</a> <a id="19702" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="19705" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="19720" href="Coherence.Hypotheses.html#17452" class="Function">Γ₂</a>
    <a id="19727" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="19730" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="19734" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="19736" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="19755" href="Coherence.Hypotheses.html#17377" class="Function">Γ₁</a> <a id="19758" href="Coherence.Hypotheses.html#17452" class="Function">Γ₂</a> <a id="19761" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="19769" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="19784" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a>
    <a id="19790" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="19792" class="Keyword">where</a>
      <a id="19804" href="Coherence.Hypotheses.html#19804" class="Function">go</a> <a id="19807" class="Symbol">:</a> <a id="19809" class="Symbol">∀</a> <a id="19811" class="Symbol">(</a><a id="19812" href="Coherence.Hypotheses.html#19812" class="Bound">ds</a> <a id="19815" class="Symbol">:</a> <a id="19817" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="19828" class="Symbol">)</a> <a id="19830" class="Symbol">→</a>
        <a id="19840" href="Prelude.Null.html#263" class="Field">Null</a> <a id="19845" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="19847" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="19862" class="Symbol">(</a><a id="19863" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="19866" href="Data.List.Base.html#1553" class="Function">map</a> <a id="19870" class="Symbol">(</a><a id="19871" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="19880" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨_has_⟩at_</a><a id="19890" class="Symbol">)</a> <a id="19892" href="Coherence.Hypotheses.html#19812" class="Bound">ds</a><a id="19894" class="Symbol">)</a>
      <a id="19902" href="Coherence.Hypotheses.html#19804" class="Function">go</a> <a id="19905" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="19908" class="Symbol">=</a> <a id="19910" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="19921" href="Coherence.Hypotheses.html#19804" class="Function">go</a> <a id="19924" class="Symbol">(_</a> <a id="19927" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="19929" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="19931" class="Symbol">)</a> <a id="19933" class="Symbol">=</a> <a id="19935" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="19946" href="Coherence.Hypotheses.html#19804" class="Function">go</a> <a id="19949" class="Symbol">(_</a> <a id="19952" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="19954" href="Coherence.Hypotheses.html#19954" class="Bound">xs</a><a id="19956" class="Symbol">@(_</a> <a id="19960" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="19962" class="Symbol">_))</a> <a id="19966" class="Symbol">=</a> <a id="19968" href="Coherence.Hypotheses.html#19804" class="Function">go</a> <a id="19971" href="Coherence.Hypotheses.html#19954" class="Bound">xs</a>

  <a id="19977" href="Coherence.Hypotheses.html#19977" class="Function">sechash↝</a> <a id="19986" class="Symbol">:</a>  <a id="19989" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="19991" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="19994" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="20002" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="20004" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
  <a id="20009" href="Coherence.Hypotheses.html#19977" class="Function">sechash↝</a> <a id="20018" class="Symbol">=</a> <a id="20020" href="SymbolicModel.Mappings.html#3670" class="Function Operator">lift</a> <a id="20025" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="20027" href="SymbolicModel.Mappings.html#3670" class="Function Operator">—⟨</a> <a id="20030" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="20037" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⟩—</a> <a id="20040" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="20043" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⊣</a> <a id="20045" href="Coherence.Hypotheses.html#18881" class="Function">secrets≡</a>

  <a id="20057" href="Coherence.Hypotheses.html#20057" class="Function">κ↝</a> <a id="20060" class="Symbol">:</a> <a id="20062" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="20064" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="20067" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="20070" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="20072" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
  <a id="20077" href="Coherence.Hypotheses.html#20057" class="Function">κ↝</a> <a id="20080" class="Symbol">=</a> <a id="20082" href="SymbolicModel.Mappings.html#3670" class="Function Operator">lift</a> <a id="20087" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="20089" href="SymbolicModel.Mappings.html#3670" class="Function Operator">—⟨</a> <a id="20092" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="20107" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⟩—</a> <a id="20110" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="20113" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⊣</a> <a id="20115" href="Coherence.Hypotheses.html#19524" class="Function">ads≡</a>

  <a id="20123" href="Coherence.Hypotheses.html#20123" class="Function">p⊆</a> <a id="20126" class="Symbol">:</a> <a id="20128" href="Coherence.Hypotheses.html#17452" class="Function">Γ₂</a> <a id="20131" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="20134" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="20138" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="20140" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a>
  <a id="20144" href="Coherence.Hypotheses.html#20123" class="Function">p⊆</a> <a id="20147" class="Symbol">=</a> <a id="20149" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a> <a id="20155" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="20157" href="BitML.Semantics.Configurations.Helpers.html#10369" class="Function">∈-ids-++⁺ʳ</a> <a id="20168" href="Coherence.Hypotheses.html#17377" class="Function">Γ₁</a> <a id="20171" href="Coherence.Hypotheses.html#17452" class="Function">Γ₂</a>

  <a id="20177" class="Comment">-- (v) extend txout′ with {y′↦(T,0)}, sechash = sechash′, κ = κ′</a>
  <a id="20244" href="Coherence.Hypotheses.html#20244" class="Function">txout↝</a> <a id="20251" class="Symbol">:</a> <a id="20253" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="20255" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="20258" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="20264" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="20266" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
  <a id="20271" href="Coherence.Hypotheses.html#20244" class="Function">txout↝</a> <a id="20278" href="Coherence.Hypotheses.html#20278" class="Bound">txout′</a> <a id="20285" class="Symbol">=</a> <a id="20287" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="20294" href="Coherence.Hypotheses.html#17165" class="Field">y′</a> <a id="20297" href="Coherence.Hypotheses.html#18776" class="Function">txi</a> <a id="20301" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="20303" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="20312" href="Coherence.Hypotheses.html#20278" class="Bound">txout′</a> <a id="20319" href="Coherence.Hypotheses.html#20123" class="Function">p⊆</a>

  <a id="20325" href="Coherence.Hypotheses.html#20325" class="Function">λˢ</a> <a id="20328" class="Symbol">:</a> <a id="20330" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="20333" href="Coherence.Hypotheses.html#1761" class="Function">Γₜ′</a>
  <a id="20339" href="Coherence.Hypotheses.html#20325" class="Function">λˢ</a> <a id="20342" class="Symbol">=</a> <a id="20344" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="20350" href="Coherence.Hypotheses.html#2095" class="Function">𝕣</a> <a id="20352" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="20354" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="20357" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="20360" href="Coherence.Hypotheses.html#20244" class="Function">txout↝</a> <a id="20367" href="Coherence.Hypotheses.html#19977" class="Function">sechash↝</a> <a id="20376" href="Coherence.Hypotheses.html#20057" class="Function">κ↝</a>

<a id="20380" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[6]~_⨾_"></a><a id="20385" href="Coherence.Hypotheses.html#20385" class="Datatype Operator">_⨾_⨾_~ℍ[6]~_⨾_</a> <a id="20400" class="Symbol">:</a> <a id="20402" href="Coherence.Hypotheses.html#1468" class="Function">StepRel</a> <a id="20410" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[6]~_⨾_.mkℍ"></a><a id="20418" href="Coherence.Hypotheses.html#20418" class="InductiveConstructor">mkℍ</a> <a id="20422" class="Symbol">:</a> <a id="20424" class="Symbol">∀</a> <a id="20426" class="Symbol">{</a><a id="20427" href="Coherence.Hypotheses.html#20427" class="Bound">h</a> <a id="20429" class="Symbol">:</a> <a id="20431" href="Coherence.Hypotheses.html#17105" class="Record">H₆-args</a><a id="20438" class="Symbol">}</a> <a id="20440" class="Symbol">(</a><a id="20441" class="Keyword">open</a> <a id="20446" href="Coherence.Hypotheses.html#17105" class="Module">H₆-args</a> <a id="20454" href="Coherence.Hypotheses.html#20427" class="Bound">h</a><a id="20455" class="Symbol">)</a> <a id="20457" class="Symbol">→</a>
    <a id="20463" class="Keyword">let</a>
      <a id="20473" class="Keyword">open</a> <a id="20478" href="Coherence.Hypotheses.html#18632" class="Module">H₆</a> <a id="20481" href="Coherence.Hypotheses.html#20427" class="Bound">h</a> <a id="20483" class="Keyword">using</a> <a id="20489" class="Symbol">(</a><a id="20490" href="Coherence.Hypotheses.html#20325" class="Function">λˢ</a><a id="20492" class="Symbol">;</a> <a id="20494" href="Coherence.Hypotheses.html#18674" class="Function">T</a><a id="20495" class="Symbol">)</a>
      <a id="20503" href="Coherence.Hypotheses.html#20503" class="Bound">λᶜ</a> <a id="20506" class="Symbol">=</a> <a id="20508" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="20515" class="Symbol">(</a><a id="20516" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="20519" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="20522" href="Coherence.Hypotheses.html#18674" class="Function">T</a><a id="20523" class="Symbol">)</a>
    <a id="20529" class="Keyword">in</a>
      <a id="20538" href="Coherence.Hypotheses.html#2043" class="Function">Γₜ″</a> <a id="20542" href="Coherence.Hypotheses.html#20385" class="Datatype Operator">⨾</a> <a id="20544" href="Coherence.Hypotheses.html#1982" class="Function">𝕣∗</a> <a id="20547" href="Coherence.Hypotheses.html#20385" class="Datatype Operator">⨾</a> <a id="20549" class="Symbol">(</a><a id="20550" href="Coherence.Hypotheses.html#2129" class="Function">𝕒</a> <a id="20552" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="20554" href="Coherence.Hypotheses.html#20325" class="Function">λˢ</a><a id="20556" class="Symbol">)</a> <a id="20558" href="Coherence.Hypotheses.html#20385" class="Datatype Operator">~ℍ[6]~</a> <a id="20565" href="Coherence.Hypotheses.html#20503" class="Bound">λᶜ</a> <a id="20568" href="Coherence.Hypotheses.html#20385" class="Datatype Operator">⨾</a> <a id="20570" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a>

<a id="20574" class="Comment">-- ** Contract actions: authorize reveal</a>
<a id="20615" class="Keyword">record</a> <a id="H₇-args"></a><a id="20622" href="Coherence.Hypotheses.html#20622" class="Record">H₇-args</a> <a id="20630" class="Symbol">:</a> <a id="20632" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="20637" class="Keyword">where</a>
  <a id="20645" class="Keyword">constructor</a> <a id="mk"></a><a id="20657" href="Coherence.Hypotheses.html#20657" class="InductiveConstructor">mk</a>
  <a id="20662" class="Keyword">field</a>
    <a id="20672" class="Symbol">{</a><a id="H₇-args.ad"></a><a id="20673" href="Coherence.Hypotheses.html#20673" class="Field">ad</a> <a id="H₇-args.A"></a><a id="20676" href="Coherence.Hypotheses.html#20676" class="Field">A</a> <a id="H₇-args.a"></a><a id="20678" href="Coherence.Hypotheses.html#20678" class="Field">a</a> <a id="H₇-args.n"></a><a id="20680" href="Coherence.Hypotheses.html#20680" class="Field">n</a> <a id="H₇-args.Γ₀"></a><a id="20682" href="Coherence.Hypotheses.html#20682" class="Field">Γ₀</a> <a id="H₇-args.t"></a><a id="20685" href="Coherence.Hypotheses.html#20685" class="Field">t</a><a id="20686" class="Symbol">}</a> <a id="20688" class="Symbol">:</a> <a id="20690" class="Symbol">_</a>
    <a id="H₇-args.k⃗"></a><a id="20696" href="Coherence.Hypotheses.html#20696" class="Field">k⃗</a>   <a id="20701" class="Symbol">:</a> <a id="20703" href="Compiler.Mappings.html#454" class="Function">𝕂²′</a> <a id="20707" href="Coherence.Hypotheses.html#20673" class="Field">ad</a>
    <a id="H₇-args.Δ×h̅"></a><a id="20714" href="Coherence.Hypotheses.html#20714" class="Field">Δ×h̅</a> <a id="20719" class="Symbol">:</a> <a id="20721" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="20726" class="Symbol">(</a><a id="20727" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="20734" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="20736" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="20742" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="20744" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="20746" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a><a id="20747" class="Symbol">)</a>
  <a id="20751" class="Keyword">open</a> <a id="20756" href="BitML.Contracts.ModuleMacros.html#761" class="Module">∣AD</a> <a id="20760" href="Coherence.Hypotheses.html#20673" class="Field">ad</a> <a id="20763" class="Keyword">public</a>
  <a id="H₇-args.Δ"></a><a id="20772" href="Coherence.Hypotheses.html#20772" class="Function">Δ</a> <a id="20774" class="Symbol">=</a> <a id="20776" href="Data.List.Base.html#1553" class="Function">map</a> <a id="20780" href="Prelude.Nary.html#3032" class="Function">drop₃</a>   <a id="20788" href="Coherence.Hypotheses.html#20714" class="Field">Δ×h̅</a>
  <a id="H₇-args.h̅"></a><a id="20795" href="Coherence.Hypotheses.html#20795" class="Function">h̅</a> <a id="20798" class="Symbol">=</a> <a id="20800" href="Data.List.Base.html#1553" class="Function">map</a> <a id="20804" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="20812" href="Coherence.Hypotheses.html#20714" class="Field">Δ×h̅</a>
  <a id="H₇-args.k̅"></a><a id="20819" href="Coherence.Hypotheses.html#20819" class="Function">k̅</a> <a id="20822" class="Symbol">=</a> <a id="20824" href="Data.List.Base.html#4459" class="Function">concatMap</a> <a id="20834" class="Symbol">(</a><a id="20835" href="Data.List.Base.html#1553" class="Function">map</a> <a id="20839" href="Bitcoin.Crypto.html#375" class="Field">pub</a> <a id="20843" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="20845" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a><a id="20850" class="Symbol">)</a> <a id="20852" class="Symbol">(</a><a id="20853" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="20859" href="Coherence.Hypotheses.html#20696" class="Field">k⃗</a><a id="20861" class="Symbol">)</a>
  <a id="20865" class="Keyword">open</a> <a id="20870" href="Coherence.Hypotheses.html#1608" class="Module">Transition</a>
    <a id="20885" class="Symbol">(</a> <a id="20887" class="Symbol">(</a><a id="20888" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="20890" href="Coherence.Hypotheses.html#20676" class="Field">A</a> <a id="20892" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶</a> <a id="20894" href="Coherence.Hypotheses.html#20678" class="Field">a</a> <a id="20896" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">♯</a> <a id="20898" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="20903" href="Coherence.Hypotheses.html#20680" class="Field">n</a> <a id="20905" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟩</a> <a id="20907" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="20909" href="Coherence.Hypotheses.html#20682" class="Field">Γ₀</a><a id="20911" class="Symbol">)</a> <a id="20913" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="20915" href="Coherence.Hypotheses.html#20685" class="Field">t</a> <a id="20917" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">——</a> <a id="20920" href="BitML.Semantics.Label.html#1268" class="InductiveConstructor Operator">auth-rev⦅</a> <a id="20930" href="Coherence.Hypotheses.html#20676" class="Field">A</a> <a id="20932" href="BitML.Semantics.Label.html#1268" class="InductiveConstructor Operator">,</a> <a id="20934" href="Coherence.Hypotheses.html#20678" class="Field">a</a> <a id="20936" href="BitML.Semantics.Label.html#1268" class="InductiveConstructor Operator">⦆</a> <a id="20938" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">—→</a> <a id="20941" href="Coherence.Hypotheses.html#20676" class="Field">A</a> <a id="20943" href="BitML.Semantics.Configurations.Types.html#968" class="InductiveConstructor Operator">∶</a> <a id="20945" href="Coherence.Hypotheses.html#20678" class="Field">a</a> <a id="20947" href="BitML.Semantics.Configurations.Types.html#968" class="InductiveConstructor Operator">♯</a> <a id="20949" href="Coherence.Hypotheses.html#20680" class="Field">n</a> <a id="20951" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="20953" href="Coherence.Hypotheses.html#20682" class="Field">Γ₀</a> <a id="20956" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="20958" href="Coherence.Hypotheses.html#20685" class="Field">t</a>
    <a id="20964" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⊣</a> <a id="20966" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="20970" href="BitML.Semantics.InferenceRules.html#5675" class="InductiveConstructor">[C-AuthRev]</a>
    <a id="20986" class="Symbol">)</a> <a id="20988" class="Keyword">public</a> <a id="20995" class="Keyword">hiding</a> <a id="21002" class="Symbol">(</a><a id="21003" href="Coherence.Hypotheses.html#1685" class="Field">t</a><a id="21004" class="Symbol">)</a>
  <a id="21008" class="Keyword">field</a> <a id="H₇-args.𝕙r"></a><a id="21014" href="Coherence.Hypotheses.html#21014" class="Field">𝕙r</a> <a id="21017" class="Symbol">:</a> <a id="21019" href="Coherence.Hypotheses.html#1824" class="Record">ℍ-Run</a> <a id="21025" href="Coherence.Hypotheses.html#1795" class="Function">Γ→</a>
  <a id="21030" class="Keyword">open</a> <a id="21035" href="Coherence.Hypotheses.html#1824" class="Module">ℍ-Run</a> <a id="21041" href="Coherence.Hypotheses.html#21014" class="Field">𝕙r</a> <a id="21044" class="Keyword">public</a>
  <a id="21053" class="Keyword">field</a>
    <a id="21063" class="Comment">-- (iv) in Rˢ, we find an A:{G}C,∆ action, with a in G</a>
    <a id="H₇-args.∃α"></a><a id="21122" href="Coherence.Hypotheses.html#21122" class="Field">∃α</a> <a id="21125" class="Symbol">:</a> <a id="21127" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">auth-commit⦅</a> <a id="21140" href="Coherence.Hypotheses.html#20676" class="Field">A</a> <a id="21142" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">,</a> <a id="21144" href="Coherence.Hypotheses.html#20673" class="Field">ad</a> <a id="21147" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">,</a> <a id="21149" href="Coherence.Hypotheses.html#20772" class="Function">Δ</a> <a id="21151" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">⦆</a> <a id="21153" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="21155" href="SymbolicModel.Run.Collections.html#908" class="Function">labelsʳ</a> <a id="21163" href="Coherence.Hypotheses.html#2265" class="Function">R</a>

<a id="21166" class="Keyword">module</a> <a id="21173" href="Coherence.Hypotheses.html#21173" class="Module">H₇</a> <a id="21176" class="Symbol">(</a><a id="21177" href="Coherence.Hypotheses.html#21177" class="Bound">⋯</a> <a id="21179" class="Symbol">:</a> <a id="21181" href="Coherence.Hypotheses.html#20622" class="Record">H₇-args</a><a id="21188" class="Symbol">)</a> <a id="21190" class="Symbol">(</a><a id="21191" class="Keyword">open</a> <a id="21196" href="Coherence.Hypotheses.html#20622" class="Module">H₇-args</a> <a id="21204" href="Coherence.Hypotheses.html#21177" class="Bound">⋯</a><a id="21205" class="Symbol">)</a> <a id="21207" class="Keyword">where</a>
  <a id="21215" href="Coherence.Hypotheses.html#21215" class="Function">λˢ</a> <a id="21218" class="Symbol">:</a> <a id="21220" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="21223" href="Coherence.Hypotheses.html#1761" class="Function">Γₜ′</a>
  <a id="21229" href="Coherence.Hypotheses.html#21215" class="Function">λˢ</a> <a id="21232" class="Symbol">=</a> <a id="21234" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="21240" href="Coherence.Hypotheses.html#2095" class="Function">𝕣</a> <a id="21242" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="21244" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="21247" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="21250" href="Function.Base.html#624" class="Function">id</a> <a id="21253" href="Function.Base.html#624" class="Function">id</a> <a id="21256" href="Function.Base.html#624" class="Function">id</a>

  <a id="21262" href="Coherence.Hypotheses.html#21262" class="Function">a∈Γ</a> <a id="21266" class="Symbol">:</a> <a id="21268" href="Coherence.Hypotheses.html#20678" class="Field">a</a> <a id="21270" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="21272" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="21280" class="Symbol">(</a><a id="21281" href="Coherence.Hypotheses.html#1969" class="Function">Rˢ</a> <a id="21284" href="SymbolicModel.Run.Accessors.html#734" class="Function Operator">∙cfg</a><a id="21288" class="Symbol">)</a>
  <a id="21292" href="Coherence.Hypotheses.html#21262" class="Function">a∈Γ</a> <a id="21296" class="Symbol">=</a> <a id="21298" href="BitML.Semantics.Configurations.Helpers.html#14586" class="Function">∈namesˡ-resp-≈</a> <a id="21313" href="Coherence.Hypotheses.html#20678" class="Field">a</a> <a id="21315" class="Symbol">{</a><a id="21316" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a><a id="21317" class="Symbol">}{</a><a id="21319" href="Coherence.Hypotheses.html#1969" class="Function">Rˢ</a> <a id="21322" href="SymbolicModel.Run.Accessors.html#734" class="Function Operator">∙cfg</a><a id="21326" class="Symbol">}</a> <a id="21328" class="Symbol">(</a><a id="21329" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="21335" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="21337" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="21340" class="Symbol">.</a><a id="21341" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="21346" class="Symbol">)</a> <a id="21348" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a>
  <a id="21352" class="Keyword">open</a> <a id="21357" href="SymbolicModel.Mappings.html#1344" class="Module">ℾ</a> <a id="21359" class="Symbol">(</a><a id="21360" href="SymbolicModel.Mappings.html#3624" class="Function">ℝ∗⇒ℾ</a> <a id="21365" href="Coherence.Hypotheses.html#1982" class="Function">𝕣∗</a><a id="21367" class="Symbol">)</a> <a id="21369" class="Keyword">using</a> <a id="21375" class="Symbol">(</a><a id="21376" href="SymbolicModel.Mappings.html#1418" class="Field">sechashΓ</a><a id="21384" class="Symbol">)</a>

  <a id="21389" href="Coherence.Hypotheses.html#21389" class="Function">sechash⦅a⦆</a> <a id="21400" class="Symbol">:</a> <a id="21402" href="Bitcoin.BasicTypes.html#351" class="Function">HashId</a>
  <a id="21411" href="Coherence.Hypotheses.html#21389" class="Function">sechash⦅a⦆</a> <a id="21422" class="Symbol">=</a> <a id="21424" href="SymbolicModel.Mappings.html#1418" class="Function">sechashΓ</a> <a id="21433" class="Symbol">{</a><a id="21434" href="Coherence.Hypotheses.html#20678" class="Field">a</a><a id="21435" class="Symbol">}</a> <a id="21437" href="Coherence.Hypotheses.html#21262" class="Function">a∈Γ</a>

  <a id="21444" class="Comment">-- txoutᶜ : Txout ad × Txout C</a>
  <a id="21477" class="Comment">-- txoutᶜ = auth-commit∈⇒Txout ∃α 𝕣</a>

<a id="21514" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[7]~_⨾_"></a><a id="21519" href="Coherence.Hypotheses.html#21519" class="Datatype Operator">_⨾_⨾_~ℍ[7]~_⨾_</a> <a id="21534" class="Symbol">:</a> <a id="21536" href="Coherence.Hypotheses.html#1468" class="Function">StepRel</a> <a id="21544" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[7]~_⨾_.mkℍ"></a><a id="21552" href="Coherence.Hypotheses.html#21552" class="InductiveConstructor">mkℍ</a> <a id="21556" class="Symbol">:</a> <a id="21558" class="Symbol">∀</a> <a id="21560" class="Symbol">{</a><a id="21561" href="Coherence.Hypotheses.html#21561" class="Bound">h</a> <a id="21563" class="Symbol">:</a> <a id="21565" href="Coherence.Hypotheses.html#20622" class="Record">H₇-args</a><a id="21572" class="Symbol">}</a> <a id="21574" class="Symbol">{</a><a id="21575" href="Coherence.Hypotheses.html#21575" class="Bound">B</a><a id="21576" class="Symbol">}</a> <a id="21578" class="Symbol">{</a><a id="21579" href="Coherence.Hypotheses.html#21579" class="Bound">mˢ</a> <a id="21582" class="Symbol">:</a> <a id="21584" href="Agda.Builtin.String.html#318" class="Postulate">String</a><a id="21590" class="Symbol">}</a> <a id="21592" class="Symbol">(</a><a id="21593" class="Keyword">let</a> <a id="21597" href="Coherence.Hypotheses.html#21597" class="Bound">m</a> <a id="21599" class="Symbol">=</a> <a id="21601" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="21608" href="Coherence.Hypotheses.html#21579" class="Bound">mˢ</a><a id="21610" class="Symbol">)</a>
    <a id="21616" class="Symbol">→</a> <a id="21618" class="Keyword">let</a>
        <a id="21630" class="Keyword">open</a> <a id="21635" href="Coherence.Hypotheses.html#20622" class="Module">H₇-args</a> <a id="21643" href="Coherence.Hypotheses.html#21561" class="Bound">h</a> <a id="21645" class="Keyword">renaming</a> <a id="21654" class="Symbol">(</a><a id="21655" href="Coherence.Hypotheses.html#20673" class="Field">ad</a> <a id="21658" class="Symbol">to</a> <a id="21661" class="Field">⟨G⟩C</a><a id="21665" class="Symbol">)</a>

        <a id="21676" class="Comment">-- (iii) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="21736" class="Keyword">open</a> <a id="21741" href="Coherence.Hypotheses.html#21173" class="Module">H₇</a> <a id="21744" href="Coherence.Hypotheses.html#21561" class="Bound">h</a> <a id="21746" class="Keyword">using</a> <a id="21752" class="Symbol">(</a><a id="21753" href="Coherence.Hypotheses.html#21215" class="Function">λˢ</a><a id="21755" class="Symbol">;</a> <a id="21757" href="Coherence.Hypotheses.html#21389" class="Function">sechash⦅a⦆</a><a id="21767" class="Symbol">)</a>
        <a id="21777" class="Comment">-- (i) some participant B broadcasts message m</a>
        <a id="21832" href="Coherence.Hypotheses.html#21832" class="Bound">λᶜ</a> <a id="21835" class="Symbol">=</a> <a id="21837" href="Coherence.Hypotheses.html#21575" class="Bound">B</a> <a id="21839" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="21843" href="Coherence.Hypotheses.html#21597" class="Bound">m</a>
      <a id="21851" class="Keyword">in</a>
      <a id="21860" class="Comment">-- ... with a corresponding broadcast of m′=(C,h̅,k̅) in Rᶜ</a>
      <a id="21926" class="Comment">-- T0D0: should we search for a signature of this message instead?</a>
    <a id="21997" class="Symbol">∀</a> <a id="21999" class="Symbol">(</a><a id="22000" href="Coherence.Hypotheses.html#22000" class="Bound">∃λ</a> <a id="22003" class="Symbol">:</a> <a id="22005" href="Data.Product.html#1378" class="Function">∃</a> <a id="22007" class="Symbol">λ</a> <a id="22009" href="Coherence.Hypotheses.html#22009" class="Bound">B</a> <a id="22011" class="Symbol">→</a> <a id="22013" href="Data.Product.html#1378" class="Function">∃</a> <a id="22015" class="Symbol">λ</a> <a id="22017" class="Symbol">(</a><a id="22018" href="Coherence.Hypotheses.html#22018" class="Bound">txoutᶜ</a> <a id="22025" class="Symbol">:</a> <a id="22027" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="22033" href="Coherence.Hypotheses.html#21661" class="Function">⟨G⟩C</a> <a id="22038" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="22040" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="22046" href="BitML.Contracts.ModuleMacros.html#783" class="Function">C</a><a id="22047" class="Symbol">)</a> <a id="22049" class="Symbol">→</a>
          <a id="22061" class="Keyword">let</a> <a id="22065" href="Coherence.Hypotheses.html#22065" class="Bound">C,h̅,k̅</a> <a id="22073" class="Symbol">=</a> <a id="22075" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="22082" class="Symbol">(</a><a id="22083" href="Coherence.ComputationalContracts.html#12140" class="Function">encodeAd</a> <a id="22092" href="Coherence.Hypotheses.html#21661" class="Function">⟨G⟩C</a> <a id="22097" href="Coherence.Hypotheses.html#22018" class="Bound">txoutᶜ</a> <a id="22104" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="22106" href="Coherence.Hypotheses.html#20795" class="Function">h̅</a> <a id="22109" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="22111" href="Coherence.Hypotheses.html#20819" class="Function">k̅</a><a id="22113" class="Symbol">)</a>
          <a id="22125" class="Keyword">in</a>  <a id="22129" href="Coherence.Hypotheses.html#22009" class="Bound">B</a> <a id="22131" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="22135" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="22139" class="Symbol">(</a><a id="22140" href="ComputationalModel.KeyPairs.html#177" class="Function">K</a> <a id="22142" href="Coherence.Hypotheses.html#22009" class="Bound">B</a><a id="22143" class="Symbol">)</a> <a id="22145" href="Coherence.Hypotheses.html#22065" class="Bound">C,h̅,k̅</a> <a id="22153" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="22155" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="22162" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a><a id="22164" class="Symbol">)</a> <a id="22166" class="Symbol">→</a>

    <a id="22173" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="22175" href="Coherence.Hypotheses.html#20678" class="Function">a</a> <a id="22177" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="22179" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="22187" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a>
    <a id="22193" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="22195" href="ComputationalModel.Serialization.html#245" class="Function Operator">∣</a> <a id="22197" href="Coherence.Hypotheses.html#21597" class="Bound">m</a> <a id="22199" href="ComputationalModel.Serialization.html#245" class="Function Operator">∣ᵐ</a> <a id="22202" href="Prelude.Ord.Core.html#289" class="Function Operator">≥</a> <a id="22204" href="SecureCompilation.ModuleParameters.html#357" class="Field">η</a>

      <a id="22213" class="Comment">-- (ii) in Rᶜ we find ⋯ (B → O ∶ m) (O → B : sechash′(a)) for some B ⋯</a>
    <a id="22288" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="22290" class="Symbol">(</a><a id="22291" href="Data.Product.html#1378" class="Function">∃</a> <a id="22293" class="Symbol">λ</a> <a id="22295" href="Coherence.Hypotheses.html#22295" class="Bound">B</a> <a id="22297" class="Symbol">→</a> <a id="22299" class="Symbol">(</a><a id="22300" href="Coherence.Hypotheses.html#22295" class="Bound">B</a> <a id="22302" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="22304" href="Coherence.Hypotheses.html#21597" class="Bound">m</a> <a id="22306" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="22308" href="Coherence.Hypotheses.html#21389" class="Function">sechash⦅a⦆</a><a id="22318" class="Symbol">)</a> <a id="22320" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="22322" href="ComputationalModel.Run.html#5971" class="Function">oracleInteractionsᶜ</a> <a id="22342" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a><a id="22344" class="Symbol">)</a>

      <a id="22353" class="Comment">-- (v) λᶜ is the first broadcast of m after the first broadcast of m′</a>
    <a id="22427" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="22429" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="22433" class="Symbol">(λ</a> <a id="22436" href="Coherence.Hypotheses.html#22436" class="Bound">l</a> <a id="22438" class="Symbol">→</a> <a id="22440" class="Symbol">∀</a> <a id="22442" href="Coherence.Hypotheses.html#22442" class="Bound">X</a> <a id="22444" class="Symbol">→</a> <a id="22446" href="Coherence.Hypotheses.html#22436" class="Bound">l</a> <a id="22448" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="22450" href="Coherence.Hypotheses.html#22442" class="Bound">X</a> <a id="22452" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="22456" href="Coherence.Hypotheses.html#21597" class="Bound">m</a><a id="22457" class="Symbol">)</a> <a id="22459" class="Symbol">(</a><a id="22460" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="22470" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="22472" href="Coherence.Hypotheses.html#22000" class="Bound">∃λ</a> <a id="22475" class="Symbol">.</a><a id="22476" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="22482" class="Symbol">.</a><a id="22483" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="22488" class="Symbol">)</a>

      <a id="22497" href="Prelude.InferenceRules.html#12752" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="22557" href="Coherence.Hypotheses.html#2043" class="Function">Γₜ″</a> <a id="22561" href="Coherence.Hypotheses.html#21519" class="Datatype Operator">⨾</a> <a id="22563" href="Coherence.Hypotheses.html#1982" class="Function">𝕣∗</a> <a id="22566" href="Coherence.Hypotheses.html#21519" class="Datatype Operator">⨾</a> <a id="22568" class="Symbol">(</a><a id="22569" href="Coherence.Hypotheses.html#2129" class="Function">𝕒</a> <a id="22571" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="22573" href="Coherence.Hypotheses.html#21215" class="Function">λˢ</a><a id="22575" class="Symbol">)</a> <a id="22577" href="Coherence.Hypotheses.html#21519" class="Datatype Operator">~ℍ[7]~</a> <a id="22584" href="Coherence.Hypotheses.html#21832" class="Bound">λᶜ</a> <a id="22587" href="Coherence.Hypotheses.html#21519" class="Datatype Operator">⨾</a> <a id="22589" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a>

<a id="22593" class="Comment">-- ** Contract actions: split</a>
<a id="22623" class="Keyword">record</a> <a id="H₈-args"></a><a id="22630" href="Coherence.Hypotheses.html#22630" class="Record">H₈-args</a> <a id="22638" class="Symbol">:</a> <a id="22640" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="22645" class="Keyword">where</a>
  <a id="22653" class="Keyword">constructor</a> <a id="mk"></a><a id="22665" href="Coherence.Hypotheses.html#22665" class="InductiveConstructor">mk</a>
  <a id="22670" class="Keyword">field</a>
    <a id="22680" class="Symbol">{</a><a id="H₈-args.c"></a><a id="22681" href="Coherence.Hypotheses.html#22681" class="Field">c</a> <a id="H₈-args.y"></a><a id="22683" href="Coherence.Hypotheses.html#22683" class="Field">y</a> <a id="H₈-args.Γ₀"></a><a id="22685" href="Coherence.Hypotheses.html#22685" class="Field">Γ₀</a> <a id="H₈-args.t"></a><a id="22688" href="Coherence.Hypotheses.html#22688" class="Field">t</a><a id="22689" class="Symbol">}</a> <a id="22691" class="Symbol">:</a> <a id="22693" class="Symbol">_</a>
    <a id="22699" class="Symbol">{</a><a id="H₈-args.i"></a><a id="22700" href="Coherence.Hypotheses.html#22700" class="Field">i</a><a id="22701" class="Symbol">}</a> <a id="22703" class="Symbol">:</a> <a id="22705" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="22711" href="Coherence.Hypotheses.html#22681" class="Field">c</a>
    <a id="22717" class="Symbol">{</a><a id="H₈-args.vcis"></a><a id="22718" href="Coherence.Hypotheses.html#22718" class="Field">vcis</a><a id="22722" class="Symbol">}</a> <a id="22724" class="Symbol">:</a> <a id="22726" href="BitML.Contracts.Types.html#594" class="Function">VIContracts</a>
  <a id="22740" class="Keyword">open</a> <a id="22745" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="22753" href="Coherence.Hypotheses.html#22681" class="Field">c</a> <a id="22755" href="Coherence.Hypotheses.html#22700" class="Field">i</a> <a id="22757" class="Keyword">public</a>
  <a id="H₈-args.vs"></a><a id="22766" href="Coherence.Hypotheses.html#22766" class="Function">vs</a>  <a id="22770" class="Symbol">=</a> <a id="22772" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="22779" href="Coherence.Hypotheses.html#22718" class="Field">vcis</a> <a id="22784" class="Symbol">.</a><a id="22785" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₈-args.v"></a><a id="22793" href="Coherence.Hypotheses.html#22793" class="Function">v</a>   <a id="22797" class="Symbol">=</a> <a id="22799" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="22803" href="Coherence.Hypotheses.html#22766" class="Function">vs</a>
  <a id="H₈-args.cs"></a><a id="22808" href="Coherence.Hypotheses.html#22808" class="Function">cs</a>  <a id="22812" class="Symbol">=</a> <a id="22814" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="22821" href="Coherence.Hypotheses.html#22718" class="Field">vcis</a> <a id="22826" class="Symbol">.</a><a id="22827" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="22833" class="Symbol">.</a><a id="22834" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₈-args.vcs"></a><a id="22842" href="Coherence.Hypotheses.html#22842" class="Function">vcs</a> <a id="22846" class="Symbol">=</a> <a id="22848" href="Data.List.Base.html#3579" class="Function">zip</a> <a id="22852" href="Coherence.Hypotheses.html#22766" class="Function">vs</a> <a id="22855" href="Coherence.Hypotheses.html#22808" class="Function">cs</a>
  <a id="H₈-args.xs"></a><a id="22860" href="Coherence.Hypotheses.html#22860" class="Function">xs</a>  <a id="22864" class="Symbol">=</a> <a id="22866" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="22873" href="Coherence.Hypotheses.html#22718" class="Field">vcis</a> <a id="22878" class="Symbol">.</a><a id="22879" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="22885" class="Symbol">.</a><a id="22886" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
  <a id="H₈-args.As"></a><a id="22894" href="Coherence.Hypotheses.html#22894" class="Function">As</a> <a id="22897" class="Symbol">=</a> <a id="22899" href="BitML.Contracts.Collections.html#13915" class="Function">decorations</a> <a id="22911" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="22913" class="Symbol">.</a><a id="22914" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₈-args.ts"></a><a id="22922" href="Coherence.Hypotheses.html#22922" class="Function">ts</a> <a id="22925" class="Symbol">=</a> <a id="22927" href="BitML.Contracts.Collections.html#13915" class="Function">decorations</a> <a id="22939" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="22941" class="Symbol">.</a><a id="22942" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
  <a id="22950" class="Keyword">field</a>
    <a id="22960" class="Comment">-- (i) in Rˢ, α consumes ⟨D+C,v⟩y to obtain ⟨C₀,v₀⟩ₓ₀ | ⋯ | ⟨Cₖ,vₖ⟩ₓₖ</a>
    <a id="23034" class="Comment">--     where D = ⋯ : split vs → cs</a>
    <a id="23073" class="Comment">--     let t be the maximum deadline in an `after` in front of D</a>
    <a id="23142" class="Comment">--     T0D0: what should t′ be in case there are not after decorations?</a>
    <a id="23218" class="Comment">--           (currently any value)</a>
    <a id="H₈-args.t≡"></a><a id="23257" href="Coherence.Hypotheses.html#23257" class="Field">t≡</a> <a id="23260" class="Symbol">:</a> <a id="23262" href="Coherence.Hypotheses.html#22688" class="Field">t</a> <a id="23264" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="23266" href="Prelude.Ord.MinMax.html#436" class="Function">maximum</a> <a id="23274" href="Coherence.Hypotheses.html#22688" class="Field">t</a> <a id="23276" href="Coherence.Hypotheses.html#22922" class="Function">ts</a>
    <a id="H₈-args.d≡"></a><a id="23283" href="Coherence.Hypotheses.html#23283" class="Field">d≡</a> <a id="23286" class="Symbol">:</a> <a id="23288" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="23290" href="BitML.Contracts.Collections.html#15163" class="Function Operator">≡⋯∶</a> <a id="23294" href="BitML.Contracts.Types.html#941" class="InductiveConstructor">split</a> <a id="23300" href="Coherence.Hypotheses.html#22842" class="Function">vcs</a>
    <a id="23308" class="Comment">-- Hypotheses from [C-Split]</a>
    <a id="H₈-args.fresh-xs"></a><a id="23341" href="Coherence.Hypotheses.html#23341" class="Field">fresh-xs</a> <a id="23350" class="Symbol">:</a> <a id="23352" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="23356" class="Symbol">(</a><a id="23357" href="Data.List.Membership.Setoid.html#945" class="Function Operator">_∉</a> <a id="23360" href="Coherence.Hypotheses.html#22683" class="Field">y</a> <a id="23362" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="23366" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="23370" href="Coherence.Hypotheses.html#22685" class="Field">Γ₀</a><a id="23372" class="Symbol">)</a> <a id="23374" href="Coherence.Hypotheses.html#22860" class="Function">xs</a>
    <a id="23381" class="Comment">-- Hypotheses from [Timeout]</a>
    <a id="H₈-args.As≡∅"></a><a id="23414" href="Coherence.Hypotheses.html#23414" class="Field">As≡∅</a> <a id="23419" class="Symbol">:</a> <a id="23421" href="Prelude.Null.html#263" class="Field">Null</a> <a id="23426" href="Coherence.Hypotheses.html#22894" class="Function">As</a>
  <a id="H₈-args.Γ₁"></a><a id="23431" href="Coherence.Hypotheses.html#23431" class="Function">Γ₁</a> <a id="23434" class="Symbol">=</a> <a id="23436" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="23439" href="Data.List.Base.html#1553" class="Function">map</a> <a id="23443" class="Symbol">(</a><a id="23444" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="23453" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="23455" href="Function.Base.html#1563" class="Function">flip</a> <a id="23460" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨_,_⟩at_</a><a id="23468" class="Symbol">)</a> <a id="23470" href="Coherence.Hypotheses.html#22718" class="Field">vcis</a>
  <a id="23477" class="Keyword">private</a>
    <a id="H₈-args.α"></a><a id="23489" href="Coherence.Hypotheses.html#23489" class="Function">α</a>  <a id="23492" class="Symbol">=</a> <a id="23494" href="BitML.Semantics.Label.html#1232" class="InductiveConstructor Operator">split⦅</a> <a id="23501" href="Coherence.Hypotheses.html#22683" class="Field">y</a> <a id="23503" href="BitML.Semantics.Label.html#1232" class="InductiveConstructor Operator">⦆</a>
    <a id="H₈-args.Γ′"></a><a id="23509" href="Coherence.Hypotheses.html#23509" class="Function">Γ′</a> <a id="23512" class="Symbol">=</a> <a id="23514" href="Coherence.Hypotheses.html#23431" class="Function">Γ₁</a> <a id="23517" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="23519" href="Coherence.Hypotheses.html#22685" class="Field">Γ₀</a>

    <a id="H₈-args.∀≤t"></a><a id="23527" href="Coherence.Hypotheses.html#23527" class="Function">∀≤t</a> <a id="23531" class="Symbol">:</a> <a id="23533" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="23537" class="Symbol">(</a><a id="23538" href="Prelude.Ord.Core.html#209" class="Field Operator">_≤</a> <a id="23541" href="Coherence.Hypotheses.html#22688" class="Field">t</a><a id="23542" class="Symbol">)</a> <a id="23544" href="Coherence.Hypotheses.html#22922" class="Function">ts</a>
    <a id="23551" href="Coherence.Hypotheses.html#23527" class="Function">∀≤t</a> <a id="23555" class="Symbol">=</a> <a id="23557" href="Prelude.SubstDSL.html#488" class="Function">⟪</a> <a id="23559" class="Symbol">(λ</a> <a id="23562" href="Coherence.Hypotheses.html#23562" class="Bound">◆</a> <a id="23564" class="Symbol">→</a> <a id="23566" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="23570" class="Symbol">(</a><a id="23571" href="Prelude.Ord.Core.html#209" class="Field Operator">_≤</a> <a id="23574" href="Coherence.Hypotheses.html#23562" class="Bound">◆</a><a id="23575" class="Symbol">)</a> <a id="23577" href="Coherence.Hypotheses.html#22922" class="Function">ts</a><a id="23579" class="Symbol">)</a> <a id="23581" href="Prelude.SubstDSL.html#488" class="Function">⟫</a> <a id="23583" href="Coherence.Hypotheses.html#23257" class="Field">t≡</a> <a id="23586" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="23589" href="Prelude.Ord.MinMax.html#1034" class="Postulate">∀≤max</a> <a id="23595" href="Coherence.Hypotheses.html#22688" class="Field">t</a> <a id="23597" href="Coherence.Hypotheses.html#22922" class="Function">ts</a>

    <a id="H₈-args.split→"></a><a id="23605" href="Coherence.Hypotheses.html#23605" class="Function">split→</a> <a id="23612" class="Symbol">:</a> <a id="23614" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="23616" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="23618" href="BitML.Contracts.ModuleMacros.html#607" class="Function">d∗</a> <a id="23621" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="23623" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="23625" href="Coherence.Hypotheses.html#22793" class="Function">v</a> <a id="23627" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="23631" href="Coherence.Hypotheses.html#22683" class="Field">y</a> <a id="23633" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="23635" href="Coherence.Hypotheses.html#22685" class="Field">Γ₀</a> <a id="23638" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="23641" href="Coherence.Hypotheses.html#23489" class="Function">α</a> <a id="23643" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a> <a id="23646" href="Coherence.Hypotheses.html#23509" class="Function">Γ′</a>
    <a id="23653" href="Coherence.Hypotheses.html#23605" class="Function">split→</a> <a id="23660" class="Symbol">=</a> <a id="23662" href="Prelude.SubstDSL.html#488" class="Function">⟪</a> <a id="23664" class="Symbol">(λ</a> <a id="23667" href="Coherence.Hypotheses.html#23667" class="Bound">◆</a> <a id="23669" class="Symbol">→</a> <a id="23671" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="23673" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="23675" href="Coherence.Hypotheses.html#23667" class="Bound">◆</a> <a id="23677" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="23679" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="23681" href="Coherence.Hypotheses.html#22793" class="Function">v</a> <a id="23683" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="23687" href="Coherence.Hypotheses.html#22683" class="Field">y</a> <a id="23689" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="23691" href="Coherence.Hypotheses.html#22685" class="Field">Γ₀</a> <a id="23694" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="23697" href="Coherence.Hypotheses.html#23489" class="Function">α</a> <a id="23699" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a> <a id="23702" href="Coherence.Hypotheses.html#23509" class="Function">Γ′</a><a id="23704" class="Symbol">)</a> <a id="23706" href="Prelude.SubstDSL.html#488" class="Function">⟫</a> <a id="23708" href="Coherence.Hypotheses.html#23283" class="Field">d≡</a>
          <a id="23721" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="23724" href="BitML.Semantics.InferenceRules.html#5386" class="InductiveConstructor">[C-Split]</a> <a id="23734" class="Symbol">{</a><a id="23735" class="Argument">vcis</a> <a id="23740" class="Symbol">=</a> <a id="23742" href="Coherence.Hypotheses.html#22718" class="Field">vcis</a><a id="23746" class="Symbol">}</a> <a id="23748" href="Coherence.Hypotheses.html#23341" class="Field">fresh-xs</a>
  <a id="23759" class="Keyword">open</a> <a id="23764" href="Coherence.Hypotheses.html#1608" class="Module">Transition</a>
    <a id="23779" class="Symbol">(</a> <a id="23781" class="Symbol">(</a><a id="23782" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="23784" href="Coherence.Hypotheses.html#22681" class="Field">c</a> <a id="23786" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="23788" href="Coherence.Hypotheses.html#22793" class="Function">v</a> <a id="23790" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="23794" href="Coherence.Hypotheses.html#22683" class="Field">y</a> <a id="23796" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="23798" href="Coherence.Hypotheses.html#22685" class="Field">Γ₀</a><a id="23800" class="Symbol">)</a> <a id="23802" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="23804" href="Coherence.Hypotheses.html#22688" class="Field">t</a> <a id="23806" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">——</a> <a id="23809" href="Coherence.Hypotheses.html#23489" class="Function">α</a> <a id="23811" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">—→</a> <a id="23814" href="Coherence.Hypotheses.html#23509" class="Function">Γ′</a> <a id="23817" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="23819" href="Coherence.Hypotheses.html#22688" class="Field">t</a>
    <a id="23825" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⊣</a> <a id="23827" href="BitML.Semantics.InferenceRules.html#7812" class="InductiveConstructor">[Timeout]</a> <a id="23837" href="Coherence.Hypotheses.html#23414" class="Field">As≡∅</a> <a id="23842" href="Coherence.Hypotheses.html#23527" class="Function">∀≤t</a> <a id="23846" href="Coherence.Hypotheses.html#23605" class="Function">split→</a> <a id="23853" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="23862" class="Symbol">)</a> <a id="23864" class="Keyword">public</a> <a id="23871" class="Keyword">hiding</a> <a id="23878" class="Symbol">(</a><a id="23879" href="Coherence.Hypotheses.html#1685" class="Field">t</a><a id="23880" class="Symbol">)</a>
  <a id="23884" class="Keyword">field</a> <a id="H₈-args.𝕙r"></a><a id="23890" href="Coherence.Hypotheses.html#23890" class="Field">𝕙r</a> <a id="23893" class="Symbol">:</a> <a id="23895" href="Coherence.Hypotheses.html#1824" class="Record">ℍ-Run</a> <a id="23901" href="Coherence.Hypotheses.html#1795" class="Function">Γ→</a>
  <a id="23906" class="Keyword">open</a> <a id="23911" href="Coherence.Hypotheses.html#1824" class="Module">ℍ-Run</a> <a id="23917" href="Coherence.Hypotheses.html#23890" class="Field">𝕙r</a> <a id="23920" class="Keyword">public</a>

<a id="23928" class="Keyword">module</a> <a id="23935" href="Coherence.Hypotheses.html#23935" class="Module">H₈</a> <a id="23938" class="Symbol">(</a><a id="23939" href="Coherence.Hypotheses.html#23939" class="Bound">⋯</a> <a id="23941" class="Symbol">:</a> <a id="23943" href="Coherence.Hypotheses.html#22630" class="Record">H₈-args</a><a id="23950" class="Symbol">)</a> <a id="23952" class="Symbol">(</a><a id="23953" class="Keyword">open</a> <a id="23958" href="Coherence.Hypotheses.html#22630" class="Module">H₈-args</a> <a id="23966" href="Coherence.Hypotheses.html#23939" class="Bound">⋯</a><a id="23967" class="Symbol">)</a> <a id="23969" class="Keyword">where</a>
  <a id="23977" class="Comment">-- (iii) submit transaction T</a>
  <a id="24009" class="Comment">--       where ∙ (T′,o) = txout′(y)</a>
  <a id="24047" class="Comment">--             ∙ T is the first transaction in Bpar(cs,d,T′,o,partG,t)</a>
  <a id="24120" class="Comment">--       i.e. the one corresponding to subterm `d∗ = split (zip vs cs)`</a>
  <a id="24194" href="Coherence.Hypotheses.html#24194" class="Function">T</a> <a id="24196" class="Symbol">:</a> <a id="24198" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="24201" class="Number">1</a> <a id="24203" class="Symbol">(</a><a id="24204" href="Data.List.Base.html#4873" class="Function">length</a> <a id="24211" href="Coherence.Hypotheses.html#22860" class="Function">xs</a><a id="24213" class="Symbol">)</a>
  <a id="24217" href="Coherence.Hypotheses.html#24194" class="Function">T</a> <a id="24219" class="Symbol">=</a>
    <a id="24225" class="Keyword">let</a>
        <a id="24237" class="Keyword">open</a> <a id="24242" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>
        <a id="24262" href="Coherence.Hypotheses.html#24262" class="Bound">vs≡</a> <a id="24266" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="24268" href="Coherence.Hypotheses.html#24268" class="Bound">cs≡</a> <a id="24272" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="24274" href="Coherence.Hypotheses.html#24274" class="Bound">xs≡</a> <a id="24278" class="Symbol">=</a> <a id="24280" href="Prelude.Lists.Core.html#1445" class="Function">length-unzip₃</a> <a id="24294" href="Coherence.Hypotheses.html#22718" class="Field">vcis</a>

        <a id="24308" href="Coherence.Hypotheses.html#24308" class="Bound">l≡</a> <a id="24311" class="Symbol">:</a> <a id="24313" href="Data.List.Base.html#4873" class="Function">length</a> <a id="24320" href="Coherence.Hypotheses.html#22860" class="Function">xs</a> <a id="24323" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="24325" href="Data.List.Base.html#4873" class="Function">length</a> <a id="24332" class="Symbol">(</a><a id="24333" href="Data.List.Base.html#3579" class="Function">zip</a> <a id="24337" href="Coherence.Hypotheses.html#22766" class="Function">vs</a> <a id="24340" href="Coherence.Hypotheses.html#22808" class="Function">cs</a><a id="24342" class="Symbol">)</a>
        <a id="24352" href="Coherence.Hypotheses.html#24308" class="Bound">l≡</a> <a id="24355" class="Symbol">=</a> <a id="24357" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="24361" href="Function.Base.html#1928" class="Function Operator">$</a>
          <a id="24373" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a> <a id="24379" href="Data.List.Base.html#4873" class="Function">length</a> <a id="24386" class="Symbol">(</a><a id="24387" href="Data.List.Base.html#3579" class="Function">zip</a> <a id="24391" href="Coherence.Hypotheses.html#22766" class="Function">vs</a> <a id="24394" href="Coherence.Hypotheses.html#22808" class="Function">cs</a><a id="24396" class="Symbol">)</a>    <a id="24401" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="24404" href="Data.List.Properties.html#10399" class="Function">L.length-zipWith</a> <a id="24421" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">_,_</a> <a id="24425" href="Coherence.Hypotheses.html#22766" class="Function">vs</a> <a id="24428" href="Coherence.Hypotheses.html#22808" class="Function">cs</a> <a id="24431" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="24449" href="Data.List.Base.html#4873" class="Function">length</a> <a id="24456" href="Coherence.Hypotheses.html#22766" class="Function">vs</a> <a id="24459" href="Data.Nat.Base.html#3166" class="Function Operator">⊓</a> <a id="24461" href="Data.List.Base.html#4873" class="Function">length</a> <a id="24468" href="Coherence.Hypotheses.html#22808" class="Function">cs</a> <a id="24471" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="24474" href="Data.Nat.Properties.html#29390" class="Function">Nat.m≥n⇒m⊓n≡n</a>
                                        <a id="24528" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="24530" href="Data.Nat.Properties.html#4468" class="Function">Nat.≤-reflexive</a> <a id="24546" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="24548" href="Relation.Binary.PropositionalEquality.Core.html#1738" class="Function">trans</a> <a id="24554" href="Coherence.Hypotheses.html#24268" class="Bound">cs≡</a> <a id="24558" class="Symbol">(</a><a id="24559" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="24563" href="Coherence.Hypotheses.html#24262" class="Bound">vs≡</a><a id="24566" class="Symbol">)</a> <a id="24568" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="24586" href="Data.List.Base.html#4873" class="Function">length</a> <a id="24593" href="Coherence.Hypotheses.html#22808" class="Function">cs</a>             <a id="24608" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="24611" href="Coherence.Hypotheses.html#24268" class="Bound">cs≡</a> <a id="24615" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="24633" href="Data.List.Base.html#4873" class="Function">length</a> <a id="24640" href="Coherence.Hypotheses.html#22718" class="Field">vcis</a>           <a id="24655" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="24658" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="24662" href="Coherence.Hypotheses.html#24274" class="Bound">xs≡</a> <a id="24666" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="24684" href="Data.List.Base.html#4873" class="Function">length</a> <a id="24691" href="Coherence.Hypotheses.html#22860" class="Function">xs</a>             <a id="24706" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>
    <a id="24712" class="Keyword">in</a>
      <a id="24721" href="Prelude.SubstDSL.html#488" class="Function">⟪</a> <a id="24723" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="24726" class="Number">1</a> <a id="24728" href="Prelude.SubstDSL.html#488" class="Function">⟫</a> <a id="24730" href="Coherence.Hypotheses.html#24308" class="Bound">l≡</a>
         <a id="24742" class="Comment">-- (ii) {G}C′ is the ancestor of ⟨D+C,v⟩y in Rˢ</a>
      <a id="24796" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="24799" class="Symbol">(</a> <a id="24801" href="Coherence.Helpers.html#4528" class="Function">COMPILE-ANCESTOR</a> <a id="24818" class="Symbol">{</a><a id="24819" class="Argument">Γ</a> <a id="24821" class="Symbol">=</a> <a id="24823" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a><a id="24824" class="Symbol">}</a> <a id="24826" class="Symbol">{</a><a id="24827" class="Argument">i</a> <a id="24829" class="Symbol">=</a> <a id="24831" href="Coherence.Hypotheses.html#22700" class="Field">i</a><a id="24832" class="Symbol">}</a> <a id="24834" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="24837" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="24839" href="Coherence.Hypotheses.html#2095" class="Function">𝕣</a> <a id="24841" class="Symbol">.</a><a id="24842" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
         <a id="24857" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="24860" href="Coherence.Hypotheses.html#23283" class="Field">d≡</a> <a id="24863" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="24865" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="24874" href="Prelude.SubstDSL.html#164" class="Function">⟫</a><a id="24875" class="Symbol">)</a>

  <a id="24880" class="Comment">-- (iv) extend txout′ with {xᵢ ↦ (T,i)}, sechash = sechash′, κ = κ′</a>
  <a id="24950" href="Coherence.Hypotheses.html#24950" class="Function">txout⁺</a> <a id="24957" class="Symbol">:</a> <a id="24959" href="Coherence.Hypotheses.html#22860" class="Function">xs</a> <a id="24962" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="24964" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
  <a id="24975" href="Coherence.Hypotheses.html#24950" class="Function">txout⁺</a> <a id="24982" href="Coherence.Hypotheses.html#24982" class="Bound">x∈</a> <a id="24985" class="Symbol">=</a> <a id="24987" class="Symbol">(</a><a id="24988" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="24991" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="24994" href="Coherence.Hypotheses.html#24194" class="Function">T</a><a id="24995" class="Symbol">)</a> <a id="24997" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="25000" href="Data.List.Relation.Unary.Any.html#1826" class="Function">L.Any.index</a> <a id="25012" href="Coherence.Hypotheses.html#24982" class="Bound">x∈</a>

  <a id="25018" href="Coherence.Hypotheses.html#25018" class="Function">hʳ</a> <a id="25021" class="Symbol">:</a> <a id="25023" class="Symbol">∀</a> <a id="25025" class="Symbol">(</a><a id="25026" href="Coherence.Hypotheses.html#25026" class="Bound">vcis</a> <a id="25031" class="Symbol">:</a> <a id="25033" href="BitML.Contracts.Types.html#594" class="Function">VIContracts</a><a id="25044" class="Symbol">)</a> <a id="25046" class="Symbol">→</a>
      <a id="25054" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="25058" class="Symbol">(</a><a id="25059" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="25062" href="Data.List.Base.html#1553" class="Function">map</a> <a id="25066" class="Symbol">(λ{</a> <a id="25070" class="Symbol">(</a><a id="25071" href="Coherence.Hypotheses.html#25071" class="Bound">vᵢ</a> <a id="25074" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="25076" href="Coherence.Hypotheses.html#25076" class="Bound">cᵢ</a> <a id="25079" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="25081" href="Coherence.Hypotheses.html#25081" class="Bound">xᵢ</a><a id="25083" class="Symbol">)</a> <a id="25085" class="Symbol">→</a> <a id="25087" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="25089" href="Coherence.Hypotheses.html#25076" class="Bound">cᵢ</a> <a id="25092" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="25094" href="Coherence.Hypotheses.html#25071" class="Bound">vᵢ</a> <a id="25097" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="25101" href="Coherence.Hypotheses.html#25081" class="Bound">xᵢ</a> <a id="25104" class="Symbol">})</a> <a id="25107" href="Coherence.Hypotheses.html#25026" class="Bound">vcis</a><a id="25111" class="Symbol">)</a>
    <a id="25117" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="25119" class="Symbol">(</a><a id="25120" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="25126" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="25128" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="25134" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="25136" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="25143" href="Coherence.Hypotheses.html#25026" class="Bound">vcis</a><a id="25147" class="Symbol">)</a>
  <a id="25151" href="Coherence.Hypotheses.html#25018" class="Function">hʳ</a> <a id="25154" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="25157" class="Symbol">=</a> <a id="25159" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="25166" href="Coherence.Hypotheses.html#25018" class="Function">hʳ</a> <a id="25169" class="Symbol">(_</a> <a id="25172" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="25174" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="25176" class="Symbol">)</a> <a id="25178" class="Symbol">=</a> <a id="25180" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="25187" href="Coherence.Hypotheses.html#25018" class="Function">hʳ</a> <a id="25190" class="Symbol">(_</a> <a id="25193" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="25195" href="Coherence.Hypotheses.html#25195" class="Bound">xs</a><a id="25197" class="Symbol">@(_</a> <a id="25201" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="25203" class="Symbol">_))</a> <a id="25207" class="Symbol">=</a> <a id="25209" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="25214" class="Symbol">(_</a> <a id="25217" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷_</a><a id="25219" class="Symbol">)</a> <a id="25221" class="Symbol">(</a><a id="25222" href="Coherence.Hypotheses.html#25018" class="Function">hʳ</a> <a id="25225" href="Coherence.Hypotheses.html#25195" class="Bound">xs</a><a id="25227" class="Symbol">)</a>

  <a id="25232" href="Coherence.Hypotheses.html#25232" class="Function">hˡ</a> <a id="25235" class="Symbol">:</a> <a id="25237" class="Symbol">∀</a> <a id="25239" class="Symbol">(</a><a id="25240" href="Coherence.Hypotheses.html#25240" class="Bound">vcis</a> <a id="25245" class="Symbol">:</a> <a id="25247" href="BitML.Contracts.Types.html#594" class="Function">VIContracts</a><a id="25258" class="Symbol">)</a> <a id="25260" class="Symbol">→</a>
    <a id="25266" href="Prelude.Null.html#263" class="Field">Null</a> <a id="25271" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="25273" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="25281" class="Symbol">(</a><a id="25282" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="25285" href="Data.List.Base.html#1553" class="Function">map</a> <a id="25289" class="Symbol">(λ{</a> <a id="25293" class="Symbol">(</a><a id="25294" href="Coherence.Hypotheses.html#25294" class="Bound">vᵢ</a> <a id="25297" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="25299" href="Coherence.Hypotheses.html#25299" class="Bound">cᵢ</a> <a id="25302" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="25304" href="Coherence.Hypotheses.html#25304" class="Bound">xᵢ</a><a id="25306" class="Symbol">)</a> <a id="25308" class="Symbol">→</a> <a id="25310" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="25312" href="Coherence.Hypotheses.html#25299" class="Bound">cᵢ</a> <a id="25315" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="25317" href="Coherence.Hypotheses.html#25294" class="Bound">vᵢ</a> <a id="25320" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="25324" href="Coherence.Hypotheses.html#25304" class="Bound">xᵢ</a> <a id="25327" class="Symbol">})</a> <a id="25330" href="Coherence.Hypotheses.html#25240" class="Bound">vcis</a><a id="25334" class="Symbol">)</a>
  <a id="25338" href="Coherence.Hypotheses.html#25232" class="Function">hˡ</a> <a id="25341" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="25344" class="Symbol">=</a> <a id="25346" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="25353" href="Coherence.Hypotheses.html#25232" class="Function">hˡ</a> <a id="25356" class="Symbol">(_</a> <a id="25359" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="25361" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="25363" class="Symbol">)</a> <a id="25365" class="Symbol">=</a> <a id="25367" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="25374" href="Coherence.Hypotheses.html#25232" class="Function">hˡ</a> <a id="25377" class="Symbol">(_</a> <a id="25380" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="25382" href="Coherence.Hypotheses.html#25382" class="Bound">xs</a><a id="25384" class="Symbol">@(_</a> <a id="25388" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="25390" class="Symbol">_))</a> <a id="25394" class="Symbol">=</a> <a id="25396" href="Coherence.Hypotheses.html#25232" class="Function">hˡ</a> <a id="25399" href="Coherence.Hypotheses.html#25382" class="Bound">xs</a>

  <a id="25405" href="Coherence.Hypotheses.html#25405" class="Function">hᵃ</a> <a id="25408" class="Symbol">:</a> <a id="25410" class="Symbol">∀</a> <a id="25412" class="Symbol">(</a><a id="25413" href="Coherence.Hypotheses.html#25413" class="Bound">vcis</a> <a id="25418" class="Symbol">:</a> <a id="25420" href="BitML.Contracts.Types.html#594" class="Function">VIContracts</a><a id="25431" class="Symbol">)</a> <a id="25433" class="Symbol">→</a>
    <a id="25439" href="Prelude.Null.html#263" class="Field">Null</a> <a id="25444" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="25446" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="25461" class="Symbol">(</a><a id="25462" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="25465" href="Data.List.Base.html#1553" class="Function">map</a> <a id="25469" class="Symbol">(λ{</a> <a id="25473" class="Symbol">(</a><a id="25474" href="Coherence.Hypotheses.html#25474" class="Bound">vᵢ</a> <a id="25477" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="25479" href="Coherence.Hypotheses.html#25479" class="Bound">cᵢ</a> <a id="25482" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="25484" href="Coherence.Hypotheses.html#25484" class="Bound">xᵢ</a><a id="25486" class="Symbol">)</a> <a id="25488" class="Symbol">→</a> <a id="25490" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="25492" href="Coherence.Hypotheses.html#25479" class="Bound">cᵢ</a> <a id="25495" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="25497" href="Coherence.Hypotheses.html#25474" class="Bound">vᵢ</a> <a id="25500" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="25504" href="Coherence.Hypotheses.html#25484" class="Bound">xᵢ</a> <a id="25507" class="Symbol">})</a> <a id="25510" href="Coherence.Hypotheses.html#25413" class="Bound">vcis</a><a id="25514" class="Symbol">)</a>
  <a id="25518" href="Coherence.Hypotheses.html#25405" class="Function">hᵃ</a> <a id="25521" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="25524" class="Symbol">=</a> <a id="25526" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="25533" href="Coherence.Hypotheses.html#25405" class="Function">hᵃ</a> <a id="25536" class="Symbol">(_</a> <a id="25539" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="25541" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="25543" class="Symbol">)</a> <a id="25545" class="Symbol">=</a> <a id="25547" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="25554" href="Coherence.Hypotheses.html#25405" class="Function">hᵃ</a> <a id="25557" class="Symbol">(_</a> <a id="25560" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="25562" href="Coherence.Hypotheses.html#25562" class="Bound">xs</a><a id="25564" class="Symbol">@(_</a> <a id="25568" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="25570" class="Symbol">_))</a> <a id="25574" class="Symbol">=</a> <a id="25576" href="Coherence.Hypotheses.html#25405" class="Function">hᵃ</a> <a id="25579" href="Coherence.Hypotheses.html#25562" class="Bound">xs</a>

  <a id="25585" href="Coherence.Hypotheses.html#25585" class="Function">ids≡</a> <a id="25590" class="Symbol">:</a> <a id="25592" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="25596" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="25598" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="25600" href="Coherence.Hypotheses.html#22683" class="Field">y</a> <a id="25602" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="25604" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="25608" href="Coherence.Hypotheses.html#22685" class="Field">Γ₀</a>
  <a id="25613" href="Coherence.Hypotheses.html#25585" class="Function">ids≡</a> <a id="25618" class="Symbol">=</a> <a id="25620" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="25648" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="25655" class="Symbol">(</a><a id="25656" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="25658" href="Coherence.Hypotheses.html#22681" class="Field">c</a> <a id="25660" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="25662" href="Coherence.Hypotheses.html#22793" class="Function">v</a> <a id="25664" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="25668" href="Coherence.Hypotheses.html#22683" class="Field">y</a><a id="25669" class="Symbol">)</a> <a id="25671" href="Coherence.Hypotheses.html#22685" class="Field">Γ₀</a>

  <a id="25677" href="Coherence.Hypotheses.html#25677" class="Function">ids≡′</a> <a id="25683" class="Symbol">:</a> <a id="25685" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="25689" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="25692" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="25694" href="Coherence.Hypotheses.html#22860" class="Function">xs</a> <a id="25697" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="25700" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="25704" href="Coherence.Hypotheses.html#22685" class="Field">Γ₀</a>
  <a id="25709" href="Coherence.Hypotheses.html#25677" class="Function">ids≡′</a> <a id="25715" class="Symbol">=</a>
    <a id="25721" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
      <a id="25733" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="25737" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
    <a id="25744" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="25747" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="25775" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="25782" href="Coherence.Hypotheses.html#23431" class="Function">Γ₁</a> <a id="25785" href="Coherence.Hypotheses.html#22685" class="Field">Γ₀</a> <a id="25788" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="25796" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="25800" href="Coherence.Hypotheses.html#23431" class="Function">Γ₁</a> <a id="25803" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="25806" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="25810" href="Coherence.Hypotheses.html#22685" class="Field">Γ₀</a>
    <a id="25817" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="25820" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="25825" class="Symbol">(</a><a id="25826" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="25830" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="25834" href="Coherence.Hypotheses.html#22685" class="Field">Γ₀</a><a id="25836" class="Symbol">)</a> <a id="25838" class="Symbol">(</a><a id="25839" href="Coherence.Hypotheses.html#25018" class="Function">hʳ</a> <a id="25842" href="Coherence.Hypotheses.html#22718" class="Field">vcis</a><a id="25846" class="Symbol">)</a> <a id="25848" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="25856" href="Coherence.Hypotheses.html#22860" class="Function">xs</a> <a id="25859" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="25862" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="25866" href="Coherence.Hypotheses.html#22685" class="Field">Γ₀</a>
    <a id="25873" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="25875" class="Keyword">where</a> <a id="25881" class="Keyword">open</a> <a id="25886" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

  <a id="25901" href="Coherence.Hypotheses.html#25901" class="Function">secrets≡</a> <a id="25910" class="Symbol">:</a> <a id="25912" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="25915" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="25918" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="25926" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="25928" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a>
  <a id="25932" href="Coherence.Hypotheses.html#25901" class="Function">secrets≡</a> <a id="25941" class="Symbol">=</a>
    <a id="25947" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
      <a id="25959" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="25967" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
    <a id="25974" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="25977" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="26005" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="26012" href="Coherence.Hypotheses.html#23431" class="Function">Γ₁</a> <a id="26015" href="Coherence.Hypotheses.html#22685" class="Field">Γ₀</a> <a id="26018" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="26026" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="26034" href="Coherence.Hypotheses.html#23431" class="Function">Γ₁</a> <a id="26037" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="26040" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="26048" href="Coherence.Hypotheses.html#22685" class="Field">Γ₀</a>
    <a id="26055" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="26058" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="26063" class="Symbol">(</a><a id="26064" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="26068" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="26076" href="Coherence.Hypotheses.html#22685" class="Field">Γ₀</a><a id="26078" class="Symbol">)</a> <a id="26080" class="Symbol">(</a><a id="26081" href="Coherence.Hypotheses.html#25232" class="Function">hˡ</a> <a id="26084" href="Coherence.Hypotheses.html#22718" class="Field">vcis</a><a id="26088" class="Symbol">)</a> <a id="26090" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="26098" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="26106" href="Coherence.Hypotheses.html#22685" class="Field">Γ₀</a>
    <a id="26113" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
      <a id="26123" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="26131" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a>
    <a id="26137" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="26139" class="Keyword">where</a> <a id="26145" class="Keyword">open</a> <a id="26150" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

  <a id="26165" href="Coherence.Hypotheses.html#26165" class="Function">ads≡</a> <a id="26170" class="Symbol">:</a> <a id="26172" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="26175" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="26178" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="26193" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="26195" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a>
  <a id="26199" href="Coherence.Hypotheses.html#26165" class="Function">ads≡</a> <a id="26204" class="Symbol">=</a>
    <a id="26210" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
      <a id="26222" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="26237" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
    <a id="26244" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="26247" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="26266" href="Coherence.Hypotheses.html#23431" class="Function">Γ₁</a> <a id="26269" href="Coherence.Hypotheses.html#22685" class="Field">Γ₀</a> <a id="26272" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="26280" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="26295" href="Coherence.Hypotheses.html#23431" class="Function">Γ₁</a> <a id="26298" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="26301" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="26316" href="Coherence.Hypotheses.html#22685" class="Field">Γ₀</a>
    <a id="26323" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="26326" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="26331" class="Symbol">(</a><a id="26332" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="26336" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="26351" href="Coherence.Hypotheses.html#22685" class="Field">Γ₀</a><a id="26353" class="Symbol">)</a> <a id="26355" class="Symbol">(</a><a id="26356" href="Coherence.Hypotheses.html#25405" class="Function">hᵃ</a> <a id="26359" href="Coherence.Hypotheses.html#22718" class="Field">vcis</a><a id="26363" class="Symbol">)</a> <a id="26365" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="26373" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="26388" href="Coherence.Hypotheses.html#22685" class="Field">Γ₀</a>
    <a id="26395" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
      <a id="26405" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="26420" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a>
    <a id="26426" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="26428" class="Keyword">where</a> <a id="26434" class="Keyword">open</a> <a id="26439" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

  <a id="26454" href="Coherence.Hypotheses.html#26454" class="Function">txout↝</a> <a id="26461" class="Symbol">:</a> <a id="26463" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="26465" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="26468" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="26474" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="26476" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
  <a id="26481" href="Coherence.Hypotheses.html#26454" class="Function">txout↝</a> <a id="26488" href="Coherence.Hypotheses.html#26488" class="Bound">txout′</a> <a id="26495" class="Keyword">rewrite</a> <a id="26503" href="Coherence.Hypotheses.html#25585" class="Function">ids≡</a>
    <a id="26512" class="Symbol">=</a> <a id="26514" href="Prelude.Lists.Mappings.html#1750" class="Function">extend-↦</a> <a id="26523" class="Symbol">(</a><a id="26524" href="Data.List.Relation.Binary.Permutation.Propositional.html#1377" class="Function">↭-reflexive</a> <a id="26536" href="Coherence.Hypotheses.html#25677" class="Function">ids≡′</a><a id="26541" class="Symbol">)</a> <a id="26543" href="Coherence.Hypotheses.html#24950" class="Function">txout⁺</a> <a id="26550" class="Symbol">(</a><a id="26551" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="26560" href="Coherence.Hypotheses.html#26488" class="Bound">txout′</a> <a id="26567" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a><a id="26572" class="Symbol">)</a>

  <a id="26577" href="Coherence.Hypotheses.html#26577" class="Function">sechash↝</a> <a id="26586" class="Symbol">:</a> <a id="26588" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="26590" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="26593" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="26601" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="26603" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
  <a id="26608" href="Coherence.Hypotheses.html#26577" class="Function">sechash↝</a> <a id="26617" class="Symbol">=</a> <a id="26619" href="SymbolicModel.Mappings.html#3670" class="Function Operator">lift</a> <a id="26624" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="26626" href="SymbolicModel.Mappings.html#3670" class="Function Operator">—⟨</a> <a id="26629" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="26637" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⟩—</a> <a id="26640" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="26643" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⊣</a> <a id="26645" href="Coherence.Hypotheses.html#25901" class="Function">secrets≡</a>

  <a id="26657" href="Coherence.Hypotheses.html#26657" class="Function">κ↝</a> <a id="26660" class="Symbol">:</a> <a id="26662" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="26664" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="26667" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="26670" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="26672" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
  <a id="26677" href="Coherence.Hypotheses.html#26657" class="Function">κ↝</a> <a id="26680" class="Symbol">=</a> <a id="26682" href="SymbolicModel.Mappings.html#3670" class="Function Operator">lift</a> <a id="26687" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="26689" href="SymbolicModel.Mappings.html#3670" class="Function Operator">—⟨</a> <a id="26692" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="26707" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⟩—</a> <a id="26710" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="26713" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⊣</a> <a id="26715" href="Coherence.Hypotheses.html#26165" class="Function">ads≡</a>

  <a id="26723" href="Coherence.Hypotheses.html#26723" class="Function">λˢ</a> <a id="26726" class="Symbol">:</a> <a id="26728" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="26731" href="Coherence.Hypotheses.html#1761" class="Function">Γₜ′</a>
  <a id="26737" href="Coherence.Hypotheses.html#26723" class="Function">λˢ</a> <a id="26740" class="Symbol">=</a> <a id="26742" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="26748" href="Coherence.Hypotheses.html#2095" class="Function">𝕣</a> <a id="26750" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="26752" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="26755" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="26758" href="Coherence.Hypotheses.html#26454" class="Function">txout↝</a> <a id="26765" href="Coherence.Hypotheses.html#26577" class="Function">sechash↝</a> <a id="26774" href="Coherence.Hypotheses.html#26657" class="Function">κ↝</a>

<a id="26778" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[8]~_⨾_"></a><a id="26783" href="Coherence.Hypotheses.html#26783" class="Datatype Operator">_⨾_⨾_~ℍ[8]~_⨾_</a> <a id="26798" class="Symbol">:</a> <a id="26800" href="Coherence.Hypotheses.html#1468" class="Function">StepRel</a> <a id="26808" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[8]~_⨾_.mkℍ"></a><a id="26816" href="Coherence.Hypotheses.html#26816" class="InductiveConstructor">mkℍ</a> <a id="26820" class="Symbol">:</a> <a id="26822" class="Symbol">∀</a> <a id="26824" class="Symbol">{</a><a id="26825" href="Coherence.Hypotheses.html#26825" class="Bound">h</a> <a id="26827" class="Symbol">:</a> <a id="26829" href="Coherence.Hypotheses.html#22630" class="Record">H₈-args</a><a id="26836" class="Symbol">}</a>
    <a id="26842" class="Symbol">→</a> <a id="26844" class="Keyword">let</a>
        <a id="26856" class="Keyword">open</a> <a id="26861" href="Coherence.Hypotheses.html#22630" class="Module">H₈-args</a> <a id="26869" href="Coherence.Hypotheses.html#26825" class="Bound">h</a>
        <a id="26879" class="Keyword">open</a> <a id="26884" href="Coherence.Hypotheses.html#23935" class="Module">H₈</a> <a id="26887" href="Coherence.Hypotheses.html#26825" class="Bound">h</a> <a id="26889" class="Keyword">using</a> <a id="26895" class="Symbol">(</a><a id="26896" href="Coherence.Hypotheses.html#26723" class="Function">λˢ</a><a id="26898" class="Symbol">;</a> <a id="26900" href="Coherence.Hypotheses.html#24194" class="Function">T</a><a id="26901" class="Symbol">)</a>
        <a id="26911" href="Coherence.Hypotheses.html#26911" class="Bound">λᶜ</a> <a id="26914" class="Symbol">=</a> <a id="26916" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="26923" class="Symbol">(</a><a id="26924" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="26927" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="26930" href="Coherence.Hypotheses.html#24194" class="Function">T</a><a id="26931" class="Symbol">)</a>
      <a id="26939" class="Keyword">in</a>
      <a id="26948" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="27008" href="Coherence.Hypotheses.html#2043" class="Function">Γₜ″</a> <a id="27012" href="Coherence.Hypotheses.html#26783" class="Datatype Operator">⨾</a> <a id="27014" href="Coherence.Hypotheses.html#1982" class="Function">𝕣∗</a> <a id="27017" href="Coherence.Hypotheses.html#26783" class="Datatype Operator">⨾</a> <a id="27019" class="Symbol">(</a><a id="27020" href="Coherence.Hypotheses.html#2129" class="Function">𝕒</a> <a id="27022" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="27024" href="Coherence.Hypotheses.html#26723" class="Function">λˢ</a><a id="27026" class="Symbol">)</a> <a id="27028" href="Coherence.Hypotheses.html#26783" class="Datatype Operator">~ℍ[8]~</a> <a id="27035" href="Coherence.Hypotheses.html#26911" class="Bound">λᶜ</a> <a id="27038" href="Coherence.Hypotheses.html#26783" class="Datatype Operator">⨾</a> <a id="27040" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a>

<a id="27044" class="Comment">-- ** Contract actions: withdraw</a>
<a id="27077" class="Keyword">record</a> <a id="H₉-args"></a><a id="27084" href="Coherence.Hypotheses.html#27084" class="Record">H₉-args</a> <a id="27092" class="Symbol">:</a> <a id="27094" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="27099" class="Keyword">where</a>
  <a id="27107" class="Keyword">constructor</a> <a id="mk"></a><a id="27119" href="Coherence.Hypotheses.html#27119" class="InductiveConstructor">mk</a>
  <a id="27124" class="Keyword">field</a>
    <a id="27134" class="Symbol">{</a><a id="H₉-args.c"></a><a id="27135" href="Coherence.Hypotheses.html#27135" class="Field">c</a> <a id="H₉-args.v"></a><a id="27137" href="Coherence.Hypotheses.html#27137" class="Field">v</a> <a id="H₉-args.y"></a><a id="27139" href="Coherence.Hypotheses.html#27139" class="Field">y</a> <a id="H₉-args.Γ₀"></a><a id="27141" href="Coherence.Hypotheses.html#27141" class="Field">Γ₀</a> <a id="H₉-args.A"></a><a id="27144" href="Coherence.Hypotheses.html#27144" class="Field">A</a> <a id="H₉-args.x"></a><a id="27146" href="Coherence.Hypotheses.html#27146" class="Field">x</a> <a id="H₉-args.t"></a><a id="27148" href="Coherence.Hypotheses.html#27148" class="Field">t</a><a id="27149" class="Symbol">}</a> <a id="27151" class="Symbol">:</a> <a id="27153" class="Symbol">_</a>
    <a id="27159" class="Symbol">{</a><a id="H₉-args.i"></a><a id="27160" href="Coherence.Hypotheses.html#27160" class="Field">i</a><a id="27161" class="Symbol">}</a> <a id="27163" class="Symbol">:</a> <a id="27165" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="27171" href="Coherence.Hypotheses.html#27135" class="Field">c</a>
  <a id="27175" class="Keyword">open</a> <a id="27180" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="27188" href="Coherence.Hypotheses.html#27135" class="Field">c</a> <a id="27190" href="Coherence.Hypotheses.html#27160" class="Field">i</a> <a id="27192" class="Keyword">public</a>
  <a id="H₉-args.As"></a><a id="27201" href="Coherence.Hypotheses.html#27201" class="Function">As</a> <a id="27204" class="Symbol">=</a> <a id="27206" href="BitML.Contracts.Collections.html#13915" class="Function">decorations</a> <a id="27218" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="27220" class="Symbol">.</a><a id="27221" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₉-args.ts"></a><a id="27229" href="Coherence.Hypotheses.html#27229" class="Function">ts</a> <a id="27232" class="Symbol">=</a> <a id="27234" href="BitML.Contracts.Collections.html#13915" class="Function">decorations</a> <a id="27246" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="27248" class="Symbol">.</a><a id="27249" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
  <a id="27257" class="Keyword">field</a>
    <a id="27267" class="Comment">-- (i) in Rˢ, α consumes ⟨D+C,v⟩y to obtain ⟨A,v⟩ₓ (where D = ⋯ : withdraw A)</a>
    <a id="H₉-args.d≡"></a><a id="27349" href="Coherence.Hypotheses.html#27349" class="Field">d≡</a> <a id="27352" class="Symbol">:</a> <a id="27354" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="27356" href="BitML.Contracts.Collections.html#15163" class="Function Operator">≡⋯∶</a> <a id="27360" href="BitML.Contracts.Types.html#805" class="InductiveConstructor">withdraw</a> <a id="27369" href="Coherence.Hypotheses.html#27144" class="Field">A</a>
    <a id="27375" class="Comment">-- Hypotheses from [C-Withdraw]</a>
    <a id="H₉-args.fresh-x"></a><a id="27411" href="Coherence.Hypotheses.html#27411" class="Field">fresh-x</a> <a id="27419" class="Symbol">:</a> <a id="27421" href="Coherence.Hypotheses.html#27146" class="Field">x</a> <a id="27423" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="27425" href="Coherence.Hypotheses.html#27139" class="Field">y</a> <a id="27427" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="27431" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="27435" href="Coherence.Hypotheses.html#27141" class="Field">Γ₀</a>
    <a id="27442" class="Comment">-- Hypotheses from [Timeout]</a>
    <a id="H₉-args.As≡∅"></a><a id="27475" href="Coherence.Hypotheses.html#27475" class="Field">As≡∅</a> <a id="27480" class="Symbol">:</a> <a id="27482" href="Prelude.Null.html#263" class="Field">Null</a> <a id="27487" href="Coherence.Hypotheses.html#27201" class="Function">As</a>
    <a id="H₉-args.∀≤t"></a><a id="27494" href="Coherence.Hypotheses.html#27494" class="Field">∀≤t</a> <a id="27498" class="Symbol">:</a> <a id="27500" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="27504" class="Symbol">(</a><a id="27505" href="Prelude.Ord.Core.html#209" class="Field Operator">_≤</a> <a id="27508" href="Coherence.Hypotheses.html#27148" class="Field">t</a><a id="27509" class="Symbol">)</a> <a id="27511" href="Coherence.Hypotheses.html#27229" class="Function">ts</a>
  <a id="27516" class="Keyword">private</a>
    <a id="H₉-args.α"></a><a id="27528" href="Coherence.Hypotheses.html#27528" class="Function">α</a>  <a id="27531" class="Symbol">=</a> <a id="27533" href="BitML.Semantics.Label.html#1378" class="InductiveConstructor Operator">withdraw⦅</a> <a id="27543" href="Coherence.Hypotheses.html#27144" class="Field">A</a> <a id="27545" href="BitML.Semantics.Label.html#1378" class="InductiveConstructor Operator">,</a> <a id="27547" href="Coherence.Hypotheses.html#27137" class="Field">v</a> <a id="27549" href="BitML.Semantics.Label.html#1378" class="InductiveConstructor Operator">,</a> <a id="27551" href="Coherence.Hypotheses.html#27139" class="Field">y</a> <a id="27553" href="BitML.Semantics.Label.html#1378" class="InductiveConstructor Operator">⦆</a>
    <a id="H₉-args.Γ′"></a><a id="27559" href="Coherence.Hypotheses.html#27559" class="Function">Γ′</a> <a id="27562" class="Symbol">=</a> <a id="27564" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="27566" href="Coherence.Hypotheses.html#27144" class="Field">A</a> <a id="27568" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="27572" href="Coherence.Hypotheses.html#27137" class="Field">v</a> <a id="27574" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="27578" href="Coherence.Hypotheses.html#27146" class="Field">x</a> <a id="27580" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="27582" href="Coherence.Hypotheses.html#27141" class="Field">Γ₀</a>
  <a id="27587" class="Keyword">open</a> <a id="27592" href="Coherence.Hypotheses.html#1608" class="Module">Transition</a>
    <a id="27607" class="Symbol">(</a> <a id="27609" class="Symbol">(</a><a id="27610" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="27612" href="Coherence.Hypotheses.html#27135" class="Field">c</a> <a id="27614" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="27616" href="Coherence.Hypotheses.html#27137" class="Field">v</a> <a id="27618" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="27622" href="Coherence.Hypotheses.html#27139" class="Field">y</a> <a id="27624" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="27626" href="Coherence.Hypotheses.html#27141" class="Field">Γ₀</a><a id="27628" class="Symbol">)</a> <a id="27630" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="27632" href="Coherence.Hypotheses.html#27148" class="Field">t</a> <a id="27634" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">——</a> <a id="27637" href="Coherence.Hypotheses.html#27528" class="Function">α</a> <a id="27639" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">—→</a> <a id="27642" href="Coherence.Hypotheses.html#27559" class="Function">Γ′</a> <a id="27645" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="27647" href="Coherence.Hypotheses.html#27148" class="Field">t</a>
    <a id="27653" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⊣</a> <a id="27655" href="BitML.Semantics.InferenceRules.html#7812" class="InductiveConstructor">[Timeout]</a> <a id="27665" href="Coherence.Hypotheses.html#27475" class="Field">As≡∅</a> <a id="27670" href="Coherence.Hypotheses.html#27494" class="Field">∀≤t</a>
        <a id="27682" class="Symbol">(</a><a id="27683" href="Prelude.SubstDSL.html#488" class="Function">⟪</a> <a id="27685" class="Symbol">(λ</a> <a id="27688" href="Coherence.Hypotheses.html#27688" class="Bound">◆</a> <a id="27690" class="Symbol">→</a> <a id="27692" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="27694" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="27696" href="Coherence.Hypotheses.html#27688" class="Bound">◆</a> <a id="27698" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="27700" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="27702" href="Coherence.Hypotheses.html#27137" class="Field">v</a> <a id="27704" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="27708" href="Coherence.Hypotheses.html#27139" class="Field">y</a> <a id="27710" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="27712" href="Coherence.Hypotheses.html#27141" class="Field">Γ₀</a> <a id="27715" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="27718" href="Coherence.Hypotheses.html#27528" class="Function">α</a> <a id="27720" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a> <a id="27723" href="Coherence.Hypotheses.html#27559" class="Function">Γ′</a><a id="27725" class="Symbol">)</a> <a id="27727" href="Prelude.SubstDSL.html#488" class="Function">⟫</a> <a id="27729" href="Coherence.Hypotheses.html#27349" class="Field">d≡</a> <a id="27732" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="27735" href="BitML.Semantics.InferenceRules.html#6346" class="InductiveConstructor">[C-Withdraw]</a> <a id="27748" href="Coherence.Hypotheses.html#27411" class="Field">fresh-x</a><a id="27755" class="Symbol">)</a>
        <a id="27765" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="27774" class="Symbol">)</a> <a id="27776" class="Keyword">public</a> <a id="27783" class="Keyword">hiding</a> <a id="27790" class="Symbol">(</a><a id="27791" href="Coherence.Hypotheses.html#1685" class="Field">t</a><a id="27792" class="Symbol">)</a>
  <a id="27796" class="Keyword">field</a> <a id="H₉-args.𝕙r"></a><a id="27802" href="Coherence.Hypotheses.html#27802" class="Field">𝕙r</a> <a id="27805" class="Symbol">:</a> <a id="27807" href="Coherence.Hypotheses.html#1824" class="Record">ℍ-Run</a> <a id="27813" href="Coherence.Hypotheses.html#1795" class="Function">Γ→</a>
  <a id="27818" class="Keyword">open</a> <a id="27823" href="Coherence.Hypotheses.html#1824" class="Module">ℍ-Run</a> <a id="27829" href="Coherence.Hypotheses.html#27802" class="Field">𝕙r</a> <a id="27832" class="Keyword">public</a>

<a id="27840" class="Keyword">module</a> <a id="27847" href="Coherence.Hypotheses.html#27847" class="Module">H₉</a> <a id="27850" class="Symbol">(</a><a id="27851" href="Coherence.Hypotheses.html#27851" class="Bound">⋯</a> <a id="27853" class="Symbol">:</a> <a id="27855" href="Coherence.Hypotheses.html#27084" class="Record">H₉-args</a><a id="27862" class="Symbol">)</a> <a id="27864" class="Symbol">(</a><a id="27865" class="Keyword">open</a> <a id="27870" href="Coherence.Hypotheses.html#27084" class="Module">H₉-args</a> <a id="27878" href="Coherence.Hypotheses.html#27851" class="Bound">⋯</a><a id="27879" class="Symbol">)</a> <a id="27881" class="Keyword">where</a>
  <a id="27889" class="Comment">-- (ii) {G}C′ is the ancestor of ⟨D+C,v⟩y in Rˢ</a>
  <a id="27939" class="Comment">--   ∙ T′ at o = txout′(x)</a>
  <a id="27968" class="Comment">--   ∙ T is the first transaction of Bd(d,d,T′,o,v,partG,0)</a>
  <a id="28030" class="Comment">-- i.e.</a>
  <a id="28040" class="Comment">-- (iii) submit transaction T</a>
  <a id="28072" class="Comment">--       where ∙ (T′,o) = txout′(y)</a>
  <a id="28110" class="Comment">--             ∙ T is the first transaction in Bd(d,d,T′,o,v,partG,0)</a>
  <a id="28182" class="Comment">--       i.e. the one corresponding to subterm `d∗ = withdraw A`</a>
  <a id="28249" href="Coherence.Hypotheses.html#28249" class="Function">T</a> <a id="28251" class="Symbol">:</a> <a id="28253" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
  <a id="28259" href="Coherence.Hypotheses.html#28249" class="Function">T</a> <a id="28261" class="Symbol">=</a> <a id="28263" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="28266" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="28269" href="Coherence.Helpers.html#4528" class="Function">COMPILE-ANCESTOR</a> <a id="28286" class="Symbol">{</a><a id="28287" class="Argument">Γ</a> <a id="28289" class="Symbol">=</a> <a id="28291" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a><a id="28292" class="Symbol">}</a> <a id="28294" class="Symbol">{</a><a id="28295" class="Argument">i</a> <a id="28297" class="Symbol">=</a> <a id="28299" href="Coherence.Hypotheses.html#27160" class="Field">i</a><a id="28300" class="Symbol">}</a> <a id="28302" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="28305" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="28307" href="Coherence.Hypotheses.html#2095" class="Function">𝕣</a> <a id="28309" class="Symbol">.</a><a id="28310" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="28316" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="28319" href="Coherence.Hypotheses.html#27349" class="Field">d≡</a> <a id="28322" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="28324" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="28333" href="Prelude.SubstDSL.html#164" class="Function">⟫</a>

  <a id="28338" class="Comment">-- (iv) extend txout′ with {x ↦ (T,0)}, sechash = sechash′, κ = κ′</a>
  <a id="28407" href="Coherence.Hypotheses.html#28407" class="Function">txout↝</a> <a id="28414" class="Symbol">:</a> <a id="28416" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="28418" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="28421" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="28427" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="28429" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
  <a id="28434" href="Coherence.Hypotheses.html#28407" class="Function">txout↝</a>  <a id="28442" href="Coherence.Hypotheses.html#28442" class="Bound">txout′</a> <a id="28449" class="Symbol">=</a> <a id="28451" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="28458" href="Coherence.Hypotheses.html#27146" class="Field">x</a> <a id="28460" class="Symbol">(</a><a id="28461" href="Coherence.Hypotheses.html#28249" class="Function">T</a> <a id="28463" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="28466" class="Number">0</a><a id="28467" class="Symbol">)</a> <a id="28469" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="28471" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="28480" href="Coherence.Hypotheses.html#28442" class="Bound">txout′</a> <a id="28487" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a>

  <a id="28496" href="Coherence.Hypotheses.html#28496" class="Function">λˢ</a> <a id="28499" class="Symbol">:</a> <a id="28501" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="28504" href="Coherence.Hypotheses.html#1761" class="Function">Γₜ′</a>
  <a id="28510" href="Coherence.Hypotheses.html#28496" class="Function">λˢ</a> <a id="28513" class="Symbol">=</a> <a id="28515" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="28521" href="Coherence.Hypotheses.html#2095" class="Function">𝕣</a> <a id="28523" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="28525" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="28528" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="28531" href="Coherence.Hypotheses.html#28407" class="Function">txout↝</a> <a id="28538" href="Function.Base.html#624" class="Function">id</a> <a id="28541" href="Function.Base.html#624" class="Function">id</a>

<a id="28545" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[9]~_⨾_"></a><a id="28550" href="Coherence.Hypotheses.html#28550" class="Datatype Operator">_⨾_⨾_~ℍ[9]~_⨾_</a> <a id="28565" class="Symbol">:</a> <a id="28567" href="Coherence.Hypotheses.html#1468" class="Function">StepRel</a> <a id="28575" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[9]~_⨾_.mkℍ"></a><a id="28583" href="Coherence.Hypotheses.html#28583" class="InductiveConstructor">mkℍ</a> <a id="28587" class="Symbol">:</a> <a id="28589" class="Symbol">∀</a> <a id="28591" class="Symbol">{</a><a id="28592" href="Coherence.Hypotheses.html#28592" class="Bound">h</a> <a id="28594" class="Symbol">:</a> <a id="28596" href="Coherence.Hypotheses.html#27084" class="Record">H₉-args</a><a id="28603" class="Symbol">}</a>
    <a id="28609" class="Symbol">→</a> <a id="28611" class="Keyword">let</a>
        <a id="28623" class="Keyword">open</a> <a id="28628" href="Coherence.Hypotheses.html#27084" class="Module">H₉-args</a> <a id="28636" href="Coherence.Hypotheses.html#28592" class="Bound">h</a>
        <a id="28646" class="Keyword">open</a> <a id="28651" href="Coherence.Hypotheses.html#27847" class="Module">H₉</a> <a id="28654" href="Coherence.Hypotheses.html#28592" class="Bound">h</a> <a id="28656" class="Keyword">using</a> <a id="28662" class="Symbol">(</a><a id="28663" href="Coherence.Hypotheses.html#28496" class="Function">λˢ</a><a id="28665" class="Symbol">;</a> <a id="28667" href="Coherence.Hypotheses.html#28249" class="Function">T</a><a id="28668" class="Symbol">)</a>
        <a id="28678" class="Comment">-- open H₉ h using (𝕣∗′; T)</a>
        <a id="28714" href="Coherence.Hypotheses.html#28714" class="Bound">λᶜ</a> <a id="28717" class="Symbol">=</a> <a id="28719" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="28726" href="Coherence.Hypotheses.html#28249" class="Function">T</a>
      <a id="28734" class="Keyword">in</a>
      <a id="28743" href="Prelude.InferenceRules.html#44248" class="Function Operator">─────────────────────────────────────────</a>
      <a id="28791" class="Comment">-- Γₜ″ ⨾ 𝕣∗ ⨾ (𝕒 , λˢ) ~ℍ[9]~ λᶜ ⨾ Rᶜ</a>
      <a id="28835" href="Coherence.Hypotheses.html#2043" class="Function">Γₜ″</a> <a id="28839" href="Coherence.Hypotheses.html#28550" class="Datatype Operator">⨾</a> <a id="28841" href="Coherence.Hypotheses.html#1982" class="Function">𝕣∗</a> <a id="28844" href="Coherence.Hypotheses.html#28550" class="Datatype Operator">⨾</a> <a id="28846" class="Symbol">(</a><a id="28847" href="Coherence.Hypotheses.html#2129" class="Function">𝕒</a> <a id="28849" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="28851" href="Coherence.Hypotheses.html#28496" class="Function">λˢ</a><a id="28853" class="Symbol">)</a> <a id="28855" href="Coherence.Hypotheses.html#28550" class="Datatype Operator">~ℍ[9]~</a> <a id="28862" href="Coherence.Hypotheses.html#28714" class="Bound">λᶜ</a> <a id="28865" href="Coherence.Hypotheses.html#28550" class="Datatype Operator">⨾</a> <a id="28867" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a>

<a id="28871" class="Comment">-- ** Deposits: authorize join</a>
<a id="28902" class="Keyword">record</a> <a id="H₁₀-args"></a><a id="28909" href="Coherence.Hypotheses.html#28909" class="Record">H₁₀-args</a> <a id="28918" class="Symbol">:</a> <a id="28920" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="28925" class="Keyword">where</a>
  <a id="28933" class="Keyword">constructor</a> <a id="mk"></a><a id="28945" href="Coherence.Hypotheses.html#28945" class="InductiveConstructor">mk</a>
  <a id="28950" class="Keyword">field</a>
    <a id="28960" class="Symbol">{</a><a id="H₁₀-args.A"></a><a id="28961" href="Coherence.Hypotheses.html#28961" class="Field">A</a> <a id="H₁₀-args.v"></a><a id="28963" href="Coherence.Hypotheses.html#28963" class="Field">v</a> <a id="H₁₀-args.x"></a><a id="28965" href="Coherence.Hypotheses.html#28965" class="Field">x</a> <a id="H₁₀-args.v′"></a><a id="28967" href="Coherence.Hypotheses.html#28967" class="Field">v′</a> <a id="H₁₀-args.x′"></a><a id="28970" href="Coherence.Hypotheses.html#28970" class="Field">x′</a> <a id="H₁₀-args.Γ₀"></a><a id="28973" href="Coherence.Hypotheses.html#28973" class="Field">Γ₀</a> <a id="H₁₀-args.t"></a><a id="28976" href="Coherence.Hypotheses.html#28976" class="Field">t</a><a id="28977" class="Symbol">}</a> <a id="28979" class="Symbol">:</a> <a id="28981" class="Symbol">_</a>
  <a id="28985" class="Keyword">open</a> <a id="28990" href="Coherence.Hypotheses.html#1608" class="Module">Transition</a>
    <a id="29005" class="Symbol">(</a> <a id="29007" class="Symbol">(</a><a id="29008" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="29010" href="Coherence.Hypotheses.html#28961" class="Field">A</a> <a id="29012" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="29016" href="Coherence.Hypotheses.html#28963" class="Field">v</a> <a id="29018" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="29022" href="Coherence.Hypotheses.html#28965" class="Field">x</a> <a id="29024" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="29026" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="29028" href="Coherence.Hypotheses.html#28961" class="Field">A</a> <a id="29030" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="29034" href="Coherence.Hypotheses.html#28967" class="Field">v′</a> <a id="29037" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="29041" href="Coherence.Hypotheses.html#28970" class="Field">x′</a> <a id="29044" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="29046" href="Coherence.Hypotheses.html#28973" class="Field">Γ₀</a><a id="29048" class="Symbol">)</a> <a id="29050" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="29052" href="Coherence.Hypotheses.html#28976" class="Field">t</a>
      <a id="29060" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">——</a> <a id="29063" href="BitML.Semantics.Label.html#480" class="InductiveConstructor Operator">auth-join⦅</a> <a id="29074" href="Coherence.Hypotheses.html#28961" class="Field">A</a> <a id="29076" href="BitML.Semantics.Label.html#480" class="InductiveConstructor Operator">,</a> <a id="29078" href="Coherence.Hypotheses.html#28965" class="Field">x</a> <a id="29080" href="BitML.Semantics.Label.html#480" class="InductiveConstructor Operator">↔</a> <a id="29082" href="Coherence.Hypotheses.html#28970" class="Field">x′</a> <a id="29085" href="BitML.Semantics.Label.html#480" class="InductiveConstructor Operator">⦆</a> <a id="29087" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">—→</a>
      <a id="29096" class="Symbol">(</a> <a id="29098" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="29100" href="Coherence.Hypotheses.html#28961" class="Field">A</a> <a id="29102" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="29106" href="Coherence.Hypotheses.html#28963" class="Field">v</a> <a id="29108" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="29112" href="Coherence.Hypotheses.html#28965" class="Field">x</a> <a id="29114" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="29116" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="29118" href="Coherence.Hypotheses.html#28961" class="Field">A</a> <a id="29120" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="29124" href="Coherence.Hypotheses.html#28967" class="Field">v′</a> <a id="29127" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="29131" href="Coherence.Hypotheses.html#28970" class="Field">x′</a>
      <a id="29140" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="29142" href="Coherence.Hypotheses.html#28961" class="Field">A</a> <a id="29144" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="29150" href="Coherence.Hypotheses.html#28965" class="Field">x</a> <a id="29152" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">↔</a> <a id="29154" href="Coherence.Hypotheses.html#28970" class="Field">x′</a> <a id="29157" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">▷⟨</a> <a id="29160" href="Coherence.Hypotheses.html#28961" class="Field">A</a> <a id="29162" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">,</a> <a id="29164" href="Coherence.Hypotheses.html#28963" class="Field">v</a> <a id="29166" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="29168" href="Coherence.Hypotheses.html#28967" class="Field">v′</a> <a id="29171" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">⟩</a> <a id="29173" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="29175" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="29177" href="Coherence.Hypotheses.html#28973" class="Field">Γ₀</a><a id="29179" class="Symbol">)</a> <a id="29181" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="29183" href="Coherence.Hypotheses.html#28976" class="Field">t</a>
    <a id="29189" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⊣</a> <a id="29191" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="29195" href="BitML.Semantics.InferenceRules.html#1167" class="InductiveConstructor">[DEP-AuthJoin]</a>
    <a id="29214" class="Symbol">)</a> <a id="29216" class="Keyword">public</a> <a id="29223" class="Keyword">hiding</a> <a id="29230" class="Symbol">(</a><a id="29231" href="Coherence.Hypotheses.html#1685" class="Field">t</a><a id="29232" class="Symbol">)</a>
  <a id="29236" class="Keyword">field</a> <a id="H₁₀-args.𝕙r"></a><a id="29242" href="Coherence.Hypotheses.html#29242" class="Field">𝕙r</a> <a id="29245" class="Symbol">:</a> <a id="29247" href="Coherence.Hypotheses.html#1824" class="Record">ℍ-Run</a> <a id="29253" href="Coherence.Hypotheses.html#1795" class="Function">Γ→</a>
  <a id="29258" class="Keyword">open</a> <a id="29263" href="Coherence.Hypotheses.html#1824" class="Module">ℍ-Run</a> <a id="29269" href="Coherence.Hypotheses.html#29242" class="Field">𝕙r</a> <a id="29272" class="Keyword">public</a>

<a id="29280" class="Keyword">module</a> <a id="29287" href="Coherence.Hypotheses.html#29287" class="Module">H₁₀</a> <a id="29291" class="Symbol">(</a><a id="29292" href="Coherence.Hypotheses.html#29292" class="Bound">⋯</a> <a id="29294" class="Symbol">:</a> <a id="29296" href="Coherence.Hypotheses.html#28909" class="Record">H₁₀-args</a><a id="29304" class="Symbol">)</a> <a id="29306" class="Symbol">(</a><a id="29307" class="Keyword">open</a> <a id="29312" href="Coherence.Hypotheses.html#28909" class="Module">H₁₀-args</a> <a id="29321" href="Coherence.Hypotheses.html#29292" class="Bound">⋯</a><a id="29322" class="Symbol">)</a> <a id="29324" class="Keyword">where</a>
  <a id="29332" href="Coherence.Hypotheses.html#29332" class="Function">λˢ</a> <a id="29335" class="Symbol">:</a> <a id="29337" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="29340" href="Coherence.Hypotheses.html#1761" class="Function">Γₜ′</a>
  <a id="29346" href="Coherence.Hypotheses.html#29332" class="Function">λˢ</a> <a id="29349" class="Symbol">=</a> <a id="29351" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="29357" href="Coherence.Hypotheses.html#2095" class="Function">𝕣</a> <a id="29359" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="29361" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="29364" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="29367" href="Function.Base.html#624" class="Function">id</a> <a id="29370" href="Function.Base.html#624" class="Function">id</a> <a id="29373" href="Function.Base.html#624" class="Function">id</a>

<a id="29377" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[10]~_⨾_"></a><a id="29382" href="Coherence.Hypotheses.html#29382" class="Datatype Operator">_⨾_⨾_~ℍ[10]~_⨾_</a> <a id="29398" class="Symbol">:</a> <a id="29400" href="Coherence.Hypotheses.html#1468" class="Function">StepRel</a> <a id="29408" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[10]~_⨾_.mkℍ"></a><a id="29416" href="Coherence.Hypotheses.html#29416" class="InductiveConstructor">mkℍ</a> <a id="29420" class="Symbol">:</a> <a id="29422" class="Symbol">∀</a> <a id="29424" class="Symbol">{</a><a id="29425" href="Coherence.Hypotheses.html#29425" class="Bound">h</a> <a id="29427" class="Symbol">:</a> <a id="29429" href="Coherence.Hypotheses.html#28909" class="Record">H₁₀-args</a><a id="29437" class="Symbol">}</a> <a id="29439" class="Symbol">{</a><a id="29440" href="Coherence.Hypotheses.html#29440" class="Bound">B</a><a id="29441" class="Symbol">}</a>
    <a id="29447" class="Symbol">→</a> <a id="29449" class="Keyword">let</a>
        <a id="29461" class="Keyword">open</a> <a id="29466" href="Coherence.Hypotheses.html#28909" class="Module">H₁₀-args</a> <a id="29475" href="Coherence.Hypotheses.html#29425" class="Bound">h</a>

        <a id="29486" href="Coherence.Hypotheses.html#29486" class="Bound">n⊆</a> <a id="29489" class="Symbol">:</a> <a id="29491" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="29493" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="29496" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="29500" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="29502" href="Coherence.Hypotheses.html#1969" class="Function">Rˢ</a>
        <a id="29513" href="Coherence.Hypotheses.html#29486" class="Bound">n⊆</a>  <a id="29517" class="Symbol">=</a> <a id="29519" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="29532" href="Coherence.Hypotheses.html#1969" class="Function">Rˢ</a>
            <a id="29547" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="29549" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="29564" class="Symbol">_</a> <a id="29566" class="Symbol">{</a><a id="29567" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a><a id="29568" class="Symbol">}{</a><a id="29570" href="Coherence.Hypotheses.html#1969" class="Function">Rˢ</a> <a id="29573" href="SymbolicModel.Run.Accessors.html#734" class="Function Operator">∙cfg</a><a id="29577" class="Symbol">}</a> <a id="29579" class="Symbol">(</a><a id="29580" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="29586" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="29588" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="29591" class="Symbol">.</a><a id="29592" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="29597" class="Symbol">)</a>
      <a id="29605" class="Keyword">in</a>
    <a id="29612" class="Symbol">∀</a> <a id="29614" class="Symbol">(</a><a id="29615" href="Coherence.Hypotheses.html#29615" class="Bound">∃B</a> <a id="29618" class="Symbol">:</a> <a id="29620" href="Data.Product.html#1378" class="Function">∃</a> <a id="29622" class="Symbol">λ</a> <a id="29624" href="Coherence.Hypotheses.html#29624" class="Bound">B</a> <a id="29626" class="Symbol">→</a> <a id="29628" href="Data.Product.html#1378" class="Function">∃</a> <a id="29630" class="Symbol">λ</a> <a id="29632" class="Symbol">(</a><a id="29633" href="Coherence.Hypotheses.html#29633" class="Bound">T</a> <a id="29635" class="Symbol">:</a> <a id="29637" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="29640" class="Number">2</a> <a id="29642" class="Number">1</a><a id="29643" class="Symbol">)</a> <a id="29645" class="Symbol">→</a>
         <a id="29656" class="Symbol">(</a><a id="29657" href="Coherence.Hypotheses.html#29624" class="Bound">B</a> <a id="29659" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="29663" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="29670" href="Coherence.Hypotheses.html#29633" class="Bound">T</a> <a id="29672" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="29674" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="29681" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a><a id="29683" class="Symbol">)</a>
       <a id="29692" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="29694" class="Symbol">(</a><a id="29695" href="Coherence.Hypotheses.html#29633" class="Bound">T</a> <a id="29697" class="Symbol">.</a><a id="29698" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="29706" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="29708" class="Symbol">(</a><a id="29709" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="29717" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="29721" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="29723" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="29730" class="Symbol">{</a><a id="29731" href="Coherence.Hypotheses.html#28965" class="Function">x</a><a id="29732" class="Symbol">}</a> <a id="29734" class="Symbol">(</a><a id="29735" href="Coherence.Hypotheses.html#29486" class="Bound">n⊆</a> <a id="29738" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a><a id="29739" class="Symbol">)</a> <a id="29741" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="29743" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="29750" class="Symbol">{</a><a id="29751" href="Coherence.Hypotheses.html#28970" class="Function">x′</a><a id="29753" class="Symbol">}</a> <a id="29755" class="Symbol">(</a><a id="29756" href="Coherence.Hypotheses.html#29486" class="Bound">n⊆</a> <a id="29759" href="Prelude.Membership.Patterns.html#144" class="InductiveConstructor">𝟙</a><a id="29760" class="Symbol">)</a> <a id="29762" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a><a id="29763" class="Symbol">))</a>
       <a id="29773" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="29775" class="Symbol">(</a><a id="29776" href="Coherence.Hypotheses.html#29633" class="Bound">T</a> <a id="29778" class="Symbol">.</a><a id="29779" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="29787" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="29789" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="29791" class="Symbol">(</a><a id="29792" href="Coherence.Hypotheses.html#28963" class="Function">v</a> <a id="29794" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="29796" href="Coherence.Hypotheses.html#28967" class="Function">v′</a><a id="29798" class="Symbol">)</a> <a id="29800" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="29814" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="29817" href="Coherence.Hypotheses.html#28961" class="Function">A</a> <a id="29819" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="29820" class="Symbol">))</a>
    <a id="29827" class="Symbol">→</a> <a id="29829" class="Keyword">let</a>
        <a id="29841" class="Comment">-- (iii) broadcast transaction T, signed by A</a>
        <a id="29895" class="Symbol">_</a> <a id="29897" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="29899" href="Coherence.Hypotheses.html#29899" class="Bound">T</a> <a id="29901" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="29903" href="Coherence.Hypotheses.html#29903" class="Bound">B∈</a> <a id="29906" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="29908" class="Symbol">_</a>  <a id="29911" class="Symbol">=</a> <a id="29913" href="Coherence.Hypotheses.html#29615" class="Bound">∃B</a>
        <a id="29924" href="Coherence.Hypotheses.html#29924" class="Bound">m′</a> <a id="29927" class="Symbol">=</a> <a id="29929" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="29933" class="Symbol">(</a><a id="29934" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="29937" href="Coherence.Hypotheses.html#28961" class="Function">A</a><a id="29938" class="Symbol">)</a> <a id="29940" class="Symbol">(</a><a id="29941" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a> <a id="29945" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="29947" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="29950" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="29953" href="Coherence.Hypotheses.html#29899" class="Bound">T</a><a id="29954" class="Symbol">)</a>
        <a id="29964" href="Coherence.Hypotheses.html#29964" class="Bound">λᶜ</a> <a id="29967" class="Symbol">=</a> <a id="29969" href="Coherence.Hypotheses.html#29440" class="Bound">B</a> <a id="29971" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="29975" href="Coherence.Hypotheses.html#29924" class="Bound">m′</a>

        <a id="29987" class="Comment">-- (v) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="30045" class="Keyword">open</a> <a id="30050" href="Coherence.Hypotheses.html#29287" class="Module">H₁₀</a> <a id="30054" href="Coherence.Hypotheses.html#29425" class="Bound">h</a> <a id="30056" class="Keyword">using</a> <a id="30062" class="Symbol">(</a><a id="30063" href="Coherence.Hypotheses.html#29332" class="Function">λˢ</a><a id="30065" class="Symbol">)</a>
      <a id="30073" class="Keyword">in</a>
      <a id="30082" class="Comment">-- (iv) λᶜ is the first broadcast of m′ in Rᶜ after the first broadcast of T</a>
    <a id="30163" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="30165" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="30169" class="Symbol">(λ</a> <a id="30172" href="Coherence.Hypotheses.html#30172" class="Bound">l</a> <a id="30174" class="Symbol">→</a> <a id="30176" class="Symbol">∀</a> <a id="30178" href="Coherence.Hypotheses.html#30178" class="Bound">B</a> <a id="30180" class="Symbol">→</a> <a id="30182" href="Coherence.Hypotheses.html#30172" class="Bound">l</a> <a id="30184" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="30186" href="Coherence.Hypotheses.html#30178" class="Bound">B</a> <a id="30188" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="30192" href="Coherence.Hypotheses.html#29924" class="Bound">m′</a><a id="30194" class="Symbol">)</a> <a id="30196" class="Symbol">(</a><a id="30197" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="30207" href="Coherence.Hypotheses.html#29903" class="Bound">B∈</a><a id="30209" class="Symbol">)</a>
      <a id="30217" href="Prelude.InferenceRules.html#11142" class="Function Operator">────────────────────────────────────────────────────────────────────────────</a>
      <a id="30300" href="Coherence.Hypotheses.html#2043" class="Function">Γₜ″</a> <a id="30304" href="Coherence.Hypotheses.html#29382" class="Datatype Operator">⨾</a> <a id="30306" href="Coherence.Hypotheses.html#1982" class="Function">𝕣∗</a> <a id="30309" href="Coherence.Hypotheses.html#29382" class="Datatype Operator">⨾</a> <a id="30311" class="Symbol">(</a><a id="30312" href="Coherence.Hypotheses.html#2129" class="Function">𝕒</a> <a id="30314" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="30316" href="Coherence.Hypotheses.html#29332" class="Function">λˢ</a><a id="30318" class="Symbol">)</a> <a id="30320" href="Coherence.Hypotheses.html#29382" class="Datatype Operator">~ℍ[10]~</a> <a id="30328" href="Coherence.Hypotheses.html#29964" class="Bound">λᶜ</a> <a id="30331" href="Coherence.Hypotheses.html#29382" class="Datatype Operator">⨾</a> <a id="30333" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a>

<a id="30337" class="Comment">-- ** Deposits: join</a>
<a id="30358" class="Keyword">record</a> <a id="H₁₁-args"></a><a id="30365" href="Coherence.Hypotheses.html#30365" class="Record">H₁₁-args</a> <a id="30374" class="Symbol">:</a> <a id="30376" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="30381" class="Keyword">where</a>
  <a id="30389" class="Keyword">constructor</a> <a id="mk"></a><a id="30401" href="Coherence.Hypotheses.html#30401" class="InductiveConstructor">mk</a>
  <a id="30406" class="Keyword">field</a>
    <a id="30416" class="Symbol">{</a><a id="H₁₁-args.A"></a><a id="30417" href="Coherence.Hypotheses.html#30417" class="Field">A</a> <a id="H₁₁-args.v"></a><a id="30419" href="Coherence.Hypotheses.html#30419" class="Field">v</a> <a id="H₁₁-args.x"></a><a id="30421" href="Coherence.Hypotheses.html#30421" class="Field">x</a> <a id="H₁₁-args.v′"></a><a id="30423" href="Coherence.Hypotheses.html#30423" class="Field">v′</a> <a id="H₁₁-args.x′"></a><a id="30426" href="Coherence.Hypotheses.html#30426" class="Field">x′</a> <a id="H₁₁-args.y"></a><a id="30429" href="Coherence.Hypotheses.html#30429" class="Field">y</a> <a id="H₁₁-args.Γ₀"></a><a id="30431" href="Coherence.Hypotheses.html#30431" class="Field">Γ₀</a> <a id="H₁₁-args.t"></a><a id="30434" href="Coherence.Hypotheses.html#30434" class="Field">t</a><a id="30435" class="Symbol">}</a> <a id="30437" class="Symbol">:</a> <a id="30439" class="Symbol">_</a>
    <a id="30445" class="Comment">-- Hypotheses from [DEP-Join]</a>
    <a id="H₁₁-args.fresh-y"></a><a id="30479" href="Coherence.Hypotheses.html#30479" class="Field">fresh-y</a> <a id="30487" class="Symbol">:</a> <a id="30489" href="Coherence.Hypotheses.html#30429" class="Field">y</a> <a id="30491" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="30493" href="Coherence.Hypotheses.html#30421" class="Field">x</a> <a id="30495" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="30499" href="Coherence.Hypotheses.html#30426" class="Field">x′</a> <a id="30502" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="30504" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="30508" href="Coherence.Hypotheses.html#30431" class="Field">Γ₀</a>
  <a id="30513" class="Keyword">open</a> <a id="30518" href="Coherence.Hypotheses.html#1608" class="Module">Transition</a>
    <a id="30533" class="Symbol">(</a> <a id="30535" class="Symbol">(</a> <a id="30537" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="30539" href="Coherence.Hypotheses.html#30417" class="Field">A</a> <a id="30541" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="30545" href="Coherence.Hypotheses.html#30419" class="Field">v</a> <a id="30547" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="30551" href="Coherence.Hypotheses.html#30421" class="Field">x</a> <a id="30553" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="30555" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="30557" href="Coherence.Hypotheses.html#30417" class="Field">A</a> <a id="30559" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="30563" href="Coherence.Hypotheses.html#30423" class="Field">v′</a> <a id="30566" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="30570" href="Coherence.Hypotheses.html#30426" class="Field">x′</a>
      <a id="30579" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="30581" href="Coherence.Hypotheses.html#30417" class="Field">A</a> <a id="30583" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="30589" href="Coherence.Hypotheses.html#30421" class="Field">x</a> <a id="30591" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">↔</a> <a id="30593" href="Coherence.Hypotheses.html#30426" class="Field">x′</a> <a id="30596" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">▷⟨</a> <a id="30599" href="Coherence.Hypotheses.html#30417" class="Field">A</a> <a id="30601" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">,</a> <a id="30603" href="Coherence.Hypotheses.html#30419" class="Field">v</a> <a id="30605" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="30607" href="Coherence.Hypotheses.html#30423" class="Field">v′</a> <a id="30610" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">⟩</a> <a id="30612" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="30614" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="30616" href="Coherence.Hypotheses.html#30431" class="Field">Γ₀</a><a id="30618" class="Symbol">)</a> <a id="30620" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="30622" href="Coherence.Hypotheses.html#30434" class="Field">t</a>
      <a id="30630" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">——</a> <a id="30633" href="BitML.Semantics.Label.html#540" class="InductiveConstructor Operator">join⦅</a> <a id="30639" href="Coherence.Hypotheses.html#30421" class="Field">x</a> <a id="30641" href="BitML.Semantics.Label.html#540" class="InductiveConstructor Operator">↔</a> <a id="30643" href="Coherence.Hypotheses.html#30426" class="Field">x′</a> <a id="30646" href="BitML.Semantics.Label.html#540" class="InductiveConstructor Operator">⦆</a> <a id="30648" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">—→</a>
      <a id="30657" class="Symbol">(</a><a id="30658" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="30660" href="Coherence.Hypotheses.html#30417" class="Field">A</a> <a id="30662" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="30666" class="Symbol">(</a><a id="30667" href="Coherence.Hypotheses.html#30419" class="Field">v</a> <a id="30669" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="30671" href="Coherence.Hypotheses.html#30423" class="Field">v′</a><a id="30673" class="Symbol">)</a> <a id="30675" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="30679" href="Coherence.Hypotheses.html#30429" class="Field">y</a> <a id="30681" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="30683" href="Coherence.Hypotheses.html#30431" class="Field">Γ₀</a><a id="30685" class="Symbol">)</a> <a id="30687" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="30689" href="Coherence.Hypotheses.html#30434" class="Field">t</a>
    <a id="30695" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⊣</a> <a id="30697" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="30701" class="Symbol">(</a><a id="30702" href="BitML.Semantics.InferenceRules.html#1421" class="InductiveConstructor">[DEP-Join]</a> <a id="30713" href="Coherence.Hypotheses.html#30479" class="Field">fresh-y</a><a id="30720" class="Symbol">)</a>
    <a id="30726" class="Symbol">)</a> <a id="30728" class="Keyword">public</a> <a id="30735" class="Keyword">hiding</a> <a id="30742" class="Symbol">(</a><a id="30743" href="Coherence.Hypotheses.html#1685" class="Field">t</a><a id="30744" class="Symbol">)</a>
  <a id="30748" class="Keyword">field</a> <a id="H₁₁-args.𝕙r"></a><a id="30754" href="Coherence.Hypotheses.html#30754" class="Field">𝕙r</a> <a id="30757" class="Symbol">:</a> <a id="30759" href="Coherence.Hypotheses.html#1824" class="Record">ℍ-Run</a> <a id="30765" href="Coherence.Hypotheses.html#1795" class="Function">Γ→</a>
  <a id="30770" class="Keyword">open</a> <a id="30775" href="Coherence.Hypotheses.html#1824" class="Module">ℍ-Run</a> <a id="30781" href="Coherence.Hypotheses.html#30754" class="Field">𝕙r</a> <a id="30784" class="Keyword">public</a>

<a id="30792" class="Keyword">module</a> <a id="30799" href="Coherence.Hypotheses.html#30799" class="Module">H₁₁</a> <a id="30803" class="Symbol">(</a><a id="30804" href="Coherence.Hypotheses.html#30804" class="Bound">⋯</a> <a id="30806" class="Symbol">:</a> <a id="30808" href="Coherence.Hypotheses.html#30365" class="Record">H₁₁-args</a><a id="30816" class="Symbol">)</a> <a id="30818" class="Symbol">(</a><a id="30819" class="Keyword">open</a> <a id="30824" href="Coherence.Hypotheses.html#30365" class="Module">H₁₁-args</a> <a id="30833" href="Coherence.Hypotheses.html#30804" class="Bound">⋯</a><a id="30834" class="Symbol">)</a> <a id="30836" class="Symbol">(</a><a id="30837" href="Coherence.Hypotheses.html#30837" class="Bound">tx</a> <a id="30840" class="Symbol">:</a> <a id="30842" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a><a id="30850" class="Symbol">)</a> <a id="30852" class="Keyword">where</a>
  <a id="30860" href="Coherence.Hypotheses.html#30860" class="Function">txout↝</a> <a id="30867" class="Symbol">:</a> <a id="30869" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="30871" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="30874" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="30880" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="30882" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
  <a id="30887" href="Coherence.Hypotheses.html#30860" class="Function">txout↝</a> <a id="30894" href="Coherence.Hypotheses.html#30894" class="Bound">txout′</a> <a id="30901" class="Symbol">=</a> <a id="30903" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="30910" href="Coherence.Hypotheses.html#30429" class="Field">y</a> <a id="30912" href="Coherence.Hypotheses.html#30837" class="Bound">tx</a> <a id="30915" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="30917" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="30926" href="Coherence.Hypotheses.html#30894" class="Bound">txout′</a> <a id="30933" class="Symbol">(λ</a> <a id="30936" href="Coherence.Hypotheses.html#30936" class="Bound">x∈</a> <a id="30939" class="Symbol">→</a> <a id="30941" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a> <a id="30947" class="Symbol">(</a><a id="30948" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a> <a id="30954" href="Coherence.Hypotheses.html#30936" class="Bound">x∈</a><a id="30956" class="Symbol">))</a>

  <a id="30962" href="Coherence.Hypotheses.html#30962" class="Function">λˢ</a> <a id="30965" class="Symbol">:</a> <a id="30967" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="30970" href="Coherence.Hypotheses.html#1761" class="Function">Γₜ′</a>
  <a id="30976" href="Coherence.Hypotheses.html#30962" class="Function">λˢ</a> <a id="30979" class="Symbol">=</a> <a id="30981" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="30987" href="Coherence.Hypotheses.html#2095" class="Function">𝕣</a> <a id="30989" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="30991" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="30994" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="30997" href="Coherence.Hypotheses.html#30860" class="Function">txout↝</a> <a id="31004" href="Function.Base.html#624" class="Function">id</a> <a id="31007" href="Function.Base.html#624" class="Function">id</a>

<a id="31011" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[11]~_⨾_"></a><a id="31016" href="Coherence.Hypotheses.html#31016" class="Datatype Operator">_⨾_⨾_~ℍ[11]~_⨾_</a> <a id="31032" class="Symbol">:</a> <a id="31034" href="Coherence.Hypotheses.html#1468" class="Function">StepRel</a> <a id="31042" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[11]~_⨾_.mkℍ"></a><a id="31050" href="Coherence.Hypotheses.html#31050" class="InductiveConstructor">mkℍ</a> <a id="31054" class="Symbol">:</a> <a id="31056" class="Symbol">∀</a> <a id="31058" class="Symbol">{</a><a id="31059" href="Coherence.Hypotheses.html#31059" class="Bound">h</a> <a id="31061" class="Symbol">:</a> <a id="31063" href="Coherence.Hypotheses.html#30365" class="Record">H₁₁-args</a><a id="31071" class="Symbol">}</a>
    <a id="31077" class="Symbol">→</a> <a id="31079" class="Keyword">let</a>
        <a id="31091" class="Keyword">open</a> <a id="31096" href="Coherence.Hypotheses.html#30365" class="Module">H₁₁-args</a> <a id="31105" href="Coherence.Hypotheses.html#31059" class="Bound">h</a>

        <a id="31116" href="Coherence.Hypotheses.html#31116" class="Bound">n⊆</a> <a id="31119" class="Symbol">:</a> <a id="31121" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="31123" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="31126" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="31130" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="31132" href="Coherence.Hypotheses.html#1969" class="Function">Rˢ</a>
        <a id="31143" href="Coherence.Hypotheses.html#31116" class="Bound">n⊆</a>  <a id="31147" class="Symbol">=</a> <a id="31149" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="31162" href="Coherence.Hypotheses.html#1969" class="Function">Rˢ</a>
            <a id="31177" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="31179" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="31194" class="Symbol">_</a> <a id="31196" class="Symbol">{</a><a id="31197" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a><a id="31198" class="Symbol">}{</a><a id="31200" href="Coherence.Hypotheses.html#1969" class="Function">Rˢ</a> <a id="31203" href="SymbolicModel.Run.Accessors.html#734" class="Function Operator">∙cfg</a><a id="31207" class="Symbol">}</a> <a id="31209" class="Symbol">(</a><a id="31210" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="31216" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="31218" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="31221" class="Symbol">.</a><a id="31222" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="31227" class="Symbol">)</a>

        <a id="31238" class="Comment">-- (ii) submit transaction T</a>
        <a id="31275" href="Coherence.Hypotheses.html#31275" class="Bound">T</a> <a id="31277" class="Symbol">:</a> <a id="31279" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
        <a id="31291" href="Coherence.Hypotheses.html#31275" class="Bound">T</a>  <a id="31294" class="Symbol">=</a> <a id="31296" class="Number">2</a> <a id="31298" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="31300" class="Number">1</a> <a id="31302" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="31304" href="Bitcoin.Tx.Crypto.html#1445" class="Function">sig⋆</a> <a id="31309" class="Symbol">(</a><a id="31310" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="31322" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="31324" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="31327" href="Coherence.Hypotheses.html#30417" class="Field">A</a> <a id="31329" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="31330" class="Symbol">)</a> <a id="31332" class="Keyword">record</a>
          <a id="31349" class="Symbol">{</a> <a id="31351" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="31359" class="Symbol">=</a> <a id="31361" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="31369" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="31373" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="31375" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="31382" class="Symbol">{</a><a id="31383" href="Coherence.Hypotheses.html#30421" class="Field">x</a><a id="31384" class="Symbol">}</a> <a id="31386" class="Symbol">(</a><a id="31387" href="Coherence.Hypotheses.html#31116" class="Bound">n⊆</a> <a id="31390" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a><a id="31391" class="Symbol">)</a> <a id="31393" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="31395" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="31402" class="Symbol">{</a><a id="31403" href="Coherence.Hypotheses.html#30426" class="Field">x′</a><a id="31405" class="Symbol">}</a> <a id="31407" class="Symbol">(</a><a id="31408" href="Coherence.Hypotheses.html#31116" class="Bound">n⊆</a> <a id="31411" href="Prelude.Membership.Patterns.html#144" class="InductiveConstructor">𝟙</a><a id="31412" class="Symbol">)</a> <a id="31414" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
          <a id="31426" class="Symbol">;</a> <a id="31428" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="31436" class="Symbol">=</a> <a id="31438" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
          <a id="31453" class="Symbol">;</a> <a id="31455" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="31463" class="Symbol">=</a> <a id="31465" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="31477" class="Number">0</a>
          <a id="31489" class="Symbol">;</a> <a id="31491" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="31499" class="Symbol">=</a> <a id="31501" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="31503" class="Symbol">(</a><a id="31504" href="Coherence.Hypotheses.html#30419" class="Field">v</a> <a id="31506" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="31508" href="Coherence.Hypotheses.html#30423" class="Field">v′</a><a id="31510" class="Symbol">)</a> <a id="31512" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="31526" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="31529" href="Coherence.Hypotheses.html#30417" class="Field">A</a> <a id="31531" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
          <a id="31543" class="Symbol">;</a> <a id="31545" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="31553" class="Symbol">=</a> <a id="31555" class="Number">0</a> <a id="31557" class="Symbol">}</a>
        <a id="31567" href="Coherence.Hypotheses.html#31567" class="Bound">λᶜ</a> <a id="31570" class="Symbol">=</a> <a id="31572" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="31579" href="Coherence.Hypotheses.html#31275" class="Bound">T</a>

        <a id="31590" class="Comment">-- (iii) extend txout′ with y↦T₀ (removing {x↦_;x′↦_}),</a>
        <a id="31654" class="Comment">--       sechash = sechash′, κ = κ′</a>
        <a id="31698" class="Keyword">open</a> <a id="31703" href="Coherence.Hypotheses.html#30799" class="Module">H₁₁</a> <a id="31707" href="Coherence.Hypotheses.html#31059" class="Bound">h</a> <a id="31709" class="Symbol">(</a><a id="31710" href="Coherence.Hypotheses.html#31275" class="Bound">T</a> <a id="31712" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="31715" class="Number">0</a><a id="31716" class="Symbol">)</a> <a id="31718" class="Keyword">using</a> <a id="31724" class="Symbol">(</a><a id="31725" href="Coherence.Hypotheses.html#30962" class="Function">λˢ</a><a id="31727" class="Symbol">)</a>
      <a id="31735" class="Keyword">in</a>
      <a id="31744" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="31804" href="Coherence.Hypotheses.html#2043" class="Function">Γₜ″</a> <a id="31808" href="Coherence.Hypotheses.html#31016" class="Datatype Operator">⨾</a> <a id="31810" href="Coherence.Hypotheses.html#1982" class="Function">𝕣∗</a> <a id="31813" href="Coherence.Hypotheses.html#31016" class="Datatype Operator">⨾</a> <a id="31815" class="Symbol">(</a><a id="31816" href="Coherence.Hypotheses.html#2129" class="Function">𝕒</a> <a id="31818" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="31820" href="Coherence.Hypotheses.html#30962" class="Function">λˢ</a><a id="31822" class="Symbol">)</a> <a id="31824" href="Coherence.Hypotheses.html#31016" class="Datatype Operator">~ℍ[11]~</a> <a id="31832" href="Coherence.Hypotheses.html#31567" class="Bound">λᶜ</a> <a id="31835" href="Coherence.Hypotheses.html#31016" class="Datatype Operator">⨾</a> <a id="31837" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a>

<a id="31841" class="Comment">-- ** Deposits: authorize divide (similar to [10])</a>
<a id="31892" class="Keyword">record</a> <a id="H₁₂-args"></a><a id="31899" href="Coherence.Hypotheses.html#31899" class="Record">H₁₂-args</a> <a id="31908" class="Symbol">:</a> <a id="31910" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="31915" class="Keyword">where</a>
  <a id="31923" class="Keyword">constructor</a> <a id="mk"></a><a id="31935" href="Coherence.Hypotheses.html#31935" class="InductiveConstructor">mk</a>
  <a id="31940" class="Keyword">field</a>
    <a id="31950" class="Symbol">{</a><a id="H₁₂-args.A"></a><a id="31951" href="Coherence.Hypotheses.html#31951" class="Field">A</a> <a id="H₁₂-args.v"></a><a id="31953" href="Coherence.Hypotheses.html#31953" class="Field">v</a> <a id="H₁₂-args.v′"></a><a id="31955" href="Coherence.Hypotheses.html#31955" class="Field">v′</a> <a id="H₁₂-args.x"></a><a id="31958" href="Coherence.Hypotheses.html#31958" class="Field">x</a> <a id="H₁₂-args.Γ₀"></a><a id="31960" href="Coherence.Hypotheses.html#31960" class="Field">Γ₀</a> <a id="H₁₂-args.t"></a><a id="31963" href="Coherence.Hypotheses.html#31963" class="Field">t</a><a id="31964" class="Symbol">}</a> <a id="31966" class="Symbol">:</a> <a id="31968" class="Symbol">_</a>
  <a id="31972" class="Keyword">open</a> <a id="31977" href="Coherence.Hypotheses.html#1608" class="Module">Transition</a>
    <a id="31992" class="Symbol">(</a> <a id="31994" class="Symbol">(</a><a id="31995" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="31997" href="Coherence.Hypotheses.html#31951" class="Field">A</a> <a id="31999" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="32003" class="Symbol">(</a><a id="32004" href="Coherence.Hypotheses.html#31953" class="Field">v</a> <a id="32006" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="32008" href="Coherence.Hypotheses.html#31955" class="Field">v′</a><a id="32010" class="Symbol">)</a> <a id="32012" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="32016" href="Coherence.Hypotheses.html#31958" class="Field">x</a> <a id="32018" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="32020" href="Coherence.Hypotheses.html#31960" class="Field">Γ₀</a><a id="32022" class="Symbol">)</a> <a id="32024" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="32026" href="Coherence.Hypotheses.html#31963" class="Field">t</a>
      <a id="32034" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">——</a> <a id="32037" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">auth-divide⦅</a> <a id="32050" href="Coherence.Hypotheses.html#31951" class="Field">A</a> <a id="32052" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">,</a> <a id="32054" href="Coherence.Hypotheses.html#31958" class="Field">x</a> <a id="32056" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">▷</a> <a id="32058" href="Coherence.Hypotheses.html#31953" class="Field">v</a> <a id="32060" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">,</a> <a id="32062" href="Coherence.Hypotheses.html#31955" class="Field">v′</a> <a id="32065" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">⦆</a> <a id="32067" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">—→</a>
      <a id="32076" class="Symbol">(</a><a id="32077" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="32079" href="Coherence.Hypotheses.html#31951" class="Field">A</a> <a id="32081" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="32085" class="Symbol">(</a><a id="32086" href="Coherence.Hypotheses.html#31953" class="Field">v</a> <a id="32088" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="32090" href="Coherence.Hypotheses.html#31955" class="Field">v′</a><a id="32092" class="Symbol">)</a> <a id="32094" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="32098" href="Coherence.Hypotheses.html#31958" class="Field">x</a> <a id="32100" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="32102" href="Coherence.Hypotheses.html#31951" class="Field">A</a> <a id="32104" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="32110" href="Coherence.Hypotheses.html#31958" class="Field">x</a> <a id="32112" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">▷⟨</a> <a id="32115" href="Coherence.Hypotheses.html#31951" class="Field">A</a> <a id="32117" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="32119" href="Coherence.Hypotheses.html#31953" class="Field">v</a> <a id="32121" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="32123" href="Coherence.Hypotheses.html#31955" class="Field">v′</a> <a id="32126" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">⟩</a> <a id="32128" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="32130" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="32132" href="Coherence.Hypotheses.html#31960" class="Field">Γ₀</a><a id="32134" class="Symbol">)</a> <a id="32136" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="32138" href="Coherence.Hypotheses.html#31963" class="Field">t</a>
    <a id="32144" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⊣</a> <a id="32146" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="32150" href="BitML.Semantics.InferenceRules.html#1683" class="InductiveConstructor">[DEP-AuthDivide]</a>
    <a id="32171" class="Symbol">)</a> <a id="32173" class="Keyword">public</a> <a id="32180" class="Keyword">hiding</a> <a id="32187" class="Symbol">(</a><a id="32188" href="Coherence.Hypotheses.html#1685" class="Field">t</a><a id="32189" class="Symbol">)</a>
  <a id="32193" class="Keyword">field</a> <a id="H₁₂-args.𝕙r"></a><a id="32199" href="Coherence.Hypotheses.html#32199" class="Field">𝕙r</a> <a id="32202" class="Symbol">:</a> <a id="32204" href="Coherence.Hypotheses.html#1824" class="Record">ℍ-Run</a> <a id="32210" href="Coherence.Hypotheses.html#1795" class="Function">Γ→</a>
  <a id="32215" class="Keyword">open</a> <a id="32220" href="Coherence.Hypotheses.html#1824" class="Module">ℍ-Run</a> <a id="32226" href="Coherence.Hypotheses.html#32199" class="Field">𝕙r</a> <a id="32229" class="Keyword">public</a>

<a id="32237" class="Keyword">module</a> <a id="32244" href="Coherence.Hypotheses.html#32244" class="Module">H₁₂</a> <a id="32248" class="Symbol">(</a><a id="32249" href="Coherence.Hypotheses.html#32249" class="Bound">⋯</a> <a id="32251" class="Symbol">:</a> <a id="32253" href="Coherence.Hypotheses.html#31899" class="Record">H₁₂-args</a><a id="32261" class="Symbol">)</a> <a id="32263" class="Symbol">(</a><a id="32264" class="Keyword">open</a> <a id="32269" href="Coherence.Hypotheses.html#31899" class="Module">H₁₂-args</a> <a id="32278" href="Coherence.Hypotheses.html#32249" class="Bound">⋯</a><a id="32279" class="Symbol">)</a> <a id="32281" class="Keyword">where</a>
  <a id="32289" href="Coherence.Hypotheses.html#32289" class="Function">λˢ</a> <a id="32292" class="Symbol">:</a> <a id="32294" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="32297" href="Coherence.Hypotheses.html#1761" class="Function">Γₜ′</a>
  <a id="32303" href="Coherence.Hypotheses.html#32289" class="Function">λˢ</a> <a id="32306" class="Symbol">=</a> <a id="32308" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="32314" href="Coherence.Hypotheses.html#2095" class="Function">𝕣</a> <a id="32316" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="32318" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="32321" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="32324" href="Function.Base.html#624" class="Function">id</a> <a id="32327" href="Function.Base.html#624" class="Function">id</a> <a id="32330" href="Function.Base.html#624" class="Function">id</a>

<a id="32334" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[12]~_⨾_"></a><a id="32339" href="Coherence.Hypotheses.html#32339" class="Datatype Operator">_⨾_⨾_~ℍ[12]~_⨾_</a> <a id="32355" class="Symbol">:</a> <a id="32357" href="Coherence.Hypotheses.html#1468" class="Function">StepRel</a> <a id="32365" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[12]~_⨾_.mkℍ"></a><a id="32373" href="Coherence.Hypotheses.html#32373" class="InductiveConstructor">mkℍ</a> <a id="32377" class="Symbol">:</a> <a id="32379" class="Symbol">∀</a> <a id="32381" class="Symbol">{</a><a id="32382" href="Coherence.Hypotheses.html#32382" class="Bound">h</a> <a id="32384" class="Symbol">:</a> <a id="32386" href="Coherence.Hypotheses.html#31899" class="Record">H₁₂-args</a><a id="32394" class="Symbol">}</a> <a id="32396" class="Symbol">{</a><a id="32397" href="Coherence.Hypotheses.html#32397" class="Bound">B</a><a id="32398" class="Symbol">}</a>
    <a id="32404" class="Symbol">→</a> <a id="32406" class="Keyword">let</a>
        <a id="32418" class="Keyword">open</a> <a id="32423" href="Coherence.Hypotheses.html#31899" class="Module">H₁₂-args</a> <a id="32432" href="Coherence.Hypotheses.html#32382" class="Bound">h</a>

        <a id="32443" href="Coherence.Hypotheses.html#32443" class="Bound">n⊆</a> <a id="32446" class="Symbol">:</a> <a id="32448" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="32450" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="32453" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="32457" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="32459" href="Coherence.Hypotheses.html#1969" class="Function">Rˢ</a>
        <a id="32470" href="Coherence.Hypotheses.html#32443" class="Bound">n⊆</a>  <a id="32474" class="Symbol">=</a> <a id="32476" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="32489" href="Coherence.Hypotheses.html#1969" class="Function">Rˢ</a>
            <a id="32504" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="32506" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="32521" class="Symbol">_</a> <a id="32523" class="Symbol">{</a><a id="32524" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a><a id="32525" class="Symbol">}{</a><a id="32527" href="Coherence.Hypotheses.html#1969" class="Function">Rˢ</a> <a id="32530" href="SymbolicModel.Run.Accessors.html#734" class="Function Operator">∙cfg</a><a id="32534" class="Symbol">}</a> <a id="32536" class="Symbol">(</a><a id="32537" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="32543" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="32545" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="32548" class="Symbol">.</a><a id="32549" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="32554" class="Symbol">)</a>
      <a id="32562" class="Keyword">in</a>
    <a id="32569" class="Symbol">∀</a> <a id="32571" class="Symbol">(</a><a id="32572" href="Coherence.Hypotheses.html#32572" class="Bound">∃B</a> <a id="32575" class="Symbol">:</a> <a id="32577" href="Data.Product.html#1378" class="Function">∃</a> <a id="32579" class="Symbol">λ</a> <a id="32581" href="Coherence.Hypotheses.html#32581" class="Bound">B</a> <a id="32583" class="Symbol">→</a> <a id="32585" href="Data.Product.html#1378" class="Function">∃</a> <a id="32587" class="Symbol">λ</a> <a id="32589" class="Symbol">(</a><a id="32590" href="Coherence.Hypotheses.html#32590" class="Bound">T</a> <a id="32592" class="Symbol">:</a> <a id="32594" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="32597" class="Number">1</a> <a id="32599" class="Number">2</a><a id="32600" class="Symbol">)</a> <a id="32602" class="Symbol">→</a>
         <a id="32613" class="Symbol">(</a><a id="32614" href="Coherence.Hypotheses.html#32581" class="Bound">B</a> <a id="32616" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="32620" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="32627" href="Coherence.Hypotheses.html#32590" class="Bound">T</a> <a id="32629" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="32631" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="32638" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a><a id="32640" class="Symbol">)</a>
       <a id="32649" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="32651" class="Symbol">(</a><a id="32652" href="Coherence.Hypotheses.html#32590" class="Bound">T</a> <a id="32654" class="Symbol">.</a><a id="32655" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="32663" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="32665" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="32667" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="32675" class="Symbol">(</a><a id="32676" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="32683" class="Symbol">{</a><a id="32684" href="Coherence.Hypotheses.html#31958" class="Function">x</a><a id="32685" class="Symbol">}</a> <a id="32687" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="32689" href="Coherence.Hypotheses.html#32443" class="Bound">n⊆</a> <a id="32692" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a><a id="32693" class="Symbol">)</a> <a id="32695" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="32696" class="Symbol">)</a>
       <a id="32705" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="32707" class="Symbol">(</a><a id="32708" href="Coherence.Hypotheses.html#32590" class="Bound">T</a> <a id="32710" class="Symbol">.</a><a id="32711" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="32719" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="32721" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="32723" href="Coherence.Hypotheses.html#31953" class="Function">v</a> <a id="32725" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="32739" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="32742" href="Coherence.Hypotheses.html#31951" class="Function">A</a> <a id="32744" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="32746" href="Coherence.Hypotheses.html#31955" class="Function">v′</a> <a id="32749" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="32763" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="32766" href="Coherence.Hypotheses.html#31951" class="Function">A</a> <a id="32768" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a><a id="32769" class="Symbol">))</a>
    <a id="32776" class="Symbol">→</a> <a id="32778" class="Keyword">let</a>
        <a id="32790" class="Comment">-- (iii) broadcast transaction T, signed by A</a>
        <a id="32844" class="Symbol">_</a> <a id="32846" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="32848" href="Coherence.Hypotheses.html#32848" class="Bound">T</a> <a id="32850" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="32852" href="Coherence.Hypotheses.html#32852" class="Bound">B∈</a> <a id="32855" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="32857" class="Symbol">_</a> <a id="32859" class="Symbol">=</a> <a id="32861" href="Coherence.Hypotheses.html#32572" class="Bound">∃B</a>
        <a id="32872" href="Coherence.Hypotheses.html#32872" class="Bound">m′</a> <a id="32875" class="Symbol">=</a> <a id="32877" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="32881" class="Symbol">(</a><a id="32882" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="32885" href="Coherence.Hypotheses.html#31951" class="Function">A</a><a id="32886" class="Symbol">)</a> <a id="32888" class="Symbol">(</a><a id="32889" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a> <a id="32893" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="32895" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="32898" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="32901" href="Coherence.Hypotheses.html#32848" class="Bound">T</a><a id="32902" class="Symbol">)</a>
        <a id="32912" href="Coherence.Hypotheses.html#32912" class="Bound">λᶜ</a> <a id="32915" class="Symbol">=</a> <a id="32917" href="Coherence.Hypotheses.html#32397" class="Bound">B</a> <a id="32919" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="32923" href="Coherence.Hypotheses.html#32872" class="Bound">m′</a>

        <a id="32935" class="Comment">-- (v) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="32993" class="Keyword">open</a> <a id="32998" href="Coherence.Hypotheses.html#32244" class="Module">H₁₂</a> <a id="33002" href="Coherence.Hypotheses.html#32382" class="Bound">h</a> <a id="33004" class="Keyword">using</a> <a id="33010" class="Symbol">(</a><a id="33011" href="Coherence.Hypotheses.html#32289" class="Function">λˢ</a><a id="33013" class="Symbol">)</a>
      <a id="33021" class="Keyword">in</a>

    <a id="33029" class="Comment">-- (iv) λᶜ is the first broadcast of m′ in Rᶜ after the first broadcast of T</a>
    <a id="33110" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="33112" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="33116" class="Symbol">(λ</a> <a id="33119" href="Coherence.Hypotheses.html#33119" class="Bound">l</a> <a id="33121" class="Symbol">→</a> <a id="33123" class="Symbol">∀</a> <a id="33125" href="Coherence.Hypotheses.html#33125" class="Bound">B</a> <a id="33127" class="Symbol">→</a> <a id="33129" href="Coherence.Hypotheses.html#33119" class="Bound">l</a> <a id="33131" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="33133" href="Coherence.Hypotheses.html#33125" class="Bound">B</a> <a id="33135" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="33139" href="Coherence.Hypotheses.html#32872" class="Bound">m′</a><a id="33141" class="Symbol">)</a> <a id="33143" class="Symbol">(</a><a id="33144" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="33154" href="Coherence.Hypotheses.html#32852" class="Bound">B∈</a><a id="33156" class="Symbol">)</a>

      <a id="33165" href="Prelude.InferenceRules.html#11978" class="Function Operator">─────────────────────────────────────────────────────────────────</a>
      <a id="33237" href="Coherence.Hypotheses.html#2043" class="Function">Γₜ″</a> <a id="33241" href="Coherence.Hypotheses.html#32339" class="Datatype Operator">⨾</a> <a id="33243" href="Coherence.Hypotheses.html#1982" class="Function">𝕣∗</a> <a id="33246" href="Coherence.Hypotheses.html#32339" class="Datatype Operator">⨾</a> <a id="33248" class="Symbol">(</a><a id="33249" href="Coherence.Hypotheses.html#2129" class="Function">𝕒</a> <a id="33251" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="33253" href="Coherence.Hypotheses.html#32289" class="Function">λˢ</a><a id="33255" class="Symbol">)</a> <a id="33257" href="Coherence.Hypotheses.html#32339" class="Datatype Operator">~ℍ[12]~</a> <a id="33265" href="Coherence.Hypotheses.html#32912" class="Bound">λᶜ</a> <a id="33268" href="Coherence.Hypotheses.html#32339" class="Datatype Operator">⨾</a> <a id="33270" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a>

<a id="33274" class="Comment">-- ** Deposits: divide (similar to [11])</a>
<a id="33315" class="Keyword">record</a> <a id="H₁₃-args"></a><a id="33322" href="Coherence.Hypotheses.html#33322" class="Record">H₁₃-args</a> <a id="33331" class="Symbol">:</a> <a id="33333" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="33338" class="Keyword">where</a>
  <a id="33346" class="Keyword">constructor</a> <a id="mk"></a><a id="33358" href="Coherence.Hypotheses.html#33358" class="InductiveConstructor">mk</a>
  <a id="33363" class="Keyword">field</a>
    <a id="33373" class="Symbol">{</a><a id="H₁₃-args.A"></a><a id="33374" href="Coherence.Hypotheses.html#33374" class="Field">A</a> <a id="H₁₃-args.v"></a><a id="33376" href="Coherence.Hypotheses.html#33376" class="Field">v</a> <a id="H₁₃-args.v′"></a><a id="33378" href="Coherence.Hypotheses.html#33378" class="Field">v′</a> <a id="H₁₃-args.x"></a><a id="33381" href="Coherence.Hypotheses.html#33381" class="Field">x</a> <a id="H₁₃-args.Γ₀"></a><a id="33383" href="Coherence.Hypotheses.html#33383" class="Field">Γ₀</a> <a id="H₁₃-args.y"></a><a id="33386" href="Coherence.Hypotheses.html#33386" class="Field">y</a> <a id="H₁₃-args.y′"></a><a id="33388" href="Coherence.Hypotheses.html#33388" class="Field">y′</a> <a id="H₁₃-args.t"></a><a id="33391" href="Coherence.Hypotheses.html#33391" class="Field">t</a><a id="33392" class="Symbol">}</a> <a id="33394" class="Symbol">:</a> <a id="33396" class="Symbol">_</a>
  <a id="33400" class="Keyword">field</a>
    <a id="33410" class="Comment">-- Hypotheses from [DEP-Divide]</a>
    <a id="H₁₃-args.fresh-ys"></a><a id="33446" href="Coherence.Hypotheses.html#33446" class="Field">fresh-ys</a> <a id="33455" class="Symbol">:</a> <a id="33457" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="33461" class="Symbol">(</a><a id="33462" href="Data.List.Membership.Setoid.html#945" class="Function Operator">_∉</a> <a id="33465" href="Coherence.Hypotheses.html#33381" class="Field">x</a> <a id="33467" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="33471" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="33475" href="Coherence.Hypotheses.html#33383" class="Field">Γ₀</a> <a id="33478" class="Symbol">)</a> <a id="33480" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="33482" href="Coherence.Hypotheses.html#33386" class="Field">y</a> <a id="33484" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="33486" href="Coherence.Hypotheses.html#33388" class="Field">y′</a> <a id="33489" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
  <a id="33493" class="Keyword">open</a> <a id="33498" href="Coherence.Hypotheses.html#1608" class="Module">Transition</a>
    <a id="33513" class="Symbol">(</a> <a id="33515" class="Symbol">(</a><a id="33516" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="33518" href="Coherence.Hypotheses.html#33374" class="Field">A</a> <a id="33520" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="33524" class="Symbol">(</a><a id="33525" href="Coherence.Hypotheses.html#33376" class="Field">v</a> <a id="33527" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="33529" href="Coherence.Hypotheses.html#33378" class="Field">v′</a><a id="33531" class="Symbol">)</a> <a id="33533" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="33537" href="Coherence.Hypotheses.html#33381" class="Field">x</a> <a id="33539" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="33541" href="Coherence.Hypotheses.html#33374" class="Field">A</a> <a id="33543" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="33549" href="Coherence.Hypotheses.html#33381" class="Field">x</a> <a id="33551" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">▷⟨</a> <a id="33554" href="Coherence.Hypotheses.html#33374" class="Field">A</a> <a id="33556" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="33558" href="Coherence.Hypotheses.html#33376" class="Field">v</a> <a id="33560" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="33562" href="Coherence.Hypotheses.html#33378" class="Field">v′</a> <a id="33565" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">⟩</a> <a id="33567" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="33569" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="33571" href="Coherence.Hypotheses.html#33383" class="Field">Γ₀</a><a id="33573" class="Symbol">)</a> <a id="33575" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="33577" href="Coherence.Hypotheses.html#33391" class="Field">t</a>
      <a id="33585" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">——</a> <a id="33588" href="BitML.Semantics.Label.html#662" class="InductiveConstructor Operator">divide⦅</a> <a id="33596" href="Coherence.Hypotheses.html#33381" class="Field">x</a> <a id="33598" href="BitML.Semantics.Label.html#662" class="InductiveConstructor Operator">▷</a> <a id="33600" href="Coherence.Hypotheses.html#33376" class="Field">v</a> <a id="33602" href="BitML.Semantics.Label.html#662" class="InductiveConstructor Operator">,</a> <a id="33604" href="Coherence.Hypotheses.html#33378" class="Field">v′</a> <a id="33607" href="BitML.Semantics.Label.html#662" class="InductiveConstructor Operator">⦆</a> <a id="33609" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">—→</a>
      <a id="33618" class="Symbol">(</a><a id="33619" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="33621" href="Coherence.Hypotheses.html#33374" class="Field">A</a> <a id="33623" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="33627" href="Coherence.Hypotheses.html#33376" class="Field">v</a> <a id="33629" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="33633" href="Coherence.Hypotheses.html#33386" class="Field">y</a> <a id="33635" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="33637" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="33639" href="Coherence.Hypotheses.html#33374" class="Field">A</a> <a id="33641" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="33645" href="Coherence.Hypotheses.html#33378" class="Field">v′</a> <a id="33648" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="33652" href="Coherence.Hypotheses.html#33388" class="Field">y′</a> <a id="33655" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="33657" href="Coherence.Hypotheses.html#33383" class="Field">Γ₀</a><a id="33659" class="Symbol">)</a> <a id="33661" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="33663" href="Coherence.Hypotheses.html#33391" class="Field">t</a>
    <a id="33669" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⊣</a> <a id="33671" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="33675" class="Symbol">(</a><a id="33676" href="BitML.Semantics.InferenceRules.html#1902" class="InductiveConstructor">[DEP-Divide]</a> <a id="33689" href="Coherence.Hypotheses.html#33446" class="Field">fresh-ys</a><a id="33697" class="Symbol">)</a>
    <a id="33703" class="Symbol">)</a> <a id="33705" class="Keyword">public</a> <a id="33712" class="Keyword">hiding</a> <a id="33719" class="Symbol">(</a><a id="33720" href="Coherence.Hypotheses.html#1685" class="Field">t</a><a id="33721" class="Symbol">)</a>
  <a id="33725" class="Keyword">field</a> <a id="H₁₃-args.𝕙r"></a><a id="33731" href="Coherence.Hypotheses.html#33731" class="Field">𝕙r</a> <a id="33734" class="Symbol">:</a> <a id="33736" href="Coherence.Hypotheses.html#1824" class="Record">ℍ-Run</a> <a id="33742" href="Coherence.Hypotheses.html#1795" class="Function">Γ→</a>
  <a id="33747" class="Keyword">open</a> <a id="33752" href="Coherence.Hypotheses.html#1824" class="Module">ℍ-Run</a> <a id="33758" href="Coherence.Hypotheses.html#33731" class="Field">𝕙r</a> <a id="33761" class="Keyword">public</a>

<a id="33769" class="Keyword">module</a> <a id="33776" href="Coherence.Hypotheses.html#33776" class="Module">H₁₃</a> <a id="33780" class="Symbol">(</a><a id="33781" href="Coherence.Hypotheses.html#33781" class="Bound">⋯</a> <a id="33783" class="Symbol">:</a> <a id="33785" href="Coherence.Hypotheses.html#33322" class="Record">H₁₃-args</a><a id="33793" class="Symbol">)</a> <a id="33795" class="Symbol">(</a><a id="33796" class="Keyword">open</a> <a id="33801" href="Coherence.Hypotheses.html#33322" class="Module">H₁₃-args</a> <a id="33810" href="Coherence.Hypotheses.html#33781" class="Bound">⋯</a><a id="33811" class="Symbol">)</a> <a id="33813" class="Symbol">(</a><a id="33814" href="Coherence.Hypotheses.html#33814" class="Bound">tx</a> <a id="33817" href="Coherence.Hypotheses.html#33817" class="Bound">tx′</a> <a id="33821" class="Symbol">:</a> <a id="33823" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a><a id="33831" class="Symbol">)</a> <a id="33833" class="Keyword">where</a>
  <a id="33841" href="Coherence.Hypotheses.html#33841" class="Function">λˢ</a> <a id="33844" class="Symbol">:</a> <a id="33846" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="33849" href="Coherence.Hypotheses.html#1761" class="Function">Γₜ′</a>
  <a id="33855" href="Coherence.Hypotheses.html#33841" class="Function">λˢ</a> <a id="33858" class="Symbol">=</a> <a id="33860" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="33866" href="Coherence.Hypotheses.html#2095" class="Function">𝕣</a> <a id="33868" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="33870" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="33873" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="33876" href="Coherence.Hypotheses.html#33899" class="Function">txout↝</a> <a id="33883" href="Function.Base.html#624" class="Function">id</a> <a id="33886" href="Function.Base.html#624" class="Function">id</a>
    <a id="33893" class="Keyword">where</a> <a id="33899" href="Coherence.Hypotheses.html#33899" class="Function">txout↝</a> <a id="33906" class="Symbol">:</a> <a id="33908" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="33910" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="33913" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="33919" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="33921" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
          <a id="33934" href="Coherence.Hypotheses.html#33899" class="Function">txout↝</a> <a id="33941" href="Coherence.Hypotheses.html#33941" class="Bound">txout′</a> <a id="33948" class="Symbol">=</a> <a id="33950" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="33957" href="Coherence.Hypotheses.html#33386" class="Field">y</a> <a id="33959" href="Coherence.Hypotheses.html#33814" class="Bound">tx</a> <a id="33962" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="33964" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="33971" href="Coherence.Hypotheses.html#33388" class="Field">y′</a> <a id="33974" href="Coherence.Hypotheses.html#33817" class="Bound">tx′</a> <a id="33978" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="33980" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="33989" href="Coherence.Hypotheses.html#33941" class="Bound">txout′</a> <a id="33996" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a>

<a id="34003" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[13]~_⨾_"></a><a id="34008" href="Coherence.Hypotheses.html#34008" class="Datatype Operator">_⨾_⨾_~ℍ[13]~_⨾_</a> <a id="34024" class="Symbol">:</a> <a id="34026" href="Coherence.Hypotheses.html#1468" class="Function">StepRel</a> <a id="34034" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[13]~_⨾_.mkℍ"></a><a id="34042" href="Coherence.Hypotheses.html#34042" class="InductiveConstructor">mkℍ</a> <a id="34046" class="Symbol">:</a> <a id="34048" class="Symbol">∀</a> <a id="34050" class="Symbol">{</a><a id="34051" href="Coherence.Hypotheses.html#34051" class="Bound">h</a> <a id="34053" class="Symbol">:</a> <a id="34055" href="Coherence.Hypotheses.html#33322" class="Record">H₁₃-args</a><a id="34063" class="Symbol">}</a>
    <a id="34069" class="Symbol">→</a> <a id="34071" class="Keyword">let</a>
        <a id="34083" class="Keyword">open</a> <a id="34088" href="Coherence.Hypotheses.html#33322" class="Module">H₁₃-args</a> <a id="34097" href="Coherence.Hypotheses.html#34051" class="Bound">h</a>

        <a id="34108" href="Coherence.Hypotheses.html#34108" class="Bound">n⊆</a> <a id="34111" class="Symbol">:</a> <a id="34113" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="34115" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="34118" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="34122" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="34124" href="Coherence.Hypotheses.html#1969" class="Function">Rˢ</a>
        <a id="34135" href="Coherence.Hypotheses.html#34108" class="Bound">n⊆</a> <a id="34138" class="Symbol">=</a> <a id="34140" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="34153" href="Coherence.Hypotheses.html#1969" class="Function">Rˢ</a>
           <a id="34167" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="34169" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="34184" class="Symbol">_</a> <a id="34186" class="Symbol">{</a><a id="34187" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a><a id="34188" class="Symbol">}{</a><a id="34190" href="Coherence.Hypotheses.html#1969" class="Function">Rˢ</a> <a id="34193" href="SymbolicModel.Run.Accessors.html#734" class="Function Operator">∙cfg</a><a id="34197" class="Symbol">}</a> <a id="34199" class="Symbol">(</a><a id="34200" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="34206" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="34208" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="34211" class="Symbol">.</a><a id="34212" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="34217" class="Symbol">)</a>

        <a id="34228" class="Comment">-- (iii) submit transaction T</a>
        <a id="34266" href="Coherence.Hypotheses.html#34266" class="Bound">T</a>  <a id="34269" class="Symbol">=</a> <a id="34271" class="Number">1</a> <a id="34273" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="34275" class="Number">2</a> <a id="34277" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="34279" href="Bitcoin.Tx.Crypto.html#1445" class="Function">sig⋆</a> <a id="34284" class="Symbol">(</a><a id="34285" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="34297" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="34299" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="34302" href="Coherence.Hypotheses.html#33374" class="Field">A</a> <a id="34304" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="34305" class="Symbol">)</a> <a id="34307" class="Keyword">record</a>
          <a id="34324" class="Symbol">{</a> <a id="34326" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="34334" class="Symbol">=</a> <a id="34336" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="34338" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="34346" class="Symbol">(</a><a id="34347" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="34354" class="Symbol">{</a><a id="34355" href="Coherence.Hypotheses.html#33381" class="Field">x</a><a id="34356" class="Symbol">}</a> <a id="34358" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="34360" href="Coherence.Hypotheses.html#34108" class="Bound">n⊆</a> <a id="34363" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a><a id="34364" class="Symbol">)</a> <a id="34366" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
          <a id="34378" class="Symbol">;</a> <a id="34380" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="34388" class="Symbol">=</a> <a id="34390" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
          <a id="34405" class="Symbol">;</a> <a id="34407" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="34415" class="Symbol">=</a> <a id="34417" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="34429" class="Number">0</a>
          <a id="34441" class="Symbol">;</a> <a id="34443" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="34451" class="Symbol">=</a> <a id="34453" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="34455" href="Coherence.Hypotheses.html#33376" class="Field">v</a> <a id="34457" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="34471" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="34474" href="Coherence.Hypotheses.html#33374" class="Field">A</a> <a id="34476" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="34478" href="Coherence.Hypotheses.html#33378" class="Field">v′</a> <a id="34481" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="34495" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="34498" href="Coherence.Hypotheses.html#33374" class="Field">A</a> <a id="34500" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
          <a id="34512" class="Symbol">;</a> <a id="34514" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="34522" class="Symbol">=</a> <a id="34524" class="Number">0</a> <a id="34526" class="Symbol">}</a>
        <a id="34536" href="Coherence.Hypotheses.html#34536" class="Bound">λᶜ</a> <a id="34539" class="Symbol">=</a> <a id="34541" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="34548" href="Coherence.Hypotheses.html#34266" class="Bound">T</a>

        <a id="34559" class="Comment">-- (v) extend txout′ with {y↦T₀, y′↦T₁} (removing x↦T₀),</a>
        <a id="34624" class="Comment">--     sechash = sechash′, κ = κ′</a>
        <a id="34666" class="Keyword">open</a> <a id="34671" href="Coherence.Hypotheses.html#33776" class="Module">H₁₃</a> <a id="34675" href="Coherence.Hypotheses.html#34051" class="Bound">h</a> <a id="34677" class="Symbol">(</a><a id="34678" href="Coherence.Hypotheses.html#34266" class="Bound">T</a> <a id="34680" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="34683" class="Number">0</a><a id="34684" class="Symbol">)</a> <a id="34686" class="Symbol">(</a><a id="34687" href="Coherence.Hypotheses.html#34266" class="Bound">T</a> <a id="34689" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="34692" class="Number">1</a><a id="34693" class="Symbol">)</a> <a id="34695" class="Keyword">using</a> <a id="34701" class="Symbol">(</a><a id="34702" href="Coherence.Hypotheses.html#33841" class="Function">λˢ</a><a id="34704" class="Symbol">)</a>
      <a id="34712" class="Keyword">in</a>
      <a id="34721" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="34781" href="Coherence.Hypotheses.html#2043" class="Function">Γₜ″</a> <a id="34785" href="Coherence.Hypotheses.html#34008" class="Datatype Operator">⨾</a> <a id="34787" href="Coherence.Hypotheses.html#1982" class="Function">𝕣∗</a> <a id="34790" href="Coherence.Hypotheses.html#34008" class="Datatype Operator">⨾</a> <a id="34792" class="Symbol">(</a><a id="34793" href="Coherence.Hypotheses.html#2129" class="Function">𝕒</a> <a id="34795" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="34797" href="Coherence.Hypotheses.html#33841" class="Function">λˢ</a><a id="34799" class="Symbol">)</a> <a id="34801" href="Coherence.Hypotheses.html#34008" class="Datatype Operator">~ℍ[13]~</a> <a id="34809" href="Coherence.Hypotheses.html#34536" class="Bound">λᶜ</a> <a id="34812" href="Coherence.Hypotheses.html#34008" class="Datatype Operator">⨾</a> <a id="34814" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a>

<a id="34818" class="Comment">-- ** Deposits: authorize donate (similar to [10])</a>
<a id="34869" class="Keyword">record</a> <a id="H₁₄-args"></a><a id="34876" href="Coherence.Hypotheses.html#34876" class="Record">H₁₄-args</a> <a id="34885" class="Symbol">:</a> <a id="34887" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="34892" class="Keyword">where</a>
  <a id="34900" class="Keyword">constructor</a> <a id="mk"></a><a id="34912" href="Coherence.Hypotheses.html#34912" class="InductiveConstructor">mk</a>
  <a id="34917" class="Keyword">field</a>
    <a id="34927" class="Symbol">{</a><a id="H₁₄-args.A"></a><a id="34928" href="Coherence.Hypotheses.html#34928" class="Field">A</a> <a id="H₁₄-args.v"></a><a id="34930" href="Coherence.Hypotheses.html#34930" class="Field">v</a> <a id="H₁₄-args.x"></a><a id="34932" href="Coherence.Hypotheses.html#34932" class="Field">x</a> <a id="H₁₄-args.Γ₀"></a><a id="34934" href="Coherence.Hypotheses.html#34934" class="Field">Γ₀</a> <a id="H₁₄-args.B′"></a><a id="34937" href="Coherence.Hypotheses.html#34937" class="Field">B′</a> <a id="H₁₄-args.t"></a><a id="34940" href="Coherence.Hypotheses.html#34940" class="Field">t</a><a id="34941" class="Symbol">}</a> <a id="34943" class="Symbol">:</a> <a id="34945" class="Symbol">_</a>
  <a id="34949" class="Keyword">open</a> <a id="34954" href="Coherence.Hypotheses.html#1608" class="Module">Transition</a>
    <a id="34969" class="Symbol">(</a> <a id="34971" class="Symbol">(</a><a id="34972" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="34974" href="Coherence.Hypotheses.html#34928" class="Field">A</a> <a id="34976" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="34980" href="Coherence.Hypotheses.html#34930" class="Field">v</a> <a id="34982" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="34986" href="Coherence.Hypotheses.html#34932" class="Field">x</a> <a id="34988" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="34990" href="Coherence.Hypotheses.html#34934" class="Field">Γ₀</a><a id="34992" class="Symbol">)</a> <a id="34994" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="34996" href="Coherence.Hypotheses.html#34940" class="Field">t</a>
      <a id="35004" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">——</a> <a id="35007" href="BitML.Semantics.Label.html#726" class="InductiveConstructor Operator">auth-donate⦅</a> <a id="35020" href="Coherence.Hypotheses.html#34928" class="Field">A</a> <a id="35022" href="BitML.Semantics.Label.html#726" class="InductiveConstructor Operator">,</a> <a id="35024" href="Coherence.Hypotheses.html#34932" class="Field">x</a> <a id="35026" href="BitML.Semantics.Label.html#726" class="InductiveConstructor Operator">▷ᵈ</a> <a id="35029" href="Coherence.Hypotheses.html#34937" class="Field">B′</a> <a id="35032" href="BitML.Semantics.Label.html#726" class="InductiveConstructor Operator">⦆</a> <a id="35034" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">—→</a>
      <a id="35043" class="Symbol">(</a><a id="35044" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="35046" href="Coherence.Hypotheses.html#34928" class="Field">A</a> <a id="35048" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="35052" href="Coherence.Hypotheses.html#34930" class="Field">v</a> <a id="35054" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="35058" href="Coherence.Hypotheses.html#34932" class="Field">x</a> <a id="35060" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="35062" href="Coherence.Hypotheses.html#34928" class="Field">A</a> <a id="35064" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="35070" href="Coherence.Hypotheses.html#34932" class="Field">x</a> <a id="35072" href="BitML.Semantics.Action.html#782" class="InductiveConstructor Operator">▷ᵈ</a> <a id="35075" href="Coherence.Hypotheses.html#34937" class="Field">B′</a> <a id="35078" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="35080" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="35082" href="Coherence.Hypotheses.html#34934" class="Field">Γ₀</a><a id="35084" class="Symbol">)</a> <a id="35086" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="35088" href="Coherence.Hypotheses.html#34940" class="Field">t</a>
    <a id="35094" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⊣</a> <a id="35096" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="35100" href="BitML.Semantics.InferenceRules.html#2170" class="InductiveConstructor">[DEP-AuthDonate]</a>
    <a id="35121" class="Symbol">)</a> <a id="35123" class="Keyword">public</a> <a id="35130" class="Keyword">hiding</a> <a id="35137" class="Symbol">(</a><a id="35138" href="Coherence.Hypotheses.html#1685" class="Field">t</a><a id="35139" class="Symbol">)</a>
  <a id="35143" class="Keyword">field</a> <a id="H₁₄-args.𝕙r"></a><a id="35149" href="Coherence.Hypotheses.html#35149" class="Field">𝕙r</a> <a id="35152" class="Symbol">:</a> <a id="35154" href="Coherence.Hypotheses.html#1824" class="Record">ℍ-Run</a> <a id="35160" href="Coherence.Hypotheses.html#1795" class="Function">Γ→</a>
  <a id="35165" class="Keyword">open</a> <a id="35170" href="Coherence.Hypotheses.html#1824" class="Module">ℍ-Run</a> <a id="35176" href="Coherence.Hypotheses.html#35149" class="Field">𝕙r</a> <a id="35179" class="Keyword">public</a>

<a id="35187" class="Keyword">module</a> <a id="35194" href="Coherence.Hypotheses.html#35194" class="Module">H₁₄</a> <a id="35198" class="Symbol">(</a><a id="35199" href="Coherence.Hypotheses.html#35199" class="Bound">⋯</a> <a id="35201" class="Symbol">:</a> <a id="35203" href="Coherence.Hypotheses.html#34876" class="Record">H₁₄-args</a><a id="35211" class="Symbol">)</a> <a id="35213" class="Symbol">(</a><a id="35214" class="Keyword">open</a> <a id="35219" href="Coherence.Hypotheses.html#34876" class="Module">H₁₄-args</a> <a id="35228" href="Coherence.Hypotheses.html#35199" class="Bound">⋯</a><a id="35229" class="Symbol">)</a> <a id="35231" class="Keyword">where</a>
  <a id="35239" href="Coherence.Hypotheses.html#35239" class="Function">λˢ</a> <a id="35242" class="Symbol">:</a> <a id="35244" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="35247" href="Coherence.Hypotheses.html#1761" class="Function">Γₜ′</a>
  <a id="35253" href="Coherence.Hypotheses.html#35239" class="Function">λˢ</a> <a id="35256" class="Symbol">=</a> <a id="35258" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="35264" href="Coherence.Hypotheses.html#2095" class="Function">𝕣</a> <a id="35266" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="35268" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="35271" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="35274" href="Function.Base.html#624" class="Function">id</a> <a id="35277" href="Function.Base.html#624" class="Function">id</a> <a id="35280" href="Function.Base.html#624" class="Function">id</a>

<a id="35284" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[14]~_⨾_"></a><a id="35289" href="Coherence.Hypotheses.html#35289" class="Datatype Operator">_⨾_⨾_~ℍ[14]~_⨾_</a> <a id="35305" class="Symbol">:</a> <a id="35307" href="Coherence.Hypotheses.html#1468" class="Function">StepRel</a> <a id="35315" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[14]~_⨾_.mkℍ"></a><a id="35323" href="Coherence.Hypotheses.html#35323" class="InductiveConstructor">mkℍ</a> <a id="35327" class="Symbol">:</a> <a id="35329" class="Symbol">∀</a> <a id="35331" class="Symbol">{</a><a id="35332" href="Coherence.Hypotheses.html#35332" class="Bound">h</a> <a id="35334" class="Symbol">:</a> <a id="35336" href="Coherence.Hypotheses.html#34876" class="Record">H₁₄-args</a><a id="35344" class="Symbol">}</a> <a id="35346" class="Symbol">{</a><a id="35347" href="Coherence.Hypotheses.html#35347" class="Bound">B</a><a id="35348" class="Symbol">}</a>
    <a id="35354" class="Symbol">→</a> <a id="35356" class="Keyword">let</a>
        <a id="35368" class="Keyword">open</a> <a id="35373" href="Coherence.Hypotheses.html#34876" class="Module">H₁₄-args</a> <a id="35382" href="Coherence.Hypotheses.html#35332" class="Bound">h</a>

        <a id="35393" href="Coherence.Hypotheses.html#35393" class="Bound">n⊆</a> <a id="35396" class="Symbol">:</a> <a id="35398" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="35400" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="35403" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="35407" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="35409" href="Coherence.Hypotheses.html#1969" class="Function">Rˢ</a>
        <a id="35420" href="Coherence.Hypotheses.html#35393" class="Bound">n⊆</a>  <a id="35424" class="Symbol">=</a> <a id="35426" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="35439" href="Coherence.Hypotheses.html#1969" class="Function">Rˢ</a>
            <a id="35454" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="35456" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="35471" class="Symbol">_</a> <a id="35473" class="Symbol">{</a><a id="35474" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a><a id="35475" class="Symbol">}{</a><a id="35477" href="Coherence.Hypotheses.html#1969" class="Function">Rˢ</a> <a id="35480" href="SymbolicModel.Run.Accessors.html#734" class="Function Operator">∙cfg</a><a id="35484" class="Symbol">}</a> <a id="35486" class="Symbol">(</a><a id="35487" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="35493" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="35495" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="35498" class="Symbol">.</a><a id="35499" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="35504" class="Symbol">)</a>
      <a id="35512" class="Keyword">in</a>
    <a id="35519" class="Symbol">∀</a> <a id="35521" class="Symbol">(</a><a id="35522" href="Coherence.Hypotheses.html#35522" class="Bound">∃B</a> <a id="35525" class="Symbol">:</a> <a id="35527" href="Data.Product.html#1378" class="Function">∃</a> <a id="35529" class="Symbol">λ</a> <a id="35531" href="Coherence.Hypotheses.html#35531" class="Bound">B</a> <a id="35533" class="Symbol">→</a> <a id="35535" href="Data.Product.html#1378" class="Function">∃</a> <a id="35537" class="Symbol">λ</a> <a id="35539" class="Symbol">(</a><a id="35540" href="Coherence.Hypotheses.html#35540" class="Bound">T</a> <a id="35542" class="Symbol">:</a> <a id="35544" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="35547" class="Number">1</a> <a id="35549" class="Number">1</a><a id="35550" class="Symbol">)</a> <a id="35552" class="Symbol">→</a>
         <a id="35563" class="Symbol">(</a><a id="35564" href="Coherence.Hypotheses.html#35531" class="Bound">B</a> <a id="35566" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="35570" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="35577" href="Coherence.Hypotheses.html#35540" class="Bound">T</a> <a id="35579" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="35581" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="35588" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a><a id="35590" class="Symbol">)</a>
       <a id="35599" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="35601" class="Symbol">(</a><a id="35602" href="Coherence.Hypotheses.html#35540" class="Bound">T</a> <a id="35604" class="Symbol">.</a><a id="35605" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="35613" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="35615" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="35617" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="35625" class="Symbol">(</a><a id="35626" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="35633" class="Symbol">{</a><a id="35634" href="Coherence.Hypotheses.html#34932" class="Function">x</a><a id="35635" class="Symbol">}</a> <a id="35637" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="35639" href="Coherence.Hypotheses.html#35393" class="Bound">n⊆</a> <a id="35642" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a><a id="35643" class="Symbol">)</a> <a id="35645" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="35646" class="Symbol">)</a>
       <a id="35655" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="35657" class="Symbol">(</a><a id="35658" href="Coherence.Hypotheses.html#35540" class="Bound">T</a> <a id="35660" class="Symbol">.</a><a id="35661" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="35669" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="35671" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="35673" href="Coherence.Hypotheses.html#34930" class="Function">v</a> <a id="35675" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="35689" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="35692" href="Coherence.Hypotheses.html#34937" class="Function">B′</a> <a id="35695" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="35696" class="Symbol">))</a>
    <a id="35703" class="Symbol">→</a> <a id="35705" class="Keyword">let</a>
        <a id="35717" class="Comment">-- (iii) broadcast transaction T, signed by A</a>
        <a id="35771" class="Symbol">_</a> <a id="35773" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="35775" href="Coherence.Hypotheses.html#35775" class="Bound">T</a> <a id="35777" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="35779" href="Coherence.Hypotheses.html#35779" class="Bound">B∈</a> <a id="35782" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="35784" class="Symbol">_</a> <a id="35786" class="Symbol">=</a> <a id="35788" href="Coherence.Hypotheses.html#35522" class="Bound">∃B</a>
        <a id="35799" href="Coherence.Hypotheses.html#35799" class="Bound">m′</a> <a id="35802" class="Symbol">=</a> <a id="35804" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="35808" class="Symbol">(</a><a id="35809" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="35812" href="Coherence.Hypotheses.html#34928" class="Function">A</a><a id="35813" class="Symbol">)</a> <a id="35815" class="Symbol">(</a><a id="35816" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a> <a id="35820" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="35822" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="35825" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="35828" href="Coherence.Hypotheses.html#35775" class="Bound">T</a><a id="35829" class="Symbol">)</a>
        <a id="35839" href="Coherence.Hypotheses.html#35839" class="Bound">λᶜ</a> <a id="35842" class="Symbol">=</a> <a id="35844" href="Coherence.Hypotheses.html#35347" class="Bound">B</a> <a id="35846" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="35850" href="Coherence.Hypotheses.html#35799" class="Bound">m′</a>

        <a id="35862" class="Comment">-- (v) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="35920" class="Keyword">open</a> <a id="35925" href="Coherence.Hypotheses.html#35194" class="Module">H₁₄</a> <a id="35929" href="Coherence.Hypotheses.html#35332" class="Bound">h</a> <a id="35931" class="Keyword">using</a> <a id="35937" class="Symbol">(</a><a id="35938" href="Coherence.Hypotheses.html#35239" class="Function">λˢ</a><a id="35940" class="Symbol">)</a>
      <a id="35948" class="Keyword">in</a>

    <a id="35956" class="Comment">-- (iv) λᶜ is the first broadcast of m′ in Rᶜ after the first broadcast of T</a>
    <a id="36037" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="36039" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="36043" class="Symbol">(λ</a> <a id="36046" href="Coherence.Hypotheses.html#36046" class="Bound">l</a> <a id="36048" class="Symbol">→</a> <a id="36050" class="Symbol">∀</a> <a id="36052" href="Coherence.Hypotheses.html#36052" class="Bound">B</a> <a id="36054" class="Symbol">→</a> <a id="36056" href="Coherence.Hypotheses.html#36046" class="Bound">l</a> <a id="36058" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="36060" href="Coherence.Hypotheses.html#36052" class="Bound">B</a> <a id="36062" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="36066" href="Coherence.Hypotheses.html#35799" class="Bound">m′</a><a id="36068" class="Symbol">)</a> <a id="36070" class="Symbol">(</a><a id="36071" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="36081" href="Coherence.Hypotheses.html#35779" class="Bound">B∈</a><a id="36083" class="Symbol">)</a>

      <a id="36092" href="Prelude.InferenceRules.html#12447" class="Function Operator">──────────────────────────────────────────────────────────</a>
      <a id="36157" href="Coherence.Hypotheses.html#2043" class="Function">Γₜ″</a> <a id="36161" href="Coherence.Hypotheses.html#35289" class="Datatype Operator">⨾</a> <a id="36163" href="Coherence.Hypotheses.html#1982" class="Function">𝕣∗</a> <a id="36166" href="Coherence.Hypotheses.html#35289" class="Datatype Operator">⨾</a> <a id="36168" class="Symbol">(</a><a id="36169" href="Coherence.Hypotheses.html#2129" class="Function">𝕒</a> <a id="36171" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="36173" href="Coherence.Hypotheses.html#35239" class="Function">λˢ</a><a id="36175" class="Symbol">)</a> <a id="36177" href="Coherence.Hypotheses.html#35289" class="Datatype Operator">~ℍ[14]~</a> <a id="36185" href="Coherence.Hypotheses.html#35839" class="Bound">λᶜ</a> <a id="36188" href="Coherence.Hypotheses.html#35289" class="Datatype Operator">⨾</a> <a id="36190" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a>

<a id="36194" class="Comment">-- ** Deposits: donate (similar to [11])</a>
<a id="36235" class="Keyword">record</a> <a id="H₁₅-args"></a><a id="36242" href="Coherence.Hypotheses.html#36242" class="Record">H₁₅-args</a> <a id="36251" class="Symbol">:</a> <a id="36253" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="36258" class="Keyword">where</a>
  <a id="36266" class="Keyword">constructor</a> <a id="mk"></a><a id="36278" href="Coherence.Hypotheses.html#36278" class="InductiveConstructor">mk</a>
  <a id="36283" class="Keyword">field</a>
    <a id="36293" class="Symbol">{</a><a id="H₁₅-args.A"></a><a id="36294" href="Coherence.Hypotheses.html#36294" class="Field">A</a> <a id="H₁₅-args.v"></a><a id="36296" href="Coherence.Hypotheses.html#36296" class="Field">v</a> <a id="H₁₅-args.x"></a><a id="36298" href="Coherence.Hypotheses.html#36298" class="Field">x</a> <a id="H₁₅-args.B′"></a><a id="36300" href="Coherence.Hypotheses.html#36300" class="Field">B′</a> <a id="H₁₅-args.Γ₀"></a><a id="36303" href="Coherence.Hypotheses.html#36303" class="Field">Γ₀</a> <a id="H₁₅-args.y"></a><a id="36306" href="Coherence.Hypotheses.html#36306" class="Field">y</a> <a id="H₁₅-args.t"></a><a id="36308" href="Coherence.Hypotheses.html#36308" class="Field">t</a><a id="36309" class="Symbol">}</a> <a id="36311" class="Symbol">:</a> <a id="36313" class="Symbol">_</a>
  <a id="36317" class="Keyword">field</a>
    <a id="36327" class="Comment">-- Hypotheses from [DEP-Donate]</a>
    <a id="H₁₅-args.fresh-y"></a><a id="36363" href="Coherence.Hypotheses.html#36363" class="Field">fresh-y</a> <a id="36371" class="Symbol">:</a> <a id="36373" href="Coherence.Hypotheses.html#36306" class="Field">y</a> <a id="36375" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="36377" href="Coherence.Hypotheses.html#36298" class="Field">x</a> <a id="36379" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="36383" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="36387" href="Coherence.Hypotheses.html#36303" class="Field">Γ₀</a>
  <a id="36392" class="Keyword">open</a> <a id="36397" href="Coherence.Hypotheses.html#1608" class="Module">Transition</a>
    <a id="36412" class="Symbol">(</a> <a id="36414" class="Symbol">(</a><a id="36415" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="36417" href="Coherence.Hypotheses.html#36294" class="Field">A</a> <a id="36419" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="36423" href="Coherence.Hypotheses.html#36296" class="Field">v</a> <a id="36425" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="36429" href="Coherence.Hypotheses.html#36298" class="Field">x</a> <a id="36431" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="36433" href="Coherence.Hypotheses.html#36294" class="Field">A</a> <a id="36435" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="36441" href="Coherence.Hypotheses.html#36298" class="Field">x</a> <a id="36443" href="BitML.Semantics.Action.html#782" class="InductiveConstructor Operator">▷ᵈ</a> <a id="36446" href="Coherence.Hypotheses.html#36300" class="Field">B′</a> <a id="36449" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="36451" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="36453" href="Coherence.Hypotheses.html#36303" class="Field">Γ₀</a><a id="36455" class="Symbol">)</a> <a id="36457" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="36459" href="Coherence.Hypotheses.html#36308" class="Field">t</a>
      <a id="36467" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">——</a> <a id="36470" href="BitML.Semantics.Label.html#798" class="InductiveConstructor Operator">donate⦅</a> <a id="36478" href="Coherence.Hypotheses.html#36298" class="Field">x</a> <a id="36480" href="BitML.Semantics.Label.html#798" class="InductiveConstructor Operator">▷ᵈ</a> <a id="36483" href="Coherence.Hypotheses.html#36300" class="Field">B′</a> <a id="36486" href="BitML.Semantics.Label.html#798" class="InductiveConstructor Operator">⦆</a> <a id="36488" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">—→</a>
      <a id="36497" class="Symbol">(</a><a id="36498" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="36500" href="Coherence.Hypotheses.html#36300" class="Field">B′</a> <a id="36503" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="36507" href="Coherence.Hypotheses.html#36296" class="Field">v</a> <a id="36509" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="36513" href="Coherence.Hypotheses.html#36306" class="Field">y</a> <a id="36515" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="36517" href="Coherence.Hypotheses.html#36303" class="Field">Γ₀</a><a id="36519" class="Symbol">)</a> <a id="36521" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="36523" href="Coherence.Hypotheses.html#36308" class="Field">t</a>
    <a id="36529" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⊣</a> <a id="36531" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="36535" class="Symbol">(</a><a id="36536" href="BitML.Semantics.InferenceRules.html#2342" class="InductiveConstructor">[DEP-Donate]</a> <a id="36549" href="Coherence.Hypotheses.html#36363" class="Field">fresh-y</a><a id="36556" class="Symbol">)</a>
    <a id="36562" class="Symbol">)</a> <a id="36564" class="Keyword">public</a> <a id="36571" class="Keyword">hiding</a> <a id="36578" class="Symbol">(</a><a id="36579" href="Coherence.Hypotheses.html#1685" class="Field">t</a><a id="36580" class="Symbol">)</a>
  <a id="36584" class="Keyword">field</a> <a id="H₁₅-args.𝕙r"></a><a id="36590" href="Coherence.Hypotheses.html#36590" class="Field">𝕙r</a> <a id="36593" class="Symbol">:</a> <a id="36595" href="Coherence.Hypotheses.html#1824" class="Record">ℍ-Run</a> <a id="36601" href="Coherence.Hypotheses.html#1795" class="Function">Γ→</a>
  <a id="36606" class="Keyword">open</a> <a id="36611" href="Coherence.Hypotheses.html#1824" class="Module">ℍ-Run</a> <a id="36617" href="Coherence.Hypotheses.html#36590" class="Field">𝕙r</a> <a id="36620" class="Keyword">public</a>

<a id="36628" class="Keyword">module</a> <a id="36635" href="Coherence.Hypotheses.html#36635" class="Module">H₁₅</a> <a id="36639" class="Symbol">(</a><a id="36640" href="Coherence.Hypotheses.html#36640" class="Bound">⋯</a> <a id="36642" class="Symbol">:</a> <a id="36644" href="Coherence.Hypotheses.html#36242" class="Record">H₁₅-args</a><a id="36652" class="Symbol">)</a> <a id="36654" class="Symbol">(</a><a id="36655" class="Keyword">open</a> <a id="36660" href="Coherence.Hypotheses.html#36242" class="Module">H₁₅-args</a> <a id="36669" href="Coherence.Hypotheses.html#36640" class="Bound">⋯</a><a id="36670" class="Symbol">)</a> <a id="36672" class="Symbol">(</a><a id="36673" href="Coherence.Hypotheses.html#36673" class="Bound">tx</a> <a id="36676" class="Symbol">:</a> <a id="36678" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a><a id="36686" class="Symbol">)</a> <a id="36688" class="Keyword">where</a>
  <a id="36696" href="Coherence.Hypotheses.html#36696" class="Function">λˢ</a> <a id="36699" class="Symbol">:</a> <a id="36701" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="36704" href="Coherence.Hypotheses.html#1761" class="Function">Γₜ′</a>
  <a id="36710" href="Coherence.Hypotheses.html#36696" class="Function">λˢ</a> <a id="36713" class="Symbol">=</a> <a id="36715" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="36721" href="Coherence.Hypotheses.html#2095" class="Function">𝕣</a> <a id="36723" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="36725" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="36728" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="36731" href="Coherence.Hypotheses.html#36754" class="Function">txout↝</a> <a id="36738" href="Function.Base.html#624" class="Function">id</a> <a id="36741" href="Function.Base.html#624" class="Function">id</a>
    <a id="36748" class="Keyword">where</a> <a id="36754" href="Coherence.Hypotheses.html#36754" class="Function">txout↝</a> <a id="36761" class="Symbol">:</a> <a id="36763" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="36765" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="36768" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="36774" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="36776" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
          <a id="36789" href="Coherence.Hypotheses.html#36754" class="Function">txout↝</a> <a id="36796" href="Coherence.Hypotheses.html#36796" class="Bound">txout′</a> <a id="36803" class="Symbol">=</a> <a id="36805" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="36812" href="Coherence.Hypotheses.html#36306" class="Field">y</a> <a id="36814" href="Coherence.Hypotheses.html#36673" class="Bound">tx</a> <a id="36817" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="36819" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="36828" href="Coherence.Hypotheses.html#36796" class="Bound">txout′</a> <a id="36835" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a>

<a id="36842" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[15]~_⨾_"></a><a id="36847" href="Coherence.Hypotheses.html#36847" class="Datatype Operator">_⨾_⨾_~ℍ[15]~_⨾_</a> <a id="36863" class="Symbol">:</a> <a id="36865" href="Coherence.Hypotheses.html#1468" class="Function">StepRel</a> <a id="36873" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[15]~_⨾_.mkℍ"></a><a id="36881" href="Coherence.Hypotheses.html#36881" class="InductiveConstructor">mkℍ</a> <a id="36885" class="Symbol">:</a> <a id="36887" class="Symbol">∀</a> <a id="36889" class="Symbol">{</a><a id="36890" href="Coherence.Hypotheses.html#36890" class="Bound">h</a> <a id="36892" class="Symbol">:</a> <a id="36894" href="Coherence.Hypotheses.html#36242" class="Record">H₁₅-args</a><a id="36902" class="Symbol">}</a>
    <a id="36908" class="Symbol">→</a> <a id="36910" class="Keyword">let</a>
        <a id="36922" class="Keyword">open</a> <a id="36927" href="Coherence.Hypotheses.html#36242" class="Module">H₁₅-args</a> <a id="36936" href="Coherence.Hypotheses.html#36890" class="Bound">h</a>

        <a id="36947" href="Coherence.Hypotheses.html#36947" class="Bound">n⊆</a> <a id="36950" class="Symbol">:</a> <a id="36952" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="36954" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="36957" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="36961" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="36963" href="Coherence.Hypotheses.html#1969" class="Function">Rˢ</a>
        <a id="36974" href="Coherence.Hypotheses.html#36947" class="Bound">n⊆</a>  <a id="36978" class="Symbol">=</a> <a id="36980" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="36993" href="Coherence.Hypotheses.html#1969" class="Function">Rˢ</a>
            <a id="37008" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="37010" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="37025" class="Symbol">_</a> <a id="37027" class="Symbol">{</a><a id="37028" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a><a id="37029" class="Symbol">}{</a><a id="37031" href="Coherence.Hypotheses.html#1969" class="Function">Rˢ</a> <a id="37034" href="SymbolicModel.Run.Accessors.html#734" class="Function Operator">∙cfg</a><a id="37038" class="Symbol">}</a> <a id="37040" class="Symbol">(</a><a id="37041" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="37047" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="37049" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="37052" class="Symbol">.</a><a id="37053" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="37058" class="Symbol">)</a>

        <a id="37069" class="Comment">-- (iii) submit transaction T</a>
        <a id="37107" href="Coherence.Hypotheses.html#37107" class="Bound">T</a>  <a id="37110" class="Symbol">=</a> <a id="37112" class="Number">1</a> <a id="37114" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="37116" class="Number">1</a> <a id="37118" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="37120" href="Bitcoin.Tx.Crypto.html#1445" class="Function">sig⋆</a> <a id="37125" class="Symbol">(</a><a id="37126" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="37138" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="37140" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="37143" href="Coherence.Hypotheses.html#36294" class="Field">A</a> <a id="37145" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="37146" class="Symbol">)</a> <a id="37148" class="Keyword">record</a>
          <a id="37165" class="Symbol">{</a> <a id="37167" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="37175" class="Symbol">=</a> <a id="37177" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="37179" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="37187" class="Symbol">(</a><a id="37188" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="37195" class="Symbol">{</a><a id="37196" href="Coherence.Hypotheses.html#36298" class="Field">x</a><a id="37197" class="Symbol">}</a> <a id="37199" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="37201" href="Coherence.Hypotheses.html#36947" class="Bound">n⊆</a> <a id="37204" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a><a id="37205" class="Symbol">)</a> <a id="37207" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
          <a id="37219" class="Symbol">;</a> <a id="37221" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="37229" class="Symbol">=</a> <a id="37231" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
          <a id="37246" class="Symbol">;</a> <a id="37248" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="37256" class="Symbol">=</a> <a id="37258" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="37270" class="Number">0</a>
          <a id="37282" class="Symbol">;</a> <a id="37284" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="37292" class="Symbol">=</a> <a id="37294" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="37296" href="Coherence.Hypotheses.html#36296" class="Field">v</a> <a id="37298" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="37312" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="37315" href="Coherence.Hypotheses.html#36300" class="Field">B′</a> <a id="37318" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
          <a id="37330" class="Symbol">;</a> <a id="37332" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="37340" class="Symbol">=</a> <a id="37342" class="Number">0</a> <a id="37344" class="Symbol">}</a>
        <a id="37354" href="Coherence.Hypotheses.html#37354" class="Bound">λᶜ</a> <a id="37357" class="Symbol">=</a> <a id="37359" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="37366" href="Coherence.Hypotheses.html#37107" class="Bound">T</a>

        <a id="37377" class="Comment">-- (v) extend txout′ with y↦T₀ (removing x↦T₀), sechash = sechash′, κ = κ′</a>
        <a id="37460" class="Keyword">open</a> <a id="37465" href="Coherence.Hypotheses.html#36635" class="Module">H₁₅</a> <a id="37469" href="Coherence.Hypotheses.html#36890" class="Bound">h</a> <a id="37471" class="Symbol">(</a><a id="37472" href="Coherence.Hypotheses.html#37107" class="Bound">T</a> <a id="37474" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="37477" class="Number">0</a><a id="37478" class="Symbol">)</a> <a id="37480" class="Keyword">using</a> <a id="37486" class="Symbol">(</a><a id="37487" href="Coherence.Hypotheses.html#36696" class="Function">λˢ</a><a id="37489" class="Symbol">)</a>
      <a id="37497" class="Keyword">in</a>
      <a id="37506" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="37566" href="Coherence.Hypotheses.html#2043" class="Function">Γₜ″</a> <a id="37570" href="Coherence.Hypotheses.html#36847" class="Datatype Operator">⨾</a> <a id="37572" href="Coherence.Hypotheses.html#1982" class="Function">𝕣∗</a> <a id="37575" href="Coherence.Hypotheses.html#36847" class="Datatype Operator">⨾</a> <a id="37577" class="Symbol">(</a><a id="37578" href="Coherence.Hypotheses.html#2129" class="Function">𝕒</a> <a id="37580" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="37582" href="Coherence.Hypotheses.html#36696" class="Function">λˢ</a><a id="37584" class="Symbol">)</a> <a id="37586" href="Coherence.Hypotheses.html#36847" class="Datatype Operator">~ℍ[15]~</a> <a id="37594" href="Coherence.Hypotheses.html#37354" class="Bound">λᶜ</a> <a id="37597" href="Coherence.Hypotheses.html#36847" class="Datatype Operator">⨾</a> <a id="37599" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a>

<a id="37603" class="Comment">-- ** Deposits: authorize destroy</a>
<a id="37637" class="Keyword">record</a> <a id="H₁₆-args"></a><a id="37644" href="Coherence.Hypotheses.html#37644" class="Record">H₁₆-args</a> <a id="37653" class="Symbol">:</a> <a id="37655" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="37660" class="Keyword">where</a>
  <a id="37668" class="Keyword">constructor</a> <a id="mk"></a><a id="37680" href="Coherence.Hypotheses.html#37680" class="InductiveConstructor">mk</a>
  <a id="37685" class="Keyword">field</a>
    <a id="37695" class="Symbol">{</a><a id="H₁₆-args.y"></a><a id="37696" href="Coherence.Hypotheses.html#37696" class="Field">y</a> <a id="H₁₆-args.Γ₀"></a><a id="37698" href="Coherence.Hypotheses.html#37698" class="Field">Γ₀</a> <a id="H₁₆-args.t"></a><a id="37701" href="Coherence.Hypotheses.html#37701" class="Field">t</a><a id="37702" class="Symbol">}</a> <a id="37704" class="Symbol">:</a> <a id="37706" class="Symbol">_</a>
    <a id="37712" class="Symbol">{</a><a id="H₁₆-args.ds"></a><a id="37713" href="Coherence.Hypotheses.html#37713" class="Field">ds</a><a id="37715" class="Symbol">}</a> <a id="37717" class="Symbol">:</a> <a id="37719" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a>
    <a id="H₁₆-args.j"></a><a id="37735" href="Coherence.Hypotheses.html#37735" class="Field">j</a> <a id="37737" class="Symbol">:</a> <a id="37739" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="37745" href="Coherence.Hypotheses.html#37713" class="Field">ds</a>
    <a id="37752" class="Comment">-- Hypotheses from [DEP-AuthDestroy]</a>
    <a id="H₁₆-args.fresh-y"></a><a id="37793" href="Coherence.Hypotheses.html#37793" class="Field">fresh-y</a> <a id="37801" class="Symbol">:</a> <a id="37803" href="Coherence.Hypotheses.html#37696" class="Field">y</a> <a id="37805" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="37807" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="37811" href="Coherence.Hypotheses.html#37698" class="Field">Γ₀</a>
  <a id="H₁₆-args.k"></a><a id="37816" href="Coherence.Hypotheses.html#37816" class="Function">k</a>  <a id="37819" class="Symbol">=</a> <a id="37821" href="Data.List.Base.html#4873" class="Function">length</a> <a id="37828" href="Coherence.Hypotheses.html#37713" class="Field">ds</a>
  <a id="H₁₆-args.A"></a><a id="37833" href="Coherence.Hypotheses.html#37833" class="Function">A</a>  <a id="37836" class="Symbol">=</a> <a id="37838" class="Symbol">(</a><a id="37839" href="Coherence.Hypotheses.html#37713" class="Field">ds</a> <a id="37842" href="Prelude.Lists.Indexed.html#650" class="Function Operator">‼</a> <a id="37844" href="Coherence.Hypotheses.html#37735" class="Field">j</a><a id="37845" class="Symbol">)</a> <a id="37847" class="Symbol">.</a><a id="37848" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₁₆-args.xs"></a><a id="37856" href="Coherence.Hypotheses.html#37856" class="Function">xs</a> <a id="37859" class="Symbol">=</a> <a id="37861" href="Data.List.Base.html#1553" class="Function">map</a> <a id="37865" class="Symbol">(</a><a id="37866" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="37872" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="37874" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="37879" class="Symbol">)</a> <a id="37881" href="Coherence.Hypotheses.html#37713" class="Field">ds</a>
  <a id="H₁₆-args.Δ"></a><a id="37886" href="Coherence.Hypotheses.html#37886" class="Function">Δ</a>  <a id="37889" class="Symbol">=</a> <a id="37891" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="37894" href="Data.List.Base.html#1553" class="Function">map</a> <a id="37898" class="Symbol">(</a><a id="37899" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="37908" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨_has_⟩at_</a><a id="37918" class="Symbol">)</a> <a id="37920" href="Coherence.Hypotheses.html#37713" class="Field">ds</a>
  <a id="H₁₆-args.j′"></a><a id="37925" href="Coherence.Hypotheses.html#37925" class="Function">j′</a> <a id="37928" class="Symbol">=</a> <a id="37930" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="37936" href="Coherence.Hypotheses.html#37856" class="Function">xs</a> <a id="37939" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="37941" href="Prelude.Lists.Indexed.html#9518" class="Function">‼-map</a> <a id="37947" class="Symbol">{</a><a id="37948" class="Argument">xs</a> <a id="37951" class="Symbol">=</a> <a id="37953" href="Coherence.Hypotheses.html#37713" class="Field">ds</a><a id="37955" class="Symbol">}</a> <a id="37957" href="Coherence.Hypotheses.html#37735" class="Field">j</a>
  <a id="37961" class="Keyword">open</a> <a id="37966" href="Coherence.Hypotheses.html#1608" class="Module">Transition</a>
    <a id="37981" class="Symbol">(</a> <a id="37983" class="Symbol">(</a><a id="37984" href="Coherence.Hypotheses.html#37886" class="Function">Δ</a> <a id="37986" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="37988" href="Coherence.Hypotheses.html#37698" class="Field">Γ₀</a><a id="37990" class="Symbol">)</a> <a id="37992" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="37994" href="Coherence.Hypotheses.html#37701" class="Field">t</a>
      <a id="38002" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">——</a> <a id="38005" href="BitML.Semantics.Label.html#856" class="InductiveConstructor Operator">auth-destroy⦅</a> <a id="38019" href="Coherence.Hypotheses.html#37833" class="Function">A</a> <a id="38021" href="BitML.Semantics.Label.html#856" class="InductiveConstructor Operator">,</a> <a id="38023" href="Coherence.Hypotheses.html#37856" class="Function">xs</a> <a id="38026" href="BitML.Semantics.Label.html#856" class="InductiveConstructor Operator">,</a> <a id="38028" href="Coherence.Hypotheses.html#37925" class="Function">j′</a> <a id="38031" href="BitML.Semantics.Label.html#856" class="InductiveConstructor Operator">⦆</a> <a id="38033" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">—→</a>
      <a id="38042" class="Symbol">(</a><a id="38043" href="Coherence.Hypotheses.html#37886" class="Function">Δ</a> <a id="38045" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="38047" href="Coherence.Hypotheses.html#37833" class="Function">A</a> <a id="38049" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="38055" href="Coherence.Hypotheses.html#37856" class="Function">xs</a> <a id="38058" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="38060" href="Coherence.Hypotheses.html#37925" class="Function">j′</a> <a id="38063" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="38067" href="Coherence.Hypotheses.html#37696" class="Field">y</a> <a id="38069" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="38071" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="38073" href="Coherence.Hypotheses.html#37698" class="Field">Γ₀</a><a id="38075" class="Symbol">)</a> <a id="38077" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="38079" href="Coherence.Hypotheses.html#37701" class="Field">t</a>
    <a id="38085" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⊣</a> <a id="38087" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="38091" class="Symbol">(</a><a id="38092" href="BitML.Semantics.InferenceRules.html#2530" class="InductiveConstructor">[DEP-AuthDestroy]</a> <a id="38110" href="Coherence.Hypotheses.html#37793" class="Field">fresh-y</a><a id="38117" class="Symbol">)</a>
    <a id="38123" class="Symbol">)</a> <a id="38125" class="Keyword">public</a> <a id="38132" class="Keyword">hiding</a> <a id="38139" class="Symbol">(</a><a id="38140" href="Coherence.Hypotheses.html#1685" class="Field">t</a><a id="38141" class="Symbol">)</a>
  <a id="38145" class="Keyword">field</a> <a id="H₁₆-args.𝕙r"></a><a id="38151" href="Coherence.Hypotheses.html#38151" class="Field">𝕙r</a> <a id="38154" class="Symbol">:</a> <a id="38156" href="Coherence.Hypotheses.html#1824" class="Record">ℍ-Run</a> <a id="38162" href="Coherence.Hypotheses.html#1795" class="Function">Γ→</a>
  <a id="38167" class="Keyword">open</a> <a id="38172" href="Coherence.Hypotheses.html#1824" class="Module">ℍ-Run</a> <a id="38178" href="Coherence.Hypotheses.html#38151" class="Field">𝕙r</a> <a id="38181" class="Keyword">public</a>

<a id="38189" class="Keyword">module</a> <a id="38196" href="Coherence.Hypotheses.html#38196" class="Module">H₁₆</a> <a id="38200" class="Symbol">(</a><a id="38201" href="Coherence.Hypotheses.html#38201" class="Bound">⋯</a> <a id="38203" class="Symbol">:</a> <a id="38205" href="Coherence.Hypotheses.html#37644" class="Record">H₁₆-args</a><a id="38213" class="Symbol">)</a> <a id="38215" class="Symbol">(</a><a id="38216" class="Keyword">open</a> <a id="38221" href="Coherence.Hypotheses.html#37644" class="Module">H₁₆-args</a> <a id="38230" href="Coherence.Hypotheses.html#38201" class="Bound">⋯</a><a id="38231" class="Symbol">)</a> <a id="38233" class="Keyword">where</a>
  <a id="38241" class="Comment">-- ** name resolution</a>
  <a id="38265" class="Keyword">abstract</a>
    <a id="38278" href="Coherence.Hypotheses.html#38278" class="Function">xs↦</a> <a id="38282" class="Symbol">:</a> <a id="38284" href="Coherence.Hypotheses.html#37856" class="Function">xs</a> <a id="38287" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="38289" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
    <a id="38302" href="Coherence.Hypotheses.html#38278" class="Function">xs↦</a> <a id="38306" class="Symbol">=</a> <a id="38308" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="38315" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="38317" href="Coherence.Hypotheses.html#38339" class="Function">xs⊆</a>
      <a id="38327" class="Keyword">where</a>
      <a id="38339" href="Coherence.Hypotheses.html#38339" class="Function">xs⊆</a> <a id="38343" class="Symbol">:</a> <a id="38345" href="Coherence.Hypotheses.html#37856" class="Function">xs</a> <a id="38348" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="38350" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="38354" href="Coherence.Hypotheses.html#2265" class="Function">R</a>
      <a id="38362" href="Coherence.Hypotheses.html#38339" class="Function">xs⊆</a> <a id="38366" class="Symbol">=</a> <a id="38368" href="Relation.Binary.Reasoning.Base.Double.html#2222" class="Function Operator">begin</a>
        <a id="38382" href="Coherence.Hypotheses.html#37856" class="Function">xs</a>           <a id="38395" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="38398" href="BitML.Semantics.Configurations.Helpers.html#16204" class="Function">namesʳ-∥map-authDestroy</a> <a id="38422" href="Coherence.Hypotheses.html#37713" class="Field">ds</a> <a id="38425" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="38435" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="38439" href="Coherence.Hypotheses.html#37886" class="Function">Δ</a>        <a id="38448" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="38451" href="Prelude.Lists.MapMaybe.html#9263" class="Function">mapMaybe-⊆</a> <a id="38462" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="38469" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="38471" href="BitML.Semantics.Configurations.Helpers.html#7992" class="Function">∈-collect-++⁺ˡ</a> <a id="38486" href="Coherence.Hypotheses.html#37886" class="Function">Δ</a> <a id="38488" href="Coherence.Hypotheses.html#37698" class="Field">Γ₀</a> <a id="38491" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="38501" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="38505" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a>        <a id="38514" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="38517" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="38532" class="Symbol">_</a> <a id="38534" class="Symbol">{</a><a id="38535" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a><a id="38536" class="Symbol">}{</a><a id="38538" href="Coherence.Hypotheses.html#2265" class="Function">R</a> <a id="38540" href="SymbolicModel.Run.Accessors.html#734" class="Function Operator">∙cfg</a><a id="38544" class="Symbol">}</a> <a id="38546" class="Symbol">(</a><a id="38547" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="38553" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="38555" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="38561" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a><a id="38563" class="Symbol">)</a> <a id="38565" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="38575" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="38579" class="Symbol">(</a><a id="38580" href="Coherence.Hypotheses.html#2265" class="Function">R</a> <a id="38582" class="Symbol">.</a><a id="38583" href="Prelude.Traces.html#568" class="Field">end</a><a id="38586" class="Symbol">)</a> <a id="38588" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="38591" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="38604" href="Coherence.Hypotheses.html#2265" class="Function">R</a> <a id="38606" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="38616" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="38620" href="Coherence.Hypotheses.html#2265" class="Function">R</a>        <a id="38629" href="Relation.Binary.Reasoning.Base.Double.html#3656" class="Function Operator">∎</a> <a id="38631" class="Keyword">where</a> <a id="38637" class="Keyword">open</a> <a id="38642" href="Data.List.Relation.Binary.Subset.Propositional.Properties.html#3760" class="Module">⊆-Reasoning</a> <a id="38654" href="BitML.BasicTypes.html#303" class="Function">Secret</a>
  <a id="38663" class="Comment">--</a>
  <a id="38668" href="Coherence.Hypotheses.html#38668" class="Function">names≡</a> <a id="38675" class="Symbol">:</a> <a id="38677" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="38680" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="38683" href="BitML.Contracts.Collections.html#4018" class="Function">names</a> <a id="38689" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="38691" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a>
  <a id="38695" href="Coherence.Hypotheses.html#38668" class="Function">names≡</a> <a id="38702" class="Keyword">rewrite</a> <a id="38710" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="38729" class="Symbol">{</a><a id="38730" class="Argument">X</a> <a id="38732" class="Symbol">=</a> <a id="38734" href="BitML.BasicTypes.html#375" class="Function">Name</a><a id="38738" class="Symbol">}</a> <a id="38740" class="Symbol">(</a><a id="38741" href="Coherence.Hypotheses.html#37886" class="Function">Δ</a> <a id="38743" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="38745" href="Coherence.Hypotheses.html#37833" class="Function">A</a> <a id="38747" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="38753" href="Coherence.Hypotheses.html#37856" class="Function">xs</a> <a id="38756" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="38758" href="Coherence.Hypotheses.html#37925" class="Function">j′</a> <a id="38761" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="38765" href="Coherence.Hypotheses.html#37696" class="Field">y</a> <a id="38767" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="38768" class="Symbol">)</a> <a id="38770" href="Coherence.Hypotheses.html#37698" class="Field">Γ₀</a>
              <a id="38787" class="Symbol">|</a> <a id="38789" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="38808" class="Symbol">{</a><a id="38809" class="Argument">X</a> <a id="38811" class="Symbol">=</a> <a id="38813" href="BitML.BasicTypes.html#375" class="Function">Name</a><a id="38817" class="Symbol">}</a> <a id="38819" href="Coherence.Hypotheses.html#37886" class="Function">Δ</a> <a id="38821" class="Symbol">(</a><a id="38822" href="Coherence.Hypotheses.html#37833" class="Function">A</a> <a id="38824" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="38830" href="Coherence.Hypotheses.html#37856" class="Function">xs</a> <a id="38833" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="38835" href="Coherence.Hypotheses.html#37925" class="Function">j′</a> <a id="38838" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="38842" href="Coherence.Hypotheses.html#37696" class="Field">y</a> <a id="38844" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="38845" class="Symbol">)</a>
              <a id="38861" class="Symbol">|</a> <a id="38863" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="38878" class="Symbol">(</a><a id="38879" href="BitML.Contracts.Collections.html#4018" class="Function">names</a> <a id="38885" href="Coherence.Hypotheses.html#37886" class="Function">Δ</a><a id="38886" class="Symbol">)</a>
              <a id="38902" class="Symbol">=</a> <a id="38904" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="38908" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="38910" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="38929" class="Symbol">{</a><a id="38930" class="Argument">X</a> <a id="38932" class="Symbol">=</a> <a id="38934" href="BitML.BasicTypes.html#375" class="Function">Name</a><a id="38938" class="Symbol">}</a> <a id="38940" href="Coherence.Hypotheses.html#37886" class="Function">Δ</a> <a id="38942" href="Coherence.Hypotheses.html#37698" class="Field">Γ₀</a>

  <a id="38948" href="Coherence.Hypotheses.html#38948" class="Function">ids≡</a> <a id="38953" class="Symbol">:</a>  <a id="38956" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="38959" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="38962" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="38966" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="38968" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a>
  <a id="38972" href="Coherence.Hypotheses.html#38948" class="Function">ids≡</a> <a id="38977" class="Symbol">=</a> <a id="38979" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="38984" href="Prelude.Lists.Core.html#2266" class="Function">filter₂</a> <a id="38992" href="Coherence.Hypotheses.html#38668" class="Function">names≡</a>

  <a id="39002" href="Coherence.Hypotheses.html#39002" class="Function">secrets≡</a> <a id="39011" class="Symbol">:</a> <a id="39013" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="39016" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="39019" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="39027" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="39029" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a>
  <a id="39033" href="Coherence.Hypotheses.html#39002" class="Function">secrets≡</a> <a id="39042" class="Symbol">=</a> <a id="39044" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="39049" href="Prelude.Lists.Core.html#2207" class="Function">filter₁</a> <a id="39057" href="Coherence.Hypotheses.html#38668" class="Function">names≡</a>

  <a id="39067" href="Coherence.Hypotheses.html#39067" class="Function">ads≡</a> <a id="39072" class="Symbol">:</a> <a id="39074" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="39077" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="39080" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="39095" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="39097" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a>
  <a id="39101" href="Coherence.Hypotheses.html#39067" class="Function">ads≡</a> <a id="39106" class="Keyword">rewrite</a> <a id="39114" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="39133" class="Symbol">{</a><a id="39134" class="Argument">X</a> <a id="39136" class="Symbol">=</a> <a id="39138" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="39140" class="Symbol">}</a> <a id="39142" class="Symbol">(</a><a id="39143" href="Coherence.Hypotheses.html#37886" class="Function">Δ</a> <a id="39145" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="39147" href="Coherence.Hypotheses.html#37833" class="Function">A</a> <a id="39149" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="39155" href="Coherence.Hypotheses.html#37856" class="Function">xs</a> <a id="39158" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="39160" href="Coherence.Hypotheses.html#37925" class="Function">j′</a> <a id="39163" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="39167" href="Coherence.Hypotheses.html#37696" class="Field">y</a> <a id="39169" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="39170" class="Symbol">)</a> <a id="39172" href="Coherence.Hypotheses.html#37698" class="Field">Γ₀</a>
            <a id="39187" class="Symbol">|</a> <a id="39189" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="39208" class="Symbol">{</a><a id="39209" class="Argument">X</a> <a id="39211" class="Symbol">=</a> <a id="39213" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="39215" class="Symbol">}</a> <a id="39217" href="Coherence.Hypotheses.html#37886" class="Function">Δ</a> <a id="39219" class="Symbol">(</a><a id="39220" href="Coherence.Hypotheses.html#37833" class="Function">A</a> <a id="39222" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="39228" href="Coherence.Hypotheses.html#37856" class="Function">xs</a> <a id="39231" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="39233" href="Coherence.Hypotheses.html#37925" class="Function">j′</a> <a id="39236" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="39240" href="Coherence.Hypotheses.html#37696" class="Field">y</a> <a id="39242" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="39243" class="Symbol">)</a>
            <a id="39257" class="Symbol">|</a> <a id="39259" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="39274" class="Symbol">(</a><a id="39275" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="39290" href="Coherence.Hypotheses.html#37886" class="Function">Δ</a><a id="39291" class="Symbol">)</a>
            <a id="39305" class="Symbol">=</a> <a id="39307" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="39311" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="39313" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="39332" class="Symbol">{</a><a id="39333" class="Argument">X</a> <a id="39335" class="Symbol">=</a> <a id="39337" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="39339" class="Symbol">}</a> <a id="39341" href="Coherence.Hypotheses.html#37886" class="Function">Δ</a> <a id="39343" href="Coherence.Hypotheses.html#37698" class="Field">Γ₀</a>

  <a id="39349" href="Coherence.Hypotheses.html#39349" class="Function">txout↝</a> <a id="39356" class="Symbol">:</a> <a id="39358" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="39360" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="39363" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="39369" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="39371" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
  <a id="39376" href="Coherence.Hypotheses.html#39349" class="Function">txout↝</a> <a id="39383" class="Symbol">=</a> <a id="39385" href="SymbolicModel.Mappings.html#3670" class="Function Operator">lift</a> <a id="39390" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="39392" href="SymbolicModel.Mappings.html#3670" class="Function Operator">—⟨</a> <a id="39395" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="39399" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⟩—</a> <a id="39402" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="39405" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⊣</a> <a id="39407" href="Coherence.Hypotheses.html#38948" class="Function">ids≡</a>

  <a id="39415" href="Coherence.Hypotheses.html#39415" class="Function">sechash↝</a> <a id="39424" class="Symbol">:</a> <a id="39426" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="39428" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="39431" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="39439" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="39441" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
  <a id="39446" href="Coherence.Hypotheses.html#39415" class="Function">sechash↝</a>  <a id="39456" class="Symbol">=</a> <a id="39458" href="SymbolicModel.Mappings.html#3670" class="Function Operator">lift</a> <a id="39463" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="39465" href="SymbolicModel.Mappings.html#3670" class="Function Operator">—⟨</a> <a id="39468" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="39476" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⟩—</a> <a id="39479" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="39482" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⊣</a> <a id="39484" href="Coherence.Hypotheses.html#39002" class="Function">secrets≡</a>

  <a id="39496" href="Coherence.Hypotheses.html#39496" class="Function">κ↝</a> <a id="39499" class="Symbol">:</a> <a id="39501" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="39503" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="39506" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="39509" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="39511" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
  <a id="39516" href="Coherence.Hypotheses.html#39496" class="Function">κ↝</a> <a id="39519" class="Symbol">=</a> <a id="39521" href="SymbolicModel.Mappings.html#3670" class="Function Operator">lift</a> <a id="39526" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="39528" href="SymbolicModel.Mappings.html#3670" class="Function Operator">—⟨</a> <a id="39531" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="39546" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⟩—</a> <a id="39549" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="39552" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⊣</a> <a id="39554" href="Coherence.Hypotheses.html#39067" class="Function">ads≡</a>

  <a id="39562" href="Coherence.Hypotheses.html#39562" class="Function">λˢ</a> <a id="39565" class="Symbol">:</a> <a id="39567" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="39570" href="Coherence.Hypotheses.html#1761" class="Function">Γₜ′</a>
  <a id="39576" href="Coherence.Hypotheses.html#39562" class="Function">λˢ</a> <a id="39579" class="Symbol">=</a> <a id="39581" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="39587" href="Coherence.Hypotheses.html#2095" class="Function">𝕣</a> <a id="39589" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="39591" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="39594" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="39597" href="Coherence.Hypotheses.html#39349" class="Function">txout↝</a> <a id="39604" href="Coherence.Hypotheses.html#39415" class="Function">sechash↝</a> <a id="39613" href="Coherence.Hypotheses.html#39496" class="Function">κ↝</a>

<a id="39617" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[16]~_⨾_"></a><a id="39622" href="Coherence.Hypotheses.html#39622" class="Datatype Operator">_⨾_⨾_~ℍ[16]~_⨾_</a> <a id="39638" class="Symbol">:</a> <a id="39640" href="Coherence.Hypotheses.html#1468" class="Function">StepRel</a> <a id="39648" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[16]~_⨾_.mkℍ"></a><a id="39656" href="Coherence.Hypotheses.html#39656" class="InductiveConstructor">mkℍ</a> <a id="39660" class="Symbol">:</a> <a id="39662" class="Symbol">∀</a> <a id="39664" class="Symbol">{</a><a id="39665" href="Coherence.Hypotheses.html#39665" class="Bound">h</a> <a id="39667" class="Symbol">:</a> <a id="39669" href="Coherence.Hypotheses.html#37644" class="Record">H₁₆-args</a><a id="39677" class="Symbol">}</a> <a id="39679" class="Symbol">{</a><a id="39680" href="Coherence.Hypotheses.html#39680" class="Bound">B</a><a id="39681" class="Symbol">}</a>
    <a id="39687" class="Symbol">→</a> <a id="39689" class="Keyword">let</a>
        <a id="39701" class="Comment">-- (ii) in Rˢ we find ⟨Bᵢ,vᵢ⟩yᵢ for i ∈ 1..k</a>
        <a id="39754" class="Keyword">open</a> <a id="39759" href="Coherence.Hypotheses.html#37644" class="Module">H₁₆-args</a> <a id="39768" href="Coherence.Hypotheses.html#39665" class="Bound">h</a>

        <a id="39779" class="Comment">-- (vii) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="39839" class="Keyword">open</a> <a id="39844" href="Coherence.Hypotheses.html#38196" class="Module">H₁₆</a> <a id="39848" href="Coherence.Hypotheses.html#39665" class="Bound">h</a> <a id="39850" class="Keyword">using</a> <a id="39856" class="Symbol">(</a><a id="39857" href="Coherence.Hypotheses.html#39562" class="Function">λˢ</a><a id="39859" class="Symbol">;</a> <a id="39861" href="Coherence.Hypotheses.html#38278" class="Function">xs↦</a><a id="39864" class="Symbol">)</a>
      <a id="39872" class="Keyword">in</a>
      <a id="39881" class="Comment">-- (iii) in Rᶜ we find B → ∗ ∶ T</a>
      <a id="39920" class="Comment">--       for some T having txout′(yᵢ) as inputs (+ possibly others)</a>
    <a id="39992" class="Symbol">∀</a> <a id="39994" class="Symbol">(</a><a id="39995" href="Coherence.Hypotheses.html#39995" class="Bound">∃B</a> <a id="39998" class="Symbol">:</a> <a id="40000" href="Data.Product.html#1378" class="Function">∃</a> <a id="40002" class="Symbol">λ</a> <a id="40004" href="Coherence.Hypotheses.html#40004" class="Bound">B</a> <a id="40006" class="Symbol">→</a> <a id="40008" href="Data.Product.html#1378" class="Function">∃</a> <a id="40010" class="Symbol">λ</a> <a id="40012" href="Coherence.Hypotheses.html#40012" class="Bound">T</a>  <a id="40015" class="Symbol">→</a>
         <a id="40026" class="Symbol">(</a><a id="40027" href="Coherence.Hypotheses.html#40004" class="Bound">B</a> <a id="40029" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="40033" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="40040" class="Symbol">(</a><a id="40041" href="Coherence.Hypotheses.html#40012" class="Bound">T</a> <a id="40043" class="Symbol">.</a><a id="40044" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="40050" class="Symbol">.</a><a id="40051" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="40056" class="Symbol">)</a> <a id="40058" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="40060" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="40067" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a><a id="40069" class="Symbol">)</a>
       <a id="40078" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="40080" class="Symbol">((</a><a id="40082" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="40090" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="40094" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="40100" href="Coherence.Hypotheses.html#38278" class="Function">xs↦</a><a id="40103" class="Symbol">)</a> <a id="40105" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="40107" href="Data.Vec.Base.html#7447" class="Function">V.toList</a> <a id="40116" class="Symbol">(</a><a id="40117" href="Bitcoin.Tx.Base.html#1401" class="Function">∃inputs</a> <a id="40125" href="Coherence.Hypotheses.html#40012" class="Bound">T</a><a id="40126" class="Symbol">)))</a>
    <a id="40134" class="Symbol">→</a> <a id="40136" class="Keyword">let</a>
        <a id="40148" class="Comment">-- (iv) broadcast transaction T, signed by A</a>
        <a id="40201" class="Symbol">_</a> <a id="40203" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="40205" href="Coherence.Hypotheses.html#40205" class="Bound">T</a> <a id="40207" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="40209" href="Coherence.Hypotheses.html#40209" class="Bound">B∈</a> <a id="40212" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="40214" class="Symbol">_</a> <a id="40216" class="Symbol">=</a> <a id="40218" href="Coherence.Hypotheses.html#39995" class="Bound">∃B</a>
        <a id="40229" href="Coherence.Hypotheses.html#40229" class="Bound">m</a>  <a id="40232" class="Symbol">=</a> <a id="40234" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="40238" class="Symbol">(</a><a id="40239" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="40242" href="Coherence.Hypotheses.html#37833" class="Function">A</a><a id="40243" class="Symbol">)</a> <a id="40245" href="Coherence.Hypotheses.html#40205" class="Bound">T</a>
        <a id="40255" href="Coherence.Hypotheses.html#40255" class="Bound">λᶜ</a> <a id="40258" class="Symbol">=</a> <a id="40260" href="Coherence.Hypotheses.html#39680" class="Bound">B</a> <a id="40262" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="40266" href="Coherence.Hypotheses.html#40229" class="Bound">m</a>
      <a id="40274" class="Keyword">in</a>

      <a id="40284" class="Comment">-- (v) λᶜ is the first broadcast of m in Rᶜ after the first broadcast of T</a>
    <a id="40363" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="40365" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="40369" class="Symbol">(λ</a> <a id="40372" href="Coherence.Hypotheses.html#40372" class="Bound">l</a> <a id="40374" class="Symbol">→</a> <a id="40376" class="Symbol">∀</a> <a id="40378" href="Coherence.Hypotheses.html#40378" class="Bound">B</a> <a id="40380" class="Symbol">→</a> <a id="40382" href="Coherence.Hypotheses.html#40372" class="Bound">l</a> <a id="40384" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="40386" href="Coherence.Hypotheses.html#40378" class="Bound">B</a> <a id="40388" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="40392" href="Coherence.Hypotheses.html#40229" class="Bound">m</a><a id="40393" class="Symbol">)</a> <a id="40395" class="Symbol">(</a><a id="40396" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="40406" href="Coherence.Hypotheses.html#40209" class="Bound">B∈</a><a id="40408" class="Symbol">)</a>

    <a id="40415" class="Comment">-- (vi) λᶜ does not correspond to any *other* symbolic move</a>
    <a id="40479" class="Comment">-- ∙ (∀ Γₜ′ (λˢ′ : 𝕃 Rˢ Γₜ′)</a>
    <a id="40512" class="Comment">--   → λˢ′ .proj₁ .proj₁ ≢ λˢ .proj₁ .proj₁</a>
    <a id="40560" class="Comment">--   → (Γₜ′ ∷ 𝕣∗ ⊣ λˢ′ ✓) ≁₁₁ (λᶜ ∷ Rᶜ ✓))</a>

      <a id="40610" href="Prelude.InferenceRules.html#12810" class="Function Operator">────────────────────────────────────────────────────</a>
      <a id="40669" href="Coherence.Hypotheses.html#2043" class="Function">Γₜ″</a> <a id="40673" href="Coherence.Hypotheses.html#39622" class="Datatype Operator">⨾</a> <a id="40675" href="Coherence.Hypotheses.html#1982" class="Function">𝕣∗</a> <a id="40678" href="Coherence.Hypotheses.html#39622" class="Datatype Operator">⨾</a> <a id="40680" class="Symbol">(</a><a id="40681" href="Coherence.Hypotheses.html#2129" class="Function">𝕒</a> <a id="40683" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="40685" href="Coherence.Hypotheses.html#39562" class="Function">λˢ</a><a id="40687" class="Symbol">)</a> <a id="40689" href="Coherence.Hypotheses.html#39622" class="Datatype Operator">~ℍ[16]~</a> <a id="40697" href="Coherence.Hypotheses.html#40255" class="Bound">λᶜ</a> <a id="40700" href="Coherence.Hypotheses.html#39622" class="Datatype Operator">⨾</a> <a id="40702" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a>

<a id="40706" class="Comment">-- ** Deposits: destroy</a>
<a id="40730" class="Keyword">record</a> <a id="H₁₇-args"></a><a id="40737" href="Coherence.Hypotheses.html#40737" class="Record">H₁₇-args</a> <a id="40746" class="Symbol">:</a> <a id="40748" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="40753" class="Keyword">where</a>
  <a id="40761" class="Keyword">constructor</a> <a id="mk"></a><a id="40773" href="Coherence.Hypotheses.html#40773" class="InductiveConstructor">mk</a>
  <a id="40778" class="Keyword">field</a>
    <a id="40788" class="Symbol">{</a><a id="H₁₇-args.Γ₀"></a><a id="40789" href="Coherence.Hypotheses.html#40789" class="Field">Γ₀</a> <a id="H₁₇-args.y"></a><a id="40792" href="Coherence.Hypotheses.html#40792" class="Field">y</a> <a id="H₁₇-args.t"></a><a id="40794" href="Coherence.Hypotheses.html#40794" class="Field">t</a><a id="40795" class="Symbol">}</a> <a id="40797" class="Symbol">:</a> <a id="40799" class="Symbol">_</a>
    <a id="40805" class="Symbol">{</a><a id="H₁₇-args.ds"></a><a id="40806" href="Coherence.Hypotheses.html#40806" class="Field">ds</a><a id="40808" class="Symbol">}</a> <a id="40810" class="Symbol">:</a> <a id="40812" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a>
  <a id="H₁₇-args.xs"></a><a id="40826" href="Coherence.Hypotheses.html#40826" class="Function">xs</a> <a id="40829" class="Symbol">=</a> <a id="40831" href="Data.List.Base.html#1553" class="Function">map</a> <a id="40835" class="Symbol">(</a><a id="40836" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="40842" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="40844" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="40849" class="Symbol">)</a> <a id="40851" href="Coherence.Hypotheses.html#40806" class="Field">ds</a>
  <a id="H₁₇-args.Δ"></a><a id="40856" href="Coherence.Hypotheses.html#40856" class="Function">Δ</a>  <a id="40859" class="Symbol">=</a> <a id="40861" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="40864" href="Function.Base.html#1563" class="Function">flip</a> <a id="40869" href="Data.List.Base.html#1553" class="Function">map</a> <a id="40873" class="Symbol">(</a><a id="40874" href="Prelude.Lists.Indexed.html#1568" class="Function">enumerate</a> <a id="40884" href="Coherence.Hypotheses.html#40806" class="Field">ds</a><a id="40886" class="Symbol">)</a> <a id="40888" class="Symbol">(λ{</a> <a id="40892" class="Symbol">(</a><a id="40893" href="Coherence.Hypotheses.html#40893" class="Bound">i</a> <a id="40895" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="40897" href="Coherence.Hypotheses.html#40897" class="Bound">Aᵢ</a> <a id="40900" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="40902" href="Coherence.Hypotheses.html#40902" class="Bound">vᵢ</a> <a id="40905" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="40907" href="Coherence.Hypotheses.html#40907" class="Bound">xᵢ</a><a id="40909" class="Symbol">)</a> <a id="40911" class="Symbol">→</a>
          <a id="40923" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="40925" href="Coherence.Hypotheses.html#40897" class="Bound">Aᵢ</a> <a id="40928" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="40932" href="Coherence.Hypotheses.html#40902" class="Bound">vᵢ</a> <a id="40935" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="40939" href="Coherence.Hypotheses.html#40907" class="Bound">xᵢ</a> <a id="40942" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="40944" href="Coherence.Hypotheses.html#40897" class="Bound">Aᵢ</a> <a id="40947" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="40953" href="Coherence.Hypotheses.html#40826" class="Function">xs</a> <a id="40956" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="40958" href="Prelude.Lists.Indexed.html#9518" class="Function">‼-map</a> <a id="40964" class="Symbol">{</a><a id="40965" class="Argument">xs</a> <a id="40968" class="Symbol">=</a> <a id="40970" href="Coherence.Hypotheses.html#40806" class="Field">ds</a><a id="40972" class="Symbol">}</a> <a id="40974" href="Coherence.Hypotheses.html#40893" class="Bound">i</a> <a id="40976" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="40980" href="Coherence.Hypotheses.html#40792" class="Field">y</a> <a id="40982" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="40984" class="Symbol">})</a>
  <a id="40989" class="Keyword">open</a> <a id="40994" href="Coherence.Hypotheses.html#1608" class="Module">Transition</a>
    <a id="41009" class="Symbol">(</a> <a id="41011" class="Symbol">(</a><a id="41012" href="Coherence.Hypotheses.html#40856" class="Function">Δ</a> <a id="41014" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="41016" href="Coherence.Hypotheses.html#40789" class="Field">Γ₀</a><a id="41018" class="Symbol">)</a> <a id="41020" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="41022" href="Coherence.Hypotheses.html#40794" class="Field">t</a>
      <a id="41030" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">——</a> <a id="41033" href="BitML.Semantics.Label.html#933" class="InductiveConstructor Operator">destroy⦅</a> <a id="41042" href="Coherence.Hypotheses.html#40826" class="Function">xs</a> <a id="41045" href="BitML.Semantics.Label.html#933" class="InductiveConstructor Operator">⦆</a> <a id="41047" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">—→</a>
      <a id="41056" href="Coherence.Hypotheses.html#40789" class="Field">Γ₀</a> <a id="41059" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="41061" href="Coherence.Hypotheses.html#40794" class="Field">t</a>
    <a id="41067" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⊣</a> <a id="41069" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="41073" href="BitML.Semantics.InferenceRules.html#2960" class="InductiveConstructor">[DEP-Destroy]</a>
    <a id="41091" class="Symbol">)</a> <a id="41093" class="Keyword">public</a> <a id="41100" class="Keyword">hiding</a> <a id="41107" class="Symbol">(</a><a id="41108" href="Coherence.Hypotheses.html#1685" class="Field">t</a><a id="41109" class="Symbol">)</a>
  <a id="41113" class="Keyword">field</a> <a id="H₁₇-args.𝕙r"></a><a id="41119" href="Coherence.Hypotheses.html#41119" class="Field">𝕙r</a> <a id="41122" class="Symbol">:</a> <a id="41124" href="Coherence.Hypotheses.html#1824" class="Record">ℍ-Run</a> <a id="41130" href="Coherence.Hypotheses.html#1795" class="Function">Γ→</a>
  <a id="41135" class="Keyword">open</a> <a id="41140" href="Coherence.Hypotheses.html#1824" class="Module">ℍ-Run</a> <a id="41146" href="Coherence.Hypotheses.html#41119" class="Field">𝕙r</a> <a id="41149" class="Keyword">public</a>

<a id="41157" class="Keyword">module</a> <a id="41164" href="Coherence.Hypotheses.html#41164" class="Module">H₁₇</a> <a id="41168" class="Symbol">(</a><a id="41169" href="Coherence.Hypotheses.html#41169" class="Bound">⋯</a> <a id="41171" class="Symbol">:</a> <a id="41173" href="Coherence.Hypotheses.html#40737" class="Record">H₁₇-args</a><a id="41181" class="Symbol">)</a> <a id="41183" class="Symbol">(</a><a id="41184" class="Keyword">open</a> <a id="41189" href="Coherence.Hypotheses.html#40737" class="Module">H₁₇-args</a> <a id="41198" href="Coherence.Hypotheses.html#41169" class="Bound">⋯</a><a id="41199" class="Symbol">)</a> <a id="41201" class="Keyword">where</a>
  <a id="41209" class="Comment">-- ** name resolution</a>
  <a id="41233" class="Keyword">abstract</a>
    <a id="41246" href="Coherence.Hypotheses.html#41246" class="Function">xs↦</a> <a id="41250" class="Symbol">:</a> <a id="41252" href="Coherence.Hypotheses.html#40826" class="Function">xs</a> <a id="41255" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="41257" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
    <a id="41270" href="Coherence.Hypotheses.html#41246" class="Function">xs↦</a> <a id="41274" class="Symbol">=</a> <a id="41276" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="41283" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="41285" href="Coherence.Hypotheses.html#41307" class="Function">xs⊆</a>
      <a id="41295" class="Keyword">where</a>
      <a id="41307" href="Coherence.Hypotheses.html#41307" class="Function">xs⊆</a> <a id="41311" class="Symbol">:</a> <a id="41313" href="Coherence.Hypotheses.html#40826" class="Function">xs</a> <a id="41316" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="41318" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="41322" href="Coherence.Hypotheses.html#2265" class="Function">R</a>
      <a id="41330" href="Coherence.Hypotheses.html#41307" class="Function">xs⊆</a> <a id="41334" class="Symbol">=</a> <a id="41336" href="Relation.Binary.Reasoning.Base.Double.html#2222" class="Function Operator">begin</a>
        <a id="41350" href="Coherence.Hypotheses.html#40826" class="Function">xs</a>           <a id="41363" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="41366" href="BitML.Semantics.Configurations.Helpers.html#17967" class="Function">namesʳ-∥map-destroy</a> <a id="41386" href="Coherence.Hypotheses.html#40806" class="Field">ds</a> <a id="41389" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="41399" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="41403" href="Coherence.Hypotheses.html#40856" class="Function">Δ</a>        <a id="41412" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="41415" href="Prelude.Lists.MapMaybe.html#9263" class="Function">mapMaybe-⊆</a> <a id="41426" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="41433" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="41435" href="BitML.Semantics.Configurations.Helpers.html#7992" class="Function">∈-collect-++⁺ˡ</a> <a id="41450" href="Coherence.Hypotheses.html#40856" class="Function">Δ</a> <a id="41452" href="Coherence.Hypotheses.html#40789" class="Field">Γ₀</a> <a id="41455" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="41465" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="41469" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a>        <a id="41478" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="41481" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="41496" class="Symbol">_</a> <a id="41498" class="Symbol">{</a><a id="41499" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a><a id="41500" class="Symbol">}{</a><a id="41502" href="Coherence.Hypotheses.html#2265" class="Function">R</a> <a id="41504" href="SymbolicModel.Run.Accessors.html#734" class="Function Operator">∙cfg</a><a id="41508" class="Symbol">}</a> <a id="41510" class="Symbol">(</a><a id="41511" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="41517" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="41519" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="41525" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a><a id="41527" class="Symbol">)</a> <a id="41529" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="41539" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="41543" class="Symbol">(</a><a id="41544" href="Coherence.Hypotheses.html#2265" class="Function">R</a> <a id="41546" class="Symbol">.</a><a id="41547" href="Prelude.Traces.html#568" class="Field">end</a><a id="41550" class="Symbol">)</a> <a id="41552" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="41555" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="41568" href="Coherence.Hypotheses.html#2265" class="Function">R</a> <a id="41570" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="41580" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="41584" href="Coherence.Hypotheses.html#2265" class="Function">R</a>        <a id="41593" href="Relation.Binary.Reasoning.Base.Double.html#3656" class="Function Operator">∎</a> <a id="41595" class="Keyword">where</a> <a id="41601" class="Keyword">open</a> <a id="41606" href="Data.List.Relation.Binary.Subset.Propositional.Properties.html#3760" class="Module">⊆-Reasoning</a> <a id="41618" href="BitML.BasicTypes.html#303" class="Function">Secret</a>
  <a id="41627" class="Comment">--</a>
  <a id="41632" href="Coherence.Hypotheses.html#41632" class="Function">secrets≡</a> <a id="41641" class="Symbol">:</a> <a id="41643" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="41651" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="41653" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="41655" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="41663" href="Coherence.Hypotheses.html#40856" class="Function">Δ</a> <a id="41665" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="41668" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="41676" href="Coherence.Hypotheses.html#40789" class="Field">Γ₀</a>
  <a id="41681" href="Coherence.Hypotheses.html#41632" class="Function">secrets≡</a> <a id="41690" class="Symbol">=</a> <a id="41692" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="41720" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="41727" href="Coherence.Hypotheses.html#40856" class="Function">Δ</a> <a id="41729" href="Coherence.Hypotheses.html#40789" class="Field">Γ₀</a>

  <a id="41735" href="Coherence.Hypotheses.html#41735" class="Function">ids≡</a> <a id="41740" class="Symbol">:</a> <a id="41742" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="41746" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="41748" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="41750" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="41754" href="Coherence.Hypotheses.html#40856" class="Function">Δ</a> <a id="41756" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="41759" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="41763" href="Coherence.Hypotheses.html#40789" class="Field">Γ₀</a>
  <a id="41768" href="Coherence.Hypotheses.html#41735" class="Function">ids≡</a> <a id="41773" class="Symbol">=</a> <a id="41775" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="41803" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="41810" href="Coherence.Hypotheses.html#40856" class="Function">Δ</a> <a id="41812" href="Coherence.Hypotheses.html#40789" class="Field">Γ₀</a>

  <a id="41818" href="Coherence.Hypotheses.html#41818" class="Function">txout↝</a> <a id="41825" class="Symbol">:</a> <a id="41827" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="41829" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="41832" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="41838" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="41840" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
  <a id="41845" href="Coherence.Hypotheses.html#41818" class="Function">txout↝</a> <a id="41852" href="Coherence.Hypotheses.html#41852" class="Bound">txout′</a> <a id="41859" class="Keyword">rewrite</a> <a id="41867" href="Coherence.Hypotheses.html#41735" class="Function">ids≡</a> <a id="41872" class="Symbol">=</a> <a id="41874" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="41883" href="Coherence.Hypotheses.html#41852" class="Bound">txout′</a> <a id="41890" class="Symbol">(</a><a id="41891" href="Data.List.Membership.Propositional.Properties.html#4054" class="Function">∈-++⁺ʳ</a> <a id="41898" class="Symbol">_)</a>

  <a id="41904" href="Coherence.Hypotheses.html#41904" class="Function">sechash↝</a> <a id="41913" class="Symbol">:</a> <a id="41915" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="41917" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="41920" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="41928" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="41930" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
  <a id="41935" href="Coherence.Hypotheses.html#41904" class="Function">sechash↝</a> <a id="41944" href="Coherence.Hypotheses.html#41944" class="Bound">sechash′</a> <a id="41953" class="Keyword">rewrite</a> <a id="41961" href="Coherence.Hypotheses.html#41632" class="Function">secrets≡</a> <a id="41970" class="Symbol">=</a> <a id="41972" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="41981" href="Coherence.Hypotheses.html#41944" class="Bound">sechash′</a> <a id="41990" class="Symbol">(</a><a id="41991" href="Data.List.Membership.Propositional.Properties.html#4054" class="Function">∈-++⁺ʳ</a> <a id="41998" class="Symbol">_)</a>

  <a id="42004" href="Coherence.Hypotheses.html#42004" class="Function">κ↝</a> <a id="42007" class="Symbol">:</a> <a id="42009" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="42011" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="42014" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="42017" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="42019" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a>
  <a id="42024" href="Coherence.Hypotheses.html#42004" class="Function">κ↝</a> <a id="42027" href="Coherence.Hypotheses.html#42027" class="Bound">κ′</a> <a id="42030" class="Symbol">=</a> <a id="42032" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="42041" href="Coherence.Hypotheses.html#42027" class="Bound">κ′</a> <a id="42044" class="Symbol">(</a><a id="42045" href="BitML.Semantics.Configurations.Helpers.html#8196" class="Function">∈-collect-++⁺ʳ</a> <a id="42060" href="Coherence.Hypotheses.html#40856" class="Function">Δ</a> <a id="42062" href="Coherence.Hypotheses.html#40789" class="Field">Γ₀</a><a id="42064" class="Symbol">)</a>

  <a id="42069" href="Coherence.Hypotheses.html#42069" class="Function">λˢ</a> <a id="42072" class="Symbol">:</a> <a id="42074" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="42077" href="Coherence.Hypotheses.html#1761" class="Function">Γₜ′</a>
  <a id="42083" href="Coherence.Hypotheses.html#42069" class="Function">λˢ</a> <a id="42086" class="Symbol">=</a> <a id="42088" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="42094" href="Coherence.Hypotheses.html#2095" class="Function">𝕣</a> <a id="42096" href="Coherence.Hypotheses.html#1672" class="Function">Γ</a> <a id="42098" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="42101" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="42104" href="Coherence.Hypotheses.html#41818" class="Function">txout↝</a> <a id="42111" href="Coherence.Hypotheses.html#41904" class="Function">sechash↝</a> <a id="42120" href="Coherence.Hypotheses.html#42004" class="Function">κ↝</a>

<a id="42124" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[17]~_⨾_"></a><a id="42129" href="Coherence.Hypotheses.html#42129" class="Datatype Operator">_⨾_⨾_~ℍ[17]~_⨾_</a> <a id="42145" class="Symbol">:</a> <a id="42147" href="Coherence.Hypotheses.html#1468" class="Function">StepRel</a> <a id="42155" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[17]~_⨾_.mkℍ"></a><a id="42163" href="Coherence.Hypotheses.html#42163" class="InductiveConstructor">mkℍ</a> <a id="42167" class="Symbol">:</a> <a id="42169" class="Symbol">∀</a> <a id="42171" class="Symbol">{</a><a id="42172" href="Coherence.Hypotheses.html#42172" class="Bound">h</a> <a id="42174" class="Symbol">:</a> <a id="42176" href="Coherence.Hypotheses.html#40737" class="Record">H₁₇-args</a><a id="42184" class="Symbol">}</a>
    <a id="42190" class="Symbol">→</a> <a id="42192" class="Keyword">let</a>
        <a id="42204" class="Comment">-- (ii) in Rˢ, α assumes ⟨Aᵢ,vᵢ⟩xᵢ to obtain 0</a>
        <a id="42259" class="Keyword">open</a> <a id="42264" href="Coherence.Hypotheses.html#40737" class="Module">H₁₇-args</a> <a id="42273" href="Coherence.Hypotheses.html#42172" class="Bound">h</a>

        <a id="42284" class="Comment">-- (v) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="42342" class="Comment">-- remove {⋯ xᵢ ↦ (Tᵢ,j) ⋯} from txout′</a>
        <a id="42390" class="Keyword">open</a> <a id="42395" href="Coherence.Hypotheses.html#41164" class="Module">H₁₇</a> <a id="42399" href="Coherence.Hypotheses.html#42172" class="Bound">h</a> <a id="42401" class="Keyword">using</a> <a id="42407" class="Symbol">(</a><a id="42408" href="Coherence.Hypotheses.html#42069" class="Function">λˢ</a><a id="42410" class="Symbol">;</a> <a id="42412" href="Coherence.Hypotheses.html#41246" class="Function">xs↦</a><a id="42415" class="Symbol">)</a>
      <a id="42423" class="Keyword">in</a>
    <a id="42430" class="Symbol">∀</a> <a id="42432" class="Symbol">{</a><a id="42433" href="Coherence.Hypotheses.html#42433" class="Bound">i</a> <a id="42435" href="Coherence.Hypotheses.html#42435" class="Bound">o</a><a id="42436" class="Symbol">}</a>
      <a id="42444" class="Symbol">(</a><a id="42445" href="Coherence.Hypotheses.html#42445" class="Bound">T</a>    <a id="42450" class="Symbol">:</a> <a id="42452" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="42455" href="Coherence.Hypotheses.html#42433" class="Bound">i</a> <a id="42457" href="Coherence.Hypotheses.html#42435" class="Bound">o</a><a id="42458" class="Symbol">)</a>
      <a id="42466" class="Symbol">(</a><a id="42467" href="Coherence.Hypotheses.html#42467" class="Bound">ins⊆</a> <a id="42472" class="Symbol">:</a> <a id="42474" class="Symbol">(</a><a id="42475" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="42483" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="42487" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="42493" href="Coherence.Hypotheses.html#41246" class="Function">xs↦</a><a id="42496" class="Symbol">)</a> <a id="42498" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="42500" href="Data.Vec.Base.html#7447" class="Function">V.toList</a> <a id="42509" class="Symbol">(</a><a id="42510" href="Coherence.Hypotheses.html#42445" class="Bound">T</a> <a id="42512" class="Symbol">.</a><a id="42513" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a><a id="42519" class="Symbol">))</a>
    <a id="42526" class="Symbol">→</a> <a id="42528" class="Keyword">let</a>
        <a id="42540" class="Comment">-- (iii) submit transaction T</a>
        <a id="42578" href="Coherence.Hypotheses.html#42578" class="Bound">λᶜ</a> <a id="42581" class="Symbol">=</a> <a id="42583" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="42590" class="Symbol">(_</a> <a id="42593" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="42595" class="Symbol">_</a> <a id="42597" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="42599" href="Coherence.Hypotheses.html#42445" class="Bound">T</a><a id="42600" class="Symbol">)</a>
      <a id="42608" class="Keyword">in</a>

    <a id="42616" class="Comment">-- (iv) λᶜ does not correspond to any *other* symbolic move</a>
    <a id="42680" class="Comment">-- ∙ (∀ Γₜ′ (λˢ′ : 𝕃 Rˢ Γₜ′)</a>
    <a id="42713" class="Comment">--     → λˢ′ .proj₁ .proj₁ ≢ λˢ .proj₁ .proj₁</a>
    <a id="42763" class="Comment">--     → (Γₜ′ ∷ 𝕣∗ ⊣ λˢ′ ✓) ≁₁₁ (λᶜ ∷ Rᶜ ✓))</a>

      <a id="42815" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="42875" href="Coherence.Hypotheses.html#2043" class="Function">Γₜ″</a> <a id="42879" href="Coherence.Hypotheses.html#42129" class="Datatype Operator">⨾</a> <a id="42881" href="Coherence.Hypotheses.html#1982" class="Function">𝕣∗</a> <a id="42884" href="Coherence.Hypotheses.html#42129" class="Datatype Operator">⨾</a> <a id="42886" class="Symbol">(</a><a id="42887" href="Coherence.Hypotheses.html#2129" class="Function">𝕒</a> <a id="42889" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="42891" href="Coherence.Hypotheses.html#42069" class="Function">λˢ</a><a id="42893" class="Symbol">)</a> <a id="42895" href="Coherence.Hypotheses.html#42129" class="Datatype Operator">~ℍ[17]~</a> <a id="42903" href="Coherence.Hypotheses.html#42578" class="Bound">λᶜ</a> <a id="42906" href="Coherence.Hypotheses.html#42129" class="Datatype Operator">⨾</a> <a id="42908" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a>

<a id="42912" class="Comment">-- ** After</a>
<a id="42924" class="Keyword">record</a> <a id="H₁₈-args"></a><a id="42931" href="Coherence.Hypotheses.html#42931" class="Record">H₁₈-args</a> <a id="42940" class="Symbol">:</a> <a id="42942" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="42947" class="Keyword">where</a>
  <a id="42955" class="Keyword">constructor</a> <a id="mk"></a><a id="42967" href="Coherence.Hypotheses.html#42967" class="InductiveConstructor">mk</a>
  <a id="42972" class="Keyword">field</a>
    <a id="42982" class="Symbol">{</a><a id="H₁₈-args.Γ"></a><a id="42983" href="Coherence.Hypotheses.html#42983" class="Field">Γ</a> <a id="H₁₈-args.t"></a><a id="42985" href="Coherence.Hypotheses.html#42985" class="Field">t</a> <a id="H₁₈-args.δ"></a><a id="42987" href="Coherence.Hypotheses.html#42987" class="Field">δ</a><a id="42988" class="Symbol">}</a> <a id="42990" class="Symbol">:</a> <a id="42992" class="Symbol">_</a>
    <a id="H₁₈-args.δ&gt;0"></a><a id="42998" href="Coherence.Hypotheses.html#42998" class="Field">δ&gt;0</a> <a id="43002" class="Symbol">:</a> <a id="43004" href="Coherence.Hypotheses.html#42987" class="Field">δ</a> <a id="43006" href="Prelude.Ord.Core.html#340" class="Function Operator">&gt;</a> <a id="43008" class="Number">0</a>
  <a id="43012" class="Keyword">open</a> <a id="43017" href="Coherence.Hypotheses.html#1608" class="Module">Transition</a>
    <a id="43032" class="Symbol">(</a> <a id="43034" href="Coherence.Hypotheses.html#42983" class="Field">Γ</a> <a id="43036" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="43038" href="Coherence.Hypotheses.html#42985" class="Field">t</a> <a id="43040" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">——</a> <a id="43043" href="BitML.Semantics.Label.html#1519" class="InductiveConstructor Operator">delay⦅</a> <a id="43050" href="Coherence.Hypotheses.html#42987" class="Field">δ</a> <a id="43052" href="BitML.Semantics.Label.html#1519" class="InductiveConstructor Operator">⦆</a> <a id="43054" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">—→</a> <a id="43057" href="Coherence.Hypotheses.html#42983" class="Field">Γ</a> <a id="43059" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⨾</a> <a id="43061" class="Symbol">(</a><a id="43062" href="Coherence.Hypotheses.html#42985" class="Field">t</a> <a id="43064" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="43066" href="Coherence.Hypotheses.html#42987" class="Field">δ</a><a id="43067" class="Symbol">)</a>
    <a id="43073" href="Coherence.Hypotheses.html#1646" class="InductiveConstructor Operator">⊣</a> <a id="43075" href="BitML.Semantics.InferenceRules.html#7703" class="InductiveConstructor">[Delay]</a> <a id="43083" href="Coherence.Hypotheses.html#42998" class="Field">δ&gt;0</a>
    <a id="43091" class="Symbol">)</a> <a id="43093" class="Keyword">public</a> <a id="43100" class="Keyword">hiding</a> <a id="43107" class="Symbol">(</a><a id="43108" href="Coherence.Hypotheses.html#1672" class="Field">Γ</a><a id="43109" class="Symbol">;</a> <a id="43111" href="Coherence.Hypotheses.html#1685" class="Field">t</a><a id="43112" class="Symbol">)</a>
  <a id="43116" class="Keyword">field</a> <a id="H₁₈-args.𝕙r"></a><a id="43122" href="Coherence.Hypotheses.html#43122" class="Field">𝕙r</a> <a id="43125" class="Symbol">:</a> <a id="43127" href="Coherence.Hypotheses.html#1824" class="Record">ℍ-Run</a> <a id="43133" href="Coherence.Hypotheses.html#1795" class="Function">Γ→</a>
  <a id="43138" class="Keyword">open</a> <a id="43143" href="Coherence.Hypotheses.html#1824" class="Module">ℍ-Run</a> <a id="43149" href="Coherence.Hypotheses.html#43122" class="Field">𝕙r</a> <a id="43152" class="Keyword">public</a>

<a id="43160" class="Keyword">module</a> <a id="43167" href="Coherence.Hypotheses.html#43167" class="Module">H₁₈</a> <a id="43171" class="Symbol">(</a><a id="43172" href="Coherence.Hypotheses.html#43172" class="Bound">⋯</a> <a id="43174" class="Symbol">:</a> <a id="43176" href="Coherence.Hypotheses.html#42931" class="Record">H₁₈-args</a><a id="43184" class="Symbol">)</a> <a id="43186" class="Symbol">(</a><a id="43187" class="Keyword">open</a> <a id="43192" href="Coherence.Hypotheses.html#42931" class="Module">H₁₈-args</a> <a id="43201" href="Coherence.Hypotheses.html#43172" class="Bound">⋯</a><a id="43202" class="Symbol">)</a> <a id="43204" class="Keyword">where</a>
  <a id="43212" href="Coherence.Hypotheses.html#43212" class="Function">λˢ</a> <a id="43215" class="Symbol">:</a> <a id="43217" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="43220" href="Coherence.Hypotheses.html#1761" class="Function">Γₜ′</a>
  <a id="43226" href="Coherence.Hypotheses.html#43212" class="Function">λˢ</a> <a id="43229" class="Symbol">=</a> <a id="43231" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="43237" href="Coherence.Hypotheses.html#2095" class="Function">𝕣</a> <a id="43239" href="Coherence.Hypotheses.html#42983" class="Field">Γ</a> <a id="43241" href="Coherence.Hypotheses.html#1997" class="Function">R≈</a> <a id="43244" href="Coherence.Hypotheses.html#1714" class="Function">Γ′</a> <a id="43247" href="Function.Base.html#624" class="Function">id</a> <a id="43250" href="Function.Base.html#624" class="Function">id</a> <a id="43253" href="Function.Base.html#624" class="Function">id</a>

<a id="43257" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[18]~_⨾_"></a><a id="43262" href="Coherence.Hypotheses.html#43262" class="Datatype Operator">_⨾_⨾_~ℍ[18]~_⨾_</a> <a id="43278" class="Symbol">:</a> <a id="43280" href="Coherence.Hypotheses.html#1468" class="Function">StepRel</a> <a id="43288" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[18]~_⨾_.mkℍ"></a><a id="43296" href="Coherence.Hypotheses.html#43296" class="InductiveConstructor">mkℍ</a> <a id="43300" class="Symbol">:</a> <a id="43302" class="Symbol">∀</a> <a id="43304" class="Symbol">{</a><a id="43305" href="Coherence.Hypotheses.html#43305" class="Bound">h</a> <a id="43307" class="Symbol">:</a> <a id="43309" href="Coherence.Hypotheses.html#42931" class="Record">H₁₈-args</a><a id="43317" class="Symbol">}</a>
    <a id="43323" class="Symbol">→</a> <a id="43325" class="Keyword">let</a>
        <a id="43337" class="Keyword">open</a> <a id="43342" href="Coherence.Hypotheses.html#42931" class="Module">H₁₈-args</a> <a id="43351" href="Coherence.Hypotheses.html#43305" class="Bound">h</a>
        <a id="43361" class="Keyword">open</a> <a id="43366" href="Coherence.Hypotheses.html#43167" class="Module">H₁₈</a> <a id="43370" href="Coherence.Hypotheses.html#43305" class="Bound">h</a> <a id="43372" class="Keyword">using</a> <a id="43378" class="Symbol">(</a><a id="43379" href="Coherence.Hypotheses.html#43212" class="Function">λˢ</a><a id="43381" class="Symbol">)</a>
        <a id="43391" href="Coherence.Hypotheses.html#43391" class="Bound">λᶜ</a> <a id="43394" class="Symbol">=</a> <a id="43396" href="ComputationalModel.Run.html#1071" class="InductiveConstructor">delay</a> <a id="43402" href="Coherence.Hypotheses.html#42987" class="Field">δ</a>
      <a id="43410" class="Keyword">in</a>
      <a id="43419" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="43479" href="Coherence.Hypotheses.html#2043" class="Function">Γₜ″</a> <a id="43483" href="Coherence.Hypotheses.html#43262" class="Datatype Operator">⨾</a> <a id="43485" href="Coherence.Hypotheses.html#1982" class="Function">𝕣∗</a> <a id="43488" href="Coherence.Hypotheses.html#43262" class="Datatype Operator">⨾</a> <a id="43490" class="Symbol">(</a><a id="43491" href="Coherence.Hypotheses.html#2129" class="Function">𝕒</a> <a id="43493" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="43495" href="Coherence.Hypotheses.html#43212" class="Function">λˢ</a><a id="43497" class="Symbol">)</a> <a id="43499" href="Coherence.Hypotheses.html#43262" class="Datatype Operator">~ℍ[18]~</a> <a id="43507" href="Coherence.Hypotheses.html#43391" class="Bound">λᶜ</a> <a id="43510" href="Coherence.Hypotheses.html#43262" class="Datatype Operator">⨾</a> <a id="43512" href="Coherence.Hypotheses.html#1955" class="Function">Rᶜ</a>
</pre></body></html>