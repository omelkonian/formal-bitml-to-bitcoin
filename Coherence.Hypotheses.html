<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Coherence.Hypotheses</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/formal-bitml-to-bitcoin/tree/master/Coherence/Hypotheses.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="Prelude.Init.html" class="Module">Prelude.Init</a> <a id="26" class="Keyword">hiding</a> <a id="33" class="Symbol">(</a><a id="34" href="Data.Bool.Base.html#1460" class="Function">T</a><a id="35" class="Symbol">);</a> <a id="38" class="Keyword">open</a> <a id="43" href="Prelude.Init.html#504" class="Module">SetAsType</a>
<a id="53" class="Keyword">open</a> <a id="58" href="Prelude.Init.html#7254" class="Module">L.Mem</a>
<a id="64" class="Keyword">open</a> <a id="69" class="Keyword">import</a> <a id="76" href="Prelude.Membership.html" class="Module">Prelude.Membership</a> <a id="95" class="Keyword">using</a> <a id="101" class="Symbol">(</a><a id="102" href="Prelude.Membership.html#455" class="Field Operator">_∈?_</a><a id="106" class="Symbol">;</a> <a id="108" href="Prelude.Membership.html#613" class="Function Operator">_∉?_</a><a id="112" class="Symbol">)</a>
<a id="114" class="Keyword">open</a> <a id="119" class="Keyword">import</a> <a id="126" href="Prelude.Membership.Patterns.html" class="Module">Prelude.Membership.Patterns</a>
<a id="154" class="Keyword">open</a> <a id="159" class="Keyword">import</a> <a id="166" href="Prelude.Lists.html" class="Module">Prelude.Lists</a>
<a id="180" class="Keyword">open</a> <a id="185" class="Keyword">import</a> <a id="192" href="Prelude.Lists.Collections.html" class="Module">Prelude.Lists.Collections</a>
<a id="218" class="Keyword">open</a> <a id="223" class="Keyword">import</a> <a id="230" href="Prelude.Lists.Dec.html" class="Module">Prelude.Lists.Dec</a>
<a id="248" class="Keyword">open</a> <a id="253" class="Keyword">import</a> <a id="260" href="Prelude.General.html" class="Module">Prelude.General</a>
<a id="276" class="Keyword">open</a> <a id="281" class="Keyword">import</a> <a id="288" href="Prelude.InferenceRules.html" class="Module">Prelude.InferenceRules</a>
<a id="311" class="Keyword">open</a> <a id="316" class="Keyword">import</a> <a id="323" href="Prelude.Lists.Dec.html" class="Module">Prelude.Lists.Dec</a>
<a id="341" class="Keyword">open</a> <a id="346" class="Keyword">import</a> <a id="353" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="367" class="Keyword">open</a> <a id="372" class="Keyword">import</a> <a id="379" href="Prelude.Ord.html" class="Module">Prelude.Ord</a>
<a id="391" class="Keyword">open</a> <a id="396" class="Keyword">import</a> <a id="403" href="Prelude.Traces.html" class="Module">Prelude.Traces</a>
<a id="418" class="Keyword">open</a> <a id="423" class="Keyword">import</a> <a id="430" href="Prelude.Null.html" class="Module">Prelude.Null</a>
<a id="443" class="Keyword">open</a> <a id="448" class="Keyword">import</a> <a id="455" href="Prelude.Setoid.html" class="Module">Prelude.Setoid</a>
<a id="470" class="Keyword">open</a> <a id="475" class="Keyword">import</a> <a id="482" href="Prelude.Nary.html" class="Module">Prelude.Nary</a>
<a id="495" class="Keyword">open</a> <a id="500" class="Keyword">import</a> <a id="507" href="Prelude.ToList.html" class="Module">Prelude.ToList</a>
<a id="522" class="Keyword">open</a> <a id="527" class="Keyword">import</a> <a id="534" href="Prelude.Functor.html" class="Module">Prelude.Functor</a>
<a id="550" class="Keyword">open</a> <a id="555" class="Keyword">import</a> <a id="562" href="Prelude.Decidable.html" class="Module">Prelude.Decidable</a>
<a id="580" class="Keyword">open</a> <a id="585" class="Keyword">import</a> <a id="592" href="Prelude.Num.html" class="Module">Prelude.Num</a>

<a id="605" class="Keyword">open</a> <a id="610" class="Keyword">import</a> <a id="617" href="SecureCompilation.ModuleParameters.html" class="Module">SecureCompilation.ModuleParameters</a> <a id="652" class="Keyword">using</a> <a id="658" class="Symbol">(</a><a id="659" href="SecureCompilation.ModuleParameters.html#209" class="Record">⋯</a><a id="660" class="Symbol">)</a>
<a id="662" class="Keyword">module</a> <a id="669" href="Coherence.Hypotheses.html" class="Module">Coherence.Hypotheses</a> <a id="690" class="Symbol">(</a><a id="691" href="Coherence.Hypotheses.html#691" class="Bound">⋯</a> <a id="693" class="Symbol">:</a> <a id="695" href="SecureCompilation.ModuleParameters.html#209" class="Record">⋯</a><a id="696" class="Symbol">)</a> <a id="698" class="Symbol">(</a><a id="699" class="Keyword">open</a> <a id="704" href="SecureCompilation.ModuleParameters.html#209" class="Module">⋯</a> <a id="706" href="Coherence.Hypotheses.html#691" class="Bound">⋯</a><a id="707" class="Symbol">)</a> <a id="709" class="Keyword">where</a>

<a id="716" class="Keyword">open</a> <a id="721" class="Keyword">import</a> <a id="728" href="SymbolicModel.html" class="Module">SymbolicModel</a> <a id="742" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a> as <a id="S"></a><a id="748" href="Coherence.Hypotheses.html#748" class="Module">S</a>
  <a id="752" class="Keyword">hiding</a> <a id="759" class="Symbol">(</a> <a id="761" href="Prelude.Closures.html#5661" class="InductiveConstructor Operator">_∎</a><a id="763" class="Symbol">;</a> <a id="765" href="Prelude.Closures.html#5559" class="InductiveConstructor Operator">begin_</a>
         <a id="781" class="Comment">{-variables-}</a>
         <a id="804" class="Symbol">;</a> <a id="806" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Γ₀</a><a id="808" class="Symbol">;</a> <a id="810" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a><a id="811" class="Symbol">;</a> <a id="813" href="BitML.Semantics.Configurations.Types.html#1140" class="Generalizable">Γ′</a><a id="815" class="Symbol">;</a> <a id="817" href="BitML.Semantics.Configurations.Types.html#1143" class="Generalizable">Γ″</a><a id="819" class="Symbol">;</a> <a id="821" href="BitML.Semantics.Configurations.Types.html#1456" class="Generalizable">Γₜ</a><a id="823" class="Symbol">;</a> <a id="825" href="BitML.Semantics.Configurations.Types.html#1459" class="Generalizable">Γₜ′</a><a id="828" class="Symbol">;</a> <a id="830" href="BitML.Semantics.Configurations.Types.html#1463" class="Generalizable">Γₜ″</a><a id="833" class="Symbol">;</a> <a id="835" href="BitML.Semantics.Configurations.Types.html#1157" class="Generalizable">Δ</a>
         <a id="846" class="Symbol">;</a> <a id="848" href="SymbolicModel.Run.Base.html#457" class="Generalizable">R</a><a id="849" class="Symbol">;</a> <a id="851" href="SymbolicModel.Run.Base.html#459" class="Generalizable">R′</a><a id="853" class="Symbol">;</a> <a id="855" href="SymbolicModel.Run.Base.html#465" class="Generalizable">Rˢ</a><a id="857" class="Symbol">;</a> <a id="859" href="SymbolicModel.Run.Base.html#468" class="Generalizable">Rˢ′</a>
         <a id="872" class="Symbol">;</a> <a id="874" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a><a id="875" class="Symbol">;</a> <a id="877" href="BitML.Contracts.Types.html#373" class="Generalizable">B</a><a id="878" class="Symbol">;</a> <a id="880" href="BitML.Contracts.Types.html#378" class="Generalizable">B′</a>
         <a id="892" class="Symbol">;</a> <a id="894" href="BitML.Contracts.Types.html#2330" class="Field">G</a><a id="895" class="Symbol">;</a> <a id="897" href="BitML.Contracts.Types.html#2351" class="Field">C</a>
         <a id="908" class="Symbol">;</a> <a id="910" href="BitML.BasicTypes.html#578" class="Generalizable">t</a><a id="911" class="Symbol">;</a> <a id="913" href="BitML.BasicTypes.html#582" class="Generalizable">t′</a><a id="915" class="Symbol">;</a> <a id="917" href="BitML.BasicTypes.html#580" class="Generalizable">δ</a><a id="918" class="Symbol">;</a> <a id="920" href="BitML.BasicTypes.html#434" class="Generalizable">n</a>
         <a id="931" class="Symbol">;</a> <a id="933" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a><a id="935" class="Symbol">;</a> <a id="937" href="BitML.Contracts.Types.html#2159" class="Generalizable">g</a><a id="938" class="Symbol">;</a> <a id="940" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a><a id="941" class="Symbol">;</a> <a id="943" href="BitML.Contracts.Types.html#1254" class="Generalizable">c′</a><a id="945" class="Symbol">;</a> <a id="947" href="BitML.Contracts.Types.html#1273" class="Generalizable">cs</a><a id="949" class="Symbol">;</a> <a id="951" href="BitML.Contracts.Types.html#1241" class="Generalizable">ds</a><a id="953" class="Symbol">;</a> <a id="955" href="BitML.Contracts.Types.html#1222" class="Generalizable">d</a><a id="956" class="Symbol">;</a> <a id="958" href="BitML.Contracts.Types.html#1298" class="Generalizable">vcs</a>
         <a id="971" class="Symbol">;</a> <a id="973" href="BitML.BasicTypes.html#527" class="Generalizable">x</a><a id="974" class="Symbol">;</a> <a id="976" href="BitML.BasicTypes.html#533" class="Generalizable">x′</a><a id="978" class="Symbol">;</a> <a id="980" href="BitML.BasicTypes.html#529" class="Generalizable">y</a><a id="981" class="Symbol">;</a> <a id="983" href="BitML.BasicTypes.html#536" class="Generalizable">y′</a><a id="985" class="Symbol">;</a> <a id="987" href="BitML.BasicTypes.html#531" class="Generalizable">z</a><a id="988" class="Symbol">;</a> <a id="990" href="BitML.BasicTypes.html#558" class="Generalizable">xs</a>
         <a id="1002" class="Symbol">;</a> <a id="1004" href="BitML.BasicTypes.html#484" class="Generalizable">a</a><a id="1005" class="Symbol">;</a> <a id="1007" href="BitML.BasicTypes.html#503" class="Generalizable">as</a>
         <a id="1019" class="Symbol">;</a> <a id="1021" href="BitML.BasicTypes.html#443" class="Generalizable">v</a><a id="1022" class="Symbol">;</a> <a id="1024" href="BitML.BasicTypes.html#445" class="Generalizable">v′</a><a id="1026" class="Symbol">;</a> <a id="1028" href="BitML.BasicTypes.html#461" class="Generalizable">vs</a>
         <a id="1040" class="Symbol">;</a> <a id="1042" href="BitML.Semantics.Label.html#1651" class="Generalizable">α</a><a id="1043" class="Symbol">;</a> <a id="1045" href="BitML.Predicate.html#747" class="Generalizable">p</a><a id="1046" class="Symbol">;</a> <a id="1048" href="SymbolicModel.Strategy.html#628" class="Field">Σ</a>
         <a id="1059" class="Symbol">)</a>
<a id="1061" class="Keyword">open</a> <a id="1066" class="Keyword">import</a> <a id="1073" href="ComputationalModel.html" class="Module">ComputationalModel</a> <a id="1092" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a> <a id="1095" href="SecureCompilation.ModuleParameters.html#450" class="Field">finPart</a> <a id="1103" href="SecureCompilation.ModuleParameters.html#487" class="Field">keypairs</a>
  <a id="1114" class="Keyword">hiding</a> <a id="1121" class="Symbol">(</a> <a id="1123" href="Bitcoin.Script.Base.html#821" class="InductiveConstructor">`</a><a id="1124" class="Symbol">;</a> <a id="1126" href="Bitcoin.Script.Base.html#1071" class="InductiveConstructor Operator">∣_∣</a><a id="1129" class="Symbol">;</a> <a id="1131" href="Bitcoin.Script.Base.html#1594" class="Function Operator">_`∧_</a><a id="1135" class="Symbol">;</a> <a id="1137" href="Bitcoin.Script.Base.html#1693" class="Function Operator">_`∨_</a><a id="1141" class="Symbol">;</a> <a id="1143" href="Bitcoin.Script.Base.html#893" class="InductiveConstructor Operator">_`=_</a><a id="1147" class="Symbol">;</a> <a id="1149" href="Bitcoin.Script.Base.html#898" class="InductiveConstructor Operator">_`&lt;_</a><a id="1153" class="Symbol">;</a> <a id="1155" href="Bitcoin.Script.Base.html#1549" class="Function">`true</a><a id="1160" class="Symbol">;</a> <a id="1162" href="Bitcoin.Consistency.html#3086" class="InductiveConstructor">∎</a>
         <a id="1173" class="Symbol">;</a> <a id="1175" href="ComputationalModel.Run.html#1309" class="Function">Run</a><a id="1178" class="Symbol">;</a> <a id="1180" href="Bitcoin.BasicTypes.html#293" class="Function">Time</a><a id="1184" class="Symbol">;</a> <a id="1186" href="Bitcoin.BasicTypes.html#260" class="Function">Value</a><a id="1191" class="Symbol">;</a> <a id="1193" href="ComputationalModel.Run.html#1251" class="Function">DecEq-Label</a>
         <a id="1214" class="Symbol">;</a> <a id="1216" href="ComputationalModel.Strategy.html#2509" class="Function">HonestMoves</a><a id="1227" class="Symbol">;</a> <a id="1229" href="ComputationalModel.Strategy.html#2425" class="Function">HonestStrategies</a><a id="1245" class="Symbol">;</a> <a id="1247" href="ComputationalModel.Strategy.html#1258" class="Record">ParticipantStrategy</a>
         <a id="1276" class="Symbol">;</a> <a id="1278" href="ComputationalModel.Strategy.html#1379" class="Function">Valid-Strategy</a><a id="1292" class="Symbol">;</a> <a id="1294" href="ComputationalModel.Strategy.html#2580" class="Generalizable">moves</a>
         <a id="1309" class="Symbol">;</a> <a id="1311" href="ComputationalModel.Strategy.html#1317" class="Field">Σ</a>
         <a id="1322" class="Symbol">;</a> <a id="1324" class="Keyword">module</a> <a id="1331" href="ComputationalModel.Strategy.html#2608" class="Module">AdvM</a>
         <a id="1345" class="Comment">{-variables-}</a>
         <a id="1368" class="Symbol">;</a> <a id="1370" href="ComputationalModel.Run.html#1378" class="Generalizable">R</a><a id="1371" class="Symbol">;</a> <a id="1373" href="ComputationalModel.Run.html#1380" class="Generalizable">R′</a><a id="1375" class="Symbol">;</a> <a id="1377" href="ComputationalModel.Run.html#1383" class="Generalizable">R″</a><a id="1379" class="Symbol">;</a> <a id="1381" href="ComputationalModel.Run.html#4351" class="Generalizable">Rᶜ</a>
         <a id="1393" class="Symbol">;</a> <a id="1395" href="Bitcoin.Script.Semantics.html#843" class="Field">tx</a><a id="1397" class="Symbol">;</a> <a id="1399" href="Bitcoin.Tx.Base.html#2058" class="Generalizable">i</a><a id="1400" class="Symbol">;</a> <a id="1402" href="Bitcoin.BasicTypes.html#429" class="Generalizable">t</a><a id="1403" class="Symbol">;</a> <a id="1405" href="Bitcoin.BasicTypes.html#431" class="Generalizable">t′</a><a id="1407" class="Symbol">;</a> <a id="1409" href="Bitcoin.BasicTypes.html#418" class="Generalizable">n</a><a id="1410" class="Symbol">;</a> <a id="1412" href="ComputationalModel.Run.html#1361" class="Generalizable">m</a><a id="1413" class="Symbol">;</a> <a id="1415" href="ComputationalModel.Run.html#1363" class="Generalizable">m′</a><a id="1417" class="Symbol">;</a> <a id="1419" href="ComputationalModel.Run.html#1394" class="Generalizable">λᶜ</a>
         <a id="1431" class="Symbol">)</a>
  <a id="1435" class="Keyword">renaming</a> <a id="1444" class="Symbol">(</a><a id="1445" href="ComputationalModel.Run.html#913" class="Datatype">Label</a> <a id="1451" class="Symbol">to</a> <a id="1454" class="Datatype">CLabel</a><a id="1460" class="Symbol">;</a> <a id="1462" href="ComputationalModel.Run.html#1329" class="Function">Labels</a> <a id="1469" class="Symbol">to</a> <a id="1472" class="Function">CLabels</a><a id="1479" class="Symbol">)</a>
<a id="1481" class="Keyword">open</a> <a id="1486" class="Keyword">import</a> <a id="1493" href="Compiler.html" class="Module">Compiler</a> <a id="1502" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a> <a id="1505" href="SecureCompilation.ModuleParameters.html#357" class="Field">η</a>
<a id="1507" class="Keyword">open</a> <a id="1512" class="Keyword">import</a> <a id="1519" href="Coherence.ComputationalContracts.html" class="Module">Coherence.ComputationalContracts</a> <a id="1552" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a>
<a id="1555" class="Keyword">open</a> <a id="1560" class="Keyword">import</a> <a id="1567" href="Coherence.Helpers.html" class="Module">Coherence.Helpers</a> <a id="1585" href="Coherence.Hypotheses.html#691" class="Bound">⋯</a>

<a id="1588" class="Comment">-- shorthands</a>
<a id="StepRel"></a><a id="1602" href="Coherence.Hypotheses.html#1602" class="Function">StepRel</a> <a id="1610" class="Symbol">:</a> <a id="1612" href="Agda.Primitive.html#320" class="Primitive">Type₁</a>
<a id="1618" href="Coherence.Hypotheses.html#1602" class="Function">StepRel</a> <a id="1626" class="Symbol">=</a> <a id="1628" class="Symbol">(</a><a id="1629" href="Coherence.Hypotheses.html#1629" class="Bound">Γₜ</a> <a id="1632" class="Symbol">:</a> <a id="1634" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a><a id="1638" class="Symbol">)</a> <a id="1640" class="Symbol">{</a><a id="1641" href="Coherence.Hypotheses.html#1641" class="Bound">Rˢ</a> <a id="1644" class="Symbol">:</a> <a id="1646" href="SymbolicModel.Run.Base.html#430" class="Function">S.Run</a><a id="1651" class="Symbol">}</a>
        <a id="1661" class="Symbol">→</a> <a id="1663" href="SymbolicModel.Mappings.html#1658" class="Datatype">ℝ∗</a> <a id="1666" href="Coherence.Hypotheses.html#1641" class="Bound">Rˢ</a>
        <a id="1677" class="Symbol">→</a> <a id="1679" href="SymbolicModel.Mappings.html#1577" class="Function">𝕃</a> <a id="1681" href="Coherence.Hypotheses.html#1641" class="Bound">Rˢ</a> <a id="1684" href="Coherence.Hypotheses.html#1629" class="Bound">Γₜ</a>
        <a id="1695" class="Symbol">→</a> <a id="1697" href="Coherence.Hypotheses.html#1454" class="Datatype">CLabel</a>
        <a id="1712" class="Symbol">→</a> <a id="1714" href="ComputationalModel.Run.html#4253" class="Datatype">CRun</a>
        <a id="1727" class="Symbol">→</a> <a id="1729" href="Agda.Primitive.html#320" class="Primitive">Type</a>

<a id="1735" class="Keyword">record</a> <a id="Transition"></a><a id="1742" href="Coherence.Hypotheses.html#1742" class="Record">Transition</a> <a id="1753" class="Symbol">:</a> <a id="1755" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="1760" class="Keyword">where</a>
  <a id="1768" class="Keyword">constructor</a> <a id="_⨾_——_—→_⨾_⊣_"></a><a id="1780" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">_⨾_——_—→_⨾_⊣_</a>
  <a id="1796" class="Keyword">field</a>
    <a id="Transition.Γ"></a><a id="1806" href="Coherence.Hypotheses.html#1806" class="Field">Γ</a>  <a id="1809" class="Symbol">:</a> <a id="1811" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a>
    <a id="Transition.t"></a><a id="1819" href="Coherence.Hypotheses.html#1819" class="Field">t</a>  <a id="1822" class="Symbol">:</a> <a id="1824" href="BitML.BasicTypes.html#413" class="Function">Time</a>
    <a id="Transition.α"></a><a id="1833" href="Coherence.Hypotheses.html#1833" class="Field">α</a>  <a id="1836" class="Symbol">:</a> <a id="1838" href="BitML.Semantics.Label.html#459" class="Datatype">Label</a>
    <a id="Transition.Γ′"></a><a id="1848" href="Coherence.Hypotheses.html#1848" class="Field">Γ′</a> <a id="1851" class="Symbol">:</a> <a id="1853" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a>
    <a id="Transition.t′"></a><a id="1861" href="Coherence.Hypotheses.html#1861" class="Field">t′</a> <a id="1864" class="Symbol">:</a> <a id="1866" href="BitML.BasicTypes.html#413" class="Function">Time</a>
  <a id="Transition.Γₜ"></a><a id="1873" href="Coherence.Hypotheses.html#1873" class="Function">Γₜ</a>  <a id="1877" class="Symbol">=</a> <a id="1879" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a> <a id="1884" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="1886" href="Coherence.Hypotheses.html#1806" class="Field">Γ</a> <a id="1888" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="1891" href="Coherence.Hypotheses.html#1819" class="Field">t</a>
  <a id="Transition.Γₜ′"></a><a id="1895" href="Coherence.Hypotheses.html#1895" class="Function">Γₜ′</a> <a id="1899" class="Symbol">=</a> <a id="1901" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a> <a id="1906" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="1908" href="Coherence.Hypotheses.html#1848" class="Field">Γ′</a> <a id="1911" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="1914" href="Coherence.Hypotheses.html#1861" class="Field">t′</a>
  <a id="1919" class="Keyword">field</a>
    <a id="Transition.Γ→"></a><a id="1929" href="Coherence.Hypotheses.html#1929" class="Field">Γ→</a> <a id="1932" class="Symbol">:</a> <a id="1934" href="Coherence.Hypotheses.html#1873" class="Function">Γₜ</a> <a id="1937" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="1940" href="Coherence.Hypotheses.html#1833" class="Field">α</a> <a id="1942" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="1946" href="Coherence.Hypotheses.html#1895" class="Function">Γₜ′</a>

<a id="1951" class="Keyword">record</a> <a id="ℍ-Run"></a><a id="1958" href="Coherence.Hypotheses.html#1958" class="Record">ℍ-Run</a> <a id="1964" class="Symbol">{</a><a id="1965" href="Coherence.Hypotheses.html#1965" class="Bound">Γₜ</a> <a id="1968" href="Coherence.Hypotheses.html#1968" class="Bound">α</a> <a id="1970" href="Coherence.Hypotheses.html#1970" class="Bound">Γₜ′</a><a id="1973" class="Symbol">}</a> <a id="1975" class="Symbol">(</a><a id="1976" href="Coherence.Hypotheses.html#1976" class="Bound">Γ→</a> <a id="1979" class="Symbol">:</a> <a id="1981" href="Coherence.Hypotheses.html#1965" class="Bound">Γₜ</a> <a id="1984" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="1987" href="Coherence.Hypotheses.html#1968" class="Bound">α</a> <a id="1989" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="1993" href="Coherence.Hypotheses.html#1970" class="Bound">Γₜ′</a><a id="1996" class="Symbol">)</a> <a id="1998" class="Symbol">:</a> <a id="2000" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="2005" class="Keyword">where</a>
  <a id="2013" class="Keyword">constructor</a> <a id="_⨾_⨾_⊣_≈_⊣_"></a><a id="2025" href="Coherence.Hypotheses.html#2025" class="InductiveConstructor Operator">_⨾_⨾_⊣_≈_⊣_</a>
  <a id="2039" class="Keyword">private</a> <a id="ℍ-Run.Γ′"></a><a id="2047" href="Coherence.Hypotheses.html#2047" class="Function">Γ′</a> <a id="2050" class="Symbol">=</a> <a id="2052" href="Coherence.Hypotheses.html#1970" class="Bound">Γₜ′</a> <a id="2056" class="Symbol">.</a><a id="2057" href="BitML.Semantics.Configurations.Types.html#1335" class="Field">cfg</a><a id="2060" class="Symbol">;</a> <a id="ℍ-Run.t′"></a><a id="2062" href="Coherence.Hypotheses.html#2062" class="Function">t′</a> <a id="2065" class="Symbol">=</a> <a id="2067" href="Coherence.Hypotheses.html#1970" class="Bound">Γₜ′</a> <a id="2071" class="Symbol">.</a><a id="2072" href="BitML.Semantics.Configurations.Types.html#1354" class="Field">time</a>
  <a id="2079" class="Keyword">field</a>
    <a id="ℍ-Run.Rᶜ"></a><a id="2089" href="Coherence.Hypotheses.html#2089" class="Field">Rᶜ</a> <a id="2092" class="Symbol">:</a> <a id="2094" href="ComputationalModel.Run.html#4253" class="Datatype">CRun</a>
    <a id="ℍ-Run.Rˢ"></a><a id="2103" href="Coherence.Hypotheses.html#2103" class="Field">Rˢ</a> <a id="2106" class="Symbol">:</a> <a id="2108" href="SymbolicModel.Run.Base.html#430" class="Function">Run</a>
    <a id="ℍ-Run.𝕣∗"></a><a id="2116" href="Coherence.Hypotheses.html#2116" class="Field">𝕣∗</a> <a id="2119" class="Symbol">:</a> <a id="2121" href="SymbolicModel.Mappings.html#1658" class="Datatype">ℝ∗</a> <a id="2124" href="Coherence.Hypotheses.html#2103" class="Field">Rˢ</a>
    <a id="ℍ-Run.R≈"></a><a id="2131" href="Coherence.Hypotheses.html#2131" class="Field">R≈</a> <a id="2134" class="Symbol">:</a> <a id="2136" href="Coherence.Hypotheses.html#2103" class="Field">Rˢ</a> <a id="2139" href="SymbolicModel.Run.Base.html#1997" class="Function Operator">≈⋯</a> <a id="2142" href="Coherence.Hypotheses.html#1965" class="Bound">Γₜ</a>
    <a id="ℍ-Run.Γ″"></a><a id="2149" href="Coherence.Hypotheses.html#2149" class="Field">Γ″</a> <a id="2152" class="Symbol">:</a> <a id="2154" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a>
    <a id="ℍ-Run.Γ≈"></a><a id="2162" href="Coherence.Hypotheses.html#2162" class="Field">Γ≈</a> <a id="2165" class="Symbol">:</a> <a id="2167" href="Coherence.Hypotheses.html#2149" class="Field">Γ″</a> <a id="2170" href="Prelude.Setoid.Core.html#191" class="Field Operator">≈</a> <a id="2172" href="Coherence.Hypotheses.html#2047" class="Function">Γ′</a>
  <a id="ℍ-Run.Γₜ″"></a><a id="2177" href="Coherence.Hypotheses.html#2177" class="Function">Γₜ″</a> <a id="2181" class="Symbol">=</a> <a id="2183" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a> <a id="2188" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="2190" href="Coherence.Hypotheses.html#2149" class="Field">Γ″</a> <a id="2193" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="2196" href="Coherence.Hypotheses.html#2062" class="Function">t′</a>
  <a id="ℍ-Run.∃Γ≈"></a><a id="2201" href="Coherence.Hypotheses.html#2201" class="Function">∃Γ≈</a> <a id="2205" class="Symbol">=</a> <a id="2207" href="Data.Product.html#1378" class="Function">∃</a> <a id="2209" class="Symbol">(</a><a id="2210" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="2213" href="Coherence.Hypotheses.html#2047" class="Function">Γ′</a><a id="2215" class="Symbol">)</a> <a id="2217" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="2219" href="Coherence.Hypotheses.html#2149" class="Field">Γ″</a> <a id="2222" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2224" href="Coherence.Hypotheses.html#2162" class="Field">Γ≈</a>
  <a id="ℍ-Run.𝕣"></a><a id="2229" href="Coherence.Hypotheses.html#2229" class="Function">𝕣</a>   <a id="2233" class="Symbol">=</a> <a id="2235" href="SymbolicModel.Mappings.html#6116" class="Function">ℝ∗⇒ℝ</a> <a id="2240" href="Coherence.Hypotheses.html#2116" class="Field">𝕣∗</a>
  <a id="2245" class="Keyword">open</a> <a id="2250" href="SymbolicModel.Mappings.html#958" class="Module">ℝ</a> <a id="2252" href="Coherence.Hypotheses.html#2229" class="Function">𝕣</a> <a id="2254" class="Keyword">public</a>
  <a id="ℍ-Run.𝕒"></a><a id="2263" href="Coherence.Hypotheses.html#2263" class="Function">𝕒</a> <a id="2265" class="Symbol">:</a> <a id="2267" href="SymbolicModel.Run.Base.html#2285" class="Function">𝔸</a> <a id="2269" href="Coherence.Hypotheses.html#2103" class="Field">Rˢ</a> <a id="2272" href="Coherence.Hypotheses.html#2177" class="Function">Γₜ″</a>
  <a id="2278" href="Coherence.Hypotheses.html#2263" class="Function">𝕒</a> <a id="2280" class="Symbol">=</a> <a id="2282" href="Coherence.Hypotheses.html#1968" class="Bound">α</a> <a id="2284" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2286" href="Coherence.Hypotheses.html#1965" class="Bound">Γₜ</a> <a id="2289" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2291" href="Coherence.Hypotheses.html#1970" class="Bound">Γₜ′</a> <a id="2295" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2297" href="Coherence.Hypotheses.html#1976" class="Bound">Γ→</a> <a id="2300" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2302" class="Symbol">(</a><a id="2303" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="2308" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2310" href="Coherence.Hypotheses.html#2162" class="Field">Γ≈</a><a id="2312" class="Symbol">)</a> <a id="2314" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2316" href="Coherence.Hypotheses.html#2131" class="Field">R≈</a>

  <a id="ℍ-Run.Rˢ′"></a><a id="2322" href="Coherence.Hypotheses.html#2322" class="Function">Rˢ′</a> <a id="2326" class="Symbol">:</a> <a id="2328" href="SymbolicModel.Run.Base.html#430" class="Function">Run</a>
  <a id="2334" href="Coherence.Hypotheses.html#2322" class="Function">Rˢ′</a> <a id="2338" class="Symbol">=</a> <a id="2340" href="Coherence.Hypotheses.html#2177" class="Function">Γₜ″</a> <a id="2344" href="SymbolicModel.Run.Base.html#2412" class="Function Operator">∷</a> <a id="2346" href="Coherence.Hypotheses.html#2103" class="Field">Rˢ</a> <a id="2349" href="SymbolicModel.Run.Base.html#2412" class="Function Operator">⊣</a> <a id="2351" href="Coherence.Hypotheses.html#2263" class="Function">𝕒</a>

  <a id="ℍ-Run.R≈′"></a><a id="2356" href="Coherence.Hypotheses.html#2356" class="Function">R≈′</a> <a id="2360" class="Symbol">:</a> <a id="2362" href="Coherence.Hypotheses.html#2322" class="Function">Rˢ′</a> <a id="2366" href="SymbolicModel.Run.Base.html#1997" class="Function Operator">≈⋯</a> <a id="2369" href="Coherence.Hypotheses.html#2047" class="Function">Γ′</a> <a id="2372" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="2375" href="Coherence.Hypotheses.html#2062" class="Function">t′</a>
  <a id="2380" href="Coherence.Hypotheses.html#2356" class="Function">R≈′</a> <a id="2384" class="Symbol">=</a> <a id="2386" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="2391" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2393" href="Coherence.Hypotheses.html#2162" class="Field">Γ≈</a>

  <a id="ℍ-Run.R"></a><a id="2399" href="Coherence.Hypotheses.html#2399" class="Function">R</a> <a id="2401" class="Symbol">=</a> <a id="2403" href="Coherence.Hypotheses.html#2103" class="Field">Rˢ</a><a id="2405" class="Symbol">;</a> <a id="ℍ-Run.R′"></a><a id="2407" href="Coherence.Hypotheses.html#2407" class="Function">R′</a> <a id="2410" class="Symbol">=</a> <a id="2412" href="Coherence.Hypotheses.html#2322" class="Function">Rˢ′</a>

<a id="2417" class="Comment">-- ** Stipulation: advertisting a contract</a>
<a id="2460" class="Keyword">record</a> <a id="H₁-args"></a><a id="2467" href="Coherence.Hypotheses.html#2467" class="Record">H₁-args</a> <a id="2475" class="Symbol">:</a> <a id="2477" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="2482" class="Keyword">where</a>
  <a id="2490" class="Keyword">constructor</a> <a id="mk"></a><a id="2502" href="Coherence.Hypotheses.html#2502" class="InductiveConstructor">mk</a>
  <a id="2507" class="Keyword">field</a>
    <a id="2517" class="Symbol">{</a><a id="H₁-args.ad"></a><a id="2518" href="Coherence.Hypotheses.html#2518" class="Field">ad</a> <a id="H₁-args.Γ₀"></a><a id="2521" href="Coherence.Hypotheses.html#2521" class="Field">Γ₀</a> <a id="H₁-args.t"></a><a id="2524" href="Coherence.Hypotheses.html#2524" class="Field">t</a><a id="2525" class="Symbol">}</a> <a id="2527" class="Symbol">:</a> <a id="2529" class="Symbol">_</a>
  <a id="2533" class="Keyword">open</a> <a id="2538" href="BitML.Contracts.ModuleMacros.html#761" class="Module">∣AD</a> <a id="2542" href="Coherence.Hypotheses.html#2518" class="Field">ad</a> <a id="2545" class="Keyword">public</a>
  <a id="2554" class="Keyword">field</a>
    <a id="2564" class="Comment">-- Hypotheses from [C-Advertise]</a>
    <a id="H₁-args.vad"></a><a id="2601" href="Coherence.Hypotheses.html#2601" class="Field">vad</a> <a id="2605" class="Symbol">:</a> <a id="2607" href="BitML.Contracts.Validity.html#1544" class="Record">ValidAd</a> <a id="2615" href="Coherence.Hypotheses.html#2518" class="Field">ad</a>
    <a id="H₁-args.hon"></a><a id="2622" href="Coherence.Hypotheses.html#2622" class="Field">hon</a> <a id="2626" class="Symbol">:</a> <a id="2628" href="Data.List.Relation.Unary.Any.html#1165" class="Datatype">Any</a> <a id="2632" class="Symbol">(</a><a id="2633" href="Data.List.Membership.Setoid.html#896" class="Function Operator">_∈</a> <a id="2636" href="BitML.BasicTypes.html#785" class="Function">Hon</a><a id="2639" class="Symbol">)</a> <a id="2641" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a>
    <a id="H₁-args.d⊆"></a><a id="2651" href="Coherence.Hypotheses.html#2651" class="Field">d⊆</a>  <a id="2655" class="Symbol">:</a> <a id="2657" href="Coherence.Hypotheses.html#2518" class="Field">ad</a> <a id="2660" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="2663" href="BitML.Contracts.Collections.html#6451" class="Function">deposits</a> <a id="2672" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="2674" href="Coherence.Hypotheses.html#2521" class="Field">Γ₀</a>
  <a id="2679" class="Keyword">open</a> <a id="2684" href="Coherence.Hypotheses.html#1742" class="Module">Transition</a>
    <a id="2699" class="Symbol">(</a> <a id="2701" href="Coherence.Hypotheses.html#2521" class="Field">Γ₀</a> <a id="2704" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="2706" href="Coherence.Hypotheses.html#2524" class="Field">t</a> <a id="2708" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">——</a> <a id="2711" href="BitML.Semantics.Label.html#975" class="InductiveConstructor Operator">advertise⦅</a> <a id="2722" href="Coherence.Hypotheses.html#2518" class="Field">ad</a> <a id="2725" href="BitML.Semantics.Label.html#975" class="InductiveConstructor Operator">⦆</a> <a id="2727" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">—→</a> <a id="2730" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="2732" href="Coherence.Hypotheses.html#2518" class="Field">ad</a> <a id="2735" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="2737" href="Coherence.Hypotheses.html#2521" class="Field">Γ₀</a> <a id="2740" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="2742" href="Coherence.Hypotheses.html#2524" class="Field">t</a>
    <a id="2748" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⊣</a> <a id="2750" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="2754" class="Symbol">(</a><a id="2755" href="BitML.Semantics.InferenceRules.html#3454" class="InductiveConstructor">[C-Advertise]</a> <a id="2769" href="Coherence.Hypotheses.html#2601" class="Field">vad</a> <a id="2773" href="Coherence.Hypotheses.html#2622" class="Field">hon</a> <a id="2777" href="Coherence.Hypotheses.html#2651" class="Field">d⊆</a><a id="2779" class="Symbol">)</a>
    <a id="2785" class="Symbol">)</a> <a id="2787" class="Keyword">public</a> <a id="2794" class="Keyword">hiding</a> <a id="2801" class="Symbol">(</a><a id="2802" href="Coherence.Hypotheses.html#1819" class="Field">t</a><a id="2803" class="Symbol">)</a>
  <a id="2807" class="Keyword">field</a> <a id="H₁-args.𝕙r"></a><a id="2813" href="Coherence.Hypotheses.html#2813" class="Field">𝕙r</a> <a id="2816" class="Symbol">:</a> <a id="2818" href="Coherence.Hypotheses.html#1958" class="Record">ℍ-Run</a> <a id="2824" href="Coherence.Hypotheses.html#1929" class="Function">Γ→</a>
  <a id="2829" class="Keyword">open</a> <a id="2834" href="Coherence.Hypotheses.html#1958" class="Module">ℍ-Run</a> <a id="2840" href="Coherence.Hypotheses.html#2813" class="Field">𝕙r</a> <a id="2843" class="Keyword">public</a>

<a id="2851" class="Keyword">module</a> <a id="2858" href="Coherence.Hypotheses.html#2858" class="Module">H₁</a> <a id="2861" class="Symbol">(</a><a id="2862" href="Coherence.Hypotheses.html#2862" class="Bound">⋯</a> <a id="2864" class="Symbol">:</a> <a id="2866" href="Coherence.Hypotheses.html#2467" class="Record">H₁-args</a><a id="2873" class="Symbol">)</a> <a id="2875" class="Symbol">(</a><a id="2876" class="Keyword">open</a> <a id="2881" href="Coherence.Hypotheses.html#2467" class="Module">H₁-args</a> <a id="2889" href="Coherence.Hypotheses.html#2862" class="Bound">⋯</a><a id="2890" class="Symbol">)</a> <a id="2892" class="Keyword">where</a>
  <a id="2900" href="Coherence.Hypotheses.html#2900" class="Function">λˢ</a> <a id="2903" class="Symbol">:</a> <a id="2905" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="2908" href="Coherence.Hypotheses.html#1895" class="Function">Γₜ′</a>
  <a id="2914" href="Coherence.Hypotheses.html#2900" class="Function">λˢ</a> <a id="2917" class="Symbol">=</a> <a id="2919" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="2925" href="Coherence.Hypotheses.html#2229" class="Function">𝕣</a> <a id="2927" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="2929" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="2932" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="2935" href="Function.Base.html#624" class="Function">id</a> <a id="2938" href="Function.Base.html#624" class="Function">id</a> <a id="2941" href="Function.Base.html#624" class="Function">id</a>

<a id="2945" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[1]~_⨾_"></a><a id="2950" href="Coherence.Hypotheses.html#2950" class="Datatype Operator">_⨾_⨾_~ℍ[1]~_⨾_</a> <a id="2965" class="Symbol">:</a> <a id="2967" href="Coherence.Hypotheses.html#1602" class="Function">StepRel</a> <a id="2975" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[1]~_⨾_.mkℍ"></a><a id="2983" href="Coherence.Hypotheses.html#2983" class="InductiveConstructor">mkℍ</a> <a id="2987" class="Symbol">:</a> <a id="2989" class="Symbol">∀</a> <a id="2991" class="Symbol">{</a><a id="2992" href="Coherence.Hypotheses.html#2992" class="Bound">h</a> <a id="2994" class="Symbol">:</a> <a id="2996" href="Coherence.Hypotheses.html#2467" class="Record">H₁-args</a><a id="3003" class="Symbol">}</a> <a id="3005" class="Symbol">{</a><a id="3006" href="Coherence.Hypotheses.html#3006" class="Bound">A</a><a id="3007" class="Symbol">}</a>
    <a id="3013" class="Symbol">→</a> <a id="3015" class="Keyword">let</a>
        <a id="3027" class="Comment">-- (i) consume {G}C and its persistent deposits from Rˢ</a>
        <a id="3091" class="Keyword">open</a> <a id="3096" href="Coherence.Hypotheses.html#2467" class="Module">H₁-args</a> <a id="3104" href="Coherence.Hypotheses.html#2992" class="Bound">h</a> <a id="3106" class="Keyword">renaming</a> <a id="3115" class="Symbol">(</a><a id="3116" href="Coherence.Hypotheses.html#2518" class="Field">ad</a> <a id="3119" class="Symbol">to</a> <a id="3122" class="Field">⟨G⟩C</a><a id="3126" class="Symbol">)</a>

        <a id="3137" class="Comment">-- txout′ = txout, sechash′ = sechash, κ′ = κ</a>
        <a id="3191" class="Keyword">open</a> <a id="3196" href="Coherence.Hypotheses.html#2858" class="Module">H₁</a> <a id="3199" href="Coherence.Hypotheses.html#2992" class="Bound">h</a> <a id="3201" class="Keyword">using</a> <a id="3207" class="Symbol">(</a><a id="3208" href="Coherence.Hypotheses.html#2900" class="Function">λˢ</a><a id="3210" class="Symbol">)</a>

        <a id="3221" href="Coherence.Hypotheses.html#3221" class="Bound">m</a> <a id="3223" class="Symbol">=</a>
          <a id="3235" class="Keyword">let</a>
            <a id="3251" href="Coherence.Hypotheses.html#3251" class="Bound">txoutΓ</a> <a id="3258" class="Symbol">=</a> <a id="3260" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="3266" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="3268" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="3270" href="SymbolicModel.Mappings.html#1992" class="Function">Txout≈</a> <a id="3277" class="Symbol">{</a><a id="3278" href="Coherence.Hypotheses.html#2103" class="Function">Rˢ</a> <a id="3281" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="3285" class="Symbol">}{</a><a id="3287" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a><a id="3288" class="Symbol">}</a> <a id="3290" class="Symbol">(</a><a id="3291" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="3294" class="Symbol">.</a><a id="3295" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="3300" class="Symbol">)</a> <a id="3302" class="Symbol">(</a><a id="3303" href="Coherence.Hypotheses.html#2229" class="Function">𝕣</a> <a id="3305" href="SymbolicModel.Mappings.html#9038" class="Function Operator">∙txoutEnd_</a><a id="3315" class="Symbol">)</a>
            <a id="3329" href="Coherence.Hypotheses.html#3329" class="Bound">txoutG</a> <a id="3336" class="Symbol">=</a> <a id="3338" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="3344" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a> <a id="3346" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="3348" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="3357" href="Coherence.Hypotheses.html#3251" class="Bound">txoutΓ</a> <a id="3364" class="Symbol">(</a><a id="3365" href="BitML.Properties.Helpers.html#6513" class="Function">deposits⊆⇒namesʳ⊆</a> <a id="3383" class="Symbol">{</a><a id="3384" href="Coherence.Hypotheses.html#3122" class="Function">⟨G⟩C</a><a id="3388" class="Symbol">}{</a><a id="3390" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a><a id="3391" class="Symbol">}</a> <a id="3393" href="Coherence.Hypotheses.html#2651" class="Function">d⊆</a><a id="3395" class="Symbol">)</a>
            <a id="3409" href="Coherence.Hypotheses.html#3409" class="Bound">txoutC</a> <a id="3416" class="Symbol">=</a> <a id="3418" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="3424" href="BitML.Contracts.ModuleMacros.html#783" class="Function">C</a> <a id="3426" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="3428" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="3437" href="Coherence.Hypotheses.html#3329" class="Bound">txoutG</a> <a id="3444" class="Symbol">(</a><a id="3445" href="Prelude.Lists.MapMaybe.html#9263" class="Function">mapMaybe-⊆</a> <a id="3456" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="3463" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="3465" href="Coherence.Hypotheses.html#2601" class="Function">vad</a> <a id="3469" href="BitML.Contracts.Validity.html#2163" class="Function Operator">∙names-⊆</a><a id="3477" class="Symbol">)</a>
          <a id="3489" class="Keyword">in</a>
            <a id="3504" href="Coherence.ComputationalContracts.html#12140" class="Function">encodeAd</a> <a id="3513" href="Coherence.Hypotheses.html#3122" class="Function">⟨G⟩C</a> <a id="3518" class="Symbol">(</a><a id="3519" href="Coherence.Hypotheses.html#3329" class="Bound">txoutG</a> <a id="3526" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3528" href="Coherence.Hypotheses.html#3409" class="Bound">txoutC</a><a id="3534" class="Symbol">)</a>
        <a id="3544" href="Coherence.Hypotheses.html#3544" class="Bound">λᶜ</a> <a id="3547" class="Symbol">=</a> <a id="3549" href="Coherence.Hypotheses.html#3006" class="Bound">A</a> <a id="3551" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="3555" href="Coherence.Hypotheses.html#3221" class="Bound">m</a>
      <a id="3563" class="Keyword">in</a>
      <a id="3572" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="3632" href="Coherence.Hypotheses.html#2177" class="Function">Γₜ″</a> <a id="3636" href="Coherence.Hypotheses.html#2950" class="Datatype Operator">⨾</a> <a id="3638" href="Coherence.Hypotheses.html#2116" class="Function">𝕣∗</a> <a id="3641" href="Coherence.Hypotheses.html#2950" class="Datatype Operator">⨾</a> <a id="3643" class="Symbol">(</a><a id="3644" href="Coherence.Hypotheses.html#2263" class="Function">𝕒</a> <a id="3646" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3648" href="Coherence.Hypotheses.html#2900" class="Function">λˢ</a><a id="3650" class="Symbol">)</a> <a id="3652" href="Coherence.Hypotheses.html#2950" class="Datatype Operator">~ℍ[1]~</a> <a id="3659" href="Coherence.Hypotheses.html#3544" class="Bound">λᶜ</a> <a id="3662" href="Coherence.Hypotheses.html#2950" class="Datatype Operator">⨾</a> <a id="3664" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a>

<a id="3668" class="Comment">-- ** Stipulation: committing secrets</a>
<a id="3706" class="Keyword">record</a> <a id="H₂-args"></a><a id="3713" href="Coherence.Hypotheses.html#3713" class="Record">H₂-args</a> <a id="3721" class="Symbol">:</a> <a id="3723" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="3728" class="Keyword">where</a>
  <a id="3736" class="Keyword">constructor</a> <a id="mk"></a><a id="3748" href="Coherence.Hypotheses.html#3748" class="InductiveConstructor">mk</a>
  <a id="3753" class="Keyword">field</a>
    <a id="3763" class="Symbol">{</a><a id="H₂-args.ad"></a><a id="3764" href="Coherence.Hypotheses.html#3764" class="Field">ad</a> <a id="H₂-args.Γ₀"></a><a id="3767" href="Coherence.Hypotheses.html#3767" class="Field">Γ₀</a> <a id="H₂-args.t"></a><a id="3770" href="Coherence.Hypotheses.html#3770" class="Field">t</a> <a id="H₂-args.A"></a><a id="3772" href="Coherence.Hypotheses.html#3772" class="Field">A</a><a id="3773" class="Symbol">}</a> <a id="3775" class="Symbol">:</a> <a id="3777" class="Symbol">_</a>
    <a id="H₂-args.k⃗"></a><a id="3783" href="Coherence.Hypotheses.html#3783" class="Field">k⃗</a>   <a id="3788" class="Symbol">:</a> <a id="3790" href="Compiler.Mappings.html#454" class="Function">𝕂²′</a> <a id="3794" href="Coherence.Hypotheses.html#3764" class="Field">ad</a>
    <a id="H₂-args.Δ×h̅"></a><a id="3801" href="Coherence.Hypotheses.html#3801" class="Field">Δ×h̅</a> <a id="3806" class="Symbol">:</a> <a id="3808" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3813" class="Symbol">(</a><a id="3814" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="3821" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="3823" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="3829" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="3831" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="3833" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a><a id="3834" class="Symbol">)</a>
  <a id="3838" class="Keyword">open</a> <a id="3843" href="BitML.Contracts.ModuleMacros.html#761" class="Module">∣AD</a> <a id="3847" href="Coherence.Hypotheses.html#3764" class="Field">ad</a> <a id="3850" class="Keyword">public</a>
    <a id="3861" class="Keyword">hiding</a> <a id="3868" class="Symbol">(</a><a id="3869" href="BitML.Contracts.ModuleMacros.html#783" class="Function">C</a><a id="3870" class="Symbol">)</a>
  <a id="H₂-args.h̅"></a><a id="3874" href="Coherence.Hypotheses.html#3874" class="Function">h̅</a>  <a id="3878" class="Symbol">=</a> <a id="3880" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3885" href="Bitcoin.BasicTypes.html#351" class="Function">HashId</a>             <a id="3904" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="3906" href="Data.List.Base.html#1553" class="Function">map</a> <a id="3910" class="Symbol">(</a><a id="3911" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="3917" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="3919" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="3924" class="Symbol">)</a> <a id="3926" href="Coherence.Hypotheses.html#3801" class="Field">Δ×h̅</a>
  <a id="H₂-args.Δ"></a><a id="3933" href="Coherence.Hypotheses.html#3933" class="Function">Δ</a>  <a id="3936" class="Symbol">=</a> <a id="3938" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3943" class="Symbol">(</a><a id="3944" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="3951" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="3953" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="3959" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="3960" class="Symbol">)</a> <a id="3962" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="3964" href="Data.List.Base.html#1553" class="Function">map</a> <a id="3968" href="Prelude.Nary.html#3032" class="Function">drop₃</a>   <a id="3976" href="Coherence.Hypotheses.html#3801" class="Field">Δ×h̅</a>
  <a id="H₂-args.Δᶜ"></a><a id="3983" href="Coherence.Hypotheses.html#3983" class="Function">Δᶜ</a> <a id="3986" class="Symbol">=</a> <a id="3988" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="3991" href="Data.List.Base.html#1553" class="Function">map</a> <a id="3995" class="Symbol">(</a><a id="3996" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="4004" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="4006" href="Coherence.Hypotheses.html#3772" class="Field">A</a> <a id="4008" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="4013" class="Symbol">)</a> <a id="4015" href="Coherence.Hypotheses.html#3933" class="Function">Δ</a>
  <a id="H₂-args.as"></a><a id="4019" href="Coherence.Hypotheses.html#4019" class="Function">as</a> <a id="4022" class="Symbol">=</a> <a id="4024" href="Data.List.Base.html#3708" class="Function">unzip</a> <a id="4030" href="Coherence.Hypotheses.html#3933" class="Function">Δ</a> <a id="4032" class="Symbol">.</a><a id="4033" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₂-args.ms"></a><a id="4041" href="Coherence.Hypotheses.html#4041" class="Function">ms</a> <a id="4044" class="Symbol">=</a> <a id="4046" href="Data.List.Base.html#3708" class="Function">unzip</a> <a id="4052" href="Coherence.Hypotheses.html#3933" class="Function">Δ</a> <a id="4054" class="Symbol">.</a><a id="4055" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
  <a id="H₂-args.k̅"></a><a id="4063" href="Coherence.Hypotheses.html#4063" class="Function">k̅</a>  <a id="4067" class="Symbol">=</a> <a id="4069" href="Data.List.Base.html#4459" class="Function">concatMap</a> <a id="4079" class="Symbol">(</a><a id="4080" href="Data.List.Base.html#1553" class="Function">map</a> <a id="4084" href="Bitcoin.Crypto.html#375" class="Field">pub</a> <a id="4088" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="4090" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a><a id="4095" class="Symbol">)</a> <a id="4097" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="4099" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="4105" href="Coherence.Hypotheses.html#3783" class="Field">k⃗</a>

  <a id="H₂-args.sechash⁺"></a><a id="4111" href="Coherence.Hypotheses.html#4111" class="Function">sechash⁺</a> <a id="4120" class="Symbol">:</a> <a id="4122" href="Coherence.Hypotheses.html#4019" class="Function">as</a> <a id="4125" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="4127" href="Bitcoin.BasicTypes.html#351" class="Function">HashId</a>
  <a id="4136" href="Coherence.Hypotheses.html#4111" class="Function">sechash⁺</a> <a id="4145" href="Coherence.Hypotheses.html#4145" class="Bound">a∈</a> <a id="4148" class="Symbol">=</a>
    <a id="4154" class="Keyword">let</a> <a id="4158" class="Symbol">_</a> <a id="4160" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4162" href="Coherence.Hypotheses.html#4162" class="Bound">a×m∈</a> <a id="4167" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4169" class="Symbol">_</a>    <a id="4174" class="Symbol">=</a> <a id="4176" href="Prelude.Lists.Core.html#1051" class="Function">∈-unzip⁻ˡ</a> <a id="4186" href="Coherence.Hypotheses.html#3933" class="Function">Δ</a> <a id="4188" href="Coherence.Hypotheses.html#4145" class="Bound">a∈</a>
        <a id="4199" class="Symbol">(_</a> <a id="4202" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4204" class="Symbol">_</a> <a id="4206" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4208" href="Coherence.Hypotheses.html#4208" class="Bound">z</a><a id="4209" class="Symbol">)</a> <a id="4211" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4213" class="Symbol">_</a> <a id="4215" class="Symbol">=</a> <a id="4217" href="Data.List.Membership.Propositional.Properties.html#3491" class="Function">∈-map⁻</a> <a id="4224" href="Prelude.Nary.html#3032" class="Function">drop₃</a> <a id="4230" href="Coherence.Hypotheses.html#4162" class="Bound">a×m∈</a>
    <a id="4239" class="Keyword">in</a> <a id="4242" href="Coherence.Hypotheses.html#4208" class="Bound">z</a>
  <a id="4246" class="Keyword">field</a>
    <a id="4256" class="Comment">-- Hypotheses from [C-AuthCommit]</a>
    <a id="H₂-args.as≡"></a><a id="4294" href="Coherence.Hypotheses.html#4294" class="Field">as≡</a> <a id="4298" class="Symbol">:</a> <a id="4300" href="Coherence.Hypotheses.html#4019" class="Function">as</a> <a id="4303" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="4305" href="BitML.Contracts.Collections.html#7218" class="Function">secretsOfᵖ</a> <a id="4316" href="Coherence.Hypotheses.html#3772" class="Field">A</a> <a id="4318" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a>
    <a id="H₂-args.All∉"></a><a id="4324" href="Coherence.Hypotheses.html#4324" class="Field">All∉</a> <a id="4329" class="Symbol">:</a> <a id="4331" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="4335" class="Symbol">(</a><a id="4336" href="Data.List.Membership.Setoid.html#945" class="Function Operator">_∉</a> <a id="4339" href="BitML.Semantics.Configurations.Helpers.html#11169" class="Function">secretsOfᶜᶠ</a> <a id="4351" href="Coherence.Hypotheses.html#3772" class="Field">A</a> <a id="4353" href="Coherence.Hypotheses.html#3767" class="Field">Γ₀</a><a id="4355" class="Symbol">)</a> <a id="4357" href="Coherence.Hypotheses.html#4019" class="Function">as</a>
    <a id="H₂-args.Hon⇒"></a><a id="4364" href="Coherence.Hypotheses.html#4364" class="Field">Hon⇒</a> <a id="4369" class="Symbol">:</a> <a id="4371" href="Coherence.Hypotheses.html#3772" class="Field">A</a> <a id="4373" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="4375" href="BitML.BasicTypes.html#785" class="Function">Hon</a> <a id="4379" class="Symbol">→</a> <a id="4381" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="4385" href="Data.Maybe.html#810" class="Function">Is-just</a> <a id="4393" href="Coherence.Hypotheses.html#4041" class="Function">ms</a>
  <a id="4398" class="Keyword">open</a> <a id="4403" href="Coherence.Hypotheses.html#1742" class="Module">Transition</a>
    <a id="4418" class="Symbol">(</a> <a id="4420" class="Symbol">(</a><a id="4421" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="4423" href="Coherence.Hypotheses.html#3764" class="Field">ad</a> <a id="4426" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4428" href="Coherence.Hypotheses.html#3767" class="Field">Γ₀</a><a id="4430" class="Symbol">)</a> <a id="4432" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="4434" href="Coherence.Hypotheses.html#3770" class="Field">t</a>
    <a id="4440" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">——</a> <a id="4443" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">auth-commit⦅</a> <a id="4456" href="Coherence.Hypotheses.html#3772" class="Field">A</a> <a id="4458" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">,</a> <a id="4460" href="Coherence.Hypotheses.html#3764" class="Field">ad</a> <a id="4463" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">,</a> <a id="4465" href="Coherence.Hypotheses.html#3933" class="Function">Δ</a> <a id="4467" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">⦆</a> <a id="4469" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">—→</a>
      <a id="4478" class="Symbol">(</a><a id="4479" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="4481" href="Coherence.Hypotheses.html#3764" class="Field">ad</a> <a id="4484" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4486" href="Coherence.Hypotheses.html#3767" class="Field">Γ₀</a> <a id="4489" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4491" href="Coherence.Hypotheses.html#3983" class="Function">Δᶜ</a> <a id="4494" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4496" href="Coherence.Hypotheses.html#3772" class="Field">A</a> <a id="4498" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="4504" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="4507" href="Coherence.Hypotheses.html#3764" class="Field">ad</a> <a id="4510" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="4511" class="Symbol">)</a> <a id="4513" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="4515" href="Coherence.Hypotheses.html#3770" class="Field">t</a>
    <a id="4521" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⊣</a> <a id="4523" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="4527" class="Symbol">(</a><a id="4528" href="BitML.Semantics.InferenceRules.html#3794" class="InductiveConstructor">[C-AuthCommit]</a> <a id="4543" href="Coherence.Hypotheses.html#4294" class="Field">as≡</a> <a id="4547" href="Coherence.Hypotheses.html#4324" class="Field">All∉</a> <a id="4552" href="Coherence.Hypotheses.html#4364" class="Field">Hon⇒</a><a id="4556" class="Symbol">)</a>
    <a id="4562" class="Symbol">)</a> <a id="4564" class="Keyword">public</a> <a id="4571" class="Keyword">hiding</a> <a id="4578" class="Symbol">(</a><a id="4579" href="Coherence.Hypotheses.html#1819" class="Field">t</a><a id="4580" class="Symbol">)</a>
  <a id="4584" class="Keyword">field</a> <a id="H₂-args.𝕙r"></a><a id="4590" href="Coherence.Hypotheses.html#4590" class="Field">𝕙r</a> <a id="4593" class="Symbol">:</a> <a id="4595" href="Coherence.Hypotheses.html#1958" class="Record">ℍ-Run</a> <a id="4601" href="Coherence.Hypotheses.html#1929" class="Function">Γ→</a>
  <a id="4606" class="Keyword">open</a> <a id="4611" href="Coherence.Hypotheses.html#1958" class="Module">ℍ-Run</a> <a id="4617" href="Coherence.Hypotheses.html#4590" class="Field">𝕙r</a> <a id="4620" class="Keyword">public</a>

<a id="4628" class="Keyword">module</a> <a id="4635" href="Coherence.Hypotheses.html#4635" class="Module">H₂</a> <a id="4638" class="Symbol">(</a><a id="4639" href="Coherence.Hypotheses.html#4639" class="Bound">⋯</a> <a id="4641" class="Symbol">:</a> <a id="4643" href="Coherence.Hypotheses.html#3713" class="Record">H₂-args</a><a id="4650" class="Symbol">)</a> <a id="4652" class="Symbol">(</a><a id="4653" class="Keyword">open</a> <a id="4658" href="Coherence.Hypotheses.html#3713" class="Module">H₂-args</a> <a id="4666" href="Coherence.Hypotheses.html#4639" class="Bound">⋯</a><a id="4667" class="Symbol">)</a> <a id="4669" class="Keyword">where</a>
  <a id="4677" class="Keyword">open</a> <a id="4682" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

  <a id="4697" href="Coherence.Hypotheses.html#4697" class="Function">mkRev</a> <a id="4703" class="Symbol">:</a> <a id="4705" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="4710" class="Symbol">(</a><a id="4711" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="4718" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="4720" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="4726" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="4727" class="Symbol">)</a> <a id="4729" class="Symbol">→</a> <a id="4731" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a>
  <a id="4737" href="Coherence.Hypotheses.html#4697" class="Function">mkRev</a> <a id="4743" class="Symbol">=</a> <a id="4745" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||_</a> <a id="4749" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="4751" href="Data.List.Base.html#1553" class="Function">map</a> <a id="4755" class="Symbol">(</a><a id="4756" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="4764" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="4766" href="Coherence.Hypotheses.html#3772" class="Field">A</a> <a id="4768" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="4773" class="Symbol">)</a>

  <a id="4778" href="Coherence.Hypotheses.html#4778" class="Function">ids≡</a> <a id="4783" class="Symbol">:</a> <a id="4785" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="4788" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="4791" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="4795" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="4797" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a>
  <a id="4801" href="Coherence.Hypotheses.html#4778" class="Function">ids≡</a> <a id="4806" class="Symbol">=</a>
    <a id="4812" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
      <a id="4824" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="4828" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
    <a id="4835" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
      <a id="4845" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="4849" class="Symbol">(</a><a id="4850" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="4852" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4854" href="Coherence.Hypotheses.html#4697" class="Function">mkRev</a> <a id="4860" href="Coherence.Hypotheses.html#3933" class="Function">Δ</a> <a id="4862" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4864" href="Coherence.Hypotheses.html#3772" class="Field">A</a> <a id="4866" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="4872" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="4875" href="Coherence.Hypotheses.html#3764" class="Field">ad</a> <a id="4878" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="4879" class="Symbol">)</a>
    <a id="4885" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="4888" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="4916" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="4923" class="Symbol">(</a><a id="4924" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="4926" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4928" href="Coherence.Hypotheses.html#4697" class="Function">mkRev</a> <a id="4934" href="Coherence.Hypotheses.html#3933" class="Function">Δ</a><a id="4935" class="Symbol">)</a> <a id="4937" class="Symbol">(</a><a id="4938" href="Coherence.Hypotheses.html#3772" class="Field">A</a> <a id="4940" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="4946" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="4949" href="Coherence.Hypotheses.html#3764" class="Field">ad</a> <a id="4952" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="4953" class="Symbol">)</a> <a id="4955" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="4963" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="4967" class="Symbol">(</a><a id="4968" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="4970" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="4972" href="Coherence.Hypotheses.html#4697" class="Function">mkRev</a> <a id="4978" href="Coherence.Hypotheses.html#3933" class="Function">Δ</a><a id="4979" class="Symbol">)</a> <a id="4981" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="4984" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="4988" class="Symbol">(</a><a id="4989" href="Coherence.Hypotheses.html#3772" class="Field">A</a> <a id="4991" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="4997" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="5000" href="Coherence.Hypotheses.html#3764" class="Field">ad</a> <a id="5003" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="5004" class="Symbol">)</a>
    <a id="5010" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
      <a id="5020" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="5024" class="Symbol">(</a><a id="5025" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="5027" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5029" href="Coherence.Hypotheses.html#4697" class="Function">mkRev</a> <a id="5035" href="Coherence.Hypotheses.html#3933" class="Function">Δ</a><a id="5036" class="Symbol">)</a> <a id="5038" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="5041" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
    <a id="5048" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5051" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="5066" class="Symbol">_</a> <a id="5068" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="5076" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="5080" class="Symbol">(</a><a id="5081" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="5083" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5085" href="Coherence.Hypotheses.html#4697" class="Function">mkRev</a> <a id="5091" href="Coherence.Hypotheses.html#3933" class="Function">Δ</a><a id="5092" class="Symbol">)</a>
    <a id="5098" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5101" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="5129" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="5136" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="5138" class="Symbol">(</a><a id="5139" href="Coherence.Hypotheses.html#4697" class="Function">mkRev</a> <a id="5145" href="Coherence.Hypotheses.html#3933" class="Function">Δ</a><a id="5146" class="Symbol">)</a> <a id="5148" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="5156" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="5160" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="5162" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="5165" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="5169" class="Symbol">(</a><a id="5170" href="Coherence.Hypotheses.html#4697" class="Function">mkRev</a> <a id="5176" href="Coherence.Hypotheses.html#3933" class="Function">Δ</a><a id="5177" class="Symbol">)</a>
    <a id="5183" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5186" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="5191" class="Symbol">(</a><a id="5192" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="5196" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="5198" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="5201" class="Symbol">)</a> <a id="5203" class="Symbol">(</a><a id="5204" href="Coherence.Hypotheses.html#5286" class="Function">hʳ</a> <a id="5207" href="Coherence.Hypotheses.html#3933" class="Function">Δ</a><a id="5208" class="Symbol">)</a> <a id="5210" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="5218" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="5222" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="5224" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="5227" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
    <a id="5234" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5237" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="5252" class="Symbol">_</a> <a id="5254" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="5262" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="5266" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a>
    <a id="5272" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="5274" class="Keyword">where</a>
      <a id="5286" href="Coherence.Hypotheses.html#5286" class="Function">hʳ</a> <a id="5289" class="Symbol">:</a> <a id="5291" class="Symbol">∀</a> <a id="5293" href="Coherence.Hypotheses.html#5293" class="Bound">Δ</a> <a id="5295" class="Symbol">→</a> <a id="5297" href="Prelude.Null.html#263" class="Field">Null</a> <a id="5302" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="5304" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="5308" class="Symbol">(</a><a id="5309" href="Coherence.Hypotheses.html#4697" class="Function">mkRev</a> <a id="5315" href="Coherence.Hypotheses.html#5293" class="Bound">Δ</a><a id="5316" class="Symbol">)</a>
      <a id="5324" href="Coherence.Hypotheses.html#5286" class="Function">hʳ</a> <a id="5327" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="5330" class="Symbol">=</a> <a id="5332" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="5343" href="Coherence.Hypotheses.html#5286" class="Function">hʳ</a> <a id="5346" class="Symbol">(_</a> <a id="5349" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="5351" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="5353" class="Symbol">)</a> <a id="5355" class="Symbol">=</a> <a id="5357" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="5368" href="Coherence.Hypotheses.html#5286" class="Function">hʳ</a> <a id="5371" class="Symbol">(_</a> <a id="5374" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="5376" href="Coherence.Hypotheses.html#5376" class="Bound">Δ</a><a id="5377" class="Symbol">@(_</a> <a id="5381" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="5383" class="Symbol">_))</a> <a id="5387" class="Keyword">rewrite</a> <a id="5395" href="Coherence.Hypotheses.html#5286" class="Function">hʳ</a> <a id="5398" href="Coherence.Hypotheses.html#5376" class="Bound">Δ</a> <a id="5400" class="Symbol">=</a> <a id="5402" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="5417" class="Symbol">_</a>

  <a id="5422" href="Coherence.Hypotheses.html#5422" class="Function">secrets≡</a> <a id="5431" class="Symbol">:</a> <a id="5433" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="5441" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="5444" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="5446" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="5454" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="5456" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="5459" href="Coherence.Hypotheses.html#4019" class="Function">as</a>
  <a id="5464" href="Coherence.Hypotheses.html#5422" class="Function">secrets≡</a> <a id="5473" class="Symbol">=</a>
    <a id="5479" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
      <a id="5491" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="5499" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
    <a id="5506" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5509" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="5537" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="5544" class="Symbol">(</a><a id="5545" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="5547" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5549" href="Coherence.Hypotheses.html#4697" class="Function">mkRev</a> <a id="5555" href="Coherence.Hypotheses.html#3933" class="Function">Δ</a><a id="5556" class="Symbol">)</a> <a id="5558" class="Symbol">(</a><a id="5559" href="Coherence.Hypotheses.html#3772" class="Field">A</a> <a id="5561" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="5567" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="5570" href="Coherence.Hypotheses.html#3764" class="Field">ad</a> <a id="5573" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="5574" class="Symbol">)</a> <a id="5576" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="5584" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="5592" class="Symbol">(</a><a id="5593" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="5595" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5597" href="Coherence.Hypotheses.html#4697" class="Function">mkRev</a> <a id="5603" href="Coherence.Hypotheses.html#3933" class="Function">Δ</a><a id="5604" class="Symbol">)</a> <a id="5606" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="5609" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
    <a id="5616" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5619" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="5634" class="Symbol">_</a> <a id="5636" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="5644" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="5652" class="Symbol">(</a><a id="5653" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="5655" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5657" href="Coherence.Hypotheses.html#4697" class="Function">mkRev</a> <a id="5663" href="Coherence.Hypotheses.html#3933" class="Function">Δ</a><a id="5664" class="Symbol">)</a>
    <a id="5670" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5673" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="5701" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="5708" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="5710" class="Symbol">(</a><a id="5711" href="Coherence.Hypotheses.html#4697" class="Function">mkRev</a> <a id="5717" href="Coherence.Hypotheses.html#3933" class="Function">Δ</a><a id="5718" class="Symbol">)</a> <a id="5720" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="5728" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="5736" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="5738" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="5741" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="5749" class="Symbol">(</a><a id="5750" href="Coherence.Hypotheses.html#4697" class="Function">mkRev</a> <a id="5756" href="Coherence.Hypotheses.html#3933" class="Function">Δ</a><a id="5757" class="Symbol">)</a>
    <a id="5763" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5766" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="5771" class="Symbol">(</a><a id="5772" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="5780" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="5782" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="5785" class="Symbol">)</a> <a id="5787" class="Symbol">(</a><a id="5788" href="Coherence.Hypotheses.html#5836" class="Function">hˡ</a> <a id="5791" href="Coherence.Hypotheses.html#3933" class="Function">Δ</a><a id="5792" class="Symbol">)</a> <a id="5794" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="5802" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="5810" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="5812" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="5815" href="Coherence.Hypotheses.html#4019" class="Function">as</a>
    <a id="5822" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="5824" class="Keyword">where</a>
      <a id="5836" href="Coherence.Hypotheses.html#5836" class="Function">hˡ</a> <a id="5839" class="Symbol">:</a> <a id="5841" class="Symbol">∀</a> <a id="5843" href="Coherence.Hypotheses.html#5843" class="Bound">Δ</a> <a id="5845" class="Symbol">→</a> <a id="5847" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="5855" class="Symbol">(</a><a id="5856" href="Coherence.Hypotheses.html#4697" class="Function">mkRev</a> <a id="5862" href="Coherence.Hypotheses.html#5843" class="Bound">Δ</a><a id="5863" class="Symbol">)</a> <a id="5865" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="5867" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="5873" class="Symbol">(</a><a id="5874" href="Data.List.Base.html#3708" class="Function">unzip</a> <a id="5880" href="Coherence.Hypotheses.html#5843" class="Bound">Δ</a><a id="5881" class="Symbol">)</a>
      <a id="5889" href="Coherence.Hypotheses.html#5836" class="Function">hˡ</a> <a id="5892" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="5895" class="Symbol">=</a> <a id="5897" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="5908" href="Coherence.Hypotheses.html#5836" class="Function">hˡ</a> <a id="5911" class="Symbol">(_</a> <a id="5914" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="5916" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="5918" class="Symbol">)</a> <a id="5920" class="Symbol">=</a> <a id="5922" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="5933" href="Coherence.Hypotheses.html#5836" class="Function">hˡ</a> <a id="5936" class="Symbol">((</a><a id="5938" href="Coherence.Hypotheses.html#5938" class="Bound">s</a> <a id="5940" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5942" href="Coherence.Hypotheses.html#5942" class="Bound">m</a><a id="5943" class="Symbol">)</a> <a id="5945" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="5947" href="Coherence.Hypotheses.html#5947" class="Bound">Δ</a><a id="5948" class="Symbol">@(_</a> <a id="5952" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="5954" class="Symbol">_))</a> <a id="5958" class="Symbol">=</a>
        <a id="5968" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
          <a id="5984" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="5992" class="Symbol">(</a><a id="5993" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="5995" href="Coherence.Hypotheses.html#3772" class="Field">A</a> <a id="5997" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶</a> <a id="5999" href="Coherence.Hypotheses.html#5938" class="Bound">s</a> <a id="6001" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">♯</a> <a id="6003" href="Coherence.Hypotheses.html#5942" class="Bound">m</a> <a id="6005" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟩</a> <a id="6007" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6009" href="Coherence.Hypotheses.html#4697" class="Function">mkRev</a> <a id="6015" href="Coherence.Hypotheses.html#5947" class="Bound">Δ</a><a id="6016" class="Symbol">)</a>
        <a id="6026" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6029" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="6057" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="6064" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6066" href="Coherence.Hypotheses.html#3772" class="Field">A</a> <a id="6068" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶</a> <a id="6070" href="Coherence.Hypotheses.html#5938" class="Bound">s</a> <a id="6072" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">♯</a> <a id="6074" href="Coherence.Hypotheses.html#5942" class="Bound">m</a> <a id="6076" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟩</a> <a id="6078" class="Symbol">(</a><a id="6079" href="Coherence.Hypotheses.html#4697" class="Function">mkRev</a> <a id="6085" href="Coherence.Hypotheses.html#5947" class="Bound">Δ</a><a id="6086" class="Symbol">)</a> <a id="6088" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="6100" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="6108" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="6110" href="Coherence.Hypotheses.html#3772" class="Field">A</a> <a id="6112" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶</a> <a id="6114" href="Coherence.Hypotheses.html#5938" class="Bound">s</a> <a id="6116" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">♯</a> <a id="6118" href="Coherence.Hypotheses.html#5942" class="Bound">m</a> <a id="6120" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟩</a> <a id="6122" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6125" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="6133" class="Symbol">(</a><a id="6134" href="Coherence.Hypotheses.html#4697" class="Function">mkRev</a> <a id="6140" href="Coherence.Hypotheses.html#5947" class="Bound">Δ</a><a id="6141" class="Symbol">)</a>
        <a id="6151" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
          <a id="6165" href="Coherence.Hypotheses.html#5938" class="Bound">s</a> <a id="6167" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6169" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="6177" class="Symbol">(</a><a id="6178" href="Coherence.Hypotheses.html#4697" class="Function">mkRev</a> <a id="6184" href="Coherence.Hypotheses.html#5947" class="Bound">Δ</a><a id="6185" class="Symbol">)</a>
        <a id="6195" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6198" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="6203" class="Symbol">(</a><a id="6204" href="Coherence.Hypotheses.html#5938" class="Bound">s</a> <a id="6206" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷_</a><a id="6208" class="Symbol">)</a> <a id="6210" class="Symbol">(</a><a id="6211" href="Coherence.Hypotheses.html#5836" class="Function">hˡ</a> <a id="6214" href="Coherence.Hypotheses.html#5947" class="Bound">Δ</a><a id="6215" class="Symbol">)</a> <a id="6217" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="6229" href="Coherence.Hypotheses.html#5938" class="Bound">s</a> <a id="6231" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6233" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="6239" class="Symbol">(</a><a id="6240" href="Data.List.Base.html#3708" class="Function">unzip</a> <a id="6246" href="Coherence.Hypotheses.html#5947" class="Bound">Δ</a><a id="6247" class="Symbol">)</a>
        <a id="6257" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

  <a id="6262" href="Coherence.Hypotheses.html#6262" class="Function">hᵃ</a> <a id="6265" class="Symbol">:</a> <a id="6267" class="Symbol">∀</a> <a id="6269" href="Coherence.Hypotheses.html#6269" class="Bound">Δ</a> <a id="6271" class="Symbol">→</a> <a id="6273" href="Prelude.Null.html#263" class="Field">Null</a> <a id="6278" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="6280" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="6295" class="Symbol">(</a><a id="6296" href="Coherence.Hypotheses.html#4697" class="Function">mkRev</a> <a id="6302" href="Coherence.Hypotheses.html#6269" class="Bound">Δ</a><a id="6303" class="Symbol">)</a>
  <a id="6307" href="Coherence.Hypotheses.html#6262" class="Function">hᵃ</a> <a id="6310" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="6313" class="Symbol">=</a> <a id="6315" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="6322" href="Coherence.Hypotheses.html#6262" class="Function">hᵃ</a> <a id="6325" class="Symbol">(_</a> <a id="6328" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6330" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="6332" class="Symbol">)</a> <a id="6334" class="Symbol">=</a> <a id="6336" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="6343" href="Coherence.Hypotheses.html#6262" class="Function">hᵃ</a> <a id="6346" class="Symbol">(_</a> <a id="6349" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6351" href="Coherence.Hypotheses.html#6351" class="Bound">Δ</a><a id="6352" class="Symbol">@(_</a> <a id="6356" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6358" class="Symbol">_))</a> <a id="6362" class="Keyword">rewrite</a> <a id="6370" href="Coherence.Hypotheses.html#6262" class="Function">hᵃ</a> <a id="6373" href="Coherence.Hypotheses.html#6351" class="Bound">Δ</a> <a id="6375" class="Symbol">=</a> <a id="6377" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="6392" class="Symbol">_</a>

  <a id="6397" href="Coherence.Hypotheses.html#6397" class="Function">ads≡</a> <a id="6402" class="Symbol">:</a> <a id="6404" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="6419" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="6422" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="6424" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="6439" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="6441" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6444" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="6459" class="Symbol">(</a><a id="6460" href="Coherence.Hypotheses.html#3772" class="Field">A</a> <a id="6462" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="6468" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="6471" href="Coherence.Hypotheses.html#3764" class="Field">ad</a> <a id="6474" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="6475" class="Symbol">)</a>
  <a id="6479" href="Coherence.Hypotheses.html#6397" class="Function">ads≡</a> <a id="6484" class="Keyword">rewrite</a> <a id="6492" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="6511" class="Symbol">{</a><a id="6512" class="Argument">X</a> <a id="6514" class="Symbol">=</a> <a id="6516" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="6518" class="Symbol">}</a> <a id="6520" class="Symbol">(</a><a id="6521" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="6523" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6525" href="Coherence.Hypotheses.html#4697" class="Function">mkRev</a> <a id="6531" href="Coherence.Hypotheses.html#3933" class="Function">Δ</a><a id="6532" class="Symbol">)</a> <a id="6534" class="Symbol">(</a><a id="6535" href="Coherence.Hypotheses.html#3772" class="Field">A</a> <a id="6537" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="6543" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="6546" href="Coherence.Hypotheses.html#3764" class="Field">ad</a> <a id="6549" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="6550" class="Symbol">)</a>
              <a id="6566" class="Symbol">|</a> <a id="6568" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="6587" class="Symbol">{</a><a id="6588" class="Argument">X</a> <a id="6590" class="Symbol">=</a> <a id="6592" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="6594" class="Symbol">}</a> <a id="6596" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="6598" class="Symbol">(</a><a id="6599" href="Coherence.Hypotheses.html#4697" class="Function">mkRev</a> <a id="6605" href="Coherence.Hypotheses.html#3933" class="Function">Δ</a><a id="6606" class="Symbol">)</a>
              <a id="6622" class="Symbol">|</a> <a id="6624" href="Coherence.Hypotheses.html#6262" class="Function">hᵃ</a> <a id="6627" href="Coherence.Hypotheses.html#3933" class="Function">Δ</a>
              <a id="6643" class="Symbol">|</a> <a id="6645" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="6660" class="Symbol">(</a><a id="6661" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="6676" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a><a id="6677" class="Symbol">)</a>
              <a id="6693" class="Symbol">=</a> <a id="6695" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

  <a id="6703" href="Coherence.Hypotheses.html#6703" class="Function">txout↝</a> <a id="6710" class="Symbol">:</a> <a id="6712" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="6714" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="6717" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="6723" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="6725" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
  <a id="6730" class="Comment">-- txout↝ = lift Γ —⟨ ids ⟩— Γ′ ⊣ ids≡</a>
  <a id="6771" href="Coherence.Hypotheses.html#6703" class="Function">txout↝</a> <a id="6778" href="Coherence.Hypotheses.html#6778" class="Bound">txoutΓ</a> <a id="6785" class="Symbol">{</a><a id="6786" href="Coherence.Hypotheses.html#6786" class="Bound">x</a><a id="6787" class="Symbol">}</a> <a id="6789" href="Coherence.Hypotheses.html#6789" class="Bound">x∈</a>
    <a id="6796" class="Keyword">with</a> <a id="6801" href="BitML.Semantics.Configurations.Helpers.html#10161" class="Function">∈-ids-++⁻</a> <a id="6811" class="Symbol">(</a><a id="6812" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="6814" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6816" href="Coherence.Hypotheses.html#4697" class="Function">mkRev</a> <a id="6822" href="Coherence.Hypotheses.html#3933" class="Function">Δ</a><a id="6823" class="Symbol">)</a> <a id="6825" class="Symbol">(</a><a id="6826" href="Coherence.Hypotheses.html#3772" class="Field">A</a> <a id="6828" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="6834" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="6837" href="Coherence.Hypotheses.html#3764" class="Field">ad</a> <a id="6840" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="6841" class="Symbol">)</a> <a id="6843" href="Coherence.Hypotheses.html#6789" class="Bound">x∈</a>
  <a id="6848" class="Symbol">...</a> <a id="6852" class="Symbol">|</a> <a id="6854" href="Data.Sum.Base.html#818" class="InductiveConstructor">inj₂</a> <a id="6859" class="Symbol">()</a>
  <a id="6864" class="Symbol">...</a> <a id="6868" class="Symbol">|</a> <a id="6870" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="6875" href="Coherence.Hypotheses.html#6875" class="Bound">x∈</a>
    <a id="6882" class="Keyword">with</a> <a id="6887" href="BitML.Semantics.Configurations.Helpers.html#10161" class="Function">∈-ids-++⁻</a> <a id="6897" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="6899" class="Symbol">(</a><a id="6900" href="Coherence.Hypotheses.html#4697" class="Function">mkRev</a> <a id="6906" href="Coherence.Hypotheses.html#3933" class="Function">Δ</a><a id="6907" class="Symbol">)</a> <a id="6909" href="Coherence.Hypotheses.html#6875" class="Bound">x∈</a>
  <a id="6914" class="Symbol">...</a> <a id="6918" class="Symbol">|</a> <a id="6920" href="Data.Sum.Base.html#818" class="InductiveConstructor">inj₂</a> <a id="6925" href="Coherence.Hypotheses.html#6925" class="Bound">x∈</a> <a id="6928" class="Symbol">=</a> <a id="6930" href="Prelude.Decidable.Core.html#347" class="Function">contradict</a> <a id="6941" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="6943" href="Coherence.Hypotheses.html#6925" class="Bound">x∈</a> <a id="6946" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="6949" href="Coherence.Hypotheses.html#6983" class="Function">hʳ</a> <a id="6952" href="Coherence.Hypotheses.html#3933" class="Function">Δ</a> <a id="6954" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="6956" class="Bound">x</a> <a id="6958" href="Data.List.Membership.Setoid.html#896" class="Function Operator">L.Mem.∈_</a> <a id="6967" href="Prelude.SubstDSL.html#164" class="Function">⟫</a>
    <a id="6973" class="Keyword">where</a>
    <a id="6983" href="Coherence.Hypotheses.html#6983" class="Function">hʳ</a> <a id="6986" class="Symbol">:</a> <a id="6988" class="Symbol">∀</a> <a id="6990" href="Coherence.Hypotheses.html#6990" class="Bound">Δ</a> <a id="6992" class="Symbol">→</a> <a id="6994" href="Prelude.Null.html#263" class="Field">Null</a> <a id="6999" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="7001" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="7005" class="Symbol">(</a><a id="7006" href="Coherence.Hypotheses.html#4697" class="Function">mkRev</a> <a id="7012" href="Coherence.Hypotheses.html#6990" class="Bound">Δ</a><a id="7013" class="Symbol">)</a>
    <a id="7019" href="Coherence.Hypotheses.html#6983" class="Function">hʳ</a> <a id="7022" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="7025" class="Symbol">=</a> <a id="7027" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="7036" href="Coherence.Hypotheses.html#6983" class="Function">hʳ</a> <a id="7039" class="Symbol">(_</a> <a id="7042" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7044" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="7046" class="Symbol">)</a> <a id="7048" class="Symbol">=</a> <a id="7050" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="7059" href="Coherence.Hypotheses.html#6983" class="Function">hʳ</a> <a id="7062" class="Symbol">(_</a> <a id="7065" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7067" href="Coherence.Hypotheses.html#7067" class="Bound">Δ</a><a id="7068" class="Symbol">@(_</a> <a id="7072" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7074" class="Symbol">_))</a> <a id="7078" class="Keyword">rewrite</a> <a id="7086" href="Coherence.Hypotheses.html#6983" class="Function">hʳ</a> <a id="7089" href="Coherence.Hypotheses.html#7067" class="Bound">Δ</a> <a id="7091" class="Symbol">=</a> <a id="7093" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="7108" class="Symbol">_</a>
  <a id="7112" class="Symbol">...</a> <a id="7116" class="Symbol">|</a> <a id="7118" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="7123" href="Coherence.Hypotheses.html#7123" class="Bound">x∈</a> <a id="7126" class="Symbol">=</a> <a id="7128" class="Bound">txoutΓ</a> <a id="7135" href="Coherence.Hypotheses.html#7123" class="Bound">x∈</a>

  <a id="7141" href="Coherence.Hypotheses.html#7141" class="Function">sechash↝</a> <a id="7150" class="Symbol">:</a>  <a id="7153" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="7155" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="7158" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="7166" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="7168" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
  <a id="7173" href="Coherence.Hypotheses.html#7141" class="Function">sechash↝</a> <a id="7182" href="Coherence.Hypotheses.html#7182" class="Bound">sechash′</a> <a id="7191" class="Symbol">=</a> <a id="7193" href="Prelude.Lists.Mappings.html#1750" class="Function">extend-↦</a> <a id="7202" class="Symbol">(</a><a id="7203" href="Data.List.Relation.Binary.Permutation.Propositional.html#1377" class="Function">↭-reflexive</a> <a id="7215" href="Coherence.Hypotheses.html#5422" class="Function">secrets≡</a><a id="7223" class="Symbol">)</a> <a id="7225" href="Coherence.Hypotheses.html#7182" class="Bound">sechash′</a> <a id="7234" href="Coherence.Hypotheses.html#4111" class="Function">sechash⁺</a>

  <a id="7246" href="Coherence.Hypotheses.html#7246" class="Function">κ↝</a> <a id="7249" class="Symbol">:</a> <a id="7251" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="7253" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="7256" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="7259" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="7261" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
  <a id="7266" href="Coherence.Hypotheses.html#7246" class="Function">κ↝</a> <a id="7269" href="Coherence.Hypotheses.html#7269" class="Bound">κ′</a> <a id="7272" class="Symbol">=</a> <a id="7274" href="Prelude.Lists.Mappings.html#1750" class="Function">extend-↦</a> <a id="7283" class="Symbol">(</a><a id="7284" href="Data.List.Relation.Binary.Permutation.Propositional.html#1377" class="Function">↭-reflexive</a> <a id="7296" href="Coherence.Hypotheses.html#6397" class="Function">ads≡</a><a id="7300" class="Symbol">)</a> <a id="7302" href="Coherence.Hypotheses.html#7269" class="Bound">κ′</a> <a id="7305" href="Coherence.Hypotheses.html#7324" class="Function">κ″</a>
    <a id="7312" class="Keyword">where</a>
      <a id="7324" href="Coherence.Hypotheses.html#7324" class="Function">κ″</a> <a id="7327" class="Symbol">:</a> <a id="7329" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="7344" class="Symbol">(</a><a id="7345" href="Coherence.Hypotheses.html#3772" class="Field">A</a> <a id="7347" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="7353" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="7356" href="Coherence.Hypotheses.html#3764" class="Field">ad</a> <a id="7359" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="7360" class="Symbol">)</a> <a id="7362" href="Prelude.Lists.Mappings.html#654" class="Function Operator">↦′</a> <a id="7365" href="Compiler.Mappings.html#454" class="Function">𝕂²′</a>
      <a id="7375" href="Coherence.Hypotheses.html#7324" class="Function">κ″</a> <a id="7378" href="Coherence.Hypotheses.html#7378" class="Bound">x∈</a> <a id="7381" class="Keyword">with</a> <a id="7386" href="Relation.Nullary.html#1590" class="Field">does</a> <a id="7391" class="Symbol">(</a><a id="7392" href="Coherence.Hypotheses.html#3772" class="Field">A</a> <a id="7394" href="Prelude.Membership.html#455" class="Field Operator">∈?</a> <a id="7397" href="BitML.BasicTypes.html#785" class="Function">Hon</a><a id="7400" class="Symbol">)</a> <a id="7402" class="Symbol">|</a> <a id="7404" href="Coherence.Hypotheses.html#7378" class="Bound">x∈</a>
      <a id="7413" class="Symbol">...</a> <a id="7417" class="Symbol">|</a> <a id="7419" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>  <a id="7425" class="Symbol">|</a> <a id="7427" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="7429" class="Symbol">=</a> <a id="7431" href="Coherence.Hypotheses.html#3783" class="Field">k⃗</a>
      <a id="7440" class="Symbol">...</a> <a id="7444" class="Symbol">|</a> <a id="7446" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a> <a id="7452" class="Symbol">|</a> <a id="7454" class="Symbol">()</a>

  <a id="7460" href="Coherence.Hypotheses.html#7460" class="Function">λˢ</a> <a id="7463" class="Symbol">:</a> <a id="7465" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="7468" href="Coherence.Hypotheses.html#1895" class="Function">Γₜ′</a>
  <a id="7474" href="Coherence.Hypotheses.html#7460" class="Function">λˢ</a> <a id="7477" class="Symbol">=</a> <a id="7479" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="7485" href="Coherence.Hypotheses.html#2229" class="Function">𝕣</a> <a id="7487" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="7489" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="7492" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="7495" href="Coherence.Hypotheses.html#6703" class="Function">txout↝</a> <a id="7502" href="Coherence.Hypotheses.html#7141" class="Function">sechash↝</a> <a id="7511" href="Coherence.Hypotheses.html#7246" class="Function">κ↝</a>

<a id="7515" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[2]~_⨾_"></a><a id="7520" href="Coherence.Hypotheses.html#7520" class="Datatype Operator">_⨾_⨾_~ℍ[2]~_⨾_</a> <a id="7535" class="Symbol">:</a> <a id="7537" href="Coherence.Hypotheses.html#1602" class="Function">StepRel</a> <a id="7545" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[2]~_⨾_.mkℍ"></a><a id="7553" href="Coherence.Hypotheses.html#7553" class="InductiveConstructor">mkℍ</a> <a id="7557" class="Symbol">:</a> <a id="7559" class="Symbol">∀</a> <a id="7561" class="Symbol">{</a><a id="7562" href="Coherence.Hypotheses.html#7562" class="Bound">h</a> <a id="7564" class="Symbol">:</a> <a id="7566" href="Coherence.Hypotheses.html#3713" class="Record">H₂-args</a><a id="7573" class="Symbol">}</a> <a id="7575" class="Symbol">{</a><a id="7576" href="Coherence.Hypotheses.html#7576" class="Bound">B</a><a id="7577" class="Symbol">}</a>
    <a id="7583" class="Symbol">→</a> <a id="7585" class="Keyword">let</a>
        <a id="7597" class="Comment">-- (i) consume {G}C and its persistent deposits from Rˢ</a>
        <a id="7661" class="Keyword">open</a> <a id="7666" href="Coherence.Hypotheses.html#3713" class="Module">H₂-args</a> <a id="7674" href="Coherence.Hypotheses.html#7562" class="Bound">h</a> <a id="7676" class="Keyword">renaming</a> <a id="7685" class="Symbol">(</a><a id="7686" href="Coherence.Hypotheses.html#3764" class="Field">ad</a> <a id="7689" class="Symbol">to</a> <a id="7692" class="Field">⟨G⟩C</a><a id="7696" class="Symbol">)</a>

        <a id="7707" href="Coherence.Hypotheses.html#7707" class="Bound">C</a>      <a id="7714" class="Symbol">=</a> <a id="7716" href="Coherence.ComputationalContracts.html#12140" class="Function">encodeAd</a> <a id="7725" href="Coherence.Hypotheses.html#7692" class="Function">⟨G⟩C</a> <a id="7730" class="Symbol">(</a><a id="7731" href="SymbolicModel.Properties.html#4893" class="Function">ad∈⇒Txout</a> <a id="7741" class="Symbol">{</a><a id="7742" href="Coherence.Hypotheses.html#7692" class="Function">⟨G⟩C</a><a id="7746" class="Symbol">}{</a><a id="7748" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a><a id="7749" class="Symbol">}{</a><a id="7751" href="Coherence.Hypotheses.html#2103" class="Function">Rˢ</a><a id="7753" class="Symbol">}</a> <a id="7755" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="7757" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="7760" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a><a id="7766" class="Symbol">)</a>
        <a id="7776" href="Coherence.Hypotheses.html#7776" class="Bound">C,h̅,k̅</a>  <a id="7785" class="Symbol">=</a> <a id="7787" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="7794" class="Symbol">(</a><a id="7795" href="Coherence.Hypotheses.html#7707" class="Bound">C</a> <a id="7797" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="7799" href="Coherence.Hypotheses.html#3874" class="Function">h̅</a> <a id="7802" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="7804" href="Coherence.Hypotheses.html#4063" class="Function">k̅</a><a id="7806" class="Symbol">)</a>
        <a id="7816" href="Coherence.Hypotheses.html#7816" class="Bound">C,h̅,k̅ₐ</a> <a id="7825" class="Symbol">=</a> <a id="7827" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="7831" class="Symbol">(</a><a id="7832" href="ComputationalModel.KeyPairs.html#177" class="Function">K</a> <a id="7834" href="Coherence.Hypotheses.html#3772" class="Function">A</a><a id="7835" class="Symbol">)</a> <a id="7837" href="Coherence.Hypotheses.html#7776" class="Bound">C,h̅,k̅</a>

        <a id="7854" class="Comment">-- (ii) broadcast message in Rᶜ</a>
        <a id="7894" href="Coherence.Hypotheses.html#7894" class="Bound">λᶜ</a> <a id="7897" class="Symbol">=</a> <a id="7899" href="Coherence.Hypotheses.html#7576" class="Bound">B</a> <a id="7901" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="7905" href="Coherence.Hypotheses.html#7816" class="Bound">C,h̅,k̅ₐ</a>

        <a id="7923" class="Comment">-- (v) txout = txout′ (vi) extend sechash′ (vii) extend κ′</a>
        <a id="7990" class="Keyword">open</a> <a id="7995" href="Coherence.Hypotheses.html#4635" class="Module">H₂</a> <a id="7998" href="Coherence.Hypotheses.html#7562" class="Bound">h</a> <a id="8000" class="Keyword">using</a> <a id="8006" class="Symbol">(</a><a id="8007" href="Coherence.Hypotheses.html#7460" class="Function">λˢ</a><a id="8009" class="Symbol">)</a>
      <a id="8017" class="Keyword">in</a>

      <a id="8027" class="Comment">-- (i) ⟨G⟩C has been previously advertised in Rᶜ</a>
    <a id="8080" class="Symbol">∀</a> <a id="8082" class="Symbol">(</a><a id="8083" href="Coherence.Hypotheses.html#8083" class="Bound">∃B</a> <a id="8086" class="Symbol">:</a> <a id="8088" href="Data.Product.html#1378" class="Function">∃</a> <a id="8090" class="Symbol">λ</a> <a id="8092" href="Coherence.Hypotheses.html#8092" class="Bound">B</a> <a id="8094" class="Symbol">→</a> <a id="8096" class="Symbol">(</a><a id="8097" href="Coherence.Hypotheses.html#8092" class="Bound">B</a> <a id="8099" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="8103" href="Coherence.Hypotheses.html#7707" class="Bound">C</a><a id="8104" class="Symbol">)</a> <a id="8106" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="8108" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="8115" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a><a id="8117" class="Symbol">)</a> <a id="8119" class="Symbol">→</a>

      <a id="8128" class="Comment">-- ∘ it is the first occurrence of such a broadcast in Rᶜ</a>
    <a id="8190" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="8192" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="8196" class="Symbol">(λ</a> <a id="8199" href="Coherence.Hypotheses.html#8199" class="Bound">l</a> <a id="8201" class="Symbol">→</a> <a id="8203" class="Symbol">∀</a> <a id="8205" href="Coherence.Hypotheses.html#8205" class="Bound">X</a> <a id="8207" class="Symbol">→</a> <a id="8209" href="Coherence.Hypotheses.html#8199" class="Bound">l</a> <a id="8211" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="8213" href="Coherence.Hypotheses.html#8205" class="Bound">X</a> <a id="8215" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="8219" href="Coherence.Hypotheses.html#7707" class="Bound">C</a><a id="8220" class="Symbol">)</a> <a id="8222" class="Symbol">(</a><a id="8223" href="Prelude.Lists.Membership.html#6373" class="Function">Any-tail</a> <a id="8232" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="8234" href="Coherence.Hypotheses.html#8083" class="Bound">∃B</a> <a id="8237" class="Symbol">.</a><a id="8238" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="8243" class="Symbol">)</a>

      <a id="8252" class="Comment">-- ∘ hashes respect security parameter η</a>
    <a id="8297" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="8299" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="8303" class="Symbol">(λ</a> <a id="8306" href="Coherence.Hypotheses.html#8306" class="Bound">hᵢ</a> <a id="8309" class="Symbol">→</a> <a id="8311" href="ComputationalModel.Serialization.html#245" class="Function Operator">∣</a> <a id="8313" href="Coherence.Hypotheses.html#8306" class="Bound">hᵢ</a> <a id="8316" href="ComputationalModel.Serialization.html#245" class="Function Operator">∣ᵐ</a> <a id="8319" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="8321" href="SecureCompilation.ModuleParameters.html#357" class="Field">η</a><a id="8322" class="Symbol">)</a> <a id="8324" href="Coherence.Hypotheses.html#3874" class="Function">h̅</a>

      <a id="8334" class="Comment">-- ∘ make sure that λᶜ is the first occurrence of such a message after C in Rᶜ</a>
    <a id="8417" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="8419" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="8423" class="Symbol">(λ</a> <a id="8426" href="Coherence.Hypotheses.html#8426" class="Bound">l</a> <a id="8428" class="Symbol">→</a> <a id="8430" class="Symbol">∀</a> <a id="8432" href="Coherence.Hypotheses.html#8432" class="Bound">X</a> <a id="8434" class="Symbol">→</a> <a id="8436" href="Coherence.Hypotheses.html#8426" class="Bound">l</a> <a id="8438" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="8440" href="Coherence.Hypotheses.html#8432" class="Bound">X</a> <a id="8442" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="8446" href="Coherence.Hypotheses.html#7816" class="Bound">C,h̅,k̅ₐ</a><a id="8454" class="Symbol">)</a> <a id="8456" class="Symbol">(</a><a id="8457" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="8467" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="8469" href="Coherence.Hypotheses.html#8083" class="Bound">∃B</a> <a id="8472" class="Symbol">.</a><a id="8473" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="8478" class="Symbol">)</a>

      <a id="8487" class="Comment">-- (iii) each hᵢ is obtained by querying the oracle,</a>
      <a id="8546" class="Comment">--       otherwise we have a dishonestly chosen secret</a>
    <a id="8605" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="8607" href="Coherence.Helpers.html#1072" class="Function">CheckOracleInteractions</a> <a id="8631" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a> <a id="8634" href="Coherence.Hypotheses.html#3801" class="Function">Δ×h̅</a>

      <a id="8646" class="Comment">-- (iv) no hash is reused</a>
    <a id="8676" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="8678" href="Data.List.Relation.Unary.Unique.Setoid.html#728" class="Datatype">Unique</a> <a id="8685" href="Coherence.Hypotheses.html#3874" class="Function">h̅</a>
    <a id="8692" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="8694" href="Data.List.Relation.Binary.Disjoint.Setoid.html#851" class="Function">Disjoint</a> <a id="8703" href="Coherence.Hypotheses.html#3874" class="Function">h̅</a> <a id="8706" class="Symbol">(</a><a id="8707" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="8713" href="SymbolicModel.Mappings.html#1032" class="Function">sechash′</a><a id="8721" class="Symbol">)</a>

      <a id="8730" href="Prelude.InferenceRules.html#12752" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="8790" href="Coherence.Hypotheses.html#2177" class="Function">Γₜ″</a> <a id="8794" href="Coherence.Hypotheses.html#7520" class="Datatype Operator">⨾</a> <a id="8796" href="Coherence.Hypotheses.html#2116" class="Function">𝕣∗</a> <a id="8799" href="Coherence.Hypotheses.html#7520" class="Datatype Operator">⨾</a> <a id="8801" class="Symbol">(</a><a id="8802" href="Coherence.Hypotheses.html#2263" class="Function">𝕒</a> <a id="8804" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8806" href="Coherence.Hypotheses.html#7460" class="Function">λˢ</a><a id="8808" class="Symbol">)</a> <a id="8810" href="Coherence.Hypotheses.html#7520" class="Datatype Operator">~ℍ[2]~</a> <a id="8817" href="Coherence.Hypotheses.html#7894" class="Bound">λᶜ</a> <a id="8820" href="Coherence.Hypotheses.html#7520" class="Datatype Operator">⨾</a> <a id="8822" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a>

<a id="8826" class="Comment">-- ** Stipulation: authorizing deposits</a>
<a id="8866" class="Keyword">record</a> <a id="H₃-args"></a><a id="8873" href="Coherence.Hypotheses.html#8873" class="Record">H₃-args</a> <a id="8881" class="Symbol">:</a> <a id="8883" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="8888" class="Keyword">where</a>
  <a id="8896" class="Keyword">constructor</a> <a id="mk"></a><a id="8908" href="Coherence.Hypotheses.html#8908" class="InductiveConstructor">mk</a>
  <a id="8913" class="Keyword">field</a>
    <a id="8923" class="Symbol">{</a><a id="H₃-args.ad"></a><a id="8924" href="Coherence.Hypotheses.html#8924" class="Field">ad</a> <a id="H₃-args.Γ₀"></a><a id="8927" href="Coherence.Hypotheses.html#8927" class="Field">Γ₀</a> <a id="H₃-args.t"></a><a id="8930" href="Coherence.Hypotheses.html#8930" class="Field">t</a> <a id="H₃-args.A"></a><a id="8932" href="Coherence.Hypotheses.html#8932" class="Field">A</a> <a id="H₃-args.x"></a><a id="8934" href="Coherence.Hypotheses.html#8934" class="Field">x</a> <a id="H₃-args.v"></a><a id="8936" href="Coherence.Hypotheses.html#8936" class="Field">v</a><a id="8937" class="Symbol">}</a> <a id="8939" class="Symbol">:</a> <a id="8941" class="Symbol">_</a>
  <a id="8945" class="Keyword">open</a> <a id="8950" href="BitML.Contracts.ModuleMacros.html#761" class="Module">∣AD</a> <a id="8954" href="Coherence.Hypotheses.html#8924" class="Field">ad</a> <a id="8957" class="Keyword">public</a>
  <a id="8966" class="Keyword">field</a>
    <a id="8976" class="Comment">-- Hypotheses from [C-AuthInit]</a>
    <a id="H₃-args.committedA"></a><a id="9012" href="Coherence.Hypotheses.html#9012" class="Field">committedA</a> <a id="9023" class="Symbol">:</a> <a id="9025" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a> <a id="9031" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="9033" href="BitML.Semantics.Configurations.Helpers.html#11398" class="Function">committedParticipants</a> <a id="9055" href="Coherence.Hypotheses.html#8924" class="Field">ad</a> <a id="9058" href="Coherence.Hypotheses.html#8927" class="Field">Γ₀</a>
    <a id="H₃-args.A∈per"></a><a id="9065" href="Coherence.Hypotheses.html#9065" class="Field">A∈per</a> <a id="9071" class="Symbol">:</a> <a id="9073" class="Symbol">(</a><a id="9074" href="Coherence.Hypotheses.html#8932" class="Field">A</a> <a id="9076" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="9078" href="Coherence.Hypotheses.html#8936" class="Field">v</a> <a id="9080" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="9082" href="Coherence.Hypotheses.html#8934" class="Field">x</a><a id="9083" class="Symbol">)</a> <a id="9085" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="9087" href="BitML.Contracts.Collections.html#8546" class="Function">persistentDeposits</a> <a id="9106" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a>
  <a id="9110" class="Keyword">open</a> <a id="9115" href="Coherence.Hypotheses.html#1742" class="Module">Transition</a>
    <a id="9130" class="Symbol">(</a> <a id="9132" class="Symbol">(</a><a id="9133" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="9135" href="Coherence.Hypotheses.html#8924" class="Field">ad</a> <a id="9138" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="9140" href="Coherence.Hypotheses.html#8927" class="Field">Γ₀</a><a id="9142" class="Symbol">)</a> <a id="9144" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="9146" href="Coherence.Hypotheses.html#8930" class="Field">t</a>
    <a id="9152" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">——</a> <a id="9155" href="BitML.Semantics.Label.html#1109" class="InductiveConstructor Operator">auth-init⦅</a> <a id="9166" href="Coherence.Hypotheses.html#8932" class="Field">A</a> <a id="9168" href="BitML.Semantics.Label.html#1109" class="InductiveConstructor Operator">,</a> <a id="9170" href="Coherence.Hypotheses.html#8924" class="Field">ad</a> <a id="9173" href="BitML.Semantics.Label.html#1109" class="InductiveConstructor Operator">,</a> <a id="9175" href="Coherence.Hypotheses.html#8934" class="Field">x</a> <a id="9177" href="BitML.Semantics.Label.html#1109" class="InductiveConstructor Operator">⦆</a> <a id="9179" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">—→</a>
      <a id="9188" class="Symbol">(</a><a id="9189" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="9191" href="Coherence.Hypotheses.html#8924" class="Field">ad</a> <a id="9194" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="9196" href="Coherence.Hypotheses.html#8927" class="Field">Γ₀</a> <a id="9199" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="9201" href="Coherence.Hypotheses.html#8932" class="Field">A</a> <a id="9203" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="9209" href="Coherence.Hypotheses.html#8934" class="Field">x</a> <a id="9211" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="9214" href="Coherence.Hypotheses.html#8924" class="Field">ad</a> <a id="9217" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="9218" class="Symbol">)</a> <a id="9220" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="9222" href="Coherence.Hypotheses.html#8930" class="Field">t</a>
    <a id="9228" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⊣</a> <a id="9230" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="9234" class="Symbol">(</a><a id="9235" href="BitML.Semantics.InferenceRules.html#4369" class="InductiveConstructor">[C-AuthInit]</a> <a id="9248" href="Coherence.Hypotheses.html#9012" class="Field">committedA</a> <a id="9259" href="Coherence.Hypotheses.html#9065" class="Field">A∈per</a><a id="9264" class="Symbol">)</a>
    <a id="9270" class="Symbol">)</a> <a id="9272" class="Keyword">public</a> <a id="9279" class="Keyword">hiding</a> <a id="9286" class="Symbol">(</a><a id="9287" href="Coherence.Hypotheses.html#1819" class="Field">t</a><a id="9288" class="Symbol">)</a>
  <a id="9292" class="Keyword">field</a> <a id="H₃-args.𝕙r"></a><a id="9298" href="Coherence.Hypotheses.html#9298" class="Field">𝕙r</a> <a id="9301" class="Symbol">:</a> <a id="9303" href="Coherence.Hypotheses.html#1958" class="Record">ℍ-Run</a> <a id="9309" href="Coherence.Hypotheses.html#1929" class="Function">Γ→</a>
  <a id="9314" class="Keyword">open</a> <a id="9319" href="Coherence.Hypotheses.html#1958" class="Module">ℍ-Run</a> <a id="9325" href="Coherence.Hypotheses.html#9298" class="Field">𝕙r</a> <a id="9328" class="Keyword">public</a>

<a id="9336" class="Keyword">module</a> <a id="9343" href="Coherence.Hypotheses.html#9343" class="Module">H₃</a> <a id="9346" class="Symbol">(</a><a id="9347" href="Coherence.Hypotheses.html#9347" class="Bound">⋯</a> <a id="9349" class="Symbol">:</a> <a id="9351" href="Coherence.Hypotheses.html#8873" class="Record">H₃-args</a><a id="9358" class="Symbol">)</a> <a id="9360" class="Symbol">(</a><a id="9361" class="Keyword">open</a> <a id="9366" href="Coherence.Hypotheses.html#8873" class="Module">H₃-args</a> <a id="9374" href="Coherence.Hypotheses.html#9347" class="Bound">⋯</a><a id="9375" class="Symbol">)</a> <a id="9377" class="Keyword">where</a>
  <a id="9385" href="Coherence.Hypotheses.html#9385" class="Function">𝕘</a> <a id="9387" class="Symbol">:</a> <a id="9389" href="SymbolicModel.Mappings.html#1504" class="Function">𝔾</a> <a id="9391" href="Coherence.Hypotheses.html#8924" class="Field">ad</a>
  <a id="9396" href="Coherence.Hypotheses.html#9385" class="Function">𝕘</a> <a id="9398" class="Symbol">=</a> <a id="9400" href="Coherence.Helpers.html#1856" class="Function">LIFT₀</a> <a id="9406" href="Coherence.Hypotheses.html#2229" class="Function">𝕣</a> <a id="9408" href="Coherence.Hypotheses.html#8930" class="Field">t</a> <a id="9410" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="9412" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="9415" href="Coherence.Hypotheses.html#8924" class="Field">ad</a> <a id="9418" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="9420" href="Coherence.Hypotheses.html#9012" class="Field">committedA</a>

  <a id="9434" href="Coherence.Hypotheses.html#9434" class="Function">T</a> <a id="9436" class="Symbol">:</a> <a id="9438" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
  <a id="9444" href="Coherence.Hypotheses.html#9434" class="Function">T</a> <a id="9446" class="Symbol">=</a> <a id="9448" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="9451" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="9454" href="Coherence.Helpers.html#4326" class="Function">COMPILE-INIT</a> <a id="9467" href="Coherence.Hypotheses.html#9385" class="Function">𝕘</a>

  <a id="9472" href="Coherence.Hypotheses.html#9472" class="Function">names≡</a> <a id="9479" class="Symbol">:</a> <a id="9481" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="9484" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="9487" href="BitML.Contracts.Collections.html#4018" class="Function">names</a> <a id="9493" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="9495" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a>
  <a id="9499" href="Coherence.Hypotheses.html#9472" class="Function">names≡</a> <a id="9506" class="Keyword">rewrite</a> <a id="9514" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="9533" class="Symbol">{</a><a id="9534" class="Argument">X</a> <a id="9536" class="Symbol">=</a> <a id="9538" href="BitML.BasicTypes.html#375" class="Function">Name</a><a id="9542" class="Symbol">}</a> <a id="9544" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="9546" class="Symbol">(</a><a id="9547" href="Coherence.Hypotheses.html#8932" class="Field">A</a> <a id="9549" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="9555" href="Coherence.Hypotheses.html#8934" class="Field">x</a> <a id="9557" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="9560" href="Coherence.Hypotheses.html#8924" class="Field">ad</a> <a id="9563" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="9564" class="Symbol">)</a>
                <a id="9582" class="Symbol">=</a> <a id="9584" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="9599" class="Symbol">_</a>

  <a id="9604" href="Coherence.Hypotheses.html#9604" class="Function">ids≡</a> <a id="9609" class="Symbol">:</a> <a id="9611" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="9614" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="9617" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="9621" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="9623" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a>
  <a id="9627" href="Coherence.Hypotheses.html#9604" class="Function">ids≡</a> <a id="9632" class="Symbol">=</a> <a id="9634" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="9639" href="Prelude.Lists.Core.html#2266" class="Function">filter₂</a> <a id="9647" href="Coherence.Hypotheses.html#9472" class="Function">names≡</a>

  <a id="9657" href="Coherence.Hypotheses.html#9657" class="Function">secrets≡</a> <a id="9666" class="Symbol">:</a> <a id="9668" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="9671" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="9674" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="9682" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="9684" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a>
  <a id="9688" href="Coherence.Hypotheses.html#9657" class="Function">secrets≡</a> <a id="9697" class="Symbol">=</a> <a id="9699" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="9704" href="Prelude.Lists.Core.html#2207" class="Function">filter₁</a> <a id="9712" href="Coherence.Hypotheses.html#9472" class="Function">names≡</a>

  <a id="9722" href="Coherence.Hypotheses.html#9722" class="Function">ads≡</a> <a id="9727" class="Symbol">:</a> <a id="9729" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="9732" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="9735" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="9750" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="9752" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a>
  <a id="9756" href="Coherence.Hypotheses.html#9722" class="Function">ads≡</a> <a id="9761" class="Keyword">rewrite</a> <a id="9769" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="9788" class="Symbol">{</a><a id="9789" class="Argument">X</a> <a id="9791" class="Symbol">=</a> <a id="9793" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="9795" class="Symbol">}</a> <a id="9797" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="9799" class="Symbol">(</a><a id="9800" href="Coherence.Hypotheses.html#8932" class="Field">A</a> <a id="9802" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="9808" href="Coherence.Hypotheses.html#8934" class="Field">x</a> <a id="9810" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="9813" href="Coherence.Hypotheses.html#8924" class="Field">ad</a> <a id="9816" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="9817" class="Symbol">)</a>
              <a id="9833" class="Symbol">=</a> <a id="9835" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="9850" class="Symbol">_</a>

  <a id="9855" href="Coherence.Hypotheses.html#9855" class="Function">txout↝</a> <a id="9862" class="Symbol">:</a> <a id="9864" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="9866" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="9869" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="9875" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="9877" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
  <a id="9882" href="Coherence.Hypotheses.html#9855" class="Function">txout↝</a> <a id="9889" href="Coherence.Hypotheses.html#9889" class="Bound">txout′</a> <a id="9896" class="Keyword">rewrite</a> <a id="9904" href="Coherence.Hypotheses.html#9604" class="Function">ids≡</a> <a id="9909" class="Symbol">=</a> <a id="9911" href="Coherence.Hypotheses.html#9889" class="Bound">txout′</a>

  <a id="9921" href="Coherence.Hypotheses.html#9921" class="Function">sechash↝</a> <a id="9930" class="Symbol">:</a> <a id="9932" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="9934" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="9937" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="9945" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="9947" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
  <a id="9952" href="Coherence.Hypotheses.html#9921" class="Function">sechash↝</a> <a id="9961" href="Coherence.Hypotheses.html#9961" class="Bound">sechash′</a> <a id="9970" class="Keyword">rewrite</a> <a id="9978" href="Coherence.Hypotheses.html#9657" class="Function">secrets≡</a> <a id="9987" class="Symbol">=</a> <a id="9989" href="Coherence.Hypotheses.html#9961" class="Bound">sechash′</a>

  <a id="10001" href="Coherence.Hypotheses.html#10001" class="Function">κ↝</a> <a id="10004" class="Symbol">:</a> <a id="10006" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="10008" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="10011" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="10014" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="10016" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
  <a id="10021" href="Coherence.Hypotheses.html#10001" class="Function">κ↝</a> <a id="10024" href="Coherence.Hypotheses.html#10024" class="Bound">κ′</a> <a id="10027" class="Keyword">rewrite</a> <a id="10035" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="10054" class="Symbol">{</a><a id="10055" class="Argument">X</a> <a id="10057" class="Symbol">=</a> <a id="10059" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="10061" class="Symbol">}</a> <a id="10063" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="10065" class="Symbol">(</a><a id="10066" href="Coherence.Hypotheses.html#8932" class="Field">A</a> <a id="10068" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="10074" href="Coherence.Hypotheses.html#8934" class="Field">x</a> <a id="10076" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="10079" href="Coherence.Hypotheses.html#8924" class="Field">ad</a> <a id="10082" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="10083" class="Symbol">)</a>
              <a id="10099" class="Symbol">|</a> <a id="10101" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="10116" class="Symbol">(</a><a id="10117" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="10132" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a><a id="10133" class="Symbol">)</a>
              <a id="10149" class="Symbol">=</a> <a id="10151" href="Coherence.Hypotheses.html#10024" class="Bound">κ′</a>

  <a id="10157" href="Coherence.Hypotheses.html#10157" class="Function">λˢ</a> <a id="10160" class="Symbol">:</a> <a id="10162" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="10165" href="Coherence.Hypotheses.html#1895" class="Function">Γₜ′</a>
  <a id="10171" href="Coherence.Hypotheses.html#10157" class="Function">λˢ</a> <a id="10174" class="Symbol">=</a> <a id="10176" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="10182" href="Coherence.Hypotheses.html#2229" class="Function">𝕣</a> <a id="10184" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="10186" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="10189" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="10192" href="Coherence.Hypotheses.html#9855" class="Function">txout↝</a> <a id="10199" href="Coherence.Hypotheses.html#9921" class="Function">sechash↝</a> <a id="10208" href="Coherence.Hypotheses.html#10001" class="Function">κ↝</a>

<a id="10212" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[3]~_⨾_"></a><a id="10217" href="Coherence.Hypotheses.html#10217" class="Datatype Operator">_⨾_⨾_~ℍ[3]~_⨾_</a> <a id="10232" class="Symbol">:</a> <a id="10234" href="Coherence.Hypotheses.html#1602" class="Function">StepRel</a> <a id="10242" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[3]~_⨾_.mkℍ"></a><a id="10250" href="Coherence.Hypotheses.html#10250" class="InductiveConstructor">mkℍ</a> <a id="10254" class="Symbol">:</a> <a id="10256" class="Symbol">∀</a> <a id="10258" class="Symbol">{</a><a id="10259" href="Coherence.Hypotheses.html#10259" class="Bound">h</a> <a id="10261" class="Symbol">:</a> <a id="10263" href="Coherence.Hypotheses.html#8873" class="Record">H₃-args</a><a id="10270" class="Symbol">}</a> <a id="10272" class="Symbol">{</a><a id="10273" href="Coherence.Hypotheses.html#10273" class="Bound">B</a><a id="10274" class="Symbol">}</a>
    <a id="10280" class="Symbol">→</a> <a id="10282" class="Keyword">let</a>
        <a id="10294" class="Comment">-- (i) consume {G}C and its persistent deposits from Rˢ</a>
        <a id="10358" class="Keyword">open</a> <a id="10363" href="Coherence.Hypotheses.html#8873" class="Module">H₃-args</a> <a id="10371" href="Coherence.Hypotheses.html#10259" class="Bound">h</a>

        <a id="10382" class="Comment">-- (iv) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="10441" class="Keyword">open</a> <a id="10446" href="Coherence.Hypotheses.html#9343" class="Module">H₃</a> <a id="10449" href="Coherence.Hypotheses.html#10259" class="Bound">h</a> <a id="10451" class="Keyword">using</a> <a id="10457" class="Symbol">(</a><a id="10458" href="Coherence.Hypotheses.html#10157" class="Function">λˢ</a><a id="10460" class="Symbol">;</a> <a id="10462" href="Coherence.Hypotheses.html#9434" class="Function">T</a><a id="10463" class="Symbol">)</a>

        <a id="10474" class="Comment">-- (i) broadcast Tᵢₙᵢₜ , signed with A&#39;s private key</a>
        <a id="10535" href="Coherence.Hypotheses.html#10535" class="Bound">m</a> <a id="10537" class="Symbol">=</a> <a id="10539" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="10543" class="Symbol">(</a><a id="10544" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="10547" href="Coherence.Hypotheses.html#8932" class="Function">A</a><a id="10548" class="Symbol">)</a> <a id="10550" href="Coherence.Hypotheses.html#9434" class="Function">T</a>
        <a id="10560" href="Coherence.Hypotheses.html#10560" class="Bound">λᶜ</a> <a id="10563" class="Symbol">=</a> <a id="10565" href="Coherence.Hypotheses.html#10273" class="Bound">B</a> <a id="10567" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="10571" href="Coherence.Hypotheses.html#10535" class="Bound">m</a>
      <a id="10579" class="Keyword">in</a>

      <a id="10589" class="Comment">-- (ii) Tᵢₙᵢₜ occurs as a message in Rᶜ</a>
    <a id="10633" class="Symbol">∀</a> <a id="10635" class="Symbol">(</a><a id="10636" href="Coherence.Hypotheses.html#10636" class="Bound">∃B</a> <a id="10639" class="Symbol">:</a> <a id="10641" href="Data.Product.html#1378" class="Function">∃</a> <a id="10643" class="Symbol">λ</a> <a id="10645" href="Coherence.Hypotheses.html#10645" class="Bound">B</a> <a id="10647" class="Symbol">→</a> <a id="10649" href="Coherence.Hypotheses.html#10645" class="Bound">B</a> <a id="10651" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="10655" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="10662" class="Symbol">(</a><a id="10663" href="Coherence.Hypotheses.html#9434" class="Function">T</a> <a id="10665" class="Symbol">.</a><a id="10666" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="10672" class="Symbol">.</a><a id="10673" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="10678" class="Symbol">)</a> <a id="10680" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="10682" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="10689" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a><a id="10691" class="Symbol">)</a> <a id="10693" class="Symbol">→</a>

      <a id="10702" class="Comment">-- (iii) broadcast message in Rᶜ</a>
      <a id="10741" class="Comment">-- ∘ λᶜ is the first occurrence of such a message after Tinit in Rᶜ</a>
    <a id="10813" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="10815" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="10819" class="Symbol">(λ</a> <a id="10822" href="Coherence.Hypotheses.html#10822" class="Bound">l</a> <a id="10824" class="Symbol">→</a> <a id="10826" class="Symbol">∀</a> <a id="10828" href="Coherence.Hypotheses.html#10828" class="Bound">X</a> <a id="10830" class="Symbol">→</a> <a id="10832" href="Coherence.Hypotheses.html#10822" class="Bound">l</a> <a id="10834" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="10836" href="Coherence.Hypotheses.html#10828" class="Bound">X</a> <a id="10838" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="10842" href="Coherence.Hypotheses.html#10535" class="Bound">m</a><a id="10843" class="Symbol">)</a> <a id="10845" class="Symbol">(</a><a id="10846" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="10856" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="10858" href="Coherence.Hypotheses.html#10636" class="Bound">∃B</a> <a id="10861" class="Symbol">.</a><a id="10862" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="10867" class="Symbol">)</a>

      <a id="10876" href="Prelude.InferenceRules.html#12752" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="10936" href="Coherence.Hypotheses.html#2177" class="Function">Γₜ″</a> <a id="10940" href="Coherence.Hypotheses.html#10217" class="Datatype Operator">⨾</a> <a id="10942" href="Coherence.Hypotheses.html#2116" class="Function">𝕣∗</a> <a id="10945" href="Coherence.Hypotheses.html#10217" class="Datatype Operator">⨾</a> <a id="10947" class="Symbol">(</a><a id="10948" href="Coherence.Hypotheses.html#2263" class="Function">𝕒</a> <a id="10950" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="10952" href="Coherence.Hypotheses.html#10157" class="Function">λˢ</a><a id="10954" class="Symbol">)</a> <a id="10956" href="Coherence.Hypotheses.html#10217" class="Datatype Operator">~ℍ[3]~</a> <a id="10963" href="Coherence.Hypotheses.html#10560" class="Bound">λᶜ</a> <a id="10966" href="Coherence.Hypotheses.html#10217" class="Datatype Operator">⨾</a> <a id="10968" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a>

<a id="10972" class="Comment">-- ** Stipulation: activating the contract</a>
<a id="11015" class="Keyword">record</a> <a id="H₄-args"></a><a id="11022" href="Coherence.Hypotheses.html#11022" class="Record">H₄-args</a> <a id="11030" class="Symbol">:</a> <a id="11032" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="11037" class="Keyword">where</a>
  <a id="11045" class="Keyword">constructor</a> <a id="mk"></a><a id="11057" href="Coherence.Hypotheses.html#11057" class="InductiveConstructor">mk</a>
  <a id="11062" class="Keyword">field</a>
    <a id="11072" class="Symbol">{</a><a id="H₄-args.ad"></a><a id="11073" href="Coherence.Hypotheses.html#11073" class="Field">ad</a> <a id="H₄-args.Γ₀"></a><a id="11076" href="Coherence.Hypotheses.html#11076" class="Field">Γ₀</a> <a id="H₄-args.t"></a><a id="11079" href="Coherence.Hypotheses.html#11079" class="Field">t</a> <a id="H₄-args.z"></a><a id="11081" href="Coherence.Hypotheses.html#11081" class="Field">z</a><a id="11082" class="Symbol">}</a> <a id="11084" class="Symbol">:</a> <a id="11086" class="Symbol">_</a>
  <a id="11090" class="Keyword">open</a> <a id="11095" href="BitML.Contracts.ModuleMacros.html#761" class="Module">∣AD</a> <a id="11099" href="Coherence.Hypotheses.html#11073" class="Field">ad</a> <a id="11102" class="Keyword">public</a>
  <a id="H₄-args.ds"></a><a id="11111" href="Coherence.Hypotheses.html#11111" class="Function">ds</a> <a id="11114" class="Symbol">=</a> <a id="11116" href="BitML.Contracts.Collections.html#8546" class="Function">persistentDeposits</a> <a id="11135" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a>
  <a id="H₄-args.vs"></a><a id="11139" href="Coherence.Hypotheses.html#11139" class="Function">vs</a> <a id="11142" class="Symbol">=</a> <a id="11144" href="Data.List.Base.html#1553" class="Function">map</a> <a id="11148" href="Prelude.Nary.html#2292" class="Function">select₂</a> <a id="11156" href="Coherence.Hypotheses.html#11111" class="Function">ds</a>
  <a id="H₄-args.xs"></a><a id="11161" href="Coherence.Hypotheses.html#11161" class="Function">xs</a> <a id="11164" class="Symbol">=</a> <a id="11166" href="Data.List.Base.html#1553" class="Function">map</a> <a id="11170" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="11178" href="Coherence.Hypotheses.html#11111" class="Function">ds</a>
  <a id="H₄-args.v"></a><a id="11183" href="Coherence.Hypotheses.html#11183" class="Function">v</a>  <a id="11186" class="Symbol">=</a> <a id="11188" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="11192" href="Coherence.Hypotheses.html#11139" class="Function">vs</a>
  <a id="11197" class="Keyword">field</a>
    <a id="11207" class="Comment">-- Hypotheses from [C-Init]</a>
    <a id="H₄-args.fresh-z"></a><a id="11239" href="Coherence.Hypotheses.html#11239" class="Field">fresh-z</a> <a id="11247" class="Symbol">:</a> <a id="11249" href="Coherence.Hypotheses.html#11081" class="Field">z</a> <a id="11251" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="11253" href="Coherence.Hypotheses.html#11161" class="Function">xs</a> <a id="11256" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="11259" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="11263" href="Coherence.Hypotheses.html#11076" class="Field">Γ₀</a>
  <a id="H₄-args.Γ₁"></a><a id="11268" href="Coherence.Hypotheses.html#11268" class="Function">Γ₁</a> <a id="11271" class="Symbol">=</a> <a id="11273" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="11277" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="11279" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="11281" href="Coherence.Hypotheses.html#11073" class="Field">ad</a> <a id="11284" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="11286" href="Coherence.Hypotheses.html#11076" class="Field">Γ₀</a>
  <a id="H₄-args.Γ₂"></a><a id="11291" href="Coherence.Hypotheses.html#11291" class="Function">Γ₂</a> <a id="11294" class="Symbol">=</a> <a id="11296" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="11300" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="11302" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="11305" href="Data.List.Base.html#1553" class="Function">map</a> <a id="11309" class="Symbol">(λ{</a> <a id="11313" class="Symbol">(</a><a id="11314" href="Coherence.Hypotheses.html#11314" class="Bound">Aᵢ</a> <a id="11317" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="11319" href="Coherence.Hypotheses.html#11319" class="Bound">vᵢ</a> <a id="11322" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="11324" href="Coherence.Hypotheses.html#11324" class="Bound">xᵢ</a><a id="11326" class="Symbol">)</a> <a id="11328" class="Symbol">→</a>
    <a id="11334" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="11336" href="Coherence.Hypotheses.html#11314" class="Bound">Aᵢ</a> <a id="11339" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="11343" href="Coherence.Hypotheses.html#11319" class="Bound">vᵢ</a> <a id="11346" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="11350" href="Coherence.Hypotheses.html#11324" class="Bound">xᵢ</a> <a id="11353" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="11355" href="Coherence.Hypotheses.html#11314" class="Bound">Aᵢ</a> <a id="11358" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="11364" href="Coherence.Hypotheses.html#11324" class="Bound">xᵢ</a> <a id="11367" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="11371" href="Coherence.Hypotheses.html#11073" class="Field">ad</a> <a id="11374" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="11376" class="Symbol">})</a> <a id="11379" href="Coherence.Hypotheses.html#11111" class="Function">ds</a>
  <a id="H₄-args.Γ₃"></a><a id="11384" href="Coherence.Hypotheses.html#11384" class="Function">Γ₃</a> <a id="11387" class="Symbol">=</a> <a id="11389" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="11393" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="11395" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="11398" href="Data.List.Base.html#1553" class="Function">map</a> <a id="11402" class="Symbol">(</a><a id="11403" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">_auth[</a> <a id="11410" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="11413" href="Coherence.Hypotheses.html#11073" class="Field">ad</a> <a id="11416" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="11417" class="Symbol">)</a> <a id="11419" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a>
  <a id="11427" class="Keyword">open</a> <a id="11432" href="Coherence.Hypotheses.html#1742" class="Module">Transition</a>
    <a id="11447" class="Symbol">(</a> <a id="11449" class="Symbol">(</a><a id="11450" href="Coherence.Hypotheses.html#11268" class="Function">Γ₁</a> <a id="11453" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="11455" href="Coherence.Hypotheses.html#11291" class="Function">Γ₂</a> <a id="11458" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="11460" href="Coherence.Hypotheses.html#11384" class="Function">Γ₃</a><a id="11462" class="Symbol">)</a> <a id="11464" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="11466" href="Coherence.Hypotheses.html#11079" class="Field">t</a>
    <a id="11472" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">——</a> <a id="11475" href="BitML.Semantics.Label.html#1172" class="InductiveConstructor Operator">init⦅</a> <a id="11481" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a> <a id="11483" href="BitML.Semantics.Label.html#1172" class="InductiveConstructor Operator">,</a> <a id="11485" href="BitML.Contracts.ModuleMacros.html#783" class="Function">C</a> <a id="11487" href="BitML.Semantics.Label.html#1172" class="InductiveConstructor Operator">⦆</a> <a id="11489" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">—→</a>
      <a id="11498" class="Symbol">(</a><a id="11499" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="11501" href="BitML.Contracts.ModuleMacros.html#783" class="Function">C</a> <a id="11503" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="11505" href="Coherence.Hypotheses.html#11183" class="Function">v</a> <a id="11507" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="11511" href="Coherence.Hypotheses.html#11081" class="Field">z</a> <a id="11513" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="11515" href="Coherence.Hypotheses.html#11076" class="Field">Γ₀</a><a id="11517" class="Symbol">)</a> <a id="11519" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="11521" href="Coherence.Hypotheses.html#11079" class="Field">t</a>
    <a id="11527" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⊣</a> <a id="11529" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="11533" class="Symbol">(</a><a id="11534" href="BitML.Semantics.InferenceRules.html#4741" class="InductiveConstructor">[C-Init]</a> <a id="11543" href="Coherence.Hypotheses.html#11239" class="Field">fresh-z</a><a id="11550" class="Symbol">)</a>
    <a id="11556" class="Symbol">)</a> <a id="11558" class="Keyword">public</a> <a id="11565" class="Keyword">hiding</a> <a id="11572" class="Symbol">(</a><a id="11573" href="Coherence.Hypotheses.html#1819" class="Field">t</a><a id="11574" class="Symbol">)</a>
  <a id="11578" class="Keyword">field</a> <a id="H₄-args.𝕙r"></a><a id="11584" href="Coherence.Hypotheses.html#11584" class="Field">𝕙r</a> <a id="11587" class="Symbol">:</a> <a id="11589" href="Coherence.Hypotheses.html#1958" class="Record">ℍ-Run</a> <a id="11595" href="Coherence.Hypotheses.html#1929" class="Function">Γ→</a>
  <a id="11600" class="Keyword">open</a> <a id="11605" href="Coherence.Hypotheses.html#1958" class="Module">ℍ-Run</a> <a id="11611" href="Coherence.Hypotheses.html#11584" class="Field">𝕙r</a> <a id="11614" class="Keyword">public</a>

<a id="11622" class="Keyword">module</a> <a id="11629" href="Coherence.Hypotheses.html#11629" class="Module">H₄</a> <a id="11632" class="Symbol">(</a><a id="11633" href="Coherence.Hypotheses.html#11633" class="Bound">⋯</a> <a id="11635" class="Symbol">:</a> <a id="11637" href="Coherence.Hypotheses.html#11022" class="Record">H₄-args</a><a id="11644" class="Symbol">)</a> <a id="11646" class="Symbol">(</a><a id="11647" class="Keyword">open</a> <a id="11652" href="Coherence.Hypotheses.html#11022" class="Module">H₄-args</a> <a id="11660" href="Coherence.Hypotheses.html#11633" class="Bound">⋯</a><a id="11661" class="Symbol">)</a> <a id="11663" class="Keyword">where</a>
  <a id="11671" href="Coherence.Hypotheses.html#11671" class="Function">committedA</a> <a id="11682" class="Symbol">:</a> <a id="11684" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a> <a id="11690" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="11692" href="BitML.Semantics.Configurations.Helpers.html#11398" class="Function">committedParticipants</a> <a id="11714" href="Coherence.Hypotheses.html#11073" class="Field">ad</a> <a id="11717" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a>
  <a id="11721" href="Coherence.Hypotheses.html#11671" class="Function">committedA</a> <a id="11732" class="Symbol">{</a><a id="11733" href="Coherence.Hypotheses.html#11733" class="Bound">p</a><a id="11734" class="Symbol">}</a> <a id="11736" href="Coherence.Hypotheses.html#11736" class="Bound">p∈</a> <a id="11739" class="Symbol">=</a>
    <a id="11745" href="BitML.Semantics.Configurations.Helpers.html#8196" class="Function">∈-collect-++⁺ʳ</a> <a id="11760" class="Symbol">(</a><a id="11761" href="Coherence.Hypotheses.html#11268" class="Function">Γ₁</a> <a id="11764" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="11766" href="Coherence.Hypotheses.html#11291" class="Function">Γ₂</a><a id="11768" class="Symbol">)</a> <a id="11770" href="Coherence.Hypotheses.html#11384" class="Function">Γ₃</a> <a id="11773" class="Symbol">⦃</a> <a id="11775" href="BitML.Semantics.Configurations.Helpers.html#11543" class="Function">∣committedParticipants∣.go</a> <a id="11802" href="Coherence.Hypotheses.html#11073" class="Field">ad</a> <a id="11805" class="Symbol">⦄</a> <a id="11807" href="Coherence.Hypotheses.html#11821" class="Function">p∈′</a>
    <a id="11815" class="Keyword">where</a> <a id="11821" href="Coherence.Hypotheses.html#11821" class="Function">p∈′</a> <a id="11825" class="Symbol">:</a> <a id="11827" href="Coherence.Hypotheses.html#11733" class="Bound">p</a> <a id="11829" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="11831" href="BitML.Semantics.Configurations.Helpers.html#11398" class="Function">committedParticipants</a> <a id="11853" href="Coherence.Hypotheses.html#11073" class="Field">ad</a> <a id="11856" href="Coherence.Hypotheses.html#11384" class="Function">Γ₃</a>
          <a id="11869" href="Coherence.Hypotheses.html#11821" class="Function">p∈′</a> <a id="11873" class="Keyword">rewrite</a> <a id="11881" href="BitML.Semantics.Configurations.Helpers.html#12836" class="Function">committedPartG≡</a> <a id="11897" class="Symbol">{</a><a id="11898" href="Coherence.Hypotheses.html#11073" class="Field">ad</a><a id="11900" class="Symbol">}</a> <a id="11902" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a> <a id="11908" class="Symbol">=</a> <a id="11910" href="Coherence.Hypotheses.html#11736" class="Bound">p∈</a>

  <a id="11916" href="Coherence.Hypotheses.html#11916" class="Function">𝕘</a> <a id="11918" class="Symbol">:</a> <a id="11920" href="SymbolicModel.Mappings.html#1504" class="Function">𝔾</a> <a id="11922" href="Coherence.Hypotheses.html#11073" class="Field">ad</a>
  <a id="11927" href="Coherence.Hypotheses.html#11916" class="Function">𝕘</a> <a id="11929" class="Symbol">=</a> <a id="11931" href="Coherence.Helpers.html#1856" class="Function">LIFT₀</a> <a id="11937" href="Coherence.Hypotheses.html#2229" class="Function">𝕣</a> <a id="11939" href="Coherence.Hypotheses.html#11079" class="Field">t</a> <a id="11941" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="11943" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="11946" href="Coherence.Hypotheses.html#11073" class="Field">ad</a> <a id="11949" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="11951" href="Coherence.Hypotheses.html#11671" class="Function">committedA</a>

  <a id="11965" href="Coherence.Hypotheses.html#11965" class="Function">T</a> <a id="11967" class="Symbol">:</a> <a id="11969" href="Compiler.Outputs.html#206" class="Function">InitTx</a> <a id="11976" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a>
  <a id="11980" href="Coherence.Hypotheses.html#11965" class="Function">T</a> <a id="11982" class="Symbol">=</a> <a id="11984" href="Coherence.Helpers.html#4326" class="Function">COMPILE-INIT</a> <a id="11997" href="Coherence.Hypotheses.html#11916" class="Function">𝕘</a>

  <a id="12002" href="Coherence.Hypotheses.html#12002" class="Function">mkAuth</a> <a id="12009" class="Symbol">:</a> <a id="12011" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a> <a id="12023" class="Symbol">→</a> <a id="12025" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a>
  <a id="12031" href="Coherence.Hypotheses.html#12002" class="Function">mkAuth</a> <a id="12038" class="Symbol">=</a> <a id="12040" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||_</a>
          <a id="12054" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="12056" href="Data.List.Base.html#1553" class="Function">map</a> <a id="12060" class="Symbol">λ{</a> <a id="12063" class="Symbol">(</a><a id="12064" href="Coherence.Hypotheses.html#12064" class="Bound">Aᵢ</a> <a id="12067" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="12069" href="Coherence.Hypotheses.html#12069" class="Bound">vᵢ</a> <a id="12072" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="12074" href="Coherence.Hypotheses.html#12074" class="Bound">xᵢ</a><a id="12076" class="Symbol">)</a> <a id="12078" class="Symbol">→</a> <a id="12080" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="12082" href="Coherence.Hypotheses.html#12064" class="Bound">Aᵢ</a> <a id="12085" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="12089" href="Coherence.Hypotheses.html#12069" class="Bound">vᵢ</a> <a id="12092" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="12096" href="Coherence.Hypotheses.html#12074" class="Bound">xᵢ</a> <a id="12099" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="12101" href="Coherence.Hypotheses.html#12064" class="Bound">Aᵢ</a> <a id="12104" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="12110" href="Coherence.Hypotheses.html#12074" class="Bound">xᵢ</a> <a id="12113" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="12117" href="Coherence.Hypotheses.html#11073" class="Field">ad</a> <a id="12120" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="12122" class="Symbol">}</a>

  <a id="12127" href="Coherence.Hypotheses.html#12127" class="Function">h₀</a> <a id="12130" class="Symbol">:</a> <a id="12132" class="Symbol">∀</a> <a id="12134" href="Coherence.Hypotheses.html#12134" class="Bound">ps</a> <a id="12137" class="Symbol">→</a> <a id="12139" href="Prelude.Null.html#263" class="Field">Null</a> <a id="12144" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="12146" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="12150" class="Symbol">(</a><a id="12151" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="12154" href="Data.List.Base.html#1553" class="Function">map</a> <a id="12158" class="Symbol">(</a><a id="12159" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">_auth[</a> <a id="12166" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="12169" href="Coherence.Hypotheses.html#11073" class="Field">ad</a> <a id="12172" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="12173" class="Symbol">)</a> <a id="12175" href="Coherence.Hypotheses.html#12134" class="Bound">ps</a><a id="12177" class="Symbol">)</a>
  <a id="12181" href="Coherence.Hypotheses.html#12127" class="Function">h₀</a> <a id="12184" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="12187" class="Symbol">=</a> <a id="12189" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="12196" href="Coherence.Hypotheses.html#12127" class="Function">h₀</a> <a id="12199" class="Symbol">(_</a> <a id="12202" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="12204" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="12206" class="Symbol">)</a> <a id="12208" class="Symbol">=</a> <a id="12210" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="12217" href="Coherence.Hypotheses.html#12127" class="Function">h₀</a> <a id="12220" class="Symbol">(_</a> <a id="12223" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="12225" href="Coherence.Hypotheses.html#12225" class="Bound">ps</a><a id="12227" class="Symbol">@(_</a> <a id="12231" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="12233" class="Symbol">_))</a> <a id="12237" class="Symbol">=</a> <a id="12239" href="Coherence.Hypotheses.html#12127" class="Function">h₀</a> <a id="12242" href="Coherence.Hypotheses.html#12225" class="Bound">ps</a>

  <a id="12248" href="Coherence.Hypotheses.html#12248" class="Function">h₀′</a> <a id="12252" class="Symbol">:</a> <a id="12254" class="Symbol">∀</a> <a id="12256" class="Symbol">(</a><a id="12257" href="Coherence.Hypotheses.html#12257" class="Bound">ds</a> <a id="12260" class="Symbol">:</a> <a id="12262" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="12273" class="Symbol">)</a> <a id="12275" class="Symbol">→</a> <a id="12277" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="12281" class="Symbol">(</a><a id="12282" href="Coherence.Hypotheses.html#12002" class="Function">mkAuth</a> <a id="12289" href="Coherence.Hypotheses.html#12257" class="Bound">ds</a><a id="12291" class="Symbol">)</a> <a id="12293" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="12295" href="Data.List.Base.html#1553" class="Function">map</a> <a id="12299" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="12307" href="Coherence.Hypotheses.html#12257" class="Bound">ds</a>
  <a id="12312" href="Coherence.Hypotheses.html#12248" class="Function">h₀′</a> <a id="12316" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="12319" class="Symbol">=</a> <a id="12321" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="12328" href="Coherence.Hypotheses.html#12248" class="Function">h₀′</a> <a id="12332" class="Symbol">(_</a> <a id="12335" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="12337" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="12339" class="Symbol">)</a> <a id="12341" class="Symbol">=</a> <a id="12343" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="12350" href="Coherence.Hypotheses.html#12248" class="Function">h₀′</a> <a id="12354" class="Symbol">((</a><a id="12356" href="Coherence.Hypotheses.html#12356" class="Bound">Aᵢ</a> <a id="12359" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="12361" href="Coherence.Hypotheses.html#12361" class="Bound">vᵢ</a> <a id="12364" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="12366" href="Coherence.Hypotheses.html#12366" class="Bound">xᵢ</a><a id="12368" class="Symbol">)</a> <a id="12370" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="12372" href="Coherence.Hypotheses.html#12372" class="Bound">ds</a><a id="12374" class="Symbol">@(_</a> <a id="12378" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="12380" class="Symbol">_))</a> <a id="12384" class="Symbol">=</a>
    <a id="12390" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
      <a id="12402" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="12406" class="Symbol">((</a><a id="12408" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="12410" href="Coherence.Hypotheses.html#12356" class="Bound">Aᵢ</a> <a id="12413" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="12417" href="Coherence.Hypotheses.html#12361" class="Bound">vᵢ</a> <a id="12420" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="12424" href="Coherence.Hypotheses.html#12366" class="Bound">xᵢ</a> <a id="12427" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="12429" href="Coherence.Hypotheses.html#12356" class="Bound">Aᵢ</a> <a id="12432" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="12438" href="Coherence.Hypotheses.html#12366" class="Bound">xᵢ</a> <a id="12441" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="12445" href="Coherence.Hypotheses.html#11073" class="Field">ad</a> <a id="12448" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="12449" class="Symbol">)</a> <a id="12451" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="12453" href="Coherence.Hypotheses.html#12941" class="Function">Δ</a><a id="12454" class="Symbol">)</a>
    <a id="12460" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="12463" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="12491" href="Data.Sum.html#838" class="Function">isInj₂</a>
        <a id="12506" class="Symbol">(</a><a id="12507" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="12509" href="Coherence.Hypotheses.html#12356" class="Bound">Aᵢ</a> <a id="12512" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="12516" href="Coherence.Hypotheses.html#12361" class="Bound">vᵢ</a> <a id="12519" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="12523" href="Coherence.Hypotheses.html#12366" class="Bound">xᵢ</a> <a id="12526" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="12528" href="Coherence.Hypotheses.html#12356" class="Bound">Aᵢ</a> <a id="12531" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="12537" href="Coherence.Hypotheses.html#12366" class="Bound">xᵢ</a> <a id="12540" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="12543" href="Coherence.Hypotheses.html#11073" class="Field">ad</a> <a id="12546" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="12547" class="Symbol">)</a> <a id="12549" href="Coherence.Hypotheses.html#12941" class="Function">Δ</a> <a id="12551" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="12559" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="12563" class="Symbol">(</a><a id="12564" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="12566" href="Coherence.Hypotheses.html#12356" class="Bound">Aᵢ</a> <a id="12569" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="12573" href="Coherence.Hypotheses.html#12361" class="Bound">vᵢ</a> <a id="12576" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="12580" href="Coherence.Hypotheses.html#12366" class="Bound">xᵢ</a> <a id="12583" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="12585" href="Coherence.Hypotheses.html#12356" class="Bound">Aᵢ</a> <a id="12588" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="12594" href="Coherence.Hypotheses.html#12366" class="Bound">xᵢ</a> <a id="12597" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="12601" href="Coherence.Hypotheses.html#11073" class="Field">ad</a> <a id="12604" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="12605" class="Symbol">)</a> <a id="12607" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="12610" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="12614" href="Coherence.Hypotheses.html#12941" class="Function">Δ</a>
    <a id="12620" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="12623" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="12628" class="Symbol">(</a><a id="12629" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="12633" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="12637" href="Coherence.Hypotheses.html#12941" class="Function">Δ</a><a id="12638" class="Symbol">)</a> <a id="12640" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="12642" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="12670" href="Data.Sum.html#838" class="Function">isInj₂</a>
        <a id="12685" class="Symbol">(</a><a id="12686" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="12688" href="Coherence.Hypotheses.html#12356" class="Bound">Aᵢ</a> <a id="12691" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="12695" href="Coherence.Hypotheses.html#12361" class="Bound">vᵢ</a> <a id="12698" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="12702" href="Coherence.Hypotheses.html#12366" class="Bound">xᵢ</a><a id="12704" class="Symbol">)</a> <a id="12706" class="Symbol">(</a><a id="12707" href="Coherence.Hypotheses.html#12356" class="Bound">Aᵢ</a> <a id="12710" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="12716" href="Coherence.Hypotheses.html#12366" class="Bound">xᵢ</a> <a id="12719" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="12722" href="Coherence.Hypotheses.html#11073" class="Field">ad</a> <a id="12725" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="12726" class="Symbol">)</a> <a id="12728" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="12736" class="Symbol">(</a><a id="12737" href="Coherence.Hypotheses.html#12366" class="Bound">xᵢ</a> <a id="12740" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="12742" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="12746" class="Symbol">(</a><a id="12747" href="Coherence.Hypotheses.html#12356" class="Bound">Aᵢ</a> <a id="12750" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="12756" href="Coherence.Hypotheses.html#12366" class="Bound">xᵢ</a> <a id="12759" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="12762" href="Coherence.Hypotheses.html#11073" class="Field">ad</a> <a id="12765" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="12766" class="Symbol">))</a> <a id="12769" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="12772" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="12776" href="Coherence.Hypotheses.html#12941" class="Function">Δ</a>
    <a id="12782" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="12785" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="12790" class="Symbol">(λ</a> <a id="12793" href="Coherence.Hypotheses.html#12793" class="Bound">x</a> <a id="12795" class="Symbol">→</a> <a id="12797" class="Symbol">(</a><a id="12798" href="Coherence.Hypotheses.html#12366" class="Bound">xᵢ</a> <a id="12801" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="12803" href="Coherence.Hypotheses.html#12793" class="Bound">x</a><a id="12804" class="Symbol">)</a> <a id="12806" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="12809" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="12813" href="Coherence.Hypotheses.html#12941" class="Function">Δ</a><a id="12814" class="Symbol">)</a> <a id="12816" class="Symbol">(</a><a id="12817" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="12832" class="Symbol">_)</a> <a id="12835" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="12843" href="Coherence.Hypotheses.html#12366" class="Bound">xᵢ</a> <a id="12846" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="12848" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="12852" href="Coherence.Hypotheses.html#12941" class="Function">Δ</a>
    <a id="12858" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="12861" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="12866" class="Symbol">(</a><a id="12867" href="Coherence.Hypotheses.html#12366" class="Bound">xᵢ</a> <a id="12870" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷_</a><a id="12872" class="Symbol">)</a> <a id="12874" class="Symbol">(</a><a id="12875" href="Coherence.Hypotheses.html#12248" class="Function">h₀′</a> <a id="12879" href="Coherence.Hypotheses.html#12372" class="Bound">ds</a><a id="12881" class="Symbol">)</a> <a id="12883" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="12891" href="Coherence.Hypotheses.html#12366" class="Bound">xᵢ</a> <a id="12894" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="12896" href="Data.List.Base.html#1553" class="Function">map</a> <a id="12900" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="12908" href="Coherence.Hypotheses.html#12372" class="Bound">ds</a>
    <a id="12915" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="12917" class="Keyword">where</a> <a id="12923" class="Keyword">open</a> <a id="12928" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a><a id="12939" class="Symbol">;</a> <a id="12941" href="Coherence.Hypotheses.html#12941" class="Function">Δ</a> <a id="12943" class="Symbol">=</a> <a id="12945" href="Coherence.Hypotheses.html#12002" class="Function">mkAuth</a> <a id="12952" href="Coherence.Hypotheses.html#12372" class="Bound">ds</a>

  <a id="12958" href="Coherence.Hypotheses.html#12958" class="Function">h₁</a> <a id="12961" class="Symbol">:</a> <a id="12963" class="Symbol">∀</a> <a id="12965" class="Symbol">(</a><a id="12966" href="Coherence.Hypotheses.html#12966" class="Bound">xs</a> <a id="12969" class="Symbol">:</a> <a id="12971" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="12982" class="Symbol">)</a> <a id="12984" class="Symbol">→</a> <a id="12986" href="Prelude.Null.html#263" class="Field">Null</a> <a id="12991" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="12993" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="13001" class="Symbol">(</a><a id="13002" href="Coherence.Hypotheses.html#12002" class="Function">mkAuth</a> <a id="13009" href="Coherence.Hypotheses.html#12966" class="Bound">xs</a><a id="13011" class="Symbol">)</a>
  <a id="13015" href="Coherence.Hypotheses.html#12958" class="Function">h₁</a> <a id="13018" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="13021" class="Symbol">=</a> <a id="13023" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="13030" href="Coherence.Hypotheses.html#12958" class="Function">h₁</a> <a id="13033" class="Symbol">(_</a> <a id="13036" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13038" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="13040" class="Symbol">)</a> <a id="13042" class="Symbol">=</a> <a id="13044" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="13051" href="Coherence.Hypotheses.html#12958" class="Function">h₁</a> <a id="13054" class="Symbol">(_</a> <a id="13057" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13059" href="Coherence.Hypotheses.html#13059" class="Bound">xs</a><a id="13061" class="Symbol">@(_</a> <a id="13065" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13067" class="Symbol">_))</a> <a id="13071" class="Symbol">=</a> <a id="13073" href="Coherence.Hypotheses.html#12958" class="Function">h₁</a> <a id="13076" href="Coherence.Hypotheses.html#13059" class="Bound">xs</a>

  <a id="13082" href="Coherence.Hypotheses.html#13082" class="Function">h₂</a> <a id="13085" class="Symbol">:</a> <a id="13087" class="Symbol">∀</a> <a id="13089" href="Coherence.Hypotheses.html#13089" class="Bound">xs</a> <a id="13092" class="Symbol">→</a> <a id="13094" href="Prelude.Null.html#263" class="Field">Null</a> <a id="13099" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="13101" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="13109" class="Symbol">(</a><a id="13110" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="13113" href="Data.List.Base.html#1553" class="Function">map</a> <a id="13117" class="Symbol">(</a><a id="13118" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">_auth[</a> <a id="13125" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="13128" href="Coherence.Hypotheses.html#11073" class="Field">ad</a> <a id="13131" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="13132" class="Symbol">)</a> <a id="13134" href="Coherence.Hypotheses.html#13089" class="Bound">xs</a><a id="13136" class="Symbol">)</a>
  <a id="13140" href="Coherence.Hypotheses.html#13082" class="Function">h₂</a> <a id="13143" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="13146" class="Symbol">=</a> <a id="13148" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="13155" href="Coherence.Hypotheses.html#13082" class="Function">h₂</a> <a id="13158" class="Symbol">(_</a> <a id="13161" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13163" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="13165" class="Symbol">)</a> <a id="13167" class="Symbol">=</a> <a id="13169" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="13176" href="Coherence.Hypotheses.html#13082" class="Function">h₂</a> <a id="13179" class="Symbol">(_</a> <a id="13182" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13184" href="Coherence.Hypotheses.html#13184" class="Bound">xs</a><a id="13186" class="Symbol">@(_</a> <a id="13190" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13192" class="Symbol">_))</a> <a id="13196" class="Symbol">=</a> <a id="13198" href="Coherence.Hypotheses.html#13082" class="Function">h₂</a> <a id="13201" href="Coherence.Hypotheses.html#13184" class="Bound">xs</a>

  <a id="13207" href="Coherence.Hypotheses.html#13207" class="Function">h₁′</a> <a id="13211" class="Symbol">:</a> <a id="13213" class="Symbol">∀</a> <a id="13215" class="Symbol">(</a><a id="13216" href="Coherence.Hypotheses.html#13216" class="Bound">xs</a> <a id="13219" class="Symbol">:</a> <a id="13221" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="13232" class="Symbol">)</a> <a id="13234" class="Symbol">→</a> <a id="13236" href="Prelude.Null.html#263" class="Field">Null</a> <a id="13241" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="13243" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="13258" class="Symbol">(</a><a id="13259" href="Coherence.Hypotheses.html#12002" class="Function">mkAuth</a> <a id="13266" href="Coherence.Hypotheses.html#13216" class="Bound">xs</a><a id="13268" class="Symbol">)</a>
  <a id="13272" href="Coherence.Hypotheses.html#13207" class="Function">h₁′</a> <a id="13276" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="13279" class="Symbol">=</a> <a id="13281" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="13288" href="Coherence.Hypotheses.html#13207" class="Function">h₁′</a> <a id="13292" class="Symbol">(_</a> <a id="13295" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13297" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="13299" class="Symbol">)</a> <a id="13301" class="Symbol">=</a> <a id="13303" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="13310" href="Coherence.Hypotheses.html#13207" class="Function">h₁′</a> <a id="13314" class="Symbol">(_</a> <a id="13317" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13319" href="Coherence.Hypotheses.html#13319" class="Bound">xs</a><a id="13321" class="Symbol">@(_</a> <a id="13325" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="13327" class="Symbol">_))</a> <a id="13331" class="Symbol">=</a> <a id="13333" href="Coherence.Hypotheses.html#13207" class="Function">h₁′</a> <a id="13337" href="Coherence.Hypotheses.html#13319" class="Bound">xs</a>

  <a id="13343" href="Coherence.Hypotheses.html#13343" class="Function">ids≡</a> <a id="13348" class="Symbol">:</a> <a id="13350" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13354" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="13356" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="13358" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13362" href="Coherence.Hypotheses.html#11076" class="Field">Γ₀</a> <a id="13365" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="13368" href="Data.List.Base.html#1553" class="Function">map</a> <a id="13372" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="13380" href="Coherence.Hypotheses.html#11111" class="Function">ds</a>
  <a id="13385" href="Coherence.Hypotheses.html#13343" class="Function">ids≡</a> <a id="13390" class="Symbol">=</a> <a id="13392" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
    <a id="13402" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13406" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a>                    <a id="13427" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="13430" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="13458" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="13465" class="Symbol">(</a><a id="13466" href="Coherence.Hypotheses.html#11268" class="Function">Γ₁</a> <a id="13469" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="13471" href="Coherence.Hypotheses.html#11291" class="Function">Γ₂</a><a id="13473" class="Symbol">)</a> <a id="13475" href="Coherence.Hypotheses.html#11384" class="Function">Γ₃</a> <a id="13478" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="13484" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13488" class="Symbol">(</a><a id="13489" href="Coherence.Hypotheses.html#11268" class="Function">Γ₁</a> <a id="13492" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="13494" href="Coherence.Hypotheses.html#11291" class="Function">Γ₂</a><a id="13496" class="Symbol">)</a> <a id="13498" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="13501" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13505" href="Coherence.Hypotheses.html#11384" class="Function">Γ₃</a>  <a id="13509" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="13512" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="13517" class="Symbol">(</a><a id="13518" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13522" class="Symbol">(</a><a id="13523" href="Coherence.Hypotheses.html#11268" class="Function">Γ₁</a> <a id="13526" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="13528" href="Coherence.Hypotheses.html#11291" class="Function">Γ₂</a><a id="13530" class="Symbol">)</a> <a id="13532" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="13535" class="Symbol">)</a> <a id="13537" class="Symbol">(</a><a id="13538" href="Coherence.Hypotheses.html#12127" class="Function">h₀</a> <a id="13541" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a><a id="13546" class="Symbol">)</a> <a id="13548" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="13554" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13558" class="Symbol">(</a><a id="13559" href="Coherence.Hypotheses.html#11268" class="Function">Γ₁</a> <a id="13562" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="13564" href="Coherence.Hypotheses.html#11291" class="Function">Γ₂</a><a id="13566" class="Symbol">)</a> <a id="13568" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="13571" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>      <a id="13579" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="13582" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="13597" class="Symbol">_</a> <a id="13599" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="13605" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13609" class="Symbol">(</a><a id="13610" href="Coherence.Hypotheses.html#11268" class="Function">Γ₁</a> <a id="13613" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="13615" href="Coherence.Hypotheses.html#11291" class="Function">Γ₂</a><a id="13617" class="Symbol">)</a>            <a id="13630" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="13633" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="13661" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="13668" href="Coherence.Hypotheses.html#11268" class="Function">Γ₁</a> <a id="13671" href="Coherence.Hypotheses.html#11291" class="Function">Γ₂</a> <a id="13674" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="13680" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13684" href="Coherence.Hypotheses.html#11268" class="Function">Γ₁</a> <a id="13687" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="13690" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13694" href="Coherence.Hypotheses.html#11291" class="Function">Γ₂</a>         <a id="13705" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="13708" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="13713" class="Symbol">(</a><a id="13714" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="13718" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13722" href="Coherence.Hypotheses.html#11291" class="Function">Γ₂</a><a id="13724" class="Symbol">)</a>
                                  <a id="13760" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="13762" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="13790" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="13797" class="Symbol">(</a><a id="13798" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="13800" href="Coherence.Hypotheses.html#11073" class="Field">ad</a><a id="13802" class="Symbol">)</a> <a id="13804" href="Coherence.Hypotheses.html#11076" class="Field">Γ₀</a> <a id="13807" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="13813" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13817" href="Coherence.Hypotheses.html#11076" class="Field">Γ₀</a> <a id="13820" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="13823" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13827" href="Coherence.Hypotheses.html#11291" class="Function">Γ₂</a>         <a id="13838" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="13841" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="13846" class="Symbol">(</a><a id="13847" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13851" href="Coherence.Hypotheses.html#11076" class="Field">Γ₀</a> <a id="13854" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="13857" class="Symbol">)</a> <a id="13859" class="Symbol">(</a><a id="13860" href="Coherence.Hypotheses.html#12248" class="Function">h₀′</a> <a id="13864" href="Coherence.Hypotheses.html#11111" class="Function">ds</a><a id="13866" class="Symbol">)</a> <a id="13868" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="13874" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="13878" href="Coherence.Hypotheses.html#11076" class="Field">Γ₀</a> <a id="13881" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="13884" href="Data.List.Base.html#1553" class="Function">map</a> <a id="13888" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="13896" href="Coherence.Hypotheses.html#11111" class="Function">ds</a> <a id="13899" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="13901" class="Keyword">where</a> <a id="13907" class="Keyword">open</a> <a id="13912" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

  <a id="13927" href="Coherence.Hypotheses.html#13927" class="Function">secrets≡</a> <a id="13936" class="Symbol">:</a> <a id="13938" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="13941" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="13944" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="13952" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="13954" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a>
  <a id="13958" href="Coherence.Hypotheses.html#13927" class="Function">secrets≡</a> <a id="13967" class="Symbol">=</a> <a id="13969" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="13973" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="13975" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
    <a id="13985" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="13993" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a>                       <a id="14017" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
    <a id="14025" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="14033" class="Symbol">(</a><a id="14034" href="Coherence.Hypotheses.html#11268" class="Function">Γ₁</a> <a id="14037" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14039" href="Coherence.Hypotheses.html#11291" class="Function">Γ₂</a> <a id="14042" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14044" href="Coherence.Hypotheses.html#11384" class="Function">Γ₃</a><a id="14046" class="Symbol">)</a>          <a id="14057" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="14060" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="14088" href="Data.Sum.html#755" class="Function">isInj₁</a>
                                          <a id="14137" class="Symbol">(</a><a id="14138" href="Coherence.Hypotheses.html#11268" class="Function">Γ₁</a> <a id="14141" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14143" href="Coherence.Hypotheses.html#11291" class="Function">Γ₂</a><a id="14145" class="Symbol">)</a> <a id="14147" href="Coherence.Hypotheses.html#11384" class="Function">Γ₃</a> <a id="14150" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="14156" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="14164" class="Symbol">(</a><a id="14165" href="Coherence.Hypotheses.html#11268" class="Function">Γ₁</a> <a id="14168" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14170" href="Coherence.Hypotheses.html#11291" class="Function">Γ₂</a><a id="14172" class="Symbol">)</a> <a id="14174" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="14177" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="14185" href="Coherence.Hypotheses.html#11384" class="Function">Γ₃</a> <a id="14188" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="14191" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="14196" class="Symbol">(</a><a id="14197" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="14205" class="Symbol">(</a><a id="14206" href="Coherence.Hypotheses.html#11268" class="Function">Γ₁</a> <a id="14209" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14211" href="Coherence.Hypotheses.html#11291" class="Function">Γ₂</a><a id="14213" class="Symbol">)</a>  <a id="14216" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="14219" class="Symbol">)</a> <a id="14221" class="Symbol">(</a><a id="14222" href="Coherence.Hypotheses.html#13082" class="Function">h₂</a> <a id="14225" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a><a id="14230" class="Symbol">)</a> <a id="14232" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="14238" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="14246" class="Symbol">(</a><a id="14247" href="Coherence.Hypotheses.html#11268" class="Function">Γ₁</a> <a id="14250" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14252" href="Coherence.Hypotheses.html#11291" class="Function">Γ₂</a><a id="14254" class="Symbol">)</a> <a id="14256" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="14259" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>         <a id="14270" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="14273" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="14288" class="Symbol">_</a> <a id="14290" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="14296" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="14304" class="Symbol">(</a><a id="14305" href="Coherence.Hypotheses.html#11268" class="Function">Γ₁</a> <a id="14308" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14310" href="Coherence.Hypotheses.html#11291" class="Function">Γ₂</a><a id="14312" class="Symbol">)</a>               <a id="14328" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="14331" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="14359" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="14366" href="Coherence.Hypotheses.html#11268" class="Function">Γ₁</a> <a id="14369" href="Coherence.Hypotheses.html#11291" class="Function">Γ₂</a> <a id="14372" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="14378" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="14386" href="Coherence.Hypotheses.html#11268" class="Function">Γ₁</a> <a id="14389" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="14392" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="14400" href="Coherence.Hypotheses.html#11291" class="Function">Γ₂</a>        <a id="14410" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="14413" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="14418" class="Symbol">(</a><a id="14419" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="14427" href="Coherence.Hypotheses.html#11268" class="Function">Γ₁</a> <a id="14430" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="14433" class="Symbol">)</a> <a id="14435" class="Symbol">(</a><a id="14436" href="Coherence.Hypotheses.html#12958" class="Function">h₁</a> <a id="14439" href="Coherence.Hypotheses.html#11111" class="Function">ds</a><a id="14441" class="Symbol">)</a> <a id="14443" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="14449" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="14457" href="Coherence.Hypotheses.html#11268" class="Function">Γ₁</a> <a id="14460" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="14463" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>                <a id="14481" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="14484" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="14499" class="Symbol">_</a> <a id="14501" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
    <a id="14507" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="14515" href="Coherence.Hypotheses.html#11268" class="Function">Γ₁</a>                      <a id="14539" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
    <a id="14547" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="14555" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>                      <a id="14579" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="14581" class="Keyword">where</a> <a id="14587" class="Keyword">open</a> <a id="14592" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

  <a id="14607" href="Coherence.Hypotheses.html#14607" class="Function">ads⊆′</a> <a id="14613" class="Symbol">:</a> <a id="14615" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="14618" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="14621" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="14636" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="14638" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a>
  <a id="14642" href="Coherence.Hypotheses.html#14607" class="Function">ads⊆′</a> <a id="14648" class="Symbol">=</a> <a id="14650" href="Relation.Binary.Reasoning.Base.Double.html#2222" class="Function Operator">begin</a>
    <a id="14660" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="14675" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="14678" href="Relation.Binary.Reasoning.Base.Double.html#3560" class="Function Operator">≡⟨⟩</a>
    <a id="14686" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="14701" href="Coherence.Hypotheses.html#11076" class="Field">Γ₀</a> <a id="14704" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="14707" href="BitML.Semantics.Configurations.Helpers.html#7992" class="Function">∈-collect-++⁺ˡ</a> <a id="14722" class="Symbol">(</a><a id="14723" href="Coherence.Hypotheses.html#11268" class="Function">Γ₁</a> <a id="14726" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14728" href="Coherence.Hypotheses.html#11291" class="Function">Γ₂</a><a id="14730" class="Symbol">)</a> <a id="14732" href="Coherence.Hypotheses.html#11384" class="Function">Γ₃</a> <a id="14735" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="14737" href="BitML.Semantics.Configurations.Helpers.html#7992" class="Function">∈-collect-++⁺ˡ</a> <a id="14752" href="Coherence.Hypotheses.html#11268" class="Function">Γ₁</a> <a id="14755" href="Coherence.Hypotheses.html#11291" class="Function">Γ₂</a> <a id="14758" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
    <a id="14764" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="14779" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a>  <a id="14782" href="Relation.Binary.Reasoning.Base.Double.html#3656" class="Function Operator">∎</a> <a id="14784" class="Keyword">where</a> <a id="14790" class="Keyword">open</a> <a id="14795" href="Data.List.Relation.Binary.Subset.Propositional.Properties.html#3760" class="Module">⊆-Reasoning</a> <a id="14807" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a>

  <a id="14813" href="Coherence.Hypotheses.html#14813" class="Function">sechash↝</a> <a id="14822" class="Symbol">:</a>  <a id="14825" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="14827" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="14830" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="14838" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="14840" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
  <a id="14845" href="Coherence.Hypotheses.html#14813" class="Function">sechash↝</a> <a id="14854" class="Symbol">=</a> <a id="14856" href="SymbolicModel.Mappings.html#3670" class="Function Operator">lift</a> <a id="14861" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="14863" href="SymbolicModel.Mappings.html#3670" class="Function Operator">—⟨</a> <a id="14866" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="14874" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⟩—</a> <a id="14877" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="14880" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⊣</a> <a id="14882" href="Coherence.Hypotheses.html#13927" class="Function">secrets≡</a>

  <a id="14894" href="Coherence.Hypotheses.html#14894" class="Function">κ↝</a> <a id="14897" class="Symbol">:</a> <a id="14899" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="14901" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="14904" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="14907" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="14909" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
  <a id="14914" href="Coherence.Hypotheses.html#14894" class="Function">κ↝</a> <a id="14917" href="Coherence.Hypotheses.html#14917" class="Bound">κ′</a> <a id="14920" class="Symbol">=</a> <a id="14922" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="14931" href="Coherence.Hypotheses.html#14917" class="Bound">κ′</a> <a id="14934" href="Coherence.Hypotheses.html#14607" class="Function">ads⊆′</a>

  <a id="14943" href="Coherence.Hypotheses.html#14943" class="Function">txout↝</a> <a id="14950" class="Symbol">:</a> <a id="14952" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="14954" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="14957" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="14963" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="14965" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
  <a id="14970" href="Coherence.Hypotheses.html#14943" class="Function">txout↝</a> <a id="14977" href="Coherence.Hypotheses.html#14977" class="Bound">txout′</a> <a id="14984" class="Keyword">rewrite</a> <a id="14992" href="Coherence.Hypotheses.html#13343" class="Function">ids≡</a> <a id="14997" class="Symbol">=</a> <a id="14999" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="15006" href="Coherence.Hypotheses.html#11081" class="Field">z</a> <a id="15008" class="Symbol">((</a><a id="15010" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="15013" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="15016" href="Coherence.Hypotheses.html#11965" class="Function">T</a><a id="15017" class="Symbol">)</a> <a id="15019" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="15022" class="Number">0</a><a id="15023" class="Symbol">)</a> <a id="15025" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="15027" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="15036" href="Coherence.Hypotheses.html#14977" class="Bound">txout′</a> <a id="15043" href="Data.List.Membership.Propositional.Properties.html#3965" class="Function">∈-++⁺ˡ</a>

  <a id="15053" href="Coherence.Hypotheses.html#15053" class="Function">λˢ</a> <a id="15056" class="Symbol">:</a> <a id="15058" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="15061" href="Coherence.Hypotheses.html#1895" class="Function">Γₜ′</a>
  <a id="15067" href="Coherence.Hypotheses.html#15053" class="Function">λˢ</a> <a id="15070" class="Symbol">=</a> <a id="15072" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="15078" href="Coherence.Hypotheses.html#2229" class="Function">𝕣</a> <a id="15080" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="15082" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="15085" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="15088" href="Coherence.Hypotheses.html#14943" class="Function">txout↝</a> <a id="15095" href="Coherence.Hypotheses.html#14813" class="Function">sechash↝</a> <a id="15104" href="Coherence.Hypotheses.html#14894" class="Function">κ↝</a>

<a id="15108" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[4]~_⨾_"></a><a id="15113" href="Coherence.Hypotheses.html#15113" class="Datatype Operator">_⨾_⨾_~ℍ[4]~_⨾_</a> <a id="15128" class="Symbol">:</a> <a id="15130" href="Coherence.Hypotheses.html#1602" class="Function">StepRel</a> <a id="15138" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[4]~_⨾_.mkℍ"></a><a id="15146" href="Coherence.Hypotheses.html#15146" class="InductiveConstructor">mkℍ</a> <a id="15150" class="Symbol">:</a> <a id="15152" class="Symbol">∀</a> <a id="15154" class="Symbol">{</a><a id="15155" href="Coherence.Hypotheses.html#15155" class="Bound">h</a> <a id="15157" class="Symbol">:</a> <a id="15159" href="Coherence.Hypotheses.html#11022" class="Record">H₄-args</a><a id="15166" class="Symbol">}</a>
    <a id="15172" class="Symbol">→</a> <a id="15174" class="Keyword">let</a>
        <a id="15186" class="Comment">-- (i) consume {G}C and its persistent deposits from Rˢ</a>
        <a id="15250" class="Keyword">open</a> <a id="15255" href="Coherence.Hypotheses.html#11022" class="Module">H₄-args</a> <a id="15263" href="Coherence.Hypotheses.html#15155" class="Bound">h</a>

        <a id="15274" class="Comment">-- (iii) sechash = sechash′, κ = κ′, txout extends txout′ with (z ↦ Tᵢₙᵢₜ)</a>
        <a id="15357" class="Keyword">open</a> <a id="15362" href="Coherence.Hypotheses.html#11629" class="Module">H₄</a> <a id="15365" href="Coherence.Hypotheses.html#15155" class="Bound">h</a> <a id="15367" class="Keyword">using</a> <a id="15373" class="Symbol">(</a><a id="15374" href="Coherence.Hypotheses.html#15053" class="Function">λˢ</a><a id="15376" class="Symbol">;</a> <a id="15378" href="Coherence.Hypotheses.html#11965" class="Function">T</a><a id="15379" class="Symbol">)</a>

        <a id="15390" class="Comment">-- (ii) append Tᵢₙᵢₜ to the blockchain</a>
        <a id="15437" href="Coherence.Hypotheses.html#15437" class="Bound">λᶜ</a> <a id="15440" class="Symbol">=</a> <a id="15442" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="15449" class="Symbol">(</a><a id="15450" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="15453" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="15456" href="Coherence.Hypotheses.html#11965" class="Function">T</a><a id="15457" class="Symbol">)</a>

      <a id="15466" class="Keyword">in</a>
      <a id="15475" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="15535" href="Coherence.Hypotheses.html#2177" class="Function">Γₜ″</a> <a id="15539" href="Coherence.Hypotheses.html#15113" class="Datatype Operator">⨾</a> <a id="15541" href="Coherence.Hypotheses.html#2116" class="Function">𝕣∗</a> <a id="15544" href="Coherence.Hypotheses.html#15113" class="Datatype Operator">⨾</a> <a id="15546" class="Symbol">(</a><a id="15547" href="Coherence.Hypotheses.html#2263" class="Function">𝕒</a> <a id="15549" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="15551" href="Coherence.Hypotheses.html#15053" class="Function">λˢ</a><a id="15553" class="Symbol">)</a> <a id="15555" href="Coherence.Hypotheses.html#15113" class="Datatype Operator">~ℍ[4]~</a> <a id="15562" href="Coherence.Hypotheses.html#15437" class="Bound">λᶜ</a> <a id="15565" href="Coherence.Hypotheses.html#15113" class="Datatype Operator">⨾</a> <a id="15567" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a>

<a id="15571" class="Comment">-- ** Contract actions: authorize control</a>
<a id="15613" class="Keyword">record</a> <a id="H₅-args"></a><a id="15620" href="Coherence.Hypotheses.html#15620" class="Record">H₅-args</a> <a id="15628" class="Symbol">:</a> <a id="15630" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="15635" class="Keyword">where</a>
  <a id="15643" class="Keyword">constructor</a> <a id="mk"></a><a id="15655" href="Coherence.Hypotheses.html#15655" class="InductiveConstructor">mk</a>
  <a id="15660" class="Keyword">field</a>
    <a id="15670" class="Symbol">{</a><a id="H₅-args.c"></a><a id="15671" href="Coherence.Hypotheses.html#15671" class="Field">c</a> <a id="H₅-args.v"></a><a id="15673" href="Coherence.Hypotheses.html#15673" class="Field">v</a> <a id="H₅-args.x"></a><a id="15675" href="Coherence.Hypotheses.html#15675" class="Field">x</a> <a id="H₅-args.Γ₀"></a><a id="15677" href="Coherence.Hypotheses.html#15677" class="Field">Γ₀</a> <a id="H₅-args.t"></a><a id="15680" href="Coherence.Hypotheses.html#15680" class="Field">t</a> <a id="H₅-args.A"></a><a id="15682" href="Coherence.Hypotheses.html#15682" class="Field">A</a><a id="15683" class="Symbol">}</a> <a id="15685" class="Symbol">:</a> <a id="15687" class="Symbol">_</a>
    <a id="15693" class="Symbol">{</a><a id="H₅-args.i"></a><a id="15694" href="Coherence.Hypotheses.html#15694" class="Field">i</a><a id="15695" class="Symbol">}</a> <a id="15697" class="Symbol">:</a> <a id="15699" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="15705" href="Coherence.Hypotheses.html#15671" class="Field">c</a>
  <a id="15709" class="Keyword">open</a> <a id="15714" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="15722" href="Coherence.Hypotheses.html#15671" class="Field">c</a> <a id="15724" href="Coherence.Hypotheses.html#15694" class="Field">i</a> <a id="15726" class="Keyword">public</a>
  <a id="15735" class="Keyword">field</a>
    <a id="15745" class="Comment">-- D ≡ A ∶ D′</a>
    <a id="H₅-args.d≡"></a><a id="15763" href="Coherence.Hypotheses.html#15763" class="Field">d≡</a> <a id="15766" class="Symbol">:</a> <a id="15768" href="Coherence.Hypotheses.html#15682" class="Field">A</a> <a id="15770" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="15772" href="BitML.Contracts.Collections.html#14015" class="Function">authDecorations</a> <a id="15788" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a>
    <a id="15794" class="Comment">-- Hypotheses from [C-AuthControl], already in hypothesis `D≡A:D′`</a>
  <a id="15863" class="Keyword">open</a> <a id="15868" href="Coherence.Hypotheses.html#1742" class="Module">Transition</a>
    <a id="15883" class="Symbol">(</a> <a id="15885" class="Symbol">(</a><a id="15886" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="15888" href="Coherence.Hypotheses.html#15671" class="Field">c</a> <a id="15890" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="15892" href="Coherence.Hypotheses.html#15673" class="Field">v</a> <a id="15894" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="15898" href="Coherence.Hypotheses.html#15675" class="Field">x</a> <a id="15900" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15902" href="Coherence.Hypotheses.html#15677" class="Field">Γ₀</a><a id="15904" class="Symbol">)</a> <a id="15906" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="15908" href="Coherence.Hypotheses.html#15680" class="Field">t</a>
      <a id="15916" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">——</a> <a id="15919" href="BitML.Semantics.Label.html#1451" class="InductiveConstructor Operator">auth-control⦅</a> <a id="15933" href="Coherence.Hypotheses.html#15682" class="Field">A</a> <a id="15935" href="BitML.Semantics.Label.html#1451" class="InductiveConstructor Operator">,</a> <a id="15937" href="Coherence.Hypotheses.html#15675" class="Field">x</a> <a id="15939" href="BitML.Semantics.Label.html#1451" class="InductiveConstructor Operator">▷</a> <a id="15941" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="15943" href="BitML.Semantics.Label.html#1451" class="InductiveConstructor Operator">⦆</a> <a id="15945" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">—→</a>
      <a id="15954" class="Symbol">(</a><a id="15955" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="15957" href="Coherence.Hypotheses.html#15671" class="Field">c</a> <a id="15959" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="15961" href="Coherence.Hypotheses.html#15673" class="Field">v</a> <a id="15963" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="15967" href="Coherence.Hypotheses.html#15675" class="Field">x</a> <a id="15969" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15971" href="Coherence.Hypotheses.html#15682" class="Field">A</a> <a id="15973" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="15979" href="Coherence.Hypotheses.html#15675" class="Field">x</a> <a id="15981" href="BitML.Semantics.Action.html#565" class="InductiveConstructor Operator">▷</a> <a id="15983" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="15985" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="15987" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15989" href="Coherence.Hypotheses.html#15677" class="Field">Γ₀</a><a id="15991" class="Symbol">)</a> <a id="15993" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="15995" href="Coherence.Hypotheses.html#15680" class="Field">t</a>
    <a id="16001" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⊣</a> <a id="16003" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="16007" class="Symbol">(</a><a id="16008" href="BitML.Semantics.InferenceRules.html#6523" class="InductiveConstructor">[C-AuthControl]</a> <a id="16024" href="Coherence.Hypotheses.html#15763" class="Field">d≡</a><a id="16026" class="Symbol">)</a>
    <a id="16032" class="Symbol">)</a> <a id="16034" class="Keyword">public</a> <a id="16041" class="Keyword">hiding</a> <a id="16048" class="Symbol">(</a><a id="16049" href="Coherence.Hypotheses.html#1819" class="Field">t</a><a id="16050" class="Symbol">)</a>
  <a id="16054" class="Keyword">field</a> <a id="H₅-args.𝕙r"></a><a id="16060" href="Coherence.Hypotheses.html#16060" class="Field">𝕙r</a> <a id="16063" class="Symbol">:</a> <a id="16065" href="Coherence.Hypotheses.html#1958" class="Record">ℍ-Run</a> <a id="16071" href="Coherence.Hypotheses.html#1929" class="Function">Γ→</a>
  <a id="16076" class="Keyword">open</a> <a id="16081" href="Coherence.Hypotheses.html#1958" class="Module">ℍ-Run</a> <a id="16087" href="Coherence.Hypotheses.html#16060" class="Field">𝕙r</a> <a id="16090" class="Keyword">public</a>

<a id="16098" class="Keyword">module</a> <a id="16105" href="Coherence.Hypotheses.html#16105" class="Module">H₅</a> <a id="16108" class="Symbol">(</a><a id="16109" href="Coherence.Hypotheses.html#16109" class="Bound">⋯</a> <a id="16111" class="Symbol">:</a> <a id="16113" href="Coherence.Hypotheses.html#15620" class="Record">H₅-args</a><a id="16120" class="Symbol">)</a> <a id="16122" class="Symbol">(</a><a id="16123" class="Keyword">open</a> <a id="16128" href="Coherence.Hypotheses.html#15620" class="Module">H₅-args</a> <a id="16136" href="Coherence.Hypotheses.html#16109" class="Bound">⋯</a><a id="16137" class="Symbol">)</a> <a id="16139" class="Keyword">where</a>
  <a id="16147" class="Comment">-- (ii) {G}C is the ancestor of ⟨C, v⟩ₓ in Rˢ</a>
  <a id="16195" href="Coherence.Hypotheses.html#16195" class="Function">T×K</a> <a id="16199" class="Symbol">=</a> <a id="16201" href="Coherence.Helpers.html#4528" class="Function">COMPILE-ANCESTOR</a> <a id="16218" class="Symbol">{</a><a id="16219" class="Argument">Γ</a> <a id="16221" class="Symbol">=</a> <a id="16223" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a><a id="16224" class="Symbol">}</a> <a id="16226" class="Symbol">{</a><a id="16227" class="Argument">i</a> <a id="16229" class="Symbol">=</a> <a id="16231" href="Coherence.Hypotheses.html#15694" class="Field">i</a><a id="16232" class="Symbol">}</a> <a id="16234" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="16237" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="16239" href="Coherence.Hypotheses.html#2229" class="Function">𝕣</a>
  <a id="16243" href="Coherence.Hypotheses.html#16243" class="Function">T</a>   <a id="16247" class="Symbol">=</a> <a id="16249" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="16258" href="BitML.Contracts.ModuleMacros.html#607" class="Function">d∗</a> <a id="16261" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="16263" href="Coherence.Hypotheses.html#16195" class="Function">T×K</a> <a id="16267" class="Symbol">.</a><a id="16268" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="16276" href="Coherence.Hypotheses.html#16276" class="Function">Kᵈ</a>  <a id="16280" class="Symbol">=</a> <a id="16282" href="Bitcoin.Crypto.html#346" class="Record">KeyPair</a>     <a id="16294" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="16296" href="Coherence.Hypotheses.html#16195" class="Function">T×K</a> <a id="16300" class="Symbol">.</a><a id="16301" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="16307" href="Coherence.Hypotheses.html#15763" class="Field">d≡</a>
  <a id="16312" href="Coherence.Hypotheses.html#16312" class="Function">∃T</a>  <a id="16316" class="Symbol">=</a> <a id="16318" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>         <a id="16330" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="16332" href="Compiler.Outputs.html#311" class="Function">Inᵈ</a> <a id="16336" href="BitML.Contracts.ModuleMacros.html#607" class="Function">d∗</a> <a id="16339" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="16341" href="Compiler.Outputs.html#315" class="Function">Outᵈ</a> <a id="16346" href="BitML.Contracts.ModuleMacros.html#607" class="Function">d∗</a> <a id="16349" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="16351" href="Coherence.Hypotheses.html#16243" class="Function">T</a>

  <a id="16356" class="Keyword">abstract</a>
    <a id="16369" href="Coherence.Hypotheses.html#16369" class="Function">m</a> <a id="16371" href="Coherence.Hypotheses.html#16371" class="Function">⌞T⌟</a> <a id="16375" class="Symbol">:</a> <a id="16377" href="ComputationalModel.Serialization.html#227" class="Function">Message</a>
    <a id="16389" href="Coherence.Hypotheses.html#16369" class="Function">m</a>   <a id="16393" class="Symbol">=</a> <a id="16395" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="16399" href="Coherence.Hypotheses.html#16276" class="Function">Kᵈ</a> <a id="16402" href="Coherence.Hypotheses.html#16312" class="Function">∃T</a>
    <a id="16409" href="Coherence.Hypotheses.html#16371" class="Function">⌞T⌟</a> <a id="16413" class="Symbol">=</a> <a id="16415" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="16422" href="Coherence.Hypotheses.html#16243" class="Function">T</a>

    <a id="16429" href="Coherence.Hypotheses.html#16429" class="Function">m≡</a> <a id="16432" class="Symbol">:</a> <a id="16434" href="Coherence.Hypotheses.html#16369" class="Function">m</a>   <a id="16438" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="16440" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="16444" href="Coherence.Hypotheses.html#16276" class="Function">Kᵈ</a> <a id="16447" href="Coherence.Hypotheses.html#16312" class="Function">∃T</a>
    <a id="16454" href="Coherence.Hypotheses.html#16429" class="Function">m≡</a> <a id="16457" class="Symbol">=</a> <a id="16459" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

    <a id="16469" href="Coherence.Hypotheses.html#16469" class="Function">T≡</a> <a id="16472" class="Symbol">:</a> <a id="16474" href="Coherence.Hypotheses.html#16371" class="Function">⌞T⌟</a> <a id="16478" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="16480" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="16487" href="Coherence.Hypotheses.html#16243" class="Function">T</a>
    <a id="16493" href="Coherence.Hypotheses.html#16469" class="Function">T≡</a> <a id="16496" class="Symbol">=</a> <a id="16498" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

  <a id="16506" class="Comment">-- (iv) txout = txout′, sechash = sechash′, κ = κ′</a>
  <a id="16559" href="Coherence.Hypotheses.html#16559" class="Function">λˢ</a> <a id="16562" class="Symbol">:</a> <a id="16564" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="16567" href="Coherence.Hypotheses.html#1895" class="Function">Γₜ′</a>
  <a id="16573" href="Coherence.Hypotheses.html#16559" class="Function">λˢ</a> <a id="16576" class="Symbol">=</a> <a id="16578" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="16584" href="Coherence.Hypotheses.html#2229" class="Function">𝕣</a> <a id="16586" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="16588" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="16591" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="16594" href="Function.Base.html#624" class="Function">id</a> <a id="16597" href="Function.Base.html#624" class="Function">id</a> <a id="16600" href="Function.Base.html#624" class="Function">id</a>

<a id="16604" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[5]~_⨾_"></a><a id="16609" href="Coherence.Hypotheses.html#16609" class="Datatype Operator">_⨾_⨾_~ℍ[5]~_⨾_</a> <a id="16624" class="Symbol">:</a> <a id="16626" href="Coherence.Hypotheses.html#1602" class="Function">StepRel</a> <a id="16634" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[5]~_⨾_.mkℍ"></a><a id="16642" href="Coherence.Hypotheses.html#16642" class="InductiveConstructor">mkℍ</a> <a id="16646" class="Symbol">:</a>
    <a id="16652" class="Comment">-- (i) Rˢ contains ⟨C , v⟩ₓ with C = D + ∑ᵢ Dᵢ</a>
    <a id="16703" class="Symbol">∀</a> <a id="16705" class="Symbol">{</a><a id="16706" href="Coherence.Hypotheses.html#16706" class="Bound">h</a> <a id="16708" class="Symbol">:</a> <a id="16710" href="Coherence.Hypotheses.html#15620" class="Record">H₅-args</a><a id="16717" class="Symbol">}</a> <a id="16719" class="Symbol">(</a><a id="16720" class="Keyword">open</a> <a id="16725" href="Coherence.Hypotheses.html#15620" class="Module">H₅-args</a> <a id="16733" href="Coherence.Hypotheses.html#16706" class="Bound">h</a><a id="16734" class="Symbol">)</a> <a id="16736" class="Symbol">{</a><a id="16737" href="Coherence.Hypotheses.html#16737" class="Bound">B</a><a id="16738" class="Symbol">}</a>
    <a id="16744" class="Symbol">→</a> <a id="16746" class="Keyword">let</a>
        <a id="16758" class="Keyword">open</a> <a id="16763" href="Coherence.Hypotheses.html#16105" class="Module">H₅</a> <a id="16766" href="Coherence.Hypotheses.html#16706" class="Bound">h</a> <a id="16768" class="Keyword">using</a> <a id="16774" class="Symbol">(</a><a id="16775" href="Coherence.Hypotheses.html#16559" class="Function">λˢ</a><a id="16777" class="Symbol">;</a> <a id="16779" href="Coherence.Hypotheses.html#16369" class="Function">m</a><a id="16780" class="Symbol">;</a> <a id="16782" href="Coherence.Hypotheses.html#16371" class="Function">⌞T⌟</a><a id="16785" class="Symbol">)</a>
        <a id="16795" href="Coherence.Hypotheses.html#16795" class="Bound">λᶜ</a> <a id="16798" class="Symbol">=</a> <a id="16800" href="Coherence.Hypotheses.html#16737" class="Bound">B</a> <a id="16802" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="16806" href="Coherence.Hypotheses.html#16369" class="Function">m</a>
      <a id="16814" class="Keyword">in</a>
      <a id="16823" class="Comment">-- (v) Rᶜ contains B→∗:T for some B...</a>
    <a id="16866" class="Symbol">∀</a> <a id="16868" class="Symbol">(</a><a id="16869" href="Coherence.Hypotheses.html#16869" class="Bound">∃B</a> <a id="16872" class="Symbol">:</a> <a id="16874" href="Data.Product.html#1378" class="Function">∃</a> <a id="16876" class="Symbol">λ</a> <a id="16878" href="Coherence.Hypotheses.html#16878" class="Bound">B</a> <a id="16880" class="Symbol">→</a> <a id="16882" href="Coherence.Hypotheses.html#16878" class="Bound">B</a> <a id="16884" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="16888" href="Coherence.Hypotheses.html#16371" class="Function">⌞T⌟</a> <a id="16892" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="16894" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="16901" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a><a id="16903" class="Symbol">)</a> <a id="16905" class="Symbol">→</a>

      <a id="16914" class="Comment">-- ...and m is the first signature of T after that</a>
    <a id="16969" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="16971" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="16975" class="Symbol">(λ</a> <a id="16978" href="Coherence.Hypotheses.html#16978" class="Bound">l</a> <a id="16980" class="Symbol">→</a> <a id="16982" class="Symbol">∀</a> <a id="16984" href="Coherence.Hypotheses.html#16984" class="Bound">B</a> <a id="16986" class="Symbol">→</a> <a id="16988" href="Coherence.Hypotheses.html#16978" class="Bound">l</a> <a id="16990" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="16992" href="Coherence.Hypotheses.html#16984" class="Bound">B</a> <a id="16994" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="16998" href="Coherence.Hypotheses.html#16369" class="Function">m</a><a id="16999" class="Symbol">)</a> <a id="17001" class="Symbol">(</a><a id="17002" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="17012" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="17014" href="Coherence.Hypotheses.html#16869" class="Bound">∃B</a> <a id="17017" class="Symbol">.</a><a id="17018" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="17023" class="Symbol">)</a>

      <a id="17032" href="Prelude.InferenceRules.html#12752" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="17092" href="Coherence.Hypotheses.html#2177" class="Function">Γₜ″</a> <a id="17096" href="Coherence.Hypotheses.html#16609" class="Datatype Operator">⨾</a> <a id="17098" href="Coherence.Hypotheses.html#2116" class="Function">𝕣∗</a> <a id="17101" href="Coherence.Hypotheses.html#16609" class="Datatype Operator">⨾</a> <a id="17103" class="Symbol">(</a><a id="17104" href="Coherence.Hypotheses.html#2263" class="Function">𝕒</a> <a id="17106" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="17108" href="Coherence.Hypotheses.html#16559" class="Function">λˢ</a><a id="17110" class="Symbol">)</a> <a id="17112" href="Coherence.Hypotheses.html#16609" class="Datatype Operator">~ℍ[5]~</a> <a id="17119" href="Coherence.Hypotheses.html#16795" class="Bound">λᶜ</a> <a id="17122" href="Coherence.Hypotheses.html#16609" class="Datatype Operator">⨾</a> <a id="17124" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a>

<a id="17128" class="Comment">-- ** Contract actions: put</a>
<a id="17156" class="Keyword">record</a> <a id="H₆-args"></a><a id="17163" href="Coherence.Hypotheses.html#17163" class="Record">H₆-args</a> <a id="17171" class="Symbol">:</a> <a id="17173" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="17178" class="Keyword">where</a>
  <a id="17186" class="Keyword">constructor</a> <a id="mk"></a><a id="17198" href="Coherence.Hypotheses.html#17198" class="InductiveConstructor">mk</a>
  <a id="17203" class="Keyword">field</a>
    <a id="17213" class="Symbol">{</a><a id="H₆-args.c"></a><a id="17214" href="Coherence.Hypotheses.html#17214" class="Field">c</a> <a id="H₆-args.v"></a><a id="17216" href="Coherence.Hypotheses.html#17216" class="Field">v</a> <a id="H₆-args.y"></a><a id="17218" href="Coherence.Hypotheses.html#17218" class="Field">y</a> <a id="H₆-args.c′"></a><a id="17220" href="Coherence.Hypotheses.html#17220" class="Field">c′</a> <a id="H₆-args.y′"></a><a id="17223" href="Coherence.Hypotheses.html#17223" class="Field">y′</a> <a id="H₆-args.Γ₀"></a><a id="17226" href="Coherence.Hypotheses.html#17226" class="Field">Γ₀</a> <a id="H₆-args.t"></a><a id="17229" href="Coherence.Hypotheses.html#17229" class="Field">t</a> <a id="H₆-args.p"></a><a id="17231" href="Coherence.Hypotheses.html#17231" class="Field">p</a><a id="17232" class="Symbol">}</a> <a id="17234" class="Symbol">:</a> <a id="17236" class="Symbol">_</a>
    <a id="17242" class="Symbol">{</a><a id="H₆-args.ds"></a><a id="17243" href="Coherence.Hypotheses.html#17243" class="Field">ds</a><a id="17245" class="Symbol">}</a> <a id="17247" class="Symbol">:</a> <a id="17249" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a>
    <a id="17265" class="Symbol">{</a><a id="H₆-args.ss"></a><a id="17266" href="Coherence.Hypotheses.html#17266" class="Field">ss</a><a id="17268" class="Symbol">}</a> <a id="17270" class="Symbol">:</a> <a id="17272" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="17277" class="Symbol">(</a><a id="17278" href="BitML.BasicTypes.html#675" class="Function">Participant</a> <a id="17290" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="17292" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="17299" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="17301" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="17302" class="Symbol">)</a>
    <a id="17308" class="Symbol">{</a><a id="H₆-args.i"></a><a id="17309" href="Coherence.Hypotheses.html#17309" class="Field">i</a><a id="17310" class="Symbol">}</a> <a id="17312" class="Symbol">:</a> <a id="17314" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="17320" href="Coherence.Hypotheses.html#17214" class="Field">c</a>
  <a id="H₆-args.vs"></a><a id="17324" href="Coherence.Hypotheses.html#17324" class="Function">vs</a> <a id="17327" class="Symbol">=</a> <a id="17329" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="17336" href="Coherence.Hypotheses.html#17243" class="Field">ds</a> <a id="17339" class="Symbol">.</a><a id="17340" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="17346" class="Symbol">.</a><a id="17347" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₆-args.xs"></a><a id="17355" href="Coherence.Hypotheses.html#17355" class="Function">xs</a> <a id="17358" class="Symbol">=</a> <a id="17360" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="17367" href="Coherence.Hypotheses.html#17243" class="Field">ds</a> <a id="17370" class="Symbol">.</a><a id="17371" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="17377" class="Symbol">.</a><a id="17378" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="17384" class="Comment">-- (i) xs = x₁⋯xₖ</a>
  <a id="H₆-args.as"></a><a id="17404" href="Coherence.Hypotheses.html#17404" class="Function">as</a> <a id="17407" class="Symbol">=</a> <a id="17409" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="17416" href="Coherence.Hypotheses.html#17266" class="Field">ss</a> <a id="17419" class="Symbol">.</a><a id="17420" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="17426" class="Symbol">.</a><a id="17427" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₆-args.Γ₁"></a><a id="17435" href="Coherence.Hypotheses.html#17435" class="Function">Γ₁</a>  <a id="17439" class="Symbol">=</a> <a id="17441" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="17444" href="Data.List.Base.html#1553" class="Function">map</a> <a id="17448" class="Symbol">(</a><a id="17449" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="17458" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨_has_⟩at_</a><a id="17468" class="Symbol">)</a> <a id="17470" href="Coherence.Hypotheses.html#17243" class="Field">ds</a>
  <a id="H₆-args.Δ"></a><a id="17475" href="Coherence.Hypotheses.html#17475" class="Function">Δ</a>   <a id="17479" class="Symbol">=</a> <a id="17481" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="17484" href="Data.List.Base.html#1553" class="Function">map</a> <a id="17488" class="Symbol">(</a><a id="17489" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="17498" href="BitML.Semantics.Configurations.Types.html#968" class="InductiveConstructor Operator">_∶_♯_</a><a id="17503" class="Symbol">)</a> <a id="17505" href="Coherence.Hypotheses.html#17266" class="Field">ss</a>
  <a id="H₆-args.Γ₂"></a><a id="17510" href="Coherence.Hypotheses.html#17510" class="Function">Γ₂</a>  <a id="17514" class="Symbol">=</a> <a id="17516" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="17520" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="17522" href="Coherence.Hypotheses.html#17475" class="Function">Δ</a> <a id="17524" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="17526" href="Coherence.Hypotheses.html#17226" class="Field">Γ₀</a>
  <a id="H₆-args.Γ₁₂"></a><a id="17531" href="Coherence.Hypotheses.html#17531" class="Function">Γ₁₂</a> <a id="17535" class="Symbol">=</a> <a id="17537" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="17541" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="17543" href="Coherence.Hypotheses.html#17435" class="Function">Γ₁</a> <a id="17546" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="17548" href="Coherence.Hypotheses.html#17510" class="Function">Γ₂</a>
  <a id="17553" class="Keyword">open</a> <a id="17558" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="17566" href="Coherence.Hypotheses.html#17214" class="Field">c</a> <a id="17568" href="Coherence.Hypotheses.html#17309" class="Field">i</a> <a id="17570" class="Keyword">public</a>
  <a id="H₆-args.As"></a><a id="17579" href="Coherence.Hypotheses.html#17579" class="Function">As</a> <a id="17582" class="Symbol">=</a> <a id="17584" href="BitML.Contracts.Collections.html#13915" class="Function">decorations</a> <a id="17596" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="17598" class="Symbol">.</a><a id="17599" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₆-args.ts"></a><a id="17607" href="Coherence.Hypotheses.html#17607" class="Function">ts</a> <a id="17610" class="Symbol">=</a> <a id="17612" href="BitML.Contracts.Collections.html#13915" class="Function">decorations</a> <a id="17624" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="17626" class="Symbol">.</a><a id="17627" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
  <a id="17635" class="Keyword">field</a>
    <a id="17645" class="Comment">-- ii) in Rˢ, α consumes ⟨D+C,v⟩y and the deposits ⟨Aᵢ,vᵢ⟩ₓᵢ</a>
    <a id="17710" class="Comment">-- to produce ⟨C′,v′⟩y′</a>
    <a id="17738" class="Comment">--     where D = ⋯ : put⋯reveal⋯.C′</a>
    <a id="17778" class="Comment">--     let t be the maximum deadline in an `after` in front of D</a>
    <a id="17847" class="Comment">--     T0D0: what should t′ be in case there are no `after` decorations?</a>
    <a id="17924" class="Comment">--           (currently any value)</a>
    <a id="H₆-args.t≡"></a><a id="17963" href="Coherence.Hypotheses.html#17963" class="Field">t≡</a> <a id="17966" class="Symbol">:</a> <a id="17968" href="Coherence.Hypotheses.html#17229" class="Field">t</a> <a id="17970" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="17972" href="Prelude.Ord.MinMax.html#436" class="Function">maximum</a> <a id="17980" href="Coherence.Hypotheses.html#17229" class="Field">t</a> <a id="17982" href="Coherence.Hypotheses.html#17607" class="Function">ts</a>
    <a id="H₆-args.d≡"></a><a id="17989" href="Coherence.Hypotheses.html#17989" class="Field">d≡</a> <a id="17992" class="Symbol">:</a> <a id="17994" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="17996" href="BitML.Contracts.Collections.html#15163" class="Function Operator">≡⋯∶</a> <a id="18000" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">put</a> <a id="18004" href="Coherence.Hypotheses.html#17355" class="Function">xs</a> <a id="18007" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">&amp;reveal</a> <a id="18015" href="Coherence.Hypotheses.html#17404" class="Function">as</a> <a id="18018" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">if</a> <a id="18021" href="Coherence.Hypotheses.html#17231" class="Field">p</a> <a id="18023" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">⇒</a> <a id="18025" href="Coherence.Hypotheses.html#17220" class="Field">c′</a>
    <a id="18032" class="Comment">-- Hypotheses from [C-PutRev]</a>
    <a id="H₆-args.fresh-y′"></a><a id="18066" href="Coherence.Hypotheses.html#18066" class="Field">fresh-y′</a> <a id="18075" class="Symbol">:</a> <a id="18077" href="Coherence.Hypotheses.html#17223" class="Field">y′</a> <a id="18080" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="18082" href="Coherence.Hypotheses.html#17218" class="Field">y</a> <a id="18084" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="18088" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="18092" href="Coherence.Hypotheses.html#17531" class="Function">Γ₁₂</a>
    <a id="H₆-args.p⟦Δ⟧≡"></a><a id="18100" href="Coherence.Hypotheses.html#18100" class="Field">p⟦Δ⟧≡</a> <a id="18106" class="Symbol">:</a> <a id="18108" href="BitML.Semantics.Predicate.html#906" class="Function Operator">⟦</a> <a id="18110" href="Coherence.Hypotheses.html#17231" class="Field">p</a> <a id="18112" href="BitML.Semantics.Predicate.html#906" class="Function Operator">⟧ᵖ</a> <a id="18115" href="Coherence.Hypotheses.html#17475" class="Function">Δ</a> <a id="18117" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="18119" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="18124" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>
    <a id="18133" class="Comment">-- Hypotheses from [Timeout]</a>
    <a id="H₆-args.As≡∅"></a><a id="18166" href="Coherence.Hypotheses.html#18166" class="Field">As≡∅</a> <a id="18171" class="Symbol">:</a> <a id="18173" href="Prelude.Null.html#263" class="Field">Null</a> <a id="18178" href="Coherence.Hypotheses.html#17579" class="Function">As</a>
  <a id="18183" class="Keyword">private</a>
    <a id="H₆-args.α"></a><a id="18195" href="Coherence.Hypotheses.html#18195" class="Function">α</a>  <a id="18198" class="Symbol">=</a> <a id="18200" href="BitML.Semantics.Label.html#1322" class="InductiveConstructor Operator">put⦅</a> <a id="18205" href="Coherence.Hypotheses.html#17355" class="Function">xs</a> <a id="18208" href="BitML.Semantics.Label.html#1322" class="InductiveConstructor Operator">,</a> <a id="18210" href="Coherence.Hypotheses.html#17404" class="Function">as</a> <a id="18213" href="BitML.Semantics.Label.html#1322" class="InductiveConstructor Operator">,</a> <a id="18215" href="Coherence.Hypotheses.html#17218" class="Field">y</a> <a id="18217" href="BitML.Semantics.Label.html#1322" class="InductiveConstructor Operator">⦆</a>
    <a id="H₆-args.Γ′"></a><a id="18223" href="Coherence.Hypotheses.html#18223" class="Function">Γ′</a> <a id="18226" class="Symbol">=</a> <a id="18228" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="18230" href="Coherence.Hypotheses.html#17220" class="Field">c′</a> <a id="18233" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="18235" href="Coherence.Hypotheses.html#17216" class="Field">v</a> <a id="18237" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="18239" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="18243" href="Coherence.Hypotheses.html#17324" class="Function">vs</a> <a id="18246" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="18250" href="Coherence.Hypotheses.html#17223" class="Field">y′</a> <a id="18253" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="18255" href="Coherence.Hypotheses.html#17510" class="Function">Γ₂</a>

    <a id="H₆-args.∀≤t"></a><a id="18263" href="Coherence.Hypotheses.html#18263" class="Function">∀≤t</a> <a id="18267" class="Symbol">:</a> <a id="18269" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="18273" class="Symbol">(</a><a id="18274" href="Prelude.Ord.Core.html#209" class="Field Operator">_≤</a> <a id="18277" href="Coherence.Hypotheses.html#17229" class="Field">t</a><a id="18278" class="Symbol">)</a> <a id="18280" href="Coherence.Hypotheses.html#17607" class="Function">ts</a>
    <a id="18287" href="Coherence.Hypotheses.html#18263" class="Function">∀≤t</a> <a id="18291" class="Symbol">=</a> <a id="18293" href="Prelude.SubstDSL.html#488" class="Function">⟪</a> <a id="18295" class="Symbol">(λ</a> <a id="18298" href="Coherence.Hypotheses.html#18298" class="Bound">◆</a> <a id="18300" class="Symbol">→</a> <a id="18302" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="18306" class="Symbol">(</a><a id="18307" href="Prelude.Ord.Core.html#209" class="Field Operator">_≤</a> <a id="18310" href="Coherence.Hypotheses.html#18298" class="Bound">◆</a><a id="18311" class="Symbol">)</a> <a id="18313" href="Coherence.Hypotheses.html#17607" class="Function">ts</a><a id="18315" class="Symbol">)</a> <a id="18317" href="Prelude.SubstDSL.html#488" class="Function">⟫</a> <a id="18319" href="Coherence.Hypotheses.html#17963" class="Field">t≡</a> <a id="18322" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="18325" href="Prelude.Ord.MinMax.html#1034" class="Postulate">∀≤max</a> <a id="18331" href="Coherence.Hypotheses.html#17229" class="Field">t</a> <a id="18333" href="Coherence.Hypotheses.html#17607" class="Function">ts</a>

    <a id="H₆-args.put→"></a><a id="18341" href="Coherence.Hypotheses.html#18341" class="Function">put→</a> <a id="18346" class="Symbol">:</a> <a id="18348" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="18350" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="18352" href="BitML.Contracts.ModuleMacros.html#607" class="Function">d∗</a> <a id="18355" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="18357" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="18359" href="Coherence.Hypotheses.html#17216" class="Field">v</a> <a id="18361" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="18365" href="Coherence.Hypotheses.html#17218" class="Field">y</a> <a id="18367" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="18369" href="Coherence.Hypotheses.html#17531" class="Function">Γ₁₂</a> <a id="18373" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="18376" href="Coherence.Hypotheses.html#18195" class="Function">α</a> <a id="18378" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a> <a id="18381" href="Coherence.Hypotheses.html#18223" class="Function">Γ′</a>
    <a id="18388" href="Coherence.Hypotheses.html#18341" class="Function">put→</a> <a id="18393" class="Symbol">=</a> <a id="18395" href="Prelude.SubstDSL.html#488" class="Function">⟪</a> <a id="18397" class="Symbol">(λ</a> <a id="18400" href="Coherence.Hypotheses.html#18400" class="Bound">◆</a> <a id="18402" class="Symbol">→</a> <a id="18404" class="Symbol">(</a><a id="18405" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="18407" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="18409" href="Coherence.Hypotheses.html#18400" class="Bound">◆</a> <a id="18411" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="18413" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="18415" href="Coherence.Hypotheses.html#17216" class="Field">v</a> <a id="18417" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="18421" href="Coherence.Hypotheses.html#17218" class="Field">y</a> <a id="18423" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="18425" class="Symbol">(</a><a id="18426" href="Coherence.Hypotheses.html#17435" class="Function">Γ₁</a> <a id="18429" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="18431" href="Coherence.Hypotheses.html#17510" class="Function">Γ₂</a><a id="18433" class="Symbol">)</a> <a id="18435" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="18438" href="Coherence.Hypotheses.html#18195" class="Function">α</a> <a id="18440" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a> <a id="18443" href="Coherence.Hypotheses.html#18223" class="Function">Γ′</a><a id="18445" class="Symbol">))</a> <a id="18448" href="Prelude.SubstDSL.html#488" class="Function">⟫</a> <a id="18450" href="Coherence.Hypotheses.html#17989" class="Field">d≡</a>
           <a id="18464" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="18467" href="BitML.Semantics.InferenceRules.html#5799" class="InductiveConstructor">[C-PutRev]</a> <a id="18478" class="Symbol">{</a><a id="18479" class="Argument">ds</a> <a id="18482" class="Symbol">=</a> <a id="18484" href="Coherence.Hypotheses.html#17243" class="Field">ds</a><a id="18486" class="Symbol">}</a> <a id="18488" class="Symbol">{</a><a id="18489" class="Argument">ss</a> <a id="18492" class="Symbol">=</a> <a id="18494" href="Coherence.Hypotheses.html#17266" class="Field">ss</a><a id="18496" class="Symbol">}</a> <a id="18498" href="Coherence.Hypotheses.html#18066" class="Field">fresh-y′</a> <a id="18507" href="Coherence.Hypotheses.html#18100" class="Field">p⟦Δ⟧≡</a>
  <a id="18515" class="Keyword">open</a> <a id="18520" href="Coherence.Hypotheses.html#1742" class="Module">Transition</a>
    <a id="18535" class="Symbol">(</a> <a id="18537" class="Symbol">(</a><a id="18538" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="18540" href="Coherence.Hypotheses.html#17214" class="Field">c</a> <a id="18542" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="18544" href="Coherence.Hypotheses.html#17216" class="Field">v</a> <a id="18546" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="18550" href="Coherence.Hypotheses.html#17218" class="Field">y</a> <a id="18552" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="18554" href="Coherence.Hypotheses.html#17531" class="Function">Γ₁₂</a><a id="18557" class="Symbol">)</a> <a id="18559" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="18561" href="Coherence.Hypotheses.html#17229" class="Field">t</a> <a id="18563" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">——</a> <a id="18566" href="Coherence.Hypotheses.html#18195" class="Function">α</a> <a id="18568" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">—→</a> <a id="18571" href="Coherence.Hypotheses.html#18223" class="Function">Γ′</a> <a id="18574" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="18576" href="Coherence.Hypotheses.html#17229" class="Field">t</a>
    <a id="18582" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⊣</a> <a id="18584" href="BitML.Semantics.InferenceRules.html#7812" class="InductiveConstructor">[Timeout]</a> <a id="18594" href="Coherence.Hypotheses.html#18166" class="Field">As≡∅</a> <a id="18599" href="Coherence.Hypotheses.html#18263" class="Function">∀≤t</a> <a id="18603" href="Coherence.Hypotheses.html#18341" class="Function">put→</a> <a id="18608" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="18617" class="Symbol">)</a> <a id="18619" class="Keyword">public</a> <a id="18626" class="Keyword">hiding</a> <a id="18633" class="Symbol">(</a><a id="18634" href="Coherence.Hypotheses.html#1819" class="Field">t</a><a id="18635" class="Symbol">)</a>
  <a id="18639" class="Keyword">field</a> <a id="H₆-args.𝕙r"></a><a id="18645" href="Coherence.Hypotheses.html#18645" class="Field">𝕙r</a> <a id="18648" class="Symbol">:</a> <a id="18650" href="Coherence.Hypotheses.html#1958" class="Record">ℍ-Run</a> <a id="18656" href="Coherence.Hypotheses.html#1929" class="Function">Γ→</a>
  <a id="18661" class="Keyword">open</a> <a id="18666" href="Coherence.Hypotheses.html#1958" class="Module">ℍ-Run</a> <a id="18672" href="Coherence.Hypotheses.html#18645" class="Field">𝕙r</a> <a id="18675" class="Keyword">public</a>

<a id="18683" class="Keyword">module</a> <a id="18690" href="Coherence.Hypotheses.html#18690" class="Module">H₆</a> <a id="18693" class="Symbol">(</a><a id="18694" href="Coherence.Hypotheses.html#18694" class="Bound">⋯</a> <a id="18696" class="Symbol">:</a> <a id="18698" href="Coherence.Hypotheses.html#17163" class="Record">H₆-args</a><a id="18705" class="Symbol">)</a> <a id="18707" class="Symbol">(</a><a id="18708" class="Keyword">open</a> <a id="18713" href="Coherence.Hypotheses.html#17163" class="Module">H₆-args</a> <a id="18721" href="Coherence.Hypotheses.html#18694" class="Bound">⋯</a><a id="18722" class="Symbol">)</a> <a id="18724" class="Keyword">where</a>
  <a id="18732" href="Coherence.Hypotheses.html#18732" class="Function">T</a> <a id="18734" class="Symbol">:</a> <a id="18736" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="18739" class="Symbol">(</a><a id="18740" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="18744" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="18746" href="Data.List.Base.html#4873" class="Function">length</a> <a id="18753" href="Coherence.Hypotheses.html#17355" class="Function">xs</a><a id="18755" class="Symbol">)</a> <a id="18757" class="Number">1</a>
  <a id="18761" href="Coherence.Hypotheses.html#18732" class="Function">T</a> <a id="18763" class="Symbol">=</a> <a id="18765" href="Coherence.Helpers.html#4528" class="Function">COMPILE-ANCESTOR</a> <a id="18782" class="Symbol">{</a><a id="18783" class="Argument">Γ</a> <a id="18785" class="Symbol">=</a> <a id="18787" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a><a id="18788" class="Symbol">}</a> <a id="18790" class="Symbol">{</a><a id="18791" class="Argument">i</a> <a id="18793" class="Symbol">=</a> <a id="18795" href="Coherence.Hypotheses.html#17309" class="Field">i</a><a id="18796" class="Symbol">}</a> <a id="18798" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="18801" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="18803" href="Coherence.Hypotheses.html#2229" class="Function">𝕣</a> <a id="18805" class="Symbol">.</a><a id="18806" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="18812" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="18815" href="Coherence.Hypotheses.html#17989" class="Field">d≡</a> <a id="18818" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="18820" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="18829" href="Prelude.SubstDSL.html#164" class="Function">⟫</a>

  <a id="18834" href="Coherence.Hypotheses.html#18834" class="Function">txi</a> <a id="18838" class="Symbol">:</a> <a id="18840" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
  <a id="18851" href="Coherence.Hypotheses.html#18834" class="Function">txi</a> <a id="18855" class="Symbol">=</a> <a id="18857" class="Symbol">(</a><a id="18858" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="18861" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="18864" href="Coherence.Hypotheses.html#18732" class="Function">T</a><a id="18865" class="Symbol">)</a> <a id="18867" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="18870" class="Number">0</a>

  <a id="18875" class="Keyword">postulate</a> <a id="18885" href="Coherence.Hypotheses.html#18885" class="Postulate">val≡</a> <a id="18890" class="Symbol">:</a> <a id="18892" href="Coherence.Hypotheses.html#18834" class="Function">txi</a> <a id="18896" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a> <a id="18903" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="18905" href="Coherence.Hypotheses.html#17216" class="Field">v</a> <a id="18907" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="18909" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="18913" href="Coherence.Hypotheses.html#17324" class="Function">vs</a>

  <a id="18919" class="Keyword">open</a> <a id="18924" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

  <a id="18939" href="Coherence.Hypotheses.html#18939" class="Function">secrets≡</a> <a id="18948" class="Symbol">:</a> <a id="18950" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="18953" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="18956" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="18963" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="18965" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a>
  <a id="18969" href="Coherence.Hypotheses.html#18939" class="Function">secrets≡</a> <a id="18978" class="Symbol">=</a>
    <a id="18984" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
      <a id="18996" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19003" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
    <a id="19010" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="19013" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="19041" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="19048" class="Symbol">(</a><a id="19049" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="19051" href="Coherence.Hypotheses.html#17220" class="Field">c′</a> <a id="19054" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="19056" href="Coherence.Hypotheses.html#17216" class="Field">v</a> <a id="19058" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="19060" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="19064" href="Coherence.Hypotheses.html#17324" class="Function">vs</a> <a id="19067" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="19071" href="Coherence.Hypotheses.html#17223" class="Field">y′</a><a id="19073" class="Symbol">)</a> <a id="19075" href="Coherence.Hypotheses.html#17510" class="Function">Γ₂</a> <a id="19078" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="19086" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19093" class="Symbol">(</a><a id="19094" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="19096" href="Coherence.Hypotheses.html#17220" class="Field">c′</a> <a id="19099" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="19101" href="Coherence.Hypotheses.html#17216" class="Field">v</a> <a id="19103" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="19105" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="19109" href="Coherence.Hypotheses.html#17324" class="Function">vs</a> <a id="19112" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="19116" href="Coherence.Hypotheses.html#17223" class="Field">y′</a><a id="19118" class="Symbol">)</a> <a id="19120" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="19123" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19130" href="Coherence.Hypotheses.html#17510" class="Function">Γ₂</a>
    <a id="19137" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
      <a id="19147" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19154" href="Coherence.Hypotheses.html#17510" class="Function">Γ₂</a>
    <a id="19161" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="19165" href="Data.List.Properties.html#5558" class="Function">L.++-identityˡ</a> <a id="19180" class="Symbol">_</a> <a id="19182" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
      <a id="19190" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="19193" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="19196" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19203" href="Coherence.Hypotheses.html#17510" class="Function">Γ₂</a>
    <a id="19210" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="19214" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="19219" class="Symbol">(</a><a id="19220" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="19224" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19231" href="Coherence.Hypotheses.html#17510" class="Function">Γ₂</a><a id="19233" class="Symbol">)</a> <a id="19235" class="Symbol">(</a><a id="19236" href="Coherence.Hypotheses.html#19396" class="Function">go</a> <a id="19239" href="Coherence.Hypotheses.html#17243" class="Field">ds</a><a id="19241" class="Symbol">)</a> <a id="19243" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
      <a id="19251" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19258" class="Symbol">(</a><a id="19259" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="19261" href="Coherence.Hypotheses.html#17220" class="Field">c′</a> <a id="19264" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="19266" href="Coherence.Hypotheses.html#17216" class="Field">v</a> <a id="19268" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="19272" href="Coherence.Hypotheses.html#17218" class="Field">y</a> <a id="19274" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="19276" href="Coherence.Hypotheses.html#17435" class="Function">Γ₁</a><a id="19278" class="Symbol">)</a> <a id="19280" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="19283" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19290" href="Coherence.Hypotheses.html#17510" class="Function">Γ₂</a>
    <a id="19297" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="19301" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="19329" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="19336" class="Symbol">(</a><a id="19337" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="19339" href="Coherence.Hypotheses.html#17220" class="Field">c′</a> <a id="19342" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="19344" href="Coherence.Hypotheses.html#17216" class="Field">v</a> <a id="19346" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="19350" href="Coherence.Hypotheses.html#17218" class="Field">y</a> <a id="19352" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="19354" href="Coherence.Hypotheses.html#17435" class="Function">Γ₁</a><a id="19356" class="Symbol">)</a> <a id="19358" href="Coherence.Hypotheses.html#17510" class="Function">Γ₂</a> <a id="19361" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
      <a id="19369" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19376" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a>
    <a id="19382" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="19384" class="Keyword">where</a>
      <a id="19396" href="Coherence.Hypotheses.html#19396" class="Function">go</a> <a id="19399" class="Symbol">:</a> <a id="19401" class="Symbol">∀</a> <a id="19403" class="Symbol">(</a><a id="19404" href="Coherence.Hypotheses.html#19404" class="Bound">ds</a> <a id="19407" class="Symbol">:</a> <a id="19409" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="19420" class="Symbol">)</a> <a id="19422" class="Symbol">→</a>
        <a id="19432" href="Prelude.Null.html#263" class="Field">Null</a> <a id="19437" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="19439" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="19446" class="Symbol">(</a><a id="19447" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="19450" href="Data.List.Base.html#1553" class="Function">map</a> <a id="19454" class="Symbol">(λ{</a> <a id="19458" class="Symbol">(</a><a id="19459" href="Coherence.Hypotheses.html#19459" class="Bound">Aᵢ</a> <a id="19462" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="19464" href="Coherence.Hypotheses.html#19464" class="Bound">vᵢ</a> <a id="19467" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="19469" href="Coherence.Hypotheses.html#19469" class="Bound">xᵢ</a><a id="19471" class="Symbol">)</a> <a id="19473" class="Symbol">→</a> <a id="19475" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="19477" href="Coherence.Hypotheses.html#19459" class="Bound">Aᵢ</a> <a id="19480" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="19484" href="Coherence.Hypotheses.html#19464" class="Bound">vᵢ</a> <a id="19487" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="19491" href="Coherence.Hypotheses.html#19469" class="Bound">xᵢ</a> <a id="19494" class="Symbol">})</a> <a id="19497" href="Coherence.Hypotheses.html#19404" class="Bound">ds</a><a id="19499" class="Symbol">)</a>
      <a id="19507" href="Coherence.Hypotheses.html#19396" class="Function">go</a> <a id="19510" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="19513" class="Symbol">=</a> <a id="19515" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="19526" href="Coherence.Hypotheses.html#19396" class="Function">go</a> <a id="19529" class="Symbol">(_</a> <a id="19532" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="19534" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="19536" class="Symbol">)</a> <a id="19538" class="Symbol">=</a> <a id="19540" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="19551" href="Coherence.Hypotheses.html#19396" class="Function">go</a> <a id="19554" class="Symbol">(_</a> <a id="19557" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="19559" href="Coherence.Hypotheses.html#19559" class="Bound">xs</a><a id="19561" class="Symbol">@(_</a> <a id="19565" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="19567" class="Symbol">_))</a> <a id="19571" class="Symbol">=</a> <a id="19573" href="Coherence.Hypotheses.html#19396" class="Function">go</a> <a id="19576" href="Coherence.Hypotheses.html#19559" class="Bound">xs</a>

  <a id="19582" href="Coherence.Hypotheses.html#19582" class="Function">ads≡</a> <a id="19587" class="Symbol">:</a> <a id="19589" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="19592" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="19595" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="19610" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="19612" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a>
  <a id="19616" href="Coherence.Hypotheses.html#19582" class="Function">ads≡</a> <a id="19621" class="Symbol">=</a>
    <a id="19627" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
      <a id="19639" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="19654" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
    <a id="19661" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
      <a id="19671" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="19686" href="Coherence.Hypotheses.html#17510" class="Function">Γ₂</a>
    <a id="19693" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="19697" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="19702" class="Symbol">(</a><a id="19703" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="19707" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="19722" href="Coherence.Hypotheses.html#17510" class="Function">Γ₂</a><a id="19724" class="Symbol">)</a> <a id="19726" class="Symbol">(</a><a id="19727" href="Coherence.Hypotheses.html#19862" class="Function">go</a> <a id="19730" href="Coherence.Hypotheses.html#17243" class="Field">ds</a><a id="19732" class="Symbol">)</a> <a id="19734" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
      <a id="19742" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="19757" href="Coherence.Hypotheses.html#17435" class="Function">Γ₁</a> <a id="19760" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="19763" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="19778" href="Coherence.Hypotheses.html#17510" class="Function">Γ₂</a>
    <a id="19785" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="19788" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="19792" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="19794" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="19813" href="Coherence.Hypotheses.html#17435" class="Function">Γ₁</a> <a id="19816" href="Coherence.Hypotheses.html#17510" class="Function">Γ₂</a> <a id="19819" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="19827" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="19842" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a>
    <a id="19848" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="19850" class="Keyword">where</a>
      <a id="19862" href="Coherence.Hypotheses.html#19862" class="Function">go</a> <a id="19865" class="Symbol">:</a> <a id="19867" class="Symbol">∀</a> <a id="19869" class="Symbol">(</a><a id="19870" href="Coherence.Hypotheses.html#19870" class="Bound">ds</a> <a id="19873" class="Symbol">:</a> <a id="19875" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="19886" class="Symbol">)</a> <a id="19888" class="Symbol">→</a>
        <a id="19898" href="Prelude.Null.html#263" class="Field">Null</a> <a id="19903" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="19905" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="19920" class="Symbol">(</a><a id="19921" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="19924" href="Data.List.Base.html#1553" class="Function">map</a> <a id="19928" class="Symbol">(</a><a id="19929" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="19938" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨_has_⟩at_</a><a id="19948" class="Symbol">)</a> <a id="19950" href="Coherence.Hypotheses.html#19870" class="Bound">ds</a><a id="19952" class="Symbol">)</a>
      <a id="19960" href="Coherence.Hypotheses.html#19862" class="Function">go</a> <a id="19963" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="19966" class="Symbol">=</a> <a id="19968" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="19979" href="Coherence.Hypotheses.html#19862" class="Function">go</a> <a id="19982" class="Symbol">(_</a> <a id="19985" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="19987" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="19989" class="Symbol">)</a> <a id="19991" class="Symbol">=</a> <a id="19993" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="20004" href="Coherence.Hypotheses.html#19862" class="Function">go</a> <a id="20007" class="Symbol">(_</a> <a id="20010" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="20012" href="Coherence.Hypotheses.html#20012" class="Bound">xs</a><a id="20014" class="Symbol">@(_</a> <a id="20018" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="20020" class="Symbol">_))</a> <a id="20024" class="Symbol">=</a> <a id="20026" href="Coherence.Hypotheses.html#19862" class="Function">go</a> <a id="20029" href="Coherence.Hypotheses.html#20012" class="Bound">xs</a>

  <a id="20035" href="Coherence.Hypotheses.html#20035" class="Function">sechash↝</a> <a id="20044" class="Symbol">:</a>  <a id="20047" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="20049" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="20052" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="20060" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="20062" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
  <a id="20067" href="Coherence.Hypotheses.html#20035" class="Function">sechash↝</a> <a id="20076" class="Symbol">=</a> <a id="20078" href="SymbolicModel.Mappings.html#3670" class="Function Operator">lift</a> <a id="20083" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="20085" href="SymbolicModel.Mappings.html#3670" class="Function Operator">—⟨</a> <a id="20088" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="20095" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⟩—</a> <a id="20098" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="20101" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⊣</a> <a id="20103" href="Coherence.Hypotheses.html#18939" class="Function">secrets≡</a>

  <a id="20115" href="Coherence.Hypotheses.html#20115" class="Function">κ↝</a> <a id="20118" class="Symbol">:</a> <a id="20120" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="20122" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="20125" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="20128" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="20130" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
  <a id="20135" href="Coherence.Hypotheses.html#20115" class="Function">κ↝</a> <a id="20138" class="Symbol">=</a> <a id="20140" href="SymbolicModel.Mappings.html#3670" class="Function Operator">lift</a> <a id="20145" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="20147" href="SymbolicModel.Mappings.html#3670" class="Function Operator">—⟨</a> <a id="20150" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="20165" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⟩—</a> <a id="20168" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="20171" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⊣</a> <a id="20173" href="Coherence.Hypotheses.html#19582" class="Function">ads≡</a>

  <a id="20181" href="Coherence.Hypotheses.html#20181" class="Function">p⊆</a> <a id="20184" class="Symbol">:</a> <a id="20186" href="Coherence.Hypotheses.html#17510" class="Function">Γ₂</a> <a id="20189" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="20192" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="20196" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="20198" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a>
  <a id="20202" href="Coherence.Hypotheses.html#20181" class="Function">p⊆</a> <a id="20205" class="Symbol">=</a> <a id="20207" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a> <a id="20213" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="20215" href="BitML.Semantics.Configurations.Helpers.html#10369" class="Function">∈-ids-++⁺ʳ</a> <a id="20226" href="Coherence.Hypotheses.html#17435" class="Function">Γ₁</a> <a id="20229" href="Coherence.Hypotheses.html#17510" class="Function">Γ₂</a>

  <a id="20235" class="Comment">-- (v) extend txout′ with {y′↦(T,0)}, sechash = sechash′, κ = κ′</a>
  <a id="20302" href="Coherence.Hypotheses.html#20302" class="Function">txout↝</a> <a id="20309" class="Symbol">:</a> <a id="20311" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="20313" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="20316" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="20322" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="20324" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
  <a id="20329" href="Coherence.Hypotheses.html#20302" class="Function">txout↝</a> <a id="20336" href="Coherence.Hypotheses.html#20336" class="Bound">txout′</a> <a id="20343" class="Symbol">=</a> <a id="20345" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="20352" href="Coherence.Hypotheses.html#17223" class="Field">y′</a> <a id="20355" href="Coherence.Hypotheses.html#18834" class="Function">txi</a> <a id="20359" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="20361" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="20370" href="Coherence.Hypotheses.html#20336" class="Bound">txout′</a> <a id="20377" href="Coherence.Hypotheses.html#20181" class="Function">p⊆</a>

  <a id="20383" href="Coherence.Hypotheses.html#20383" class="Function">λˢ</a> <a id="20386" class="Symbol">:</a> <a id="20388" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="20391" href="Coherence.Hypotheses.html#1895" class="Function">Γₜ′</a>
  <a id="20397" href="Coherence.Hypotheses.html#20383" class="Function">λˢ</a> <a id="20400" class="Symbol">=</a> <a id="20402" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="20408" href="Coherence.Hypotheses.html#2229" class="Function">𝕣</a> <a id="20410" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="20412" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="20415" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="20418" href="Coherence.Hypotheses.html#20302" class="Function">txout↝</a> <a id="20425" href="Coherence.Hypotheses.html#20035" class="Function">sechash↝</a> <a id="20434" href="Coherence.Hypotheses.html#20115" class="Function">κ↝</a>

<a id="20438" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[6]~_⨾_"></a><a id="20443" href="Coherence.Hypotheses.html#20443" class="Datatype Operator">_⨾_⨾_~ℍ[6]~_⨾_</a> <a id="20458" class="Symbol">:</a> <a id="20460" href="Coherence.Hypotheses.html#1602" class="Function">StepRel</a> <a id="20468" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[6]~_⨾_.mkℍ"></a><a id="20476" href="Coherence.Hypotheses.html#20476" class="InductiveConstructor">mkℍ</a> <a id="20480" class="Symbol">:</a> <a id="20482" class="Symbol">∀</a> <a id="20484" class="Symbol">{</a><a id="20485" href="Coherence.Hypotheses.html#20485" class="Bound">h</a> <a id="20487" class="Symbol">:</a> <a id="20489" href="Coherence.Hypotheses.html#17163" class="Record">H₆-args</a><a id="20496" class="Symbol">}</a> <a id="20498" class="Symbol">(</a><a id="20499" class="Keyword">open</a> <a id="20504" href="Coherence.Hypotheses.html#17163" class="Module">H₆-args</a> <a id="20512" href="Coherence.Hypotheses.html#20485" class="Bound">h</a><a id="20513" class="Symbol">)</a> <a id="20515" class="Symbol">→</a>
    <a id="20521" class="Keyword">let</a>
      <a id="20531" class="Keyword">open</a> <a id="20536" href="Coherence.Hypotheses.html#18690" class="Module">H₆</a> <a id="20539" href="Coherence.Hypotheses.html#20485" class="Bound">h</a> <a id="20541" class="Keyword">using</a> <a id="20547" class="Symbol">(</a><a id="20548" href="Coherence.Hypotheses.html#20383" class="Function">λˢ</a><a id="20550" class="Symbol">;</a> <a id="20552" href="Coherence.Hypotheses.html#18732" class="Function">T</a><a id="20553" class="Symbol">)</a>
      <a id="20561" href="Coherence.Hypotheses.html#20561" class="Bound">λᶜ</a> <a id="20564" class="Symbol">=</a> <a id="20566" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="20573" class="Symbol">(</a><a id="20574" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="20577" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="20580" href="Coherence.Hypotheses.html#18732" class="Function">T</a><a id="20581" class="Symbol">)</a>
    <a id="20587" class="Keyword">in</a>
      <a id="20596" href="Coherence.Hypotheses.html#2177" class="Function">Γₜ″</a> <a id="20600" href="Coherence.Hypotheses.html#20443" class="Datatype Operator">⨾</a> <a id="20602" href="Coherence.Hypotheses.html#2116" class="Function">𝕣∗</a> <a id="20605" href="Coherence.Hypotheses.html#20443" class="Datatype Operator">⨾</a> <a id="20607" class="Symbol">(</a><a id="20608" href="Coherence.Hypotheses.html#2263" class="Function">𝕒</a> <a id="20610" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="20612" href="Coherence.Hypotheses.html#20383" class="Function">λˢ</a><a id="20614" class="Symbol">)</a> <a id="20616" href="Coherence.Hypotheses.html#20443" class="Datatype Operator">~ℍ[6]~</a> <a id="20623" href="Coherence.Hypotheses.html#20561" class="Bound">λᶜ</a> <a id="20626" href="Coherence.Hypotheses.html#20443" class="Datatype Operator">⨾</a> <a id="20628" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a>

<a id="20632" class="Comment">-- ** Contract actions: authorize reveal</a>
<a id="20673" class="Keyword">record</a> <a id="H₇-args"></a><a id="20680" href="Coherence.Hypotheses.html#20680" class="Record">H₇-args</a> <a id="20688" class="Symbol">:</a> <a id="20690" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="20695" class="Keyword">where</a>
  <a id="20703" class="Keyword">constructor</a> <a id="mk"></a><a id="20715" href="Coherence.Hypotheses.html#20715" class="InductiveConstructor">mk</a>
  <a id="20720" class="Keyword">field</a>
    <a id="20730" class="Symbol">{</a><a id="H₇-args.ad"></a><a id="20731" href="Coherence.Hypotheses.html#20731" class="Field">ad</a> <a id="H₇-args.A"></a><a id="20734" href="Coherence.Hypotheses.html#20734" class="Field">A</a> <a id="H₇-args.a"></a><a id="20736" href="Coherence.Hypotheses.html#20736" class="Field">a</a> <a id="H₇-args.n"></a><a id="20738" href="Coherence.Hypotheses.html#20738" class="Field">n</a> <a id="H₇-args.Γ₀"></a><a id="20740" href="Coherence.Hypotheses.html#20740" class="Field">Γ₀</a> <a id="H₇-args.t"></a><a id="20743" href="Coherence.Hypotheses.html#20743" class="Field">t</a><a id="20744" class="Symbol">}</a> <a id="20746" class="Symbol">:</a> <a id="20748" class="Symbol">_</a>
    <a id="H₇-args.k⃗"></a><a id="20754" href="Coherence.Hypotheses.html#20754" class="Field">k⃗</a>   <a id="20759" class="Symbol">:</a> <a id="20761" href="Compiler.Mappings.html#454" class="Function">𝕂²′</a> <a id="20765" href="Coherence.Hypotheses.html#20731" class="Field">ad</a>
    <a id="H₇-args.Δ×h̅"></a><a id="20772" href="Coherence.Hypotheses.html#20772" class="Field">Δ×h̅</a> <a id="20777" class="Symbol">:</a> <a id="20779" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="20784" class="Symbol">(</a><a id="20785" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="20792" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="20794" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="20800" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="20802" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="20804" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a><a id="20805" class="Symbol">)</a>
  <a id="20809" class="Keyword">open</a> <a id="20814" href="BitML.Contracts.ModuleMacros.html#761" class="Module">∣AD</a> <a id="20818" href="Coherence.Hypotheses.html#20731" class="Field">ad</a> <a id="20821" class="Keyword">public</a>
  <a id="H₇-args.Δ"></a><a id="20830" href="Coherence.Hypotheses.html#20830" class="Function">Δ</a> <a id="20832" class="Symbol">=</a> <a id="20834" href="Data.List.Base.html#1553" class="Function">map</a> <a id="20838" href="Prelude.Nary.html#3032" class="Function">drop₃</a>   <a id="20846" href="Coherence.Hypotheses.html#20772" class="Field">Δ×h̅</a>
  <a id="H₇-args.h̅"></a><a id="20853" href="Coherence.Hypotheses.html#20853" class="Function">h̅</a> <a id="20856" class="Symbol">=</a> <a id="20858" href="Data.List.Base.html#1553" class="Function">map</a> <a id="20862" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="20870" href="Coherence.Hypotheses.html#20772" class="Field">Δ×h̅</a>
  <a id="H₇-args.k̅"></a><a id="20877" href="Coherence.Hypotheses.html#20877" class="Function">k̅</a> <a id="20880" class="Symbol">=</a> <a id="20882" href="Data.List.Base.html#4459" class="Function">concatMap</a> <a id="20892" class="Symbol">(</a><a id="20893" href="Data.List.Base.html#1553" class="Function">map</a> <a id="20897" href="Bitcoin.Crypto.html#375" class="Field">pub</a> <a id="20901" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="20903" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a><a id="20908" class="Symbol">)</a> <a id="20910" class="Symbol">(</a><a id="20911" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="20917" href="Coherence.Hypotheses.html#20754" class="Field">k⃗</a><a id="20919" class="Symbol">)</a>
  <a id="20923" class="Keyword">open</a> <a id="20928" href="Coherence.Hypotheses.html#1742" class="Module">Transition</a>
    <a id="20943" class="Symbol">(</a> <a id="20945" class="Symbol">(</a><a id="20946" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="20948" href="Coherence.Hypotheses.html#20734" class="Field">A</a> <a id="20950" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶</a> <a id="20952" href="Coherence.Hypotheses.html#20736" class="Field">a</a> <a id="20954" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">♯</a> <a id="20956" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="20961" href="Coherence.Hypotheses.html#20738" class="Field">n</a> <a id="20963" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟩</a> <a id="20965" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="20967" href="Coherence.Hypotheses.html#20740" class="Field">Γ₀</a><a id="20969" class="Symbol">)</a> <a id="20971" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="20973" href="Coherence.Hypotheses.html#20743" class="Field">t</a> <a id="20975" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">——</a> <a id="20978" href="BitML.Semantics.Label.html#1268" class="InductiveConstructor Operator">auth-rev⦅</a> <a id="20988" href="Coherence.Hypotheses.html#20734" class="Field">A</a> <a id="20990" href="BitML.Semantics.Label.html#1268" class="InductiveConstructor Operator">,</a> <a id="20992" href="Coherence.Hypotheses.html#20736" class="Field">a</a> <a id="20994" href="BitML.Semantics.Label.html#1268" class="InductiveConstructor Operator">⦆</a> <a id="20996" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">—→</a> <a id="20999" href="Coherence.Hypotheses.html#20734" class="Field">A</a> <a id="21001" href="BitML.Semantics.Configurations.Types.html#968" class="InductiveConstructor Operator">∶</a> <a id="21003" href="Coherence.Hypotheses.html#20736" class="Field">a</a> <a id="21005" href="BitML.Semantics.Configurations.Types.html#968" class="InductiveConstructor Operator">♯</a> <a id="21007" href="Coherence.Hypotheses.html#20738" class="Field">n</a> <a id="21009" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="21011" href="Coherence.Hypotheses.html#20740" class="Field">Γ₀</a> <a id="21014" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="21016" href="Coherence.Hypotheses.html#20743" class="Field">t</a>
    <a id="21022" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⊣</a> <a id="21024" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="21028" href="BitML.Semantics.InferenceRules.html#5675" class="InductiveConstructor">[C-AuthRev]</a>
    <a id="21044" class="Symbol">)</a> <a id="21046" class="Keyword">public</a> <a id="21053" class="Keyword">hiding</a> <a id="21060" class="Symbol">(</a><a id="21061" href="Coherence.Hypotheses.html#1819" class="Field">t</a><a id="21062" class="Symbol">)</a>
  <a id="21066" class="Keyword">field</a> <a id="H₇-args.𝕙r"></a><a id="21072" href="Coherence.Hypotheses.html#21072" class="Field">𝕙r</a> <a id="21075" class="Symbol">:</a> <a id="21077" href="Coherence.Hypotheses.html#1958" class="Record">ℍ-Run</a> <a id="21083" href="Coherence.Hypotheses.html#1929" class="Function">Γ→</a>
  <a id="21088" class="Keyword">open</a> <a id="21093" href="Coherence.Hypotheses.html#1958" class="Module">ℍ-Run</a> <a id="21099" href="Coherence.Hypotheses.html#21072" class="Field">𝕙r</a> <a id="21102" class="Keyword">public</a>
  <a id="21111" class="Keyword">field</a>
    <a id="21121" class="Comment">-- (iv) in Rˢ, we find an A:{G}C,∆ action, with a in G</a>
    <a id="H₇-args.∃α"></a><a id="21180" href="Coherence.Hypotheses.html#21180" class="Field">∃α</a> <a id="21183" class="Symbol">:</a> <a id="21185" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">auth-commit⦅</a> <a id="21198" href="Coherence.Hypotheses.html#20734" class="Field">A</a> <a id="21200" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">,</a> <a id="21202" href="Coherence.Hypotheses.html#20731" class="Field">ad</a> <a id="21205" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">,</a> <a id="21207" href="Coherence.Hypotheses.html#20830" class="Function">Δ</a> <a id="21209" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">⦆</a> <a id="21211" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="21213" href="SymbolicModel.Run.Collections.html#908" class="Function">labelsʳ</a> <a id="21221" href="Coherence.Hypotheses.html#2399" class="Function">R</a>

<a id="21224" class="Keyword">module</a> <a id="21231" href="Coherence.Hypotheses.html#21231" class="Module">H₇</a> <a id="21234" class="Symbol">(</a><a id="21235" href="Coherence.Hypotheses.html#21235" class="Bound">⋯</a> <a id="21237" class="Symbol">:</a> <a id="21239" href="Coherence.Hypotheses.html#20680" class="Record">H₇-args</a><a id="21246" class="Symbol">)</a> <a id="21248" class="Symbol">(</a><a id="21249" class="Keyword">open</a> <a id="21254" href="Coherence.Hypotheses.html#20680" class="Module">H₇-args</a> <a id="21262" href="Coherence.Hypotheses.html#21235" class="Bound">⋯</a><a id="21263" class="Symbol">)</a> <a id="21265" class="Keyword">where</a>
  <a id="21273" href="Coherence.Hypotheses.html#21273" class="Function">λˢ</a> <a id="21276" class="Symbol">:</a> <a id="21278" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="21281" href="Coherence.Hypotheses.html#1895" class="Function">Γₜ′</a>
  <a id="21287" href="Coherence.Hypotheses.html#21273" class="Function">λˢ</a> <a id="21290" class="Symbol">=</a> <a id="21292" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="21298" href="Coherence.Hypotheses.html#2229" class="Function">𝕣</a> <a id="21300" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="21302" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="21305" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="21308" href="Function.Base.html#624" class="Function">id</a> <a id="21311" href="Function.Base.html#624" class="Function">id</a> <a id="21314" href="Function.Base.html#624" class="Function">id</a>

  <a id="21320" href="Coherence.Hypotheses.html#21320" class="Function">a∈Γ</a> <a id="21324" class="Symbol">:</a> <a id="21326" href="Coherence.Hypotheses.html#20736" class="Field">a</a> <a id="21328" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="21330" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="21338" class="Symbol">(</a><a id="21339" href="Coherence.Hypotheses.html#2103" class="Function">Rˢ</a> <a id="21342" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="21346" class="Symbol">)</a>
  <a id="21350" href="Coherence.Hypotheses.html#21320" class="Function">a∈Γ</a> <a id="21354" class="Symbol">=</a> <a id="21356" href="BitML.Semantics.Configurations.Helpers.html#14586" class="Function">∈namesˡ-resp-≈</a> <a id="21371" href="Coherence.Hypotheses.html#20736" class="Field">a</a> <a id="21373" class="Symbol">{</a><a id="21374" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a><a id="21375" class="Symbol">}{</a><a id="21377" href="Coherence.Hypotheses.html#2103" class="Function">Rˢ</a> <a id="21380" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="21384" class="Symbol">}</a> <a id="21386" class="Symbol">(</a><a id="21387" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="21393" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="21395" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="21398" class="Symbol">.</a><a id="21399" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="21404" class="Symbol">)</a> <a id="21406" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a>
  <a id="21410" class="Keyword">open</a> <a id="21415" href="SymbolicModel.Mappings.html#1344" class="Module">ℾ</a> <a id="21417" class="Symbol">(</a><a id="21418" href="SymbolicModel.Mappings.html#3624" class="Function">ℝ∗⇒ℾ</a> <a id="21423" href="Coherence.Hypotheses.html#2116" class="Function">𝕣∗</a><a id="21425" class="Symbol">)</a> <a id="21427" class="Keyword">using</a> <a id="21433" class="Symbol">(</a><a id="21434" href="SymbolicModel.Mappings.html#1418" class="Field">sechashΓ</a><a id="21442" class="Symbol">)</a>

  <a id="21447" href="Coherence.Hypotheses.html#21447" class="Function">sechash⦅a⦆</a> <a id="21458" class="Symbol">:</a> <a id="21460" href="Bitcoin.BasicTypes.html#351" class="Function">HashId</a>
  <a id="21469" href="Coherence.Hypotheses.html#21447" class="Function">sechash⦅a⦆</a> <a id="21480" class="Symbol">=</a> <a id="21482" href="SymbolicModel.Mappings.html#1418" class="Function">sechashΓ</a> <a id="21491" class="Symbol">{</a><a id="21492" href="Coherence.Hypotheses.html#20736" class="Field">a</a><a id="21493" class="Symbol">}</a> <a id="21495" href="Coherence.Hypotheses.html#21320" class="Function">a∈Γ</a>

  <a id="21502" class="Comment">-- txoutᶜ : Txout ad × Txout C</a>
  <a id="21535" class="Comment">-- txoutᶜ = auth-commit∈⇒Txout ∃α 𝕣</a>

<a id="21572" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[7]~_⨾_"></a><a id="21577" href="Coherence.Hypotheses.html#21577" class="Datatype Operator">_⨾_⨾_~ℍ[7]~_⨾_</a> <a id="21592" class="Symbol">:</a> <a id="21594" href="Coherence.Hypotheses.html#1602" class="Function">StepRel</a> <a id="21602" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[7]~_⨾_.mkℍ"></a><a id="21610" href="Coherence.Hypotheses.html#21610" class="InductiveConstructor">mkℍ</a> <a id="21614" class="Symbol">:</a> <a id="21616" class="Symbol">∀</a> <a id="21618" class="Symbol">{</a><a id="21619" href="Coherence.Hypotheses.html#21619" class="Bound">h</a> <a id="21621" class="Symbol">:</a> <a id="21623" href="Coherence.Hypotheses.html#20680" class="Record">H₇-args</a><a id="21630" class="Symbol">}</a> <a id="21632" class="Symbol">{</a><a id="21633" href="Coherence.Hypotheses.html#21633" class="Bound">B</a><a id="21634" class="Symbol">}</a> <a id="21636" class="Symbol">{</a><a id="21637" href="Coherence.Hypotheses.html#21637" class="Bound">mˢ</a> <a id="21640" class="Symbol">:</a> <a id="21642" href="Agda.Builtin.String.html#318" class="Postulate">String</a><a id="21648" class="Symbol">}</a> <a id="21650" class="Symbol">(</a><a id="21651" class="Keyword">let</a> <a id="21655" href="Coherence.Hypotheses.html#21655" class="Bound">m</a> <a id="21657" class="Symbol">=</a> <a id="21659" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="21666" href="Coherence.Hypotheses.html#21637" class="Bound">mˢ</a><a id="21668" class="Symbol">)</a>
    <a id="21674" class="Symbol">→</a> <a id="21676" class="Keyword">let</a>
        <a id="21688" class="Keyword">open</a> <a id="21693" href="Coherence.Hypotheses.html#20680" class="Module">H₇-args</a> <a id="21701" href="Coherence.Hypotheses.html#21619" class="Bound">h</a> <a id="21703" class="Keyword">renaming</a> <a id="21712" class="Symbol">(</a><a id="21713" href="Coherence.Hypotheses.html#20731" class="Field">ad</a> <a id="21716" class="Symbol">to</a> <a id="21719" class="Field">⟨G⟩C</a><a id="21723" class="Symbol">)</a>

        <a id="21734" class="Comment">-- (iii) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="21794" class="Keyword">open</a> <a id="21799" href="Coherence.Hypotheses.html#21231" class="Module">H₇</a> <a id="21802" href="Coherence.Hypotheses.html#21619" class="Bound">h</a> <a id="21804" class="Keyword">using</a> <a id="21810" class="Symbol">(</a><a id="21811" href="Coherence.Hypotheses.html#21273" class="Function">λˢ</a><a id="21813" class="Symbol">;</a> <a id="21815" href="Coherence.Hypotheses.html#21447" class="Function">sechash⦅a⦆</a><a id="21825" class="Symbol">)</a>
        <a id="21835" class="Comment">-- (i) some participant B broadcasts message m</a>
        <a id="21890" href="Coherence.Hypotheses.html#21890" class="Bound">λᶜ</a> <a id="21893" class="Symbol">=</a> <a id="21895" href="Coherence.Hypotheses.html#21633" class="Bound">B</a> <a id="21897" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="21901" href="Coherence.Hypotheses.html#21655" class="Bound">m</a>
      <a id="21909" class="Keyword">in</a>
      <a id="21918" class="Comment">-- ... with a corresponding broadcast of m′=(C,h̅,k̅) in Rᶜ</a>
      <a id="21984" class="Comment">-- T0D0: should we search for a signature of this message instead?</a>
    <a id="22055" class="Symbol">∀</a> <a id="22057" class="Symbol">(</a><a id="22058" href="Coherence.Hypotheses.html#22058" class="Bound">∃λ</a> <a id="22061" class="Symbol">:</a> <a id="22063" href="Data.Product.html#1378" class="Function">∃</a> <a id="22065" class="Symbol">λ</a> <a id="22067" href="Coherence.Hypotheses.html#22067" class="Bound">B</a> <a id="22069" class="Symbol">→</a> <a id="22071" href="Data.Product.html#1378" class="Function">∃</a> <a id="22073" class="Symbol">λ</a> <a id="22075" class="Symbol">(</a><a id="22076" href="Coherence.Hypotheses.html#22076" class="Bound">txoutᶜ</a> <a id="22083" class="Symbol">:</a> <a id="22085" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="22091" href="Coherence.Hypotheses.html#21719" class="Function">⟨G⟩C</a> <a id="22096" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="22098" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="22104" href="BitML.Contracts.ModuleMacros.html#783" class="Function">C</a><a id="22105" class="Symbol">)</a> <a id="22107" class="Symbol">→</a>
          <a id="22119" class="Keyword">let</a> <a id="22123" href="Coherence.Hypotheses.html#22123" class="Bound">C,h̅,k̅</a> <a id="22131" class="Symbol">=</a> <a id="22133" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="22140" class="Symbol">(</a><a id="22141" href="Coherence.ComputationalContracts.html#12140" class="Function">encodeAd</a> <a id="22150" href="Coherence.Hypotheses.html#21719" class="Function">⟨G⟩C</a> <a id="22155" href="Coherence.Hypotheses.html#22076" class="Bound">txoutᶜ</a> <a id="22162" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="22164" href="Coherence.Hypotheses.html#20853" class="Function">h̅</a> <a id="22167" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="22169" href="Coherence.Hypotheses.html#20877" class="Function">k̅</a><a id="22171" class="Symbol">)</a>
          <a id="22183" class="Keyword">in</a>  <a id="22187" href="Coherence.Hypotheses.html#22067" class="Bound">B</a> <a id="22189" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="22193" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="22197" class="Symbol">(</a><a id="22198" href="ComputationalModel.KeyPairs.html#177" class="Function">K</a> <a id="22200" href="Coherence.Hypotheses.html#22067" class="Bound">B</a><a id="22201" class="Symbol">)</a> <a id="22203" href="Coherence.Hypotheses.html#22123" class="Bound">C,h̅,k̅</a> <a id="22211" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="22213" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="22220" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a><a id="22222" class="Symbol">)</a> <a id="22224" class="Symbol">→</a>

    <a id="22231" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="22233" href="Coherence.Hypotheses.html#20736" class="Function">a</a> <a id="22235" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="22237" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="22245" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a>
    <a id="22251" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="22253" href="ComputationalModel.Serialization.html#245" class="Function Operator">∣</a> <a id="22255" href="Coherence.Hypotheses.html#21655" class="Bound">m</a> <a id="22257" href="ComputationalModel.Serialization.html#245" class="Function Operator">∣ᵐ</a> <a id="22260" href="Prelude.Ord.Core.html#289" class="Function Operator">≥</a> <a id="22262" href="SecureCompilation.ModuleParameters.html#357" class="Field">η</a>

      <a id="22271" class="Comment">-- (ii) in Rᶜ we find ⋯ (B → O ∶ m) (O → B : sechash′(a)) for some B ⋯</a>
    <a id="22346" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="22348" class="Symbol">(</a><a id="22349" href="Data.Product.html#1378" class="Function">∃</a> <a id="22351" class="Symbol">λ</a> <a id="22353" href="Coherence.Hypotheses.html#22353" class="Bound">B</a> <a id="22355" class="Symbol">→</a> <a id="22357" class="Symbol">(</a><a id="22358" href="Coherence.Hypotheses.html#22353" class="Bound">B</a> <a id="22360" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="22362" href="Coherence.Hypotheses.html#21655" class="Bound">m</a> <a id="22364" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="22366" href="Coherence.Hypotheses.html#21447" class="Function">sechash⦅a⦆</a><a id="22376" class="Symbol">)</a> <a id="22378" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="22380" href="ComputationalModel.Run.html#5971" class="Function">oracleInteractionsᶜ</a> <a id="22400" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a><a id="22402" class="Symbol">)</a>

      <a id="22411" class="Comment">-- (v) λᶜ is the first broadcast of m after the first broadcast of m′</a>
    <a id="22485" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="22487" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="22491" class="Symbol">(λ</a> <a id="22494" href="Coherence.Hypotheses.html#22494" class="Bound">l</a> <a id="22496" class="Symbol">→</a> <a id="22498" class="Symbol">∀</a> <a id="22500" href="Coherence.Hypotheses.html#22500" class="Bound">X</a> <a id="22502" class="Symbol">→</a> <a id="22504" href="Coherence.Hypotheses.html#22494" class="Bound">l</a> <a id="22506" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="22508" href="Coherence.Hypotheses.html#22500" class="Bound">X</a> <a id="22510" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="22514" href="Coherence.Hypotheses.html#21655" class="Bound">m</a><a id="22515" class="Symbol">)</a> <a id="22517" class="Symbol">(</a><a id="22518" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="22528" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="22530" href="Coherence.Hypotheses.html#22058" class="Bound">∃λ</a> <a id="22533" class="Symbol">.</a><a id="22534" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="22540" class="Symbol">.</a><a id="22541" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="22546" class="Symbol">)</a>

      <a id="22555" href="Prelude.InferenceRules.html#12752" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="22615" href="Coherence.Hypotheses.html#2177" class="Function">Γₜ″</a> <a id="22619" href="Coherence.Hypotheses.html#21577" class="Datatype Operator">⨾</a> <a id="22621" href="Coherence.Hypotheses.html#2116" class="Function">𝕣∗</a> <a id="22624" href="Coherence.Hypotheses.html#21577" class="Datatype Operator">⨾</a> <a id="22626" class="Symbol">(</a><a id="22627" href="Coherence.Hypotheses.html#2263" class="Function">𝕒</a> <a id="22629" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="22631" href="Coherence.Hypotheses.html#21273" class="Function">λˢ</a><a id="22633" class="Symbol">)</a> <a id="22635" href="Coherence.Hypotheses.html#21577" class="Datatype Operator">~ℍ[7]~</a> <a id="22642" href="Coherence.Hypotheses.html#21890" class="Bound">λᶜ</a> <a id="22645" href="Coherence.Hypotheses.html#21577" class="Datatype Operator">⨾</a> <a id="22647" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a>

<a id="22651" class="Comment">-- ** Contract actions: split</a>
<a id="22681" class="Keyword">record</a> <a id="H₈-args"></a><a id="22688" href="Coherence.Hypotheses.html#22688" class="Record">H₈-args</a> <a id="22696" class="Symbol">:</a> <a id="22698" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="22703" class="Keyword">where</a>
  <a id="22711" class="Keyword">constructor</a> <a id="mk"></a><a id="22723" href="Coherence.Hypotheses.html#22723" class="InductiveConstructor">mk</a>
  <a id="22728" class="Keyword">field</a>
    <a id="22738" class="Symbol">{</a><a id="H₈-args.c"></a><a id="22739" href="Coherence.Hypotheses.html#22739" class="Field">c</a> <a id="H₈-args.y"></a><a id="22741" href="Coherence.Hypotheses.html#22741" class="Field">y</a> <a id="H₈-args.Γ₀"></a><a id="22743" href="Coherence.Hypotheses.html#22743" class="Field">Γ₀</a> <a id="H₈-args.t"></a><a id="22746" href="Coherence.Hypotheses.html#22746" class="Field">t</a><a id="22747" class="Symbol">}</a> <a id="22749" class="Symbol">:</a> <a id="22751" class="Symbol">_</a>
    <a id="22757" class="Symbol">{</a><a id="H₈-args.i"></a><a id="22758" href="Coherence.Hypotheses.html#22758" class="Field">i</a><a id="22759" class="Symbol">}</a> <a id="22761" class="Symbol">:</a> <a id="22763" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="22769" href="Coherence.Hypotheses.html#22739" class="Field">c</a>
    <a id="22775" class="Symbol">{</a><a id="H₈-args.vcis"></a><a id="22776" href="Coherence.Hypotheses.html#22776" class="Field">vcis</a><a id="22780" class="Symbol">}</a> <a id="22782" class="Symbol">:</a> <a id="22784" href="BitML.Contracts.Types.html#594" class="Function">VIContracts</a>
  <a id="22798" class="Keyword">open</a> <a id="22803" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="22811" href="Coherence.Hypotheses.html#22739" class="Field">c</a> <a id="22813" href="Coherence.Hypotheses.html#22758" class="Field">i</a> <a id="22815" class="Keyword">public</a>
  <a id="H₈-args.vs"></a><a id="22824" href="Coherence.Hypotheses.html#22824" class="Function">vs</a>  <a id="22828" class="Symbol">=</a> <a id="22830" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="22837" href="Coherence.Hypotheses.html#22776" class="Field">vcis</a> <a id="22842" class="Symbol">.</a><a id="22843" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₈-args.v"></a><a id="22851" href="Coherence.Hypotheses.html#22851" class="Function">v</a>   <a id="22855" class="Symbol">=</a> <a id="22857" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="22861" href="Coherence.Hypotheses.html#22824" class="Function">vs</a>
  <a id="H₈-args.cs"></a><a id="22866" href="Coherence.Hypotheses.html#22866" class="Function">cs</a>  <a id="22870" class="Symbol">=</a> <a id="22872" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="22879" href="Coherence.Hypotheses.html#22776" class="Field">vcis</a> <a id="22884" class="Symbol">.</a><a id="22885" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="22891" class="Symbol">.</a><a id="22892" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₈-args.vcs"></a><a id="22900" href="Coherence.Hypotheses.html#22900" class="Function">vcs</a> <a id="22904" class="Symbol">=</a> <a id="22906" href="Data.List.Base.html#3579" class="Function">zip</a> <a id="22910" href="Coherence.Hypotheses.html#22824" class="Function">vs</a> <a id="22913" href="Coherence.Hypotheses.html#22866" class="Function">cs</a>
  <a id="H₈-args.xs"></a><a id="22918" href="Coherence.Hypotheses.html#22918" class="Function">xs</a>  <a id="22922" class="Symbol">=</a> <a id="22924" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="22931" href="Coherence.Hypotheses.html#22776" class="Field">vcis</a> <a id="22936" class="Symbol">.</a><a id="22937" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="22943" class="Symbol">.</a><a id="22944" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
  <a id="H₈-args.As"></a><a id="22952" href="Coherence.Hypotheses.html#22952" class="Function">As</a> <a id="22955" class="Symbol">=</a> <a id="22957" href="BitML.Contracts.Collections.html#13915" class="Function">decorations</a> <a id="22969" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="22971" class="Symbol">.</a><a id="22972" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₈-args.ts"></a><a id="22980" href="Coherence.Hypotheses.html#22980" class="Function">ts</a> <a id="22983" class="Symbol">=</a> <a id="22985" href="BitML.Contracts.Collections.html#13915" class="Function">decorations</a> <a id="22997" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="22999" class="Symbol">.</a><a id="23000" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
  <a id="23008" class="Keyword">field</a>
    <a id="23018" class="Comment">-- (i) in Rˢ, α consumes ⟨D+C,v⟩y to obtain ⟨C₀,v₀⟩ₓ₀ | ⋯ | ⟨Cₖ,vₖ⟩ₓₖ</a>
    <a id="23092" class="Comment">--     where D = ⋯ : split vs → cs</a>
    <a id="23131" class="Comment">--     let t be the maximum deadline in an `after` in front of D</a>
    <a id="23200" class="Comment">--     T0D0: what should t′ be in case there are not after decorations?</a>
    <a id="23276" class="Comment">--           (currently any value)</a>
    <a id="H₈-args.t≡"></a><a id="23315" href="Coherence.Hypotheses.html#23315" class="Field">t≡</a> <a id="23318" class="Symbol">:</a> <a id="23320" href="Coherence.Hypotheses.html#22746" class="Field">t</a> <a id="23322" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="23324" href="Prelude.Ord.MinMax.html#436" class="Function">maximum</a> <a id="23332" href="Coherence.Hypotheses.html#22746" class="Field">t</a> <a id="23334" href="Coherence.Hypotheses.html#22980" class="Function">ts</a>
    <a id="H₈-args.d≡"></a><a id="23341" href="Coherence.Hypotheses.html#23341" class="Field">d≡</a> <a id="23344" class="Symbol">:</a> <a id="23346" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="23348" href="BitML.Contracts.Collections.html#15163" class="Function Operator">≡⋯∶</a> <a id="23352" href="BitML.Contracts.Types.html#941" class="InductiveConstructor">split</a> <a id="23358" href="Coherence.Hypotheses.html#22900" class="Function">vcs</a>
    <a id="23366" class="Comment">-- Hypotheses from [C-Split]</a>
    <a id="H₈-args.fresh-xs"></a><a id="23399" href="Coherence.Hypotheses.html#23399" class="Field">fresh-xs</a> <a id="23408" class="Symbol">:</a> <a id="23410" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="23414" class="Symbol">(</a><a id="23415" href="Data.List.Membership.Setoid.html#945" class="Function Operator">_∉</a> <a id="23418" href="Coherence.Hypotheses.html#22741" class="Field">y</a> <a id="23420" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="23424" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="23428" href="Coherence.Hypotheses.html#22743" class="Field">Γ₀</a><a id="23430" class="Symbol">)</a> <a id="23432" href="Coherence.Hypotheses.html#22918" class="Function">xs</a>
    <a id="23439" class="Comment">-- Hypotheses from [Timeout]</a>
    <a id="H₈-args.As≡∅"></a><a id="23472" href="Coherence.Hypotheses.html#23472" class="Field">As≡∅</a> <a id="23477" class="Symbol">:</a> <a id="23479" href="Prelude.Null.html#263" class="Field">Null</a> <a id="23484" href="Coherence.Hypotheses.html#22952" class="Function">As</a>
  <a id="H₈-args.Γ₁"></a><a id="23489" href="Coherence.Hypotheses.html#23489" class="Function">Γ₁</a> <a id="23492" class="Symbol">=</a> <a id="23494" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="23497" href="Data.List.Base.html#1553" class="Function">map</a> <a id="23501" class="Symbol">(</a><a id="23502" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="23511" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="23513" href="Function.Base.html#1563" class="Function">flip</a> <a id="23518" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨_,_⟩at_</a><a id="23526" class="Symbol">)</a> <a id="23528" href="Coherence.Hypotheses.html#22776" class="Field">vcis</a>
  <a id="23535" class="Keyword">private</a>
    <a id="H₈-args.α"></a><a id="23547" href="Coherence.Hypotheses.html#23547" class="Function">α</a>  <a id="23550" class="Symbol">=</a> <a id="23552" href="BitML.Semantics.Label.html#1232" class="InductiveConstructor Operator">split⦅</a> <a id="23559" href="Coherence.Hypotheses.html#22741" class="Field">y</a> <a id="23561" href="BitML.Semantics.Label.html#1232" class="InductiveConstructor Operator">⦆</a>
    <a id="H₈-args.Γ′"></a><a id="23567" href="Coherence.Hypotheses.html#23567" class="Function">Γ′</a> <a id="23570" class="Symbol">=</a> <a id="23572" href="Coherence.Hypotheses.html#23489" class="Function">Γ₁</a> <a id="23575" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="23577" href="Coherence.Hypotheses.html#22743" class="Field">Γ₀</a>

    <a id="H₈-args.∀≤t"></a><a id="23585" href="Coherence.Hypotheses.html#23585" class="Function">∀≤t</a> <a id="23589" class="Symbol">:</a> <a id="23591" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="23595" class="Symbol">(</a><a id="23596" href="Prelude.Ord.Core.html#209" class="Field Operator">_≤</a> <a id="23599" href="Coherence.Hypotheses.html#22746" class="Field">t</a><a id="23600" class="Symbol">)</a> <a id="23602" href="Coherence.Hypotheses.html#22980" class="Function">ts</a>
    <a id="23609" href="Coherence.Hypotheses.html#23585" class="Function">∀≤t</a> <a id="23613" class="Symbol">=</a> <a id="23615" href="Prelude.SubstDSL.html#488" class="Function">⟪</a> <a id="23617" class="Symbol">(λ</a> <a id="23620" href="Coherence.Hypotheses.html#23620" class="Bound">◆</a> <a id="23622" class="Symbol">→</a> <a id="23624" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="23628" class="Symbol">(</a><a id="23629" href="Prelude.Ord.Core.html#209" class="Field Operator">_≤</a> <a id="23632" href="Coherence.Hypotheses.html#23620" class="Bound">◆</a><a id="23633" class="Symbol">)</a> <a id="23635" href="Coherence.Hypotheses.html#22980" class="Function">ts</a><a id="23637" class="Symbol">)</a> <a id="23639" href="Prelude.SubstDSL.html#488" class="Function">⟫</a> <a id="23641" href="Coherence.Hypotheses.html#23315" class="Field">t≡</a> <a id="23644" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="23647" href="Prelude.Ord.MinMax.html#1034" class="Postulate">∀≤max</a> <a id="23653" href="Coherence.Hypotheses.html#22746" class="Field">t</a> <a id="23655" href="Coherence.Hypotheses.html#22980" class="Function">ts</a>

    <a id="H₈-args.split→"></a><a id="23663" href="Coherence.Hypotheses.html#23663" class="Function">split→</a> <a id="23670" class="Symbol">:</a> <a id="23672" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="23674" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="23676" href="BitML.Contracts.ModuleMacros.html#607" class="Function">d∗</a> <a id="23679" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="23681" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="23683" href="Coherence.Hypotheses.html#22851" class="Function">v</a> <a id="23685" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="23689" href="Coherence.Hypotheses.html#22741" class="Field">y</a> <a id="23691" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="23693" href="Coherence.Hypotheses.html#22743" class="Field">Γ₀</a> <a id="23696" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="23699" href="Coherence.Hypotheses.html#23547" class="Function">α</a> <a id="23701" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a> <a id="23704" href="Coherence.Hypotheses.html#23567" class="Function">Γ′</a>
    <a id="23711" href="Coherence.Hypotheses.html#23663" class="Function">split→</a> <a id="23718" class="Symbol">=</a> <a id="23720" href="Prelude.SubstDSL.html#488" class="Function">⟪</a> <a id="23722" class="Symbol">(λ</a> <a id="23725" href="Coherence.Hypotheses.html#23725" class="Bound">◆</a> <a id="23727" class="Symbol">→</a> <a id="23729" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="23731" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="23733" href="Coherence.Hypotheses.html#23725" class="Bound">◆</a> <a id="23735" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="23737" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="23739" href="Coherence.Hypotheses.html#22851" class="Function">v</a> <a id="23741" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="23745" href="Coherence.Hypotheses.html#22741" class="Field">y</a> <a id="23747" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="23749" href="Coherence.Hypotheses.html#22743" class="Field">Γ₀</a> <a id="23752" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="23755" href="Coherence.Hypotheses.html#23547" class="Function">α</a> <a id="23757" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a> <a id="23760" href="Coherence.Hypotheses.html#23567" class="Function">Γ′</a><a id="23762" class="Symbol">)</a> <a id="23764" href="Prelude.SubstDSL.html#488" class="Function">⟫</a> <a id="23766" href="Coherence.Hypotheses.html#23341" class="Field">d≡</a>
          <a id="23779" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="23782" href="BitML.Semantics.InferenceRules.html#5386" class="InductiveConstructor">[C-Split]</a> <a id="23792" class="Symbol">{</a><a id="23793" class="Argument">vcis</a> <a id="23798" class="Symbol">=</a> <a id="23800" href="Coherence.Hypotheses.html#22776" class="Field">vcis</a><a id="23804" class="Symbol">}</a> <a id="23806" href="Coherence.Hypotheses.html#23399" class="Field">fresh-xs</a>
  <a id="23817" class="Keyword">open</a> <a id="23822" href="Coherence.Hypotheses.html#1742" class="Module">Transition</a>
    <a id="23837" class="Symbol">(</a> <a id="23839" class="Symbol">(</a><a id="23840" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="23842" href="Coherence.Hypotheses.html#22739" class="Field">c</a> <a id="23844" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="23846" href="Coherence.Hypotheses.html#22851" class="Function">v</a> <a id="23848" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="23852" href="Coherence.Hypotheses.html#22741" class="Field">y</a> <a id="23854" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="23856" href="Coherence.Hypotheses.html#22743" class="Field">Γ₀</a><a id="23858" class="Symbol">)</a> <a id="23860" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="23862" href="Coherence.Hypotheses.html#22746" class="Field">t</a> <a id="23864" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">——</a> <a id="23867" href="Coherence.Hypotheses.html#23547" class="Function">α</a> <a id="23869" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">—→</a> <a id="23872" href="Coherence.Hypotheses.html#23567" class="Function">Γ′</a> <a id="23875" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="23877" href="Coherence.Hypotheses.html#22746" class="Field">t</a>
    <a id="23883" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⊣</a> <a id="23885" href="BitML.Semantics.InferenceRules.html#7812" class="InductiveConstructor">[Timeout]</a> <a id="23895" href="Coherence.Hypotheses.html#23472" class="Field">As≡∅</a> <a id="23900" href="Coherence.Hypotheses.html#23585" class="Function">∀≤t</a> <a id="23904" href="Coherence.Hypotheses.html#23663" class="Function">split→</a> <a id="23911" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="23920" class="Symbol">)</a> <a id="23922" class="Keyword">public</a> <a id="23929" class="Keyword">hiding</a> <a id="23936" class="Symbol">(</a><a id="23937" href="Coherence.Hypotheses.html#1819" class="Field">t</a><a id="23938" class="Symbol">)</a>
  <a id="23942" class="Keyword">field</a> <a id="H₈-args.𝕙r"></a><a id="23948" href="Coherence.Hypotheses.html#23948" class="Field">𝕙r</a> <a id="23951" class="Symbol">:</a> <a id="23953" href="Coherence.Hypotheses.html#1958" class="Record">ℍ-Run</a> <a id="23959" href="Coherence.Hypotheses.html#1929" class="Function">Γ→</a>
  <a id="23964" class="Keyword">open</a> <a id="23969" href="Coherence.Hypotheses.html#1958" class="Module">ℍ-Run</a> <a id="23975" href="Coherence.Hypotheses.html#23948" class="Field">𝕙r</a> <a id="23978" class="Keyword">public</a>

<a id="23986" class="Keyword">module</a> <a id="23993" href="Coherence.Hypotheses.html#23993" class="Module">H₈</a> <a id="23996" class="Symbol">(</a><a id="23997" href="Coherence.Hypotheses.html#23997" class="Bound">⋯</a> <a id="23999" class="Symbol">:</a> <a id="24001" href="Coherence.Hypotheses.html#22688" class="Record">H₈-args</a><a id="24008" class="Symbol">)</a> <a id="24010" class="Symbol">(</a><a id="24011" class="Keyword">open</a> <a id="24016" href="Coherence.Hypotheses.html#22688" class="Module">H₈-args</a> <a id="24024" href="Coherence.Hypotheses.html#23997" class="Bound">⋯</a><a id="24025" class="Symbol">)</a> <a id="24027" class="Keyword">where</a>
  <a id="24035" class="Comment">-- (iii) submit transaction T</a>
  <a id="24067" class="Comment">--       where ∙ (T′,o) = txout′(y)</a>
  <a id="24105" class="Comment">--             ∙ T is the first transaction in Bpar(cs,d,T′,o,partG,t)</a>
  <a id="24178" class="Comment">--       i.e. the one corresponding to subterm `d∗ = split (zip vs cs)`</a>
  <a id="24252" href="Coherence.Hypotheses.html#24252" class="Function">T</a> <a id="24254" class="Symbol">:</a> <a id="24256" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="24259" class="Number">1</a> <a id="24261" class="Symbol">(</a><a id="24262" href="Data.List.Base.html#4873" class="Function">length</a> <a id="24269" href="Coherence.Hypotheses.html#22918" class="Function">xs</a><a id="24271" class="Symbol">)</a>
  <a id="24275" href="Coherence.Hypotheses.html#24252" class="Function">T</a> <a id="24277" class="Symbol">=</a>
    <a id="24283" class="Keyword">let</a>
        <a id="24295" class="Keyword">open</a> <a id="24300" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>
        <a id="24320" href="Coherence.Hypotheses.html#24320" class="Bound">vs≡</a> <a id="24324" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="24326" href="Coherence.Hypotheses.html#24326" class="Bound">cs≡</a> <a id="24330" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="24332" href="Coherence.Hypotheses.html#24332" class="Bound">xs≡</a> <a id="24336" class="Symbol">=</a> <a id="24338" href="Prelude.Lists.Core.html#1445" class="Function">length-unzip₃</a> <a id="24352" href="Coherence.Hypotheses.html#22776" class="Field">vcis</a>

        <a id="24366" href="Coherence.Hypotheses.html#24366" class="Bound">l≡</a> <a id="24369" class="Symbol">:</a> <a id="24371" href="Data.List.Base.html#4873" class="Function">length</a> <a id="24378" href="Coherence.Hypotheses.html#22918" class="Function">xs</a> <a id="24381" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="24383" href="Data.List.Base.html#4873" class="Function">length</a> <a id="24390" class="Symbol">(</a><a id="24391" href="Data.List.Base.html#3579" class="Function">zip</a> <a id="24395" href="Coherence.Hypotheses.html#22824" class="Function">vs</a> <a id="24398" href="Coherence.Hypotheses.html#22866" class="Function">cs</a><a id="24400" class="Symbol">)</a>
        <a id="24410" href="Coherence.Hypotheses.html#24366" class="Bound">l≡</a> <a id="24413" class="Symbol">=</a> <a id="24415" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="24419" href="Function.Base.html#1928" class="Function Operator">$</a>
          <a id="24431" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a> <a id="24437" href="Data.List.Base.html#4873" class="Function">length</a> <a id="24444" class="Symbol">(</a><a id="24445" href="Data.List.Base.html#3579" class="Function">zip</a> <a id="24449" href="Coherence.Hypotheses.html#22824" class="Function">vs</a> <a id="24452" href="Coherence.Hypotheses.html#22866" class="Function">cs</a><a id="24454" class="Symbol">)</a>    <a id="24459" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="24462" href="Data.List.Properties.html#10399" class="Function">L.length-zipWith</a> <a id="24479" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">_,_</a> <a id="24483" href="Coherence.Hypotheses.html#22824" class="Function">vs</a> <a id="24486" href="Coherence.Hypotheses.html#22866" class="Function">cs</a> <a id="24489" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="24507" href="Data.List.Base.html#4873" class="Function">length</a> <a id="24514" href="Coherence.Hypotheses.html#22824" class="Function">vs</a> <a id="24517" href="Data.Nat.Base.html#3166" class="Function Operator">⊓</a> <a id="24519" href="Data.List.Base.html#4873" class="Function">length</a> <a id="24526" href="Coherence.Hypotheses.html#22866" class="Function">cs</a> <a id="24529" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="24532" href="Data.Nat.Properties.html#29390" class="Function">Nat.m≥n⇒m⊓n≡n</a>
                                        <a id="24586" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="24588" href="Data.Nat.Properties.html#4468" class="Function">Nat.≤-reflexive</a> <a id="24604" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="24606" href="Relation.Binary.PropositionalEquality.Core.html#1738" class="Function">trans</a> <a id="24612" href="Coherence.Hypotheses.html#24326" class="Bound">cs≡</a> <a id="24616" class="Symbol">(</a><a id="24617" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="24621" href="Coherence.Hypotheses.html#24320" class="Bound">vs≡</a><a id="24624" class="Symbol">)</a> <a id="24626" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="24644" href="Data.List.Base.html#4873" class="Function">length</a> <a id="24651" href="Coherence.Hypotheses.html#22866" class="Function">cs</a>             <a id="24666" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="24669" href="Coherence.Hypotheses.html#24326" class="Bound">cs≡</a> <a id="24673" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="24691" href="Data.List.Base.html#4873" class="Function">length</a> <a id="24698" href="Coherence.Hypotheses.html#22776" class="Field">vcis</a>           <a id="24713" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="24716" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="24720" href="Coherence.Hypotheses.html#24332" class="Bound">xs≡</a> <a id="24724" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="24742" href="Data.List.Base.html#4873" class="Function">length</a> <a id="24749" href="Coherence.Hypotheses.html#22918" class="Function">xs</a>             <a id="24764" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>
    <a id="24770" class="Keyword">in</a>
      <a id="24779" href="Prelude.SubstDSL.html#488" class="Function">⟪</a> <a id="24781" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="24784" class="Number">1</a> <a id="24786" href="Prelude.SubstDSL.html#488" class="Function">⟫</a> <a id="24788" href="Coherence.Hypotheses.html#24366" class="Bound">l≡</a>
         <a id="24800" class="Comment">-- (ii) {G}C′ is the ancestor of ⟨D+C,v⟩y in Rˢ</a>
      <a id="24854" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="24857" class="Symbol">(</a> <a id="24859" href="Coherence.Helpers.html#4528" class="Function">COMPILE-ANCESTOR</a> <a id="24876" class="Symbol">{</a><a id="24877" class="Argument">Γ</a> <a id="24879" class="Symbol">=</a> <a id="24881" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a><a id="24882" class="Symbol">}</a> <a id="24884" class="Symbol">{</a><a id="24885" class="Argument">i</a> <a id="24887" class="Symbol">=</a> <a id="24889" href="Coherence.Hypotheses.html#22758" class="Field">i</a><a id="24890" class="Symbol">}</a> <a id="24892" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="24895" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="24897" href="Coherence.Hypotheses.html#2229" class="Function">𝕣</a> <a id="24899" class="Symbol">.</a><a id="24900" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
         <a id="24915" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="24918" href="Coherence.Hypotheses.html#23341" class="Field">d≡</a> <a id="24921" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="24923" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="24932" href="Prelude.SubstDSL.html#164" class="Function">⟫</a><a id="24933" class="Symbol">)</a>

  <a id="24938" class="Comment">-- (iv) extend txout′ with {xᵢ ↦ (T,i)}, sechash = sechash′, κ = κ′</a>
  <a id="25008" href="Coherence.Hypotheses.html#25008" class="Function">txout⁺</a> <a id="25015" class="Symbol">:</a> <a id="25017" href="Coherence.Hypotheses.html#22918" class="Function">xs</a> <a id="25020" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="25022" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
  <a id="25033" href="Coherence.Hypotheses.html#25008" class="Function">txout⁺</a> <a id="25040" href="Coherence.Hypotheses.html#25040" class="Bound">x∈</a> <a id="25043" class="Symbol">=</a> <a id="25045" class="Symbol">(</a><a id="25046" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="25049" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="25052" href="Coherence.Hypotheses.html#24252" class="Function">T</a><a id="25053" class="Symbol">)</a> <a id="25055" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="25058" href="Data.List.Relation.Unary.Any.html#1826" class="Function">L.Any.index</a> <a id="25070" href="Coherence.Hypotheses.html#25040" class="Bound">x∈</a>

  <a id="25076" href="Coherence.Hypotheses.html#25076" class="Function">hʳ</a> <a id="25079" class="Symbol">:</a> <a id="25081" class="Symbol">∀</a> <a id="25083" class="Symbol">(</a><a id="25084" href="Coherence.Hypotheses.html#25084" class="Bound">vcis</a> <a id="25089" class="Symbol">:</a> <a id="25091" href="BitML.Contracts.Types.html#594" class="Function">VIContracts</a><a id="25102" class="Symbol">)</a> <a id="25104" class="Symbol">→</a>
      <a id="25112" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="25116" class="Symbol">(</a><a id="25117" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="25120" href="Data.List.Base.html#1553" class="Function">map</a> <a id="25124" class="Symbol">(λ{</a> <a id="25128" class="Symbol">(</a><a id="25129" href="Coherence.Hypotheses.html#25129" class="Bound">vᵢ</a> <a id="25132" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="25134" href="Coherence.Hypotheses.html#25134" class="Bound">cᵢ</a> <a id="25137" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="25139" href="Coherence.Hypotheses.html#25139" class="Bound">xᵢ</a><a id="25141" class="Symbol">)</a> <a id="25143" class="Symbol">→</a> <a id="25145" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="25147" href="Coherence.Hypotheses.html#25134" class="Bound">cᵢ</a> <a id="25150" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="25152" href="Coherence.Hypotheses.html#25129" class="Bound">vᵢ</a> <a id="25155" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="25159" href="Coherence.Hypotheses.html#25139" class="Bound">xᵢ</a> <a id="25162" class="Symbol">})</a> <a id="25165" href="Coherence.Hypotheses.html#25084" class="Bound">vcis</a><a id="25169" class="Symbol">)</a>
    <a id="25175" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="25177" class="Symbol">(</a><a id="25178" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="25184" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="25186" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="25192" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="25194" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="25201" href="Coherence.Hypotheses.html#25084" class="Bound">vcis</a><a id="25205" class="Symbol">)</a>
  <a id="25209" href="Coherence.Hypotheses.html#25076" class="Function">hʳ</a> <a id="25212" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="25215" class="Symbol">=</a> <a id="25217" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="25224" href="Coherence.Hypotheses.html#25076" class="Function">hʳ</a> <a id="25227" class="Symbol">(_</a> <a id="25230" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="25232" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="25234" class="Symbol">)</a> <a id="25236" class="Symbol">=</a> <a id="25238" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="25245" href="Coherence.Hypotheses.html#25076" class="Function">hʳ</a> <a id="25248" class="Symbol">(_</a> <a id="25251" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="25253" href="Coherence.Hypotheses.html#25253" class="Bound">xs</a><a id="25255" class="Symbol">@(_</a> <a id="25259" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="25261" class="Symbol">_))</a> <a id="25265" class="Symbol">=</a> <a id="25267" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="25272" class="Symbol">(_</a> <a id="25275" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷_</a><a id="25277" class="Symbol">)</a> <a id="25279" class="Symbol">(</a><a id="25280" href="Coherence.Hypotheses.html#25076" class="Function">hʳ</a> <a id="25283" href="Coherence.Hypotheses.html#25253" class="Bound">xs</a><a id="25285" class="Symbol">)</a>

  <a id="25290" href="Coherence.Hypotheses.html#25290" class="Function">hˡ</a> <a id="25293" class="Symbol">:</a> <a id="25295" class="Symbol">∀</a> <a id="25297" class="Symbol">(</a><a id="25298" href="Coherence.Hypotheses.html#25298" class="Bound">vcis</a> <a id="25303" class="Symbol">:</a> <a id="25305" href="BitML.Contracts.Types.html#594" class="Function">VIContracts</a><a id="25316" class="Symbol">)</a> <a id="25318" class="Symbol">→</a>
    <a id="25324" href="Prelude.Null.html#263" class="Field">Null</a> <a id="25329" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="25331" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="25339" class="Symbol">(</a><a id="25340" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="25343" href="Data.List.Base.html#1553" class="Function">map</a> <a id="25347" class="Symbol">(λ{</a> <a id="25351" class="Symbol">(</a><a id="25352" href="Coherence.Hypotheses.html#25352" class="Bound">vᵢ</a> <a id="25355" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="25357" href="Coherence.Hypotheses.html#25357" class="Bound">cᵢ</a> <a id="25360" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="25362" href="Coherence.Hypotheses.html#25362" class="Bound">xᵢ</a><a id="25364" class="Symbol">)</a> <a id="25366" class="Symbol">→</a> <a id="25368" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="25370" href="Coherence.Hypotheses.html#25357" class="Bound">cᵢ</a> <a id="25373" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="25375" href="Coherence.Hypotheses.html#25352" class="Bound">vᵢ</a> <a id="25378" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="25382" href="Coherence.Hypotheses.html#25362" class="Bound">xᵢ</a> <a id="25385" class="Symbol">})</a> <a id="25388" href="Coherence.Hypotheses.html#25298" class="Bound">vcis</a><a id="25392" class="Symbol">)</a>
  <a id="25396" href="Coherence.Hypotheses.html#25290" class="Function">hˡ</a> <a id="25399" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="25402" class="Symbol">=</a> <a id="25404" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="25411" href="Coherence.Hypotheses.html#25290" class="Function">hˡ</a> <a id="25414" class="Symbol">(_</a> <a id="25417" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="25419" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="25421" class="Symbol">)</a> <a id="25423" class="Symbol">=</a> <a id="25425" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="25432" href="Coherence.Hypotheses.html#25290" class="Function">hˡ</a> <a id="25435" class="Symbol">(_</a> <a id="25438" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="25440" href="Coherence.Hypotheses.html#25440" class="Bound">xs</a><a id="25442" class="Symbol">@(_</a> <a id="25446" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="25448" class="Symbol">_))</a> <a id="25452" class="Symbol">=</a> <a id="25454" href="Coherence.Hypotheses.html#25290" class="Function">hˡ</a> <a id="25457" href="Coherence.Hypotheses.html#25440" class="Bound">xs</a>

  <a id="25463" href="Coherence.Hypotheses.html#25463" class="Function">hᵃ</a> <a id="25466" class="Symbol">:</a> <a id="25468" class="Symbol">∀</a> <a id="25470" class="Symbol">(</a><a id="25471" href="Coherence.Hypotheses.html#25471" class="Bound">vcis</a> <a id="25476" class="Symbol">:</a> <a id="25478" href="BitML.Contracts.Types.html#594" class="Function">VIContracts</a><a id="25489" class="Symbol">)</a> <a id="25491" class="Symbol">→</a>
    <a id="25497" href="Prelude.Null.html#263" class="Field">Null</a> <a id="25502" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="25504" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="25519" class="Symbol">(</a><a id="25520" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="25523" href="Data.List.Base.html#1553" class="Function">map</a> <a id="25527" class="Symbol">(λ{</a> <a id="25531" class="Symbol">(</a><a id="25532" href="Coherence.Hypotheses.html#25532" class="Bound">vᵢ</a> <a id="25535" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="25537" href="Coherence.Hypotheses.html#25537" class="Bound">cᵢ</a> <a id="25540" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="25542" href="Coherence.Hypotheses.html#25542" class="Bound">xᵢ</a><a id="25544" class="Symbol">)</a> <a id="25546" class="Symbol">→</a> <a id="25548" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="25550" href="Coherence.Hypotheses.html#25537" class="Bound">cᵢ</a> <a id="25553" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="25555" href="Coherence.Hypotheses.html#25532" class="Bound">vᵢ</a> <a id="25558" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="25562" href="Coherence.Hypotheses.html#25542" class="Bound">xᵢ</a> <a id="25565" class="Symbol">})</a> <a id="25568" href="Coherence.Hypotheses.html#25471" class="Bound">vcis</a><a id="25572" class="Symbol">)</a>
  <a id="25576" href="Coherence.Hypotheses.html#25463" class="Function">hᵃ</a> <a id="25579" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="25582" class="Symbol">=</a> <a id="25584" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="25591" href="Coherence.Hypotheses.html#25463" class="Function">hᵃ</a> <a id="25594" class="Symbol">(_</a> <a id="25597" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="25599" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="25601" class="Symbol">)</a> <a id="25603" class="Symbol">=</a> <a id="25605" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
  <a id="25612" href="Coherence.Hypotheses.html#25463" class="Function">hᵃ</a> <a id="25615" class="Symbol">(_</a> <a id="25618" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="25620" href="Coherence.Hypotheses.html#25620" class="Bound">xs</a><a id="25622" class="Symbol">@(_</a> <a id="25626" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="25628" class="Symbol">_))</a> <a id="25632" class="Symbol">=</a> <a id="25634" href="Coherence.Hypotheses.html#25463" class="Function">hᵃ</a> <a id="25637" href="Coherence.Hypotheses.html#25620" class="Bound">xs</a>

  <a id="25643" href="Coherence.Hypotheses.html#25643" class="Function">ids≡</a> <a id="25648" class="Symbol">:</a> <a id="25650" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="25654" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="25656" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="25658" href="Coherence.Hypotheses.html#22741" class="Field">y</a> <a id="25660" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="25662" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="25666" href="Coherence.Hypotheses.html#22743" class="Field">Γ₀</a>
  <a id="25671" href="Coherence.Hypotheses.html#25643" class="Function">ids≡</a> <a id="25676" class="Symbol">=</a> <a id="25678" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="25706" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="25713" class="Symbol">(</a><a id="25714" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="25716" href="Coherence.Hypotheses.html#22739" class="Field">c</a> <a id="25718" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="25720" href="Coherence.Hypotheses.html#22851" class="Function">v</a> <a id="25722" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="25726" href="Coherence.Hypotheses.html#22741" class="Field">y</a><a id="25727" class="Symbol">)</a> <a id="25729" href="Coherence.Hypotheses.html#22743" class="Field">Γ₀</a>

  <a id="25735" href="Coherence.Hypotheses.html#25735" class="Function">ids≡′</a> <a id="25741" class="Symbol">:</a> <a id="25743" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="25747" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="25750" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="25752" href="Coherence.Hypotheses.html#22918" class="Function">xs</a> <a id="25755" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="25758" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="25762" href="Coherence.Hypotheses.html#22743" class="Field">Γ₀</a>
  <a id="25767" href="Coherence.Hypotheses.html#25735" class="Function">ids≡′</a> <a id="25773" class="Symbol">=</a>
    <a id="25779" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
      <a id="25791" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="25795" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
    <a id="25802" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="25805" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="25833" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="25840" href="Coherence.Hypotheses.html#23489" class="Function">Γ₁</a> <a id="25843" href="Coherence.Hypotheses.html#22743" class="Field">Γ₀</a> <a id="25846" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="25854" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="25858" href="Coherence.Hypotheses.html#23489" class="Function">Γ₁</a> <a id="25861" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="25864" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="25868" href="Coherence.Hypotheses.html#22743" class="Field">Γ₀</a>
    <a id="25875" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="25878" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="25883" class="Symbol">(</a><a id="25884" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="25888" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="25892" href="Coherence.Hypotheses.html#22743" class="Field">Γ₀</a><a id="25894" class="Symbol">)</a> <a id="25896" class="Symbol">(</a><a id="25897" href="Coherence.Hypotheses.html#25076" class="Function">hʳ</a> <a id="25900" href="Coherence.Hypotheses.html#22776" class="Field">vcis</a><a id="25904" class="Symbol">)</a> <a id="25906" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="25914" href="Coherence.Hypotheses.html#22918" class="Function">xs</a> <a id="25917" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="25920" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="25924" href="Coherence.Hypotheses.html#22743" class="Field">Γ₀</a>
    <a id="25931" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="25933" class="Keyword">where</a> <a id="25939" class="Keyword">open</a> <a id="25944" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

  <a id="25959" href="Coherence.Hypotheses.html#25959" class="Function">secrets≡</a> <a id="25968" class="Symbol">:</a> <a id="25970" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="25973" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="25976" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="25984" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="25986" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a>
  <a id="25990" href="Coherence.Hypotheses.html#25959" class="Function">secrets≡</a> <a id="25999" class="Symbol">=</a>
    <a id="26005" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
      <a id="26017" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="26025" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
    <a id="26032" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="26035" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="26063" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="26070" href="Coherence.Hypotheses.html#23489" class="Function">Γ₁</a> <a id="26073" href="Coherence.Hypotheses.html#22743" class="Field">Γ₀</a> <a id="26076" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="26084" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="26092" href="Coherence.Hypotheses.html#23489" class="Function">Γ₁</a> <a id="26095" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="26098" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="26106" href="Coherence.Hypotheses.html#22743" class="Field">Γ₀</a>
    <a id="26113" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="26116" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="26121" class="Symbol">(</a><a id="26122" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="26126" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="26134" href="Coherence.Hypotheses.html#22743" class="Field">Γ₀</a><a id="26136" class="Symbol">)</a> <a id="26138" class="Symbol">(</a><a id="26139" href="Coherence.Hypotheses.html#25290" class="Function">hˡ</a> <a id="26142" href="Coherence.Hypotheses.html#22776" class="Field">vcis</a><a id="26146" class="Symbol">)</a> <a id="26148" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="26156" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="26164" href="Coherence.Hypotheses.html#22743" class="Field">Γ₀</a>
    <a id="26171" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
      <a id="26181" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="26189" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a>
    <a id="26195" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="26197" class="Keyword">where</a> <a id="26203" class="Keyword">open</a> <a id="26208" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

  <a id="26223" href="Coherence.Hypotheses.html#26223" class="Function">ads≡</a> <a id="26228" class="Symbol">:</a> <a id="26230" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="26233" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="26236" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="26251" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="26253" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a>
  <a id="26257" href="Coherence.Hypotheses.html#26223" class="Function">ads≡</a> <a id="26262" class="Symbol">=</a>
    <a id="26268" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
      <a id="26280" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="26295" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
    <a id="26302" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="26305" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="26324" href="Coherence.Hypotheses.html#23489" class="Function">Γ₁</a> <a id="26327" href="Coherence.Hypotheses.html#22743" class="Field">Γ₀</a> <a id="26330" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="26338" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="26353" href="Coherence.Hypotheses.html#23489" class="Function">Γ₁</a> <a id="26356" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="26359" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="26374" href="Coherence.Hypotheses.html#22743" class="Field">Γ₀</a>
    <a id="26381" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="26384" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="26389" class="Symbol">(</a><a id="26390" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="26394" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="26409" href="Coherence.Hypotheses.html#22743" class="Field">Γ₀</a><a id="26411" class="Symbol">)</a> <a id="26413" class="Symbol">(</a><a id="26414" href="Coherence.Hypotheses.html#25463" class="Function">hᵃ</a> <a id="26417" href="Coherence.Hypotheses.html#22776" class="Field">vcis</a><a id="26421" class="Symbol">)</a> <a id="26423" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="26431" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="26446" href="Coherence.Hypotheses.html#22743" class="Field">Γ₀</a>
    <a id="26453" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
      <a id="26463" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="26478" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a>
    <a id="26484" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="26486" class="Keyword">where</a> <a id="26492" class="Keyword">open</a> <a id="26497" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

  <a id="26512" href="Coherence.Hypotheses.html#26512" class="Function">txout↝</a> <a id="26519" class="Symbol">:</a> <a id="26521" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="26523" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="26526" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="26532" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="26534" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
  <a id="26539" href="Coherence.Hypotheses.html#26512" class="Function">txout↝</a> <a id="26546" href="Coherence.Hypotheses.html#26546" class="Bound">txout′</a> <a id="26553" class="Keyword">rewrite</a> <a id="26561" href="Coherence.Hypotheses.html#25643" class="Function">ids≡</a>
    <a id="26570" class="Symbol">=</a> <a id="26572" href="Prelude.Lists.Mappings.html#1750" class="Function">extend-↦</a> <a id="26581" class="Symbol">(</a><a id="26582" href="Data.List.Relation.Binary.Permutation.Propositional.html#1377" class="Function">↭-reflexive</a> <a id="26594" href="Coherence.Hypotheses.html#25735" class="Function">ids≡′</a><a id="26599" class="Symbol">)</a> <a id="26601" href="Coherence.Hypotheses.html#25008" class="Function">txout⁺</a> <a id="26608" class="Symbol">(</a><a id="26609" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="26618" href="Coherence.Hypotheses.html#26546" class="Bound">txout′</a> <a id="26625" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a><a id="26630" class="Symbol">)</a>

  <a id="26635" href="Coherence.Hypotheses.html#26635" class="Function">sechash↝</a> <a id="26644" class="Symbol">:</a> <a id="26646" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="26648" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="26651" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="26659" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="26661" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
  <a id="26666" href="Coherence.Hypotheses.html#26635" class="Function">sechash↝</a> <a id="26675" class="Symbol">=</a> <a id="26677" href="SymbolicModel.Mappings.html#3670" class="Function Operator">lift</a> <a id="26682" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="26684" href="SymbolicModel.Mappings.html#3670" class="Function Operator">—⟨</a> <a id="26687" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="26695" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⟩—</a> <a id="26698" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="26701" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⊣</a> <a id="26703" href="Coherence.Hypotheses.html#25959" class="Function">secrets≡</a>

  <a id="26715" href="Coherence.Hypotheses.html#26715" class="Function">κ↝</a> <a id="26718" class="Symbol">:</a> <a id="26720" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="26722" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="26725" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="26728" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="26730" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
  <a id="26735" href="Coherence.Hypotheses.html#26715" class="Function">κ↝</a> <a id="26738" class="Symbol">=</a> <a id="26740" href="SymbolicModel.Mappings.html#3670" class="Function Operator">lift</a> <a id="26745" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="26747" href="SymbolicModel.Mappings.html#3670" class="Function Operator">—⟨</a> <a id="26750" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="26765" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⟩—</a> <a id="26768" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="26771" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⊣</a> <a id="26773" href="Coherence.Hypotheses.html#26223" class="Function">ads≡</a>

  <a id="26781" href="Coherence.Hypotheses.html#26781" class="Function">λˢ</a> <a id="26784" class="Symbol">:</a> <a id="26786" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="26789" href="Coherence.Hypotheses.html#1895" class="Function">Γₜ′</a>
  <a id="26795" href="Coherence.Hypotheses.html#26781" class="Function">λˢ</a> <a id="26798" class="Symbol">=</a> <a id="26800" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="26806" href="Coherence.Hypotheses.html#2229" class="Function">𝕣</a> <a id="26808" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="26810" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="26813" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="26816" href="Coherence.Hypotheses.html#26512" class="Function">txout↝</a> <a id="26823" href="Coherence.Hypotheses.html#26635" class="Function">sechash↝</a> <a id="26832" href="Coherence.Hypotheses.html#26715" class="Function">κ↝</a>

<a id="26836" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[8]~_⨾_"></a><a id="26841" href="Coherence.Hypotheses.html#26841" class="Datatype Operator">_⨾_⨾_~ℍ[8]~_⨾_</a> <a id="26856" class="Symbol">:</a> <a id="26858" href="Coherence.Hypotheses.html#1602" class="Function">StepRel</a> <a id="26866" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[8]~_⨾_.mkℍ"></a><a id="26874" href="Coherence.Hypotheses.html#26874" class="InductiveConstructor">mkℍ</a> <a id="26878" class="Symbol">:</a> <a id="26880" class="Symbol">∀</a> <a id="26882" class="Symbol">{</a><a id="26883" href="Coherence.Hypotheses.html#26883" class="Bound">h</a> <a id="26885" class="Symbol">:</a> <a id="26887" href="Coherence.Hypotheses.html#22688" class="Record">H₈-args</a><a id="26894" class="Symbol">}</a>
    <a id="26900" class="Symbol">→</a> <a id="26902" class="Keyword">let</a>
        <a id="26914" class="Keyword">open</a> <a id="26919" href="Coherence.Hypotheses.html#22688" class="Module">H₈-args</a> <a id="26927" href="Coherence.Hypotheses.html#26883" class="Bound">h</a>
        <a id="26937" class="Keyword">open</a> <a id="26942" href="Coherence.Hypotheses.html#23993" class="Module">H₈</a> <a id="26945" href="Coherence.Hypotheses.html#26883" class="Bound">h</a> <a id="26947" class="Keyword">using</a> <a id="26953" class="Symbol">(</a><a id="26954" href="Coherence.Hypotheses.html#26781" class="Function">λˢ</a><a id="26956" class="Symbol">;</a> <a id="26958" href="Coherence.Hypotheses.html#24252" class="Function">T</a><a id="26959" class="Symbol">)</a>
        <a id="26969" href="Coherence.Hypotheses.html#26969" class="Bound">λᶜ</a> <a id="26972" class="Symbol">=</a> <a id="26974" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="26981" class="Symbol">(</a><a id="26982" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="26985" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="26988" href="Coherence.Hypotheses.html#24252" class="Function">T</a><a id="26989" class="Symbol">)</a>
      <a id="26997" class="Keyword">in</a>
      <a id="27006" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="27066" href="Coherence.Hypotheses.html#2177" class="Function">Γₜ″</a> <a id="27070" href="Coherence.Hypotheses.html#26841" class="Datatype Operator">⨾</a> <a id="27072" href="Coherence.Hypotheses.html#2116" class="Function">𝕣∗</a> <a id="27075" href="Coherence.Hypotheses.html#26841" class="Datatype Operator">⨾</a> <a id="27077" class="Symbol">(</a><a id="27078" href="Coherence.Hypotheses.html#2263" class="Function">𝕒</a> <a id="27080" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="27082" href="Coherence.Hypotheses.html#26781" class="Function">λˢ</a><a id="27084" class="Symbol">)</a> <a id="27086" href="Coherence.Hypotheses.html#26841" class="Datatype Operator">~ℍ[8]~</a> <a id="27093" href="Coherence.Hypotheses.html#26969" class="Bound">λᶜ</a> <a id="27096" href="Coherence.Hypotheses.html#26841" class="Datatype Operator">⨾</a> <a id="27098" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a>

<a id="27102" class="Comment">-- ** Contract actions: withdraw</a>
<a id="27135" class="Keyword">record</a> <a id="H₉-args"></a><a id="27142" href="Coherence.Hypotheses.html#27142" class="Record">H₉-args</a> <a id="27150" class="Symbol">:</a> <a id="27152" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="27157" class="Keyword">where</a>
  <a id="27165" class="Keyword">constructor</a> <a id="mk"></a><a id="27177" href="Coherence.Hypotheses.html#27177" class="InductiveConstructor">mk</a>
  <a id="27182" class="Keyword">field</a>
    <a id="27192" class="Symbol">{</a><a id="H₉-args.c"></a><a id="27193" href="Coherence.Hypotheses.html#27193" class="Field">c</a> <a id="H₉-args.v"></a><a id="27195" href="Coherence.Hypotheses.html#27195" class="Field">v</a> <a id="H₉-args.y"></a><a id="27197" href="Coherence.Hypotheses.html#27197" class="Field">y</a> <a id="H₉-args.Γ₀"></a><a id="27199" href="Coherence.Hypotheses.html#27199" class="Field">Γ₀</a> <a id="H₉-args.A"></a><a id="27202" href="Coherence.Hypotheses.html#27202" class="Field">A</a> <a id="H₉-args.x"></a><a id="27204" href="Coherence.Hypotheses.html#27204" class="Field">x</a> <a id="H₉-args.t"></a><a id="27206" href="Coherence.Hypotheses.html#27206" class="Field">t</a><a id="27207" class="Symbol">}</a> <a id="27209" class="Symbol">:</a> <a id="27211" class="Symbol">_</a>
    <a id="27217" class="Symbol">{</a><a id="H₉-args.i"></a><a id="27218" href="Coherence.Hypotheses.html#27218" class="Field">i</a><a id="27219" class="Symbol">}</a> <a id="27221" class="Symbol">:</a> <a id="27223" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="27229" href="Coherence.Hypotheses.html#27193" class="Field">c</a>
  <a id="27233" class="Keyword">open</a> <a id="27238" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="27246" href="Coherence.Hypotheses.html#27193" class="Field">c</a> <a id="27248" href="Coherence.Hypotheses.html#27218" class="Field">i</a> <a id="27250" class="Keyword">public</a>
  <a id="H₉-args.As"></a><a id="27259" href="Coherence.Hypotheses.html#27259" class="Function">As</a> <a id="27262" class="Symbol">=</a> <a id="27264" href="BitML.Contracts.Collections.html#13915" class="Function">decorations</a> <a id="27276" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="27278" class="Symbol">.</a><a id="27279" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₉-args.ts"></a><a id="27287" href="Coherence.Hypotheses.html#27287" class="Function">ts</a> <a id="27290" class="Symbol">=</a> <a id="27292" href="BitML.Contracts.Collections.html#13915" class="Function">decorations</a> <a id="27304" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="27306" class="Symbol">.</a><a id="27307" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
  <a id="27315" class="Keyword">field</a>
    <a id="27325" class="Comment">-- (i) in Rˢ, α consumes ⟨D+C,v⟩y to obtain ⟨A,v⟩ₓ (where D = ⋯ : withdraw A)</a>
    <a id="H₉-args.d≡"></a><a id="27407" href="Coherence.Hypotheses.html#27407" class="Field">d≡</a> <a id="27410" class="Symbol">:</a> <a id="27412" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="27414" href="BitML.Contracts.Collections.html#15163" class="Function Operator">≡⋯∶</a> <a id="27418" href="BitML.Contracts.Types.html#805" class="InductiveConstructor">withdraw</a> <a id="27427" href="Coherence.Hypotheses.html#27202" class="Field">A</a>
    <a id="27433" class="Comment">-- Hypotheses from [C-Withdraw]</a>
    <a id="H₉-args.fresh-x"></a><a id="27469" href="Coherence.Hypotheses.html#27469" class="Field">fresh-x</a> <a id="27477" class="Symbol">:</a> <a id="27479" href="Coherence.Hypotheses.html#27204" class="Field">x</a> <a id="27481" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="27483" href="Coherence.Hypotheses.html#27197" class="Field">y</a> <a id="27485" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="27489" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="27493" href="Coherence.Hypotheses.html#27199" class="Field">Γ₀</a>
    <a id="27500" class="Comment">-- Hypotheses from [Timeout]</a>
    <a id="H₉-args.As≡∅"></a><a id="27533" href="Coherence.Hypotheses.html#27533" class="Field">As≡∅</a> <a id="27538" class="Symbol">:</a> <a id="27540" href="Prelude.Null.html#263" class="Field">Null</a> <a id="27545" href="Coherence.Hypotheses.html#27259" class="Function">As</a>
    <a id="H₉-args.∀≤t"></a><a id="27552" href="Coherence.Hypotheses.html#27552" class="Field">∀≤t</a> <a id="27556" class="Symbol">:</a> <a id="27558" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="27562" class="Symbol">(</a><a id="27563" href="Prelude.Ord.Core.html#209" class="Field Operator">_≤</a> <a id="27566" href="Coherence.Hypotheses.html#27206" class="Field">t</a><a id="27567" class="Symbol">)</a> <a id="27569" href="Coherence.Hypotheses.html#27287" class="Function">ts</a>
  <a id="27574" class="Keyword">private</a>
    <a id="H₉-args.α"></a><a id="27586" href="Coherence.Hypotheses.html#27586" class="Function">α</a>  <a id="27589" class="Symbol">=</a> <a id="27591" href="BitML.Semantics.Label.html#1378" class="InductiveConstructor Operator">withdraw⦅</a> <a id="27601" href="Coherence.Hypotheses.html#27202" class="Field">A</a> <a id="27603" href="BitML.Semantics.Label.html#1378" class="InductiveConstructor Operator">,</a> <a id="27605" href="Coherence.Hypotheses.html#27195" class="Field">v</a> <a id="27607" href="BitML.Semantics.Label.html#1378" class="InductiveConstructor Operator">,</a> <a id="27609" href="Coherence.Hypotheses.html#27197" class="Field">y</a> <a id="27611" href="BitML.Semantics.Label.html#1378" class="InductiveConstructor Operator">⦆</a>
    <a id="H₉-args.Γ′"></a><a id="27617" href="Coherence.Hypotheses.html#27617" class="Function">Γ′</a> <a id="27620" class="Symbol">=</a> <a id="27622" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="27624" href="Coherence.Hypotheses.html#27202" class="Field">A</a> <a id="27626" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="27630" href="Coherence.Hypotheses.html#27195" class="Field">v</a> <a id="27632" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="27636" href="Coherence.Hypotheses.html#27204" class="Field">x</a> <a id="27638" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="27640" href="Coherence.Hypotheses.html#27199" class="Field">Γ₀</a>
  <a id="27645" class="Keyword">open</a> <a id="27650" href="Coherence.Hypotheses.html#1742" class="Module">Transition</a>
    <a id="27665" class="Symbol">(</a> <a id="27667" class="Symbol">(</a><a id="27668" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="27670" href="Coherence.Hypotheses.html#27193" class="Field">c</a> <a id="27672" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="27674" href="Coherence.Hypotheses.html#27195" class="Field">v</a> <a id="27676" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="27680" href="Coherence.Hypotheses.html#27197" class="Field">y</a> <a id="27682" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="27684" href="Coherence.Hypotheses.html#27199" class="Field">Γ₀</a><a id="27686" class="Symbol">)</a> <a id="27688" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="27690" href="Coherence.Hypotheses.html#27206" class="Field">t</a> <a id="27692" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">——</a> <a id="27695" href="Coherence.Hypotheses.html#27586" class="Function">α</a> <a id="27697" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">—→</a> <a id="27700" href="Coherence.Hypotheses.html#27617" class="Function">Γ′</a> <a id="27703" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="27705" href="Coherence.Hypotheses.html#27206" class="Field">t</a>
    <a id="27711" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⊣</a> <a id="27713" href="BitML.Semantics.InferenceRules.html#7812" class="InductiveConstructor">[Timeout]</a> <a id="27723" href="Coherence.Hypotheses.html#27533" class="Field">As≡∅</a> <a id="27728" href="Coherence.Hypotheses.html#27552" class="Field">∀≤t</a>
        <a id="27740" class="Symbol">(</a><a id="27741" href="Prelude.SubstDSL.html#488" class="Function">⟪</a> <a id="27743" class="Symbol">(λ</a> <a id="27746" href="Coherence.Hypotheses.html#27746" class="Bound">◆</a> <a id="27748" class="Symbol">→</a> <a id="27750" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="27752" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="27754" href="Coherence.Hypotheses.html#27746" class="Bound">◆</a> <a id="27756" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="27758" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="27760" href="Coherence.Hypotheses.html#27195" class="Field">v</a> <a id="27762" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="27766" href="Coherence.Hypotheses.html#27197" class="Field">y</a> <a id="27768" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="27770" href="Coherence.Hypotheses.html#27199" class="Field">Γ₀</a> <a id="27773" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="27776" href="Coherence.Hypotheses.html#27586" class="Function">α</a> <a id="27778" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a> <a id="27781" href="Coherence.Hypotheses.html#27617" class="Function">Γ′</a><a id="27783" class="Symbol">)</a> <a id="27785" href="Prelude.SubstDSL.html#488" class="Function">⟫</a> <a id="27787" href="Coherence.Hypotheses.html#27407" class="Field">d≡</a> <a id="27790" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="27793" href="BitML.Semantics.InferenceRules.html#6346" class="InductiveConstructor">[C-Withdraw]</a> <a id="27806" href="Coherence.Hypotheses.html#27469" class="Field">fresh-x</a><a id="27813" class="Symbol">)</a>
        <a id="27823" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="27832" class="Symbol">)</a> <a id="27834" class="Keyword">public</a> <a id="27841" class="Keyword">hiding</a> <a id="27848" class="Symbol">(</a><a id="27849" href="Coherence.Hypotheses.html#1819" class="Field">t</a><a id="27850" class="Symbol">)</a>
  <a id="27854" class="Keyword">field</a> <a id="H₉-args.𝕙r"></a><a id="27860" href="Coherence.Hypotheses.html#27860" class="Field">𝕙r</a> <a id="27863" class="Symbol">:</a> <a id="27865" href="Coherence.Hypotheses.html#1958" class="Record">ℍ-Run</a> <a id="27871" href="Coherence.Hypotheses.html#1929" class="Function">Γ→</a>
  <a id="27876" class="Keyword">open</a> <a id="27881" href="Coherence.Hypotheses.html#1958" class="Module">ℍ-Run</a> <a id="27887" href="Coherence.Hypotheses.html#27860" class="Field">𝕙r</a> <a id="27890" class="Keyword">public</a>

<a id="27898" class="Keyword">module</a> <a id="27905" href="Coherence.Hypotheses.html#27905" class="Module">H₉</a> <a id="27908" class="Symbol">(</a><a id="27909" href="Coherence.Hypotheses.html#27909" class="Bound">⋯</a> <a id="27911" class="Symbol">:</a> <a id="27913" href="Coherence.Hypotheses.html#27142" class="Record">H₉-args</a><a id="27920" class="Symbol">)</a> <a id="27922" class="Symbol">(</a><a id="27923" class="Keyword">open</a> <a id="27928" href="Coherence.Hypotheses.html#27142" class="Module">H₉-args</a> <a id="27936" href="Coherence.Hypotheses.html#27909" class="Bound">⋯</a><a id="27937" class="Symbol">)</a> <a id="27939" class="Keyword">where</a>
  <a id="27947" class="Comment">-- (ii) {G}C′ is the ancestor of ⟨D+C,v⟩y in Rˢ</a>
  <a id="27997" class="Comment">--   ∙ T′ at o = txout′(x)</a>
  <a id="28026" class="Comment">--   ∙ T is the first transaction of Bd(d,d,T′,o,v,partG,0)</a>
  <a id="28088" class="Comment">-- i.e.</a>
  <a id="28098" class="Comment">-- (iii) submit transaction T</a>
  <a id="28130" class="Comment">--       where ∙ (T′,o) = txout′(y)</a>
  <a id="28168" class="Comment">--             ∙ T is the first transaction in Bd(d,d,T′,o,v,partG,0)</a>
  <a id="28240" class="Comment">--       i.e. the one corresponding to subterm `d∗ = withdraw A`</a>
  <a id="28307" href="Coherence.Hypotheses.html#28307" class="Function">T</a> <a id="28309" class="Symbol">:</a> <a id="28311" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
  <a id="28317" href="Coherence.Hypotheses.html#28307" class="Function">T</a> <a id="28319" class="Symbol">=</a> <a id="28321" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="28324" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="28327" href="Coherence.Helpers.html#4528" class="Function">COMPILE-ANCESTOR</a> <a id="28344" class="Symbol">{</a><a id="28345" class="Argument">Γ</a> <a id="28347" class="Symbol">=</a> <a id="28349" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a><a id="28350" class="Symbol">}</a> <a id="28352" class="Symbol">{</a><a id="28353" class="Argument">i</a> <a id="28355" class="Symbol">=</a> <a id="28357" href="Coherence.Hypotheses.html#27218" class="Field">i</a><a id="28358" class="Symbol">}</a> <a id="28360" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="28363" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="28365" href="Coherence.Hypotheses.html#2229" class="Function">𝕣</a> <a id="28367" class="Symbol">.</a><a id="28368" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="28374" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="28377" href="Coherence.Hypotheses.html#27407" class="Field">d≡</a> <a id="28380" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="28382" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="28391" href="Prelude.SubstDSL.html#164" class="Function">⟫</a>

  <a id="28396" class="Comment">-- (iv) extend txout′ with {x ↦ (T,0)}, sechash = sechash′, κ = κ′</a>
  <a id="28465" href="Coherence.Hypotheses.html#28465" class="Function">txout↝</a> <a id="28472" class="Symbol">:</a> <a id="28474" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="28476" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="28479" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="28485" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="28487" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
  <a id="28492" href="Coherence.Hypotheses.html#28465" class="Function">txout↝</a>  <a id="28500" href="Coherence.Hypotheses.html#28500" class="Bound">txout′</a> <a id="28507" class="Symbol">=</a> <a id="28509" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="28516" href="Coherence.Hypotheses.html#27204" class="Field">x</a> <a id="28518" class="Symbol">(</a><a id="28519" href="Coherence.Hypotheses.html#28307" class="Function">T</a> <a id="28521" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="28524" class="Number">0</a><a id="28525" class="Symbol">)</a> <a id="28527" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="28529" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="28538" href="Coherence.Hypotheses.html#28500" class="Bound">txout′</a> <a id="28545" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a>

  <a id="28554" href="Coherence.Hypotheses.html#28554" class="Function">λˢ</a> <a id="28557" class="Symbol">:</a> <a id="28559" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="28562" href="Coherence.Hypotheses.html#1895" class="Function">Γₜ′</a>
  <a id="28568" href="Coherence.Hypotheses.html#28554" class="Function">λˢ</a> <a id="28571" class="Symbol">=</a> <a id="28573" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="28579" href="Coherence.Hypotheses.html#2229" class="Function">𝕣</a> <a id="28581" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="28583" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="28586" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="28589" href="Coherence.Hypotheses.html#28465" class="Function">txout↝</a> <a id="28596" href="Function.Base.html#624" class="Function">id</a> <a id="28599" href="Function.Base.html#624" class="Function">id</a>

<a id="28603" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[9]~_⨾_"></a><a id="28608" href="Coherence.Hypotheses.html#28608" class="Datatype Operator">_⨾_⨾_~ℍ[9]~_⨾_</a> <a id="28623" class="Symbol">:</a> <a id="28625" href="Coherence.Hypotheses.html#1602" class="Function">StepRel</a> <a id="28633" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[9]~_⨾_.mkℍ"></a><a id="28641" href="Coherence.Hypotheses.html#28641" class="InductiveConstructor">mkℍ</a> <a id="28645" class="Symbol">:</a> <a id="28647" class="Symbol">∀</a> <a id="28649" class="Symbol">{</a><a id="28650" href="Coherence.Hypotheses.html#28650" class="Bound">h</a> <a id="28652" class="Symbol">:</a> <a id="28654" href="Coherence.Hypotheses.html#27142" class="Record">H₉-args</a><a id="28661" class="Symbol">}</a>
    <a id="28667" class="Symbol">→</a> <a id="28669" class="Keyword">let</a>
        <a id="28681" class="Keyword">open</a> <a id="28686" href="Coherence.Hypotheses.html#27142" class="Module">H₉-args</a> <a id="28694" href="Coherence.Hypotheses.html#28650" class="Bound">h</a>
        <a id="28704" class="Keyword">open</a> <a id="28709" href="Coherence.Hypotheses.html#27905" class="Module">H₉</a> <a id="28712" href="Coherence.Hypotheses.html#28650" class="Bound">h</a> <a id="28714" class="Keyword">using</a> <a id="28720" class="Symbol">(</a><a id="28721" href="Coherence.Hypotheses.html#28554" class="Function">λˢ</a><a id="28723" class="Symbol">;</a> <a id="28725" href="Coherence.Hypotheses.html#28307" class="Function">T</a><a id="28726" class="Symbol">)</a>
        <a id="28736" class="Comment">-- open H₉ h using (𝕣∗′; T)</a>
        <a id="28772" href="Coherence.Hypotheses.html#28772" class="Bound">λᶜ</a> <a id="28775" class="Symbol">=</a> <a id="28777" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="28784" href="Coherence.Hypotheses.html#28307" class="Function">T</a>
      <a id="28792" class="Keyword">in</a>
      <a id="28801" href="Prelude.InferenceRules.html#44248" class="Function Operator">─────────────────────────────────────────</a>
      <a id="28849" class="Comment">-- Γₜ″ ⨾ 𝕣∗ ⨾ (𝕒 , λˢ) ~ℍ[9]~ λᶜ ⨾ Rᶜ</a>
      <a id="28893" href="Coherence.Hypotheses.html#2177" class="Function">Γₜ″</a> <a id="28897" href="Coherence.Hypotheses.html#28608" class="Datatype Operator">⨾</a> <a id="28899" href="Coherence.Hypotheses.html#2116" class="Function">𝕣∗</a> <a id="28902" href="Coherence.Hypotheses.html#28608" class="Datatype Operator">⨾</a> <a id="28904" class="Symbol">(</a><a id="28905" href="Coherence.Hypotheses.html#2263" class="Function">𝕒</a> <a id="28907" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="28909" href="Coherence.Hypotheses.html#28554" class="Function">λˢ</a><a id="28911" class="Symbol">)</a> <a id="28913" href="Coherence.Hypotheses.html#28608" class="Datatype Operator">~ℍ[9]~</a> <a id="28920" href="Coherence.Hypotheses.html#28772" class="Bound">λᶜ</a> <a id="28923" href="Coherence.Hypotheses.html#28608" class="Datatype Operator">⨾</a> <a id="28925" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a>

<a id="28929" class="Comment">-- ** Deposits: authorize join</a>
<a id="28960" class="Keyword">record</a> <a id="H₁₀-args"></a><a id="28967" href="Coherence.Hypotheses.html#28967" class="Record">H₁₀-args</a> <a id="28976" class="Symbol">:</a> <a id="28978" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="28983" class="Keyword">where</a>
  <a id="28991" class="Keyword">constructor</a> <a id="mk"></a><a id="29003" href="Coherence.Hypotheses.html#29003" class="InductiveConstructor">mk</a>
  <a id="29008" class="Keyword">field</a>
    <a id="29018" class="Symbol">{</a><a id="H₁₀-args.A"></a><a id="29019" href="Coherence.Hypotheses.html#29019" class="Field">A</a> <a id="H₁₀-args.v"></a><a id="29021" href="Coherence.Hypotheses.html#29021" class="Field">v</a> <a id="H₁₀-args.x"></a><a id="29023" href="Coherence.Hypotheses.html#29023" class="Field">x</a> <a id="H₁₀-args.v′"></a><a id="29025" href="Coherence.Hypotheses.html#29025" class="Field">v′</a> <a id="H₁₀-args.x′"></a><a id="29028" href="Coherence.Hypotheses.html#29028" class="Field">x′</a> <a id="H₁₀-args.Γ₀"></a><a id="29031" href="Coherence.Hypotheses.html#29031" class="Field">Γ₀</a> <a id="H₁₀-args.t"></a><a id="29034" href="Coherence.Hypotheses.html#29034" class="Field">t</a><a id="29035" class="Symbol">}</a> <a id="29037" class="Symbol">:</a> <a id="29039" class="Symbol">_</a>
  <a id="29043" class="Keyword">open</a> <a id="29048" href="Coherence.Hypotheses.html#1742" class="Module">Transition</a>
    <a id="29063" class="Symbol">(</a> <a id="29065" class="Symbol">(</a><a id="29066" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="29068" href="Coherence.Hypotheses.html#29019" class="Field">A</a> <a id="29070" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="29074" href="Coherence.Hypotheses.html#29021" class="Field">v</a> <a id="29076" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="29080" href="Coherence.Hypotheses.html#29023" class="Field">x</a> <a id="29082" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="29084" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="29086" href="Coherence.Hypotheses.html#29019" class="Field">A</a> <a id="29088" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="29092" href="Coherence.Hypotheses.html#29025" class="Field">v′</a> <a id="29095" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="29099" href="Coherence.Hypotheses.html#29028" class="Field">x′</a> <a id="29102" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="29104" href="Coherence.Hypotheses.html#29031" class="Field">Γ₀</a><a id="29106" class="Symbol">)</a> <a id="29108" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="29110" href="Coherence.Hypotheses.html#29034" class="Field">t</a>
      <a id="29118" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">——</a> <a id="29121" href="BitML.Semantics.Label.html#480" class="InductiveConstructor Operator">auth-join⦅</a> <a id="29132" href="Coherence.Hypotheses.html#29019" class="Field">A</a> <a id="29134" href="BitML.Semantics.Label.html#480" class="InductiveConstructor Operator">,</a> <a id="29136" href="Coherence.Hypotheses.html#29023" class="Field">x</a> <a id="29138" href="BitML.Semantics.Label.html#480" class="InductiveConstructor Operator">↔</a> <a id="29140" href="Coherence.Hypotheses.html#29028" class="Field">x′</a> <a id="29143" href="BitML.Semantics.Label.html#480" class="InductiveConstructor Operator">⦆</a> <a id="29145" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">—→</a>
      <a id="29154" class="Symbol">(</a> <a id="29156" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="29158" href="Coherence.Hypotheses.html#29019" class="Field">A</a> <a id="29160" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="29164" href="Coherence.Hypotheses.html#29021" class="Field">v</a> <a id="29166" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="29170" href="Coherence.Hypotheses.html#29023" class="Field">x</a> <a id="29172" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="29174" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="29176" href="Coherence.Hypotheses.html#29019" class="Field">A</a> <a id="29178" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="29182" href="Coherence.Hypotheses.html#29025" class="Field">v′</a> <a id="29185" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="29189" href="Coherence.Hypotheses.html#29028" class="Field">x′</a>
      <a id="29198" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="29200" href="Coherence.Hypotheses.html#29019" class="Field">A</a> <a id="29202" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="29208" href="Coherence.Hypotheses.html#29023" class="Field">x</a> <a id="29210" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">↔</a> <a id="29212" href="Coherence.Hypotheses.html#29028" class="Field">x′</a> <a id="29215" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">▷⟨</a> <a id="29218" href="Coherence.Hypotheses.html#29019" class="Field">A</a> <a id="29220" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">,</a> <a id="29222" href="Coherence.Hypotheses.html#29021" class="Field">v</a> <a id="29224" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="29226" href="Coherence.Hypotheses.html#29025" class="Field">v′</a> <a id="29229" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">⟩</a> <a id="29231" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="29233" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="29235" href="Coherence.Hypotheses.html#29031" class="Field">Γ₀</a><a id="29237" class="Symbol">)</a> <a id="29239" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="29241" href="Coherence.Hypotheses.html#29034" class="Field">t</a>
    <a id="29247" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⊣</a> <a id="29249" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="29253" href="BitML.Semantics.InferenceRules.html#1167" class="InductiveConstructor">[DEP-AuthJoin]</a>
    <a id="29272" class="Symbol">)</a> <a id="29274" class="Keyword">public</a> <a id="29281" class="Keyword">hiding</a> <a id="29288" class="Symbol">(</a><a id="29289" href="Coherence.Hypotheses.html#1819" class="Field">t</a><a id="29290" class="Symbol">)</a>
  <a id="29294" class="Keyword">field</a> <a id="H₁₀-args.𝕙r"></a><a id="29300" href="Coherence.Hypotheses.html#29300" class="Field">𝕙r</a> <a id="29303" class="Symbol">:</a> <a id="29305" href="Coherence.Hypotheses.html#1958" class="Record">ℍ-Run</a> <a id="29311" href="Coherence.Hypotheses.html#1929" class="Function">Γ→</a>
  <a id="29316" class="Keyword">open</a> <a id="29321" href="Coherence.Hypotheses.html#1958" class="Module">ℍ-Run</a> <a id="29327" href="Coherence.Hypotheses.html#29300" class="Field">𝕙r</a> <a id="29330" class="Keyword">public</a>

<a id="29338" class="Keyword">module</a> <a id="29345" href="Coherence.Hypotheses.html#29345" class="Module">H₁₀</a> <a id="29349" class="Symbol">(</a><a id="29350" href="Coherence.Hypotheses.html#29350" class="Bound">⋯</a> <a id="29352" class="Symbol">:</a> <a id="29354" href="Coherence.Hypotheses.html#28967" class="Record">H₁₀-args</a><a id="29362" class="Symbol">)</a> <a id="29364" class="Symbol">(</a><a id="29365" class="Keyword">open</a> <a id="29370" href="Coherence.Hypotheses.html#28967" class="Module">H₁₀-args</a> <a id="29379" href="Coherence.Hypotheses.html#29350" class="Bound">⋯</a><a id="29380" class="Symbol">)</a> <a id="29382" class="Keyword">where</a>
  <a id="29390" href="Coherence.Hypotheses.html#29390" class="Function">λˢ</a> <a id="29393" class="Symbol">:</a> <a id="29395" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="29398" href="Coherence.Hypotheses.html#1895" class="Function">Γₜ′</a>
  <a id="29404" href="Coherence.Hypotheses.html#29390" class="Function">λˢ</a> <a id="29407" class="Symbol">=</a> <a id="29409" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="29415" href="Coherence.Hypotheses.html#2229" class="Function">𝕣</a> <a id="29417" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="29419" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="29422" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="29425" href="Function.Base.html#624" class="Function">id</a> <a id="29428" href="Function.Base.html#624" class="Function">id</a> <a id="29431" href="Function.Base.html#624" class="Function">id</a>

<a id="29435" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[10]~_⨾_"></a><a id="29440" href="Coherence.Hypotheses.html#29440" class="Datatype Operator">_⨾_⨾_~ℍ[10]~_⨾_</a> <a id="29456" class="Symbol">:</a> <a id="29458" href="Coherence.Hypotheses.html#1602" class="Function">StepRel</a> <a id="29466" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[10]~_⨾_.mkℍ"></a><a id="29474" href="Coherence.Hypotheses.html#29474" class="InductiveConstructor">mkℍ</a> <a id="29478" class="Symbol">:</a> <a id="29480" class="Symbol">∀</a> <a id="29482" class="Symbol">{</a><a id="29483" href="Coherence.Hypotheses.html#29483" class="Bound">h</a> <a id="29485" class="Symbol">:</a> <a id="29487" href="Coherence.Hypotheses.html#28967" class="Record">H₁₀-args</a><a id="29495" class="Symbol">}</a> <a id="29497" class="Symbol">{</a><a id="29498" href="Coherence.Hypotheses.html#29498" class="Bound">B</a><a id="29499" class="Symbol">}</a>
    <a id="29505" class="Symbol">→</a> <a id="29507" class="Keyword">let</a>
        <a id="29519" class="Keyword">open</a> <a id="29524" href="Coherence.Hypotheses.html#28967" class="Module">H₁₀-args</a> <a id="29533" href="Coherence.Hypotheses.html#29483" class="Bound">h</a>

        <a id="29544" href="Coherence.Hypotheses.html#29544" class="Bound">n⊆</a> <a id="29547" class="Symbol">:</a> <a id="29549" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="29551" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="29554" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="29558" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="29560" href="Coherence.Hypotheses.html#2103" class="Function">Rˢ</a>
        <a id="29571" href="Coherence.Hypotheses.html#29544" class="Bound">n⊆</a>  <a id="29575" class="Symbol">=</a> <a id="29577" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="29590" href="Coherence.Hypotheses.html#2103" class="Function">Rˢ</a>
            <a id="29605" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="29607" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="29622" class="Symbol">_</a> <a id="29624" class="Symbol">{</a><a id="29625" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a><a id="29626" class="Symbol">}{</a><a id="29628" href="Coherence.Hypotheses.html#2103" class="Function">Rˢ</a> <a id="29631" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="29635" class="Symbol">}</a> <a id="29637" class="Symbol">(</a><a id="29638" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="29644" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="29646" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="29649" class="Symbol">.</a><a id="29650" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="29655" class="Symbol">)</a>
      <a id="29663" class="Keyword">in</a>
    <a id="29670" class="Symbol">∀</a> <a id="29672" class="Symbol">(</a><a id="29673" href="Coherence.Hypotheses.html#29673" class="Bound">∃B</a> <a id="29676" class="Symbol">:</a> <a id="29678" href="Data.Product.html#1378" class="Function">∃</a> <a id="29680" class="Symbol">λ</a> <a id="29682" href="Coherence.Hypotheses.html#29682" class="Bound">B</a> <a id="29684" class="Symbol">→</a> <a id="29686" href="Data.Product.html#1378" class="Function">∃</a> <a id="29688" class="Symbol">λ</a> <a id="29690" class="Symbol">(</a><a id="29691" href="Coherence.Hypotheses.html#29691" class="Bound">T</a> <a id="29693" class="Symbol">:</a> <a id="29695" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="29698" class="Number">2</a> <a id="29700" class="Number">1</a><a id="29701" class="Symbol">)</a> <a id="29703" class="Symbol">→</a>
         <a id="29714" class="Symbol">(</a><a id="29715" href="Coherence.Hypotheses.html#29682" class="Bound">B</a> <a id="29717" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="29721" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="29728" href="Coherence.Hypotheses.html#29691" class="Bound">T</a> <a id="29730" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="29732" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="29739" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a><a id="29741" class="Symbol">)</a>
       <a id="29750" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="29752" class="Symbol">(</a><a id="29753" href="Coherence.Hypotheses.html#29691" class="Bound">T</a> <a id="29755" class="Symbol">.</a><a id="29756" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="29764" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="29766" class="Symbol">(</a><a id="29767" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="29775" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="29779" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="29781" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="29788" class="Symbol">{</a><a id="29789" href="Coherence.Hypotheses.html#29023" class="Function">x</a><a id="29790" class="Symbol">}</a> <a id="29792" class="Symbol">(</a><a id="29793" href="Coherence.Hypotheses.html#29544" class="Bound">n⊆</a> <a id="29796" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a><a id="29797" class="Symbol">)</a> <a id="29799" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="29801" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="29808" class="Symbol">{</a><a id="29809" href="Coherence.Hypotheses.html#29028" class="Function">x′</a><a id="29811" class="Symbol">}</a> <a id="29813" class="Symbol">(</a><a id="29814" href="Coherence.Hypotheses.html#29544" class="Bound">n⊆</a> <a id="29817" href="Prelude.Membership.Patterns.html#144" class="InductiveConstructor">𝟙</a><a id="29818" class="Symbol">)</a> <a id="29820" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a><a id="29821" class="Symbol">))</a>
       <a id="29831" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="29833" class="Symbol">(</a><a id="29834" href="Coherence.Hypotheses.html#29691" class="Bound">T</a> <a id="29836" class="Symbol">.</a><a id="29837" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="29845" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="29847" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="29849" class="Symbol">(</a><a id="29850" href="Coherence.Hypotheses.html#29021" class="Function">v</a> <a id="29852" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="29854" href="Coherence.Hypotheses.html#29025" class="Function">v′</a><a id="29856" class="Symbol">)</a> <a id="29858" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="29872" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="29875" href="Coherence.Hypotheses.html#29019" class="Function">A</a> <a id="29877" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="29878" class="Symbol">))</a>
    <a id="29885" class="Symbol">→</a> <a id="29887" class="Keyword">let</a>
        <a id="29899" class="Comment">-- (iii) broadcast transaction T, signed by A</a>
        <a id="29953" class="Symbol">_</a> <a id="29955" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="29957" href="Coherence.Hypotheses.html#29957" class="Bound">T</a> <a id="29959" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="29961" href="Coherence.Hypotheses.html#29961" class="Bound">B∈</a> <a id="29964" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="29966" class="Symbol">_</a>  <a id="29969" class="Symbol">=</a> <a id="29971" href="Coherence.Hypotheses.html#29673" class="Bound">∃B</a>
        <a id="29982" href="Coherence.Hypotheses.html#29982" class="Bound">m′</a> <a id="29985" class="Symbol">=</a> <a id="29987" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="29991" class="Symbol">(</a><a id="29992" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="29995" href="Coherence.Hypotheses.html#29019" class="Function">A</a><a id="29996" class="Symbol">)</a> <a id="29998" class="Symbol">(</a><a id="29999" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a> <a id="30003" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="30005" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="30008" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="30011" href="Coherence.Hypotheses.html#29957" class="Bound">T</a><a id="30012" class="Symbol">)</a>
        <a id="30022" href="Coherence.Hypotheses.html#30022" class="Bound">λᶜ</a> <a id="30025" class="Symbol">=</a> <a id="30027" href="Coherence.Hypotheses.html#29498" class="Bound">B</a> <a id="30029" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="30033" href="Coherence.Hypotheses.html#29982" class="Bound">m′</a>

        <a id="30045" class="Comment">-- (v) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="30103" class="Keyword">open</a> <a id="30108" href="Coherence.Hypotheses.html#29345" class="Module">H₁₀</a> <a id="30112" href="Coherence.Hypotheses.html#29483" class="Bound">h</a> <a id="30114" class="Keyword">using</a> <a id="30120" class="Symbol">(</a><a id="30121" href="Coherence.Hypotheses.html#29390" class="Function">λˢ</a><a id="30123" class="Symbol">)</a>
      <a id="30131" class="Keyword">in</a>
      <a id="30140" class="Comment">-- (iv) λᶜ is the first broadcast of m′ in Rᶜ after the first broadcast of T</a>
    <a id="30221" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="30223" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="30227" class="Symbol">(λ</a> <a id="30230" href="Coherence.Hypotheses.html#30230" class="Bound">l</a> <a id="30232" class="Symbol">→</a> <a id="30234" class="Symbol">∀</a> <a id="30236" href="Coherence.Hypotheses.html#30236" class="Bound">B</a> <a id="30238" class="Symbol">→</a> <a id="30240" href="Coherence.Hypotheses.html#30230" class="Bound">l</a> <a id="30242" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="30244" href="Coherence.Hypotheses.html#30236" class="Bound">B</a> <a id="30246" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="30250" href="Coherence.Hypotheses.html#29982" class="Bound">m′</a><a id="30252" class="Symbol">)</a> <a id="30254" class="Symbol">(</a><a id="30255" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="30265" href="Coherence.Hypotheses.html#29961" class="Bound">B∈</a><a id="30267" class="Symbol">)</a>
      <a id="30275" href="Prelude.InferenceRules.html#11142" class="Function Operator">────────────────────────────────────────────────────────────────────────────</a>
      <a id="30358" href="Coherence.Hypotheses.html#2177" class="Function">Γₜ″</a> <a id="30362" href="Coherence.Hypotheses.html#29440" class="Datatype Operator">⨾</a> <a id="30364" href="Coherence.Hypotheses.html#2116" class="Function">𝕣∗</a> <a id="30367" href="Coherence.Hypotheses.html#29440" class="Datatype Operator">⨾</a> <a id="30369" class="Symbol">(</a><a id="30370" href="Coherence.Hypotheses.html#2263" class="Function">𝕒</a> <a id="30372" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="30374" href="Coherence.Hypotheses.html#29390" class="Function">λˢ</a><a id="30376" class="Symbol">)</a> <a id="30378" href="Coherence.Hypotheses.html#29440" class="Datatype Operator">~ℍ[10]~</a> <a id="30386" href="Coherence.Hypotheses.html#30022" class="Bound">λᶜ</a> <a id="30389" href="Coherence.Hypotheses.html#29440" class="Datatype Operator">⨾</a> <a id="30391" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a>

<a id="30395" class="Comment">-- ** Deposits: join</a>
<a id="30416" class="Keyword">record</a> <a id="H₁₁-args"></a><a id="30423" href="Coherence.Hypotheses.html#30423" class="Record">H₁₁-args</a> <a id="30432" class="Symbol">:</a> <a id="30434" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="30439" class="Keyword">where</a>
  <a id="30447" class="Keyword">constructor</a> <a id="mk"></a><a id="30459" href="Coherence.Hypotheses.html#30459" class="InductiveConstructor">mk</a>
  <a id="30464" class="Keyword">field</a>
    <a id="30474" class="Symbol">{</a><a id="H₁₁-args.A"></a><a id="30475" href="Coherence.Hypotheses.html#30475" class="Field">A</a> <a id="H₁₁-args.v"></a><a id="30477" href="Coherence.Hypotheses.html#30477" class="Field">v</a> <a id="H₁₁-args.x"></a><a id="30479" href="Coherence.Hypotheses.html#30479" class="Field">x</a> <a id="H₁₁-args.v′"></a><a id="30481" href="Coherence.Hypotheses.html#30481" class="Field">v′</a> <a id="H₁₁-args.x′"></a><a id="30484" href="Coherence.Hypotheses.html#30484" class="Field">x′</a> <a id="H₁₁-args.y"></a><a id="30487" href="Coherence.Hypotheses.html#30487" class="Field">y</a> <a id="H₁₁-args.Γ₀"></a><a id="30489" href="Coherence.Hypotheses.html#30489" class="Field">Γ₀</a> <a id="H₁₁-args.t"></a><a id="30492" href="Coherence.Hypotheses.html#30492" class="Field">t</a><a id="30493" class="Symbol">}</a> <a id="30495" class="Symbol">:</a> <a id="30497" class="Symbol">_</a>
    <a id="30503" class="Comment">-- Hypotheses from [DEP-Join]</a>
    <a id="H₁₁-args.fresh-y"></a><a id="30537" href="Coherence.Hypotheses.html#30537" class="Field">fresh-y</a> <a id="30545" class="Symbol">:</a> <a id="30547" href="Coherence.Hypotheses.html#30487" class="Field">y</a> <a id="30549" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="30551" href="Coherence.Hypotheses.html#30479" class="Field">x</a> <a id="30553" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="30557" href="Coherence.Hypotheses.html#30484" class="Field">x′</a> <a id="30560" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="30562" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="30566" href="Coherence.Hypotheses.html#30489" class="Field">Γ₀</a>
  <a id="30571" class="Keyword">open</a> <a id="30576" href="Coherence.Hypotheses.html#1742" class="Module">Transition</a>
    <a id="30591" class="Symbol">(</a> <a id="30593" class="Symbol">(</a> <a id="30595" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="30597" href="Coherence.Hypotheses.html#30475" class="Field">A</a> <a id="30599" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="30603" href="Coherence.Hypotheses.html#30477" class="Field">v</a> <a id="30605" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="30609" href="Coherence.Hypotheses.html#30479" class="Field">x</a> <a id="30611" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="30613" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="30615" href="Coherence.Hypotheses.html#30475" class="Field">A</a> <a id="30617" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="30621" href="Coherence.Hypotheses.html#30481" class="Field">v′</a> <a id="30624" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="30628" href="Coherence.Hypotheses.html#30484" class="Field">x′</a>
      <a id="30637" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="30639" href="Coherence.Hypotheses.html#30475" class="Field">A</a> <a id="30641" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="30647" href="Coherence.Hypotheses.html#30479" class="Field">x</a> <a id="30649" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">↔</a> <a id="30651" href="Coherence.Hypotheses.html#30484" class="Field">x′</a> <a id="30654" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">▷⟨</a> <a id="30657" href="Coherence.Hypotheses.html#30475" class="Field">A</a> <a id="30659" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">,</a> <a id="30661" href="Coherence.Hypotheses.html#30477" class="Field">v</a> <a id="30663" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="30665" href="Coherence.Hypotheses.html#30481" class="Field">v′</a> <a id="30668" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">⟩</a> <a id="30670" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="30672" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="30674" href="Coherence.Hypotheses.html#30489" class="Field">Γ₀</a><a id="30676" class="Symbol">)</a> <a id="30678" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="30680" href="Coherence.Hypotheses.html#30492" class="Field">t</a>
      <a id="30688" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">——</a> <a id="30691" href="BitML.Semantics.Label.html#540" class="InductiveConstructor Operator">join⦅</a> <a id="30697" href="Coherence.Hypotheses.html#30479" class="Field">x</a> <a id="30699" href="BitML.Semantics.Label.html#540" class="InductiveConstructor Operator">↔</a> <a id="30701" href="Coherence.Hypotheses.html#30484" class="Field">x′</a> <a id="30704" href="BitML.Semantics.Label.html#540" class="InductiveConstructor Operator">⦆</a> <a id="30706" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">—→</a>
      <a id="30715" class="Symbol">(</a><a id="30716" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="30718" href="Coherence.Hypotheses.html#30475" class="Field">A</a> <a id="30720" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="30724" class="Symbol">(</a><a id="30725" href="Coherence.Hypotheses.html#30477" class="Field">v</a> <a id="30727" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="30729" href="Coherence.Hypotheses.html#30481" class="Field">v′</a><a id="30731" class="Symbol">)</a> <a id="30733" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="30737" href="Coherence.Hypotheses.html#30487" class="Field">y</a> <a id="30739" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="30741" href="Coherence.Hypotheses.html#30489" class="Field">Γ₀</a><a id="30743" class="Symbol">)</a> <a id="30745" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="30747" href="Coherence.Hypotheses.html#30492" class="Field">t</a>
    <a id="30753" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⊣</a> <a id="30755" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="30759" class="Symbol">(</a><a id="30760" href="BitML.Semantics.InferenceRules.html#1421" class="InductiveConstructor">[DEP-Join]</a> <a id="30771" href="Coherence.Hypotheses.html#30537" class="Field">fresh-y</a><a id="30778" class="Symbol">)</a>
    <a id="30784" class="Symbol">)</a> <a id="30786" class="Keyword">public</a> <a id="30793" class="Keyword">hiding</a> <a id="30800" class="Symbol">(</a><a id="30801" href="Coherence.Hypotheses.html#1819" class="Field">t</a><a id="30802" class="Symbol">)</a>
  <a id="30806" class="Keyword">field</a> <a id="H₁₁-args.𝕙r"></a><a id="30812" href="Coherence.Hypotheses.html#30812" class="Field">𝕙r</a> <a id="30815" class="Symbol">:</a> <a id="30817" href="Coherence.Hypotheses.html#1958" class="Record">ℍ-Run</a> <a id="30823" href="Coherence.Hypotheses.html#1929" class="Function">Γ→</a>
  <a id="30828" class="Keyword">open</a> <a id="30833" href="Coherence.Hypotheses.html#1958" class="Module">ℍ-Run</a> <a id="30839" href="Coherence.Hypotheses.html#30812" class="Field">𝕙r</a> <a id="30842" class="Keyword">public</a>

<a id="30850" class="Keyword">module</a> <a id="30857" href="Coherence.Hypotheses.html#30857" class="Module">H₁₁</a> <a id="30861" class="Symbol">(</a><a id="30862" href="Coherence.Hypotheses.html#30862" class="Bound">⋯</a> <a id="30864" class="Symbol">:</a> <a id="30866" href="Coherence.Hypotheses.html#30423" class="Record">H₁₁-args</a><a id="30874" class="Symbol">)</a> <a id="30876" class="Symbol">(</a><a id="30877" class="Keyword">open</a> <a id="30882" href="Coherence.Hypotheses.html#30423" class="Module">H₁₁-args</a> <a id="30891" href="Coherence.Hypotheses.html#30862" class="Bound">⋯</a><a id="30892" class="Symbol">)</a> <a id="30894" class="Symbol">(</a><a id="30895" href="Coherence.Hypotheses.html#30895" class="Bound">tx</a> <a id="30898" class="Symbol">:</a> <a id="30900" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a><a id="30908" class="Symbol">)</a> <a id="30910" class="Keyword">where</a>
  <a id="30918" href="Coherence.Hypotheses.html#30918" class="Function">txout↝</a> <a id="30925" class="Symbol">:</a> <a id="30927" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="30929" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="30932" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="30938" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="30940" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
  <a id="30945" href="Coherence.Hypotheses.html#30918" class="Function">txout↝</a> <a id="30952" href="Coherence.Hypotheses.html#30952" class="Bound">txout′</a> <a id="30959" class="Symbol">=</a> <a id="30961" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="30968" href="Coherence.Hypotheses.html#30487" class="Field">y</a> <a id="30970" href="Coherence.Hypotheses.html#30895" class="Bound">tx</a> <a id="30973" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="30975" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="30984" href="Coherence.Hypotheses.html#30952" class="Bound">txout′</a> <a id="30991" class="Symbol">(λ</a> <a id="30994" href="Coherence.Hypotheses.html#30994" class="Bound">x∈</a> <a id="30997" class="Symbol">→</a> <a id="30999" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a> <a id="31005" class="Symbol">(</a><a id="31006" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a> <a id="31012" href="Coherence.Hypotheses.html#30994" class="Bound">x∈</a><a id="31014" class="Symbol">))</a>

  <a id="31020" href="Coherence.Hypotheses.html#31020" class="Function">λˢ</a> <a id="31023" class="Symbol">:</a> <a id="31025" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="31028" href="Coherence.Hypotheses.html#1895" class="Function">Γₜ′</a>
  <a id="31034" href="Coherence.Hypotheses.html#31020" class="Function">λˢ</a> <a id="31037" class="Symbol">=</a> <a id="31039" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="31045" href="Coherence.Hypotheses.html#2229" class="Function">𝕣</a> <a id="31047" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="31049" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="31052" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="31055" href="Coherence.Hypotheses.html#30918" class="Function">txout↝</a> <a id="31062" href="Function.Base.html#624" class="Function">id</a> <a id="31065" href="Function.Base.html#624" class="Function">id</a>

<a id="31069" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[11]~_⨾_"></a><a id="31074" href="Coherence.Hypotheses.html#31074" class="Datatype Operator">_⨾_⨾_~ℍ[11]~_⨾_</a> <a id="31090" class="Symbol">:</a> <a id="31092" href="Coherence.Hypotheses.html#1602" class="Function">StepRel</a> <a id="31100" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[11]~_⨾_.mkℍ"></a><a id="31108" href="Coherence.Hypotheses.html#31108" class="InductiveConstructor">mkℍ</a> <a id="31112" class="Symbol">:</a> <a id="31114" class="Symbol">∀</a> <a id="31116" class="Symbol">{</a><a id="31117" href="Coherence.Hypotheses.html#31117" class="Bound">h</a> <a id="31119" class="Symbol">:</a> <a id="31121" href="Coherence.Hypotheses.html#30423" class="Record">H₁₁-args</a><a id="31129" class="Symbol">}</a>
    <a id="31135" class="Symbol">→</a> <a id="31137" class="Keyword">let</a>
        <a id="31149" class="Keyword">open</a> <a id="31154" href="Coherence.Hypotheses.html#30423" class="Module">H₁₁-args</a> <a id="31163" href="Coherence.Hypotheses.html#31117" class="Bound">h</a>

        <a id="31174" href="Coherence.Hypotheses.html#31174" class="Bound">n⊆</a> <a id="31177" class="Symbol">:</a> <a id="31179" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="31181" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="31184" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="31188" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="31190" href="Coherence.Hypotheses.html#2103" class="Function">Rˢ</a>
        <a id="31201" href="Coherence.Hypotheses.html#31174" class="Bound">n⊆</a>  <a id="31205" class="Symbol">=</a> <a id="31207" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="31220" href="Coherence.Hypotheses.html#2103" class="Function">Rˢ</a>
            <a id="31235" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="31237" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="31252" class="Symbol">_</a> <a id="31254" class="Symbol">{</a><a id="31255" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a><a id="31256" class="Symbol">}{</a><a id="31258" href="Coherence.Hypotheses.html#2103" class="Function">Rˢ</a> <a id="31261" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="31265" class="Symbol">}</a> <a id="31267" class="Symbol">(</a><a id="31268" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="31274" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="31276" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="31279" class="Symbol">.</a><a id="31280" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="31285" class="Symbol">)</a>

        <a id="31296" class="Comment">-- (ii) submit transaction T</a>
        <a id="31333" href="Coherence.Hypotheses.html#31333" class="Bound">T</a> <a id="31335" class="Symbol">:</a> <a id="31337" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
        <a id="31349" href="Coherence.Hypotheses.html#31333" class="Bound">T</a>  <a id="31352" class="Symbol">=</a> <a id="31354" class="Number">2</a> <a id="31356" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="31358" class="Number">1</a> <a id="31360" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="31362" href="Bitcoin.Tx.Crypto.html#1445" class="Function">sig⋆</a> <a id="31367" class="Symbol">(</a><a id="31368" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="31380" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="31382" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="31385" href="Coherence.Hypotheses.html#30475" class="Field">A</a> <a id="31387" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="31388" class="Symbol">)</a> <a id="31390" class="Keyword">record</a>
          <a id="31407" class="Symbol">{</a> <a id="31409" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="31417" class="Symbol">=</a> <a id="31419" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="31427" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="31431" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="31433" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="31440" class="Symbol">{</a><a id="31441" href="Coherence.Hypotheses.html#30479" class="Field">x</a><a id="31442" class="Symbol">}</a> <a id="31444" class="Symbol">(</a><a id="31445" href="Coherence.Hypotheses.html#31174" class="Bound">n⊆</a> <a id="31448" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a><a id="31449" class="Symbol">)</a> <a id="31451" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="31453" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="31460" class="Symbol">{</a><a id="31461" href="Coherence.Hypotheses.html#30484" class="Field">x′</a><a id="31463" class="Symbol">}</a> <a id="31465" class="Symbol">(</a><a id="31466" href="Coherence.Hypotheses.html#31174" class="Bound">n⊆</a> <a id="31469" href="Prelude.Membership.Patterns.html#144" class="InductiveConstructor">𝟙</a><a id="31470" class="Symbol">)</a> <a id="31472" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
          <a id="31484" class="Symbol">;</a> <a id="31486" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="31494" class="Symbol">=</a> <a id="31496" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
          <a id="31511" class="Symbol">;</a> <a id="31513" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="31521" class="Symbol">=</a> <a id="31523" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="31535" class="Number">0</a>
          <a id="31547" class="Symbol">;</a> <a id="31549" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="31557" class="Symbol">=</a> <a id="31559" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="31561" class="Symbol">(</a><a id="31562" href="Coherence.Hypotheses.html#30477" class="Field">v</a> <a id="31564" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="31566" href="Coherence.Hypotheses.html#30481" class="Field">v′</a><a id="31568" class="Symbol">)</a> <a id="31570" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="31584" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="31587" href="Coherence.Hypotheses.html#30475" class="Field">A</a> <a id="31589" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
          <a id="31601" class="Symbol">;</a> <a id="31603" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="31611" class="Symbol">=</a> <a id="31613" class="Number">0</a> <a id="31615" class="Symbol">}</a>
        <a id="31625" href="Coherence.Hypotheses.html#31625" class="Bound">λᶜ</a> <a id="31628" class="Symbol">=</a> <a id="31630" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="31637" href="Coherence.Hypotheses.html#31333" class="Bound">T</a>

        <a id="31648" class="Comment">-- (iii) extend txout′ with y↦T₀ (removing {x↦_;x′↦_}),</a>
        <a id="31712" class="Comment">--       sechash = sechash′, κ = κ′</a>
        <a id="31756" class="Keyword">open</a> <a id="31761" href="Coherence.Hypotheses.html#30857" class="Module">H₁₁</a> <a id="31765" href="Coherence.Hypotheses.html#31117" class="Bound">h</a> <a id="31767" class="Symbol">(</a><a id="31768" href="Coherence.Hypotheses.html#31333" class="Bound">T</a> <a id="31770" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="31773" class="Number">0</a><a id="31774" class="Symbol">)</a> <a id="31776" class="Keyword">using</a> <a id="31782" class="Symbol">(</a><a id="31783" href="Coherence.Hypotheses.html#31020" class="Function">λˢ</a><a id="31785" class="Symbol">)</a>
      <a id="31793" class="Keyword">in</a>
      <a id="31802" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="31862" href="Coherence.Hypotheses.html#2177" class="Function">Γₜ″</a> <a id="31866" href="Coherence.Hypotheses.html#31074" class="Datatype Operator">⨾</a> <a id="31868" href="Coherence.Hypotheses.html#2116" class="Function">𝕣∗</a> <a id="31871" href="Coherence.Hypotheses.html#31074" class="Datatype Operator">⨾</a> <a id="31873" class="Symbol">(</a><a id="31874" href="Coherence.Hypotheses.html#2263" class="Function">𝕒</a> <a id="31876" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="31878" href="Coherence.Hypotheses.html#31020" class="Function">λˢ</a><a id="31880" class="Symbol">)</a> <a id="31882" href="Coherence.Hypotheses.html#31074" class="Datatype Operator">~ℍ[11]~</a> <a id="31890" href="Coherence.Hypotheses.html#31625" class="Bound">λᶜ</a> <a id="31893" href="Coherence.Hypotheses.html#31074" class="Datatype Operator">⨾</a> <a id="31895" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a>

<a id="31899" class="Comment">-- ** Deposits: authorize divide (similar to [10])</a>
<a id="31950" class="Keyword">record</a> <a id="H₁₂-args"></a><a id="31957" href="Coherence.Hypotheses.html#31957" class="Record">H₁₂-args</a> <a id="31966" class="Symbol">:</a> <a id="31968" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="31973" class="Keyword">where</a>
  <a id="31981" class="Keyword">constructor</a> <a id="mk"></a><a id="31993" href="Coherence.Hypotheses.html#31993" class="InductiveConstructor">mk</a>
  <a id="31998" class="Keyword">field</a>
    <a id="32008" class="Symbol">{</a><a id="H₁₂-args.A"></a><a id="32009" href="Coherence.Hypotheses.html#32009" class="Field">A</a> <a id="H₁₂-args.v"></a><a id="32011" href="Coherence.Hypotheses.html#32011" class="Field">v</a> <a id="H₁₂-args.v′"></a><a id="32013" href="Coherence.Hypotheses.html#32013" class="Field">v′</a> <a id="H₁₂-args.x"></a><a id="32016" href="Coherence.Hypotheses.html#32016" class="Field">x</a> <a id="H₁₂-args.Γ₀"></a><a id="32018" href="Coherence.Hypotheses.html#32018" class="Field">Γ₀</a> <a id="H₁₂-args.t"></a><a id="32021" href="Coherence.Hypotheses.html#32021" class="Field">t</a><a id="32022" class="Symbol">}</a> <a id="32024" class="Symbol">:</a> <a id="32026" class="Symbol">_</a>
  <a id="32030" class="Keyword">open</a> <a id="32035" href="Coherence.Hypotheses.html#1742" class="Module">Transition</a>
    <a id="32050" class="Symbol">(</a> <a id="32052" class="Symbol">(</a><a id="32053" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="32055" href="Coherence.Hypotheses.html#32009" class="Field">A</a> <a id="32057" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="32061" class="Symbol">(</a><a id="32062" href="Coherence.Hypotheses.html#32011" class="Field">v</a> <a id="32064" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="32066" href="Coherence.Hypotheses.html#32013" class="Field">v′</a><a id="32068" class="Symbol">)</a> <a id="32070" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="32074" href="Coherence.Hypotheses.html#32016" class="Field">x</a> <a id="32076" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="32078" href="Coherence.Hypotheses.html#32018" class="Field">Γ₀</a><a id="32080" class="Symbol">)</a> <a id="32082" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="32084" href="Coherence.Hypotheses.html#32021" class="Field">t</a>
      <a id="32092" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">——</a> <a id="32095" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">auth-divide⦅</a> <a id="32108" href="Coherence.Hypotheses.html#32009" class="Field">A</a> <a id="32110" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">,</a> <a id="32112" href="Coherence.Hypotheses.html#32016" class="Field">x</a> <a id="32114" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">▷</a> <a id="32116" href="Coherence.Hypotheses.html#32011" class="Field">v</a> <a id="32118" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">,</a> <a id="32120" href="Coherence.Hypotheses.html#32013" class="Field">v′</a> <a id="32123" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">⦆</a> <a id="32125" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">—→</a>
      <a id="32134" class="Symbol">(</a><a id="32135" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="32137" href="Coherence.Hypotheses.html#32009" class="Field">A</a> <a id="32139" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="32143" class="Symbol">(</a><a id="32144" href="Coherence.Hypotheses.html#32011" class="Field">v</a> <a id="32146" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="32148" href="Coherence.Hypotheses.html#32013" class="Field">v′</a><a id="32150" class="Symbol">)</a> <a id="32152" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="32156" href="Coherence.Hypotheses.html#32016" class="Field">x</a> <a id="32158" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="32160" href="Coherence.Hypotheses.html#32009" class="Field">A</a> <a id="32162" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="32168" href="Coherence.Hypotheses.html#32016" class="Field">x</a> <a id="32170" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">▷⟨</a> <a id="32173" href="Coherence.Hypotheses.html#32009" class="Field">A</a> <a id="32175" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="32177" href="Coherence.Hypotheses.html#32011" class="Field">v</a> <a id="32179" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="32181" href="Coherence.Hypotheses.html#32013" class="Field">v′</a> <a id="32184" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">⟩</a> <a id="32186" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="32188" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="32190" href="Coherence.Hypotheses.html#32018" class="Field">Γ₀</a><a id="32192" class="Symbol">)</a> <a id="32194" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="32196" href="Coherence.Hypotheses.html#32021" class="Field">t</a>
    <a id="32202" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⊣</a> <a id="32204" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="32208" href="BitML.Semantics.InferenceRules.html#1683" class="InductiveConstructor">[DEP-AuthDivide]</a>
    <a id="32229" class="Symbol">)</a> <a id="32231" class="Keyword">public</a> <a id="32238" class="Keyword">hiding</a> <a id="32245" class="Symbol">(</a><a id="32246" href="Coherence.Hypotheses.html#1819" class="Field">t</a><a id="32247" class="Symbol">)</a>
  <a id="32251" class="Keyword">field</a> <a id="H₁₂-args.𝕙r"></a><a id="32257" href="Coherence.Hypotheses.html#32257" class="Field">𝕙r</a> <a id="32260" class="Symbol">:</a> <a id="32262" href="Coherence.Hypotheses.html#1958" class="Record">ℍ-Run</a> <a id="32268" href="Coherence.Hypotheses.html#1929" class="Function">Γ→</a>
  <a id="32273" class="Keyword">open</a> <a id="32278" href="Coherence.Hypotheses.html#1958" class="Module">ℍ-Run</a> <a id="32284" href="Coherence.Hypotheses.html#32257" class="Field">𝕙r</a> <a id="32287" class="Keyword">public</a>

<a id="32295" class="Keyword">module</a> <a id="32302" href="Coherence.Hypotheses.html#32302" class="Module">H₁₂</a> <a id="32306" class="Symbol">(</a><a id="32307" href="Coherence.Hypotheses.html#32307" class="Bound">⋯</a> <a id="32309" class="Symbol">:</a> <a id="32311" href="Coherence.Hypotheses.html#31957" class="Record">H₁₂-args</a><a id="32319" class="Symbol">)</a> <a id="32321" class="Symbol">(</a><a id="32322" class="Keyword">open</a> <a id="32327" href="Coherence.Hypotheses.html#31957" class="Module">H₁₂-args</a> <a id="32336" href="Coherence.Hypotheses.html#32307" class="Bound">⋯</a><a id="32337" class="Symbol">)</a> <a id="32339" class="Keyword">where</a>
  <a id="32347" href="Coherence.Hypotheses.html#32347" class="Function">λˢ</a> <a id="32350" class="Symbol">:</a> <a id="32352" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="32355" href="Coherence.Hypotheses.html#1895" class="Function">Γₜ′</a>
  <a id="32361" href="Coherence.Hypotheses.html#32347" class="Function">λˢ</a> <a id="32364" class="Symbol">=</a> <a id="32366" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="32372" href="Coherence.Hypotheses.html#2229" class="Function">𝕣</a> <a id="32374" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="32376" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="32379" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="32382" href="Function.Base.html#624" class="Function">id</a> <a id="32385" href="Function.Base.html#624" class="Function">id</a> <a id="32388" href="Function.Base.html#624" class="Function">id</a>

<a id="32392" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[12]~_⨾_"></a><a id="32397" href="Coherence.Hypotheses.html#32397" class="Datatype Operator">_⨾_⨾_~ℍ[12]~_⨾_</a> <a id="32413" class="Symbol">:</a> <a id="32415" href="Coherence.Hypotheses.html#1602" class="Function">StepRel</a> <a id="32423" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[12]~_⨾_.mkℍ"></a><a id="32431" href="Coherence.Hypotheses.html#32431" class="InductiveConstructor">mkℍ</a> <a id="32435" class="Symbol">:</a> <a id="32437" class="Symbol">∀</a> <a id="32439" class="Symbol">{</a><a id="32440" href="Coherence.Hypotheses.html#32440" class="Bound">h</a> <a id="32442" class="Symbol">:</a> <a id="32444" href="Coherence.Hypotheses.html#31957" class="Record">H₁₂-args</a><a id="32452" class="Symbol">}</a> <a id="32454" class="Symbol">{</a><a id="32455" href="Coherence.Hypotheses.html#32455" class="Bound">B</a><a id="32456" class="Symbol">}</a>
    <a id="32462" class="Symbol">→</a> <a id="32464" class="Keyword">let</a>
        <a id="32476" class="Keyword">open</a> <a id="32481" href="Coherence.Hypotheses.html#31957" class="Module">H₁₂-args</a> <a id="32490" href="Coherence.Hypotheses.html#32440" class="Bound">h</a>

        <a id="32501" href="Coherence.Hypotheses.html#32501" class="Bound">n⊆</a> <a id="32504" class="Symbol">:</a> <a id="32506" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="32508" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="32511" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="32515" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="32517" href="Coherence.Hypotheses.html#2103" class="Function">Rˢ</a>
        <a id="32528" href="Coherence.Hypotheses.html#32501" class="Bound">n⊆</a>  <a id="32532" class="Symbol">=</a> <a id="32534" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="32547" href="Coherence.Hypotheses.html#2103" class="Function">Rˢ</a>
            <a id="32562" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="32564" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="32579" class="Symbol">_</a> <a id="32581" class="Symbol">{</a><a id="32582" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a><a id="32583" class="Symbol">}{</a><a id="32585" href="Coherence.Hypotheses.html#2103" class="Function">Rˢ</a> <a id="32588" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="32592" class="Symbol">}</a> <a id="32594" class="Symbol">(</a><a id="32595" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="32601" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="32603" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="32606" class="Symbol">.</a><a id="32607" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="32612" class="Symbol">)</a>
      <a id="32620" class="Keyword">in</a>
    <a id="32627" class="Symbol">∀</a> <a id="32629" class="Symbol">(</a><a id="32630" href="Coherence.Hypotheses.html#32630" class="Bound">∃B</a> <a id="32633" class="Symbol">:</a> <a id="32635" href="Data.Product.html#1378" class="Function">∃</a> <a id="32637" class="Symbol">λ</a> <a id="32639" href="Coherence.Hypotheses.html#32639" class="Bound">B</a> <a id="32641" class="Symbol">→</a> <a id="32643" href="Data.Product.html#1378" class="Function">∃</a> <a id="32645" class="Symbol">λ</a> <a id="32647" class="Symbol">(</a><a id="32648" href="Coherence.Hypotheses.html#32648" class="Bound">T</a> <a id="32650" class="Symbol">:</a> <a id="32652" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="32655" class="Number">1</a> <a id="32657" class="Number">2</a><a id="32658" class="Symbol">)</a> <a id="32660" class="Symbol">→</a>
         <a id="32671" class="Symbol">(</a><a id="32672" href="Coherence.Hypotheses.html#32639" class="Bound">B</a> <a id="32674" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="32678" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="32685" href="Coherence.Hypotheses.html#32648" class="Bound">T</a> <a id="32687" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="32689" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="32696" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a><a id="32698" class="Symbol">)</a>
       <a id="32707" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="32709" class="Symbol">(</a><a id="32710" href="Coherence.Hypotheses.html#32648" class="Bound">T</a> <a id="32712" class="Symbol">.</a><a id="32713" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="32721" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="32723" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="32725" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="32733" class="Symbol">(</a><a id="32734" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="32741" class="Symbol">{</a><a id="32742" href="Coherence.Hypotheses.html#32016" class="Function">x</a><a id="32743" class="Symbol">}</a> <a id="32745" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="32747" href="Coherence.Hypotheses.html#32501" class="Bound">n⊆</a> <a id="32750" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a><a id="32751" class="Symbol">)</a> <a id="32753" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="32754" class="Symbol">)</a>
       <a id="32763" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="32765" class="Symbol">(</a><a id="32766" href="Coherence.Hypotheses.html#32648" class="Bound">T</a> <a id="32768" class="Symbol">.</a><a id="32769" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="32777" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="32779" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="32781" href="Coherence.Hypotheses.html#32011" class="Function">v</a> <a id="32783" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="32797" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="32800" href="Coherence.Hypotheses.html#32009" class="Function">A</a> <a id="32802" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="32804" href="Coherence.Hypotheses.html#32013" class="Function">v′</a> <a id="32807" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="32821" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="32824" href="Coherence.Hypotheses.html#32009" class="Function">A</a> <a id="32826" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a><a id="32827" class="Symbol">))</a>
    <a id="32834" class="Symbol">→</a> <a id="32836" class="Keyword">let</a>
        <a id="32848" class="Comment">-- (iii) broadcast transaction T, signed by A</a>
        <a id="32902" class="Symbol">_</a> <a id="32904" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="32906" href="Coherence.Hypotheses.html#32906" class="Bound">T</a> <a id="32908" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="32910" href="Coherence.Hypotheses.html#32910" class="Bound">B∈</a> <a id="32913" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="32915" class="Symbol">_</a> <a id="32917" class="Symbol">=</a> <a id="32919" href="Coherence.Hypotheses.html#32630" class="Bound">∃B</a>
        <a id="32930" href="Coherence.Hypotheses.html#32930" class="Bound">m′</a> <a id="32933" class="Symbol">=</a> <a id="32935" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="32939" class="Symbol">(</a><a id="32940" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="32943" href="Coherence.Hypotheses.html#32009" class="Function">A</a><a id="32944" class="Symbol">)</a> <a id="32946" class="Symbol">(</a><a id="32947" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a> <a id="32951" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="32953" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="32956" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="32959" href="Coherence.Hypotheses.html#32906" class="Bound">T</a><a id="32960" class="Symbol">)</a>
        <a id="32970" href="Coherence.Hypotheses.html#32970" class="Bound">λᶜ</a> <a id="32973" class="Symbol">=</a> <a id="32975" href="Coherence.Hypotheses.html#32455" class="Bound">B</a> <a id="32977" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="32981" href="Coherence.Hypotheses.html#32930" class="Bound">m′</a>

        <a id="32993" class="Comment">-- (v) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="33051" class="Keyword">open</a> <a id="33056" href="Coherence.Hypotheses.html#32302" class="Module">H₁₂</a> <a id="33060" href="Coherence.Hypotheses.html#32440" class="Bound">h</a> <a id="33062" class="Keyword">using</a> <a id="33068" class="Symbol">(</a><a id="33069" href="Coherence.Hypotheses.html#32347" class="Function">λˢ</a><a id="33071" class="Symbol">)</a>
      <a id="33079" class="Keyword">in</a>

    <a id="33087" class="Comment">-- (iv) λᶜ is the first broadcast of m′ in Rᶜ after the first broadcast of T</a>
    <a id="33168" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="33170" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="33174" class="Symbol">(λ</a> <a id="33177" href="Coherence.Hypotheses.html#33177" class="Bound">l</a> <a id="33179" class="Symbol">→</a> <a id="33181" class="Symbol">∀</a> <a id="33183" href="Coherence.Hypotheses.html#33183" class="Bound">B</a> <a id="33185" class="Symbol">→</a> <a id="33187" href="Coherence.Hypotheses.html#33177" class="Bound">l</a> <a id="33189" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="33191" href="Coherence.Hypotheses.html#33183" class="Bound">B</a> <a id="33193" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="33197" href="Coherence.Hypotheses.html#32930" class="Bound">m′</a><a id="33199" class="Symbol">)</a> <a id="33201" class="Symbol">(</a><a id="33202" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="33212" href="Coherence.Hypotheses.html#32910" class="Bound">B∈</a><a id="33214" class="Symbol">)</a>

      <a id="33223" href="Prelude.InferenceRules.html#11978" class="Function Operator">─────────────────────────────────────────────────────────────────</a>
      <a id="33295" href="Coherence.Hypotheses.html#2177" class="Function">Γₜ″</a> <a id="33299" href="Coherence.Hypotheses.html#32397" class="Datatype Operator">⨾</a> <a id="33301" href="Coherence.Hypotheses.html#2116" class="Function">𝕣∗</a> <a id="33304" href="Coherence.Hypotheses.html#32397" class="Datatype Operator">⨾</a> <a id="33306" class="Symbol">(</a><a id="33307" href="Coherence.Hypotheses.html#2263" class="Function">𝕒</a> <a id="33309" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="33311" href="Coherence.Hypotheses.html#32347" class="Function">λˢ</a><a id="33313" class="Symbol">)</a> <a id="33315" href="Coherence.Hypotheses.html#32397" class="Datatype Operator">~ℍ[12]~</a> <a id="33323" href="Coherence.Hypotheses.html#32970" class="Bound">λᶜ</a> <a id="33326" href="Coherence.Hypotheses.html#32397" class="Datatype Operator">⨾</a> <a id="33328" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a>

<a id="33332" class="Comment">-- ** Deposits: divide (similar to [11])</a>
<a id="33373" class="Keyword">record</a> <a id="H₁₃-args"></a><a id="33380" href="Coherence.Hypotheses.html#33380" class="Record">H₁₃-args</a> <a id="33389" class="Symbol">:</a> <a id="33391" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="33396" class="Keyword">where</a>
  <a id="33404" class="Keyword">constructor</a> <a id="mk"></a><a id="33416" href="Coherence.Hypotheses.html#33416" class="InductiveConstructor">mk</a>
  <a id="33421" class="Keyword">field</a>
    <a id="33431" class="Symbol">{</a><a id="H₁₃-args.A"></a><a id="33432" href="Coherence.Hypotheses.html#33432" class="Field">A</a> <a id="H₁₃-args.v"></a><a id="33434" href="Coherence.Hypotheses.html#33434" class="Field">v</a> <a id="H₁₃-args.v′"></a><a id="33436" href="Coherence.Hypotheses.html#33436" class="Field">v′</a> <a id="H₁₃-args.x"></a><a id="33439" href="Coherence.Hypotheses.html#33439" class="Field">x</a> <a id="H₁₃-args.Γ₀"></a><a id="33441" href="Coherence.Hypotheses.html#33441" class="Field">Γ₀</a> <a id="H₁₃-args.y"></a><a id="33444" href="Coherence.Hypotheses.html#33444" class="Field">y</a> <a id="H₁₃-args.y′"></a><a id="33446" href="Coherence.Hypotheses.html#33446" class="Field">y′</a> <a id="H₁₃-args.t"></a><a id="33449" href="Coherence.Hypotheses.html#33449" class="Field">t</a><a id="33450" class="Symbol">}</a> <a id="33452" class="Symbol">:</a> <a id="33454" class="Symbol">_</a>
  <a id="33458" class="Keyword">field</a>
    <a id="33468" class="Comment">-- Hypotheses from [DEP-Divide]</a>
    <a id="H₁₃-args.fresh-ys"></a><a id="33504" href="Coherence.Hypotheses.html#33504" class="Field">fresh-ys</a> <a id="33513" class="Symbol">:</a> <a id="33515" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="33519" class="Symbol">(</a><a id="33520" href="Data.List.Membership.Setoid.html#945" class="Function Operator">_∉</a> <a id="33523" href="Coherence.Hypotheses.html#33439" class="Field">x</a> <a id="33525" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="33529" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="33533" href="Coherence.Hypotheses.html#33441" class="Field">Γ₀</a> <a id="33536" class="Symbol">)</a> <a id="33538" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="33540" href="Coherence.Hypotheses.html#33444" class="Field">y</a> <a id="33542" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="33544" href="Coherence.Hypotheses.html#33446" class="Field">y′</a> <a id="33547" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
  <a id="33551" class="Keyword">open</a> <a id="33556" href="Coherence.Hypotheses.html#1742" class="Module">Transition</a>
    <a id="33571" class="Symbol">(</a> <a id="33573" class="Symbol">(</a><a id="33574" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="33576" href="Coherence.Hypotheses.html#33432" class="Field">A</a> <a id="33578" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="33582" class="Symbol">(</a><a id="33583" href="Coherence.Hypotheses.html#33434" class="Field">v</a> <a id="33585" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="33587" href="Coherence.Hypotheses.html#33436" class="Field">v′</a><a id="33589" class="Symbol">)</a> <a id="33591" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="33595" href="Coherence.Hypotheses.html#33439" class="Field">x</a> <a id="33597" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="33599" href="Coherence.Hypotheses.html#33432" class="Field">A</a> <a id="33601" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="33607" href="Coherence.Hypotheses.html#33439" class="Field">x</a> <a id="33609" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">▷⟨</a> <a id="33612" href="Coherence.Hypotheses.html#33432" class="Field">A</a> <a id="33614" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="33616" href="Coherence.Hypotheses.html#33434" class="Field">v</a> <a id="33618" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="33620" href="Coherence.Hypotheses.html#33436" class="Field">v′</a> <a id="33623" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">⟩</a> <a id="33625" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="33627" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="33629" href="Coherence.Hypotheses.html#33441" class="Field">Γ₀</a><a id="33631" class="Symbol">)</a> <a id="33633" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="33635" href="Coherence.Hypotheses.html#33449" class="Field">t</a>
      <a id="33643" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">——</a> <a id="33646" href="BitML.Semantics.Label.html#662" class="InductiveConstructor Operator">divide⦅</a> <a id="33654" href="Coherence.Hypotheses.html#33439" class="Field">x</a> <a id="33656" href="BitML.Semantics.Label.html#662" class="InductiveConstructor Operator">▷</a> <a id="33658" href="Coherence.Hypotheses.html#33434" class="Field">v</a> <a id="33660" href="BitML.Semantics.Label.html#662" class="InductiveConstructor Operator">,</a> <a id="33662" href="Coherence.Hypotheses.html#33436" class="Field">v′</a> <a id="33665" href="BitML.Semantics.Label.html#662" class="InductiveConstructor Operator">⦆</a> <a id="33667" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">—→</a>
      <a id="33676" class="Symbol">(</a><a id="33677" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="33679" href="Coherence.Hypotheses.html#33432" class="Field">A</a> <a id="33681" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="33685" href="Coherence.Hypotheses.html#33434" class="Field">v</a> <a id="33687" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="33691" href="Coherence.Hypotheses.html#33444" class="Field">y</a> <a id="33693" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="33695" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="33697" href="Coherence.Hypotheses.html#33432" class="Field">A</a> <a id="33699" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="33703" href="Coherence.Hypotheses.html#33436" class="Field">v′</a> <a id="33706" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="33710" href="Coherence.Hypotheses.html#33446" class="Field">y′</a> <a id="33713" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="33715" href="Coherence.Hypotheses.html#33441" class="Field">Γ₀</a><a id="33717" class="Symbol">)</a> <a id="33719" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="33721" href="Coherence.Hypotheses.html#33449" class="Field">t</a>
    <a id="33727" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⊣</a> <a id="33729" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="33733" class="Symbol">(</a><a id="33734" href="BitML.Semantics.InferenceRules.html#1902" class="InductiveConstructor">[DEP-Divide]</a> <a id="33747" href="Coherence.Hypotheses.html#33504" class="Field">fresh-ys</a><a id="33755" class="Symbol">)</a>
    <a id="33761" class="Symbol">)</a> <a id="33763" class="Keyword">public</a> <a id="33770" class="Keyword">hiding</a> <a id="33777" class="Symbol">(</a><a id="33778" href="Coherence.Hypotheses.html#1819" class="Field">t</a><a id="33779" class="Symbol">)</a>
  <a id="33783" class="Keyword">field</a> <a id="H₁₃-args.𝕙r"></a><a id="33789" href="Coherence.Hypotheses.html#33789" class="Field">𝕙r</a> <a id="33792" class="Symbol">:</a> <a id="33794" href="Coherence.Hypotheses.html#1958" class="Record">ℍ-Run</a> <a id="33800" href="Coherence.Hypotheses.html#1929" class="Function">Γ→</a>
  <a id="33805" class="Keyword">open</a> <a id="33810" href="Coherence.Hypotheses.html#1958" class="Module">ℍ-Run</a> <a id="33816" href="Coherence.Hypotheses.html#33789" class="Field">𝕙r</a> <a id="33819" class="Keyword">public</a>

<a id="33827" class="Keyword">module</a> <a id="33834" href="Coherence.Hypotheses.html#33834" class="Module">H₁₃</a> <a id="33838" class="Symbol">(</a><a id="33839" href="Coherence.Hypotheses.html#33839" class="Bound">⋯</a> <a id="33841" class="Symbol">:</a> <a id="33843" href="Coherence.Hypotheses.html#33380" class="Record">H₁₃-args</a><a id="33851" class="Symbol">)</a> <a id="33853" class="Symbol">(</a><a id="33854" class="Keyword">open</a> <a id="33859" href="Coherence.Hypotheses.html#33380" class="Module">H₁₃-args</a> <a id="33868" href="Coherence.Hypotheses.html#33839" class="Bound">⋯</a><a id="33869" class="Symbol">)</a> <a id="33871" class="Symbol">(</a><a id="33872" href="Coherence.Hypotheses.html#33872" class="Bound">tx</a> <a id="33875" href="Coherence.Hypotheses.html#33875" class="Bound">tx′</a> <a id="33879" class="Symbol">:</a> <a id="33881" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a><a id="33889" class="Symbol">)</a> <a id="33891" class="Keyword">where</a>
  <a id="33899" href="Coherence.Hypotheses.html#33899" class="Function">λˢ</a> <a id="33902" class="Symbol">:</a> <a id="33904" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="33907" href="Coherence.Hypotheses.html#1895" class="Function">Γₜ′</a>
  <a id="33913" href="Coherence.Hypotheses.html#33899" class="Function">λˢ</a> <a id="33916" class="Symbol">=</a> <a id="33918" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="33924" href="Coherence.Hypotheses.html#2229" class="Function">𝕣</a> <a id="33926" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="33928" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="33931" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="33934" href="Coherence.Hypotheses.html#33957" class="Function">txout↝</a> <a id="33941" href="Function.Base.html#624" class="Function">id</a> <a id="33944" href="Function.Base.html#624" class="Function">id</a>
    <a id="33951" class="Keyword">where</a> <a id="33957" href="Coherence.Hypotheses.html#33957" class="Function">txout↝</a> <a id="33964" class="Symbol">:</a> <a id="33966" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="33968" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="33971" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="33977" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="33979" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
          <a id="33992" href="Coherence.Hypotheses.html#33957" class="Function">txout↝</a> <a id="33999" href="Coherence.Hypotheses.html#33999" class="Bound">txout′</a> <a id="34006" class="Symbol">=</a> <a id="34008" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="34015" href="Coherence.Hypotheses.html#33444" class="Field">y</a> <a id="34017" href="Coherence.Hypotheses.html#33872" class="Bound">tx</a> <a id="34020" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="34022" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="34029" href="Coherence.Hypotheses.html#33446" class="Field">y′</a> <a id="34032" href="Coherence.Hypotheses.html#33875" class="Bound">tx′</a> <a id="34036" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="34038" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="34047" href="Coherence.Hypotheses.html#33999" class="Bound">txout′</a> <a id="34054" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a>

<a id="34061" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[13]~_⨾_"></a><a id="34066" href="Coherence.Hypotheses.html#34066" class="Datatype Operator">_⨾_⨾_~ℍ[13]~_⨾_</a> <a id="34082" class="Symbol">:</a> <a id="34084" href="Coherence.Hypotheses.html#1602" class="Function">StepRel</a> <a id="34092" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[13]~_⨾_.mkℍ"></a><a id="34100" href="Coherence.Hypotheses.html#34100" class="InductiveConstructor">mkℍ</a> <a id="34104" class="Symbol">:</a> <a id="34106" class="Symbol">∀</a> <a id="34108" class="Symbol">{</a><a id="34109" href="Coherence.Hypotheses.html#34109" class="Bound">h</a> <a id="34111" class="Symbol">:</a> <a id="34113" href="Coherence.Hypotheses.html#33380" class="Record">H₁₃-args</a><a id="34121" class="Symbol">}</a>
    <a id="34127" class="Symbol">→</a> <a id="34129" class="Keyword">let</a>
        <a id="34141" class="Keyword">open</a> <a id="34146" href="Coherence.Hypotheses.html#33380" class="Module">H₁₃-args</a> <a id="34155" href="Coherence.Hypotheses.html#34109" class="Bound">h</a>

        <a id="34166" href="Coherence.Hypotheses.html#34166" class="Bound">n⊆</a> <a id="34169" class="Symbol">:</a> <a id="34171" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="34173" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="34176" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="34180" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="34182" href="Coherence.Hypotheses.html#2103" class="Function">Rˢ</a>
        <a id="34193" href="Coherence.Hypotheses.html#34166" class="Bound">n⊆</a> <a id="34196" class="Symbol">=</a> <a id="34198" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="34211" href="Coherence.Hypotheses.html#2103" class="Function">Rˢ</a>
           <a id="34225" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="34227" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="34242" class="Symbol">_</a> <a id="34244" class="Symbol">{</a><a id="34245" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a><a id="34246" class="Symbol">}{</a><a id="34248" href="Coherence.Hypotheses.html#2103" class="Function">Rˢ</a> <a id="34251" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="34255" class="Symbol">}</a> <a id="34257" class="Symbol">(</a><a id="34258" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="34264" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="34266" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="34269" class="Symbol">.</a><a id="34270" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="34275" class="Symbol">)</a>

        <a id="34286" class="Comment">-- (iii) submit transaction T</a>
        <a id="34324" href="Coherence.Hypotheses.html#34324" class="Bound">T</a>  <a id="34327" class="Symbol">=</a> <a id="34329" class="Number">1</a> <a id="34331" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="34333" class="Number">2</a> <a id="34335" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="34337" href="Bitcoin.Tx.Crypto.html#1445" class="Function">sig⋆</a> <a id="34342" class="Symbol">(</a><a id="34343" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="34355" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="34357" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="34360" href="Coherence.Hypotheses.html#33432" class="Field">A</a> <a id="34362" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="34363" class="Symbol">)</a> <a id="34365" class="Keyword">record</a>
          <a id="34382" class="Symbol">{</a> <a id="34384" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="34392" class="Symbol">=</a> <a id="34394" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="34396" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="34404" class="Symbol">(</a><a id="34405" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="34412" class="Symbol">{</a><a id="34413" href="Coherence.Hypotheses.html#33439" class="Field">x</a><a id="34414" class="Symbol">}</a> <a id="34416" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="34418" href="Coherence.Hypotheses.html#34166" class="Bound">n⊆</a> <a id="34421" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a><a id="34422" class="Symbol">)</a> <a id="34424" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
          <a id="34436" class="Symbol">;</a> <a id="34438" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="34446" class="Symbol">=</a> <a id="34448" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
          <a id="34463" class="Symbol">;</a> <a id="34465" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="34473" class="Symbol">=</a> <a id="34475" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="34487" class="Number">0</a>
          <a id="34499" class="Symbol">;</a> <a id="34501" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="34509" class="Symbol">=</a> <a id="34511" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="34513" href="Coherence.Hypotheses.html#33434" class="Field">v</a> <a id="34515" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="34529" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="34532" href="Coherence.Hypotheses.html#33432" class="Field">A</a> <a id="34534" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="34536" href="Coherence.Hypotheses.html#33436" class="Field">v′</a> <a id="34539" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="34553" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="34556" href="Coherence.Hypotheses.html#33432" class="Field">A</a> <a id="34558" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
          <a id="34570" class="Symbol">;</a> <a id="34572" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="34580" class="Symbol">=</a> <a id="34582" class="Number">0</a> <a id="34584" class="Symbol">}</a>
        <a id="34594" href="Coherence.Hypotheses.html#34594" class="Bound">λᶜ</a> <a id="34597" class="Symbol">=</a> <a id="34599" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="34606" href="Coherence.Hypotheses.html#34324" class="Bound">T</a>

        <a id="34617" class="Comment">-- (v) extend txout′ with {y↦T₀, y′↦T₁} (removing x↦T₀),</a>
        <a id="34682" class="Comment">--     sechash = sechash′, κ = κ′</a>
        <a id="34724" class="Keyword">open</a> <a id="34729" href="Coherence.Hypotheses.html#33834" class="Module">H₁₃</a> <a id="34733" href="Coherence.Hypotheses.html#34109" class="Bound">h</a> <a id="34735" class="Symbol">(</a><a id="34736" href="Coherence.Hypotheses.html#34324" class="Bound">T</a> <a id="34738" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="34741" class="Number">0</a><a id="34742" class="Symbol">)</a> <a id="34744" class="Symbol">(</a><a id="34745" href="Coherence.Hypotheses.html#34324" class="Bound">T</a> <a id="34747" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="34750" class="Number">1</a><a id="34751" class="Symbol">)</a> <a id="34753" class="Keyword">using</a> <a id="34759" class="Symbol">(</a><a id="34760" href="Coherence.Hypotheses.html#33899" class="Function">λˢ</a><a id="34762" class="Symbol">)</a>
      <a id="34770" class="Keyword">in</a>
      <a id="34779" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="34839" href="Coherence.Hypotheses.html#2177" class="Function">Γₜ″</a> <a id="34843" href="Coherence.Hypotheses.html#34066" class="Datatype Operator">⨾</a> <a id="34845" href="Coherence.Hypotheses.html#2116" class="Function">𝕣∗</a> <a id="34848" href="Coherence.Hypotheses.html#34066" class="Datatype Operator">⨾</a> <a id="34850" class="Symbol">(</a><a id="34851" href="Coherence.Hypotheses.html#2263" class="Function">𝕒</a> <a id="34853" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="34855" href="Coherence.Hypotheses.html#33899" class="Function">λˢ</a><a id="34857" class="Symbol">)</a> <a id="34859" href="Coherence.Hypotheses.html#34066" class="Datatype Operator">~ℍ[13]~</a> <a id="34867" href="Coherence.Hypotheses.html#34594" class="Bound">λᶜ</a> <a id="34870" href="Coherence.Hypotheses.html#34066" class="Datatype Operator">⨾</a> <a id="34872" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a>

<a id="34876" class="Comment">-- ** Deposits: authorize donate (similar to [10])</a>
<a id="34927" class="Keyword">record</a> <a id="H₁₄-args"></a><a id="34934" href="Coherence.Hypotheses.html#34934" class="Record">H₁₄-args</a> <a id="34943" class="Symbol">:</a> <a id="34945" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="34950" class="Keyword">where</a>
  <a id="34958" class="Keyword">constructor</a> <a id="mk"></a><a id="34970" href="Coherence.Hypotheses.html#34970" class="InductiveConstructor">mk</a>
  <a id="34975" class="Keyword">field</a>
    <a id="34985" class="Symbol">{</a><a id="H₁₄-args.A"></a><a id="34986" href="Coherence.Hypotheses.html#34986" class="Field">A</a> <a id="H₁₄-args.v"></a><a id="34988" href="Coherence.Hypotheses.html#34988" class="Field">v</a> <a id="H₁₄-args.x"></a><a id="34990" href="Coherence.Hypotheses.html#34990" class="Field">x</a> <a id="H₁₄-args.Γ₀"></a><a id="34992" href="Coherence.Hypotheses.html#34992" class="Field">Γ₀</a> <a id="H₁₄-args.B′"></a><a id="34995" href="Coherence.Hypotheses.html#34995" class="Field">B′</a> <a id="H₁₄-args.t"></a><a id="34998" href="Coherence.Hypotheses.html#34998" class="Field">t</a><a id="34999" class="Symbol">}</a> <a id="35001" class="Symbol">:</a> <a id="35003" class="Symbol">_</a>
  <a id="35007" class="Keyword">open</a> <a id="35012" href="Coherence.Hypotheses.html#1742" class="Module">Transition</a>
    <a id="35027" class="Symbol">(</a> <a id="35029" class="Symbol">(</a><a id="35030" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="35032" href="Coherence.Hypotheses.html#34986" class="Field">A</a> <a id="35034" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="35038" href="Coherence.Hypotheses.html#34988" class="Field">v</a> <a id="35040" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="35044" href="Coherence.Hypotheses.html#34990" class="Field">x</a> <a id="35046" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="35048" href="Coherence.Hypotheses.html#34992" class="Field">Γ₀</a><a id="35050" class="Symbol">)</a> <a id="35052" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="35054" href="Coherence.Hypotheses.html#34998" class="Field">t</a>
      <a id="35062" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">——</a> <a id="35065" href="BitML.Semantics.Label.html#726" class="InductiveConstructor Operator">auth-donate⦅</a> <a id="35078" href="Coherence.Hypotheses.html#34986" class="Field">A</a> <a id="35080" href="BitML.Semantics.Label.html#726" class="InductiveConstructor Operator">,</a> <a id="35082" href="Coherence.Hypotheses.html#34990" class="Field">x</a> <a id="35084" href="BitML.Semantics.Label.html#726" class="InductiveConstructor Operator">▷ᵈ</a> <a id="35087" href="Coherence.Hypotheses.html#34995" class="Field">B′</a> <a id="35090" href="BitML.Semantics.Label.html#726" class="InductiveConstructor Operator">⦆</a> <a id="35092" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">—→</a>
      <a id="35101" class="Symbol">(</a><a id="35102" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="35104" href="Coherence.Hypotheses.html#34986" class="Field">A</a> <a id="35106" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="35110" href="Coherence.Hypotheses.html#34988" class="Field">v</a> <a id="35112" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="35116" href="Coherence.Hypotheses.html#34990" class="Field">x</a> <a id="35118" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="35120" href="Coherence.Hypotheses.html#34986" class="Field">A</a> <a id="35122" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="35128" href="Coherence.Hypotheses.html#34990" class="Field">x</a> <a id="35130" href="BitML.Semantics.Action.html#782" class="InductiveConstructor Operator">▷ᵈ</a> <a id="35133" href="Coherence.Hypotheses.html#34995" class="Field">B′</a> <a id="35136" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="35138" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="35140" href="Coherence.Hypotheses.html#34992" class="Field">Γ₀</a><a id="35142" class="Symbol">)</a> <a id="35144" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="35146" href="Coherence.Hypotheses.html#34998" class="Field">t</a>
    <a id="35152" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⊣</a> <a id="35154" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="35158" href="BitML.Semantics.InferenceRules.html#2170" class="InductiveConstructor">[DEP-AuthDonate]</a>
    <a id="35179" class="Symbol">)</a> <a id="35181" class="Keyword">public</a> <a id="35188" class="Keyword">hiding</a> <a id="35195" class="Symbol">(</a><a id="35196" href="Coherence.Hypotheses.html#1819" class="Field">t</a><a id="35197" class="Symbol">)</a>
  <a id="35201" class="Keyword">field</a> <a id="H₁₄-args.𝕙r"></a><a id="35207" href="Coherence.Hypotheses.html#35207" class="Field">𝕙r</a> <a id="35210" class="Symbol">:</a> <a id="35212" href="Coherence.Hypotheses.html#1958" class="Record">ℍ-Run</a> <a id="35218" href="Coherence.Hypotheses.html#1929" class="Function">Γ→</a>
  <a id="35223" class="Keyword">open</a> <a id="35228" href="Coherence.Hypotheses.html#1958" class="Module">ℍ-Run</a> <a id="35234" href="Coherence.Hypotheses.html#35207" class="Field">𝕙r</a> <a id="35237" class="Keyword">public</a>

<a id="35245" class="Keyword">module</a> <a id="35252" href="Coherence.Hypotheses.html#35252" class="Module">H₁₄</a> <a id="35256" class="Symbol">(</a><a id="35257" href="Coherence.Hypotheses.html#35257" class="Bound">⋯</a> <a id="35259" class="Symbol">:</a> <a id="35261" href="Coherence.Hypotheses.html#34934" class="Record">H₁₄-args</a><a id="35269" class="Symbol">)</a> <a id="35271" class="Symbol">(</a><a id="35272" class="Keyword">open</a> <a id="35277" href="Coherence.Hypotheses.html#34934" class="Module">H₁₄-args</a> <a id="35286" href="Coherence.Hypotheses.html#35257" class="Bound">⋯</a><a id="35287" class="Symbol">)</a> <a id="35289" class="Keyword">where</a>
  <a id="35297" href="Coherence.Hypotheses.html#35297" class="Function">λˢ</a> <a id="35300" class="Symbol">:</a> <a id="35302" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="35305" href="Coherence.Hypotheses.html#1895" class="Function">Γₜ′</a>
  <a id="35311" href="Coherence.Hypotheses.html#35297" class="Function">λˢ</a> <a id="35314" class="Symbol">=</a> <a id="35316" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="35322" href="Coherence.Hypotheses.html#2229" class="Function">𝕣</a> <a id="35324" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="35326" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="35329" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="35332" href="Function.Base.html#624" class="Function">id</a> <a id="35335" href="Function.Base.html#624" class="Function">id</a> <a id="35338" href="Function.Base.html#624" class="Function">id</a>

<a id="35342" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[14]~_⨾_"></a><a id="35347" href="Coherence.Hypotheses.html#35347" class="Datatype Operator">_⨾_⨾_~ℍ[14]~_⨾_</a> <a id="35363" class="Symbol">:</a> <a id="35365" href="Coherence.Hypotheses.html#1602" class="Function">StepRel</a> <a id="35373" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[14]~_⨾_.mkℍ"></a><a id="35381" href="Coherence.Hypotheses.html#35381" class="InductiveConstructor">mkℍ</a> <a id="35385" class="Symbol">:</a> <a id="35387" class="Symbol">∀</a> <a id="35389" class="Symbol">{</a><a id="35390" href="Coherence.Hypotheses.html#35390" class="Bound">h</a> <a id="35392" class="Symbol">:</a> <a id="35394" href="Coherence.Hypotheses.html#34934" class="Record">H₁₄-args</a><a id="35402" class="Symbol">}</a> <a id="35404" class="Symbol">{</a><a id="35405" href="Coherence.Hypotheses.html#35405" class="Bound">B</a><a id="35406" class="Symbol">}</a>
    <a id="35412" class="Symbol">→</a> <a id="35414" class="Keyword">let</a>
        <a id="35426" class="Keyword">open</a> <a id="35431" href="Coherence.Hypotheses.html#34934" class="Module">H₁₄-args</a> <a id="35440" href="Coherence.Hypotheses.html#35390" class="Bound">h</a>

        <a id="35451" href="Coherence.Hypotheses.html#35451" class="Bound">n⊆</a> <a id="35454" class="Symbol">:</a> <a id="35456" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="35458" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="35461" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="35465" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="35467" href="Coherence.Hypotheses.html#2103" class="Function">Rˢ</a>
        <a id="35478" href="Coherence.Hypotheses.html#35451" class="Bound">n⊆</a>  <a id="35482" class="Symbol">=</a> <a id="35484" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="35497" href="Coherence.Hypotheses.html#2103" class="Function">Rˢ</a>
            <a id="35512" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="35514" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="35529" class="Symbol">_</a> <a id="35531" class="Symbol">{</a><a id="35532" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a><a id="35533" class="Symbol">}{</a><a id="35535" href="Coherence.Hypotheses.html#2103" class="Function">Rˢ</a> <a id="35538" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="35542" class="Symbol">}</a> <a id="35544" class="Symbol">(</a><a id="35545" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="35551" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="35553" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="35556" class="Symbol">.</a><a id="35557" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="35562" class="Symbol">)</a>
      <a id="35570" class="Keyword">in</a>
    <a id="35577" class="Symbol">∀</a> <a id="35579" class="Symbol">(</a><a id="35580" href="Coherence.Hypotheses.html#35580" class="Bound">∃B</a> <a id="35583" class="Symbol">:</a> <a id="35585" href="Data.Product.html#1378" class="Function">∃</a> <a id="35587" class="Symbol">λ</a> <a id="35589" href="Coherence.Hypotheses.html#35589" class="Bound">B</a> <a id="35591" class="Symbol">→</a> <a id="35593" href="Data.Product.html#1378" class="Function">∃</a> <a id="35595" class="Symbol">λ</a> <a id="35597" class="Symbol">(</a><a id="35598" href="Coherence.Hypotheses.html#35598" class="Bound">T</a> <a id="35600" class="Symbol">:</a> <a id="35602" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="35605" class="Number">1</a> <a id="35607" class="Number">1</a><a id="35608" class="Symbol">)</a> <a id="35610" class="Symbol">→</a>
         <a id="35621" class="Symbol">(</a><a id="35622" href="Coherence.Hypotheses.html#35589" class="Bound">B</a> <a id="35624" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="35628" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="35635" href="Coherence.Hypotheses.html#35598" class="Bound">T</a> <a id="35637" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="35639" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="35646" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a><a id="35648" class="Symbol">)</a>
       <a id="35657" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="35659" class="Symbol">(</a><a id="35660" href="Coherence.Hypotheses.html#35598" class="Bound">T</a> <a id="35662" class="Symbol">.</a><a id="35663" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="35671" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="35673" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="35675" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="35683" class="Symbol">(</a><a id="35684" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="35691" class="Symbol">{</a><a id="35692" href="Coherence.Hypotheses.html#34990" class="Function">x</a><a id="35693" class="Symbol">}</a> <a id="35695" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="35697" href="Coherence.Hypotheses.html#35451" class="Bound">n⊆</a> <a id="35700" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a><a id="35701" class="Symbol">)</a> <a id="35703" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="35704" class="Symbol">)</a>
       <a id="35713" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="35715" class="Symbol">(</a><a id="35716" href="Coherence.Hypotheses.html#35598" class="Bound">T</a> <a id="35718" class="Symbol">.</a><a id="35719" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="35727" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="35729" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="35731" href="Coherence.Hypotheses.html#34988" class="Function">v</a> <a id="35733" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="35747" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="35750" href="Coherence.Hypotheses.html#34995" class="Function">B′</a> <a id="35753" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="35754" class="Symbol">))</a>
    <a id="35761" class="Symbol">→</a> <a id="35763" class="Keyword">let</a>
        <a id="35775" class="Comment">-- (iii) broadcast transaction T, signed by A</a>
        <a id="35829" class="Symbol">_</a> <a id="35831" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="35833" href="Coherence.Hypotheses.html#35833" class="Bound">T</a> <a id="35835" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="35837" href="Coherence.Hypotheses.html#35837" class="Bound">B∈</a> <a id="35840" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="35842" class="Symbol">_</a> <a id="35844" class="Symbol">=</a> <a id="35846" href="Coherence.Hypotheses.html#35580" class="Bound">∃B</a>
        <a id="35857" href="Coherence.Hypotheses.html#35857" class="Bound">m′</a> <a id="35860" class="Symbol">=</a> <a id="35862" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="35866" class="Symbol">(</a><a id="35867" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="35870" href="Coherence.Hypotheses.html#34986" class="Function">A</a><a id="35871" class="Symbol">)</a> <a id="35873" class="Symbol">(</a><a id="35874" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a> <a id="35878" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="35880" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="35883" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="35886" href="Coherence.Hypotheses.html#35833" class="Bound">T</a><a id="35887" class="Symbol">)</a>
        <a id="35897" href="Coherence.Hypotheses.html#35897" class="Bound">λᶜ</a> <a id="35900" class="Symbol">=</a> <a id="35902" href="Coherence.Hypotheses.html#35405" class="Bound">B</a> <a id="35904" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="35908" href="Coherence.Hypotheses.html#35857" class="Bound">m′</a>

        <a id="35920" class="Comment">-- (v) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="35978" class="Keyword">open</a> <a id="35983" href="Coherence.Hypotheses.html#35252" class="Module">H₁₄</a> <a id="35987" href="Coherence.Hypotheses.html#35390" class="Bound">h</a> <a id="35989" class="Keyword">using</a> <a id="35995" class="Symbol">(</a><a id="35996" href="Coherence.Hypotheses.html#35297" class="Function">λˢ</a><a id="35998" class="Symbol">)</a>
      <a id="36006" class="Keyword">in</a>

    <a id="36014" class="Comment">-- (iv) λᶜ is the first broadcast of m′ in Rᶜ after the first broadcast of T</a>
    <a id="36095" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="36097" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="36101" class="Symbol">(λ</a> <a id="36104" href="Coherence.Hypotheses.html#36104" class="Bound">l</a> <a id="36106" class="Symbol">→</a> <a id="36108" class="Symbol">∀</a> <a id="36110" href="Coherence.Hypotheses.html#36110" class="Bound">B</a> <a id="36112" class="Symbol">→</a> <a id="36114" href="Coherence.Hypotheses.html#36104" class="Bound">l</a> <a id="36116" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="36118" href="Coherence.Hypotheses.html#36110" class="Bound">B</a> <a id="36120" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="36124" href="Coherence.Hypotheses.html#35857" class="Bound">m′</a><a id="36126" class="Symbol">)</a> <a id="36128" class="Symbol">(</a><a id="36129" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="36139" href="Coherence.Hypotheses.html#35837" class="Bound">B∈</a><a id="36141" class="Symbol">)</a>

      <a id="36150" href="Prelude.InferenceRules.html#12447" class="Function Operator">──────────────────────────────────────────────────────────</a>
      <a id="36215" href="Coherence.Hypotheses.html#2177" class="Function">Γₜ″</a> <a id="36219" href="Coherence.Hypotheses.html#35347" class="Datatype Operator">⨾</a> <a id="36221" href="Coherence.Hypotheses.html#2116" class="Function">𝕣∗</a> <a id="36224" href="Coherence.Hypotheses.html#35347" class="Datatype Operator">⨾</a> <a id="36226" class="Symbol">(</a><a id="36227" href="Coherence.Hypotheses.html#2263" class="Function">𝕒</a> <a id="36229" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="36231" href="Coherence.Hypotheses.html#35297" class="Function">λˢ</a><a id="36233" class="Symbol">)</a> <a id="36235" href="Coherence.Hypotheses.html#35347" class="Datatype Operator">~ℍ[14]~</a> <a id="36243" href="Coherence.Hypotheses.html#35897" class="Bound">λᶜ</a> <a id="36246" href="Coherence.Hypotheses.html#35347" class="Datatype Operator">⨾</a> <a id="36248" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a>

<a id="36252" class="Comment">-- ** Deposits: donate (similar to [11])</a>
<a id="36293" class="Keyword">record</a> <a id="H₁₅-args"></a><a id="36300" href="Coherence.Hypotheses.html#36300" class="Record">H₁₅-args</a> <a id="36309" class="Symbol">:</a> <a id="36311" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="36316" class="Keyword">where</a>
  <a id="36324" class="Keyword">constructor</a> <a id="mk"></a><a id="36336" href="Coherence.Hypotheses.html#36336" class="InductiveConstructor">mk</a>
  <a id="36341" class="Keyword">field</a>
    <a id="36351" class="Symbol">{</a><a id="H₁₅-args.A"></a><a id="36352" href="Coherence.Hypotheses.html#36352" class="Field">A</a> <a id="H₁₅-args.v"></a><a id="36354" href="Coherence.Hypotheses.html#36354" class="Field">v</a> <a id="H₁₅-args.x"></a><a id="36356" href="Coherence.Hypotheses.html#36356" class="Field">x</a> <a id="H₁₅-args.B′"></a><a id="36358" href="Coherence.Hypotheses.html#36358" class="Field">B′</a> <a id="H₁₅-args.Γ₀"></a><a id="36361" href="Coherence.Hypotheses.html#36361" class="Field">Γ₀</a> <a id="H₁₅-args.y"></a><a id="36364" href="Coherence.Hypotheses.html#36364" class="Field">y</a> <a id="H₁₅-args.t"></a><a id="36366" href="Coherence.Hypotheses.html#36366" class="Field">t</a><a id="36367" class="Symbol">}</a> <a id="36369" class="Symbol">:</a> <a id="36371" class="Symbol">_</a>
  <a id="36375" class="Keyword">field</a>
    <a id="36385" class="Comment">-- Hypotheses from [DEP-Donate]</a>
    <a id="H₁₅-args.fresh-y"></a><a id="36421" href="Coherence.Hypotheses.html#36421" class="Field">fresh-y</a> <a id="36429" class="Symbol">:</a> <a id="36431" href="Coherence.Hypotheses.html#36364" class="Field">y</a> <a id="36433" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="36435" href="Coherence.Hypotheses.html#36356" class="Field">x</a> <a id="36437" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="36441" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="36445" href="Coherence.Hypotheses.html#36361" class="Field">Γ₀</a>
  <a id="36450" class="Keyword">open</a> <a id="36455" href="Coherence.Hypotheses.html#1742" class="Module">Transition</a>
    <a id="36470" class="Symbol">(</a> <a id="36472" class="Symbol">(</a><a id="36473" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="36475" href="Coherence.Hypotheses.html#36352" class="Field">A</a> <a id="36477" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="36481" href="Coherence.Hypotheses.html#36354" class="Field">v</a> <a id="36483" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="36487" href="Coherence.Hypotheses.html#36356" class="Field">x</a> <a id="36489" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="36491" href="Coherence.Hypotheses.html#36352" class="Field">A</a> <a id="36493" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="36499" href="Coherence.Hypotheses.html#36356" class="Field">x</a> <a id="36501" href="BitML.Semantics.Action.html#782" class="InductiveConstructor Operator">▷ᵈ</a> <a id="36504" href="Coherence.Hypotheses.html#36358" class="Field">B′</a> <a id="36507" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="36509" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="36511" href="Coherence.Hypotheses.html#36361" class="Field">Γ₀</a><a id="36513" class="Symbol">)</a> <a id="36515" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="36517" href="Coherence.Hypotheses.html#36366" class="Field">t</a>
      <a id="36525" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">——</a> <a id="36528" href="BitML.Semantics.Label.html#798" class="InductiveConstructor Operator">donate⦅</a> <a id="36536" href="Coherence.Hypotheses.html#36356" class="Field">x</a> <a id="36538" href="BitML.Semantics.Label.html#798" class="InductiveConstructor Operator">▷ᵈ</a> <a id="36541" href="Coherence.Hypotheses.html#36358" class="Field">B′</a> <a id="36544" href="BitML.Semantics.Label.html#798" class="InductiveConstructor Operator">⦆</a> <a id="36546" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">—→</a>
      <a id="36555" class="Symbol">(</a><a id="36556" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="36558" href="Coherence.Hypotheses.html#36358" class="Field">B′</a> <a id="36561" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="36565" href="Coherence.Hypotheses.html#36354" class="Field">v</a> <a id="36567" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="36571" href="Coherence.Hypotheses.html#36364" class="Field">y</a> <a id="36573" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="36575" href="Coherence.Hypotheses.html#36361" class="Field">Γ₀</a><a id="36577" class="Symbol">)</a> <a id="36579" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="36581" href="Coherence.Hypotheses.html#36366" class="Field">t</a>
    <a id="36587" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⊣</a> <a id="36589" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="36593" class="Symbol">(</a><a id="36594" href="BitML.Semantics.InferenceRules.html#2342" class="InductiveConstructor">[DEP-Donate]</a> <a id="36607" href="Coherence.Hypotheses.html#36421" class="Field">fresh-y</a><a id="36614" class="Symbol">)</a>
    <a id="36620" class="Symbol">)</a> <a id="36622" class="Keyword">public</a> <a id="36629" class="Keyword">hiding</a> <a id="36636" class="Symbol">(</a><a id="36637" href="Coherence.Hypotheses.html#1819" class="Field">t</a><a id="36638" class="Symbol">)</a>
  <a id="36642" class="Keyword">field</a> <a id="H₁₅-args.𝕙r"></a><a id="36648" href="Coherence.Hypotheses.html#36648" class="Field">𝕙r</a> <a id="36651" class="Symbol">:</a> <a id="36653" href="Coherence.Hypotheses.html#1958" class="Record">ℍ-Run</a> <a id="36659" href="Coherence.Hypotheses.html#1929" class="Function">Γ→</a>
  <a id="36664" class="Keyword">open</a> <a id="36669" href="Coherence.Hypotheses.html#1958" class="Module">ℍ-Run</a> <a id="36675" href="Coherence.Hypotheses.html#36648" class="Field">𝕙r</a> <a id="36678" class="Keyword">public</a>

<a id="36686" class="Keyword">module</a> <a id="36693" href="Coherence.Hypotheses.html#36693" class="Module">H₁₅</a> <a id="36697" class="Symbol">(</a><a id="36698" href="Coherence.Hypotheses.html#36698" class="Bound">⋯</a> <a id="36700" class="Symbol">:</a> <a id="36702" href="Coherence.Hypotheses.html#36300" class="Record">H₁₅-args</a><a id="36710" class="Symbol">)</a> <a id="36712" class="Symbol">(</a><a id="36713" class="Keyword">open</a> <a id="36718" href="Coherence.Hypotheses.html#36300" class="Module">H₁₅-args</a> <a id="36727" href="Coherence.Hypotheses.html#36698" class="Bound">⋯</a><a id="36728" class="Symbol">)</a> <a id="36730" class="Symbol">(</a><a id="36731" href="Coherence.Hypotheses.html#36731" class="Bound">tx</a> <a id="36734" class="Symbol">:</a> <a id="36736" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a><a id="36744" class="Symbol">)</a> <a id="36746" class="Keyword">where</a>
  <a id="36754" href="Coherence.Hypotheses.html#36754" class="Function">λˢ</a> <a id="36757" class="Symbol">:</a> <a id="36759" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="36762" href="Coherence.Hypotheses.html#1895" class="Function">Γₜ′</a>
  <a id="36768" href="Coherence.Hypotheses.html#36754" class="Function">λˢ</a> <a id="36771" class="Symbol">=</a> <a id="36773" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="36779" href="Coherence.Hypotheses.html#2229" class="Function">𝕣</a> <a id="36781" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="36783" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="36786" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="36789" href="Coherence.Hypotheses.html#36812" class="Function">txout↝</a> <a id="36796" href="Function.Base.html#624" class="Function">id</a> <a id="36799" href="Function.Base.html#624" class="Function">id</a>
    <a id="36806" class="Keyword">where</a> <a id="36812" href="Coherence.Hypotheses.html#36812" class="Function">txout↝</a> <a id="36819" class="Symbol">:</a> <a id="36821" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="36823" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="36826" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="36832" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="36834" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
          <a id="36847" href="Coherence.Hypotheses.html#36812" class="Function">txout↝</a> <a id="36854" href="Coherence.Hypotheses.html#36854" class="Bound">txout′</a> <a id="36861" class="Symbol">=</a> <a id="36863" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="36870" href="Coherence.Hypotheses.html#36364" class="Field">y</a> <a id="36872" href="Coherence.Hypotheses.html#36731" class="Bound">tx</a> <a id="36875" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="36877" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="36886" href="Coherence.Hypotheses.html#36854" class="Bound">txout′</a> <a id="36893" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a>

<a id="36900" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[15]~_⨾_"></a><a id="36905" href="Coherence.Hypotheses.html#36905" class="Datatype Operator">_⨾_⨾_~ℍ[15]~_⨾_</a> <a id="36921" class="Symbol">:</a> <a id="36923" href="Coherence.Hypotheses.html#1602" class="Function">StepRel</a> <a id="36931" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[15]~_⨾_.mkℍ"></a><a id="36939" href="Coherence.Hypotheses.html#36939" class="InductiveConstructor">mkℍ</a> <a id="36943" class="Symbol">:</a> <a id="36945" class="Symbol">∀</a> <a id="36947" class="Symbol">{</a><a id="36948" href="Coherence.Hypotheses.html#36948" class="Bound">h</a> <a id="36950" class="Symbol">:</a> <a id="36952" href="Coherence.Hypotheses.html#36300" class="Record">H₁₅-args</a><a id="36960" class="Symbol">}</a>
    <a id="36966" class="Symbol">→</a> <a id="36968" class="Keyword">let</a>
        <a id="36980" class="Keyword">open</a> <a id="36985" href="Coherence.Hypotheses.html#36300" class="Module">H₁₅-args</a> <a id="36994" href="Coherence.Hypotheses.html#36948" class="Bound">h</a>

        <a id="37005" href="Coherence.Hypotheses.html#37005" class="Bound">n⊆</a> <a id="37008" class="Symbol">:</a> <a id="37010" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="37012" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="37015" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="37019" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="37021" href="Coherence.Hypotheses.html#2103" class="Function">Rˢ</a>
        <a id="37032" href="Coherence.Hypotheses.html#37005" class="Bound">n⊆</a>  <a id="37036" class="Symbol">=</a> <a id="37038" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="37051" href="Coherence.Hypotheses.html#2103" class="Function">Rˢ</a>
            <a id="37066" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="37068" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="37083" class="Symbol">_</a> <a id="37085" class="Symbol">{</a><a id="37086" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a><a id="37087" class="Symbol">}{</a><a id="37089" href="Coherence.Hypotheses.html#2103" class="Function">Rˢ</a> <a id="37092" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="37096" class="Symbol">}</a> <a id="37098" class="Symbol">(</a><a id="37099" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="37105" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="37107" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="37110" class="Symbol">.</a><a id="37111" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="37116" class="Symbol">)</a>

        <a id="37127" class="Comment">-- (iii) submit transaction T</a>
        <a id="37165" href="Coherence.Hypotheses.html#37165" class="Bound">T</a>  <a id="37168" class="Symbol">=</a> <a id="37170" class="Number">1</a> <a id="37172" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="37174" class="Number">1</a> <a id="37176" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="37178" href="Bitcoin.Tx.Crypto.html#1445" class="Function">sig⋆</a> <a id="37183" class="Symbol">(</a><a id="37184" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="37196" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="37198" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="37201" href="Coherence.Hypotheses.html#36352" class="Field">A</a> <a id="37203" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="37204" class="Symbol">)</a> <a id="37206" class="Keyword">record</a>
          <a id="37223" class="Symbol">{</a> <a id="37225" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="37233" class="Symbol">=</a> <a id="37235" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="37237" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="37245" class="Symbol">(</a><a id="37246" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="37253" class="Symbol">{</a><a id="37254" href="Coherence.Hypotheses.html#36356" class="Field">x</a><a id="37255" class="Symbol">}</a> <a id="37257" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="37259" href="Coherence.Hypotheses.html#37005" class="Bound">n⊆</a> <a id="37262" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a><a id="37263" class="Symbol">)</a> <a id="37265" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
          <a id="37277" class="Symbol">;</a> <a id="37279" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="37287" class="Symbol">=</a> <a id="37289" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
          <a id="37304" class="Symbol">;</a> <a id="37306" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="37314" class="Symbol">=</a> <a id="37316" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="37328" class="Number">0</a>
          <a id="37340" class="Symbol">;</a> <a id="37342" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="37350" class="Symbol">=</a> <a id="37352" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="37354" href="Coherence.Hypotheses.html#36354" class="Field">v</a> <a id="37356" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="37370" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="37373" href="Coherence.Hypotheses.html#36358" class="Field">B′</a> <a id="37376" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
          <a id="37388" class="Symbol">;</a> <a id="37390" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="37398" class="Symbol">=</a> <a id="37400" class="Number">0</a> <a id="37402" class="Symbol">}</a>
        <a id="37412" href="Coherence.Hypotheses.html#37412" class="Bound">λᶜ</a> <a id="37415" class="Symbol">=</a> <a id="37417" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="37424" href="Coherence.Hypotheses.html#37165" class="Bound">T</a>

        <a id="37435" class="Comment">-- (v) extend txout′ with y↦T₀ (removing x↦T₀), sechash = sechash′, κ = κ′</a>
        <a id="37518" class="Keyword">open</a> <a id="37523" href="Coherence.Hypotheses.html#36693" class="Module">H₁₅</a> <a id="37527" href="Coherence.Hypotheses.html#36948" class="Bound">h</a> <a id="37529" class="Symbol">(</a><a id="37530" href="Coherence.Hypotheses.html#37165" class="Bound">T</a> <a id="37532" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="37535" class="Number">0</a><a id="37536" class="Symbol">)</a> <a id="37538" class="Keyword">using</a> <a id="37544" class="Symbol">(</a><a id="37545" href="Coherence.Hypotheses.html#36754" class="Function">λˢ</a><a id="37547" class="Symbol">)</a>
      <a id="37555" class="Keyword">in</a>
      <a id="37564" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="37624" href="Coherence.Hypotheses.html#2177" class="Function">Γₜ″</a> <a id="37628" href="Coherence.Hypotheses.html#36905" class="Datatype Operator">⨾</a> <a id="37630" href="Coherence.Hypotheses.html#2116" class="Function">𝕣∗</a> <a id="37633" href="Coherence.Hypotheses.html#36905" class="Datatype Operator">⨾</a> <a id="37635" class="Symbol">(</a><a id="37636" href="Coherence.Hypotheses.html#2263" class="Function">𝕒</a> <a id="37638" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="37640" href="Coherence.Hypotheses.html#36754" class="Function">λˢ</a><a id="37642" class="Symbol">)</a> <a id="37644" href="Coherence.Hypotheses.html#36905" class="Datatype Operator">~ℍ[15]~</a> <a id="37652" href="Coherence.Hypotheses.html#37412" class="Bound">λᶜ</a> <a id="37655" href="Coherence.Hypotheses.html#36905" class="Datatype Operator">⨾</a> <a id="37657" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a>

<a id="37661" class="Comment">-- ** Deposits: authorize destroy</a>
<a id="37695" class="Keyword">record</a> <a id="H₁₆-args"></a><a id="37702" href="Coherence.Hypotheses.html#37702" class="Record">H₁₆-args</a> <a id="37711" class="Symbol">:</a> <a id="37713" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="37718" class="Keyword">where</a>
  <a id="37726" class="Keyword">constructor</a> <a id="mk"></a><a id="37738" href="Coherence.Hypotheses.html#37738" class="InductiveConstructor">mk</a>
  <a id="37743" class="Keyword">field</a>
    <a id="37753" class="Symbol">{</a><a id="H₁₆-args.y"></a><a id="37754" href="Coherence.Hypotheses.html#37754" class="Field">y</a> <a id="H₁₆-args.Γ₀"></a><a id="37756" href="Coherence.Hypotheses.html#37756" class="Field">Γ₀</a> <a id="H₁₆-args.t"></a><a id="37759" href="Coherence.Hypotheses.html#37759" class="Field">t</a><a id="37760" class="Symbol">}</a> <a id="37762" class="Symbol">:</a> <a id="37764" class="Symbol">_</a>
    <a id="37770" class="Symbol">{</a><a id="H₁₆-args.ds"></a><a id="37771" href="Coherence.Hypotheses.html#37771" class="Field">ds</a><a id="37773" class="Symbol">}</a> <a id="37775" class="Symbol">:</a> <a id="37777" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a>
    <a id="H₁₆-args.j"></a><a id="37793" href="Coherence.Hypotheses.html#37793" class="Field">j</a> <a id="37795" class="Symbol">:</a> <a id="37797" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="37803" href="Coherence.Hypotheses.html#37771" class="Field">ds</a>
    <a id="37810" class="Comment">-- Hypotheses from [DEP-AuthDestroy]</a>
    <a id="H₁₆-args.fresh-y"></a><a id="37851" href="Coherence.Hypotheses.html#37851" class="Field">fresh-y</a> <a id="37859" class="Symbol">:</a> <a id="37861" href="Coherence.Hypotheses.html#37754" class="Field">y</a> <a id="37863" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="37865" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="37869" href="Coherence.Hypotheses.html#37756" class="Field">Γ₀</a>
  <a id="H₁₆-args.k"></a><a id="37874" href="Coherence.Hypotheses.html#37874" class="Function">k</a>  <a id="37877" class="Symbol">=</a> <a id="37879" href="Data.List.Base.html#4873" class="Function">length</a> <a id="37886" href="Coherence.Hypotheses.html#37771" class="Field">ds</a>
  <a id="H₁₆-args.A"></a><a id="37891" href="Coherence.Hypotheses.html#37891" class="Function">A</a>  <a id="37894" class="Symbol">=</a> <a id="37896" class="Symbol">(</a><a id="37897" href="Coherence.Hypotheses.html#37771" class="Field">ds</a> <a id="37900" href="Prelude.Lists.Indexed.html#650" class="Function Operator">‼</a> <a id="37902" href="Coherence.Hypotheses.html#37793" class="Field">j</a><a id="37903" class="Symbol">)</a> <a id="37905" class="Symbol">.</a><a id="37906" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₁₆-args.xs"></a><a id="37914" href="Coherence.Hypotheses.html#37914" class="Function">xs</a> <a id="37917" class="Symbol">=</a> <a id="37919" href="Data.List.Base.html#1553" class="Function">map</a> <a id="37923" class="Symbol">(</a><a id="37924" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="37930" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="37932" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="37937" class="Symbol">)</a> <a id="37939" href="Coherence.Hypotheses.html#37771" class="Field">ds</a>
  <a id="H₁₆-args.Δ"></a><a id="37944" href="Coherence.Hypotheses.html#37944" class="Function">Δ</a>  <a id="37947" class="Symbol">=</a> <a id="37949" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="37952" href="Data.List.Base.html#1553" class="Function">map</a> <a id="37956" class="Symbol">(</a><a id="37957" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="37966" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨_has_⟩at_</a><a id="37976" class="Symbol">)</a> <a id="37978" href="Coherence.Hypotheses.html#37771" class="Field">ds</a>
  <a id="H₁₆-args.j′"></a><a id="37983" href="Coherence.Hypotheses.html#37983" class="Function">j′</a> <a id="37986" class="Symbol">=</a> <a id="37988" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="37994" href="Coherence.Hypotheses.html#37914" class="Function">xs</a> <a id="37997" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="37999" href="Prelude.Lists.Indexed.html#9518" class="Function">‼-map</a> <a id="38005" class="Symbol">{</a><a id="38006" class="Argument">xs</a> <a id="38009" class="Symbol">=</a> <a id="38011" href="Coherence.Hypotheses.html#37771" class="Field">ds</a><a id="38013" class="Symbol">}</a> <a id="38015" href="Coherence.Hypotheses.html#37793" class="Field">j</a>
  <a id="38019" class="Keyword">open</a> <a id="38024" href="Coherence.Hypotheses.html#1742" class="Module">Transition</a>
    <a id="38039" class="Symbol">(</a> <a id="38041" class="Symbol">(</a><a id="38042" href="Coherence.Hypotheses.html#37944" class="Function">Δ</a> <a id="38044" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="38046" href="Coherence.Hypotheses.html#37756" class="Field">Γ₀</a><a id="38048" class="Symbol">)</a> <a id="38050" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="38052" href="Coherence.Hypotheses.html#37759" class="Field">t</a>
      <a id="38060" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">——</a> <a id="38063" href="BitML.Semantics.Label.html#856" class="InductiveConstructor Operator">auth-destroy⦅</a> <a id="38077" href="Coherence.Hypotheses.html#37891" class="Function">A</a> <a id="38079" href="BitML.Semantics.Label.html#856" class="InductiveConstructor Operator">,</a> <a id="38081" href="Coherence.Hypotheses.html#37914" class="Function">xs</a> <a id="38084" href="BitML.Semantics.Label.html#856" class="InductiveConstructor Operator">,</a> <a id="38086" href="Coherence.Hypotheses.html#37983" class="Function">j′</a> <a id="38089" href="BitML.Semantics.Label.html#856" class="InductiveConstructor Operator">⦆</a> <a id="38091" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">—→</a>
      <a id="38100" class="Symbol">(</a><a id="38101" href="Coherence.Hypotheses.html#37944" class="Function">Δ</a> <a id="38103" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="38105" href="Coherence.Hypotheses.html#37891" class="Function">A</a> <a id="38107" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="38113" href="Coherence.Hypotheses.html#37914" class="Function">xs</a> <a id="38116" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="38118" href="Coherence.Hypotheses.html#37983" class="Function">j′</a> <a id="38121" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="38125" href="Coherence.Hypotheses.html#37754" class="Field">y</a> <a id="38127" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="38129" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="38131" href="Coherence.Hypotheses.html#37756" class="Field">Γ₀</a><a id="38133" class="Symbol">)</a> <a id="38135" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="38137" href="Coherence.Hypotheses.html#37759" class="Field">t</a>
    <a id="38143" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⊣</a> <a id="38145" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="38149" class="Symbol">(</a><a id="38150" href="BitML.Semantics.InferenceRules.html#2530" class="InductiveConstructor">[DEP-AuthDestroy]</a> <a id="38168" href="Coherence.Hypotheses.html#37851" class="Field">fresh-y</a><a id="38175" class="Symbol">)</a>
    <a id="38181" class="Symbol">)</a> <a id="38183" class="Keyword">public</a> <a id="38190" class="Keyword">hiding</a> <a id="38197" class="Symbol">(</a><a id="38198" href="Coherence.Hypotheses.html#1819" class="Field">t</a><a id="38199" class="Symbol">)</a>
  <a id="38203" class="Keyword">field</a> <a id="H₁₆-args.𝕙r"></a><a id="38209" href="Coherence.Hypotheses.html#38209" class="Field">𝕙r</a> <a id="38212" class="Symbol">:</a> <a id="38214" href="Coherence.Hypotheses.html#1958" class="Record">ℍ-Run</a> <a id="38220" href="Coherence.Hypotheses.html#1929" class="Function">Γ→</a>
  <a id="38225" class="Keyword">open</a> <a id="38230" href="Coherence.Hypotheses.html#1958" class="Module">ℍ-Run</a> <a id="38236" href="Coherence.Hypotheses.html#38209" class="Field">𝕙r</a> <a id="38239" class="Keyword">public</a>

<a id="38247" class="Keyword">module</a> <a id="38254" href="Coherence.Hypotheses.html#38254" class="Module">H₁₆</a> <a id="38258" class="Symbol">(</a><a id="38259" href="Coherence.Hypotheses.html#38259" class="Bound">⋯</a> <a id="38261" class="Symbol">:</a> <a id="38263" href="Coherence.Hypotheses.html#37702" class="Record">H₁₆-args</a><a id="38271" class="Symbol">)</a> <a id="38273" class="Symbol">(</a><a id="38274" class="Keyword">open</a> <a id="38279" href="Coherence.Hypotheses.html#37702" class="Module">H₁₆-args</a> <a id="38288" href="Coherence.Hypotheses.html#38259" class="Bound">⋯</a><a id="38289" class="Symbol">)</a> <a id="38291" class="Keyword">where</a>
  <a id="38299" class="Comment">-- ** name resolution</a>
  <a id="38323" class="Keyword">abstract</a>
    <a id="38336" href="Coherence.Hypotheses.html#38336" class="Function">xs↦</a> <a id="38340" class="Symbol">:</a> <a id="38342" href="Coherence.Hypotheses.html#37914" class="Function">xs</a> <a id="38345" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="38347" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
    <a id="38360" href="Coherence.Hypotheses.html#38336" class="Function">xs↦</a> <a id="38364" class="Symbol">=</a> <a id="38366" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="38373" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="38375" href="Coherence.Hypotheses.html#38397" class="Function">xs⊆</a>
      <a id="38385" class="Keyword">where</a>
      <a id="38397" href="Coherence.Hypotheses.html#38397" class="Function">xs⊆</a> <a id="38401" class="Symbol">:</a> <a id="38403" href="Coherence.Hypotheses.html#37914" class="Function">xs</a> <a id="38406" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="38408" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="38412" href="Coherence.Hypotheses.html#2399" class="Function">R</a>
      <a id="38420" href="Coherence.Hypotheses.html#38397" class="Function">xs⊆</a> <a id="38424" class="Symbol">=</a> <a id="38426" href="Relation.Binary.Reasoning.Base.Double.html#2222" class="Function Operator">begin</a>
        <a id="38440" href="Coherence.Hypotheses.html#37914" class="Function">xs</a>           <a id="38453" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="38456" href="BitML.Semantics.Configurations.Helpers.html#16204" class="Function">namesʳ-∥map-authDestroy</a> <a id="38480" href="Coherence.Hypotheses.html#37771" class="Field">ds</a> <a id="38483" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="38493" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="38497" href="Coherence.Hypotheses.html#37944" class="Function">Δ</a>        <a id="38506" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="38509" href="Prelude.Lists.MapMaybe.html#9263" class="Function">mapMaybe-⊆</a> <a id="38520" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="38527" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="38529" href="BitML.Semantics.Configurations.Helpers.html#7992" class="Function">∈-collect-++⁺ˡ</a> <a id="38544" href="Coherence.Hypotheses.html#37944" class="Function">Δ</a> <a id="38546" href="Coherence.Hypotheses.html#37756" class="Field">Γ₀</a> <a id="38549" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="38559" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="38563" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a>        <a id="38572" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="38575" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="38590" class="Symbol">_</a> <a id="38592" class="Symbol">{</a><a id="38593" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a><a id="38594" class="Symbol">}{</a><a id="38596" href="Coherence.Hypotheses.html#2399" class="Function">R</a> <a id="38598" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="38602" class="Symbol">}</a> <a id="38604" class="Symbol">(</a><a id="38605" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="38611" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="38613" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="38619" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a><a id="38621" class="Symbol">)</a> <a id="38623" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="38633" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="38637" class="Symbol">(</a><a id="38638" href="Coherence.Hypotheses.html#2399" class="Function">R</a> <a id="38640" class="Symbol">.</a><a id="38641" href="Prelude.Traces.html#568" class="Field">end</a><a id="38644" class="Symbol">)</a> <a id="38646" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="38649" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="38662" href="Coherence.Hypotheses.html#2399" class="Function">R</a> <a id="38664" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="38674" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="38678" href="Coherence.Hypotheses.html#2399" class="Function">R</a>        <a id="38687" href="Relation.Binary.Reasoning.Base.Double.html#3656" class="Function Operator">∎</a> <a id="38689" class="Keyword">where</a> <a id="38695" class="Keyword">open</a> <a id="38700" href="Data.List.Relation.Binary.Subset.Propositional.Properties.html#3760" class="Module">⊆-Reasoning</a> <a id="38712" href="BitML.BasicTypes.html#303" class="Function">Secret</a>
  <a id="38721" class="Comment">--</a>
  <a id="38726" href="Coherence.Hypotheses.html#38726" class="Function">names≡</a> <a id="38733" class="Symbol">:</a> <a id="38735" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="38738" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="38741" href="BitML.Contracts.Collections.html#4018" class="Function">names</a> <a id="38747" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="38749" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a>
  <a id="38753" href="Coherence.Hypotheses.html#38726" class="Function">names≡</a> <a id="38760" class="Keyword">rewrite</a> <a id="38768" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="38787" class="Symbol">{</a><a id="38788" class="Argument">X</a> <a id="38790" class="Symbol">=</a> <a id="38792" href="BitML.BasicTypes.html#375" class="Function">Name</a><a id="38796" class="Symbol">}</a> <a id="38798" class="Symbol">(</a><a id="38799" href="Coherence.Hypotheses.html#37944" class="Function">Δ</a> <a id="38801" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="38803" href="Coherence.Hypotheses.html#37891" class="Function">A</a> <a id="38805" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="38811" href="Coherence.Hypotheses.html#37914" class="Function">xs</a> <a id="38814" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="38816" href="Coherence.Hypotheses.html#37983" class="Function">j′</a> <a id="38819" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="38823" href="Coherence.Hypotheses.html#37754" class="Field">y</a> <a id="38825" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="38826" class="Symbol">)</a> <a id="38828" href="Coherence.Hypotheses.html#37756" class="Field">Γ₀</a>
              <a id="38845" class="Symbol">|</a> <a id="38847" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="38866" class="Symbol">{</a><a id="38867" class="Argument">X</a> <a id="38869" class="Symbol">=</a> <a id="38871" href="BitML.BasicTypes.html#375" class="Function">Name</a><a id="38875" class="Symbol">}</a> <a id="38877" href="Coherence.Hypotheses.html#37944" class="Function">Δ</a> <a id="38879" class="Symbol">(</a><a id="38880" href="Coherence.Hypotheses.html#37891" class="Function">A</a> <a id="38882" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="38888" href="Coherence.Hypotheses.html#37914" class="Function">xs</a> <a id="38891" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="38893" href="Coherence.Hypotheses.html#37983" class="Function">j′</a> <a id="38896" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="38900" href="Coherence.Hypotheses.html#37754" class="Field">y</a> <a id="38902" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="38903" class="Symbol">)</a>
              <a id="38919" class="Symbol">|</a> <a id="38921" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="38936" class="Symbol">(</a><a id="38937" href="BitML.Contracts.Collections.html#4018" class="Function">names</a> <a id="38943" href="Coherence.Hypotheses.html#37944" class="Function">Δ</a><a id="38944" class="Symbol">)</a>
              <a id="38960" class="Symbol">=</a> <a id="38962" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="38966" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="38968" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="38987" class="Symbol">{</a><a id="38988" class="Argument">X</a> <a id="38990" class="Symbol">=</a> <a id="38992" href="BitML.BasicTypes.html#375" class="Function">Name</a><a id="38996" class="Symbol">}</a> <a id="38998" href="Coherence.Hypotheses.html#37944" class="Function">Δ</a> <a id="39000" href="Coherence.Hypotheses.html#37756" class="Field">Γ₀</a>

  <a id="39006" href="Coherence.Hypotheses.html#39006" class="Function">ids≡</a> <a id="39011" class="Symbol">:</a>  <a id="39014" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="39017" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="39020" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="39024" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="39026" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a>
  <a id="39030" href="Coherence.Hypotheses.html#39006" class="Function">ids≡</a> <a id="39035" class="Symbol">=</a> <a id="39037" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="39042" href="Prelude.Lists.Core.html#2266" class="Function">filter₂</a> <a id="39050" href="Coherence.Hypotheses.html#38726" class="Function">names≡</a>

  <a id="39060" href="Coherence.Hypotheses.html#39060" class="Function">secrets≡</a> <a id="39069" class="Symbol">:</a> <a id="39071" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="39074" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="39077" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="39085" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="39087" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a>
  <a id="39091" href="Coherence.Hypotheses.html#39060" class="Function">secrets≡</a> <a id="39100" class="Symbol">=</a> <a id="39102" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="39107" href="Prelude.Lists.Core.html#2207" class="Function">filter₁</a> <a id="39115" href="Coherence.Hypotheses.html#38726" class="Function">names≡</a>

  <a id="39125" href="Coherence.Hypotheses.html#39125" class="Function">ads≡</a> <a id="39130" class="Symbol">:</a> <a id="39132" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="39135" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="39138" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="39153" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="39155" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a>
  <a id="39159" href="Coherence.Hypotheses.html#39125" class="Function">ads≡</a> <a id="39164" class="Keyword">rewrite</a> <a id="39172" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="39191" class="Symbol">{</a><a id="39192" class="Argument">X</a> <a id="39194" class="Symbol">=</a> <a id="39196" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="39198" class="Symbol">}</a> <a id="39200" class="Symbol">(</a><a id="39201" href="Coherence.Hypotheses.html#37944" class="Function">Δ</a> <a id="39203" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="39205" href="Coherence.Hypotheses.html#37891" class="Function">A</a> <a id="39207" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="39213" href="Coherence.Hypotheses.html#37914" class="Function">xs</a> <a id="39216" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="39218" href="Coherence.Hypotheses.html#37983" class="Function">j′</a> <a id="39221" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="39225" href="Coherence.Hypotheses.html#37754" class="Field">y</a> <a id="39227" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="39228" class="Symbol">)</a> <a id="39230" href="Coherence.Hypotheses.html#37756" class="Field">Γ₀</a>
            <a id="39245" class="Symbol">|</a> <a id="39247" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="39266" class="Symbol">{</a><a id="39267" class="Argument">X</a> <a id="39269" class="Symbol">=</a> <a id="39271" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="39273" class="Symbol">}</a> <a id="39275" href="Coherence.Hypotheses.html#37944" class="Function">Δ</a> <a id="39277" class="Symbol">(</a><a id="39278" href="Coherence.Hypotheses.html#37891" class="Function">A</a> <a id="39280" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="39286" href="Coherence.Hypotheses.html#37914" class="Function">xs</a> <a id="39289" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="39291" href="Coherence.Hypotheses.html#37983" class="Function">j′</a> <a id="39294" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="39298" href="Coherence.Hypotheses.html#37754" class="Field">y</a> <a id="39300" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="39301" class="Symbol">)</a>
            <a id="39315" class="Symbol">|</a> <a id="39317" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="39332" class="Symbol">(</a><a id="39333" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="39348" href="Coherence.Hypotheses.html#37944" class="Function">Δ</a><a id="39349" class="Symbol">)</a>
            <a id="39363" class="Symbol">=</a> <a id="39365" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="39369" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="39371" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="39390" class="Symbol">{</a><a id="39391" class="Argument">X</a> <a id="39393" class="Symbol">=</a> <a id="39395" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="39397" class="Symbol">}</a> <a id="39399" href="Coherence.Hypotheses.html#37944" class="Function">Δ</a> <a id="39401" href="Coherence.Hypotheses.html#37756" class="Field">Γ₀</a>

  <a id="39407" href="Coherence.Hypotheses.html#39407" class="Function">txout↝</a> <a id="39414" class="Symbol">:</a> <a id="39416" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="39418" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="39421" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="39427" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="39429" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
  <a id="39434" href="Coherence.Hypotheses.html#39407" class="Function">txout↝</a> <a id="39441" class="Symbol">=</a> <a id="39443" href="SymbolicModel.Mappings.html#3670" class="Function Operator">lift</a> <a id="39448" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="39450" href="SymbolicModel.Mappings.html#3670" class="Function Operator">—⟨</a> <a id="39453" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="39457" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⟩—</a> <a id="39460" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="39463" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⊣</a> <a id="39465" href="Coherence.Hypotheses.html#39006" class="Function">ids≡</a>

  <a id="39473" href="Coherence.Hypotheses.html#39473" class="Function">sechash↝</a> <a id="39482" class="Symbol">:</a> <a id="39484" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="39486" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="39489" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="39497" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="39499" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
  <a id="39504" href="Coherence.Hypotheses.html#39473" class="Function">sechash↝</a>  <a id="39514" class="Symbol">=</a> <a id="39516" href="SymbolicModel.Mappings.html#3670" class="Function Operator">lift</a> <a id="39521" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="39523" href="SymbolicModel.Mappings.html#3670" class="Function Operator">—⟨</a> <a id="39526" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="39534" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⟩—</a> <a id="39537" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="39540" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⊣</a> <a id="39542" href="Coherence.Hypotheses.html#39060" class="Function">secrets≡</a>

  <a id="39554" href="Coherence.Hypotheses.html#39554" class="Function">κ↝</a> <a id="39557" class="Symbol">:</a> <a id="39559" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="39561" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="39564" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="39567" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="39569" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
  <a id="39574" href="Coherence.Hypotheses.html#39554" class="Function">κ↝</a> <a id="39577" class="Symbol">=</a> <a id="39579" href="SymbolicModel.Mappings.html#3670" class="Function Operator">lift</a> <a id="39584" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="39586" href="SymbolicModel.Mappings.html#3670" class="Function Operator">—⟨</a> <a id="39589" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="39604" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⟩—</a> <a id="39607" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="39610" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⊣</a> <a id="39612" href="Coherence.Hypotheses.html#39125" class="Function">ads≡</a>

  <a id="39620" href="Coherence.Hypotheses.html#39620" class="Function">λˢ</a> <a id="39623" class="Symbol">:</a> <a id="39625" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="39628" href="Coherence.Hypotheses.html#1895" class="Function">Γₜ′</a>
  <a id="39634" href="Coherence.Hypotheses.html#39620" class="Function">λˢ</a> <a id="39637" class="Symbol">=</a> <a id="39639" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="39645" href="Coherence.Hypotheses.html#2229" class="Function">𝕣</a> <a id="39647" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="39649" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="39652" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="39655" href="Coherence.Hypotheses.html#39407" class="Function">txout↝</a> <a id="39662" href="Coherence.Hypotheses.html#39473" class="Function">sechash↝</a> <a id="39671" href="Coherence.Hypotheses.html#39554" class="Function">κ↝</a>

<a id="39675" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[16]~_⨾_"></a><a id="39680" href="Coherence.Hypotheses.html#39680" class="Datatype Operator">_⨾_⨾_~ℍ[16]~_⨾_</a> <a id="39696" class="Symbol">:</a> <a id="39698" href="Coherence.Hypotheses.html#1602" class="Function">StepRel</a> <a id="39706" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[16]~_⨾_.mkℍ"></a><a id="39714" href="Coherence.Hypotheses.html#39714" class="InductiveConstructor">mkℍ</a> <a id="39718" class="Symbol">:</a> <a id="39720" class="Symbol">∀</a> <a id="39722" class="Symbol">{</a><a id="39723" href="Coherence.Hypotheses.html#39723" class="Bound">h</a> <a id="39725" class="Symbol">:</a> <a id="39727" href="Coherence.Hypotheses.html#37702" class="Record">H₁₆-args</a><a id="39735" class="Symbol">}</a> <a id="39737" class="Symbol">{</a><a id="39738" href="Coherence.Hypotheses.html#39738" class="Bound">B</a><a id="39739" class="Symbol">}</a>
    <a id="39745" class="Symbol">→</a> <a id="39747" class="Keyword">let</a>
        <a id="39759" class="Comment">-- (ii) in Rˢ we find ⟨Bᵢ,vᵢ⟩yᵢ for i ∈ 1..k</a>
        <a id="39812" class="Keyword">open</a> <a id="39817" href="Coherence.Hypotheses.html#37702" class="Module">H₁₆-args</a> <a id="39826" href="Coherence.Hypotheses.html#39723" class="Bound">h</a>

        <a id="39837" class="Comment">-- (vii) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="39897" class="Keyword">open</a> <a id="39902" href="Coherence.Hypotheses.html#38254" class="Module">H₁₆</a> <a id="39906" href="Coherence.Hypotheses.html#39723" class="Bound">h</a> <a id="39908" class="Keyword">using</a> <a id="39914" class="Symbol">(</a><a id="39915" href="Coherence.Hypotheses.html#39620" class="Function">λˢ</a><a id="39917" class="Symbol">;</a> <a id="39919" href="Coherence.Hypotheses.html#38336" class="Function">xs↦</a><a id="39922" class="Symbol">)</a>
      <a id="39930" class="Keyword">in</a>
      <a id="39939" class="Comment">-- (iii) in Rᶜ we find B → ∗ ∶ T</a>
      <a id="39978" class="Comment">--       for some T having txout′(yᵢ) as inputs (+ possibly others)</a>
    <a id="40050" class="Symbol">∀</a> <a id="40052" class="Symbol">(</a><a id="40053" href="Coherence.Hypotheses.html#40053" class="Bound">∃B</a> <a id="40056" class="Symbol">:</a> <a id="40058" href="Data.Product.html#1378" class="Function">∃</a> <a id="40060" class="Symbol">λ</a> <a id="40062" href="Coherence.Hypotheses.html#40062" class="Bound">B</a> <a id="40064" class="Symbol">→</a> <a id="40066" href="Data.Product.html#1378" class="Function">∃</a> <a id="40068" class="Symbol">λ</a> <a id="40070" href="Coherence.Hypotheses.html#40070" class="Bound">T</a>  <a id="40073" class="Symbol">→</a>
         <a id="40084" class="Symbol">(</a><a id="40085" href="Coherence.Hypotheses.html#40062" class="Bound">B</a> <a id="40087" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="40091" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="40098" class="Symbol">(</a><a id="40099" href="Coherence.Hypotheses.html#40070" class="Bound">T</a> <a id="40101" class="Symbol">.</a><a id="40102" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="40108" class="Symbol">.</a><a id="40109" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="40114" class="Symbol">)</a> <a id="40116" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="40118" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="40125" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a><a id="40127" class="Symbol">)</a>
       <a id="40136" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="40138" class="Symbol">((</a><a id="40140" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="40148" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="40152" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="40158" href="Coherence.Hypotheses.html#38336" class="Function">xs↦</a><a id="40161" class="Symbol">)</a> <a id="40163" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="40165" href="Data.Vec.Base.html#7447" class="Function">V.toList</a> <a id="40174" class="Symbol">(</a><a id="40175" href="Bitcoin.Tx.Base.html#1401" class="Function">∃inputs</a> <a id="40183" href="Coherence.Hypotheses.html#40070" class="Bound">T</a><a id="40184" class="Symbol">)))</a>
    <a id="40192" class="Symbol">→</a> <a id="40194" class="Keyword">let</a>
        <a id="40206" class="Comment">-- (iv) broadcast transaction T, signed by A</a>
        <a id="40259" class="Symbol">_</a> <a id="40261" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="40263" href="Coherence.Hypotheses.html#40263" class="Bound">T</a> <a id="40265" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="40267" href="Coherence.Hypotheses.html#40267" class="Bound">B∈</a> <a id="40270" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="40272" class="Symbol">_</a> <a id="40274" class="Symbol">=</a> <a id="40276" href="Coherence.Hypotheses.html#40053" class="Bound">∃B</a>
        <a id="40287" href="Coherence.Hypotheses.html#40287" class="Bound">m</a>  <a id="40290" class="Symbol">=</a> <a id="40292" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="40296" class="Symbol">(</a><a id="40297" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="40300" href="Coherence.Hypotheses.html#37891" class="Function">A</a><a id="40301" class="Symbol">)</a> <a id="40303" href="Coherence.Hypotheses.html#40263" class="Bound">T</a>
        <a id="40313" href="Coherence.Hypotheses.html#40313" class="Bound">λᶜ</a> <a id="40316" class="Symbol">=</a> <a id="40318" href="Coherence.Hypotheses.html#39738" class="Bound">B</a> <a id="40320" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="40324" href="Coherence.Hypotheses.html#40287" class="Bound">m</a>
      <a id="40332" class="Keyword">in</a>

      <a id="40342" class="Comment">-- (v) λᶜ is the first broadcast of m in Rᶜ after the first broadcast of T</a>
    <a id="40421" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="40423" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="40427" class="Symbol">(λ</a> <a id="40430" href="Coherence.Hypotheses.html#40430" class="Bound">l</a> <a id="40432" class="Symbol">→</a> <a id="40434" class="Symbol">∀</a> <a id="40436" href="Coherence.Hypotheses.html#40436" class="Bound">B</a> <a id="40438" class="Symbol">→</a> <a id="40440" href="Coherence.Hypotheses.html#40430" class="Bound">l</a> <a id="40442" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="40444" href="Coherence.Hypotheses.html#40436" class="Bound">B</a> <a id="40446" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="40450" href="Coherence.Hypotheses.html#40287" class="Bound">m</a><a id="40451" class="Symbol">)</a> <a id="40453" class="Symbol">(</a><a id="40454" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="40464" href="Coherence.Hypotheses.html#40267" class="Bound">B∈</a><a id="40466" class="Symbol">)</a>

    <a id="40473" class="Comment">-- (vi) λᶜ does not correspond to any *other* symbolic move</a>
    <a id="40537" class="Comment">-- ∙ (∀ Γₜ′ (λˢ′ : 𝕃 Rˢ Γₜ′)</a>
    <a id="40570" class="Comment">--   → λˢ′ .proj₁ .proj₁ ≢ λˢ .proj₁ .proj₁</a>
    <a id="40618" class="Comment">--   → (Γₜ′ ∷ 𝕣∗ ⊣ λˢ′ ✓) ≁₁₁ (λᶜ ∷ Rᶜ ✓))</a>

      <a id="40668" href="Prelude.InferenceRules.html#12810" class="Function Operator">────────────────────────────────────────────────────</a>
      <a id="40727" href="Coherence.Hypotheses.html#2177" class="Function">Γₜ″</a> <a id="40731" href="Coherence.Hypotheses.html#39680" class="Datatype Operator">⨾</a> <a id="40733" href="Coherence.Hypotheses.html#2116" class="Function">𝕣∗</a> <a id="40736" href="Coherence.Hypotheses.html#39680" class="Datatype Operator">⨾</a> <a id="40738" class="Symbol">(</a><a id="40739" href="Coherence.Hypotheses.html#2263" class="Function">𝕒</a> <a id="40741" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="40743" href="Coherence.Hypotheses.html#39620" class="Function">λˢ</a><a id="40745" class="Symbol">)</a> <a id="40747" href="Coherence.Hypotheses.html#39680" class="Datatype Operator">~ℍ[16]~</a> <a id="40755" href="Coherence.Hypotheses.html#40313" class="Bound">λᶜ</a> <a id="40758" href="Coherence.Hypotheses.html#39680" class="Datatype Operator">⨾</a> <a id="40760" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a>

<a id="40764" class="Comment">-- ** Deposits: destroy</a>
<a id="40788" class="Keyword">record</a> <a id="H₁₇-args"></a><a id="40795" href="Coherence.Hypotheses.html#40795" class="Record">H₁₇-args</a> <a id="40804" class="Symbol">:</a> <a id="40806" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="40811" class="Keyword">where</a>
  <a id="40819" class="Keyword">constructor</a> <a id="mk"></a><a id="40831" href="Coherence.Hypotheses.html#40831" class="InductiveConstructor">mk</a>
  <a id="40836" class="Keyword">field</a>
    <a id="40846" class="Symbol">{</a><a id="H₁₇-args.Γ₀"></a><a id="40847" href="Coherence.Hypotheses.html#40847" class="Field">Γ₀</a> <a id="H₁₇-args.y"></a><a id="40850" href="Coherence.Hypotheses.html#40850" class="Field">y</a> <a id="H₁₇-args.t"></a><a id="40852" href="Coherence.Hypotheses.html#40852" class="Field">t</a><a id="40853" class="Symbol">}</a> <a id="40855" class="Symbol">:</a> <a id="40857" class="Symbol">_</a>
    <a id="40863" class="Symbol">{</a><a id="H₁₇-args.ds"></a><a id="40864" href="Coherence.Hypotheses.html#40864" class="Field">ds</a><a id="40866" class="Symbol">}</a> <a id="40868" class="Symbol">:</a> <a id="40870" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a>
  <a id="H₁₇-args.xs"></a><a id="40884" href="Coherence.Hypotheses.html#40884" class="Function">xs</a> <a id="40887" class="Symbol">=</a> <a id="40889" href="Data.List.Base.html#1553" class="Function">map</a> <a id="40893" class="Symbol">(</a><a id="40894" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="40900" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="40902" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="40907" class="Symbol">)</a> <a id="40909" href="Coherence.Hypotheses.html#40864" class="Field">ds</a>
  <a id="H₁₇-args.Δ"></a><a id="40914" href="Coherence.Hypotheses.html#40914" class="Function">Δ</a>  <a id="40917" class="Symbol">=</a> <a id="40919" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="40922" href="Function.Base.html#1563" class="Function">flip</a> <a id="40927" href="Data.List.Base.html#1553" class="Function">map</a> <a id="40931" class="Symbol">(</a><a id="40932" href="Prelude.Lists.Indexed.html#1568" class="Function">enumerate</a> <a id="40942" href="Coherence.Hypotheses.html#40864" class="Field">ds</a><a id="40944" class="Symbol">)</a> <a id="40946" class="Symbol">(λ{</a> <a id="40950" class="Symbol">(</a><a id="40951" href="Coherence.Hypotheses.html#40951" class="Bound">i</a> <a id="40953" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="40955" href="Coherence.Hypotheses.html#40955" class="Bound">Aᵢ</a> <a id="40958" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="40960" href="Coherence.Hypotheses.html#40960" class="Bound">vᵢ</a> <a id="40963" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="40965" href="Coherence.Hypotheses.html#40965" class="Bound">xᵢ</a><a id="40967" class="Symbol">)</a> <a id="40969" class="Symbol">→</a>
          <a id="40981" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="40983" href="Coherence.Hypotheses.html#40955" class="Bound">Aᵢ</a> <a id="40986" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="40990" href="Coherence.Hypotheses.html#40960" class="Bound">vᵢ</a> <a id="40993" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="40997" href="Coherence.Hypotheses.html#40965" class="Bound">xᵢ</a> <a id="41000" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="41002" href="Coherence.Hypotheses.html#40955" class="Bound">Aᵢ</a> <a id="41005" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="41011" href="Coherence.Hypotheses.html#40884" class="Function">xs</a> <a id="41014" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="41016" href="Prelude.Lists.Indexed.html#9518" class="Function">‼-map</a> <a id="41022" class="Symbol">{</a><a id="41023" class="Argument">xs</a> <a id="41026" class="Symbol">=</a> <a id="41028" href="Coherence.Hypotheses.html#40864" class="Field">ds</a><a id="41030" class="Symbol">}</a> <a id="41032" href="Coherence.Hypotheses.html#40951" class="Bound">i</a> <a id="41034" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="41038" href="Coherence.Hypotheses.html#40850" class="Field">y</a> <a id="41040" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="41042" class="Symbol">})</a>
  <a id="41047" class="Keyword">open</a> <a id="41052" href="Coherence.Hypotheses.html#1742" class="Module">Transition</a>
    <a id="41067" class="Symbol">(</a> <a id="41069" class="Symbol">(</a><a id="41070" href="Coherence.Hypotheses.html#40914" class="Function">Δ</a> <a id="41072" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="41074" href="Coherence.Hypotheses.html#40847" class="Field">Γ₀</a><a id="41076" class="Symbol">)</a> <a id="41078" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="41080" href="Coherence.Hypotheses.html#40852" class="Field">t</a>
      <a id="41088" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">——</a> <a id="41091" href="BitML.Semantics.Label.html#933" class="InductiveConstructor Operator">destroy⦅</a> <a id="41100" href="Coherence.Hypotheses.html#40884" class="Function">xs</a> <a id="41103" href="BitML.Semantics.Label.html#933" class="InductiveConstructor Operator">⦆</a> <a id="41105" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">—→</a>
      <a id="41114" href="Coherence.Hypotheses.html#40847" class="Field">Γ₀</a> <a id="41117" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="41119" href="Coherence.Hypotheses.html#40852" class="Field">t</a>
    <a id="41125" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⊣</a> <a id="41127" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="41131" href="BitML.Semantics.InferenceRules.html#2960" class="InductiveConstructor">[DEP-Destroy]</a>
    <a id="41149" class="Symbol">)</a> <a id="41151" class="Keyword">public</a> <a id="41158" class="Keyword">hiding</a> <a id="41165" class="Symbol">(</a><a id="41166" href="Coherence.Hypotheses.html#1819" class="Field">t</a><a id="41167" class="Symbol">)</a>
  <a id="41171" class="Keyword">field</a> <a id="H₁₇-args.𝕙r"></a><a id="41177" href="Coherence.Hypotheses.html#41177" class="Field">𝕙r</a> <a id="41180" class="Symbol">:</a> <a id="41182" href="Coherence.Hypotheses.html#1958" class="Record">ℍ-Run</a> <a id="41188" href="Coherence.Hypotheses.html#1929" class="Function">Γ→</a>
  <a id="41193" class="Keyword">open</a> <a id="41198" href="Coherence.Hypotheses.html#1958" class="Module">ℍ-Run</a> <a id="41204" href="Coherence.Hypotheses.html#41177" class="Field">𝕙r</a> <a id="41207" class="Keyword">public</a>

<a id="41215" class="Keyword">module</a> <a id="41222" href="Coherence.Hypotheses.html#41222" class="Module">H₁₇</a> <a id="41226" class="Symbol">(</a><a id="41227" href="Coherence.Hypotheses.html#41227" class="Bound">⋯</a> <a id="41229" class="Symbol">:</a> <a id="41231" href="Coherence.Hypotheses.html#40795" class="Record">H₁₇-args</a><a id="41239" class="Symbol">)</a> <a id="41241" class="Symbol">(</a><a id="41242" class="Keyword">open</a> <a id="41247" href="Coherence.Hypotheses.html#40795" class="Module">H₁₇-args</a> <a id="41256" href="Coherence.Hypotheses.html#41227" class="Bound">⋯</a><a id="41257" class="Symbol">)</a> <a id="41259" class="Keyword">where</a>
  <a id="41267" class="Comment">-- ** name resolution</a>
  <a id="41291" class="Keyword">abstract</a>
    <a id="41304" href="Coherence.Hypotheses.html#41304" class="Function">xs↦</a> <a id="41308" class="Symbol">:</a> <a id="41310" href="Coherence.Hypotheses.html#40884" class="Function">xs</a> <a id="41313" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="41315" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
    <a id="41328" href="Coherence.Hypotheses.html#41304" class="Function">xs↦</a> <a id="41332" class="Symbol">=</a> <a id="41334" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="41341" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="41343" href="Coherence.Hypotheses.html#41365" class="Function">xs⊆</a>
      <a id="41353" class="Keyword">where</a>
      <a id="41365" href="Coherence.Hypotheses.html#41365" class="Function">xs⊆</a> <a id="41369" class="Symbol">:</a> <a id="41371" href="Coherence.Hypotheses.html#40884" class="Function">xs</a> <a id="41374" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="41376" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="41380" href="Coherence.Hypotheses.html#2399" class="Function">R</a>
      <a id="41388" href="Coherence.Hypotheses.html#41365" class="Function">xs⊆</a> <a id="41392" class="Symbol">=</a> <a id="41394" href="Relation.Binary.Reasoning.Base.Double.html#2222" class="Function Operator">begin</a>
        <a id="41408" href="Coherence.Hypotheses.html#40884" class="Function">xs</a>           <a id="41421" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="41424" href="BitML.Semantics.Configurations.Helpers.html#17967" class="Function">namesʳ-∥map-destroy</a> <a id="41444" href="Coherence.Hypotheses.html#40864" class="Field">ds</a> <a id="41447" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="41457" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="41461" href="Coherence.Hypotheses.html#40914" class="Function">Δ</a>        <a id="41470" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="41473" href="Prelude.Lists.MapMaybe.html#9263" class="Function">mapMaybe-⊆</a> <a id="41484" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="41491" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="41493" href="BitML.Semantics.Configurations.Helpers.html#7992" class="Function">∈-collect-++⁺ˡ</a> <a id="41508" href="Coherence.Hypotheses.html#40914" class="Function">Δ</a> <a id="41510" href="Coherence.Hypotheses.html#40847" class="Field">Γ₀</a> <a id="41513" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="41523" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="41527" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a>        <a id="41536" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="41539" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="41554" class="Symbol">_</a> <a id="41556" class="Symbol">{</a><a id="41557" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a><a id="41558" class="Symbol">}{</a><a id="41560" href="Coherence.Hypotheses.html#2399" class="Function">R</a> <a id="41562" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="41566" class="Symbol">}</a> <a id="41568" class="Symbol">(</a><a id="41569" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="41575" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="41577" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="41583" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a><a id="41585" class="Symbol">)</a> <a id="41587" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="41597" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="41601" class="Symbol">(</a><a id="41602" href="Coherence.Hypotheses.html#2399" class="Function">R</a> <a id="41604" class="Symbol">.</a><a id="41605" href="Prelude.Traces.html#568" class="Field">end</a><a id="41608" class="Symbol">)</a> <a id="41610" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="41613" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="41626" href="Coherence.Hypotheses.html#2399" class="Function">R</a> <a id="41628" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="41638" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="41642" href="Coherence.Hypotheses.html#2399" class="Function">R</a>        <a id="41651" href="Relation.Binary.Reasoning.Base.Double.html#3656" class="Function Operator">∎</a> <a id="41653" class="Keyword">where</a> <a id="41659" class="Keyword">open</a> <a id="41664" href="Data.List.Relation.Binary.Subset.Propositional.Properties.html#3760" class="Module">⊆-Reasoning</a> <a id="41676" href="BitML.BasicTypes.html#303" class="Function">Secret</a>
  <a id="41685" class="Comment">--</a>
  <a id="41690" href="Coherence.Hypotheses.html#41690" class="Function">secrets≡</a> <a id="41699" class="Symbol">:</a> <a id="41701" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="41709" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="41711" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="41713" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="41721" href="Coherence.Hypotheses.html#40914" class="Function">Δ</a> <a id="41723" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="41726" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="41734" href="Coherence.Hypotheses.html#40847" class="Field">Γ₀</a>
  <a id="41739" href="Coherence.Hypotheses.html#41690" class="Function">secrets≡</a> <a id="41748" class="Symbol">=</a> <a id="41750" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="41778" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="41785" href="Coherence.Hypotheses.html#40914" class="Function">Δ</a> <a id="41787" href="Coherence.Hypotheses.html#40847" class="Field">Γ₀</a>

  <a id="41793" href="Coherence.Hypotheses.html#41793" class="Function">ids≡</a> <a id="41798" class="Symbol">:</a> <a id="41800" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="41804" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="41806" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="41808" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="41812" href="Coherence.Hypotheses.html#40914" class="Function">Δ</a> <a id="41814" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="41817" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="41821" href="Coherence.Hypotheses.html#40847" class="Field">Γ₀</a>
  <a id="41826" href="Coherence.Hypotheses.html#41793" class="Function">ids≡</a> <a id="41831" class="Symbol">=</a> <a id="41833" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="41861" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="41868" href="Coherence.Hypotheses.html#40914" class="Function">Δ</a> <a id="41870" href="Coherence.Hypotheses.html#40847" class="Field">Γ₀</a>

  <a id="41876" href="Coherence.Hypotheses.html#41876" class="Function">txout↝</a> <a id="41883" class="Symbol">:</a> <a id="41885" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="41887" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="41890" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="41896" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="41898" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
  <a id="41903" href="Coherence.Hypotheses.html#41876" class="Function">txout↝</a> <a id="41910" href="Coherence.Hypotheses.html#41910" class="Bound">txout′</a> <a id="41917" class="Keyword">rewrite</a> <a id="41925" href="Coherence.Hypotheses.html#41793" class="Function">ids≡</a> <a id="41930" class="Symbol">=</a> <a id="41932" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="41941" href="Coherence.Hypotheses.html#41910" class="Bound">txout′</a> <a id="41948" class="Symbol">(</a><a id="41949" href="Data.List.Membership.Propositional.Properties.html#4054" class="Function">∈-++⁺ʳ</a> <a id="41956" class="Symbol">_)</a>

  <a id="41962" href="Coherence.Hypotheses.html#41962" class="Function">sechash↝</a> <a id="41971" class="Symbol">:</a> <a id="41973" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="41975" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="41978" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="41986" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="41988" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
  <a id="41993" href="Coherence.Hypotheses.html#41962" class="Function">sechash↝</a> <a id="42002" href="Coherence.Hypotheses.html#42002" class="Bound">sechash′</a> <a id="42011" class="Keyword">rewrite</a> <a id="42019" href="Coherence.Hypotheses.html#41690" class="Function">secrets≡</a> <a id="42028" class="Symbol">=</a> <a id="42030" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="42039" href="Coherence.Hypotheses.html#42002" class="Bound">sechash′</a> <a id="42048" class="Symbol">(</a><a id="42049" href="Data.List.Membership.Propositional.Properties.html#4054" class="Function">∈-++⁺ʳ</a> <a id="42056" class="Symbol">_)</a>

  <a id="42062" href="Coherence.Hypotheses.html#42062" class="Function">κ↝</a> <a id="42065" class="Symbol">:</a> <a id="42067" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="42069" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="42072" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="42075" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="42077" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a>
  <a id="42082" href="Coherence.Hypotheses.html#42062" class="Function">κ↝</a> <a id="42085" href="Coherence.Hypotheses.html#42085" class="Bound">κ′</a> <a id="42088" class="Symbol">=</a> <a id="42090" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="42099" href="Coherence.Hypotheses.html#42085" class="Bound">κ′</a> <a id="42102" class="Symbol">(</a><a id="42103" href="BitML.Semantics.Configurations.Helpers.html#8196" class="Function">∈-collect-++⁺ʳ</a> <a id="42118" href="Coherence.Hypotheses.html#40914" class="Function">Δ</a> <a id="42120" href="Coherence.Hypotheses.html#40847" class="Field">Γ₀</a><a id="42122" class="Symbol">)</a>

  <a id="42127" href="Coherence.Hypotheses.html#42127" class="Function">λˢ</a> <a id="42130" class="Symbol">:</a> <a id="42132" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="42135" href="Coherence.Hypotheses.html#1895" class="Function">Γₜ′</a>
  <a id="42141" href="Coherence.Hypotheses.html#42127" class="Function">λˢ</a> <a id="42144" class="Symbol">=</a> <a id="42146" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="42152" href="Coherence.Hypotheses.html#2229" class="Function">𝕣</a> <a id="42154" href="Coherence.Hypotheses.html#1806" class="Function">Γ</a> <a id="42156" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="42159" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="42162" href="Coherence.Hypotheses.html#41876" class="Function">txout↝</a> <a id="42169" href="Coherence.Hypotheses.html#41962" class="Function">sechash↝</a> <a id="42178" href="Coherence.Hypotheses.html#42062" class="Function">κ↝</a>

<a id="42182" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[17]~_⨾_"></a><a id="42187" href="Coherence.Hypotheses.html#42187" class="Datatype Operator">_⨾_⨾_~ℍ[17]~_⨾_</a> <a id="42203" class="Symbol">:</a> <a id="42205" href="Coherence.Hypotheses.html#1602" class="Function">StepRel</a> <a id="42213" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[17]~_⨾_.mkℍ"></a><a id="42221" href="Coherence.Hypotheses.html#42221" class="InductiveConstructor">mkℍ</a> <a id="42225" class="Symbol">:</a> <a id="42227" class="Symbol">∀</a> <a id="42229" class="Symbol">{</a><a id="42230" href="Coherence.Hypotheses.html#42230" class="Bound">h</a> <a id="42232" class="Symbol">:</a> <a id="42234" href="Coherence.Hypotheses.html#40795" class="Record">H₁₇-args</a><a id="42242" class="Symbol">}</a>
    <a id="42248" class="Symbol">→</a> <a id="42250" class="Keyword">let</a>
        <a id="42262" class="Comment">-- (ii) in Rˢ, α assumes ⟨Aᵢ,vᵢ⟩xᵢ to obtain 0</a>
        <a id="42317" class="Keyword">open</a> <a id="42322" href="Coherence.Hypotheses.html#40795" class="Module">H₁₇-args</a> <a id="42331" href="Coherence.Hypotheses.html#42230" class="Bound">h</a>

        <a id="42342" class="Comment">-- (v) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="42400" class="Comment">-- remove {⋯ xᵢ ↦ (Tᵢ,j) ⋯} from txout′</a>
        <a id="42448" class="Keyword">open</a> <a id="42453" href="Coherence.Hypotheses.html#41222" class="Module">H₁₇</a> <a id="42457" href="Coherence.Hypotheses.html#42230" class="Bound">h</a> <a id="42459" class="Keyword">using</a> <a id="42465" class="Symbol">(</a><a id="42466" href="Coherence.Hypotheses.html#42127" class="Function">λˢ</a><a id="42468" class="Symbol">;</a> <a id="42470" href="Coherence.Hypotheses.html#41304" class="Function">xs↦</a><a id="42473" class="Symbol">)</a>
      <a id="42481" class="Keyword">in</a>
    <a id="42488" class="Symbol">∀</a> <a id="42490" class="Symbol">{</a><a id="42491" href="Coherence.Hypotheses.html#42491" class="Bound">i</a> <a id="42493" class="Symbol">:</a> <a id="42495" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="42496" class="Symbol">}</a>
      <a id="42504" class="Symbol">(</a><a id="42505" href="Coherence.Hypotheses.html#42505" class="Bound">T</a>    <a id="42510" class="Symbol">:</a> <a id="42512" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="42515" href="Coherence.Hypotheses.html#42491" class="Bound">i</a> <a id="42517" class="Number">0</a><a id="42518" class="Symbol">)</a>
      <a id="42526" class="Symbol">(</a><a id="42527" href="Coherence.Hypotheses.html#42527" class="Bound">ins⊆</a> <a id="42532" class="Symbol">:</a> <a id="42534" class="Symbol">(</a><a id="42535" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="42543" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="42547" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="42553" href="Coherence.Hypotheses.html#41304" class="Function">xs↦</a><a id="42556" class="Symbol">)</a> <a id="42558" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="42560" href="Data.Vec.Base.html#7447" class="Function">V.toList</a> <a id="42569" class="Symbol">(</a><a id="42570" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a> <a id="42577" href="Coherence.Hypotheses.html#42505" class="Bound">T</a><a id="42578" class="Symbol">))</a>
    <a id="42585" class="Symbol">→</a> <a id="42587" class="Keyword">let</a>
        <a id="42599" class="Comment">-- (iii) submit transaction T</a>
        <a id="42637" href="Coherence.Hypotheses.html#42637" class="Bound">λᶜ</a> <a id="42640" class="Symbol">=</a> <a id="42642" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="42649" class="Symbol">(_</a> <a id="42652" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="42654" class="Symbol">_</a> <a id="42656" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="42658" href="Coherence.Hypotheses.html#42505" class="Bound">T</a><a id="42659" class="Symbol">)</a>
      <a id="42667" class="Keyword">in</a>

    <a id="42675" class="Comment">-- (iv) λᶜ does not correspond to any *other* symbolic move</a>
    <a id="42739" class="Comment">-- ∙ (∀ Γₜ′ (λˢ′ : 𝕃 Rˢ Γₜ′)</a>
    <a id="42772" class="Comment">--     → λˢ′ .proj₁ .proj₁ ≢ λˢ .proj₁ .proj₁</a>
    <a id="42822" class="Comment">--     → (Γₜ′ ∷ 𝕣∗ ⊣ λˢ′ ✓) ≁₁₁ (λᶜ ∷ Rᶜ ✓))</a>

      <a id="42874" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="42934" href="Coherence.Hypotheses.html#2177" class="Function">Γₜ″</a> <a id="42938" href="Coherence.Hypotheses.html#42187" class="Datatype Operator">⨾</a> <a id="42940" href="Coherence.Hypotheses.html#2116" class="Function">𝕣∗</a> <a id="42943" href="Coherence.Hypotheses.html#42187" class="Datatype Operator">⨾</a> <a id="42945" class="Symbol">(</a><a id="42946" href="Coherence.Hypotheses.html#2263" class="Function">𝕒</a> <a id="42948" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="42950" href="Coherence.Hypotheses.html#42127" class="Function">λˢ</a><a id="42952" class="Symbol">)</a> <a id="42954" href="Coherence.Hypotheses.html#42187" class="Datatype Operator">~ℍ[17]~</a> <a id="42962" href="Coherence.Hypotheses.html#42637" class="Bound">λᶜ</a> <a id="42965" href="Coherence.Hypotheses.html#42187" class="Datatype Operator">⨾</a> <a id="42967" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a>

<a id="42971" class="Comment">-- ** After</a>
<a id="42983" class="Keyword">record</a> <a id="H₁₈-args"></a><a id="42990" href="Coherence.Hypotheses.html#42990" class="Record">H₁₈-args</a> <a id="42999" class="Symbol">:</a> <a id="43001" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="43006" class="Keyword">where</a>
  <a id="43014" class="Keyword">constructor</a> <a id="mk"></a><a id="43026" href="Coherence.Hypotheses.html#43026" class="InductiveConstructor">mk</a>
  <a id="43031" class="Keyword">field</a>
    <a id="43041" class="Symbol">{</a><a id="H₁₈-args.Γ"></a><a id="43042" href="Coherence.Hypotheses.html#43042" class="Field">Γ</a> <a id="H₁₈-args.t"></a><a id="43044" href="Coherence.Hypotheses.html#43044" class="Field">t</a> <a id="H₁₈-args.δ"></a><a id="43046" href="Coherence.Hypotheses.html#43046" class="Field">δ</a><a id="43047" class="Symbol">}</a> <a id="43049" class="Symbol">:</a> <a id="43051" class="Symbol">_</a>
    <a id="H₁₈-args.δ&gt;0"></a><a id="43057" href="Coherence.Hypotheses.html#43057" class="Field">δ&gt;0</a> <a id="43061" class="Symbol">:</a> <a id="43063" href="Coherence.Hypotheses.html#43046" class="Field">δ</a> <a id="43065" href="Prelude.Ord.Core.html#340" class="Function Operator">&gt;</a> <a id="43067" class="Number">0</a>
  <a id="43071" class="Keyword">open</a> <a id="43076" href="Coherence.Hypotheses.html#1742" class="Module">Transition</a>
    <a id="43091" class="Symbol">(</a> <a id="43093" href="Coherence.Hypotheses.html#43042" class="Field">Γ</a> <a id="43095" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="43097" href="Coherence.Hypotheses.html#43044" class="Field">t</a> <a id="43099" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">——</a> <a id="43102" href="BitML.Semantics.Label.html#1519" class="InductiveConstructor Operator">delay⦅</a> <a id="43109" href="Coherence.Hypotheses.html#43046" class="Field">δ</a> <a id="43111" href="BitML.Semantics.Label.html#1519" class="InductiveConstructor Operator">⦆</a> <a id="43113" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">—→</a> <a id="43116" href="Coherence.Hypotheses.html#43042" class="Field">Γ</a> <a id="43118" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⨾</a> <a id="43120" class="Symbol">(</a><a id="43121" href="Coherence.Hypotheses.html#43044" class="Field">t</a> <a id="43123" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="43125" href="Coherence.Hypotheses.html#43046" class="Field">δ</a><a id="43126" class="Symbol">)</a>
    <a id="43132" href="Coherence.Hypotheses.html#1780" class="InductiveConstructor Operator">⊣</a> <a id="43134" href="BitML.Semantics.InferenceRules.html#7703" class="InductiveConstructor">[Delay]</a> <a id="43142" href="Coherence.Hypotheses.html#43057" class="Field">δ&gt;0</a>
    <a id="43150" class="Symbol">)</a> <a id="43152" class="Keyword">public</a> <a id="43159" class="Keyword">hiding</a> <a id="43166" class="Symbol">(</a><a id="43167" href="Coherence.Hypotheses.html#1806" class="Field">Γ</a><a id="43168" class="Symbol">;</a> <a id="43170" href="Coherence.Hypotheses.html#1819" class="Field">t</a><a id="43171" class="Symbol">)</a>
  <a id="43175" class="Keyword">field</a> <a id="H₁₈-args.𝕙r"></a><a id="43181" href="Coherence.Hypotheses.html#43181" class="Field">𝕙r</a> <a id="43184" class="Symbol">:</a> <a id="43186" href="Coherence.Hypotheses.html#1958" class="Record">ℍ-Run</a> <a id="43192" href="Coherence.Hypotheses.html#1929" class="Function">Γ→</a>
  <a id="43197" class="Keyword">open</a> <a id="43202" href="Coherence.Hypotheses.html#1958" class="Module">ℍ-Run</a> <a id="43208" href="Coherence.Hypotheses.html#43181" class="Field">𝕙r</a> <a id="43211" class="Keyword">public</a>

<a id="43219" class="Keyword">module</a> <a id="43226" href="Coherence.Hypotheses.html#43226" class="Module">H₁₈</a> <a id="43230" class="Symbol">(</a><a id="43231" href="Coherence.Hypotheses.html#43231" class="Bound">⋯</a> <a id="43233" class="Symbol">:</a> <a id="43235" href="Coherence.Hypotheses.html#42990" class="Record">H₁₈-args</a><a id="43243" class="Symbol">)</a> <a id="43245" class="Symbol">(</a><a id="43246" class="Keyword">open</a> <a id="43251" href="Coherence.Hypotheses.html#42990" class="Module">H₁₈-args</a> <a id="43260" href="Coherence.Hypotheses.html#43231" class="Bound">⋯</a><a id="43261" class="Symbol">)</a> <a id="43263" class="Keyword">where</a>
  <a id="43271" href="Coherence.Hypotheses.html#43271" class="Function">λˢ</a> <a id="43274" class="Symbol">:</a> <a id="43276" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="43279" href="Coherence.Hypotheses.html#1895" class="Function">Γₜ′</a>
  <a id="43285" href="Coherence.Hypotheses.html#43271" class="Function">λˢ</a> <a id="43288" class="Symbol">=</a> <a id="43290" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="43296" href="Coherence.Hypotheses.html#2229" class="Function">𝕣</a> <a id="43298" href="Coherence.Hypotheses.html#43042" class="Field">Γ</a> <a id="43300" href="Coherence.Hypotheses.html#2131" class="Function">R≈</a> <a id="43303" href="Coherence.Hypotheses.html#1848" class="Function">Γ′</a> <a id="43306" href="Function.Base.html#624" class="Function">id</a> <a id="43309" href="Function.Base.html#624" class="Function">id</a> <a id="43312" href="Function.Base.html#624" class="Function">id</a>

<a id="43316" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[18]~_⨾_"></a><a id="43321" href="Coherence.Hypotheses.html#43321" class="Datatype Operator">_⨾_⨾_~ℍ[18]~_⨾_</a> <a id="43337" class="Symbol">:</a> <a id="43339" href="Coherence.Hypotheses.html#1602" class="Function">StepRel</a> <a id="43347" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[18]~_⨾_.mkℍ"></a><a id="43355" href="Coherence.Hypotheses.html#43355" class="InductiveConstructor">mkℍ</a> <a id="43359" class="Symbol">:</a> <a id="43361" class="Symbol">∀</a> <a id="43363" class="Symbol">{</a><a id="43364" href="Coherence.Hypotheses.html#43364" class="Bound">h</a> <a id="43366" class="Symbol">:</a> <a id="43368" href="Coherence.Hypotheses.html#42990" class="Record">H₁₈-args</a><a id="43376" class="Symbol">}</a>
    <a id="43382" class="Symbol">→</a> <a id="43384" class="Keyword">let</a>
        <a id="43396" class="Keyword">open</a> <a id="43401" href="Coherence.Hypotheses.html#42990" class="Module">H₁₈-args</a> <a id="43410" href="Coherence.Hypotheses.html#43364" class="Bound">h</a>
        <a id="43420" class="Keyword">open</a> <a id="43425" href="Coherence.Hypotheses.html#43226" class="Module">H₁₈</a> <a id="43429" href="Coherence.Hypotheses.html#43364" class="Bound">h</a> <a id="43431" class="Keyword">using</a> <a id="43437" class="Symbol">(</a><a id="43438" href="Coherence.Hypotheses.html#43271" class="Function">λˢ</a><a id="43440" class="Symbol">)</a>
        <a id="43450" href="Coherence.Hypotheses.html#43450" class="Bound">λᶜ</a> <a id="43453" class="Symbol">=</a> <a id="43455" href="ComputationalModel.Run.html#1071" class="InductiveConstructor">delay</a> <a id="43461" href="Coherence.Hypotheses.html#43046" class="Field">δ</a>
      <a id="43469" class="Keyword">in</a>
      <a id="43478" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="43538" href="Coherence.Hypotheses.html#2177" class="Function">Γₜ″</a> <a id="43542" href="Coherence.Hypotheses.html#43321" class="Datatype Operator">⨾</a> <a id="43544" href="Coherence.Hypotheses.html#2116" class="Function">𝕣∗</a> <a id="43547" href="Coherence.Hypotheses.html#43321" class="Datatype Operator">⨾</a> <a id="43549" class="Symbol">(</a><a id="43550" href="Coherence.Hypotheses.html#2263" class="Function">𝕒</a> <a id="43552" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="43554" href="Coherence.Hypotheses.html#43271" class="Function">λˢ</a><a id="43556" class="Symbol">)</a> <a id="43558" href="Coherence.Hypotheses.html#43321" class="Datatype Operator">~ℍ[18]~</a> <a id="43566" href="Coherence.Hypotheses.html#43450" class="Bound">λᶜ</a> <a id="43569" href="Coherence.Hypotheses.html#43321" class="Datatype Operator">⨾</a> <a id="43571" href="Coherence.Hypotheses.html#2089" class="Function">Rᶜ</a>
</pre></body></html>