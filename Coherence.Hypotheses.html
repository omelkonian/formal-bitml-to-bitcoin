<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Coherence.Hypotheses</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/formal-bitml-to-bitcoin/tree/master/Coherence/Hypotheses.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="Prelude.Init.html" class="Module">Prelude.Init</a> <a id="26" class="Keyword">hiding</a> <a id="33" class="Symbol">(</a><a id="34" href="Data.Bool.Base.html#1460" class="Function">T</a><a id="35" class="Symbol">);</a> <a id="38" class="Keyword">open</a> <a id="43" href="Prelude.Init.html#504" class="Module">SetAsType</a>
<a id="53" class="Keyword">open</a> <a id="58" href="Prelude.Init.html#7254" class="Module">L.Mem</a>
<a id="64" class="Keyword">open</a> <a id="69" class="Keyword">import</a> <a id="76" href="Prelude.Membership.html" class="Module">Prelude.Membership</a> <a id="95" class="Keyword">using</a> <a id="101" class="Symbol">(</a><a id="102" href="Prelude.Membership.html#455" class="Field Operator">_∈?_</a><a id="106" class="Symbol">;</a> <a id="108" href="Prelude.Membership.html#613" class="Function Operator">_∉?_</a><a id="112" class="Symbol">)</a>
<a id="114" class="Keyword">open</a> <a id="119" class="Keyword">import</a> <a id="126" href="Prelude.Membership.Patterns.html" class="Module">Prelude.Membership.Patterns</a>
<a id="154" class="Keyword">open</a> <a id="159" class="Keyword">import</a> <a id="166" href="Prelude.Lists.html" class="Module">Prelude.Lists</a>
<a id="180" class="Keyword">open</a> <a id="185" class="Keyword">import</a> <a id="192" href="Prelude.Lists.Collections.html" class="Module">Prelude.Lists.Collections</a>
<a id="218" class="Keyword">open</a> <a id="223" class="Keyword">import</a> <a id="230" href="Prelude.Lists.Dec.html" class="Module">Prelude.Lists.Dec</a>
<a id="248" class="Keyword">open</a> <a id="253" class="Keyword">import</a> <a id="260" href="Prelude.General.html" class="Module">Prelude.General</a>
<a id="276" class="Keyword">open</a> <a id="281" class="Keyword">import</a> <a id="288" href="Prelude.InferenceRules.html" class="Module">Prelude.InferenceRules</a>
<a id="311" class="Keyword">open</a> <a id="316" class="Keyword">import</a> <a id="323" href="Prelude.Lists.Dec.html" class="Module">Prelude.Lists.Dec</a>
<a id="341" class="Keyword">open</a> <a id="346" class="Keyword">import</a> <a id="353" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="367" class="Keyword">open</a> <a id="372" class="Keyword">import</a> <a id="379" href="Prelude.Ord.html" class="Module">Prelude.Ord</a>
<a id="391" class="Keyword">open</a> <a id="396" class="Keyword">import</a> <a id="403" href="Prelude.Traces.html" class="Module">Prelude.Traces</a>
<a id="418" class="Keyword">open</a> <a id="423" class="Keyword">import</a> <a id="430" href="Prelude.Null.html" class="Module">Prelude.Null</a>
<a id="443" class="Keyword">open</a> <a id="448" class="Keyword">import</a> <a id="455" href="Prelude.Setoid.html" class="Module">Prelude.Setoid</a>
<a id="470" class="Keyword">open</a> <a id="475" class="Keyword">import</a> <a id="482" href="Prelude.Nary.html" class="Module">Prelude.Nary</a>
<a id="495" class="Keyword">open</a> <a id="500" class="Keyword">import</a> <a id="507" href="Prelude.ToList.html" class="Module">Prelude.ToList</a>
<a id="522" class="Keyword">open</a> <a id="527" class="Keyword">import</a> <a id="534" href="Prelude.Functor.html" class="Module">Prelude.Functor</a>
<a id="550" class="Keyword">open</a> <a id="555" class="Keyword">import</a> <a id="562" href="Prelude.Decidable.html" class="Module">Prelude.Decidable</a>
<a id="580" class="Keyword">open</a> <a id="585" class="Keyword">import</a> <a id="592" href="Prelude.Num.html" class="Module">Prelude.Num</a>

<a id="605" class="Keyword">open</a> <a id="610" class="Keyword">import</a> <a id="617" href="SecureCompilation.ModuleParameters.html" class="Module">SecureCompilation.ModuleParameters</a> <a id="652" class="Keyword">using</a> <a id="658" class="Symbol">(</a><a id="659" href="SecureCompilation.ModuleParameters.html#209" class="Record">⋯</a><a id="660" class="Symbol">)</a>
<a id="662" class="Keyword">module</a> <a id="669" href="Coherence.Hypotheses.html" class="Module">Coherence.Hypotheses</a> <a id="690" class="Symbol">(</a><a id="691" href="Coherence.Hypotheses.html#691" class="Bound">⋯</a> <a id="693" class="Symbol">:</a> <a id="695" href="SecureCompilation.ModuleParameters.html#209" class="Record">⋯</a><a id="696" class="Symbol">)</a> <a id="698" class="Symbol">(</a><a id="699" class="Keyword">let</a> <a id="703" class="Keyword">open</a> <a id="708" href="SecureCompilation.ModuleParameters.html#209" class="Module">⋯</a> <a id="710" href="Coherence.Hypotheses.html#691" class="Bound">⋯</a><a id="711" class="Symbol">)</a> <a id="713" class="Keyword">where</a>

<a id="720" class="Keyword">open</a> <a id="725" class="Keyword">import</a> <a id="732" href="SymbolicModel.html" class="Module">SymbolicModel</a> <a id="746" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a> as <a id="S"></a><a id="752" href="Coherence.Hypotheses.html#752" class="Module">S</a>
  <a id="756" class="Keyword">hiding</a> <a id="763" class="Symbol">(</a> <a id="765" href="Prelude.Closures.html#5661" class="InductiveConstructor Operator">_∎</a><a id="767" class="Symbol">;</a> <a id="769" href="Prelude.Closures.html#5559" class="InductiveConstructor Operator">begin_</a>
         <a id="785" class="Comment">{-variables-}</a>
         <a id="808" class="Symbol">;</a> <a id="810" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Γ₀</a><a id="812" class="Symbol">;</a> <a id="814" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a><a id="815" class="Symbol">;</a> <a id="817" href="BitML.Semantics.Configurations.Types.html#1140" class="Generalizable">Γ′</a><a id="819" class="Symbol">;</a> <a id="821" href="BitML.Semantics.Configurations.Types.html#1143" class="Generalizable">Γ″</a><a id="823" class="Symbol">;</a> <a id="825" href="BitML.Semantics.Configurations.Types.html#1456" class="Generalizable">Γₜ</a><a id="827" class="Symbol">;</a> <a id="829" href="BitML.Semantics.Configurations.Types.html#1459" class="Generalizable">Γₜ′</a><a id="832" class="Symbol">;</a> <a id="834" href="BitML.Semantics.Configurations.Types.html#1463" class="Generalizable">Γₜ″</a><a id="837" class="Symbol">;</a> <a id="839" href="BitML.Semantics.Configurations.Types.html#1157" class="Generalizable">Δ</a>
         <a id="850" class="Symbol">;</a> <a id="852" href="SymbolicModel.Run.Base.html#457" class="Generalizable">R</a><a id="853" class="Symbol">;</a> <a id="855" href="SymbolicModel.Run.Base.html#459" class="Generalizable">R′</a><a id="857" class="Symbol">;</a> <a id="859" href="SymbolicModel.Run.Base.html#465" class="Generalizable">Rˢ</a><a id="861" class="Symbol">;</a> <a id="863" href="SymbolicModel.Run.Base.html#468" class="Generalizable">Rˢ′</a>
         <a id="876" class="Symbol">;</a> <a id="878" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a><a id="879" class="Symbol">;</a> <a id="881" href="BitML.Contracts.Types.html#373" class="Generalizable">B</a><a id="882" class="Symbol">;</a> <a id="884" href="BitML.Contracts.Types.html#378" class="Generalizable">B′</a>
         <a id="896" class="Symbol">;</a> <a id="898" href="BitML.Contracts.Types.html#2330" class="Field">G</a><a id="899" class="Symbol">;</a> <a id="901" href="BitML.Contracts.Types.html#2351" class="Field">C</a>
         <a id="912" class="Symbol">;</a> <a id="914" href="BitML.BasicTypes.html#578" class="Generalizable">t</a><a id="915" class="Symbol">;</a> <a id="917" href="BitML.BasicTypes.html#582" class="Generalizable">t′</a><a id="919" class="Symbol">;</a> <a id="921" href="BitML.BasicTypes.html#580" class="Generalizable">δ</a><a id="922" class="Symbol">;</a> <a id="924" href="BitML.BasicTypes.html#434" class="Generalizable">n</a>
         <a id="935" class="Symbol">;</a> <a id="937" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a><a id="939" class="Symbol">;</a> <a id="941" href="BitML.Contracts.Types.html#2159" class="Generalizable">g</a><a id="942" class="Symbol">;</a> <a id="944" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a><a id="945" class="Symbol">;</a> <a id="947" href="BitML.Contracts.Types.html#1254" class="Generalizable">c′</a><a id="949" class="Symbol">;</a> <a id="951" href="BitML.Contracts.Types.html#1273" class="Generalizable">cs</a><a id="953" class="Symbol">;</a> <a id="955" href="BitML.Contracts.Types.html#1241" class="Generalizable">ds</a><a id="957" class="Symbol">;</a> <a id="959" href="BitML.Contracts.Types.html#1222" class="Generalizable">d</a><a id="960" class="Symbol">;</a> <a id="962" href="BitML.Contracts.Types.html#1298" class="Generalizable">vcs</a>
         <a id="975" class="Symbol">;</a> <a id="977" href="BitML.BasicTypes.html#527" class="Generalizable">x</a><a id="978" class="Symbol">;</a> <a id="980" href="BitML.BasicTypes.html#533" class="Generalizable">x′</a><a id="982" class="Symbol">;</a> <a id="984" href="BitML.BasicTypes.html#529" class="Generalizable">y</a><a id="985" class="Symbol">;</a> <a id="987" href="BitML.BasicTypes.html#536" class="Generalizable">y′</a><a id="989" class="Symbol">;</a> <a id="991" href="BitML.BasicTypes.html#531" class="Generalizable">z</a><a id="992" class="Symbol">;</a> <a id="994" href="BitML.BasicTypes.html#558" class="Generalizable">xs</a>
         <a id="1006" class="Symbol">;</a> <a id="1008" href="BitML.BasicTypes.html#484" class="Generalizable">a</a><a id="1009" class="Symbol">;</a> <a id="1011" href="BitML.BasicTypes.html#503" class="Generalizable">as</a>
         <a id="1023" class="Symbol">;</a> <a id="1025" href="BitML.BasicTypes.html#443" class="Generalizable">v</a><a id="1026" class="Symbol">;</a> <a id="1028" href="BitML.BasicTypes.html#445" class="Generalizable">v′</a><a id="1030" class="Symbol">;</a> <a id="1032" href="BitML.BasicTypes.html#461" class="Generalizable">vs</a>
         <a id="1044" class="Symbol">;</a> <a id="1046" href="BitML.Semantics.Label.html#1651" class="Generalizable">α</a><a id="1047" class="Symbol">;</a> <a id="1049" href="BitML.Predicate.html#747" class="Generalizable">p</a><a id="1050" class="Symbol">;</a> <a id="1052" href="SymbolicModel.Strategy.html#628" class="Field">Σ</a>
         <a id="1063" class="Symbol">)</a>
<a id="1065" class="Keyword">open</a> <a id="1070" class="Keyword">import</a> <a id="1077" href="ComputationalModel.html" class="Module">ComputationalModel</a> <a id="1096" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a> <a id="1099" href="SecureCompilation.ModuleParameters.html#450" class="Field">finPart</a> <a id="1107" href="SecureCompilation.ModuleParameters.html#487" class="Field">keypairs</a>
  <a id="1118" class="Keyword">hiding</a> <a id="1125" class="Symbol">(</a> <a id="1127" href="Bitcoin.Script.Base.html#821" class="InductiveConstructor">`</a><a id="1128" class="Symbol">;</a> <a id="1130" href="Bitcoin.Script.Base.html#1071" class="InductiveConstructor Operator">∣_∣</a><a id="1133" class="Symbol">;</a> <a id="1135" href="Bitcoin.Script.Base.html#1594" class="Function Operator">_`∧_</a><a id="1139" class="Symbol">;</a> <a id="1141" href="Bitcoin.Script.Base.html#1693" class="Function Operator">_`∨_</a><a id="1145" class="Symbol">;</a> <a id="1147" href="Bitcoin.Script.Base.html#893" class="InductiveConstructor Operator">_`=_</a><a id="1151" class="Symbol">;</a> <a id="1153" href="Bitcoin.Script.Base.html#898" class="InductiveConstructor Operator">_`&lt;_</a><a id="1157" class="Symbol">;</a> <a id="1159" href="Bitcoin.Script.Base.html#1549" class="Function">`true</a><a id="1164" class="Symbol">;</a> <a id="1166" href="Bitcoin.Consistency.html#3086" class="InductiveConstructor">∎</a>
         <a id="1177" class="Symbol">;</a> <a id="1179" href="ComputationalModel.Run.html#1309" class="Function">Run</a><a id="1182" class="Symbol">;</a> <a id="1184" href="Bitcoin.BasicTypes.html#293" class="Function">Time</a><a id="1188" class="Symbol">;</a> <a id="1190" href="Bitcoin.BasicTypes.html#260" class="Function">Value</a><a id="1195" class="Symbol">;</a> <a id="1197" href="ComputationalModel.Run.html#1251" class="Function">DecEq-Label</a>
         <a id="1218" class="Symbol">;</a> <a id="1220" href="ComputationalModel.Strategy.html#2509" class="Function">HonestMoves</a><a id="1231" class="Symbol">;</a> <a id="1233" href="ComputationalModel.Strategy.html#2425" class="Function">HonestStrategies</a><a id="1249" class="Symbol">;</a> <a id="1251" href="ComputationalModel.Strategy.html#1258" class="Record">ParticipantStrategy</a>
         <a id="1280" class="Symbol">;</a> <a id="1282" href="ComputationalModel.Strategy.html#1379" class="Function">Valid-Strategy</a><a id="1296" class="Symbol">;</a> <a id="1298" href="ComputationalModel.Strategy.html#2580" class="Generalizable">moves</a>
         <a id="1313" class="Symbol">;</a> <a id="1315" href="ComputationalModel.Strategy.html#1317" class="Field">Σ</a>
         <a id="1326" class="Symbol">;</a> <a id="1328" class="Keyword">module</a> <a id="1335" href="ComputationalModel.Strategy.html#2608" class="Module">AdvM</a>
         <a id="1349" class="Comment">{-variables-}</a>
         <a id="1372" class="Symbol">;</a> <a id="1374" href="ComputationalModel.Run.html#1378" class="Generalizable">R</a><a id="1375" class="Symbol">;</a> <a id="1377" href="ComputationalModel.Run.html#1380" class="Generalizable">R′</a><a id="1379" class="Symbol">;</a> <a id="1381" href="ComputationalModel.Run.html#1383" class="Generalizable">R″</a><a id="1383" class="Symbol">;</a> <a id="1385" href="ComputationalModel.Run.html#4351" class="Generalizable">Rᶜ</a>
         <a id="1397" class="Symbol">;</a> <a id="1399" href="Bitcoin.Script.Semantics.html#843" class="Field">tx</a><a id="1401" class="Symbol">;</a> <a id="1403" href="Bitcoin.Tx.Base.html#2058" class="Generalizable">i</a><a id="1404" class="Symbol">;</a> <a id="1406" href="Bitcoin.BasicTypes.html#429" class="Generalizable">t</a><a id="1407" class="Symbol">;</a> <a id="1409" href="Bitcoin.BasicTypes.html#431" class="Generalizable">t′</a><a id="1411" class="Symbol">;</a> <a id="1413" href="Bitcoin.BasicTypes.html#418" class="Generalizable">n</a><a id="1414" class="Symbol">;</a> <a id="1416" href="ComputationalModel.Run.html#1361" class="Generalizable">m</a><a id="1417" class="Symbol">;</a> <a id="1419" href="ComputationalModel.Run.html#1363" class="Generalizable">m′</a><a id="1421" class="Symbol">;</a> <a id="1423" href="ComputationalModel.Run.html#1394" class="Generalizable">λᶜ</a>
         <a id="1435" class="Symbol">)</a>
  <a id="1439" class="Keyword">renaming</a> <a id="1448" class="Symbol">(</a><a id="1449" href="ComputationalModel.Run.html#913" class="Datatype">Label</a> <a id="1455" class="Symbol">to</a> <a id="1458" class="Datatype">CLabel</a><a id="1464" class="Symbol">;</a> <a id="1466" href="ComputationalModel.Run.html#1329" class="Function">Labels</a> <a id="1473" class="Symbol">to</a> <a id="1476" class="Function">CLabels</a><a id="1483" class="Symbol">)</a>
<a id="1485" class="Keyword">open</a> <a id="1490" class="Keyword">import</a> <a id="1497" href="Compiler.html" class="Module">Compiler</a> <a id="1506" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a> <a id="1509" href="SecureCompilation.ModuleParameters.html#357" class="Field">η</a>
<a id="1511" class="Keyword">open</a> <a id="1516" class="Keyword">import</a> <a id="1523" href="Coherence.ComputationalContracts.html" class="Module">Coherence.ComputationalContracts</a> <a id="1556" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a>
<a id="1559" class="Keyword">open</a> <a id="1564" class="Keyword">import</a> <a id="1571" href="Coherence.Helpers.html" class="Module">Coherence.Helpers</a> <a id="1589" href="Coherence.Hypotheses.html#691" class="Bound">⋯</a>

<a id="1592" class="Comment">-- shorthands</a>
<a id="StepRel"></a><a id="1606" href="Coherence.Hypotheses.html#1606" class="Function">StepRel</a> <a id="1614" class="Symbol">:</a> <a id="1616" href="Agda.Primitive.html#320" class="Primitive">Type₁</a>
<a id="1622" href="Coherence.Hypotheses.html#1606" class="Function">StepRel</a> <a id="1630" class="Symbol">=</a> <a id="1632" class="Symbol">(</a><a id="1633" href="Coherence.Hypotheses.html#1633" class="Bound">Γₜ</a> <a id="1636" class="Symbol">:</a> <a id="1638" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a><a id="1642" class="Symbol">)</a> <a id="1644" class="Symbol">{</a><a id="1645" href="Coherence.Hypotheses.html#1645" class="Bound">Rˢ</a> <a id="1648" class="Symbol">:</a> <a id="1650" href="SymbolicModel.Run.Base.html#430" class="Function">S.Run</a><a id="1655" class="Symbol">}</a>
        <a id="1665" class="Symbol">→</a> <a id="1667" href="SymbolicModel.Mappings.html#1658" class="Datatype">ℝ∗</a> <a id="1670" href="Coherence.Hypotheses.html#1645" class="Bound">Rˢ</a>
        <a id="1681" class="Symbol">→</a> <a id="1683" href="SymbolicModel.Mappings.html#1577" class="Function">𝕃</a> <a id="1685" href="Coherence.Hypotheses.html#1645" class="Bound">Rˢ</a> <a id="1688" href="Coherence.Hypotheses.html#1633" class="Bound">Γₜ</a>
        <a id="1699" class="Symbol">→</a> <a id="1701" href="Coherence.Hypotheses.html#1458" class="Datatype">CLabel</a>
        <a id="1716" class="Symbol">→</a> <a id="1718" href="ComputationalModel.Run.html#4253" class="Datatype">CRun</a>
        <a id="1731" class="Symbol">→</a> <a id="1733" href="Agda.Primitive.html#320" class="Primitive">Type</a>

<a id="1739" class="Keyword">record</a> <a id="Transition"></a><a id="1746" href="Coherence.Hypotheses.html#1746" class="Record">Transition</a> <a id="1757" class="Symbol">:</a> <a id="1759" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="1764" class="Keyword">where</a>
  <a id="1772" class="Keyword">constructor</a> <a id="_⨾_——_—→_⨾_⊣_"></a><a id="1784" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">_⨾_——_—→_⨾_⊣_</a>
  <a id="1800" class="Keyword">field</a>
    <a id="Transition.Γ"></a><a id="1810" href="Coherence.Hypotheses.html#1810" class="Field">Γ</a>  <a id="1813" class="Symbol">:</a> <a id="1815" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a>
    <a id="Transition.t"></a><a id="1823" href="Coherence.Hypotheses.html#1823" class="Field">t</a>  <a id="1826" class="Symbol">:</a> <a id="1828" href="BitML.BasicTypes.html#413" class="Function">Time</a>
    <a id="Transition.α"></a><a id="1837" href="Coherence.Hypotheses.html#1837" class="Field">α</a>  <a id="1840" class="Symbol">:</a> <a id="1842" href="BitML.Semantics.Label.html#459" class="Datatype">Label</a>
    <a id="Transition.Γ′"></a><a id="1852" href="Coherence.Hypotheses.html#1852" class="Field">Γ′</a> <a id="1855" class="Symbol">:</a> <a id="1857" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a>
    <a id="Transition.t′"></a><a id="1865" href="Coherence.Hypotheses.html#1865" class="Field">t′</a> <a id="1868" class="Symbol">:</a> <a id="1870" href="BitML.BasicTypes.html#413" class="Function">Time</a>
  <a id="Transition.Γₜ"></a><a id="1877" href="Coherence.Hypotheses.html#1877" class="Function">Γₜ</a>  <a id="1881" class="Symbol">=</a> <a id="1883" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a> <a id="1888" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="1890" href="Coherence.Hypotheses.html#1810" class="Field">Γ</a> <a id="1892" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="1895" href="Coherence.Hypotheses.html#1823" class="Field">t</a>
  <a id="Transition.Γₜ′"></a><a id="1899" href="Coherence.Hypotheses.html#1899" class="Function">Γₜ′</a> <a id="1903" class="Symbol">=</a> <a id="1905" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a> <a id="1910" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="1912" href="Coherence.Hypotheses.html#1852" class="Field">Γ′</a> <a id="1915" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="1918" href="Coherence.Hypotheses.html#1865" class="Field">t′</a>
  <a id="1923" class="Keyword">field</a>
    <a id="Transition.Γ→"></a><a id="1933" href="Coherence.Hypotheses.html#1933" class="Field">Γ→</a> <a id="1936" class="Symbol">:</a> <a id="1938" href="Coherence.Hypotheses.html#1877" class="Function">Γₜ</a> <a id="1941" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="1944" href="Coherence.Hypotheses.html#1837" class="Field">α</a> <a id="1946" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="1950" href="Coherence.Hypotheses.html#1899" class="Function">Γₜ′</a>

<a id="1955" class="Keyword">record</a> <a id="ℍ-Run"></a><a id="1962" href="Coherence.Hypotheses.html#1962" class="Record">ℍ-Run</a> <a id="1968" class="Symbol">{</a><a id="1969" href="Coherence.Hypotheses.html#1969" class="Bound">Γₜ</a> <a id="1972" href="Coherence.Hypotheses.html#1972" class="Bound">α</a> <a id="1974" href="Coherence.Hypotheses.html#1974" class="Bound">Γₜ′</a><a id="1977" class="Symbol">}</a> <a id="1979" class="Symbol">(</a><a id="1980" href="Coherence.Hypotheses.html#1980" class="Bound">Γ→</a> <a id="1983" class="Symbol">:</a> <a id="1985" href="Coherence.Hypotheses.html#1969" class="Bound">Γₜ</a> <a id="1988" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="1991" href="Coherence.Hypotheses.html#1972" class="Bound">α</a> <a id="1993" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="1997" href="Coherence.Hypotheses.html#1974" class="Bound">Γₜ′</a><a id="2000" class="Symbol">)</a> <a id="2002" class="Symbol">:</a> <a id="2004" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="2009" class="Keyword">where</a>
  <a id="2017" class="Keyword">constructor</a> <a id="_⨾_⨾_⊣_≈_⊣_"></a><a id="2029" href="Coherence.Hypotheses.html#2029" class="InductiveConstructor Operator">_⨾_⨾_⊣_≈_⊣_</a>
  <a id="2043" class="Keyword">private</a> <a id="ℍ-Run.Γ′"></a><a id="2051" href="Coherence.Hypotheses.html#2051" class="Function">Γ′</a> <a id="2054" class="Symbol">=</a> <a id="2056" href="Coherence.Hypotheses.html#1974" class="Bound">Γₜ′</a> <a id="2060" class="Symbol">.</a><a id="2061" href="BitML.Semantics.Configurations.Types.html#1335" class="Field">cfg</a><a id="2064" class="Symbol">;</a> <a id="ℍ-Run.t′"></a><a id="2066" href="Coherence.Hypotheses.html#2066" class="Function">t′</a> <a id="2069" class="Symbol">=</a> <a id="2071" href="Coherence.Hypotheses.html#1974" class="Bound">Γₜ′</a> <a id="2075" class="Symbol">.</a><a id="2076" href="BitML.Semantics.Configurations.Types.html#1354" class="Field">time</a>
  <a id="2083" class="Keyword">field</a>
    <a id="ℍ-Run.Rᶜ"></a><a id="2093" href="Coherence.Hypotheses.html#2093" class="Field">Rᶜ</a> <a id="2096" class="Symbol">:</a> <a id="2098" href="ComputationalModel.Run.html#4253" class="Datatype">CRun</a>
    <a id="ℍ-Run.Rˢ"></a><a id="2107" href="Coherence.Hypotheses.html#2107" class="Field">Rˢ</a> <a id="2110" class="Symbol">:</a> <a id="2112" href="SymbolicModel.Run.Base.html#430" class="Function">Run</a>
    <a id="ℍ-Run.𝕣∗"></a><a id="2120" href="Coherence.Hypotheses.html#2120" class="Field">𝕣∗</a> <a id="2123" class="Symbol">:</a> <a id="2125" href="SymbolicModel.Mappings.html#1658" class="Datatype">ℝ∗</a> <a id="2128" href="Coherence.Hypotheses.html#2107" class="Field">Rˢ</a>
    <a id="ℍ-Run.R≈"></a><a id="2135" href="Coherence.Hypotheses.html#2135" class="Field">R≈</a> <a id="2138" class="Symbol">:</a> <a id="2140" href="Coherence.Hypotheses.html#2107" class="Field">Rˢ</a> <a id="2143" href="SymbolicModel.Run.Base.html#1997" class="Function Operator">≈⋯</a> <a id="2146" href="Coherence.Hypotheses.html#1969" class="Bound">Γₜ</a>
    <a id="ℍ-Run.Γ″"></a><a id="2153" href="Coherence.Hypotheses.html#2153" class="Field">Γ″</a> <a id="2156" class="Symbol">:</a> <a id="2158" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a>
    <a id="ℍ-Run.Γ≈"></a><a id="2166" href="Coherence.Hypotheses.html#2166" class="Field">Γ≈</a> <a id="2169" class="Symbol">:</a> <a id="2171" href="Coherence.Hypotheses.html#2153" class="Field">Γ″</a> <a id="2174" href="Prelude.Setoid.Core.html#191" class="Field Operator">≈</a> <a id="2176" href="Coherence.Hypotheses.html#2051" class="Function">Γ′</a>
  <a id="ℍ-Run.Γₜ″"></a><a id="2181" href="Coherence.Hypotheses.html#2181" class="Function">Γₜ″</a> <a id="2185" class="Symbol">=</a> <a id="2187" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a> <a id="2192" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="2194" href="Coherence.Hypotheses.html#2153" class="Field">Γ″</a> <a id="2197" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="2200" href="Coherence.Hypotheses.html#2066" class="Function">t′</a>
  <a id="ℍ-Run.∃Γ≈"></a><a id="2205" href="Coherence.Hypotheses.html#2205" class="Function">∃Γ≈</a> <a id="2209" class="Symbol">=</a> <a id="2211" href="Data.Product.html#1378" class="Function">∃</a> <a id="2213" class="Symbol">(</a><a id="2214" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="2217" href="Coherence.Hypotheses.html#2051" class="Function">Γ′</a><a id="2219" class="Symbol">)</a> <a id="2221" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="2223" href="Coherence.Hypotheses.html#2153" class="Field">Γ″</a> <a id="2226" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2228" href="Coherence.Hypotheses.html#2166" class="Field">Γ≈</a>
  <a id="ℍ-Run.𝕣"></a><a id="2233" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a>   <a id="2237" class="Symbol">=</a> <a id="2239" href="SymbolicModel.Mappings.html#6116" class="Function">ℝ∗⇒ℝ</a> <a id="2244" href="Coherence.Hypotheses.html#2120" class="Field">𝕣∗</a>
  <a id="2249" class="Keyword">open</a> <a id="2254" href="SymbolicModel.Mappings.html#958" class="Module">ℝ</a> <a id="2256" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="2258" class="Keyword">public</a>
  <a id="ℍ-Run.𝕒"></a><a id="2267" href="Coherence.Hypotheses.html#2267" class="Function">𝕒</a> <a id="2269" class="Symbol">:</a> <a id="2271" href="SymbolicModel.Run.Base.html#2285" class="Function">𝔸</a> <a id="2273" href="Coherence.Hypotheses.html#2107" class="Field">Rˢ</a> <a id="2276" href="Coherence.Hypotheses.html#2181" class="Function">Γₜ″</a>
  <a id="2282" href="Coherence.Hypotheses.html#2267" class="Function">𝕒</a> <a id="2284" class="Symbol">=</a> <a id="2286" href="Coherence.Hypotheses.html#1972" class="Bound">α</a> <a id="2288" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2290" href="Coherence.Hypotheses.html#1969" class="Bound">Γₜ</a> <a id="2293" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2295" href="Coherence.Hypotheses.html#1974" class="Bound">Γₜ′</a> <a id="2299" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2301" href="Coherence.Hypotheses.html#1980" class="Bound">Γ→</a> <a id="2304" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2306" class="Symbol">(</a><a id="2307" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="2312" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2314" href="Coherence.Hypotheses.html#2166" class="Field">Γ≈</a><a id="2316" class="Symbol">)</a> <a id="2318" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2320" href="Coherence.Hypotheses.html#2135" class="Field">R≈</a>

  <a id="ℍ-Run.Rˢ′"></a><a id="2326" href="Coherence.Hypotheses.html#2326" class="Function">Rˢ′</a> <a id="2330" class="Symbol">:</a> <a id="2332" href="SymbolicModel.Run.Base.html#430" class="Function">Run</a>
  <a id="2338" href="Coherence.Hypotheses.html#2326" class="Function">Rˢ′</a> <a id="2342" class="Symbol">=</a> <a id="2344" href="Coherence.Hypotheses.html#2181" class="Function">Γₜ″</a> <a id="2348" href="SymbolicModel.Run.Base.html#2412" class="Function Operator">∷</a> <a id="2350" href="Coherence.Hypotheses.html#2107" class="Field">Rˢ</a> <a id="2353" href="SymbolicModel.Run.Base.html#2412" class="Function Operator">⊣</a> <a id="2355" href="Coherence.Hypotheses.html#2267" class="Function">𝕒</a>

  <a id="ℍ-Run.R≈′"></a><a id="2360" href="Coherence.Hypotheses.html#2360" class="Function">R≈′</a> <a id="2364" class="Symbol">:</a> <a id="2366" href="Coherence.Hypotheses.html#2326" class="Function">Rˢ′</a> <a id="2370" href="SymbolicModel.Run.Base.html#1997" class="Function Operator">≈⋯</a> <a id="2373" href="Coherence.Hypotheses.html#2051" class="Function">Γ′</a> <a id="2376" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="2379" href="Coherence.Hypotheses.html#2066" class="Function">t′</a>
  <a id="2384" href="Coherence.Hypotheses.html#2360" class="Function">R≈′</a> <a id="2388" class="Symbol">=</a> <a id="2390" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="2395" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2397" href="Coherence.Hypotheses.html#2166" class="Field">Γ≈</a>

  <a id="ℍ-Run.R"></a><a id="2403" href="Coherence.Hypotheses.html#2403" class="Function">R</a> <a id="2405" class="Symbol">=</a> <a id="2407" href="Coherence.Hypotheses.html#2107" class="Field">Rˢ</a><a id="2409" class="Symbol">;</a> <a id="ℍ-Run.R′"></a><a id="2411" href="Coherence.Hypotheses.html#2411" class="Function">R′</a> <a id="2414" class="Symbol">=</a> <a id="2416" href="Coherence.Hypotheses.html#2326" class="Function">Rˢ′</a>

<a id="2421" class="Comment">-- ** Stipulation: advertisting a contract</a>
<a id="2464" class="Keyword">record</a> <a id="H₁-args"></a><a id="2471" href="Coherence.Hypotheses.html#2471" class="Record">H₁-args</a> <a id="2479" class="Symbol">:</a> <a id="2481" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="2486" class="Keyword">where</a>
  <a id="2494" class="Keyword">constructor</a> <a id="mk"></a><a id="2506" href="Coherence.Hypotheses.html#2506" class="InductiveConstructor">mk</a>
  <a id="2511" class="Keyword">field</a>
    <a id="2521" class="Symbol">{</a><a id="H₁-args.ad"></a><a id="2522" href="Coherence.Hypotheses.html#2522" class="Field">ad</a> <a id="H₁-args.Γ₀"></a><a id="2525" href="Coherence.Hypotheses.html#2525" class="Field">Γ₀</a> <a id="H₁-args.t"></a><a id="2528" href="Coherence.Hypotheses.html#2528" class="Field">t</a><a id="2529" class="Symbol">}</a> <a id="2531" class="Symbol">:</a> <a id="2533" class="Symbol">_</a>
  <a id="2537" class="Keyword">open</a> <a id="2542" href="BitML.Contracts.ModuleMacros.html#761" class="Module">∣AD</a> <a id="2546" href="Coherence.Hypotheses.html#2522" class="Field">ad</a> <a id="2549" class="Keyword">public</a>
  <a id="2558" class="Keyword">field</a>
    <a id="2568" class="Comment">-- Hypotheses from [C-Advertise]</a>
    <a id="H₁-args.vad"></a><a id="2605" href="Coherence.Hypotheses.html#2605" class="Field">vad</a> <a id="2609" class="Symbol">:</a> <a id="2611" href="BitML.Contracts.Validity.html#1544" class="Record">ValidAd</a> <a id="2619" href="Coherence.Hypotheses.html#2522" class="Field">ad</a>
    <a id="H₁-args.hon"></a><a id="2626" href="Coherence.Hypotheses.html#2626" class="Field">hon</a> <a id="2630" class="Symbol">:</a> <a id="2632" href="Data.List.Relation.Unary.Any.html#1165" class="Datatype">Any</a> <a id="2636" class="Symbol">(</a><a id="2637" href="Data.List.Membership.Setoid.html#896" class="Function Operator">_∈</a> <a id="2640" href="BitML.BasicTypes.html#785" class="Function">Hon</a><a id="2643" class="Symbol">)</a> <a id="2645" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a>
    <a id="H₁-args.d⊆"></a><a id="2655" href="Coherence.Hypotheses.html#2655" class="Field">d⊆</a>  <a id="2659" class="Symbol">:</a> <a id="2661" href="Coherence.Hypotheses.html#2522" class="Field">ad</a> <a id="2664" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="2667" href="BitML.Contracts.Collections.html#6451" class="Function">deposits</a> <a id="2676" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="2678" href="Coherence.Hypotheses.html#2525" class="Field">Γ₀</a>
  <a id="2683" class="Keyword">open</a> <a id="2688" href="Coherence.Hypotheses.html#1746" class="Module">Transition</a>
    <a id="2703" class="Symbol">(</a> <a id="2705" href="Coherence.Hypotheses.html#2525" class="Field">Γ₀</a> <a id="2708" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="2710" href="Coherence.Hypotheses.html#2528" class="Field">t</a> <a id="2712" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">——</a> <a id="2715" href="BitML.Semantics.Label.html#975" class="InductiveConstructor Operator">advertise⦅</a> <a id="2726" href="Coherence.Hypotheses.html#2522" class="Field">ad</a> <a id="2729" href="BitML.Semantics.Label.html#975" class="InductiveConstructor Operator">⦆</a> <a id="2731" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">—→</a> <a id="2734" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="2736" href="Coherence.Hypotheses.html#2522" class="Field">ad</a> <a id="2739" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="2741" href="Coherence.Hypotheses.html#2525" class="Field">Γ₀</a> <a id="2744" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="2746" href="Coherence.Hypotheses.html#2528" class="Field">t</a>
    <a id="2752" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⊣</a> <a id="2754" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="2758" class="Symbol">(</a><a id="2759" href="BitML.Semantics.InferenceRules.html#3454" class="InductiveConstructor">[C-Advertise]</a> <a id="2773" href="Coherence.Hypotheses.html#2605" class="Field">vad</a> <a id="2777" href="Coherence.Hypotheses.html#2626" class="Field">hon</a> <a id="2781" href="Coherence.Hypotheses.html#2655" class="Field">d⊆</a><a id="2783" class="Symbol">)</a>
    <a id="2789" class="Symbol">)</a> <a id="2791" class="Keyword">public</a> <a id="2798" class="Keyword">hiding</a> <a id="2805" class="Symbol">(</a><a id="2806" href="Coherence.Hypotheses.html#1823" class="Field">t</a><a id="2807" class="Symbol">)</a>
  <a id="2811" class="Keyword">field</a> <a id="H₁-args.𝕙r"></a><a id="2817" href="Coherence.Hypotheses.html#2817" class="Field">𝕙r</a> <a id="2820" class="Symbol">:</a> <a id="2822" href="Coherence.Hypotheses.html#1962" class="Record">ℍ-Run</a> <a id="2828" href="Coherence.Hypotheses.html#1933" class="Function">Γ→</a>
  <a id="2833" class="Keyword">open</a> <a id="2838" href="Coherence.Hypotheses.html#1962" class="Module">ℍ-Run</a> <a id="2844" href="Coherence.Hypotheses.html#2817" class="Field">𝕙r</a> <a id="2847" class="Keyword">public</a>

<a id="2855" class="Keyword">module</a> <a id="2862" href="Coherence.Hypotheses.html#2862" class="Module">H₁</a> <a id="2865" class="Symbol">(</a><a id="2866" href="Coherence.Hypotheses.html#2866" class="Bound">⋯</a> <a id="2868" class="Symbol">:</a> <a id="2870" href="Coherence.Hypotheses.html#2471" class="Record">H₁-args</a><a id="2877" class="Symbol">)</a> <a id="2879" class="Symbol">(</a><a id="2880" class="Keyword">let</a> <a id="2884" class="Keyword">open</a> <a id="2889" href="Coherence.Hypotheses.html#2471" class="Module">H₁-args</a> <a id="2897" href="Coherence.Hypotheses.html#2866" class="Bound">⋯</a><a id="2898" class="Symbol">)</a> <a id="2900" class="Keyword">where</a>
  <a id="2908" href="Coherence.Hypotheses.html#2908" class="Function">λˢ</a> <a id="2911" class="Symbol">:</a> <a id="2913" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="2916" href="Coherence.Hypotheses.html#1899" class="Function">Γₜ′</a>
  <a id="2922" href="Coherence.Hypotheses.html#2908" class="Function">λˢ</a> <a id="2925" class="Symbol">=</a> <a id="2927" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="2933" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="2935" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="2937" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="2940" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="2943" href="Function.Base.html#624" class="Function">id</a> <a id="2946" href="Function.Base.html#624" class="Function">id</a> <a id="2949" href="Function.Base.html#624" class="Function">id</a>
  <a id="2954" class="Keyword">private</a>
    <a id="2966" href="Coherence.Hypotheses.html#2966" class="Function">𝕣′</a> <a id="2969" class="Symbol">:</a> <a id="2971" href="SymbolicModel.Mappings.html#933" class="Function">ℝ</a> <a id="2973" href="Coherence.Hypotheses.html#2411" class="Function">R′</a>
    <a id="2980" href="Coherence.Hypotheses.html#2966" class="Function">𝕣′</a> <a id="2983" class="Symbol">=</a> <a id="2985" href="SymbolicModel.Mappings.html#5830" class="Function">ℝ-step</a> <a id="2992" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="2994" class="Symbol">(</a><a id="2995" href="Coherence.Hypotheses.html#2267" class="Function">𝕒</a> <a id="2997" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2999" href="Coherence.Hypotheses.html#2908" class="Function">λˢ</a><a id="3001" class="Symbol">)</a>
  <a id="3005" class="Keyword">abstract</a>
    <a id="3018" href="Coherence.Hypotheses.html#3018" class="Function">value-preserving⇒</a> <a id="3036" class="Symbol">:</a>
      <a id="3044" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="3061" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a>
      <a id="3069" href="Prelude.InferenceRules.html#14163" class="Function Operator">───────────────────</a>
      <a id="3095" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="3112" href="Coherence.Hypotheses.html#2966" class="Function">𝕣′</a>
    <a id="3119" href="Coherence.Hypotheses.html#3018" class="Function">value-preserving⇒</a> <a id="3137" href="Coherence.Hypotheses.html#3137" class="Bound">pv-txout</a> <a id="3146" class="Symbol">=</a> <a id="3148" href="Coherence.Hypotheses.html#3677" class="Function">pv-txout′</a>
      <a id="3164" class="Keyword">where</a>
      <a id="3176" class="Keyword">open</a> <a id="3181" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

      <a id="3200" href="Coherence.Hypotheses.html#3200" class="Function">txoutΓ</a> <a id="3207" class="Symbol">:</a> <a id="3209" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="3215" class="Symbol">(</a><a id="3216" href="Coherence.Hypotheses.html#2403" class="Function">R</a> <a id="3218" class="Symbol">.</a><a id="3219" href="Prelude.Traces.html#568" class="Field">end</a><a id="3222" class="Symbol">)</a>
      <a id="3230" href="Coherence.Hypotheses.html#3200" class="Function">txoutΓ</a> <a id="3237" class="Symbol">=</a> <a id="3239" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="3241" href="SymbolicModel.Mappings.html#9038" class="Function Operator">∙txoutEnd_</a>

      <a id="3259" href="Coherence.Hypotheses.html#3259" class="Function">txoutΓ′</a> <a id="3267" class="Symbol">:</a> <a id="3269" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="3275" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
      <a id="3284" href="Coherence.Hypotheses.html#3259" class="Function">txoutΓ′</a> <a id="3292" class="Symbol">=</a> <a id="3294" href="SymbolicModel.Mappings.html#1992" class="Function">Txout≈</a> <a id="3301" class="Symbol">{</a><a id="3302" href="Coherence.Hypotheses.html#2403" class="Function">R</a> <a id="3304" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="3308" class="Symbol">}{</a><a id="3310" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="3311" class="Symbol">}</a> <a id="3313" class="Symbol">(</a><a id="3314" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="3317" class="Symbol">.</a><a id="3318" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="3323" class="Symbol">)</a> <a id="3325" href="Coherence.Hypotheses.html#3200" class="Function">txoutΓ</a>

      <a id="3339" href="Coherence.Hypotheses.html#3339" class="Function">pv-txoutΓ′</a> <a id="3350" class="Symbol">:</a> <a id="3352" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="3368" class="Symbol">{</a><a id="3369" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a><a id="3371" class="Symbol">}</a> <a id="3373" href="Coherence.Hypotheses.html#3259" class="Function">txoutΓ′</a>
      <a id="3387" href="Coherence.Hypotheses.html#3339" class="Function">pv-txoutΓ′</a> <a id="3398" class="Symbol">=</a> <a id="3400" href="SymbolicModel.ValuePreservation.html#2490" class="Function">ValuePreserving-Txout≈</a> <a id="3423" class="Symbol">{</a><a id="3424" href="Coherence.Hypotheses.html#2403" class="Function">R</a> <a id="3426" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="3430" class="Symbol">}{</a><a id="3432" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="3433" class="Symbol">}</a> <a id="3435" class="Symbol">(</a><a id="3436" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="3439" class="Symbol">.</a><a id="3440" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="3445" class="Symbol">)</a> <a id="3447" href="Coherence.Hypotheses.html#3200" class="Function">txoutΓ</a> <a id="3454" href="Coherence.Hypotheses.html#3137" class="Bound">pv-txout</a>

      <a id="3470" href="Coherence.Hypotheses.html#3470" class="Function">txoutΓ″</a> <a id="3478" class="Symbol">:</a> <a id="3480" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="3486" href="Coherence.Hypotheses.html#2153" class="Function">Γ″</a>
      <a id="3495" href="Coherence.Hypotheses.html#3470" class="Function">txoutΓ″</a> <a id="3503" class="Symbol">=</a> <a id="3505" href="SymbolicModel.Mappings.html#1992" class="Function">Txout≈</a> <a id="3512" class="Symbol">{</a><a id="3513" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a><a id="3515" class="Symbol">}{</a><a id="3517" href="Coherence.Hypotheses.html#2153" class="Function">Γ″</a><a id="3519" class="Symbol">}</a> <a id="3521" class="Symbol">(</a><a id="3522" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="3528" href="Coherence.Hypotheses.html#2166" class="Function">Γ≈</a><a id="3530" class="Symbol">)</a> <a id="3532" href="Coherence.Hypotheses.html#3259" class="Function">txoutΓ′</a>

      <a id="3547" href="Coherence.Hypotheses.html#3547" class="Function">pv-txoutΓ″</a> <a id="3558" class="Symbol">:</a> <a id="3560" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="3576" class="Symbol">{</a><a id="3577" href="Coherence.Hypotheses.html#2153" class="Function">Γ″</a><a id="3579" class="Symbol">}</a> <a id="3581" href="Coherence.Hypotheses.html#3470" class="Function">txoutΓ″</a>
      <a id="3595" href="Coherence.Hypotheses.html#3547" class="Function">pv-txoutΓ″</a> <a id="3606" class="Symbol">=</a> <a id="3608" href="SymbolicModel.ValuePreservation.html#2490" class="Function">ValuePreserving-Txout≈</a> <a id="3631" class="Symbol">{</a><a id="3632" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a><a id="3634" class="Symbol">}{</a><a id="3636" href="Coherence.Hypotheses.html#2153" class="Function">Γ″</a><a id="3638" class="Symbol">}</a> <a id="3640" class="Symbol">(</a><a id="3641" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="3647" href="Coherence.Hypotheses.html#2166" class="Function">Γ≈</a><a id="3649" class="Symbol">)</a> <a id="3651" href="Coherence.Hypotheses.html#3259" class="Function">txoutΓ′</a> <a id="3659" href="Coherence.Hypotheses.html#3339" class="Function">pv-txoutΓ′</a>

      <a id="3677" href="Coherence.Hypotheses.html#3677" class="Function">pv-txout′</a> <a id="3687" class="Symbol">:</a> <a id="3689" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="3706" href="Coherence.Hypotheses.html#2966" class="Function">𝕣′</a>
      <a id="3715" href="Coherence.Hypotheses.html#3677" class="Function">pv-txout′</a> <a id="3725" href="Coherence.Hypotheses.html#3725" class="Bound">x∈</a> <a id="3728" class="Symbol">=</a>
        <a id="3738" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
          <a id="3754" class="Symbol">(</a><a id="3755" href="Coherence.Hypotheses.html#2966" class="Function">𝕣′</a> <a id="3758" href="SymbolicModel.Mappings.html#9038" class="Function Operator">∙txoutEnd</a> <a id="3768" href="Coherence.Hypotheses.html#3725" class="Bound">x∈</a><a id="3770" class="Symbol">)</a> <a id="3772" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
        <a id="3787" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="3790" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="3795" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">_∙value</a> <a id="3803" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="3805" href="SymbolicModel.Mappings.html#9698" class="Function">txout∷∘namesʳ⦅end⦆⊆</a> <a id="3825" class="Symbol">{</a><a id="3826" class="Argument">R</a> <a id="3828" class="Symbol">=</a> <a id="3830" href="Coherence.Hypotheses.html#2403" class="Function">R</a><a id="3831" class="Symbol">}</a> <a id="3833" href="Coherence.Hypotheses.html#1933" class="Function">Γ→</a> <a id="3836" class="Symbol">(</a><a id="3837" href="Coherence.Hypotheses.html#2360" class="Function">R≈′</a> <a id="3841" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3843" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a><a id="3845" class="Symbol">)</a> <a id="3847" href="Coherence.Hypotheses.html#3259" class="Function">txoutΓ′</a> <a id="3855" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="3862" class="Symbol">_</a> <a id="3864" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="3876" class="Symbol">(</a><a id="3877" href="Coherence.Hypotheses.html#3470" class="Function">txoutΓ″</a> <a id="3885" href="Coherence.Hypotheses.html#3725" class="Bound">x∈</a><a id="3887" class="Symbol">)</a> <a id="3889" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
        <a id="3904" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="3907" href="Coherence.Hypotheses.html#3547" class="Function">pv-txoutΓ″</a> <a id="3918" class="Symbol">_</a> <a id="3920" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="3932" class="Symbol">(</a><a id="3933" href="Coherence.Hypotheses.html#2153" class="Function">Γ″</a> <a id="3936" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3938" href="Coherence.Hypotheses.html#3725" class="Bound">x∈</a><a id="3940" class="Symbol">)</a> <a id="3942" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
        <a id="3957" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

<a id="3960" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[1]~_⨾_"></a><a id="3965" href="Coherence.Hypotheses.html#3965" class="Datatype Operator">_⨾_⨾_~ℍ[1]~_⨾_</a> <a id="3980" class="Symbol">:</a> <a id="3982" href="Coherence.Hypotheses.html#1606" class="Function">StepRel</a> <a id="3990" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[1]~_⨾_.mkℍ"></a><a id="3998" href="Coherence.Hypotheses.html#3998" class="InductiveConstructor">mkℍ</a> <a id="4002" class="Symbol">:</a> <a id="4004" class="Symbol">∀</a> <a id="4006" class="Symbol">{</a><a id="4007" href="Coherence.Hypotheses.html#4007" class="Bound">h</a> <a id="4009" class="Symbol">:</a> <a id="4011" href="Coherence.Hypotheses.html#2471" class="Record">H₁-args</a><a id="4018" class="Symbol">}</a> <a id="4020" class="Symbol">{</a><a id="4021" href="Coherence.Hypotheses.html#4021" class="Bound">A</a><a id="4022" class="Symbol">}</a>
    <a id="4028" class="Symbol">→</a> <a id="4030" class="Keyword">let</a>
        <a id="4042" class="Comment">-- (i) consume {G}C and its persistent deposits from Rˢ</a>
        <a id="4106" class="Keyword">open</a> <a id="4111" href="Coherence.Hypotheses.html#2471" class="Module">H₁-args</a> <a id="4119" href="Coherence.Hypotheses.html#4007" class="Bound">h</a> <a id="4121" class="Keyword">renaming</a> <a id="4130" class="Symbol">(</a><a id="4131" href="Coherence.Hypotheses.html#2522" class="Field">ad</a> <a id="4134" class="Symbol">to</a> <a id="4137" class="Field">⟨G⟩C</a><a id="4141" class="Symbol">)</a>

        <a id="4152" class="Comment">-- txout′ = txout, sechash′ = sechash, κ′ = κ</a>
        <a id="4206" class="Keyword">open</a> <a id="4211" href="Coherence.Hypotheses.html#2862" class="Module">H₁</a> <a id="4214" href="Coherence.Hypotheses.html#4007" class="Bound">h</a> <a id="4216" class="Keyword">using</a> <a id="4222" class="Symbol">(</a><a id="4223" href="Coherence.Hypotheses.html#2908" class="Function">λˢ</a><a id="4225" class="Symbol">)</a>

        <a id="4236" href="Coherence.Hypotheses.html#4236" class="Bound">m</a> <a id="4238" class="Symbol">=</a>
          <a id="4250" class="Keyword">let</a>
            <a id="4266" href="Coherence.Hypotheses.html#4266" class="Bound">txoutΓ</a> <a id="4273" class="Symbol">=</a> <a id="4275" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="4281" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="4283" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="4285" href="SymbolicModel.Mappings.html#1992" class="Function">Txout≈</a> <a id="4292" class="Symbol">{</a><a id="4293" href="Coherence.Hypotheses.html#2107" class="Function">Rˢ</a> <a id="4296" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="4300" class="Symbol">}{</a><a id="4302" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="4303" class="Symbol">}</a> <a id="4305" class="Symbol">(</a><a id="4306" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="4309" class="Symbol">.</a><a id="4310" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="4315" class="Symbol">)</a> <a id="4317" class="Symbol">(</a><a id="4318" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="4320" href="SymbolicModel.Mappings.html#9038" class="Function Operator">∙txoutEnd_</a><a id="4330" class="Symbol">)</a>
            <a id="4344" href="Coherence.Hypotheses.html#4344" class="Bound">txoutG</a> <a id="4351" class="Symbol">=</a> <a id="4353" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="4359" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a> <a id="4361" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="4363" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="4372" href="Coherence.Hypotheses.html#4266" class="Bound">txoutΓ</a> <a id="4379" class="Symbol">(</a><a id="4380" href="BitML.Properties.Helpers.html#6513" class="Function">deposits⊆⇒namesʳ⊆</a> <a id="4398" class="Symbol">{</a><a id="4399" href="Coherence.Hypotheses.html#4137" class="Function">⟨G⟩C</a><a id="4403" class="Symbol">}{</a><a id="4405" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="4406" class="Symbol">}</a> <a id="4408" href="Coherence.Hypotheses.html#2655" class="Function">d⊆</a><a id="4410" class="Symbol">)</a>
            <a id="4424" href="Coherence.Hypotheses.html#4424" class="Bound">txoutC</a> <a id="4431" class="Symbol">=</a> <a id="4433" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="4439" href="BitML.Contracts.ModuleMacros.html#783" class="Function">C</a> <a id="4441" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="4443" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="4452" href="Coherence.Hypotheses.html#4344" class="Bound">txoutG</a> <a id="4459" class="Symbol">(</a><a id="4460" href="Prelude.Lists.MapMaybe.html#9263" class="Function">mapMaybe-⊆</a> <a id="4471" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="4478" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="4480" href="Coherence.Hypotheses.html#2605" class="Function">vad</a> <a id="4484" href="BitML.Contracts.Validity.html#2163" class="Function Operator">∙names-⊆</a><a id="4492" class="Symbol">)</a>
          <a id="4504" class="Keyword">in</a>
            <a id="4519" href="Coherence.ComputationalContracts.html#12140" class="Function">encodeAd</a> <a id="4528" href="Coherence.Hypotheses.html#4137" class="Function">⟨G⟩C</a> <a id="4533" class="Symbol">(</a><a id="4534" href="Coherence.Hypotheses.html#4344" class="Bound">txoutG</a> <a id="4541" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4543" href="Coherence.Hypotheses.html#4424" class="Bound">txoutC</a><a id="4549" class="Symbol">)</a>
        <a id="4559" href="Coherence.Hypotheses.html#4559" class="Bound">λᶜ</a> <a id="4562" class="Symbol">=</a> <a id="4564" href="Coherence.Hypotheses.html#4021" class="Bound">A</a> <a id="4566" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="4570" href="Coherence.Hypotheses.html#4236" class="Bound">m</a>
      <a id="4578" class="Keyword">in</a>
      <a id="4587" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="4647" href="Coherence.Hypotheses.html#2181" class="Function">Γₜ″</a> <a id="4651" href="Coherence.Hypotheses.html#3965" class="Datatype Operator">⨾</a> <a id="4653" href="Coherence.Hypotheses.html#2120" class="Function">𝕣∗</a> <a id="4656" href="Coherence.Hypotheses.html#3965" class="Datatype Operator">⨾</a> <a id="4658" class="Symbol">(</a><a id="4659" href="Coherence.Hypotheses.html#2267" class="Function">𝕒</a> <a id="4661" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4663" href="Coherence.Hypotheses.html#2908" class="Function">λˢ</a><a id="4665" class="Symbol">)</a> <a id="4667" href="Coherence.Hypotheses.html#3965" class="Datatype Operator">~ℍ[1]~</a> <a id="4674" href="Coherence.Hypotheses.html#4559" class="Bound">λᶜ</a> <a id="4677" href="Coherence.Hypotheses.html#3965" class="Datatype Operator">⨾</a> <a id="4679" href="Coherence.Hypotheses.html#2093" class="Function">Rᶜ</a>

<a id="4683" class="Comment">-- ** Stipulation: committing secrets</a>
<a id="4721" class="Keyword">record</a> <a id="H₂-args"></a><a id="4728" href="Coherence.Hypotheses.html#4728" class="Record">H₂-args</a> <a id="4736" class="Symbol">:</a> <a id="4738" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="4743" class="Keyword">where</a>
  <a id="4751" class="Keyword">constructor</a> <a id="mk"></a><a id="4763" href="Coherence.Hypotheses.html#4763" class="InductiveConstructor">mk</a>
  <a id="4768" class="Keyword">field</a>
    <a id="4778" class="Symbol">{</a><a id="H₂-args.ad"></a><a id="4779" href="Coherence.Hypotheses.html#4779" class="Field">ad</a> <a id="H₂-args.Γ₀"></a><a id="4782" href="Coherence.Hypotheses.html#4782" class="Field">Γ₀</a> <a id="H₂-args.t"></a><a id="4785" href="Coherence.Hypotheses.html#4785" class="Field">t</a> <a id="H₂-args.A"></a><a id="4787" href="Coherence.Hypotheses.html#4787" class="Field">A</a><a id="4788" class="Symbol">}</a> <a id="4790" class="Symbol">:</a> <a id="4792" class="Symbol">_</a>
    <a id="H₂-args.k⃗"></a><a id="4798" href="Coherence.Hypotheses.html#4798" class="Field">k⃗</a>   <a id="4803" class="Symbol">:</a> <a id="4805" href="Compiler.Mappings.html#454" class="Function">𝕂²′</a> <a id="4809" href="Coherence.Hypotheses.html#4779" class="Field">ad</a>
    <a id="H₂-args.Δ×h̅"></a><a id="4816" href="Coherence.Hypotheses.html#4816" class="Field">Δ×h̅</a> <a id="4821" class="Symbol">:</a> <a id="4823" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="4828" class="Symbol">(</a><a id="4829" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="4836" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="4838" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="4844" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="4846" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="4848" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a><a id="4849" class="Symbol">)</a>
  <a id="4853" class="Keyword">open</a> <a id="4858" href="BitML.Contracts.ModuleMacros.html#761" class="Module">∣AD</a> <a id="4862" href="Coherence.Hypotheses.html#4779" class="Field">ad</a> <a id="4865" class="Keyword">public</a>
    <a id="4876" class="Keyword">hiding</a> <a id="4883" class="Symbol">(</a><a id="4884" href="BitML.Contracts.ModuleMacros.html#783" class="Function">C</a><a id="4885" class="Symbol">)</a>
  <a id="H₂-args.h̅"></a><a id="4889" href="Coherence.Hypotheses.html#4889" class="Function">h̅</a>  <a id="4893" class="Symbol">=</a> <a id="4895" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="4900" href="Bitcoin.BasicTypes.html#351" class="Function">HashId</a>             <a id="4919" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="4921" href="Data.List.Base.html#1553" class="Function">map</a> <a id="4925" class="Symbol">(</a><a id="4926" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="4932" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="4934" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="4939" class="Symbol">)</a> <a id="4941" href="Coherence.Hypotheses.html#4816" class="Field">Δ×h̅</a>
  <a id="H₂-args.Δ"></a><a id="4948" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a>  <a id="4951" class="Symbol">=</a> <a id="4953" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="4958" class="Symbol">(</a><a id="4959" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="4966" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="4968" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="4974" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="4975" class="Symbol">)</a> <a id="4977" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="4979" href="Data.List.Base.html#1553" class="Function">map</a> <a id="4983" href="Prelude.Nary.html#3032" class="Function">drop₃</a>   <a id="4991" href="Coherence.Hypotheses.html#4816" class="Field">Δ×h̅</a>
  <a id="H₂-args.Δᶜ"></a><a id="4998" href="Coherence.Hypotheses.html#4998" class="Function">Δᶜ</a> <a id="5001" class="Symbol">=</a> <a id="5003" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="5006" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5010" class="Symbol">(</a><a id="5011" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="5019" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="5021" href="Coherence.Hypotheses.html#4787" class="Field">A</a> <a id="5023" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="5028" class="Symbol">)</a> <a id="5030" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a>
  <a id="H₂-args.as"></a><a id="5034" href="Coherence.Hypotheses.html#5034" class="Function">as</a> <a id="5037" class="Symbol">=</a> <a id="5039" href="Data.List.Base.html#3708" class="Function">unzip</a> <a id="5045" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a> <a id="5047" class="Symbol">.</a><a id="5048" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₂-args.ms"></a><a id="5056" href="Coherence.Hypotheses.html#5056" class="Function">ms</a> <a id="5059" class="Symbol">=</a> <a id="5061" href="Data.List.Base.html#3708" class="Function">unzip</a> <a id="5067" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a> <a id="5069" class="Symbol">.</a><a id="5070" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
  <a id="H₂-args.k̅"></a><a id="5078" href="Coherence.Hypotheses.html#5078" class="Function">k̅</a>  <a id="5082" class="Symbol">=</a> <a id="5084" href="Data.List.Base.html#4459" class="Function">concatMap</a> <a id="5094" class="Symbol">(</a><a id="5095" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5099" href="Bitcoin.Crypto.html#375" class="Field">pub</a> <a id="5103" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="5105" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a><a id="5110" class="Symbol">)</a> <a id="5112" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="5114" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="5120" href="Coherence.Hypotheses.html#4798" class="Field">k⃗</a>

  <a id="H₂-args.sechash⁺"></a><a id="5126" href="Coherence.Hypotheses.html#5126" class="Function">sechash⁺</a> <a id="5135" class="Symbol">:</a> <a id="5137" href="Coherence.Hypotheses.html#5034" class="Function">as</a> <a id="5140" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="5142" href="Bitcoin.BasicTypes.html#351" class="Function">HashId</a>
  <a id="5151" href="Coherence.Hypotheses.html#5126" class="Function">sechash⁺</a> <a id="5160" href="Coherence.Hypotheses.html#5160" class="Bound">a∈</a> <a id="5163" class="Symbol">=</a>
    <a id="5169" class="Keyword">let</a> <a id="5173" class="Symbol">_</a> <a id="5175" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5177" href="Coherence.Hypotheses.html#5177" class="Bound">a×m∈</a> <a id="5182" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5184" class="Symbol">_</a>    <a id="5189" class="Symbol">=</a> <a id="5191" href="Prelude.Lists.Core.html#1051" class="Function">∈-unzip⁻ˡ</a> <a id="5201" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a> <a id="5203" href="Coherence.Hypotheses.html#5160" class="Bound">a∈</a>
        <a id="5214" class="Symbol">(_</a> <a id="5217" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5219" class="Symbol">_</a> <a id="5221" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5223" href="Coherence.Hypotheses.html#5223" class="Bound">z</a><a id="5224" class="Symbol">)</a> <a id="5226" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5228" class="Symbol">_</a> <a id="5230" class="Symbol">=</a> <a id="5232" href="Data.List.Membership.Propositional.Properties.html#3491" class="Function">∈-map⁻</a> <a id="5239" href="Prelude.Nary.html#3032" class="Function">drop₃</a> <a id="5245" href="Coherence.Hypotheses.html#5177" class="Bound">a×m∈</a>
    <a id="5254" class="Keyword">in</a> <a id="5257" href="Coherence.Hypotheses.html#5223" class="Bound">z</a>
  <a id="5261" class="Keyword">field</a>
    <a id="5271" class="Comment">-- Hypotheses from [C-AuthCommit]</a>
    <a id="H₂-args.as≡"></a><a id="5309" href="Coherence.Hypotheses.html#5309" class="Field">as≡</a> <a id="5313" class="Symbol">:</a> <a id="5315" href="Coherence.Hypotheses.html#5034" class="Function">as</a> <a id="5318" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="5320" href="BitML.Contracts.Collections.html#7218" class="Function">secretsOfᵖ</a> <a id="5331" href="Coherence.Hypotheses.html#4787" class="Field">A</a> <a id="5333" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a>
    <a id="H₂-args.All∉"></a><a id="5339" href="Coherence.Hypotheses.html#5339" class="Field">All∉</a> <a id="5344" class="Symbol">:</a> <a id="5346" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="5350" class="Symbol">(</a><a id="5351" href="Data.List.Membership.Setoid.html#945" class="Function Operator">_∉</a> <a id="5354" href="BitML.Semantics.Configurations.Helpers.html#11169" class="Function">secretsOfᶜᶠ</a> <a id="5366" href="Coherence.Hypotheses.html#4787" class="Field">A</a> <a id="5368" href="Coherence.Hypotheses.html#4782" class="Field">Γ₀</a><a id="5370" class="Symbol">)</a> <a id="5372" href="Coherence.Hypotheses.html#5034" class="Function">as</a>
    <a id="H₂-args.Hon⇒"></a><a id="5379" href="Coherence.Hypotheses.html#5379" class="Field">Hon⇒</a> <a id="5384" class="Symbol">:</a> <a id="5386" href="Coherence.Hypotheses.html#4787" class="Field">A</a> <a id="5388" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="5390" href="BitML.BasicTypes.html#785" class="Function">Hon</a> <a id="5394" class="Symbol">→</a> <a id="5396" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="5400" href="Data.Maybe.html#810" class="Function">Is-just</a> <a id="5408" href="Coherence.Hypotheses.html#5056" class="Function">ms</a>
  <a id="5413" class="Keyword">open</a> <a id="5418" href="Coherence.Hypotheses.html#1746" class="Module">Transition</a>
    <a id="5433" class="Symbol">(</a> <a id="5435" class="Symbol">(</a><a id="5436" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="5438" href="Coherence.Hypotheses.html#4779" class="Field">ad</a> <a id="5441" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5443" href="Coherence.Hypotheses.html#4782" class="Field">Γ₀</a><a id="5445" class="Symbol">)</a> <a id="5447" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="5449" href="Coherence.Hypotheses.html#4785" class="Field">t</a>
    <a id="5455" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">——</a> <a id="5458" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">auth-commit⦅</a> <a id="5471" href="Coherence.Hypotheses.html#4787" class="Field">A</a> <a id="5473" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">,</a> <a id="5475" href="Coherence.Hypotheses.html#4779" class="Field">ad</a> <a id="5478" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">,</a> <a id="5480" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a> <a id="5482" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">⦆</a> <a id="5484" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">—→</a>
      <a id="5493" class="Symbol">(</a><a id="5494" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="5496" href="Coherence.Hypotheses.html#4779" class="Field">ad</a> <a id="5499" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5501" href="Coherence.Hypotheses.html#4782" class="Field">Γ₀</a> <a id="5504" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5506" href="Coherence.Hypotheses.html#4998" class="Function">Δᶜ</a> <a id="5509" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5511" href="Coherence.Hypotheses.html#4787" class="Field">A</a> <a id="5513" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="5519" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="5522" href="Coherence.Hypotheses.html#4779" class="Field">ad</a> <a id="5525" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="5526" class="Symbol">)</a> <a id="5528" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="5530" href="Coherence.Hypotheses.html#4785" class="Field">t</a>
    <a id="5536" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⊣</a> <a id="5538" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="5542" class="Symbol">(</a><a id="5543" href="BitML.Semantics.InferenceRules.html#3794" class="InductiveConstructor">[C-AuthCommit]</a> <a id="5558" href="Coherence.Hypotheses.html#5309" class="Field">as≡</a> <a id="5562" href="Coherence.Hypotheses.html#5339" class="Field">All∉</a> <a id="5567" href="Coherence.Hypotheses.html#5379" class="Field">Hon⇒</a><a id="5571" class="Symbol">)</a>
    <a id="5577" class="Symbol">)</a> <a id="5579" class="Keyword">public</a> <a id="5586" class="Keyword">hiding</a> <a id="5593" class="Symbol">(</a><a id="5594" href="Coherence.Hypotheses.html#1823" class="Field">t</a><a id="5595" class="Symbol">)</a>
  <a id="5599" class="Keyword">field</a> <a id="H₂-args.𝕙r"></a><a id="5605" href="Coherence.Hypotheses.html#5605" class="Field">𝕙r</a> <a id="5608" class="Symbol">:</a> <a id="5610" href="Coherence.Hypotheses.html#1962" class="Record">ℍ-Run</a> <a id="5616" href="Coherence.Hypotheses.html#1933" class="Function">Γ→</a>
  <a id="5621" class="Keyword">open</a> <a id="5626" href="Coherence.Hypotheses.html#1962" class="Module">ℍ-Run</a> <a id="5632" href="Coherence.Hypotheses.html#5605" class="Field">𝕙r</a> <a id="5635" class="Keyword">public</a>

<a id="5643" class="Keyword">module</a> <a id="5650" href="Coherence.Hypotheses.html#5650" class="Module">H₂</a> <a id="5653" class="Symbol">(</a><a id="5654" href="Coherence.Hypotheses.html#5654" class="Bound">⋯</a> <a id="5656" class="Symbol">:</a> <a id="5658" href="Coherence.Hypotheses.html#4728" class="Record">H₂-args</a><a id="5665" class="Symbol">)</a> <a id="5667" class="Symbol">(</a><a id="5668" class="Keyword">let</a> <a id="5672" class="Keyword">open</a> <a id="5677" href="Coherence.Hypotheses.html#4728" class="Module">H₂-args</a> <a id="5685" href="Coherence.Hypotheses.html#5654" class="Bound">⋯</a><a id="5686" class="Symbol">)</a> <a id="5688" class="Keyword">where</a>
  <a id="5696" class="Keyword">private</a>
    <a id="5708" class="Keyword">open</a> <a id="5713" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

    <a id="5730" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="5736" class="Symbol">:</a> <a id="5738" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="5743" class="Symbol">(</a><a id="5744" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="5751" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="5753" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="5759" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="5760" class="Symbol">)</a> <a id="5762" class="Symbol">→</a> <a id="5764" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a>
    <a id="5772" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="5778" class="Symbol">=</a> <a id="5780" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||_</a> <a id="5784" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="5786" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5790" class="Symbol">(</a><a id="5791" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="5799" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="5801" href="Coherence.Hypotheses.html#4787" class="Field">A</a> <a id="5803" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="5808" class="Symbol">)</a>

    <a id="5815" href="Coherence.Hypotheses.html#5815" class="Function">ids≡</a> <a id="5820" class="Symbol">:</a> <a id="5822" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="5825" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="5828" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="5832" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="5834" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>
    <a id="5840" href="Coherence.Hypotheses.html#5815" class="Function">ids≡</a> <a id="5845" class="Symbol">=</a>
      <a id="5853" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
        <a id="5867" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="5871" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
      <a id="5880" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
        <a id="5892" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="5896" class="Symbol">(</a><a id="5897" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="5899" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5901" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="5907" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a> <a id="5909" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5911" href="Coherence.Hypotheses.html#4787" class="Field">A</a> <a id="5913" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="5919" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="5922" href="Coherence.Hypotheses.html#4779" class="Field">ad</a> <a id="5925" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="5926" class="Symbol">)</a>
      <a id="5934" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5937" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="5965" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="5972" class="Symbol">(</a><a id="5973" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="5975" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5977" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="5983" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a><a id="5984" class="Symbol">)</a> <a id="5986" class="Symbol">(</a><a id="5987" href="Coherence.Hypotheses.html#4787" class="Field">A</a> <a id="5989" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="5995" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="5998" href="Coherence.Hypotheses.html#4779" class="Field">ad</a> <a id="6001" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="6002" class="Symbol">)</a> <a id="6004" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="6014" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="6018" class="Symbol">(</a><a id="6019" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="6021" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6023" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="6029" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a><a id="6030" class="Symbol">)</a> <a id="6032" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6035" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="6039" class="Symbol">(</a><a id="6040" href="Coherence.Hypotheses.html#4787" class="Field">A</a> <a id="6042" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="6048" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="6051" href="Coherence.Hypotheses.html#4779" class="Field">ad</a> <a id="6054" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="6055" class="Symbol">)</a>
      <a id="6063" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
        <a id="6075" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="6079" class="Symbol">(</a><a id="6080" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="6082" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6084" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="6090" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a><a id="6091" class="Symbol">)</a> <a id="6093" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6096" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
      <a id="6105" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6108" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="6123" class="Symbol">_</a> <a id="6125" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="6135" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="6139" class="Symbol">(</a><a id="6140" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="6142" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6144" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="6150" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a><a id="6151" class="Symbol">)</a>
      <a id="6159" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6162" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="6190" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="6197" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="6199" class="Symbol">(</a><a id="6200" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="6206" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a><a id="6207" class="Symbol">)</a> <a id="6209" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="6219" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="6223" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="6225" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6228" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="6232" class="Symbol">(</a><a id="6233" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="6239" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a><a id="6240" class="Symbol">)</a>
      <a id="6248" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6251" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="6256" class="Symbol">(</a><a id="6257" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="6261" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="6263" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="6266" class="Symbol">)</a> <a id="6268" class="Symbol">(</a><a id="6269" href="Coherence.Hypotheses.html#6361" class="Function">hʳ</a> <a id="6272" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a><a id="6273" class="Symbol">)</a> <a id="6275" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="6285" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="6289" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="6291" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6294" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
      <a id="6303" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6306" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="6321" class="Symbol">_</a> <a id="6323" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="6333" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="6337" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>
      <a id="6345" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="6347" class="Keyword">where</a>
        <a id="6361" href="Coherence.Hypotheses.html#6361" class="Function">hʳ</a> <a id="6364" class="Symbol">:</a> <a id="6366" class="Symbol">∀</a> <a id="6368" href="Coherence.Hypotheses.html#6368" class="Bound">Δ</a> <a id="6370" class="Symbol">→</a> <a id="6372" href="Prelude.Null.html#263" class="Field">Null</a> <a id="6377" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="6379" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="6383" class="Symbol">(</a><a id="6384" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="6390" href="Coherence.Hypotheses.html#6368" class="Bound">Δ</a><a id="6391" class="Symbol">)</a>
        <a id="6401" href="Coherence.Hypotheses.html#6361" class="Function">hʳ</a> <a id="6404" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="6407" class="Symbol">=</a> <a id="6409" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="6422" href="Coherence.Hypotheses.html#6361" class="Function">hʳ</a> <a id="6425" class="Symbol">(_</a> <a id="6428" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6430" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="6432" class="Symbol">)</a> <a id="6434" class="Symbol">=</a> <a id="6436" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="6449" href="Coherence.Hypotheses.html#6361" class="Function">hʳ</a> <a id="6452" class="Symbol">(_</a> <a id="6455" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6457" href="Coherence.Hypotheses.html#6457" class="Bound">Δ</a><a id="6458" class="Symbol">@(_</a> <a id="6462" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6464" class="Symbol">_))</a> <a id="6468" class="Keyword">rewrite</a> <a id="6476" href="Coherence.Hypotheses.html#6361" class="Function">hʳ</a> <a id="6479" href="Coherence.Hypotheses.html#6457" class="Bound">Δ</a> <a id="6481" class="Symbol">=</a> <a id="6483" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="6498" class="Symbol">_</a>

    <a id="6505" href="Coherence.Hypotheses.html#6505" class="Function">secrets≡</a> <a id="6514" class="Symbol">:</a> <a id="6516" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="6524" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="6527" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="6529" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="6537" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="6539" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6542" href="Coherence.Hypotheses.html#5034" class="Function">as</a>
    <a id="6549" href="Coherence.Hypotheses.html#6505" class="Function">secrets≡</a> <a id="6558" class="Symbol">=</a>
      <a id="6566" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
        <a id="6580" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="6588" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
      <a id="6597" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6600" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="6628" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="6635" class="Symbol">(</a><a id="6636" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="6638" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6640" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="6646" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a><a id="6647" class="Symbol">)</a> <a id="6649" class="Symbol">(</a><a id="6650" href="Coherence.Hypotheses.html#4787" class="Field">A</a> <a id="6652" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="6658" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="6661" href="Coherence.Hypotheses.html#4779" class="Field">ad</a> <a id="6664" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="6665" class="Symbol">)</a> <a id="6667" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="6677" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="6685" class="Symbol">(</a><a id="6686" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="6688" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6690" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="6696" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a><a id="6697" class="Symbol">)</a> <a id="6699" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6702" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
      <a id="6711" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6714" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="6729" class="Symbol">_</a> <a id="6731" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="6741" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="6749" class="Symbol">(</a><a id="6750" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="6752" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6754" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="6760" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a><a id="6761" class="Symbol">)</a>
      <a id="6769" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6772" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="6800" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="6807" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="6809" class="Symbol">(</a><a id="6810" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="6816" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a><a id="6817" class="Symbol">)</a> <a id="6819" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="6829" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="6837" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="6839" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6842" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="6850" class="Symbol">(</a><a id="6851" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="6857" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a><a id="6858" class="Symbol">)</a>
      <a id="6866" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6869" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="6874" class="Symbol">(</a><a id="6875" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="6883" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="6885" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="6888" class="Symbol">)</a> <a id="6890" class="Symbol">(</a><a id="6891" href="Coherence.Hypotheses.html#6945" class="Function">hˡ</a> <a id="6894" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a><a id="6895" class="Symbol">)</a> <a id="6897" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="6907" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="6915" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="6917" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6920" href="Coherence.Hypotheses.html#5034" class="Function">as</a>
      <a id="6929" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="6931" class="Keyword">where</a>
        <a id="6945" href="Coherence.Hypotheses.html#6945" class="Function">hˡ</a> <a id="6948" class="Symbol">:</a> <a id="6950" class="Symbol">∀</a> <a id="6952" href="Coherence.Hypotheses.html#6952" class="Bound">Δ</a> <a id="6954" class="Symbol">→</a> <a id="6956" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="6964" class="Symbol">(</a><a id="6965" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="6971" href="Coherence.Hypotheses.html#6952" class="Bound">Δ</a><a id="6972" class="Symbol">)</a> <a id="6974" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="6976" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="6982" class="Symbol">(</a><a id="6983" href="Data.List.Base.html#3708" class="Function">unzip</a> <a id="6989" href="Coherence.Hypotheses.html#6952" class="Bound">Δ</a><a id="6990" class="Symbol">)</a>
        <a id="7000" href="Coherence.Hypotheses.html#6945" class="Function">hˡ</a> <a id="7003" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="7006" class="Symbol">=</a> <a id="7008" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="7021" href="Coherence.Hypotheses.html#6945" class="Function">hˡ</a> <a id="7024" class="Symbol">(_</a> <a id="7027" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7029" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="7031" class="Symbol">)</a> <a id="7033" class="Symbol">=</a> <a id="7035" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="7048" href="Coherence.Hypotheses.html#6945" class="Function">hˡ</a> <a id="7051" class="Symbol">((</a><a id="7053" href="Coherence.Hypotheses.html#7053" class="Bound">s</a> <a id="7055" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="7057" href="Coherence.Hypotheses.html#7057" class="Bound">m</a><a id="7058" class="Symbol">)</a> <a id="7060" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7062" href="Coherence.Hypotheses.html#7062" class="Bound">Δ</a><a id="7063" class="Symbol">@(_</a> <a id="7067" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7069" class="Symbol">_))</a> <a id="7073" class="Symbol">=</a>
          <a id="7085" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
            <a id="7103" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="7111" class="Symbol">(</a><a id="7112" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="7114" href="Coherence.Hypotheses.html#4787" class="Field">A</a> <a id="7116" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶</a> <a id="7118" href="Coherence.Hypotheses.html#7053" class="Bound">s</a> <a id="7120" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">♯</a> <a id="7122" href="Coherence.Hypotheses.html#7057" class="Bound">m</a> <a id="7124" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟩</a> <a id="7126" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="7128" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="7134" href="Coherence.Hypotheses.html#7062" class="Bound">Δ</a><a id="7135" class="Symbol">)</a>
          <a id="7147" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="7150" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="7178" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="7185" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="7187" href="Coherence.Hypotheses.html#4787" class="Field">A</a> <a id="7189" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶</a> <a id="7191" href="Coherence.Hypotheses.html#7053" class="Bound">s</a> <a id="7193" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">♯</a> <a id="7195" href="Coherence.Hypotheses.html#7057" class="Bound">m</a> <a id="7197" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟩</a> <a id="7199" class="Symbol">(</a><a id="7200" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="7206" href="Coherence.Hypotheses.html#7062" class="Bound">Δ</a><a id="7207" class="Symbol">)</a> <a id="7209" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="7223" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="7231" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="7233" href="Coherence.Hypotheses.html#4787" class="Field">A</a> <a id="7235" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶</a> <a id="7237" href="Coherence.Hypotheses.html#7053" class="Bound">s</a> <a id="7239" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">♯</a> <a id="7241" href="Coherence.Hypotheses.html#7057" class="Bound">m</a> <a id="7243" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟩</a> <a id="7245" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="7248" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="7256" class="Symbol">(</a><a id="7257" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="7263" href="Coherence.Hypotheses.html#7062" class="Bound">Δ</a><a id="7264" class="Symbol">)</a>
          <a id="7276" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
            <a id="7292" href="Coherence.Hypotheses.html#7053" class="Bound">s</a> <a id="7294" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7296" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="7304" class="Symbol">(</a><a id="7305" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="7311" href="Coherence.Hypotheses.html#7062" class="Bound">Δ</a><a id="7312" class="Symbol">)</a>
          <a id="7324" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="7327" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="7332" class="Symbol">(</a><a id="7333" href="Coherence.Hypotheses.html#7053" class="Bound">s</a> <a id="7335" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷_</a><a id="7337" class="Symbol">)</a> <a id="7339" class="Symbol">(</a><a id="7340" href="Coherence.Hypotheses.html#6945" class="Function">hˡ</a> <a id="7343" href="Coherence.Hypotheses.html#7062" class="Bound">Δ</a><a id="7344" class="Symbol">)</a> <a id="7346" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="7360" href="Coherence.Hypotheses.html#7053" class="Bound">s</a> <a id="7362" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7364" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="7370" class="Symbol">(</a><a id="7371" href="Data.List.Base.html#3708" class="Function">unzip</a> <a id="7377" href="Coherence.Hypotheses.html#7062" class="Bound">Δ</a><a id="7378" class="Symbol">)</a>
          <a id="7390" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

    <a id="7397" href="Coherence.Hypotheses.html#7397" class="Function">hᵃ</a> <a id="7400" class="Symbol">:</a> <a id="7402" class="Symbol">∀</a> <a id="7404" href="Coherence.Hypotheses.html#7404" class="Bound">Δ</a> <a id="7406" class="Symbol">→</a> <a id="7408" href="Prelude.Null.html#263" class="Field">Null</a> <a id="7413" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="7415" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="7430" class="Symbol">(</a><a id="7431" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="7437" href="Coherence.Hypotheses.html#7404" class="Bound">Δ</a><a id="7438" class="Symbol">)</a>
    <a id="7444" href="Coherence.Hypotheses.html#7397" class="Function">hᵃ</a> <a id="7447" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="7450" class="Symbol">=</a> <a id="7452" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="7461" href="Coherence.Hypotheses.html#7397" class="Function">hᵃ</a> <a id="7464" class="Symbol">(_</a> <a id="7467" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7469" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="7471" class="Symbol">)</a> <a id="7473" class="Symbol">=</a> <a id="7475" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="7484" href="Coherence.Hypotheses.html#7397" class="Function">hᵃ</a> <a id="7487" class="Symbol">(_</a> <a id="7490" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7492" href="Coherence.Hypotheses.html#7492" class="Bound">Δ</a><a id="7493" class="Symbol">@(_</a> <a id="7497" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7499" class="Symbol">_))</a> <a id="7503" class="Keyword">rewrite</a> <a id="7511" href="Coherence.Hypotheses.html#7397" class="Function">hᵃ</a> <a id="7514" href="Coherence.Hypotheses.html#7492" class="Bound">Δ</a> <a id="7516" class="Symbol">=</a> <a id="7518" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="7533" class="Symbol">_</a>

    <a id="7540" href="Coherence.Hypotheses.html#7540" class="Function">ads≡</a> <a id="7545" class="Symbol">:</a> <a id="7547" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="7562" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="7565" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="7567" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="7582" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="7584" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="7587" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="7602" class="Symbol">(</a><a id="7603" href="Coherence.Hypotheses.html#4787" class="Field">A</a> <a id="7605" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="7611" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="7614" href="Coherence.Hypotheses.html#4779" class="Field">ad</a> <a id="7617" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="7618" class="Symbol">)</a>
    <a id="7624" href="Coherence.Hypotheses.html#7540" class="Function">ads≡</a> <a id="7629" class="Keyword">rewrite</a> <a id="7637" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="7656" class="Symbol">{</a><a id="7657" class="Argument">X</a> <a id="7659" class="Symbol">=</a> <a id="7661" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="7663" class="Symbol">}</a> <a id="7665" class="Symbol">(</a><a id="7666" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="7668" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="7670" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="7676" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a><a id="7677" class="Symbol">)</a> <a id="7679" class="Symbol">(</a><a id="7680" href="Coherence.Hypotheses.html#4787" class="Field">A</a> <a id="7682" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="7688" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="7691" href="Coherence.Hypotheses.html#4779" class="Field">ad</a> <a id="7694" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="7695" class="Symbol">)</a>
                <a id="7713" class="Symbol">|</a> <a id="7715" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="7734" class="Symbol">{</a><a id="7735" class="Argument">X</a> <a id="7737" class="Symbol">=</a> <a id="7739" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="7741" class="Symbol">}</a> <a id="7743" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="7745" class="Symbol">(</a><a id="7746" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="7752" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a><a id="7753" class="Symbol">)</a>
                <a id="7771" class="Symbol">|</a> <a id="7773" href="Coherence.Hypotheses.html#7397" class="Function">hᵃ</a> <a id="7776" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a>
                <a id="7794" class="Symbol">|</a> <a id="7796" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="7811" class="Symbol">(</a><a id="7812" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="7827" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="7828" class="Symbol">)</a>
                <a id="7846" class="Symbol">=</a> <a id="7848" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

    <a id="7858" href="Coherence.Hypotheses.html#7858" class="Function">txout↝</a> <a id="7865" class="Symbol">:</a> <a id="7867" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="7869" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="7872" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="7878" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="7880" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
    <a id="7887" class="Comment">-- txout↝ = lift Γ —⟨ ids ⟩— Γ′ ⊣ ids≡</a>
    <a id="7930" href="Coherence.Hypotheses.html#7858" class="Function">txout↝</a> <a id="7937" href="Coherence.Hypotheses.html#7937" class="Bound">txoutΓ</a> <a id="7944" class="Symbol">{</a><a id="7945" href="Coherence.Hypotheses.html#7945" class="Bound">x</a><a id="7946" class="Symbol">}</a> <a id="7948" href="Coherence.Hypotheses.html#7948" class="Bound">x∈</a>
      <a id="7957" class="Keyword">with</a> <a id="7962" href="BitML.Semantics.Configurations.Helpers.html#10161" class="Function">∈-ids-++⁻</a> <a id="7972" class="Symbol">(</a><a id="7973" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="7975" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="7977" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="7983" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a><a id="7984" class="Symbol">)</a> <a id="7986" class="Symbol">(</a><a id="7987" href="Coherence.Hypotheses.html#4787" class="Field">A</a> <a id="7989" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="7995" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="7998" href="Coherence.Hypotheses.html#4779" class="Field">ad</a> <a id="8001" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="8002" class="Symbol">)</a> <a id="8004" href="Coherence.Hypotheses.html#7948" class="Bound">x∈</a>
    <a id="8011" class="Symbol">...</a> <a id="8015" class="Symbol">|</a> <a id="8017" href="Data.Sum.Base.html#818" class="InductiveConstructor">inj₂</a> <a id="8022" class="Symbol">()</a>
    <a id="8029" class="Symbol">...</a> <a id="8033" class="Symbol">|</a> <a id="8035" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="8040" href="Coherence.Hypotheses.html#8040" class="Bound">x∈</a>
      <a id="8049" class="Keyword">with</a> <a id="8054" href="BitML.Semantics.Configurations.Helpers.html#10161" class="Function">∈-ids-++⁻</a> <a id="8064" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="8066" class="Symbol">(</a><a id="8067" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="8073" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a><a id="8074" class="Symbol">)</a> <a id="8076" href="Coherence.Hypotheses.html#8040" class="Bound">x∈</a>
    <a id="8083" class="Symbol">...</a> <a id="8087" class="Symbol">|</a> <a id="8089" href="Data.Sum.Base.html#818" class="InductiveConstructor">inj₂</a> <a id="8094" href="Coherence.Hypotheses.html#8094" class="Bound">x∈</a> <a id="8097" class="Symbol">=</a> <a id="8099" href="Prelude.Decidable.Core.html#347" class="Function">contradict</a> <a id="8110" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="8112" href="Coherence.Hypotheses.html#8094" class="Bound">x∈</a> <a id="8115" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="8118" href="Coherence.Hypotheses.html#8156" class="Function">hʳ</a> <a id="8121" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a> <a id="8123" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="8125" class="Bound">x</a> <a id="8127" href="Data.List.Membership.Setoid.html#896" class="Function Operator">L.Mem.∈_</a> <a id="8136" href="Prelude.SubstDSL.html#164" class="Function">⟫</a>
      <a id="8144" class="Keyword">where</a>
      <a id="8156" href="Coherence.Hypotheses.html#8156" class="Function">hʳ</a> <a id="8159" class="Symbol">:</a> <a id="8161" class="Symbol">∀</a> <a id="8163" href="Coherence.Hypotheses.html#8163" class="Bound">Δ</a> <a id="8165" class="Symbol">→</a> <a id="8167" href="Prelude.Null.html#263" class="Field">Null</a> <a id="8172" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="8174" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="8178" class="Symbol">(</a><a id="8179" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="8185" href="Coherence.Hypotheses.html#8163" class="Bound">Δ</a><a id="8186" class="Symbol">)</a>
      <a id="8194" href="Coherence.Hypotheses.html#8156" class="Function">hʳ</a> <a id="8197" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="8200" class="Symbol">=</a> <a id="8202" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="8213" href="Coherence.Hypotheses.html#8156" class="Function">hʳ</a> <a id="8216" class="Symbol">(_</a> <a id="8219" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="8221" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="8223" class="Symbol">)</a> <a id="8225" class="Symbol">=</a> <a id="8227" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="8238" href="Coherence.Hypotheses.html#8156" class="Function">hʳ</a> <a id="8241" class="Symbol">(_</a> <a id="8244" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="8246" href="Coherence.Hypotheses.html#8246" class="Bound">Δ</a><a id="8247" class="Symbol">@(_</a> <a id="8251" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="8253" class="Symbol">_))</a> <a id="8257" class="Keyword">rewrite</a> <a id="8265" href="Coherence.Hypotheses.html#8156" class="Function">hʳ</a> <a id="8268" href="Coherence.Hypotheses.html#8246" class="Bound">Δ</a> <a id="8270" class="Symbol">=</a> <a id="8272" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="8287" class="Symbol">_</a>
    <a id="8293" class="Symbol">...</a> <a id="8297" class="Symbol">|</a> <a id="8299" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="8304" href="Coherence.Hypotheses.html#8304" class="Bound">x∈</a> <a id="8307" class="Symbol">=</a> <a id="8309" class="Bound">txoutΓ</a> <a id="8316" href="Coherence.Hypotheses.html#8304" class="Bound">x∈</a>

    <a id="8324" href="Coherence.Hypotheses.html#8324" class="Function">sechash↝</a> <a id="8333" class="Symbol">:</a>  <a id="8336" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="8338" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="8341" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="8349" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="8351" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
    <a id="8358" href="Coherence.Hypotheses.html#8324" class="Function">sechash↝</a> <a id="8367" href="Coherence.Hypotheses.html#8367" class="Bound">sechash′</a> <a id="8376" class="Symbol">=</a> <a id="8378" href="Prelude.Lists.Mappings.html#1750" class="Function">extend-↦</a> <a id="8387" class="Symbol">(</a><a id="8388" href="Data.List.Relation.Binary.Permutation.Propositional.html#1377" class="Function">↭-reflexive</a> <a id="8400" href="Coherence.Hypotheses.html#6505" class="Function">secrets≡</a><a id="8408" class="Symbol">)</a> <a id="8410" href="Coherence.Hypotheses.html#8367" class="Bound">sechash′</a> <a id="8419" href="Coherence.Hypotheses.html#5126" class="Function">sechash⁺</a>

    <a id="8433" href="Coherence.Hypotheses.html#8433" class="Function">κ↝</a> <a id="8436" class="Symbol">:</a> <a id="8438" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="8440" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="8443" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="8446" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="8448" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
    <a id="8455" href="Coherence.Hypotheses.html#8433" class="Function">κ↝</a> <a id="8458" href="Coherence.Hypotheses.html#8458" class="Bound">κ′</a> <a id="8461" class="Symbol">=</a> <a id="8463" href="Prelude.Lists.Mappings.html#1750" class="Function">extend-↦</a> <a id="8472" class="Symbol">(</a><a id="8473" href="Data.List.Relation.Binary.Permutation.Propositional.html#1377" class="Function">↭-reflexive</a> <a id="8485" href="Coherence.Hypotheses.html#7540" class="Function">ads≡</a><a id="8489" class="Symbol">)</a> <a id="8491" href="Coherence.Hypotheses.html#8458" class="Bound">κ′</a> <a id="8494" href="Coherence.Hypotheses.html#8517" class="Function">κ″</a>
      <a id="8503" class="Keyword">where</a>
        <a id="8517" href="Coherence.Hypotheses.html#8517" class="Function">κ″</a> <a id="8520" class="Symbol">:</a> <a id="8522" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="8537" class="Symbol">(</a><a id="8538" href="Coherence.Hypotheses.html#4787" class="Field">A</a> <a id="8540" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="8546" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="8549" href="Coherence.Hypotheses.html#4779" class="Field">ad</a> <a id="8552" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="8553" class="Symbol">)</a> <a id="8555" href="Prelude.Lists.Mappings.html#654" class="Function Operator">↦′</a> <a id="8558" href="Compiler.Mappings.html#454" class="Function">𝕂²′</a>
        <a id="8570" href="Coherence.Hypotheses.html#8517" class="Function">κ″</a> <a id="8573" href="Coherence.Hypotheses.html#8573" class="Bound">x∈</a> <a id="8576" class="Keyword">with</a> <a id="8581" href="Relation.Nullary.html#1590" class="Field">does</a> <a id="8586" class="Symbol">(</a><a id="8587" href="Coherence.Hypotheses.html#4787" class="Field">A</a> <a id="8589" href="Prelude.Membership.html#455" class="Field Operator">∈?</a> <a id="8592" href="BitML.BasicTypes.html#785" class="Function">Hon</a><a id="8595" class="Symbol">)</a> <a id="8597" class="Symbol">|</a> <a id="8599" href="Coherence.Hypotheses.html#8573" class="Bound">x∈</a>
        <a id="8610" class="Symbol">...</a> <a id="8614" class="Symbol">|</a> <a id="8616" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>  <a id="8622" class="Symbol">|</a> <a id="8624" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="8626" class="Symbol">=</a> <a id="8628" href="Coherence.Hypotheses.html#4798" class="Field">k⃗</a>
        <a id="8639" class="Symbol">...</a> <a id="8643" class="Symbol">|</a> <a id="8645" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a> <a id="8651" class="Symbol">|</a> <a id="8653" class="Symbol">()</a>
  <a id="8658" href="Coherence.Hypotheses.html#8658" class="Function">λˢ</a> <a id="8661" class="Symbol">:</a> <a id="8663" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="8666" href="Coherence.Hypotheses.html#1899" class="Function">Γₜ′</a>
  <a id="8672" href="Coherence.Hypotheses.html#8658" class="Function">λˢ</a> <a id="8675" class="Symbol">=</a> <a id="8677" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="8683" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="8685" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="8687" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="8690" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="8693" href="Coherence.Hypotheses.html#7858" class="Function">txout↝</a> <a id="8700" href="Coherence.Hypotheses.html#8324" class="Function">sechash↝</a> <a id="8709" href="Coherence.Hypotheses.html#8433" class="Function">κ↝</a>
  <a id="8714" class="Keyword">private</a>
    <a id="8726" href="Coherence.Hypotheses.html#8726" class="Function">𝕣′</a> <a id="8729" class="Symbol">:</a> <a id="8731" href="SymbolicModel.Mappings.html#933" class="Function">ℝ</a> <a id="8733" href="Coherence.Hypotheses.html#2411" class="Function">R′</a>
    <a id="8740" href="Coherence.Hypotheses.html#8726" class="Function">𝕣′</a> <a id="8743" class="Symbol">=</a> <a id="8745" href="SymbolicModel.Mappings.html#5830" class="Function">ℝ-step</a> <a id="8752" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="8754" class="Symbol">(</a><a id="8755" href="Coherence.Hypotheses.html#2267" class="Function">𝕒</a> <a id="8757" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8759" href="Coherence.Hypotheses.html#8658" class="Function">λˢ</a><a id="8761" class="Symbol">)</a>
  <a id="8765" class="Keyword">abstract</a>
    <a id="8778" href="Coherence.Hypotheses.html#8778" class="Function">value-preserving⇒</a> <a id="8796" class="Symbol">:</a>
      <a id="8804" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="8821" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a>
      <a id="8829" href="Prelude.InferenceRules.html#14163" class="Function Operator">───────────────────</a>
      <a id="8855" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="8872" href="Coherence.Hypotheses.html#8726" class="Function">𝕣′</a>
    <a id="8879" href="Coherence.Hypotheses.html#8778" class="Function">value-preserving⇒</a> <a id="8897" href="Coherence.Hypotheses.html#8897" class="Bound">pv-txout</a> <a id="8906" class="Symbol">=</a> <a id="8908" href="Coherence.Hypotheses.html#10047" class="Function">pv-txout′</a>
      <a id="8924" class="Keyword">where</a>
      <a id="8936" class="Keyword">open</a> <a id="8941" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

      <a id="8960" href="Coherence.Hypotheses.html#8960" class="Function">txoutR</a> <a id="8967" class="Symbol">:</a> <a id="8969" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="8975" class="Symbol">(</a><a id="8976" href="Coherence.Hypotheses.html#2403" class="Function">R</a> <a id="8978" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="8982" class="Symbol">)</a>
      <a id="8990" href="Coherence.Hypotheses.html#8960" class="Function">txoutR</a> <a id="8997" class="Symbol">=</a> <a id="8999" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="9001" href="SymbolicModel.Mappings.html#9038" class="Function Operator">∙txoutEnd_</a>

      <a id="9019" href="Coherence.Hypotheses.html#9019" class="Function">txoutΓ</a> <a id="9026" class="Symbol">:</a> <a id="9028" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="9034" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>
      <a id="9042" href="Coherence.Hypotheses.html#9019" class="Function">txoutΓ</a> <a id="9049" class="Symbol">=</a> <a id="9051" href="SymbolicModel.Mappings.html#1992" class="Function">Txout≈</a> <a id="9058" class="Symbol">{</a><a id="9059" href="Coherence.Hypotheses.html#2403" class="Function">R</a> <a id="9061" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="9065" class="Symbol">}{</a><a id="9067" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="9068" class="Symbol">}</a> <a id="9070" class="Symbol">(</a><a id="9071" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="9074" class="Symbol">.</a><a id="9075" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="9080" class="Symbol">)</a> <a id="9082" href="Coherence.Hypotheses.html#8960" class="Function">txoutR</a>

      <a id="9096" href="Coherence.Hypotheses.html#9096" class="Function">pv-txoutΓ</a> <a id="9106" class="Symbol">:</a> <a id="9108" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="9124" class="Symbol">{</a><a id="9125" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="9126" class="Symbol">}</a> <a id="9128" href="Coherence.Hypotheses.html#9019" class="Function">txoutΓ</a>
      <a id="9141" href="Coherence.Hypotheses.html#9096" class="Function">pv-txoutΓ</a> <a id="9151" class="Symbol">=</a> <a id="9153" href="SymbolicModel.ValuePreservation.html#2490" class="Function">ValuePreserving-Txout≈</a> <a id="9176" class="Symbol">{</a><a id="9177" href="Coherence.Hypotheses.html#2403" class="Function">R</a> <a id="9179" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="9183" class="Symbol">}{</a><a id="9185" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="9186" class="Symbol">}</a> <a id="9188" class="Symbol">(</a><a id="9189" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="9192" class="Symbol">.</a><a id="9193" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="9198" class="Symbol">)</a> <a id="9200" href="Coherence.Hypotheses.html#8960" class="Function">txoutR</a> <a id="9207" href="Coherence.Hypotheses.html#8897" class="Bound">pv-txout</a>

      <a id="9223" href="Coherence.Hypotheses.html#9223" class="Function">txoutΓ′</a> <a id="9231" class="Symbol">:</a> <a id="9233" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="9239" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
      <a id="9248" href="Coherence.Hypotheses.html#9223" class="Function">txoutΓ′</a> <a id="9256" class="Symbol">=</a> <a id="9258" href="Coherence.Hypotheses.html#7858" class="Function">txout↝</a> <a id="9265" href="Coherence.Hypotheses.html#9019" class="Function">txoutΓ</a>

      <a id="9279" href="Coherence.Hypotheses.html#9279" class="Function">pv↝</a> <a id="9283" class="Symbol">:</a> <a id="9285" href="SymbolicModel.ValuePreservation.html#3214" class="Function">ValuePreserving↝</a> <a id="9302" class="Symbol">{</a><a id="9303" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="9304" class="Symbol">}{</a><a id="9306" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a><a id="9308" class="Symbol">}</a> <a id="9310" href="Coherence.Hypotheses.html#7858" class="Function">txout↝</a>
      <a id="9323" href="Coherence.Hypotheses.html#9279" class="Function">pv↝</a> <a id="9327" href="Coherence.Hypotheses.html#9327" class="Bound">txoutΓ</a> <a id="9334" href="Coherence.Hypotheses.html#9334" class="Bound">pv-txoutΓ</a> <a id="9344" class="Symbol">{</a><a id="9345" href="Coherence.Hypotheses.html#9345" class="Bound">x</a><a id="9346" class="Symbol">}</a> <a id="9348" href="Coherence.Hypotheses.html#9348" class="Bound">x∈</a>
        <a id="9359" class="Keyword">with</a> <a id="9364" href="BitML.Semantics.Configurations.Helpers.html#10161" class="Function">∈-ids-++⁻</a> <a id="9374" class="Symbol">(</a><a id="9375" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="9377" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="9379" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="9385" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a><a id="9386" class="Symbol">)</a> <a id="9388" class="Symbol">(</a><a id="9389" href="Coherence.Hypotheses.html#4787" class="Field">A</a> <a id="9391" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="9397" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="9400" href="Coherence.Hypotheses.html#4779" class="Field">ad</a> <a id="9403" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="9404" class="Symbol">)</a> <a id="9406" href="Coherence.Hypotheses.html#9348" class="Bound">x∈</a>
      <a id="9415" class="Symbol">...</a> <a id="9419" class="Symbol">|</a> <a id="9421" href="Data.Sum.Base.html#818" class="InductiveConstructor">inj₂</a> <a id="9426" class="Symbol">()</a>
      <a id="9435" class="Symbol">...</a> <a id="9439" class="Symbol">|</a> <a id="9441" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="9446" href="Coherence.Hypotheses.html#9446" class="Bound">x∈</a>
        <a id="9457" class="Keyword">with</a> <a id="9462" href="BitML.Semantics.Configurations.Helpers.html#10161" class="Function">∈-ids-++⁻</a> <a id="9472" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="9474" class="Symbol">(</a><a id="9475" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="9481" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a><a id="9482" class="Symbol">)</a> <a id="9484" href="Coherence.Hypotheses.html#9446" class="Bound">x∈</a>
      <a id="9493" class="Symbol">...</a> <a id="9497" class="Symbol">|</a> <a id="9499" href="Data.Sum.Base.html#818" class="InductiveConstructor">inj₂</a> <a id="9504" href="Coherence.Hypotheses.html#9504" class="Bound">x∈</a> <a id="9507" class="Symbol">=</a> <a id="9509" href="Prelude.Decidable.Core.html#347" class="Function">contradict</a> <a id="9520" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="9522" href="Coherence.Hypotheses.html#9504" class="Bound">x∈</a> <a id="9525" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="9528" href="Coherence.Hypotheses.html#9570" class="Function">hʳ</a> <a id="9531" href="Coherence.Hypotheses.html#4948" class="Function">Δ</a> <a id="9533" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="9535" class="Bound">x</a> <a id="9537" href="Data.List.Membership.Setoid.html#896" class="Function Operator">L.Mem.∈_</a> <a id="9546" href="Prelude.SubstDSL.html#164" class="Function">⟫</a>
        <a id="9556" class="Keyword">where</a>
        <a id="9570" href="Coherence.Hypotheses.html#9570" class="Function">hʳ</a> <a id="9573" class="Symbol">:</a> <a id="9575" class="Symbol">∀</a> <a id="9577" href="Coherence.Hypotheses.html#9577" class="Bound">Δ</a> <a id="9579" class="Symbol">→</a> <a id="9581" href="Prelude.Null.html#263" class="Field">Null</a> <a id="9586" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="9588" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="9592" class="Symbol">(</a><a id="9593" href="Coherence.Hypotheses.html#5730" class="Function">mkRev</a> <a id="9599" href="Coherence.Hypotheses.html#9577" class="Bound">Δ</a><a id="9600" class="Symbol">)</a>
        <a id="9610" href="Coherence.Hypotheses.html#9570" class="Function">hʳ</a> <a id="9613" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="9616" class="Symbol">=</a> <a id="9618" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="9631" href="Coherence.Hypotheses.html#9570" class="Function">hʳ</a> <a id="9634" class="Symbol">(_</a> <a id="9637" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="9639" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="9641" class="Symbol">)</a> <a id="9643" class="Symbol">=</a> <a id="9645" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="9658" href="Coherence.Hypotheses.html#9570" class="Function">hʳ</a> <a id="9661" class="Symbol">(_</a> <a id="9664" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="9666" href="Coherence.Hypotheses.html#9666" class="Bound">Δ</a><a id="9667" class="Symbol">@(_</a> <a id="9671" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="9673" class="Symbol">_))</a> <a id="9677" class="Keyword">rewrite</a> <a id="9685" href="Coherence.Hypotheses.html#9570" class="Function">hʳ</a> <a id="9688" href="Coherence.Hypotheses.html#9666" class="Bound">Δ</a> <a id="9690" class="Symbol">=</a> <a id="9692" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="9707" class="Symbol">_</a>
      <a id="9715" class="Symbol">...</a> <a id="9719" class="Symbol">|</a> <a id="9721" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="9726" href="Coherence.Hypotheses.html#9726" class="Bound">x∈</a> <a id="9729" class="Symbol">=</a> <a id="9731" class="Bound">pv-txoutΓ</a> <a id="9741" href="Coherence.Hypotheses.html#9726" class="Bound">x∈</a>

      <a id="9751" href="Coherence.Hypotheses.html#9751" class="Function">pv-txoutΓ′</a> <a id="9762" class="Symbol">:</a> <a id="9764" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="9780" class="Symbol">{</a><a id="9781" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a><a id="9783" class="Symbol">}</a> <a id="9785" href="Coherence.Hypotheses.html#9223" class="Function">txoutΓ′</a>
      <a id="9799" href="Coherence.Hypotheses.html#9751" class="Function">pv-txoutΓ′</a> <a id="9810" class="Symbol">=</a> <a id="9812" href="Coherence.Hypotheses.html#9279" class="Function">pv↝</a> <a id="9816" href="Coherence.Hypotheses.html#9019" class="Function">txoutΓ</a> <a id="9823" href="Coherence.Hypotheses.html#9096" class="Function">pv-txoutΓ</a>

      <a id="9840" href="Coherence.Hypotheses.html#9840" class="Function">txoutΓ″</a> <a id="9848" class="Symbol">:</a> <a id="9850" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="9856" href="Coherence.Hypotheses.html#2153" class="Function">Γ″</a>
      <a id="9865" href="Coherence.Hypotheses.html#9840" class="Function">txoutΓ″</a> <a id="9873" class="Symbol">=</a> <a id="9875" href="SymbolicModel.Mappings.html#1992" class="Function">Txout≈</a> <a id="9882" class="Symbol">{</a><a id="9883" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a><a id="9885" class="Symbol">}{</a><a id="9887" href="Coherence.Hypotheses.html#2153" class="Function">Γ″</a><a id="9889" class="Symbol">}</a> <a id="9891" class="Symbol">(</a><a id="9892" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="9898" href="Coherence.Hypotheses.html#2166" class="Function">Γ≈</a><a id="9900" class="Symbol">)</a> <a id="9902" href="Coherence.Hypotheses.html#9223" class="Function">txoutΓ′</a>

      <a id="9917" href="Coherence.Hypotheses.html#9917" class="Function">pv-txoutΓ″</a> <a id="9928" class="Symbol">:</a> <a id="9930" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="9946" class="Symbol">{</a><a id="9947" href="Coherence.Hypotheses.html#2153" class="Function">Γ″</a><a id="9949" class="Symbol">}</a> <a id="9951" href="Coherence.Hypotheses.html#9840" class="Function">txoutΓ″</a>
      <a id="9965" href="Coherence.Hypotheses.html#9917" class="Function">pv-txoutΓ″</a> <a id="9976" class="Symbol">=</a> <a id="9978" href="SymbolicModel.ValuePreservation.html#2490" class="Function">ValuePreserving-Txout≈</a> <a id="10001" class="Symbol">{</a><a id="10002" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a><a id="10004" class="Symbol">}{</a><a id="10006" href="Coherence.Hypotheses.html#2153" class="Function">Γ″</a><a id="10008" class="Symbol">}</a> <a id="10010" class="Symbol">(</a><a id="10011" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="10017" href="Coherence.Hypotheses.html#2166" class="Function">Γ≈</a><a id="10019" class="Symbol">)</a> <a id="10021" href="Coherence.Hypotheses.html#9223" class="Function">txoutΓ′</a> <a id="10029" href="Coherence.Hypotheses.html#9751" class="Function">pv-txoutΓ′</a>

      <a id="10047" href="Coherence.Hypotheses.html#10047" class="Function">pv-txout′</a> <a id="10057" class="Symbol">:</a> <a id="10059" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="10076" href="Coherence.Hypotheses.html#8726" class="Function">𝕣′</a>
      <a id="10085" href="Coherence.Hypotheses.html#10047" class="Function">pv-txout′</a> <a id="10095" href="Coherence.Hypotheses.html#10095" class="Bound">x∈</a> <a id="10098" class="Symbol">=</a>
        <a id="10108" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
          <a id="10124" class="Symbol">(</a><a id="10125" href="Coherence.Hypotheses.html#8726" class="Function">𝕣′</a> <a id="10128" href="SymbolicModel.Mappings.html#9038" class="Function Operator">∙txoutEnd</a> <a id="10138" href="Coherence.Hypotheses.html#10095" class="Bound">x∈</a><a id="10140" class="Symbol">)</a> <a id="10142" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
        <a id="10157" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="10160" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="10165" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">_∙value</a> <a id="10173" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="10175" href="SymbolicModel.Mappings.html#9698" class="Function">txout∷∘namesʳ⦅end⦆⊆</a> <a id="10195" class="Symbol">{</a><a id="10196" class="Argument">R</a> <a id="10198" class="Symbol">=</a> <a id="10200" href="Coherence.Hypotheses.html#2403" class="Function">R</a><a id="10201" class="Symbol">}</a> <a id="10203" href="Coherence.Hypotheses.html#1933" class="Function">Γ→</a> <a id="10206" class="Symbol">(</a><a id="10207" href="Coherence.Hypotheses.html#2360" class="Function">R≈′</a> <a id="10211" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="10213" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a><a id="10215" class="Symbol">)</a> <a id="10217" href="Coherence.Hypotheses.html#9223" class="Function">txoutΓ′</a> <a id="10225" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="10232" class="Symbol">_</a> <a id="10234" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="10246" class="Symbol">(</a><a id="10247" href="Coherence.Hypotheses.html#9840" class="Function">txoutΓ″</a> <a id="10255" href="Coherence.Hypotheses.html#10095" class="Bound">x∈</a><a id="10257" class="Symbol">)</a> <a id="10259" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
        <a id="10274" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="10277" href="Coherence.Hypotheses.html#9917" class="Function">pv-txoutΓ″</a> <a id="10288" class="Symbol">_</a> <a id="10290" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="10302" class="Symbol">(</a><a id="10303" href="Coherence.Hypotheses.html#2153" class="Function">Γ″</a> <a id="10306" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="10308" href="Coherence.Hypotheses.html#10095" class="Bound">x∈</a><a id="10310" class="Symbol">)</a> <a id="10312" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
        <a id="10327" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

<a id="10330" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[2]~_⨾_"></a><a id="10335" href="Coherence.Hypotheses.html#10335" class="Datatype Operator">_⨾_⨾_~ℍ[2]~_⨾_</a> <a id="10350" class="Symbol">:</a> <a id="10352" href="Coherence.Hypotheses.html#1606" class="Function">StepRel</a> <a id="10360" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[2]~_⨾_.mkℍ"></a><a id="10368" href="Coherence.Hypotheses.html#10368" class="InductiveConstructor">mkℍ</a> <a id="10372" class="Symbol">:</a> <a id="10374" class="Symbol">∀</a> <a id="10376" class="Symbol">{</a><a id="10377" href="Coherence.Hypotheses.html#10377" class="Bound">h</a> <a id="10379" class="Symbol">:</a> <a id="10381" href="Coherence.Hypotheses.html#4728" class="Record">H₂-args</a><a id="10388" class="Symbol">}</a> <a id="10390" class="Symbol">{</a><a id="10391" href="Coherence.Hypotheses.html#10391" class="Bound">B</a><a id="10392" class="Symbol">}</a>
    <a id="10398" class="Symbol">→</a> <a id="10400" class="Keyword">let</a>
        <a id="10412" class="Comment">-- (i) consume {G}C and its persistent deposits from Rˢ</a>
        <a id="10476" class="Keyword">open</a> <a id="10481" href="Coherence.Hypotheses.html#4728" class="Module">H₂-args</a> <a id="10489" href="Coherence.Hypotheses.html#10377" class="Bound">h</a> <a id="10491" class="Keyword">renaming</a> <a id="10500" class="Symbol">(</a><a id="10501" href="Coherence.Hypotheses.html#4779" class="Field">ad</a> <a id="10504" class="Symbol">to</a> <a id="10507" class="Field">⟨G⟩C</a><a id="10511" class="Symbol">)</a>

        <a id="10522" href="Coherence.Hypotheses.html#10522" class="Bound">C</a>      <a id="10529" class="Symbol">=</a> <a id="10531" href="Coherence.ComputationalContracts.html#12140" class="Function">encodeAd</a> <a id="10540" href="Coherence.Hypotheses.html#10507" class="Function">⟨G⟩C</a> <a id="10545" class="Symbol">(</a><a id="10546" href="SymbolicModel.Properties.html#4893" class="Function">ad∈⇒Txout</a> <a id="10556" class="Symbol">{</a><a id="10557" href="Coherence.Hypotheses.html#10507" class="Function">⟨G⟩C</a><a id="10561" class="Symbol">}{</a><a id="10563" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="10564" class="Symbol">}{</a><a id="10566" href="Coherence.Hypotheses.html#2107" class="Function">Rˢ</a><a id="10568" class="Symbol">}</a> <a id="10570" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="10572" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="10575" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a><a id="10581" class="Symbol">)</a>
        <a id="10591" href="Coherence.Hypotheses.html#10591" class="Bound">C,h̅,k̅</a>  <a id="10600" class="Symbol">=</a> <a id="10602" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="10609" class="Symbol">(</a><a id="10610" href="Coherence.Hypotheses.html#10522" class="Bound">C</a> <a id="10612" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="10614" href="Coherence.Hypotheses.html#4889" class="Function">h̅</a> <a id="10617" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="10619" href="Coherence.Hypotheses.html#5078" class="Function">k̅</a><a id="10621" class="Symbol">)</a>
        <a id="10631" href="Coherence.Hypotheses.html#10631" class="Bound">C,h̅,k̅ₐ</a> <a id="10640" class="Symbol">=</a> <a id="10642" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="10646" class="Symbol">(</a><a id="10647" href="ComputationalModel.KeyPairs.html#177" class="Function">K</a> <a id="10649" href="Coherence.Hypotheses.html#4787" class="Function">A</a><a id="10650" class="Symbol">)</a> <a id="10652" href="Coherence.Hypotheses.html#10591" class="Bound">C,h̅,k̅</a>

        <a id="10669" class="Comment">-- (ii) broadcast message in Rᶜ</a>
        <a id="10709" href="Coherence.Hypotheses.html#10709" class="Bound">λᶜ</a> <a id="10712" class="Symbol">=</a> <a id="10714" href="Coherence.Hypotheses.html#10391" class="Bound">B</a> <a id="10716" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="10720" href="Coherence.Hypotheses.html#10631" class="Bound">C,h̅,k̅ₐ</a>

        <a id="10738" class="Comment">-- (v) txout = txout′ (vi) extend sechash′ (vii) extend κ′</a>
        <a id="10805" class="Keyword">open</a> <a id="10810" href="Coherence.Hypotheses.html#5650" class="Module">H₂</a> <a id="10813" href="Coherence.Hypotheses.html#10377" class="Bound">h</a> <a id="10815" class="Keyword">using</a> <a id="10821" class="Symbol">(</a><a id="10822" href="Coherence.Hypotheses.html#8658" class="Function">λˢ</a><a id="10824" class="Symbol">)</a>
      <a id="10832" class="Keyword">in</a>

      <a id="10842" class="Comment">-- (i) ⟨G⟩C has been previously advertised in Rᶜ</a>
    <a id="10895" class="Symbol">∀</a> <a id="10897" class="Symbol">(</a><a id="10898" href="Coherence.Hypotheses.html#10898" class="Bound">∃B</a> <a id="10901" class="Symbol">:</a> <a id="10903" href="Data.Product.html#1378" class="Function">∃</a> <a id="10905" class="Symbol">λ</a> <a id="10907" href="Coherence.Hypotheses.html#10907" class="Bound">B</a> <a id="10909" class="Symbol">→</a> <a id="10911" class="Symbol">(</a><a id="10912" href="Coherence.Hypotheses.html#10907" class="Bound">B</a> <a id="10914" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="10918" href="Coherence.Hypotheses.html#10522" class="Bound">C</a><a id="10919" class="Symbol">)</a> <a id="10921" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="10923" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="10930" href="Coherence.Hypotheses.html#2093" class="Function">Rᶜ</a><a id="10932" class="Symbol">)</a> <a id="10934" class="Symbol">→</a>

      <a id="10943" class="Comment">-- ∘ it is the first occurrence of such a broadcast in Rᶜ</a>
    <a id="11005" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="11007" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="11011" class="Symbol">(λ</a> <a id="11014" href="Coherence.Hypotheses.html#11014" class="Bound">l</a> <a id="11016" class="Symbol">→</a> <a id="11018" class="Symbol">∀</a> <a id="11020" href="Coherence.Hypotheses.html#11020" class="Bound">X</a> <a id="11022" class="Symbol">→</a> <a id="11024" href="Coherence.Hypotheses.html#11014" class="Bound">l</a> <a id="11026" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="11028" href="Coherence.Hypotheses.html#11020" class="Bound">X</a> <a id="11030" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="11034" href="Coherence.Hypotheses.html#10522" class="Bound">C</a><a id="11035" class="Symbol">)</a> <a id="11037" class="Symbol">(</a><a id="11038" href="Prelude.Lists.Membership.html#6373" class="Function">Any-tail</a> <a id="11047" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="11049" href="Coherence.Hypotheses.html#10898" class="Bound">∃B</a> <a id="11052" class="Symbol">.</a><a id="11053" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="11058" class="Symbol">)</a>

      <a id="11067" class="Comment">-- ∘ hashes respect security parameter η</a>
    <a id="11112" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="11114" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="11118" class="Symbol">(λ</a> <a id="11121" href="Coherence.Hypotheses.html#11121" class="Bound">hᵢ</a> <a id="11124" class="Symbol">→</a> <a id="11126" href="ComputationalModel.Serialization.html#245" class="Function Operator">∣</a> <a id="11128" href="Coherence.Hypotheses.html#11121" class="Bound">hᵢ</a> <a id="11131" href="ComputationalModel.Serialization.html#245" class="Function Operator">∣ᵐ</a> <a id="11134" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="11136" href="SecureCompilation.ModuleParameters.html#357" class="Field">η</a><a id="11137" class="Symbol">)</a> <a id="11139" href="Coherence.Hypotheses.html#4889" class="Function">h̅</a>

      <a id="11149" class="Comment">-- ∘ make sure that λᶜ is the first occurrence of such a message after C in Rᶜ</a>
    <a id="11232" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="11234" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="11238" class="Symbol">(λ</a> <a id="11241" href="Coherence.Hypotheses.html#11241" class="Bound">l</a> <a id="11243" class="Symbol">→</a> <a id="11245" class="Symbol">∀</a> <a id="11247" href="Coherence.Hypotheses.html#11247" class="Bound">X</a> <a id="11249" class="Symbol">→</a> <a id="11251" href="Coherence.Hypotheses.html#11241" class="Bound">l</a> <a id="11253" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="11255" href="Coherence.Hypotheses.html#11247" class="Bound">X</a> <a id="11257" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="11261" href="Coherence.Hypotheses.html#10631" class="Bound">C,h̅,k̅ₐ</a><a id="11269" class="Symbol">)</a> <a id="11271" class="Symbol">(</a><a id="11272" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="11282" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="11284" href="Coherence.Hypotheses.html#10898" class="Bound">∃B</a> <a id="11287" class="Symbol">.</a><a id="11288" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="11293" class="Symbol">)</a>

      <a id="11302" class="Comment">-- (iii) each hᵢ is obtained by querying the oracle,</a>
      <a id="11361" class="Comment">--       otherwise we have a dishonestly chosen secret</a>
    <a id="11420" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="11422" href="Coherence.Helpers.html#1072" class="Function">CheckOracleInteractions</a> <a id="11446" href="Coherence.Hypotheses.html#2093" class="Function">Rᶜ</a> <a id="11449" href="Coherence.Hypotheses.html#4816" class="Function">Δ×h̅</a>

      <a id="11461" class="Comment">-- (iv) no hash is reused</a>
    <a id="11491" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="11493" href="Data.List.Relation.Unary.Unique.Setoid.html#728" class="Datatype">Unique</a> <a id="11500" href="Coherence.Hypotheses.html#4889" class="Function">h̅</a>
    <a id="11507" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="11509" href="Data.List.Relation.Binary.Disjoint.Setoid.html#851" class="Function">Disjoint</a> <a id="11518" href="Coherence.Hypotheses.html#4889" class="Function">h̅</a> <a id="11521" class="Symbol">(</a><a id="11522" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="11528" href="SymbolicModel.Mappings.html#1032" class="Function">sechash′</a><a id="11536" class="Symbol">)</a>

      <a id="11545" href="Prelude.InferenceRules.html#12752" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="11605" href="Coherence.Hypotheses.html#2181" class="Function">Γₜ″</a> <a id="11609" href="Coherence.Hypotheses.html#10335" class="Datatype Operator">⨾</a> <a id="11611" href="Coherence.Hypotheses.html#2120" class="Function">𝕣∗</a> <a id="11614" href="Coherence.Hypotheses.html#10335" class="Datatype Operator">⨾</a> <a id="11616" class="Symbol">(</a><a id="11617" href="Coherence.Hypotheses.html#2267" class="Function">𝕒</a> <a id="11619" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="11621" href="Coherence.Hypotheses.html#8658" class="Function">λˢ</a><a id="11623" class="Symbol">)</a> <a id="11625" href="Coherence.Hypotheses.html#10335" class="Datatype Operator">~ℍ[2]~</a> <a id="11632" href="Coherence.Hypotheses.html#10709" class="Bound">λᶜ</a> <a id="11635" href="Coherence.Hypotheses.html#10335" class="Datatype Operator">⨾</a> <a id="11637" href="Coherence.Hypotheses.html#2093" class="Function">Rᶜ</a>

<a id="11641" class="Comment">-- ** Stipulation: authorizing deposits</a>
<a id="11681" class="Keyword">record</a> <a id="H₃-args"></a><a id="11688" href="Coherence.Hypotheses.html#11688" class="Record">H₃-args</a> <a id="11696" class="Symbol">:</a> <a id="11698" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="11703" class="Keyword">where</a>
  <a id="11711" class="Keyword">constructor</a> <a id="mk"></a><a id="11723" href="Coherence.Hypotheses.html#11723" class="InductiveConstructor">mk</a>
  <a id="11728" class="Keyword">field</a>
    <a id="11738" class="Symbol">{</a><a id="H₃-args.ad"></a><a id="11739" href="Coherence.Hypotheses.html#11739" class="Field">ad</a> <a id="H₃-args.Γ₀"></a><a id="11742" href="Coherence.Hypotheses.html#11742" class="Field">Γ₀</a> <a id="H₃-args.t"></a><a id="11745" href="Coherence.Hypotheses.html#11745" class="Field">t</a> <a id="H₃-args.A"></a><a id="11747" href="Coherence.Hypotheses.html#11747" class="Field">A</a> <a id="H₃-args.x"></a><a id="11749" href="Coherence.Hypotheses.html#11749" class="Field">x</a> <a id="H₃-args.v"></a><a id="11751" href="Coherence.Hypotheses.html#11751" class="Field">v</a><a id="11752" class="Symbol">}</a> <a id="11754" class="Symbol">:</a> <a id="11756" class="Symbol">_</a>
  <a id="11760" class="Keyword">open</a> <a id="11765" href="BitML.Contracts.ModuleMacros.html#761" class="Module">∣AD</a> <a id="11769" href="Coherence.Hypotheses.html#11739" class="Field">ad</a> <a id="11772" class="Keyword">public</a>
  <a id="11781" class="Keyword">field</a>
    <a id="11791" class="Comment">-- Hypotheses from [C-AuthInit]</a>
    <a id="H₃-args.committedA"></a><a id="11827" href="Coherence.Hypotheses.html#11827" class="Field">committedA</a> <a id="11838" class="Symbol">:</a> <a id="11840" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a> <a id="11846" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="11848" href="BitML.Semantics.Configurations.Helpers.html#11398" class="Function">committedParticipants</a> <a id="11870" href="Coherence.Hypotheses.html#11739" class="Field">ad</a> <a id="11873" href="Coherence.Hypotheses.html#11742" class="Field">Γ₀</a>
    <a id="H₃-args.A∈per"></a><a id="11880" href="Coherence.Hypotheses.html#11880" class="Field">A∈per</a> <a id="11886" class="Symbol">:</a> <a id="11888" class="Symbol">(</a><a id="11889" href="Coherence.Hypotheses.html#11747" class="Field">A</a> <a id="11891" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="11893" href="Coherence.Hypotheses.html#11751" class="Field">v</a> <a id="11895" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="11897" href="Coherence.Hypotheses.html#11749" class="Field">x</a><a id="11898" class="Symbol">)</a> <a id="11900" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="11902" href="BitML.Contracts.Collections.html#8546" class="Function">persistentDeposits</a> <a id="11921" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a>
  <a id="11925" class="Keyword">open</a> <a id="11930" href="Coherence.Hypotheses.html#1746" class="Module">Transition</a>
    <a id="11945" class="Symbol">(</a> <a id="11947" class="Symbol">(</a><a id="11948" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="11950" href="Coherence.Hypotheses.html#11739" class="Field">ad</a> <a id="11953" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="11955" href="Coherence.Hypotheses.html#11742" class="Field">Γ₀</a><a id="11957" class="Symbol">)</a> <a id="11959" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="11961" href="Coherence.Hypotheses.html#11745" class="Field">t</a>
    <a id="11967" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">——</a> <a id="11970" href="BitML.Semantics.Label.html#1109" class="InductiveConstructor Operator">auth-init⦅</a> <a id="11981" href="Coherence.Hypotheses.html#11747" class="Field">A</a> <a id="11983" href="BitML.Semantics.Label.html#1109" class="InductiveConstructor Operator">,</a> <a id="11985" href="Coherence.Hypotheses.html#11739" class="Field">ad</a> <a id="11988" href="BitML.Semantics.Label.html#1109" class="InductiveConstructor Operator">,</a> <a id="11990" href="Coherence.Hypotheses.html#11749" class="Field">x</a> <a id="11992" href="BitML.Semantics.Label.html#1109" class="InductiveConstructor Operator">⦆</a> <a id="11994" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">—→</a>
      <a id="12003" class="Symbol">(</a><a id="12004" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="12006" href="Coherence.Hypotheses.html#11739" class="Field">ad</a> <a id="12009" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="12011" href="Coherence.Hypotheses.html#11742" class="Field">Γ₀</a> <a id="12014" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="12016" href="Coherence.Hypotheses.html#11747" class="Field">A</a> <a id="12018" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="12024" href="Coherence.Hypotheses.html#11749" class="Field">x</a> <a id="12026" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="12029" href="Coherence.Hypotheses.html#11739" class="Field">ad</a> <a id="12032" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="12033" class="Symbol">)</a> <a id="12035" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="12037" href="Coherence.Hypotheses.html#11745" class="Field">t</a>
    <a id="12043" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⊣</a> <a id="12045" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="12049" class="Symbol">(</a><a id="12050" href="BitML.Semantics.InferenceRules.html#4369" class="InductiveConstructor">[C-AuthInit]</a> <a id="12063" href="Coherence.Hypotheses.html#11827" class="Field">committedA</a> <a id="12074" href="Coherence.Hypotheses.html#11880" class="Field">A∈per</a><a id="12079" class="Symbol">)</a>
    <a id="12085" class="Symbol">)</a> <a id="12087" class="Keyword">public</a> <a id="12094" class="Keyword">hiding</a> <a id="12101" class="Symbol">(</a><a id="12102" href="Coherence.Hypotheses.html#1823" class="Field">t</a><a id="12103" class="Symbol">)</a>
  <a id="12107" class="Keyword">field</a> <a id="H₃-args.𝕙r"></a><a id="12113" href="Coherence.Hypotheses.html#12113" class="Field">𝕙r</a> <a id="12116" class="Symbol">:</a> <a id="12118" href="Coherence.Hypotheses.html#1962" class="Record">ℍ-Run</a> <a id="12124" href="Coherence.Hypotheses.html#1933" class="Function">Γ→</a>
  <a id="12129" class="Keyword">open</a> <a id="12134" href="Coherence.Hypotheses.html#1962" class="Module">ℍ-Run</a> <a id="12140" href="Coherence.Hypotheses.html#12113" class="Field">𝕙r</a> <a id="12143" class="Keyword">public</a>

<a id="12151" class="Keyword">module</a> <a id="12158" href="Coherence.Hypotheses.html#12158" class="Module">H₃</a> <a id="12161" class="Symbol">(</a><a id="12162" href="Coherence.Hypotheses.html#12162" class="Bound">⋯</a> <a id="12164" class="Symbol">:</a> <a id="12166" href="Coherence.Hypotheses.html#11688" class="Record">H₃-args</a><a id="12173" class="Symbol">)</a> <a id="12175" class="Symbol">(</a><a id="12176" class="Keyword">let</a> <a id="12180" class="Keyword">open</a> <a id="12185" href="Coherence.Hypotheses.html#11688" class="Module">H₃-args</a> <a id="12193" href="Coherence.Hypotheses.html#12162" class="Bound">⋯</a><a id="12194" class="Symbol">)</a> <a id="12196" class="Keyword">where</a>
  <a id="12204" class="Keyword">private</a>
    <a id="12216" href="Coherence.Hypotheses.html#12216" class="Function">𝕘</a> <a id="12218" class="Symbol">:</a> <a id="12220" href="SymbolicModel.Mappings.html#1504" class="Function">𝔾</a> <a id="12222" href="Coherence.Hypotheses.html#11739" class="Field">ad</a>
    <a id="12229" href="Coherence.Hypotheses.html#12216" class="Function">𝕘</a> <a id="12231" class="Symbol">=</a> <a id="12233" href="Coherence.Helpers.html#1856" class="Function">LIFT₀</a> <a id="12239" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="12241" href="Coherence.Hypotheses.html#11745" class="Field">t</a> <a id="12243" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="12245" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="12248" href="Coherence.Hypotheses.html#11739" class="Field">ad</a> <a id="12251" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="12253" href="Coherence.Hypotheses.html#11827" class="Field">committedA</a>
  <a id="12266" href="Coherence.Hypotheses.html#12266" class="Function">T</a> <a id="12268" class="Symbol">:</a> <a id="12270" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
  <a id="12276" href="Coherence.Hypotheses.html#12266" class="Function">T</a> <a id="12278" class="Symbol">=</a> <a id="12280" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="12283" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="12286" href="Coherence.Helpers.html#4326" class="Function">COMPILE-INIT</a> <a id="12299" href="Coherence.Hypotheses.html#12216" class="Function">𝕘</a>
  <a id="12303" class="Keyword">private</a>
    <a id="12315" href="Coherence.Hypotheses.html#12315" class="Function">names≡</a> <a id="12322" class="Symbol">:</a> <a id="12324" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="12327" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="12330" href="BitML.Contracts.Collections.html#4018" class="Function">names</a> <a id="12336" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="12338" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>
    <a id="12344" href="Coherence.Hypotheses.html#12315" class="Function">names≡</a> <a id="12351" class="Keyword">rewrite</a> <a id="12359" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="12378" class="Symbol">{</a><a id="12379" class="Argument">X</a> <a id="12381" class="Symbol">=</a> <a id="12383" href="BitML.BasicTypes.html#375" class="Function">Name</a><a id="12387" class="Symbol">}</a> <a id="12389" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="12391" class="Symbol">(</a><a id="12392" href="Coherence.Hypotheses.html#11747" class="Field">A</a> <a id="12394" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="12400" href="Coherence.Hypotheses.html#11749" class="Field">x</a> <a id="12402" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="12405" href="Coherence.Hypotheses.html#11739" class="Field">ad</a> <a id="12408" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="12409" class="Symbol">)</a>
                  <a id="12429" class="Symbol">=</a> <a id="12431" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="12446" class="Symbol">_</a>

    <a id="12453" href="Coherence.Hypotheses.html#12453" class="Function">ids≡</a> <a id="12458" class="Symbol">:</a> <a id="12460" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="12463" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="12466" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="12470" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="12472" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>
    <a id="12478" href="Coherence.Hypotheses.html#12453" class="Function">ids≡</a> <a id="12483" class="Symbol">=</a> <a id="12485" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="12490" href="Prelude.Lists.Core.html#2266" class="Function">filter₂</a> <a id="12498" href="Coherence.Hypotheses.html#12315" class="Function">names≡</a>

    <a id="12510" href="Coherence.Hypotheses.html#12510" class="Function">secrets≡</a> <a id="12519" class="Symbol">:</a> <a id="12521" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="12524" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="12527" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="12535" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="12537" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>
    <a id="12543" href="Coherence.Hypotheses.html#12510" class="Function">secrets≡</a> <a id="12552" class="Symbol">=</a> <a id="12554" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="12559" href="Prelude.Lists.Core.html#2207" class="Function">filter₁</a> <a id="12567" href="Coherence.Hypotheses.html#12315" class="Function">names≡</a>

    <a id="12579" href="Coherence.Hypotheses.html#12579" class="Function">ads≡</a> <a id="12584" class="Symbol">:</a> <a id="12586" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="12589" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="12592" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="12607" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="12609" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>
    <a id="12615" href="Coherence.Hypotheses.html#12579" class="Function">ads≡</a> <a id="12620" class="Keyword">rewrite</a> <a id="12628" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="12647" class="Symbol">{</a><a id="12648" class="Argument">X</a> <a id="12650" class="Symbol">=</a> <a id="12652" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="12654" class="Symbol">}</a> <a id="12656" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="12658" class="Symbol">(</a><a id="12659" href="Coherence.Hypotheses.html#11747" class="Field">A</a> <a id="12661" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="12667" href="Coherence.Hypotheses.html#11749" class="Field">x</a> <a id="12669" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="12672" href="Coherence.Hypotheses.html#11739" class="Field">ad</a> <a id="12675" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="12676" class="Symbol">)</a>
                <a id="12694" class="Symbol">=</a> <a id="12696" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="12711" class="Symbol">_</a>

    <a id="12718" href="Coherence.Hypotheses.html#12718" class="Function">txout↝</a> <a id="12725" class="Symbol">:</a> <a id="12727" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="12729" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="12732" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="12738" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="12740" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
    <a id="12747" href="Coherence.Hypotheses.html#12718" class="Function">txout↝</a> <a id="12754" href="Coherence.Hypotheses.html#12754" class="Bound">txout′</a> <a id="12761" class="Keyword">rewrite</a> <a id="12769" href="Coherence.Hypotheses.html#12453" class="Function">ids≡</a> <a id="12774" class="Symbol">=</a> <a id="12776" href="Coherence.Hypotheses.html#12754" class="Bound">txout′</a>

    <a id="12788" href="Coherence.Hypotheses.html#12788" class="Function">sechash↝</a> <a id="12797" class="Symbol">:</a> <a id="12799" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="12801" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="12804" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="12812" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="12814" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
    <a id="12821" href="Coherence.Hypotheses.html#12788" class="Function">sechash↝</a> <a id="12830" href="Coherence.Hypotheses.html#12830" class="Bound">sechash′</a> <a id="12839" class="Keyword">rewrite</a> <a id="12847" href="Coherence.Hypotheses.html#12510" class="Function">secrets≡</a> <a id="12856" class="Symbol">=</a> <a id="12858" href="Coherence.Hypotheses.html#12830" class="Bound">sechash′</a>

    <a id="12872" href="Coherence.Hypotheses.html#12872" class="Function">κ↝</a> <a id="12875" class="Symbol">:</a> <a id="12877" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="12879" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="12882" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="12885" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="12887" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
    <a id="12894" href="Coherence.Hypotheses.html#12872" class="Function">κ↝</a> <a id="12897" href="Coherence.Hypotheses.html#12897" class="Bound">κ′</a> <a id="12900" class="Keyword">rewrite</a> <a id="12908" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="12927" class="Symbol">{</a><a id="12928" class="Argument">X</a> <a id="12930" class="Symbol">=</a> <a id="12932" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="12934" class="Symbol">}</a> <a id="12936" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="12938" class="Symbol">(</a><a id="12939" href="Coherence.Hypotheses.html#11747" class="Field">A</a> <a id="12941" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="12947" href="Coherence.Hypotheses.html#11749" class="Field">x</a> <a id="12949" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="12952" href="Coherence.Hypotheses.html#11739" class="Field">ad</a> <a id="12955" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="12956" class="Symbol">)</a>
                <a id="12974" class="Symbol">|</a> <a id="12976" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="12991" class="Symbol">(</a><a id="12992" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="13007" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="13008" class="Symbol">)</a>
                <a id="13026" class="Symbol">=</a> <a id="13028" href="Coherence.Hypotheses.html#12897" class="Bound">κ′</a>
  <a id="13033" href="Coherence.Hypotheses.html#13033" class="Function">λˢ</a> <a id="13036" class="Symbol">:</a> <a id="13038" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="13041" href="Coherence.Hypotheses.html#1899" class="Function">Γₜ′</a>
  <a id="13047" href="Coherence.Hypotheses.html#13033" class="Function">λˢ</a> <a id="13050" class="Symbol">=</a> <a id="13052" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="13058" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="13060" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="13062" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="13065" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="13068" href="Coherence.Hypotheses.html#12718" class="Function">txout↝</a> <a id="13075" href="Coherence.Hypotheses.html#12788" class="Function">sechash↝</a> <a id="13084" href="Coherence.Hypotheses.html#12872" class="Function">κ↝</a>

<a id="13088" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[3]~_⨾_"></a><a id="13093" href="Coherence.Hypotheses.html#13093" class="Datatype Operator">_⨾_⨾_~ℍ[3]~_⨾_</a> <a id="13108" class="Symbol">:</a> <a id="13110" href="Coherence.Hypotheses.html#1606" class="Function">StepRel</a> <a id="13118" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[3]~_⨾_.mkℍ"></a><a id="13126" href="Coherence.Hypotheses.html#13126" class="InductiveConstructor">mkℍ</a> <a id="13130" class="Symbol">:</a> <a id="13132" class="Symbol">∀</a> <a id="13134" class="Symbol">{</a><a id="13135" href="Coherence.Hypotheses.html#13135" class="Bound">h</a> <a id="13137" class="Symbol">:</a> <a id="13139" href="Coherence.Hypotheses.html#11688" class="Record">H₃-args</a><a id="13146" class="Symbol">}</a> <a id="13148" class="Symbol">{</a><a id="13149" href="Coherence.Hypotheses.html#13149" class="Bound">B</a><a id="13150" class="Symbol">}</a>
    <a id="13156" class="Symbol">→</a> <a id="13158" class="Keyword">let</a>
        <a id="13170" class="Comment">-- (i) consume {G}C and its persistent deposits from Rˢ</a>
        <a id="13234" class="Keyword">open</a> <a id="13239" href="Coherence.Hypotheses.html#11688" class="Module">H₃-args</a> <a id="13247" href="Coherence.Hypotheses.html#13135" class="Bound">h</a>

        <a id="13258" class="Comment">-- (iv) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="13317" class="Keyword">open</a> <a id="13322" href="Coherence.Hypotheses.html#12158" class="Module">H₃</a> <a id="13325" href="Coherence.Hypotheses.html#13135" class="Bound">h</a> <a id="13327" class="Keyword">using</a> <a id="13333" class="Symbol">(</a><a id="13334" href="Coherence.Hypotheses.html#13033" class="Function">λˢ</a><a id="13336" class="Symbol">;</a> <a id="13338" href="Coherence.Hypotheses.html#12266" class="Function">T</a><a id="13339" class="Symbol">)</a>

        <a id="13350" class="Comment">-- (i) broadcast Tᵢₙᵢₜ , signed with A&#39;s private key</a>
        <a id="13411" href="Coherence.Hypotheses.html#13411" class="Bound">m</a> <a id="13413" class="Symbol">=</a> <a id="13415" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="13419" class="Symbol">(</a><a id="13420" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="13423" href="Coherence.Hypotheses.html#11747" class="Function">A</a><a id="13424" class="Symbol">)</a> <a id="13426" href="Coherence.Hypotheses.html#12266" class="Function">T</a>
        <a id="13436" href="Coherence.Hypotheses.html#13436" class="Bound">λᶜ</a> <a id="13439" class="Symbol">=</a> <a id="13441" href="Coherence.Hypotheses.html#13149" class="Bound">B</a> <a id="13443" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="13447" href="Coherence.Hypotheses.html#13411" class="Bound">m</a>
      <a id="13455" class="Keyword">in</a>

      <a id="13465" class="Comment">-- (ii) Tᵢₙᵢₜ occurs as a message in Rᶜ</a>
    <a id="13509" class="Symbol">∀</a> <a id="13511" class="Symbol">(</a><a id="13512" href="Coherence.Hypotheses.html#13512" class="Bound">∃B</a> <a id="13515" class="Symbol">:</a> <a id="13517" href="Data.Product.html#1378" class="Function">∃</a> <a id="13519" class="Symbol">λ</a> <a id="13521" href="Coherence.Hypotheses.html#13521" class="Bound">B</a> <a id="13523" class="Symbol">→</a> <a id="13525" href="Coherence.Hypotheses.html#13521" class="Bound">B</a> <a id="13527" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="13531" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="13538" class="Symbol">(</a><a id="13539" href="Coherence.Hypotheses.html#12266" class="Function">T</a> <a id="13541" class="Symbol">.</a><a id="13542" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="13548" class="Symbol">.</a><a id="13549" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="13554" class="Symbol">)</a> <a id="13556" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="13558" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="13565" href="Coherence.Hypotheses.html#2093" class="Function">Rᶜ</a><a id="13567" class="Symbol">)</a> <a id="13569" class="Symbol">→</a>

      <a id="13578" class="Comment">-- (iii) broadcast message in Rᶜ</a>
      <a id="13617" class="Comment">-- ∘ λᶜ is the first occurrence of such a message after Tinit in Rᶜ</a>
    <a id="13689" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="13691" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="13695" class="Symbol">(λ</a> <a id="13698" href="Coherence.Hypotheses.html#13698" class="Bound">l</a> <a id="13700" class="Symbol">→</a> <a id="13702" class="Symbol">∀</a> <a id="13704" href="Coherence.Hypotheses.html#13704" class="Bound">X</a> <a id="13706" class="Symbol">→</a> <a id="13708" href="Coherence.Hypotheses.html#13698" class="Bound">l</a> <a id="13710" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="13712" href="Coherence.Hypotheses.html#13704" class="Bound">X</a> <a id="13714" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="13718" href="Coherence.Hypotheses.html#13411" class="Bound">m</a><a id="13719" class="Symbol">)</a> <a id="13721" class="Symbol">(</a><a id="13722" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="13732" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="13734" href="Coherence.Hypotheses.html#13512" class="Bound">∃B</a> <a id="13737" class="Symbol">.</a><a id="13738" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="13743" class="Symbol">)</a>

      <a id="13752" href="Prelude.InferenceRules.html#12752" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="13812" href="Coherence.Hypotheses.html#2181" class="Function">Γₜ″</a> <a id="13816" href="Coherence.Hypotheses.html#13093" class="Datatype Operator">⨾</a> <a id="13818" href="Coherence.Hypotheses.html#2120" class="Function">𝕣∗</a> <a id="13821" href="Coherence.Hypotheses.html#13093" class="Datatype Operator">⨾</a> <a id="13823" class="Symbol">(</a><a id="13824" href="Coherence.Hypotheses.html#2267" class="Function">𝕒</a> <a id="13826" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="13828" href="Coherence.Hypotheses.html#13033" class="Function">λˢ</a><a id="13830" class="Symbol">)</a> <a id="13832" href="Coherence.Hypotheses.html#13093" class="Datatype Operator">~ℍ[3]~</a> <a id="13839" href="Coherence.Hypotheses.html#13436" class="Bound">λᶜ</a> <a id="13842" href="Coherence.Hypotheses.html#13093" class="Datatype Operator">⨾</a> <a id="13844" href="Coherence.Hypotheses.html#2093" class="Function">Rᶜ</a>

<a id="13848" class="Comment">-- ** Stipulation: activating the contract</a>
<a id="13891" class="Keyword">record</a> <a id="H₄-args"></a><a id="13898" href="Coherence.Hypotheses.html#13898" class="Record">H₄-args</a> <a id="13906" class="Symbol">:</a> <a id="13908" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="13913" class="Keyword">where</a>
  <a id="13921" class="Keyword">constructor</a> <a id="mk"></a><a id="13933" href="Coherence.Hypotheses.html#13933" class="InductiveConstructor">mk</a>
  <a id="13938" class="Keyword">field</a>
    <a id="13948" class="Symbol">{</a><a id="H₄-args.ad"></a><a id="13949" href="Coherence.Hypotheses.html#13949" class="Field">ad</a> <a id="H₄-args.Γ₀"></a><a id="13952" href="Coherence.Hypotheses.html#13952" class="Field">Γ₀</a> <a id="H₄-args.t"></a><a id="13955" href="Coherence.Hypotheses.html#13955" class="Field">t</a> <a id="H₄-args.z"></a><a id="13957" href="Coherence.Hypotheses.html#13957" class="Field">z</a><a id="13958" class="Symbol">}</a> <a id="13960" class="Symbol">:</a> <a id="13962" class="Symbol">_</a>
  <a id="13966" class="Keyword">open</a> <a id="13971" href="BitML.Contracts.ModuleMacros.html#761" class="Module">∣AD</a> <a id="13975" href="Coherence.Hypotheses.html#13949" class="Field">ad</a> <a id="13978" class="Keyword">public</a>
  <a id="H₄-args.ds"></a><a id="13987" href="Coherence.Hypotheses.html#13987" class="Function">ds</a> <a id="13990" class="Symbol">=</a> <a id="13992" href="BitML.Contracts.Collections.html#8546" class="Function">persistentDeposits</a> <a id="14011" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a>
  <a id="H₄-args.vs"></a><a id="14015" href="Coherence.Hypotheses.html#14015" class="Function">vs</a> <a id="14018" class="Symbol">=</a> <a id="14020" href="Data.List.Base.html#1553" class="Function">map</a> <a id="14024" href="Prelude.Nary.html#2292" class="Function">select₂</a> <a id="14032" href="Coherence.Hypotheses.html#13987" class="Function">ds</a>
  <a id="H₄-args.xs"></a><a id="14037" href="Coherence.Hypotheses.html#14037" class="Function">xs</a> <a id="14040" class="Symbol">=</a> <a id="14042" href="Data.List.Base.html#1553" class="Function">map</a> <a id="14046" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="14054" href="Coherence.Hypotheses.html#13987" class="Function">ds</a>
  <a id="H₄-args.v"></a><a id="14059" href="Coherence.Hypotheses.html#14059" class="Function">v</a>  <a id="14062" class="Symbol">=</a> <a id="14064" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="14068" href="Coherence.Hypotheses.html#14015" class="Function">vs</a>
  <a id="14073" class="Keyword">field</a>
    <a id="14083" class="Comment">-- Hypotheses from [C-Init]</a>
    <a id="H₄-args.fresh-z"></a><a id="14115" href="Coherence.Hypotheses.html#14115" class="Field">fresh-z</a> <a id="14123" class="Symbol">:</a> <a id="14125" href="Coherence.Hypotheses.html#13957" class="Field">z</a> <a id="14127" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="14129" href="Coherence.Hypotheses.html#14037" class="Function">xs</a> <a id="14132" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="14135" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="14139" href="Coherence.Hypotheses.html#13952" class="Field">Γ₀</a>
  <a id="H₄-args.Γ₁"></a><a id="14144" href="Coherence.Hypotheses.html#14144" class="Function">Γ₁</a> <a id="14147" class="Symbol">=</a> <a id="14149" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="14153" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="14155" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="14157" href="Coherence.Hypotheses.html#13949" class="Field">ad</a> <a id="14160" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14162" href="Coherence.Hypotheses.html#13952" class="Field">Γ₀</a>
  <a id="H₄-args.Γ₂"></a><a id="14167" href="Coherence.Hypotheses.html#14167" class="Function">Γ₂</a> <a id="14170" class="Symbol">=</a> <a id="14172" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="14176" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="14178" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="14181" href="Data.List.Base.html#1553" class="Function">map</a> <a id="14185" class="Symbol">(λ{</a> <a id="14189" class="Symbol">(</a><a id="14190" href="Coherence.Hypotheses.html#14190" class="Bound">Aᵢ</a> <a id="14193" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14195" href="Coherence.Hypotheses.html#14195" class="Bound">vᵢ</a> <a id="14198" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14200" href="Coherence.Hypotheses.html#14200" class="Bound">xᵢ</a><a id="14202" class="Symbol">)</a> <a id="14204" class="Symbol">→</a>
    <a id="14210" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="14212" href="Coherence.Hypotheses.html#14190" class="Bound">Aᵢ</a> <a id="14215" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="14219" href="Coherence.Hypotheses.html#14195" class="Bound">vᵢ</a> <a id="14222" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="14226" href="Coherence.Hypotheses.html#14200" class="Bound">xᵢ</a> <a id="14229" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14231" href="Coherence.Hypotheses.html#14190" class="Bound">Aᵢ</a> <a id="14234" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="14240" href="Coherence.Hypotheses.html#14200" class="Bound">xᵢ</a> <a id="14243" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="14247" href="Coherence.Hypotheses.html#13949" class="Field">ad</a> <a id="14250" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="14252" class="Symbol">})</a> <a id="14255" href="Coherence.Hypotheses.html#13987" class="Function">ds</a>
  <a id="H₄-args.Γ₃"></a><a id="14260" href="Coherence.Hypotheses.html#14260" class="Function">Γ₃</a> <a id="14263" class="Symbol">=</a> <a id="14265" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="14269" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="14271" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="14274" href="Data.List.Base.html#1553" class="Function">map</a> <a id="14278" class="Symbol">(</a><a id="14279" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">_auth[</a> <a id="14286" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="14289" href="Coherence.Hypotheses.html#13949" class="Field">ad</a> <a id="14292" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="14293" class="Symbol">)</a> <a id="14295" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a>
  <a id="14303" class="Keyword">open</a> <a id="14308" href="Coherence.Hypotheses.html#1746" class="Module">Transition</a>
    <a id="14323" class="Symbol">(</a> <a id="14325" class="Symbol">(</a><a id="14326" href="Coherence.Hypotheses.html#14144" class="Function">Γ₁</a> <a id="14329" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14331" href="Coherence.Hypotheses.html#14167" class="Function">Γ₂</a> <a id="14334" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14336" href="Coherence.Hypotheses.html#14260" class="Function">Γ₃</a><a id="14338" class="Symbol">)</a> <a id="14340" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="14342" href="Coherence.Hypotheses.html#13955" class="Field">t</a>
    <a id="14348" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">——</a> <a id="14351" href="BitML.Semantics.Label.html#1172" class="InductiveConstructor Operator">init⦅</a> <a id="14357" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a> <a id="14359" href="BitML.Semantics.Label.html#1172" class="InductiveConstructor Operator">,</a> <a id="14361" href="BitML.Contracts.ModuleMacros.html#783" class="Function">C</a> <a id="14363" href="BitML.Semantics.Label.html#1172" class="InductiveConstructor Operator">⦆</a> <a id="14365" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">—→</a>
      <a id="14374" class="Symbol">(</a><a id="14375" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="14377" href="BitML.Contracts.ModuleMacros.html#783" class="Function">C</a> <a id="14379" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="14381" href="Coherence.Hypotheses.html#14059" class="Function">v</a> <a id="14383" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="14387" href="Coherence.Hypotheses.html#13957" class="Field">z</a> <a id="14389" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14391" href="Coherence.Hypotheses.html#13952" class="Field">Γ₀</a><a id="14393" class="Symbol">)</a> <a id="14395" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="14397" href="Coherence.Hypotheses.html#13955" class="Field">t</a>
    <a id="14403" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⊣</a> <a id="14405" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="14409" class="Symbol">(</a><a id="14410" href="BitML.Semantics.InferenceRules.html#4741" class="InductiveConstructor">[C-Init]</a> <a id="14419" href="Coherence.Hypotheses.html#14115" class="Field">fresh-z</a><a id="14426" class="Symbol">)</a>
    <a id="14432" class="Symbol">)</a> <a id="14434" class="Keyword">public</a> <a id="14441" class="Keyword">hiding</a> <a id="14448" class="Symbol">(</a><a id="14449" href="Coherence.Hypotheses.html#1823" class="Field">t</a><a id="14450" class="Symbol">)</a>
  <a id="14454" class="Keyword">field</a> <a id="H₄-args.𝕙r"></a><a id="14460" href="Coherence.Hypotheses.html#14460" class="Field">𝕙r</a> <a id="14463" class="Symbol">:</a> <a id="14465" href="Coherence.Hypotheses.html#1962" class="Record">ℍ-Run</a> <a id="14471" href="Coherence.Hypotheses.html#1933" class="Function">Γ→</a>
  <a id="14476" class="Keyword">open</a> <a id="14481" href="Coherence.Hypotheses.html#1962" class="Module">ℍ-Run</a> <a id="14487" href="Coherence.Hypotheses.html#14460" class="Field">𝕙r</a> <a id="14490" class="Keyword">public</a>

<a id="14498" class="Keyword">module</a> <a id="14505" href="Coherence.Hypotheses.html#14505" class="Module">H₄</a> <a id="14508" class="Symbol">(</a><a id="14509" href="Coherence.Hypotheses.html#14509" class="Bound">⋯</a> <a id="14511" class="Symbol">:</a> <a id="14513" href="Coherence.Hypotheses.html#13898" class="Record">H₄-args</a><a id="14520" class="Symbol">)</a> <a id="14522" class="Symbol">(</a><a id="14523" class="Keyword">let</a> <a id="14527" class="Keyword">open</a> <a id="14532" href="Coherence.Hypotheses.html#13898" class="Module">H₄-args</a> <a id="14540" href="Coherence.Hypotheses.html#14509" class="Bound">⋯</a><a id="14541" class="Symbol">)</a> <a id="14543" class="Keyword">where</a>
  <a id="14551" class="Keyword">private</a>
    <a id="14563" href="Coherence.Hypotheses.html#14563" class="Function">committedA</a> <a id="14574" class="Symbol">:</a> <a id="14576" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a> <a id="14582" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="14584" href="BitML.Semantics.Configurations.Helpers.html#11398" class="Function">committedParticipants</a> <a id="14606" href="Coherence.Hypotheses.html#13949" class="Field">ad</a> <a id="14609" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>
    <a id="14615" href="Coherence.Hypotheses.html#14563" class="Function">committedA</a> <a id="14626" class="Symbol">{</a><a id="14627" href="Coherence.Hypotheses.html#14627" class="Bound">p</a><a id="14628" class="Symbol">}</a> <a id="14630" href="Coherence.Hypotheses.html#14630" class="Bound">p∈</a> <a id="14633" class="Symbol">=</a>
      <a id="14641" href="BitML.Semantics.Configurations.Helpers.html#8196" class="Function">∈-collect-++⁺ʳ</a> <a id="14656" class="Symbol">(</a><a id="14657" href="Coherence.Hypotheses.html#14144" class="Function">Γ₁</a> <a id="14660" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14662" href="Coherence.Hypotheses.html#14167" class="Function">Γ₂</a><a id="14664" class="Symbol">)</a> <a id="14666" href="Coherence.Hypotheses.html#14260" class="Function">Γ₃</a> <a id="14669" class="Symbol">⦃</a> <a id="14671" href="BitML.Semantics.Configurations.Helpers.html#11543" class="Function">∣committedParticipants∣.go</a> <a id="14698" href="Coherence.Hypotheses.html#13949" class="Field">ad</a> <a id="14701" class="Symbol">⦄</a> <a id="14703" href="Coherence.Hypotheses.html#14719" class="Function">p∈′</a>
      <a id="14713" class="Keyword">where</a> <a id="14719" href="Coherence.Hypotheses.html#14719" class="Function">p∈′</a> <a id="14723" class="Symbol">:</a> <a id="14725" href="Coherence.Hypotheses.html#14627" class="Bound">p</a> <a id="14727" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="14729" href="BitML.Semantics.Configurations.Helpers.html#11398" class="Function">committedParticipants</a> <a id="14751" href="Coherence.Hypotheses.html#13949" class="Field">ad</a> <a id="14754" href="Coherence.Hypotheses.html#14260" class="Function">Γ₃</a>
            <a id="14769" href="Coherence.Hypotheses.html#14719" class="Function">p∈′</a> <a id="14773" class="Keyword">rewrite</a> <a id="14781" href="BitML.Semantics.Configurations.Helpers.html#12836" class="Function">committedPartG≡</a> <a id="14797" class="Symbol">{</a><a id="14798" href="Coherence.Hypotheses.html#13949" class="Field">ad</a><a id="14800" class="Symbol">}</a> <a id="14802" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a> <a id="14808" class="Symbol">=</a> <a id="14810" href="Coherence.Hypotheses.html#14630" class="Bound">p∈</a>

    <a id="14818" href="Coherence.Hypotheses.html#14818" class="Function">𝕘</a> <a id="14820" class="Symbol">:</a> <a id="14822" href="SymbolicModel.Mappings.html#1504" class="Function">𝔾</a> <a id="14824" href="Coherence.Hypotheses.html#13949" class="Field">ad</a>
    <a id="14831" href="Coherence.Hypotheses.html#14818" class="Function">𝕘</a> <a id="14833" class="Symbol">=</a> <a id="14835" href="Coherence.Helpers.html#1856" class="Function">LIFT₀</a> <a id="14841" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="14843" href="Coherence.Hypotheses.html#13955" class="Field">t</a> <a id="14845" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="14847" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="14850" href="Coherence.Hypotheses.html#13949" class="Field">ad</a> <a id="14853" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="14855" href="Coherence.Hypotheses.html#14563" class="Function">committedA</a>
  <a id="14868" href="Coherence.Hypotheses.html#14868" class="Function">T</a> <a id="14870" class="Symbol">:</a> <a id="14872" href="Compiler.Outputs.html#206" class="Function">InitTx</a> <a id="14879" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a>
  <a id="14883" href="Coherence.Hypotheses.html#14868" class="Function">T</a> <a id="14885" class="Symbol">=</a> <a id="14887" href="Coherence.Helpers.html#4326" class="Function">COMPILE-INIT</a> <a id="14900" href="Coherence.Hypotheses.html#14818" class="Function">𝕘</a>
  <a id="14904" class="Keyword">private</a>
    <a id="14916" href="Coherence.Hypotheses.html#14916" class="Function">mkAuth</a> <a id="14923" class="Symbol">:</a> <a id="14925" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a> <a id="14937" class="Symbol">→</a> <a id="14939" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a>
    <a id="14947" href="Coherence.Hypotheses.html#14916" class="Function">mkAuth</a> <a id="14954" class="Symbol">=</a> <a id="14956" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||_</a>
            <a id="14972" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="14974" href="Data.List.Base.html#1553" class="Function">map</a> <a id="14978" class="Symbol">λ{</a> <a id="14981" class="Symbol">(</a><a id="14982" href="Coherence.Hypotheses.html#14982" class="Bound">Aᵢ</a> <a id="14985" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14987" href="Coherence.Hypotheses.html#14987" class="Bound">vᵢ</a> <a id="14990" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14992" href="Coherence.Hypotheses.html#14992" class="Bound">xᵢ</a><a id="14994" class="Symbol">)</a> <a id="14996" class="Symbol">→</a> <a id="14998" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="15000" href="Coherence.Hypotheses.html#14982" class="Bound">Aᵢ</a> <a id="15003" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="15007" href="Coherence.Hypotheses.html#14987" class="Bound">vᵢ</a> <a id="15010" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="15014" href="Coherence.Hypotheses.html#14992" class="Bound">xᵢ</a> <a id="15017" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15019" href="Coherence.Hypotheses.html#14982" class="Bound">Aᵢ</a> <a id="15022" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="15028" href="Coherence.Hypotheses.html#14992" class="Bound">xᵢ</a> <a id="15031" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="15035" href="Coherence.Hypotheses.html#13949" class="Field">ad</a> <a id="15038" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="15040" class="Symbol">}</a>

    <a id="15047" href="Coherence.Hypotheses.html#15047" class="Function">h₀</a> <a id="15050" class="Symbol">:</a> <a id="15052" class="Symbol">∀</a> <a id="15054" href="Coherence.Hypotheses.html#15054" class="Bound">ps</a> <a id="15057" class="Symbol">→</a> <a id="15059" href="Prelude.Null.html#263" class="Field">Null</a> <a id="15064" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="15066" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="15070" class="Symbol">(</a><a id="15071" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="15074" href="Data.List.Base.html#1553" class="Function">map</a> <a id="15078" class="Symbol">(</a><a id="15079" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">_auth[</a> <a id="15086" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="15089" href="Coherence.Hypotheses.html#13949" class="Field">ad</a> <a id="15092" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="15093" class="Symbol">)</a> <a id="15095" href="Coherence.Hypotheses.html#15054" class="Bound">ps</a><a id="15097" class="Symbol">)</a>
    <a id="15103" href="Coherence.Hypotheses.html#15047" class="Function">h₀</a> <a id="15106" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="15109" class="Symbol">=</a> <a id="15111" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="15120" href="Coherence.Hypotheses.html#15047" class="Function">h₀</a> <a id="15123" class="Symbol">(_</a> <a id="15126" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15128" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="15130" class="Symbol">)</a> <a id="15132" class="Symbol">=</a> <a id="15134" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="15143" href="Coherence.Hypotheses.html#15047" class="Function">h₀</a> <a id="15146" class="Symbol">(_</a> <a id="15149" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15151" href="Coherence.Hypotheses.html#15151" class="Bound">ps</a><a id="15153" class="Symbol">@(_</a> <a id="15157" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15159" class="Symbol">_))</a> <a id="15163" class="Symbol">=</a> <a id="15165" href="Coherence.Hypotheses.html#15047" class="Function">h₀</a> <a id="15168" href="Coherence.Hypotheses.html#15151" class="Bound">ps</a>

    <a id="15176" href="Coherence.Hypotheses.html#15176" class="Function">h₀′</a> <a id="15180" class="Symbol">:</a> <a id="15182" class="Symbol">∀</a> <a id="15184" class="Symbol">(</a><a id="15185" href="Coherence.Hypotheses.html#15185" class="Bound">ds</a> <a id="15188" class="Symbol">:</a> <a id="15190" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="15201" class="Symbol">)</a> <a id="15203" class="Symbol">→</a> <a id="15205" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="15209" class="Symbol">(</a><a id="15210" href="Coherence.Hypotheses.html#14916" class="Function">mkAuth</a> <a id="15217" href="Coherence.Hypotheses.html#15185" class="Bound">ds</a><a id="15219" class="Symbol">)</a> <a id="15221" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="15223" href="Data.List.Base.html#1553" class="Function">map</a> <a id="15227" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="15235" href="Coherence.Hypotheses.html#15185" class="Bound">ds</a>
    <a id="15242" href="Coherence.Hypotheses.html#15176" class="Function">h₀′</a> <a id="15246" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="15249" class="Symbol">=</a> <a id="15251" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="15260" href="Coherence.Hypotheses.html#15176" class="Function">h₀′</a> <a id="15264" class="Symbol">(_</a> <a id="15267" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15269" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="15271" class="Symbol">)</a> <a id="15273" class="Symbol">=</a> <a id="15275" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="15284" href="Coherence.Hypotheses.html#15176" class="Function">h₀′</a> <a id="15288" class="Symbol">((</a><a id="15290" href="Coherence.Hypotheses.html#15290" class="Bound">Aᵢ</a> <a id="15293" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="15295" href="Coherence.Hypotheses.html#15295" class="Bound">vᵢ</a> <a id="15298" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="15300" href="Coherence.Hypotheses.html#15300" class="Bound">xᵢ</a><a id="15302" class="Symbol">)</a> <a id="15304" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15306" href="Coherence.Hypotheses.html#15306" class="Bound">ds</a><a id="15308" class="Symbol">@(_</a> <a id="15312" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15314" class="Symbol">_))</a> <a id="15318" class="Symbol">=</a>
      <a id="15326" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
        <a id="15340" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="15344" class="Symbol">((</a><a id="15346" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="15348" href="Coherence.Hypotheses.html#15290" class="Bound">Aᵢ</a> <a id="15351" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="15355" href="Coherence.Hypotheses.html#15295" class="Bound">vᵢ</a> <a id="15358" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="15362" href="Coherence.Hypotheses.html#15300" class="Bound">xᵢ</a> <a id="15365" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15367" href="Coherence.Hypotheses.html#15290" class="Bound">Aᵢ</a> <a id="15370" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="15376" href="Coherence.Hypotheses.html#15300" class="Bound">xᵢ</a> <a id="15379" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="15383" href="Coherence.Hypotheses.html#13949" class="Field">ad</a> <a id="15386" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="15387" class="Symbol">)</a> <a id="15389" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15391" href="Coherence.Hypotheses.html#15901" class="Function">Δ</a><a id="15392" class="Symbol">)</a>
      <a id="15400" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="15403" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="15431" href="Data.Sum.html#838" class="Function">isInj₂</a>
          <a id="15448" class="Symbol">(</a><a id="15449" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="15451" href="Coherence.Hypotheses.html#15290" class="Bound">Aᵢ</a> <a id="15454" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="15458" href="Coherence.Hypotheses.html#15295" class="Bound">vᵢ</a> <a id="15461" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="15465" href="Coherence.Hypotheses.html#15300" class="Bound">xᵢ</a> <a id="15468" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15470" href="Coherence.Hypotheses.html#15290" class="Bound">Aᵢ</a> <a id="15473" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="15479" href="Coherence.Hypotheses.html#15300" class="Bound">xᵢ</a> <a id="15482" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="15485" href="Coherence.Hypotheses.html#13949" class="Field">ad</a> <a id="15488" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="15489" class="Symbol">)</a> <a id="15491" href="Coherence.Hypotheses.html#15901" class="Function">Δ</a> <a id="15493" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="15503" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="15507" class="Symbol">(</a><a id="15508" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="15510" href="Coherence.Hypotheses.html#15290" class="Bound">Aᵢ</a> <a id="15513" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="15517" href="Coherence.Hypotheses.html#15295" class="Bound">vᵢ</a> <a id="15520" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="15524" href="Coherence.Hypotheses.html#15300" class="Bound">xᵢ</a> <a id="15527" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15529" href="Coherence.Hypotheses.html#15290" class="Bound">Aᵢ</a> <a id="15532" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="15538" href="Coherence.Hypotheses.html#15300" class="Bound">xᵢ</a> <a id="15541" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="15545" href="Coherence.Hypotheses.html#13949" class="Field">ad</a> <a id="15548" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="15549" class="Symbol">)</a> <a id="15551" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="15554" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="15558" href="Coherence.Hypotheses.html#15901" class="Function">Δ</a>
      <a id="15566" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="15569" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="15574" class="Symbol">(</a><a id="15575" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="15579" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="15583" href="Coherence.Hypotheses.html#15901" class="Function">Δ</a><a id="15584" class="Symbol">)</a> <a id="15586" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="15588" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="15616" href="Data.Sum.html#838" class="Function">isInj₂</a>
          <a id="15633" class="Symbol">(</a><a id="15634" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="15636" href="Coherence.Hypotheses.html#15290" class="Bound">Aᵢ</a> <a id="15639" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="15643" href="Coherence.Hypotheses.html#15295" class="Bound">vᵢ</a> <a id="15646" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="15650" href="Coherence.Hypotheses.html#15300" class="Bound">xᵢ</a><a id="15652" class="Symbol">)</a> <a id="15654" class="Symbol">(</a><a id="15655" href="Coherence.Hypotheses.html#15290" class="Bound">Aᵢ</a> <a id="15658" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="15664" href="Coherence.Hypotheses.html#15300" class="Bound">xᵢ</a> <a id="15667" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="15670" href="Coherence.Hypotheses.html#13949" class="Field">ad</a> <a id="15673" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="15674" class="Symbol">)</a> <a id="15676" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="15686" class="Symbol">(</a><a id="15687" href="Coherence.Hypotheses.html#15300" class="Bound">xᵢ</a> <a id="15690" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15692" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="15696" class="Symbol">(</a><a id="15697" href="Coherence.Hypotheses.html#15290" class="Bound">Aᵢ</a> <a id="15700" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="15706" href="Coherence.Hypotheses.html#15300" class="Bound">xᵢ</a> <a id="15709" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="15712" href="Coherence.Hypotheses.html#13949" class="Field">ad</a> <a id="15715" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="15716" class="Symbol">))</a> <a id="15719" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="15722" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="15726" href="Coherence.Hypotheses.html#15901" class="Function">Δ</a>
      <a id="15734" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="15737" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="15742" class="Symbol">(λ</a> <a id="15745" href="Coherence.Hypotheses.html#15745" class="Bound">x</a> <a id="15747" class="Symbol">→</a> <a id="15749" class="Symbol">(</a><a id="15750" href="Coherence.Hypotheses.html#15300" class="Bound">xᵢ</a> <a id="15753" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15755" href="Coherence.Hypotheses.html#15745" class="Bound">x</a><a id="15756" class="Symbol">)</a> <a id="15758" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="15761" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="15765" href="Coherence.Hypotheses.html#15901" class="Function">Δ</a><a id="15766" class="Symbol">)</a> <a id="15768" class="Symbol">(</a><a id="15769" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="15784" class="Symbol">_)</a> <a id="15787" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="15797" href="Coherence.Hypotheses.html#15300" class="Bound">xᵢ</a> <a id="15800" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15802" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="15806" href="Coherence.Hypotheses.html#15901" class="Function">Δ</a>
      <a id="15814" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="15817" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="15822" class="Symbol">(</a><a id="15823" href="Coherence.Hypotheses.html#15300" class="Bound">xᵢ</a> <a id="15826" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷_</a><a id="15828" class="Symbol">)</a> <a id="15830" class="Symbol">(</a><a id="15831" href="Coherence.Hypotheses.html#15176" class="Function">h₀′</a> <a id="15835" href="Coherence.Hypotheses.html#15306" class="Bound">ds</a><a id="15837" class="Symbol">)</a> <a id="15839" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="15849" href="Coherence.Hypotheses.html#15300" class="Bound">xᵢ</a> <a id="15852" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15854" href="Data.List.Base.html#1553" class="Function">map</a> <a id="15858" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="15866" href="Coherence.Hypotheses.html#15306" class="Bound">ds</a>
      <a id="15875" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="15877" class="Keyword">where</a> <a id="15883" class="Keyword">open</a> <a id="15888" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a><a id="15899" class="Symbol">;</a> <a id="15901" href="Coherence.Hypotheses.html#15901" class="Function">Δ</a> <a id="15903" class="Symbol">=</a> <a id="15905" href="Coherence.Hypotheses.html#14916" class="Function">mkAuth</a> <a id="15912" href="Coherence.Hypotheses.html#15306" class="Bound">ds</a>

    <a id="15920" href="Coherence.Hypotheses.html#15920" class="Function">h₁</a> <a id="15923" class="Symbol">:</a> <a id="15925" class="Symbol">∀</a> <a id="15927" class="Symbol">(</a><a id="15928" href="Coherence.Hypotheses.html#15928" class="Bound">xs</a> <a id="15931" class="Symbol">:</a> <a id="15933" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="15944" class="Symbol">)</a> <a id="15946" class="Symbol">→</a> <a id="15948" href="Prelude.Null.html#263" class="Field">Null</a> <a id="15953" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="15955" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="15963" class="Symbol">(</a><a id="15964" href="Coherence.Hypotheses.html#14916" class="Function">mkAuth</a> <a id="15971" href="Coherence.Hypotheses.html#15928" class="Bound">xs</a><a id="15973" class="Symbol">)</a>
    <a id="15979" href="Coherence.Hypotheses.html#15920" class="Function">h₁</a> <a id="15982" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="15985" class="Symbol">=</a> <a id="15987" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="15996" href="Coherence.Hypotheses.html#15920" class="Function">h₁</a> <a id="15999" class="Symbol">(_</a> <a id="16002" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="16004" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="16006" class="Symbol">)</a> <a id="16008" class="Symbol">=</a> <a id="16010" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="16019" href="Coherence.Hypotheses.html#15920" class="Function">h₁</a> <a id="16022" class="Symbol">(_</a> <a id="16025" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="16027" href="Coherence.Hypotheses.html#16027" class="Bound">xs</a><a id="16029" class="Symbol">@(_</a> <a id="16033" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="16035" class="Symbol">_))</a> <a id="16039" class="Symbol">=</a> <a id="16041" href="Coherence.Hypotheses.html#15920" class="Function">h₁</a> <a id="16044" href="Coherence.Hypotheses.html#16027" class="Bound">xs</a>

    <a id="16052" href="Coherence.Hypotheses.html#16052" class="Function">h₂</a> <a id="16055" class="Symbol">:</a> <a id="16057" class="Symbol">∀</a> <a id="16059" href="Coherence.Hypotheses.html#16059" class="Bound">xs</a> <a id="16062" class="Symbol">→</a> <a id="16064" href="Prelude.Null.html#263" class="Field">Null</a> <a id="16069" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="16071" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="16079" class="Symbol">(</a><a id="16080" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="16083" href="Data.List.Base.html#1553" class="Function">map</a> <a id="16087" class="Symbol">(</a><a id="16088" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">_auth[</a> <a id="16095" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="16098" href="Coherence.Hypotheses.html#13949" class="Field">ad</a> <a id="16101" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="16102" class="Symbol">)</a> <a id="16104" href="Coherence.Hypotheses.html#16059" class="Bound">xs</a><a id="16106" class="Symbol">)</a>
    <a id="16112" href="Coherence.Hypotheses.html#16052" class="Function">h₂</a> <a id="16115" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="16118" class="Symbol">=</a> <a id="16120" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="16129" href="Coherence.Hypotheses.html#16052" class="Function">h₂</a> <a id="16132" class="Symbol">(_</a> <a id="16135" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="16137" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="16139" class="Symbol">)</a> <a id="16141" class="Symbol">=</a> <a id="16143" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="16152" href="Coherence.Hypotheses.html#16052" class="Function">h₂</a> <a id="16155" class="Symbol">(_</a> <a id="16158" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="16160" href="Coherence.Hypotheses.html#16160" class="Bound">xs</a><a id="16162" class="Symbol">@(_</a> <a id="16166" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="16168" class="Symbol">_))</a> <a id="16172" class="Symbol">=</a> <a id="16174" href="Coherence.Hypotheses.html#16052" class="Function">h₂</a> <a id="16177" href="Coherence.Hypotheses.html#16160" class="Bound">xs</a>

    <a id="16185" href="Coherence.Hypotheses.html#16185" class="Function">h₁′</a> <a id="16189" class="Symbol">:</a> <a id="16191" class="Symbol">∀</a> <a id="16193" class="Symbol">(</a><a id="16194" href="Coherence.Hypotheses.html#16194" class="Bound">xs</a> <a id="16197" class="Symbol">:</a> <a id="16199" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="16210" class="Symbol">)</a> <a id="16212" class="Symbol">→</a> <a id="16214" href="Prelude.Null.html#263" class="Field">Null</a> <a id="16219" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="16221" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="16236" class="Symbol">(</a><a id="16237" href="Coherence.Hypotheses.html#14916" class="Function">mkAuth</a> <a id="16244" href="Coherence.Hypotheses.html#16194" class="Bound">xs</a><a id="16246" class="Symbol">)</a>
    <a id="16252" href="Coherence.Hypotheses.html#16185" class="Function">h₁′</a> <a id="16256" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="16259" class="Symbol">=</a> <a id="16261" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="16270" href="Coherence.Hypotheses.html#16185" class="Function">h₁′</a> <a id="16274" class="Symbol">(_</a> <a id="16277" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="16279" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="16281" class="Symbol">)</a> <a id="16283" class="Symbol">=</a> <a id="16285" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="16294" href="Coherence.Hypotheses.html#16185" class="Function">h₁′</a> <a id="16298" class="Symbol">(_</a> <a id="16301" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="16303" href="Coherence.Hypotheses.html#16303" class="Bound">xs</a><a id="16305" class="Symbol">@(_</a> <a id="16309" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="16311" class="Symbol">_))</a> <a id="16315" class="Symbol">=</a> <a id="16317" href="Coherence.Hypotheses.html#16185" class="Function">h₁′</a> <a id="16321" href="Coherence.Hypotheses.html#16303" class="Bound">xs</a>

    <a id="16329" href="Coherence.Hypotheses.html#16329" class="Function">ids≡</a> <a id="16334" class="Symbol">:</a> <a id="16336" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16340" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="16342" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="16344" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16348" href="Coherence.Hypotheses.html#13952" class="Field">Γ₀</a> <a id="16351" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="16354" href="Data.List.Base.html#1553" class="Function">map</a> <a id="16358" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="16366" href="Coherence.Hypotheses.html#13987" class="Function">ds</a>
    <a id="16373" href="Coherence.Hypotheses.html#16329" class="Function">ids≡</a> <a id="16378" class="Symbol">=</a> <a id="16380" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
      <a id="16392" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16396" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>                    <a id="16417" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="16420" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="16448" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="16455" class="Symbol">(</a><a id="16456" href="Coherence.Hypotheses.html#14144" class="Function">Γ₁</a> <a id="16459" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="16461" href="Coherence.Hypotheses.html#14167" class="Function">Γ₂</a><a id="16463" class="Symbol">)</a> <a id="16465" href="Coherence.Hypotheses.html#14260" class="Function">Γ₃</a> <a id="16468" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="16476" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16480" class="Symbol">(</a><a id="16481" href="Coherence.Hypotheses.html#14144" class="Function">Γ₁</a> <a id="16484" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="16486" href="Coherence.Hypotheses.html#14167" class="Function">Γ₂</a><a id="16488" class="Symbol">)</a> <a id="16490" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="16493" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16497" href="Coherence.Hypotheses.html#14260" class="Function">Γ₃</a>  <a id="16501" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="16504" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="16509" class="Symbol">(</a><a id="16510" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16514" class="Symbol">(</a><a id="16515" href="Coherence.Hypotheses.html#14144" class="Function">Γ₁</a> <a id="16518" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="16520" href="Coherence.Hypotheses.html#14167" class="Function">Γ₂</a><a id="16522" class="Symbol">)</a> <a id="16524" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="16527" class="Symbol">)</a> <a id="16529" class="Symbol">(</a><a id="16530" href="Coherence.Hypotheses.html#15047" class="Function">h₀</a> <a id="16533" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a><a id="16538" class="Symbol">)</a> <a id="16540" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="16548" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16552" class="Symbol">(</a><a id="16553" href="Coherence.Hypotheses.html#14144" class="Function">Γ₁</a> <a id="16556" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="16558" href="Coherence.Hypotheses.html#14167" class="Function">Γ₂</a><a id="16560" class="Symbol">)</a> <a id="16562" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="16565" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>      <a id="16573" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="16576" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="16591" class="Symbol">_</a> <a id="16593" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="16601" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16605" class="Symbol">(</a><a id="16606" href="Coherence.Hypotheses.html#14144" class="Function">Γ₁</a> <a id="16609" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="16611" href="Coherence.Hypotheses.html#14167" class="Function">Γ₂</a><a id="16613" class="Symbol">)</a>            <a id="16626" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="16629" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="16657" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="16664" href="Coherence.Hypotheses.html#14144" class="Function">Γ₁</a> <a id="16667" href="Coherence.Hypotheses.html#14167" class="Function">Γ₂</a> <a id="16670" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="16678" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16682" href="Coherence.Hypotheses.html#14144" class="Function">Γ₁</a> <a id="16685" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="16688" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16692" href="Coherence.Hypotheses.html#14167" class="Function">Γ₂</a>         <a id="16703" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="16706" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="16711" class="Symbol">(</a><a id="16712" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="16716" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16720" href="Coherence.Hypotheses.html#14167" class="Function">Γ₂</a><a id="16722" class="Symbol">)</a>
                                    <a id="16760" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="16762" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="16790" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="16797" class="Symbol">(</a><a id="16798" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="16800" href="Coherence.Hypotheses.html#13949" class="Field">ad</a><a id="16802" class="Symbol">)</a> <a id="16804" href="Coherence.Hypotheses.html#13952" class="Field">Γ₀</a> <a id="16807" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="16815" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16819" href="Coherence.Hypotheses.html#13952" class="Field">Γ₀</a> <a id="16822" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="16825" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16829" href="Coherence.Hypotheses.html#14167" class="Function">Γ₂</a>         <a id="16840" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="16843" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="16848" class="Symbol">(</a><a id="16849" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16853" href="Coherence.Hypotheses.html#13952" class="Field">Γ₀</a> <a id="16856" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="16859" class="Symbol">)</a> <a id="16861" class="Symbol">(</a><a id="16862" href="Coherence.Hypotheses.html#15176" class="Function">h₀′</a> <a id="16866" href="Coherence.Hypotheses.html#13987" class="Function">ds</a><a id="16868" class="Symbol">)</a> <a id="16870" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="16878" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16882" href="Coherence.Hypotheses.html#13952" class="Field">Γ₀</a> <a id="16885" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="16888" href="Data.List.Base.html#1553" class="Function">map</a> <a id="16892" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="16900" href="Coherence.Hypotheses.html#13987" class="Function">ds</a> <a id="16903" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="16905" class="Keyword">where</a> <a id="16911" class="Keyword">open</a> <a id="16916" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

    <a id="16933" href="Coherence.Hypotheses.html#16933" class="Function">secrets≡</a> <a id="16942" class="Symbol">:</a> <a id="16944" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="16947" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="16950" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="16958" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="16960" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>
    <a id="16966" href="Coherence.Hypotheses.html#16933" class="Function">secrets≡</a> <a id="16975" class="Symbol">=</a> <a id="16977" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="16981" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="16983" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
      <a id="16995" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17003" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>                       <a id="17027" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
      <a id="17037" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17045" class="Symbol">(</a><a id="17046" href="Coherence.Hypotheses.html#14144" class="Function">Γ₁</a> <a id="17049" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="17051" href="Coherence.Hypotheses.html#14167" class="Function">Γ₂</a> <a id="17054" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="17056" href="Coherence.Hypotheses.html#14260" class="Function">Γ₃</a><a id="17058" class="Symbol">)</a>          <a id="17069" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="17072" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="17100" href="Data.Sum.html#755" class="Function">isInj₁</a>
                                           <a id="17150" class="Symbol">(</a><a id="17151" href="Coherence.Hypotheses.html#14144" class="Function">Γ₁</a> <a id="17154" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="17156" href="Coherence.Hypotheses.html#14167" class="Function">Γ₂</a><a id="17158" class="Symbol">)</a> <a id="17160" href="Coherence.Hypotheses.html#14260" class="Function">Γ₃</a> <a id="17163" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="17171" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17179" class="Symbol">(</a><a id="17180" href="Coherence.Hypotheses.html#14144" class="Function">Γ₁</a> <a id="17183" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="17185" href="Coherence.Hypotheses.html#14167" class="Function">Γ₂</a><a id="17187" class="Symbol">)</a> <a id="17189" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="17192" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17200" href="Coherence.Hypotheses.html#14260" class="Function">Γ₃</a> <a id="17203" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="17206" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="17211" class="Symbol">(</a><a id="17212" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17220" class="Symbol">(</a><a id="17221" href="Coherence.Hypotheses.html#14144" class="Function">Γ₁</a> <a id="17224" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="17226" href="Coherence.Hypotheses.html#14167" class="Function">Γ₂</a><a id="17228" class="Symbol">)</a>  <a id="17231" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="17234" class="Symbol">)</a> <a id="17236" class="Symbol">(</a><a id="17237" href="Coherence.Hypotheses.html#16052" class="Function">h₂</a> <a id="17240" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a><a id="17245" class="Symbol">)</a> <a id="17247" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="17255" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17263" class="Symbol">(</a><a id="17264" href="Coherence.Hypotheses.html#14144" class="Function">Γ₁</a> <a id="17267" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="17269" href="Coherence.Hypotheses.html#14167" class="Function">Γ₂</a><a id="17271" class="Symbol">)</a> <a id="17273" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="17276" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>         <a id="17287" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="17290" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="17305" class="Symbol">_</a> <a id="17307" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="17315" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17323" class="Symbol">(</a><a id="17324" href="Coherence.Hypotheses.html#14144" class="Function">Γ₁</a> <a id="17327" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="17329" href="Coherence.Hypotheses.html#14167" class="Function">Γ₂</a><a id="17331" class="Symbol">)</a>               <a id="17347" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="17350" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="17378" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="17385" href="Coherence.Hypotheses.html#14144" class="Function">Γ₁</a> <a id="17388" href="Coherence.Hypotheses.html#14167" class="Function">Γ₂</a> <a id="17391" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="17399" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17407" href="Coherence.Hypotheses.html#14144" class="Function">Γ₁</a> <a id="17410" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="17413" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17421" href="Coherence.Hypotheses.html#14167" class="Function">Γ₂</a>        <a id="17431" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="17434" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="17439" class="Symbol">(</a><a id="17440" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17448" href="Coherence.Hypotheses.html#14144" class="Function">Γ₁</a> <a id="17451" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="17454" class="Symbol">)</a> <a id="17456" class="Symbol">(</a><a id="17457" href="Coherence.Hypotheses.html#15920" class="Function">h₁</a> <a id="17460" href="Coherence.Hypotheses.html#13987" class="Function">ds</a><a id="17462" class="Symbol">)</a> <a id="17464" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="17472" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17480" href="Coherence.Hypotheses.html#14144" class="Function">Γ₁</a> <a id="17483" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="17486" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>                <a id="17504" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="17507" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="17522" class="Symbol">_</a> <a id="17524" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="17532" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17540" href="Coherence.Hypotheses.html#14144" class="Function">Γ₁</a>                      <a id="17564" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
      <a id="17574" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17582" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>                      <a id="17606" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="17608" class="Keyword">where</a> <a id="17614" class="Keyword">open</a> <a id="17619" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

    <a id="17636" href="Coherence.Hypotheses.html#17636" class="Function">ads⊆′</a> <a id="17642" class="Symbol">:</a> <a id="17644" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="17647" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="17650" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="17665" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="17667" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>
    <a id="17673" href="Coherence.Hypotheses.html#17636" class="Function">ads⊆′</a> <a id="17679" class="Symbol">=</a> <a id="17681" href="Relation.Binary.Reasoning.Base.Double.html#2222" class="Function Operator">begin</a>
      <a id="17693" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="17708" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="17711" href="Relation.Binary.Reasoning.Base.Double.html#3560" class="Function Operator">≡⟨⟩</a>
      <a id="17721" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="17736" href="Coherence.Hypotheses.html#13952" class="Field">Γ₀</a> <a id="17739" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="17742" href="BitML.Semantics.Configurations.Helpers.html#7992" class="Function">∈-collect-++⁺ˡ</a> <a id="17757" class="Symbol">(</a><a id="17758" href="Coherence.Hypotheses.html#14144" class="Function">Γ₁</a> <a id="17761" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="17763" href="Coherence.Hypotheses.html#14167" class="Function">Γ₂</a><a id="17765" class="Symbol">)</a> <a id="17767" href="Coherence.Hypotheses.html#14260" class="Function">Γ₃</a> <a id="17770" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="17772" href="BitML.Semantics.Configurations.Helpers.html#7992" class="Function">∈-collect-++⁺ˡ</a> <a id="17787" href="Coherence.Hypotheses.html#14144" class="Function">Γ₁</a> <a id="17790" href="Coherence.Hypotheses.html#14167" class="Function">Γ₂</a> <a id="17793" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
      <a id="17801" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="17816" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>  <a id="17819" href="Relation.Binary.Reasoning.Base.Double.html#3656" class="Function Operator">∎</a> <a id="17821" class="Keyword">where</a> <a id="17827" class="Keyword">open</a> <a id="17832" href="Data.List.Relation.Binary.Subset.Propositional.Properties.html#3760" class="Module">⊆-Reasoning</a> <a id="17844" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a>

    <a id="17852" href="Coherence.Hypotheses.html#17852" class="Function">sechash↝</a> <a id="17861" class="Symbol">:</a>  <a id="17864" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="17866" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="17869" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="17877" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="17879" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
    <a id="17886" href="Coherence.Hypotheses.html#17852" class="Function">sechash↝</a> <a id="17895" class="Symbol">=</a> <a id="17897" href="SymbolicModel.Mappings.html#3670" class="Function Operator">lift</a> <a id="17902" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="17904" href="SymbolicModel.Mappings.html#3670" class="Function Operator">—⟨</a> <a id="17907" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17915" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⟩—</a> <a id="17918" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="17921" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⊣</a> <a id="17923" href="Coherence.Hypotheses.html#16933" class="Function">secrets≡</a>

    <a id="17937" href="Coherence.Hypotheses.html#17937" class="Function">κ↝</a> <a id="17940" class="Symbol">:</a> <a id="17942" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="17944" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="17947" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="17950" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="17952" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
    <a id="17959" href="Coherence.Hypotheses.html#17937" class="Function">κ↝</a> <a id="17962" href="Coherence.Hypotheses.html#17962" class="Bound">κ′</a> <a id="17965" class="Symbol">=</a> <a id="17967" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="17976" href="Coherence.Hypotheses.html#17962" class="Bound">κ′</a> <a id="17979" href="Coherence.Hypotheses.html#17636" class="Function">ads⊆′</a>

    <a id="17990" href="Coherence.Hypotheses.html#17990" class="Function">txout↝</a> <a id="17997" class="Symbol">:</a> <a id="17999" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="18001" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="18004" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="18010" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="18012" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
    <a id="18019" href="Coherence.Hypotheses.html#17990" class="Function">txout↝</a> <a id="18026" href="Coherence.Hypotheses.html#18026" class="Bound">txout′</a>
      <a id="18039" class="Keyword">rewrite</a> <a id="18047" href="Coherence.Hypotheses.html#16329" class="Function">ids≡</a>
      <a id="18058" class="Symbol">=</a> <a id="18060" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="18067" href="Coherence.Hypotheses.html#13957" class="Field">z</a> <a id="18069" class="Symbol">((</a><a id="18071" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="18074" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="18077" href="Coherence.Hypotheses.html#14868" class="Function">T</a><a id="18078" class="Symbol">)</a> <a id="18080" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="18083" class="Number">0</a><a id="18084" class="Symbol">)</a>
      <a id="18092" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="18094" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="18103" href="Coherence.Hypotheses.html#18026" class="Bound">txout′</a> <a id="18110" href="Data.List.Membership.Propositional.Properties.html#3965" class="Function">∈-++⁺ˡ</a>
  <a id="18119" href="Coherence.Hypotheses.html#18119" class="Function">λˢ</a> <a id="18122" class="Symbol">:</a> <a id="18124" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="18127" href="Coherence.Hypotheses.html#1899" class="Function">Γₜ′</a>
  <a id="18133" href="Coherence.Hypotheses.html#18119" class="Function">λˢ</a> <a id="18136" class="Symbol">=</a> <a id="18138" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="18144" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="18146" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="18148" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="18151" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="18154" href="Coherence.Hypotheses.html#17990" class="Function">txout↝</a> <a id="18161" href="Coherence.Hypotheses.html#17852" class="Function">sechash↝</a> <a id="18170" href="Coherence.Hypotheses.html#17937" class="Function">κ↝</a>

<a id="18174" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[4]~_⨾_"></a><a id="18179" href="Coherence.Hypotheses.html#18179" class="Datatype Operator">_⨾_⨾_~ℍ[4]~_⨾_</a> <a id="18194" class="Symbol">:</a> <a id="18196" href="Coherence.Hypotheses.html#1606" class="Function">StepRel</a> <a id="18204" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[4]~_⨾_.mkℍ"></a><a id="18212" href="Coherence.Hypotheses.html#18212" class="InductiveConstructor">mkℍ</a> <a id="18216" class="Symbol">:</a> <a id="18218" class="Symbol">∀</a> <a id="18220" class="Symbol">{</a><a id="18221" href="Coherence.Hypotheses.html#18221" class="Bound">h</a> <a id="18223" class="Symbol">:</a> <a id="18225" href="Coherence.Hypotheses.html#13898" class="Record">H₄-args</a><a id="18232" class="Symbol">}</a>
    <a id="18238" class="Symbol">→</a> <a id="18240" class="Keyword">let</a>
        <a id="18252" class="Comment">-- (i) consume {G}C and its persistent deposits from Rˢ</a>
        <a id="18316" class="Keyword">open</a> <a id="18321" href="Coherence.Hypotheses.html#13898" class="Module">H₄-args</a> <a id="18329" href="Coherence.Hypotheses.html#18221" class="Bound">h</a>

        <a id="18340" class="Comment">-- (iii) sechash = sechash′, κ = κ′, txout extends txout′ with (z ↦ Tᵢₙᵢₜ)</a>
        <a id="18423" class="Keyword">open</a> <a id="18428" href="Coherence.Hypotheses.html#14505" class="Module">H₄</a> <a id="18431" href="Coherence.Hypotheses.html#18221" class="Bound">h</a> <a id="18433" class="Keyword">using</a> <a id="18439" class="Symbol">(</a><a id="18440" href="Coherence.Hypotheses.html#18119" class="Function">λˢ</a><a id="18442" class="Symbol">;</a> <a id="18444" href="Coherence.Hypotheses.html#14868" class="Function">T</a><a id="18445" class="Symbol">)</a>

        <a id="18456" class="Comment">-- (ii) append Tᵢₙᵢₜ to the blockchain</a>
        <a id="18503" href="Coherence.Hypotheses.html#18503" class="Bound">λᶜ</a> <a id="18506" class="Symbol">=</a> <a id="18508" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="18515" class="Symbol">(</a><a id="18516" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="18519" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="18522" href="Coherence.Hypotheses.html#14868" class="Function">T</a><a id="18523" class="Symbol">)</a>

      <a id="18532" class="Keyword">in</a>
      <a id="18541" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="18601" href="Coherence.Hypotheses.html#2181" class="Function">Γₜ″</a> <a id="18605" href="Coherence.Hypotheses.html#18179" class="Datatype Operator">⨾</a> <a id="18607" href="Coherence.Hypotheses.html#2120" class="Function">𝕣∗</a> <a id="18610" href="Coherence.Hypotheses.html#18179" class="Datatype Operator">⨾</a> <a id="18612" class="Symbol">(</a><a id="18613" href="Coherence.Hypotheses.html#2267" class="Function">𝕒</a> <a id="18615" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="18617" href="Coherence.Hypotheses.html#18119" class="Function">λˢ</a><a id="18619" class="Symbol">)</a> <a id="18621" href="Coherence.Hypotheses.html#18179" class="Datatype Operator">~ℍ[4]~</a> <a id="18628" href="Coherence.Hypotheses.html#18503" class="Bound">λᶜ</a> <a id="18631" href="Coherence.Hypotheses.html#18179" class="Datatype Operator">⨾</a> <a id="18633" href="Coherence.Hypotheses.html#2093" class="Function">Rᶜ</a>

<a id="18637" class="Comment">-- ** Contract actions: authorize control</a>
<a id="18679" class="Keyword">record</a> <a id="H₅-args"></a><a id="18686" href="Coherence.Hypotheses.html#18686" class="Record">H₅-args</a> <a id="18694" class="Symbol">:</a> <a id="18696" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="18701" class="Keyword">where</a>
  <a id="18709" class="Keyword">constructor</a> <a id="mk"></a><a id="18721" href="Coherence.Hypotheses.html#18721" class="InductiveConstructor">mk</a>
  <a id="18726" class="Keyword">field</a>
    <a id="18736" class="Symbol">{</a><a id="H₅-args.c"></a><a id="18737" href="Coherence.Hypotheses.html#18737" class="Field">c</a> <a id="H₅-args.v"></a><a id="18739" href="Coherence.Hypotheses.html#18739" class="Field">v</a> <a id="H₅-args.x"></a><a id="18741" href="Coherence.Hypotheses.html#18741" class="Field">x</a> <a id="H₅-args.Γ₀"></a><a id="18743" href="Coherence.Hypotheses.html#18743" class="Field">Γ₀</a> <a id="H₅-args.t"></a><a id="18746" href="Coherence.Hypotheses.html#18746" class="Field">t</a> <a id="H₅-args.A"></a><a id="18748" href="Coherence.Hypotheses.html#18748" class="Field">A</a><a id="18749" class="Symbol">}</a> <a id="18751" class="Symbol">:</a> <a id="18753" class="Symbol">_</a>
    <a id="18759" class="Symbol">{</a><a id="H₅-args.i"></a><a id="18760" href="Coherence.Hypotheses.html#18760" class="Field">i</a><a id="18761" class="Symbol">}</a> <a id="18763" class="Symbol">:</a> <a id="18765" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="18771" href="Coherence.Hypotheses.html#18737" class="Field">c</a>
  <a id="18775" class="Keyword">open</a> <a id="18780" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="18788" href="Coherence.Hypotheses.html#18737" class="Field">c</a> <a id="18790" href="Coherence.Hypotheses.html#18760" class="Field">i</a> <a id="18792" class="Keyword">public</a>
  <a id="18801" class="Keyword">field</a>
    <a id="18811" class="Comment">-- D ≡ A ∶ D′</a>
    <a id="H₅-args.D≡A:D′"></a><a id="18829" href="Coherence.Hypotheses.html#18829" class="Field">D≡A:D′</a> <a id="18836" class="Symbol">:</a> <a id="18838" href="Coherence.Hypotheses.html#18748" class="Field">A</a> <a id="18840" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="18842" href="BitML.Contracts.Collections.html#14015" class="Function">authDecorations</a> <a id="18858" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a>
    <a id="18864" class="Comment">-- Hypotheses from [C-AuthControl], already in hypothesis `D≡A:D′`</a>
  <a id="18933" class="Keyword">open</a> <a id="18938" href="Coherence.Hypotheses.html#1746" class="Module">Transition</a>
    <a id="18953" class="Symbol">(</a> <a id="18955" class="Symbol">(</a><a id="18956" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="18958" href="Coherence.Hypotheses.html#18737" class="Field">c</a> <a id="18960" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="18962" href="Coherence.Hypotheses.html#18739" class="Field">v</a> <a id="18964" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="18968" href="Coherence.Hypotheses.html#18741" class="Field">x</a> <a id="18970" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="18972" href="Coherence.Hypotheses.html#18743" class="Field">Γ₀</a><a id="18974" class="Symbol">)</a> <a id="18976" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="18978" href="Coherence.Hypotheses.html#18746" class="Field">t</a>
      <a id="18986" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">——</a> <a id="18989" href="BitML.Semantics.Label.html#1451" class="InductiveConstructor Operator">auth-control⦅</a> <a id="19003" href="Coherence.Hypotheses.html#18748" class="Field">A</a> <a id="19005" href="BitML.Semantics.Label.html#1451" class="InductiveConstructor Operator">,</a> <a id="19007" href="Coherence.Hypotheses.html#18741" class="Field">x</a> <a id="19009" href="BitML.Semantics.Label.html#1451" class="InductiveConstructor Operator">▷</a> <a id="19011" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="19013" href="BitML.Semantics.Label.html#1451" class="InductiveConstructor Operator">⦆</a> <a id="19015" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">—→</a>
      <a id="19024" class="Symbol">(</a><a id="19025" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="19027" href="Coherence.Hypotheses.html#18737" class="Field">c</a> <a id="19029" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="19031" href="Coherence.Hypotheses.html#18739" class="Field">v</a> <a id="19033" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="19037" href="Coherence.Hypotheses.html#18741" class="Field">x</a> <a id="19039" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="19041" href="Coherence.Hypotheses.html#18748" class="Field">A</a> <a id="19043" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="19049" href="Coherence.Hypotheses.html#18741" class="Field">x</a> <a id="19051" href="BitML.Semantics.Action.html#565" class="InductiveConstructor Operator">▷</a> <a id="19053" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="19055" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="19057" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="19059" href="Coherence.Hypotheses.html#18743" class="Field">Γ₀</a><a id="19061" class="Symbol">)</a> <a id="19063" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="19065" href="Coherence.Hypotheses.html#18746" class="Field">t</a>
    <a id="19071" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⊣</a> <a id="19073" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="19077" class="Symbol">(</a><a id="19078" href="BitML.Semantics.InferenceRules.html#6523" class="InductiveConstructor">[C-AuthControl]</a> <a id="19094" href="Coherence.Hypotheses.html#18829" class="Field">D≡A:D′</a><a id="19100" class="Symbol">)</a>
    <a id="19106" class="Symbol">)</a> <a id="19108" class="Keyword">public</a> <a id="19115" class="Keyword">hiding</a> <a id="19122" class="Symbol">(</a><a id="19123" href="Coherence.Hypotheses.html#1823" class="Field">t</a><a id="19124" class="Symbol">)</a>
  <a id="19128" class="Keyword">field</a> <a id="H₅-args.𝕙r"></a><a id="19134" href="Coherence.Hypotheses.html#19134" class="Field">𝕙r</a> <a id="19137" class="Symbol">:</a> <a id="19139" href="Coherence.Hypotheses.html#1962" class="Record">ℍ-Run</a> <a id="19145" href="Coherence.Hypotheses.html#1933" class="Function">Γ→</a>
  <a id="19150" class="Keyword">open</a> <a id="19155" href="Coherence.Hypotheses.html#1962" class="Module">ℍ-Run</a> <a id="19161" href="Coherence.Hypotheses.html#19134" class="Field">𝕙r</a> <a id="19164" class="Keyword">public</a>

<a id="19172" class="Keyword">module</a> <a id="19179" href="Coherence.Hypotheses.html#19179" class="Module">H₅</a> <a id="19182" class="Symbol">(</a><a id="19183" href="Coherence.Hypotheses.html#19183" class="Bound">⋯</a> <a id="19185" class="Symbol">:</a> <a id="19187" href="Coherence.Hypotheses.html#18686" class="Record">H₅-args</a><a id="19194" class="Symbol">)</a> <a id="19196" class="Symbol">(</a><a id="19197" class="Keyword">let</a> <a id="19201" class="Keyword">open</a> <a id="19206" href="Coherence.Hypotheses.html#18686" class="Module">H₅-args</a> <a id="19214" href="Coherence.Hypotheses.html#19183" class="Bound">⋯</a><a id="19215" class="Symbol">)</a> <a id="19217" class="Keyword">where</a>
  <a id="19225" class="Keyword">private</a>
    <a id="19237" class="Comment">-- (ii) {G}C is the ancestor of ⟨C, v⟩ₓ in Rˢ</a>
    <a id="19287" href="Coherence.Hypotheses.html#19287" class="Function">T×K</a> <a id="19291" class="Symbol">=</a> <a id="19293" href="Coherence.Helpers.html#4528" class="Function">COMPILE-ANCESTOR</a> <a id="19310" class="Symbol">{</a><a id="19311" class="Argument">Γ</a> <a id="19313" class="Symbol">=</a> <a id="19315" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="19316" class="Symbol">}</a> <a id="19318" class="Symbol">{</a><a id="19319" class="Argument">i</a> <a id="19321" class="Symbol">=</a> <a id="19323" href="Coherence.Hypotheses.html#18760" class="Field">i</a><a id="19324" class="Symbol">}</a> <a id="19326" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="19329" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="19331" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a>

  <a id="19336" href="Coherence.Hypotheses.html#19336" class="Function">T</a> <a id="19338" class="Symbol">:</a> <a id="19340" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="19349" class="Symbol">(</a><a id="19350" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="19352" href="Compiler.Subterms.html#622" class="Field Operator">∗</a><a id="19353" class="Symbol">)</a>
  <a id="19357" href="Coherence.Hypotheses.html#19336" class="Function">T</a> <a id="19359" class="Symbol">=</a> <a id="19361" href="Coherence.Hypotheses.html#19287" class="Function">T×K</a> <a id="19365" class="Symbol">.</a><a id="19366" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>

  <a id="19375" href="Coherence.Hypotheses.html#19375" class="Function">Kᵈ</a> <a id="19378" class="Symbol">:</a> <a id="19380" href="Bitcoin.Crypto.html#346" class="Record">KeyPair</a>
  <a id="19390" href="Coherence.Hypotheses.html#19375" class="Function">Kᵈ</a> <a id="19393" class="Symbol">=</a> <a id="19395" href="Coherence.Hypotheses.html#19287" class="Function">T×K</a> <a id="19399" class="Symbol">.</a><a id="19400" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="19406" href="Coherence.Hypotheses.html#18829" class="Field">D≡A:D′</a>

  <a id="19416" class="Comment">-- (iv) txout = txout′, sechash = sechash′, κ = κ′</a>
  <a id="19469" href="Coherence.Hypotheses.html#19469" class="Function">λˢ</a> <a id="19472" class="Symbol">:</a> <a id="19474" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="19477" href="Coherence.Hypotheses.html#1899" class="Function">Γₜ′</a>
  <a id="19483" href="Coherence.Hypotheses.html#19469" class="Function">λˢ</a> <a id="19486" class="Symbol">=</a> <a id="19488" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="19494" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="19496" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="19498" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="19501" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="19504" href="Function.Base.html#624" class="Function">id</a> <a id="19507" href="Function.Base.html#624" class="Function">id</a> <a id="19510" href="Function.Base.html#624" class="Function">id</a>

<a id="19514" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[5]~_⨾_"></a><a id="19519" href="Coherence.Hypotheses.html#19519" class="Datatype Operator">_⨾_⨾_~ℍ[5]~_⨾_</a> <a id="19534" class="Symbol">:</a> <a id="19536" href="Coherence.Hypotheses.html#1606" class="Function">StepRel</a> <a id="19544" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[5]~_⨾_.mkℍ"></a><a id="19552" href="Coherence.Hypotheses.html#19552" class="InductiveConstructor">mkℍ</a> <a id="19556" class="Symbol">:</a>
    <a id="19562" class="Comment">-- (i) Rˢ contains ⟨C , v⟩ₓ with C = D + ∑ᵢ Dᵢ</a>
    <a id="19613" class="Symbol">∀</a> <a id="19615" class="Symbol">{</a><a id="19616" href="Coherence.Hypotheses.html#19616" class="Bound">h</a> <a id="19618" class="Symbol">:</a> <a id="19620" href="Coherence.Hypotheses.html#18686" class="Record">H₅-args</a><a id="19627" class="Symbol">}</a> <a id="19629" class="Symbol">(</a><a id="19630" class="Keyword">open</a> <a id="19635" href="Coherence.Hypotheses.html#18686" class="Module">H₅-args</a> <a id="19643" href="Coherence.Hypotheses.html#19616" class="Bound">h</a><a id="19644" class="Symbol">)</a>
      <a id="19652" class="Symbol">{</a><a id="19653" href="Coherence.Hypotheses.html#19653" class="Bound">B</a> <a id="19655" class="Symbol">:</a> <a id="19657" href="BitML.BasicTypes.html#675" class="Function">Participant</a><a id="19668" class="Symbol">}</a>
    <a id="19674" class="Symbol">→</a> <a id="19676" class="Keyword">let</a>
        <a id="19688" class="Keyword">open</a> <a id="19693" href="Coherence.Hypotheses.html#19179" class="Module">H₅</a> <a id="19696" href="Coherence.Hypotheses.html#19616" class="Bound">h</a> <a id="19698" class="Keyword">using</a> <a id="19704" class="Symbol">(</a><a id="19705" href="Coherence.Hypotheses.html#19469" class="Function">λˢ</a><a id="19707" class="Symbol">;</a> <a id="19709" href="Coherence.Hypotheses.html#19375" class="Function">Kᵈ</a><a id="19711" class="Symbol">;</a> <a id="19713" href="Coherence.Hypotheses.html#19336" class="Function">T</a><a id="19714" class="Symbol">)</a>
        <a id="19724" href="Coherence.Hypotheses.html#19724" class="Bound">λᶜ</a> <a id="19727" class="Symbol">=</a> <a id="19729" href="Coherence.Hypotheses.html#19653" class="Bound">B</a> <a id="19731" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="19735" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="19739" href="Coherence.Hypotheses.html#19375" class="Function">Kᵈ</a> <a id="19742" class="Symbol">(</a><a id="19743" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a> <a id="19747" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="19749" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="19752" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="19755" href="Coherence.Hypotheses.html#19336" class="Function">T</a><a id="19756" class="Symbol">)</a>
      <a id="19764" class="Keyword">in</a>
        <a id="19775" href="Coherence.Hypotheses.html#2181" class="Function">Γₜ″</a> <a id="19779" href="Coherence.Hypotheses.html#19519" class="Datatype Operator">⨾</a> <a id="19781" href="Coherence.Hypotheses.html#2120" class="Function">𝕣∗</a> <a id="19784" href="Coherence.Hypotheses.html#19519" class="Datatype Operator">⨾</a> <a id="19786" class="Symbol">(</a><a id="19787" href="Coherence.Hypotheses.html#2267" class="Function">𝕒</a> <a id="19789" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="19791" href="Coherence.Hypotheses.html#19469" class="Function">λˢ</a><a id="19793" class="Symbol">)</a> <a id="19795" href="Coherence.Hypotheses.html#19519" class="Datatype Operator">~ℍ[5]~</a> <a id="19802" href="Coherence.Hypotheses.html#19724" class="Bound">λᶜ</a> <a id="19805" href="Coherence.Hypotheses.html#19519" class="Datatype Operator">⨾</a> <a id="19807" href="Coherence.Hypotheses.html#2093" class="Function">Rᶜ</a>

<a id="19811" class="Comment">-- ** Contract actions: put</a>
<a id="19839" class="Keyword">record</a> <a id="H₆-args"></a><a id="19846" href="Coherence.Hypotheses.html#19846" class="Record">H₆-args</a> <a id="19854" class="Symbol">:</a> <a id="19856" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="19861" class="Keyword">where</a>
  <a id="19869" class="Keyword">constructor</a> <a id="mk"></a><a id="19881" href="Coherence.Hypotheses.html#19881" class="InductiveConstructor">mk</a>
  <a id="19886" class="Keyword">field</a>
    <a id="19896" class="Symbol">{</a><a id="H₆-args.c"></a><a id="19897" href="Coherence.Hypotheses.html#19897" class="Field">c</a> <a id="H₆-args.v"></a><a id="19899" href="Coherence.Hypotheses.html#19899" class="Field">v</a> <a id="H₆-args.y"></a><a id="19901" href="Coherence.Hypotheses.html#19901" class="Field">y</a> <a id="H₆-args.c′"></a><a id="19903" href="Coherence.Hypotheses.html#19903" class="Field">c′</a> <a id="H₆-args.y′"></a><a id="19906" href="Coherence.Hypotheses.html#19906" class="Field">y′</a> <a id="H₆-args.Γ₀"></a><a id="19909" href="Coherence.Hypotheses.html#19909" class="Field">Γ₀</a> <a id="H₆-args.t"></a><a id="19912" href="Coherence.Hypotheses.html#19912" class="Field">t</a> <a id="H₆-args.p"></a><a id="19914" href="Coherence.Hypotheses.html#19914" class="Field">p</a><a id="19915" class="Symbol">}</a> <a id="19917" class="Symbol">:</a> <a id="19919" class="Symbol">_</a>
    <a id="19925" class="Symbol">{</a><a id="H₆-args.ds"></a><a id="19926" href="Coherence.Hypotheses.html#19926" class="Field">ds</a><a id="19928" class="Symbol">}</a> <a id="19930" class="Symbol">:</a> <a id="19932" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a>
    <a id="19948" class="Symbol">{</a><a id="H₆-args.ss"></a><a id="19949" href="Coherence.Hypotheses.html#19949" class="Field">ss</a><a id="19951" class="Symbol">}</a> <a id="19953" class="Symbol">:</a> <a id="19955" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="19960" class="Symbol">(</a><a id="19961" href="BitML.BasicTypes.html#675" class="Function">Participant</a> <a id="19973" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="19975" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="19982" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="19984" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="19985" class="Symbol">)</a>
    <a id="19991" class="Symbol">{</a><a id="H₆-args.i"></a><a id="19992" href="Coherence.Hypotheses.html#19992" class="Field">i</a><a id="19993" class="Symbol">}</a> <a id="19995" class="Symbol">:</a> <a id="19997" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="20003" href="Coherence.Hypotheses.html#19897" class="Field">c</a>
  <a id="H₆-args.vs"></a><a id="20007" href="Coherence.Hypotheses.html#20007" class="Function">vs</a> <a id="20010" class="Symbol">=</a> <a id="20012" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="20019" href="Coherence.Hypotheses.html#19926" class="Field">ds</a> <a id="20022" class="Symbol">.</a><a id="20023" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="20029" class="Symbol">.</a><a id="20030" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₆-args.xs"></a><a id="20038" href="Coherence.Hypotheses.html#20038" class="Function">xs</a> <a id="20041" class="Symbol">=</a> <a id="20043" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="20050" href="Coherence.Hypotheses.html#19926" class="Field">ds</a> <a id="20053" class="Symbol">.</a><a id="20054" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="20060" class="Symbol">.</a><a id="20061" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="20067" class="Comment">-- (i) xs = x₁⋯xₖ</a>
  <a id="H₆-args.as"></a><a id="20087" href="Coherence.Hypotheses.html#20087" class="Function">as</a> <a id="20090" class="Symbol">=</a> <a id="20092" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="20099" href="Coherence.Hypotheses.html#19949" class="Field">ss</a> <a id="20102" class="Symbol">.</a><a id="20103" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="20109" class="Symbol">.</a><a id="20110" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₆-args.Γ₁"></a><a id="20118" href="Coherence.Hypotheses.html#20118" class="Function">Γ₁</a>  <a id="20122" class="Symbol">=</a> <a id="20124" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="20127" href="Data.List.Base.html#1553" class="Function">map</a> <a id="20131" class="Symbol">(</a><a id="20132" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="20141" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨_has_⟩at_</a><a id="20151" class="Symbol">)</a> <a id="20153" href="Coherence.Hypotheses.html#19926" class="Field">ds</a>
  <a id="H₆-args.Δ"></a><a id="20158" href="Coherence.Hypotheses.html#20158" class="Function">Δ</a>   <a id="20162" class="Symbol">=</a> <a id="20164" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="20167" href="Data.List.Base.html#1553" class="Function">map</a> <a id="20171" class="Symbol">(</a><a id="20172" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="20181" href="BitML.Semantics.Configurations.Types.html#968" class="InductiveConstructor Operator">_∶_♯_</a><a id="20186" class="Symbol">)</a> <a id="20188" href="Coherence.Hypotheses.html#19949" class="Field">ss</a>
  <a id="H₆-args.Γ₂"></a><a id="20193" href="Coherence.Hypotheses.html#20193" class="Function">Γ₂</a>  <a id="20197" class="Symbol">=</a> <a id="20199" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="20203" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="20205" href="Coherence.Hypotheses.html#20158" class="Function">Δ</a> <a id="20207" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="20209" href="Coherence.Hypotheses.html#19909" class="Field">Γ₀</a>
  <a id="H₆-args.Γ₁₂"></a><a id="20214" href="Coherence.Hypotheses.html#20214" class="Function">Γ₁₂</a> <a id="20218" class="Symbol">=</a> <a id="20220" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="20224" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="20226" href="Coherence.Hypotheses.html#20118" class="Function">Γ₁</a> <a id="20229" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="20231" href="Coherence.Hypotheses.html#20193" class="Function">Γ₂</a>
  <a id="20236" class="Keyword">open</a> <a id="20241" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="20249" href="Coherence.Hypotheses.html#19897" class="Field">c</a> <a id="20251" href="Coherence.Hypotheses.html#19992" class="Field">i</a> <a id="20253" class="Keyword">public</a>
  <a id="H₆-args.As"></a><a id="20262" href="Coherence.Hypotheses.html#20262" class="Function">As</a> <a id="20265" class="Symbol">=</a> <a id="20267" href="BitML.Contracts.Collections.html#13915" class="Function">decorations</a> <a id="20279" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="20281" class="Symbol">.</a><a id="20282" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₆-args.ts"></a><a id="20290" href="Coherence.Hypotheses.html#20290" class="Function">ts</a> <a id="20293" class="Symbol">=</a> <a id="20295" href="BitML.Contracts.Collections.html#13915" class="Function">decorations</a> <a id="20307" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="20309" class="Symbol">.</a><a id="20310" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
  <a id="20318" class="Keyword">field</a>
    <a id="20328" class="Comment">-- ii) in Rˢ, α consumes ⟨D+C,v⟩y and the deposits ⟨Aᵢ,vᵢ⟩ₓᵢ</a>
    <a id="20393" class="Comment">-- to produce ⟨C′,v′⟩y′</a>
    <a id="20421" class="Comment">--     where D = ⋯ : put⋯reveal⋯.C′</a>
    <a id="20461" class="Comment">--     let t be the maximum deadline in an `after` in front of D</a>
    <a id="20530" class="Comment">--     T0D0: what should t′ be in case there are no `after` decorations?</a>
    <a id="20607" class="Comment">--           (currently any value)</a>
    <a id="H₆-args.t≡"></a><a id="20646" href="Coherence.Hypotheses.html#20646" class="Field">t≡</a> <a id="20649" class="Symbol">:</a> <a id="20651" href="Coherence.Hypotheses.html#19912" class="Field">t</a> <a id="20653" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="20655" href="Prelude.Ord.MinMax.html#436" class="Function">maximum</a> <a id="20663" href="Coherence.Hypotheses.html#19912" class="Field">t</a> <a id="20665" href="Coherence.Hypotheses.html#20290" class="Function">ts</a>
    <a id="H₆-args.d≡"></a><a id="20672" href="Coherence.Hypotheses.html#20672" class="Field">d≡</a> <a id="20675" class="Symbol">:</a> <a id="20677" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="20679" href="BitML.Contracts.Collections.html#15163" class="Function Operator">≡⋯∶</a> <a id="20683" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">put</a> <a id="20687" href="Coherence.Hypotheses.html#20038" class="Function">xs</a> <a id="20690" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">&amp;reveal</a> <a id="20698" href="Coherence.Hypotheses.html#20087" class="Function">as</a> <a id="20701" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">if</a> <a id="20704" href="Coherence.Hypotheses.html#19914" class="Field">p</a> <a id="20706" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">⇒</a> <a id="20708" href="Coherence.Hypotheses.html#19903" class="Field">c′</a>
    <a id="20715" class="Comment">-- Hypotheses from [C-PutRev]</a>
    <a id="H₆-args.fresh-y′"></a><a id="20749" href="Coherence.Hypotheses.html#20749" class="Field">fresh-y′</a> <a id="20758" class="Symbol">:</a> <a id="20760" href="Coherence.Hypotheses.html#19906" class="Field">y′</a> <a id="20763" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="20765" href="Coherence.Hypotheses.html#19901" class="Field">y</a> <a id="20767" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="20771" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="20775" href="Coherence.Hypotheses.html#20214" class="Function">Γ₁₂</a>
    <a id="H₆-args.p⟦Δ⟧≡"></a><a id="20783" href="Coherence.Hypotheses.html#20783" class="Field">p⟦Δ⟧≡</a> <a id="20789" class="Symbol">:</a> <a id="20791" href="BitML.Semantics.Predicate.html#906" class="Function Operator">⟦</a> <a id="20793" href="Coherence.Hypotheses.html#19914" class="Field">p</a> <a id="20795" href="BitML.Semantics.Predicate.html#906" class="Function Operator">⟧ᵖ</a> <a id="20798" href="Coherence.Hypotheses.html#20158" class="Function">Δ</a> <a id="20800" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="20802" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="20807" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>
    <a id="20816" class="Comment">-- Hypotheses from [Timeout]</a>
    <a id="H₆-args.As≡∅"></a><a id="20849" href="Coherence.Hypotheses.html#20849" class="Field">As≡∅</a> <a id="20854" class="Symbol">:</a> <a id="20856" href="Prelude.Null.html#263" class="Field">Null</a> <a id="20861" href="Coherence.Hypotheses.html#20262" class="Function">As</a>


  <a id="20868" class="Keyword">private</a>
    <a id="H₆-args.α"></a><a id="20880" href="Coherence.Hypotheses.html#20880" class="Function">α</a>  <a id="20883" class="Symbol">=</a> <a id="20885" href="BitML.Semantics.Label.html#1322" class="InductiveConstructor Operator">put⦅</a> <a id="20890" href="Coherence.Hypotheses.html#20038" class="Function">xs</a> <a id="20893" href="BitML.Semantics.Label.html#1322" class="InductiveConstructor Operator">,</a> <a id="20895" href="Coherence.Hypotheses.html#20087" class="Function">as</a> <a id="20898" href="BitML.Semantics.Label.html#1322" class="InductiveConstructor Operator">,</a> <a id="20900" href="Coherence.Hypotheses.html#19901" class="Field">y</a> <a id="20902" href="BitML.Semantics.Label.html#1322" class="InductiveConstructor Operator">⦆</a>
    <a id="H₆-args.Γ′"></a><a id="20908" href="Coherence.Hypotheses.html#20908" class="Function">Γ′</a> <a id="20911" class="Symbol">=</a> <a id="20913" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="20915" href="Coherence.Hypotheses.html#19903" class="Field">c′</a> <a id="20918" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="20920" href="Coherence.Hypotheses.html#19899" class="Field">v</a> <a id="20922" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="20924" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="20928" href="Coherence.Hypotheses.html#20007" class="Function">vs</a> <a id="20931" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="20935" href="Coherence.Hypotheses.html#19906" class="Field">y′</a> <a id="20938" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="20940" href="Coherence.Hypotheses.html#20193" class="Function">Γ₂</a>

    <a id="H₆-args.∀≤t"></a><a id="20948" href="Coherence.Hypotheses.html#20948" class="Function">∀≤t</a> <a id="20952" class="Symbol">:</a> <a id="20954" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="20958" class="Symbol">(</a><a id="20959" href="Prelude.Ord.Core.html#209" class="Field Operator">_≤</a> <a id="20962" href="Coherence.Hypotheses.html#19912" class="Field">t</a><a id="20963" class="Symbol">)</a> <a id="20965" href="Coherence.Hypotheses.html#20290" class="Function">ts</a>
    <a id="20972" href="Coherence.Hypotheses.html#20948" class="Function">∀≤t</a> <a id="20976" class="Symbol">=</a> <a id="20978" href="Prelude.SubstDSL.html#488" class="Function">⟪</a> <a id="20980" class="Symbol">(λ</a> <a id="20983" href="Coherence.Hypotheses.html#20983" class="Bound">◆</a> <a id="20985" class="Symbol">→</a> <a id="20987" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="20991" class="Symbol">(</a><a id="20992" href="Prelude.Ord.Core.html#209" class="Field Operator">_≤</a> <a id="20995" href="Coherence.Hypotheses.html#20983" class="Bound">◆</a><a id="20996" class="Symbol">)</a> <a id="20998" href="Coherence.Hypotheses.html#20290" class="Function">ts</a><a id="21000" class="Symbol">)</a> <a id="21002" href="Prelude.SubstDSL.html#488" class="Function">⟫</a> <a id="21004" href="Coherence.Hypotheses.html#20646" class="Field">t≡</a> <a id="21007" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="21010" href="Prelude.Ord.MinMax.html#1034" class="Postulate">∀≤max</a> <a id="21016" href="Coherence.Hypotheses.html#19912" class="Field">t</a> <a id="21018" href="Coherence.Hypotheses.html#20290" class="Function">ts</a>

    <a id="H₆-args.put→"></a><a id="21026" href="Coherence.Hypotheses.html#21026" class="Function">put→</a> <a id="21031" class="Symbol">:</a> <a id="21033" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="21035" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="21037" href="BitML.Contracts.ModuleMacros.html#607" class="Function">d∗</a> <a id="21040" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="21042" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="21044" href="Coherence.Hypotheses.html#19899" class="Field">v</a> <a id="21046" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="21050" href="Coherence.Hypotheses.html#19901" class="Field">y</a> <a id="21052" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="21054" href="Coherence.Hypotheses.html#20214" class="Function">Γ₁₂</a> <a id="21058" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="21061" href="Coherence.Hypotheses.html#20880" class="Function">α</a> <a id="21063" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a> <a id="21066" href="Coherence.Hypotheses.html#20908" class="Function">Γ′</a>
    <a id="21073" href="Coherence.Hypotheses.html#21026" class="Function">put→</a> <a id="21078" class="Symbol">=</a> <a id="21080" href="Prelude.SubstDSL.html#488" class="Function">⟪</a> <a id="21082" class="Symbol">(λ</a> <a id="21085" href="Coherence.Hypotheses.html#21085" class="Bound">◆</a> <a id="21087" class="Symbol">→</a> <a id="21089" class="Symbol">(</a><a id="21090" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="21092" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="21094" href="Coherence.Hypotheses.html#21085" class="Bound">◆</a> <a id="21096" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="21098" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="21100" href="Coherence.Hypotheses.html#19899" class="Field">v</a> <a id="21102" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="21106" href="Coherence.Hypotheses.html#19901" class="Field">y</a> <a id="21108" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="21110" class="Symbol">(</a><a id="21111" href="Coherence.Hypotheses.html#20118" class="Function">Γ₁</a> <a id="21114" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="21116" href="Coherence.Hypotheses.html#20193" class="Function">Γ₂</a><a id="21118" class="Symbol">)</a> <a id="21120" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="21123" href="Coherence.Hypotheses.html#20880" class="Function">α</a> <a id="21125" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a> <a id="21128" href="Coherence.Hypotheses.html#20908" class="Function">Γ′</a><a id="21130" class="Symbol">))</a> <a id="21133" href="Prelude.SubstDSL.html#488" class="Function">⟫</a> <a id="21135" href="Coherence.Hypotheses.html#20672" class="Field">d≡</a>
           <a id="21149" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="21152" href="BitML.Semantics.InferenceRules.html#5799" class="InductiveConstructor">[C-PutRev]</a> <a id="21163" class="Symbol">{</a><a id="21164" class="Argument">ds</a> <a id="21167" class="Symbol">=</a> <a id="21169" href="Coherence.Hypotheses.html#19926" class="Field">ds</a><a id="21171" class="Symbol">}</a> <a id="21173" class="Symbol">{</a><a id="21174" class="Argument">ss</a> <a id="21177" class="Symbol">=</a> <a id="21179" href="Coherence.Hypotheses.html#19949" class="Field">ss</a><a id="21181" class="Symbol">}</a> <a id="21183" href="Coherence.Hypotheses.html#20749" class="Field">fresh-y′</a> <a id="21192" href="Coherence.Hypotheses.html#20783" class="Field">p⟦Δ⟧≡</a>

  <a id="21201" class="Keyword">open</a> <a id="21206" href="Coherence.Hypotheses.html#1746" class="Module">Transition</a>
    <a id="21221" class="Symbol">(</a> <a id="21223" class="Symbol">(</a><a id="21224" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="21226" href="Coherence.Hypotheses.html#19897" class="Field">c</a> <a id="21228" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="21230" href="Coherence.Hypotheses.html#19899" class="Field">v</a> <a id="21232" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="21236" href="Coherence.Hypotheses.html#19901" class="Field">y</a> <a id="21238" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="21240" href="Coherence.Hypotheses.html#20214" class="Function">Γ₁₂</a><a id="21243" class="Symbol">)</a> <a id="21245" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="21247" href="Coherence.Hypotheses.html#19912" class="Field">t</a> <a id="21249" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">——</a> <a id="21252" href="Coherence.Hypotheses.html#20880" class="Function">α</a> <a id="21254" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">—→</a> <a id="21257" href="Coherence.Hypotheses.html#20908" class="Function">Γ′</a> <a id="21260" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="21262" href="Coherence.Hypotheses.html#19912" class="Field">t</a>
    <a id="21268" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⊣</a> <a id="21270" href="BitML.Semantics.InferenceRules.html#7812" class="InductiveConstructor">[Timeout]</a> <a id="21280" href="Coherence.Hypotheses.html#20849" class="Field">As≡∅</a> <a id="21285" href="Coherence.Hypotheses.html#20948" class="Function">∀≤t</a> <a id="21289" href="Coherence.Hypotheses.html#21026" class="Function">put→</a> <a id="21294" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="21303" class="Symbol">)</a> <a id="21305" class="Keyword">public</a> <a id="21312" class="Keyword">hiding</a> <a id="21319" class="Symbol">(</a><a id="21320" href="Coherence.Hypotheses.html#1823" class="Field">t</a><a id="21321" class="Symbol">)</a>
  <a id="21325" class="Keyword">field</a> <a id="H₆-args.𝕙r"></a><a id="21331" href="Coherence.Hypotheses.html#21331" class="Field">𝕙r</a> <a id="21334" class="Symbol">:</a> <a id="21336" href="Coherence.Hypotheses.html#1962" class="Record">ℍ-Run</a> <a id="21342" href="Coherence.Hypotheses.html#1933" class="Function">Γ→</a>
  <a id="21347" class="Keyword">open</a> <a id="21352" href="Coherence.Hypotheses.html#1962" class="Module">ℍ-Run</a> <a id="21358" href="Coherence.Hypotheses.html#21331" class="Field">𝕙r</a> <a id="21361" class="Keyword">public</a>

<a id="21369" class="Keyword">module</a> <a id="21376" href="Coherence.Hypotheses.html#21376" class="Module">H₆</a> <a id="21379" class="Symbol">(</a><a id="21380" href="Coherence.Hypotheses.html#21380" class="Bound">⋯</a> <a id="21382" class="Symbol">:</a> <a id="21384" href="Coherence.Hypotheses.html#19846" class="Record">H₆-args</a><a id="21391" class="Symbol">)</a> <a id="21393" class="Symbol">(</a><a id="21394" class="Keyword">let</a> <a id="21398" class="Keyword">open</a> <a id="21403" href="Coherence.Hypotheses.html#19846" class="Module">H₆-args</a> <a id="21411" href="Coherence.Hypotheses.html#21380" class="Bound">⋯</a><a id="21412" class="Symbol">)</a> <a id="21414" class="Keyword">where</a>
  <a id="21422" href="Coherence.Hypotheses.html#21422" class="Function">T</a> <a id="21424" class="Symbol">:</a> <a id="21426" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="21429" class="Symbol">(</a><a id="21430" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="21434" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="21436" href="Data.List.Base.html#4873" class="Function">length</a> <a id="21443" href="Coherence.Hypotheses.html#20038" class="Function">xs</a><a id="21445" class="Symbol">)</a> <a id="21447" class="Number">1</a>
  <a id="21451" href="Coherence.Hypotheses.html#21422" class="Function">T</a> <a id="21453" class="Symbol">=</a> <a id="21455" href="Coherence.Helpers.html#4528" class="Function">COMPILE-ANCESTOR</a> <a id="21472" class="Symbol">{</a><a id="21473" class="Argument">Γ</a> <a id="21475" class="Symbol">=</a> <a id="21477" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="21478" class="Symbol">}</a> <a id="21480" class="Symbol">{</a><a id="21481" class="Argument">i</a> <a id="21483" class="Symbol">=</a> <a id="21485" href="Coherence.Hypotheses.html#19992" class="Field">i</a><a id="21486" class="Symbol">}</a> <a id="21488" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="21491" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="21493" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="21495" class="Symbol">.</a><a id="21496" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="21502" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="21505" href="Coherence.Hypotheses.html#20672" class="Field">d≡</a> <a id="21508" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="21510" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="21519" href="Prelude.SubstDSL.html#164" class="Function">⟫</a>

  <a id="21524" class="Keyword">private</a>
    <a id="21536" href="Coherence.Hypotheses.html#21536" class="Function">txi</a> <a id="21540" class="Symbol">:</a> <a id="21542" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
    <a id="21555" href="Coherence.Hypotheses.html#21536" class="Function">txi</a> <a id="21559" class="Symbol">=</a> <a id="21561" class="Symbol">(</a><a id="21562" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="21565" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="21568" href="Coherence.Hypotheses.html#21422" class="Function">T</a><a id="21569" class="Symbol">)</a> <a id="21571" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="21574" class="Number">0</a>

    <a id="21581" class="Keyword">postulate</a> <a id="21591" href="Coherence.Hypotheses.html#21591" class="Postulate">val≡</a> <a id="21596" class="Symbol">:</a> <a id="21598" href="Coherence.Hypotheses.html#21536" class="Function">txi</a> <a id="21602" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a> <a id="21609" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="21611" href="Coherence.Hypotheses.html#19899" class="Field">v</a> <a id="21613" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="21615" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="21619" href="Coherence.Hypotheses.html#20007" class="Function">vs</a>

    <a id="21627" class="Keyword">open</a> <a id="21632" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

    <a id="21649" href="Coherence.Hypotheses.html#21649" class="Function">secrets≡</a> <a id="21658" class="Symbol">:</a> <a id="21660" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="21663" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="21666" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="21673" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="21675" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>
    <a id="21681" href="Coherence.Hypotheses.html#21649" class="Function">secrets≡</a> <a id="21690" class="Symbol">=</a>
      <a id="21698" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
        <a id="21712" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="21719" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
      <a id="21728" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="21731" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="21759" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="21766" class="Symbol">(</a><a id="21767" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="21769" href="Coherence.Hypotheses.html#19903" class="Field">c′</a> <a id="21772" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="21774" href="Coherence.Hypotheses.html#19899" class="Field">v</a> <a id="21776" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="21778" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="21782" href="Coherence.Hypotheses.html#20007" class="Function">vs</a> <a id="21785" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="21789" href="Coherence.Hypotheses.html#19906" class="Field">y′</a><a id="21791" class="Symbol">)</a> <a id="21793" href="Coherence.Hypotheses.html#20193" class="Function">Γ₂</a> <a id="21796" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="21806" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="21813" class="Symbol">(</a><a id="21814" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="21816" href="Coherence.Hypotheses.html#19903" class="Field">c′</a> <a id="21819" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="21821" href="Coherence.Hypotheses.html#19899" class="Field">v</a> <a id="21823" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="21825" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="21829" href="Coherence.Hypotheses.html#20007" class="Function">vs</a> <a id="21832" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="21836" href="Coherence.Hypotheses.html#19906" class="Field">y′</a><a id="21838" class="Symbol">)</a> <a id="21840" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="21843" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="21850" href="Coherence.Hypotheses.html#20193" class="Function">Γ₂</a>
      <a id="21859" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
        <a id="21871" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="21878" href="Coherence.Hypotheses.html#20193" class="Function">Γ₂</a>
      <a id="21887" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="21891" href="Data.List.Properties.html#5558" class="Function">L.++-identityˡ</a> <a id="21906" class="Symbol">_</a> <a id="21908" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
        <a id="21918" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="21921" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="21924" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="21931" href="Coherence.Hypotheses.html#20193" class="Function">Γ₂</a>
      <a id="21940" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="21944" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="21949" class="Symbol">(</a><a id="21950" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="21954" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="21961" href="Coherence.Hypotheses.html#20193" class="Function">Γ₂</a><a id="21963" class="Symbol">)</a> <a id="21965" class="Symbol">(</a><a id="21966" href="Coherence.Hypotheses.html#22136" class="Function">go</a> <a id="21969" href="Coherence.Hypotheses.html#19926" class="Field">ds</a><a id="21971" class="Symbol">)</a> <a id="21973" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
        <a id="21983" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="21990" class="Symbol">(</a><a id="21991" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="21993" href="Coherence.Hypotheses.html#19903" class="Field">c′</a> <a id="21996" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="21998" href="Coherence.Hypotheses.html#19899" class="Field">v</a> <a id="22000" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="22004" href="Coherence.Hypotheses.html#19901" class="Field">y</a> <a id="22006" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="22008" href="Coherence.Hypotheses.html#20118" class="Function">Γ₁</a><a id="22010" class="Symbol">)</a> <a id="22012" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="22015" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="22022" href="Coherence.Hypotheses.html#20193" class="Function">Γ₂</a>
      <a id="22031" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="22035" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="22063" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="22070" class="Symbol">(</a><a id="22071" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="22073" href="Coherence.Hypotheses.html#19903" class="Field">c′</a> <a id="22076" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="22078" href="Coherence.Hypotheses.html#19899" class="Field">v</a> <a id="22080" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="22084" href="Coherence.Hypotheses.html#19901" class="Field">y</a> <a id="22086" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="22088" href="Coherence.Hypotheses.html#20118" class="Function">Γ₁</a><a id="22090" class="Symbol">)</a> <a id="22092" href="Coherence.Hypotheses.html#20193" class="Function">Γ₂</a> <a id="22095" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
        <a id="22105" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="22112" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>
      <a id="22120" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="22122" class="Keyword">where</a>
        <a id="22136" href="Coherence.Hypotheses.html#22136" class="Function">go</a> <a id="22139" class="Symbol">:</a> <a id="22141" class="Symbol">∀</a> <a id="22143" class="Symbol">(</a><a id="22144" href="Coherence.Hypotheses.html#22144" class="Bound">ds</a> <a id="22147" class="Symbol">:</a> <a id="22149" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="22160" class="Symbol">)</a> <a id="22162" class="Symbol">→</a>
          <a id="22174" href="Prelude.Null.html#263" class="Field">Null</a> <a id="22179" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="22181" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="22188" class="Symbol">(</a><a id="22189" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="22192" href="Data.List.Base.html#1553" class="Function">map</a> <a id="22196" class="Symbol">(λ{</a> <a id="22200" class="Symbol">(</a><a id="22201" href="Coherence.Hypotheses.html#22201" class="Bound">Aᵢ</a> <a id="22204" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="22206" href="Coherence.Hypotheses.html#22206" class="Bound">vᵢ</a> <a id="22209" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="22211" href="Coherence.Hypotheses.html#22211" class="Bound">xᵢ</a><a id="22213" class="Symbol">)</a> <a id="22215" class="Symbol">→</a> <a id="22217" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="22219" href="Coherence.Hypotheses.html#22201" class="Bound">Aᵢ</a> <a id="22222" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="22226" href="Coherence.Hypotheses.html#22206" class="Bound">vᵢ</a> <a id="22229" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="22233" href="Coherence.Hypotheses.html#22211" class="Bound">xᵢ</a> <a id="22236" class="Symbol">})</a> <a id="22239" href="Coherence.Hypotheses.html#22144" class="Bound">ds</a><a id="22241" class="Symbol">)</a>
        <a id="22251" href="Coherence.Hypotheses.html#22136" class="Function">go</a> <a id="22254" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="22257" class="Symbol">=</a> <a id="22259" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="22272" href="Coherence.Hypotheses.html#22136" class="Function">go</a> <a id="22275" class="Symbol">(_</a> <a id="22278" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="22280" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="22282" class="Symbol">)</a> <a id="22284" class="Symbol">=</a> <a id="22286" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="22299" href="Coherence.Hypotheses.html#22136" class="Function">go</a> <a id="22302" class="Symbol">(_</a> <a id="22305" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="22307" href="Coherence.Hypotheses.html#22307" class="Bound">xs</a><a id="22309" class="Symbol">@(_</a> <a id="22313" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="22315" class="Symbol">_))</a> <a id="22319" class="Symbol">=</a> <a id="22321" href="Coherence.Hypotheses.html#22136" class="Function">go</a> <a id="22324" href="Coherence.Hypotheses.html#22307" class="Bound">xs</a>

    <a id="22332" href="Coherence.Hypotheses.html#22332" class="Function">ads≡</a> <a id="22337" class="Symbol">:</a> <a id="22339" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="22342" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="22345" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="22360" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="22362" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>
    <a id="22368" href="Coherence.Hypotheses.html#22332" class="Function">ads≡</a> <a id="22373" class="Symbol">=</a>
      <a id="22381" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
        <a id="22395" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="22410" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
      <a id="22419" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
        <a id="22431" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="22446" href="Coherence.Hypotheses.html#20193" class="Function">Γ₂</a>
      <a id="22455" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="22459" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="22464" class="Symbol">(</a><a id="22465" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="22469" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="22484" href="Coherence.Hypotheses.html#20193" class="Function">Γ₂</a><a id="22486" class="Symbol">)</a> <a id="22488" class="Symbol">(</a><a id="22489" href="Coherence.Hypotheses.html#22634" class="Function">go</a> <a id="22492" href="Coherence.Hypotheses.html#19926" class="Field">ds</a><a id="22494" class="Symbol">)</a> <a id="22496" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
        <a id="22506" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="22521" href="Coherence.Hypotheses.html#20118" class="Function">Γ₁</a> <a id="22524" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="22527" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="22542" href="Coherence.Hypotheses.html#20193" class="Function">Γ₂</a>
      <a id="22551" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="22554" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="22558" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="22560" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="22579" href="Coherence.Hypotheses.html#20118" class="Function">Γ₁</a> <a id="22582" href="Coherence.Hypotheses.html#20193" class="Function">Γ₂</a> <a id="22585" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="22595" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="22610" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>
      <a id="22618" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="22620" class="Keyword">where</a>
        <a id="22634" href="Coherence.Hypotheses.html#22634" class="Function">go</a> <a id="22637" class="Symbol">:</a> <a id="22639" class="Symbol">∀</a> <a id="22641" class="Symbol">(</a><a id="22642" href="Coherence.Hypotheses.html#22642" class="Bound">ds</a> <a id="22645" class="Symbol">:</a> <a id="22647" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="22658" class="Symbol">)</a> <a id="22660" class="Symbol">→</a>
          <a id="22672" href="Prelude.Null.html#263" class="Field">Null</a> <a id="22677" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="22679" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="22694" class="Symbol">(</a><a id="22695" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="22698" href="Data.List.Base.html#1553" class="Function">map</a> <a id="22702" class="Symbol">(</a><a id="22703" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="22712" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨_has_⟩at_</a><a id="22722" class="Symbol">)</a> <a id="22724" href="Coherence.Hypotheses.html#22642" class="Bound">ds</a><a id="22726" class="Symbol">)</a>
        <a id="22736" href="Coherence.Hypotheses.html#22634" class="Function">go</a> <a id="22739" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="22742" class="Symbol">=</a> <a id="22744" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="22757" href="Coherence.Hypotheses.html#22634" class="Function">go</a> <a id="22760" class="Symbol">(_</a> <a id="22763" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="22765" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="22767" class="Symbol">)</a> <a id="22769" class="Symbol">=</a> <a id="22771" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="22784" href="Coherence.Hypotheses.html#22634" class="Function">go</a> <a id="22787" class="Symbol">(_</a> <a id="22790" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="22792" href="Coherence.Hypotheses.html#22792" class="Bound">xs</a><a id="22794" class="Symbol">@(_</a> <a id="22798" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="22800" class="Symbol">_))</a> <a id="22804" class="Symbol">=</a> <a id="22806" href="Coherence.Hypotheses.html#22634" class="Function">go</a> <a id="22809" href="Coherence.Hypotheses.html#22792" class="Bound">xs</a>

    <a id="22817" href="Coherence.Hypotheses.html#22817" class="Function">sechash↝</a> <a id="22826" class="Symbol">:</a>  <a id="22829" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="22831" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="22834" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="22842" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="22844" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
    <a id="22851" href="Coherence.Hypotheses.html#22817" class="Function">sechash↝</a> <a id="22860" class="Symbol">=</a> <a id="22862" href="SymbolicModel.Mappings.html#3670" class="Function Operator">lift</a> <a id="22867" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="22869" href="SymbolicModel.Mappings.html#3670" class="Function Operator">—⟨</a> <a id="22872" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="22879" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⟩—</a> <a id="22882" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="22885" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⊣</a> <a id="22887" href="Coherence.Hypotheses.html#21649" class="Function">secrets≡</a>

    <a id="22901" href="Coherence.Hypotheses.html#22901" class="Function">κ↝</a> <a id="22904" class="Symbol">:</a> <a id="22906" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="22908" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="22911" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="22914" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="22916" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
    <a id="22923" href="Coherence.Hypotheses.html#22901" class="Function">κ↝</a> <a id="22926" class="Symbol">=</a> <a id="22928" href="SymbolicModel.Mappings.html#3670" class="Function Operator">lift</a> <a id="22933" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="22935" href="SymbolicModel.Mappings.html#3670" class="Function Operator">—⟨</a> <a id="22938" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="22953" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⟩—</a> <a id="22956" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="22959" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⊣</a> <a id="22961" href="Coherence.Hypotheses.html#22332" class="Function">ads≡</a>

    <a id="22971" href="Coherence.Hypotheses.html#22971" class="Function">p⊆</a> <a id="22974" class="Symbol">:</a> <a id="22976" href="Coherence.Hypotheses.html#20193" class="Function">Γ₂</a> <a id="22979" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="22982" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="22986" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="22988" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>
    <a id="22994" href="Coherence.Hypotheses.html#22971" class="Function">p⊆</a> <a id="22997" class="Symbol">=</a> <a id="22999" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a> <a id="23005" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="23007" href="BitML.Semantics.Configurations.Helpers.html#10369" class="Function">∈-ids-++⁺ʳ</a> <a id="23018" href="Coherence.Hypotheses.html#20118" class="Function">Γ₁</a> <a id="23021" href="Coherence.Hypotheses.html#20193" class="Function">Γ₂</a>

    <a id="23029" class="Comment">-- (v) extend txout′ with {y′↦(T,0)}, sechash = sechash′, κ = κ′</a>
    <a id="23098" href="Coherence.Hypotheses.html#23098" class="Function">txout↝</a> <a id="23105" class="Symbol">:</a> <a id="23107" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="23109" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="23112" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="23118" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="23120" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
    <a id="23127" href="Coherence.Hypotheses.html#23098" class="Function">txout↝</a> <a id="23134" href="Coherence.Hypotheses.html#23134" class="Bound">txout′</a> <a id="23141" class="Symbol">=</a> <a id="23143" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="23150" href="Coherence.Hypotheses.html#19906" class="Field">y′</a> <a id="23153" href="Coherence.Hypotheses.html#21536" class="Function">txi</a> <a id="23157" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="23159" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="23168" href="Coherence.Hypotheses.html#23134" class="Bound">txout′</a> <a id="23175" href="Coherence.Hypotheses.html#22971" class="Function">p⊆</a>
  <a id="23180" href="Coherence.Hypotheses.html#23180" class="Function">λˢ</a> <a id="23183" class="Symbol">:</a> <a id="23185" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="23188" href="Coherence.Hypotheses.html#1899" class="Function">Γₜ′</a>
  <a id="23194" href="Coherence.Hypotheses.html#23180" class="Function">λˢ</a> <a id="23197" class="Symbol">=</a> <a id="23199" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="23205" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="23207" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="23209" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="23212" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="23215" href="Coherence.Hypotheses.html#23098" class="Function">txout↝</a> <a id="23222" href="Coherence.Hypotheses.html#22817" class="Function">sechash↝</a> <a id="23231" href="Coherence.Hypotheses.html#22901" class="Function">κ↝</a>
  <a id="23236" class="Keyword">private</a>
    <a id="23248" href="Coherence.Hypotheses.html#23248" class="Function">𝕣′</a> <a id="23251" class="Symbol">:</a> <a id="23253" href="SymbolicModel.Mappings.html#933" class="Function">ℝ</a> <a id="23255" href="Coherence.Hypotheses.html#2411" class="Function">R′</a>
    <a id="23262" href="Coherence.Hypotheses.html#23248" class="Function">𝕣′</a> <a id="23265" class="Symbol">=</a> <a id="23267" href="SymbolicModel.Mappings.html#5830" class="Function">ℝ-step</a> <a id="23274" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="23276" class="Symbol">(</a><a id="23277" href="Coherence.Hypotheses.html#2267" class="Function">𝕒</a> <a id="23279" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="23281" href="Coherence.Hypotheses.html#23180" class="Function">λˢ</a><a id="23283" class="Symbol">)</a>
  <a id="23287" class="Keyword">abstract</a>
    <a id="23300" href="Coherence.Hypotheses.html#23300" class="Function">value-preserving⇒</a> <a id="23318" class="Symbol">:</a>
      <a id="23326" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="23343" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a>
      <a id="23351" href="Prelude.InferenceRules.html#14163" class="Function Operator">───────────────────</a>
      <a id="23377" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="23394" href="Coherence.Hypotheses.html#23248" class="Function">𝕣′</a>
    <a id="23401" href="Coherence.Hypotheses.html#23300" class="Function">value-preserving⇒</a> <a id="23419" href="Coherence.Hypotheses.html#23419" class="Bound">pv-txout</a> <a id="23428" class="Symbol">=</a> <a id="23430" href="Coherence.Hypotheses.html#24805" class="Function">pv-txout′</a>
      <a id="23446" class="Keyword">where</a>
      <a id="23458" href="Coherence.Hypotheses.html#23458" class="Function">txoutΓ</a> <a id="23465" class="Symbol">:</a> <a id="23467" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="23473" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>
      <a id="23481" href="Coherence.Hypotheses.html#23458" class="Function">txoutΓ</a> <a id="23488" class="Symbol">=</a> <a id="23490" href="SymbolicModel.Mappings.html#1992" class="Function">Txout≈</a> <a id="23497" class="Symbol">{</a><a id="23498" href="Coherence.Hypotheses.html#2403" class="Function">R</a> <a id="23500" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="23504" class="Symbol">}{</a><a id="23506" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="23507" class="Symbol">}</a> <a id="23509" class="Symbol">(</a><a id="23510" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="23513" class="Symbol">.</a><a id="23514" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="23519" class="Symbol">)</a> <a id="23521" class="Symbol">(</a><a id="23522" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="23524" href="SymbolicModel.Mappings.html#9038" class="Function Operator">∙txoutEnd_</a><a id="23534" class="Symbol">)</a>

      <a id="23543" href="Coherence.Hypotheses.html#23543" class="Function">pv-txoutΓ</a> <a id="23553" class="Symbol">:</a> <a id="23555" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="23571" class="Symbol">{</a><a id="23572" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="23573" class="Symbol">}</a> <a id="23575" href="Coherence.Hypotheses.html#23458" class="Function">txoutΓ</a>
      <a id="23588" href="Coherence.Hypotheses.html#23543" class="Function">pv-txoutΓ</a> <a id="23598" class="Symbol">=</a>
        <a id="23608" href="SymbolicModel.ValuePreservation.html#2490" class="Function">ValuePreserving-Txout≈</a> <a id="23631" class="Symbol">{</a><a id="23632" href="Coherence.Hypotheses.html#2403" class="Function">R</a> <a id="23634" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="23638" class="Symbol">}{</a><a id="23640" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="23641" class="Symbol">}</a> <a id="23643" class="Symbol">(</a><a id="23644" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="23647" class="Symbol">.</a><a id="23648" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="23653" class="Symbol">)</a> <a id="23655" class="Symbol">(</a><a id="23656" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="23658" href="SymbolicModel.Mappings.html#9038" class="Function Operator">∙txoutEnd_</a><a id="23668" class="Symbol">)</a> <a id="23670" href="Coherence.Hypotheses.html#23419" class="Bound">pv-txout</a>

      <a id="23686" href="Coherence.Hypotheses.html#23686" class="Function">txoutΓ₂</a> <a id="23694" class="Symbol">:</a> <a id="23696" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="23702" href="Coherence.Hypotheses.html#20193" class="Function">Γ₂</a>
      <a id="23711" href="Coherence.Hypotheses.html#23686" class="Function">txoutΓ₂</a> <a id="23719" class="Symbol">=</a> <a id="23721" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="23730" href="Coherence.Hypotheses.html#23458" class="Function">txoutΓ</a> <a id="23737" href="Coherence.Hypotheses.html#22971" class="Function">p⊆</a>

      <a id="23747" href="Coherence.Hypotheses.html#23747" class="Function">pv-txoutΓ₂</a> <a id="23758" class="Symbol">:</a> <a id="23760" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="23776" class="Symbol">{</a><a id="23777" href="Coherence.Hypotheses.html#20193" class="Function">Γ₂</a><a id="23779" class="Symbol">}</a> <a id="23781" href="Coherence.Hypotheses.html#23686" class="Function">txoutΓ₂</a>
      <a id="23795" href="Coherence.Hypotheses.html#23747" class="Function">pv-txoutΓ₂</a> <a id="23806" href="Coherence.Hypotheses.html#23806" class="Bound">x∈</a> <a id="23809" class="Symbol">=</a>
        <a id="23819" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
          <a id="23835" href="Coherence.Hypotheses.html#23686" class="Function">txoutΓ₂</a> <a id="23843" href="Coherence.Hypotheses.html#23806" class="Bound">x∈</a> <a id="23846" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
        <a id="23861" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
          <a id="23875" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="23884" href="Coherence.Hypotheses.html#23458" class="Function">txoutΓ</a> <a id="23891" href="Coherence.Hypotheses.html#22971" class="Function">p⊆</a> <a id="23894" href="Coherence.Hypotheses.html#23806" class="Bound">x∈</a> <a id="23897" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
        <a id="23912" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="23915" href="SymbolicModel.ValuePreservation.html#1467" class="Function">pv-weaken-↦</a> <a id="23927" class="Symbol">{</a><a id="23928" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="23929" class="Symbol">}{</a><a id="23931" href="Coherence.Hypotheses.html#20193" class="Function">Γ₂</a><a id="23933" class="Symbol">}</a> <a id="23935" href="Coherence.Hypotheses.html#23458" class="Function">txoutΓ</a> <a id="23942" href="Coherence.Hypotheses.html#22971" class="Function">p⊆</a> <a id="23945" href="Coherence.Hypotheses.html#24040" class="Function">pv⊆</a> <a id="23949" href="Coherence.Hypotheses.html#23543" class="Function">pv-txoutΓ</a> <a id="23959" href="Coherence.Hypotheses.html#23806" class="Bound">x∈</a> <a id="23962" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="23974" class="Symbol">(</a><a id="23975" href="Coherence.Hypotheses.html#20193" class="Function">Γ₂</a> <a id="23978" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="23980" href="Coherence.Hypotheses.html#23806" class="Bound">x∈</a><a id="23982" class="Symbol">)</a> <a id="23984" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
        <a id="23999" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="24001" class="Keyword">where</a> <a id="24007" class="Keyword">open</a> <a id="24012" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>
                <a id="24040" href="Coherence.Hypotheses.html#24040" class="Function">pv⊆</a> <a id="24044" class="Symbol">:</a> <a id="24046" href="SymbolicModel.ValuePreservation.html#1332" class="Function">ValuePreserving⊆</a> <a id="24063" class="Symbol">{</a><a id="24064" href="Coherence.Hypotheses.html#20193" class="Function">Γ₂</a><a id="24066" class="Symbol">}{</a><a id="24068" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="24069" class="Symbol">}</a> <a id="24071" href="Coherence.Hypotheses.html#22971" class="Function">p⊆</a>
                <a id="24090" href="Coherence.Hypotheses.html#24040" class="Function">pv⊆</a> <a id="24094" href="Coherence.Hypotheses.html#24094" class="Bound">x∈</a> <a id="24097" class="Symbol">=</a>
                  <a id="24117" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
                    <a id="24143" class="Symbol">(</a><a id="24144" href="Coherence.Hypotheses.html#20193" class="Function">Γ₂</a> <a id="24147" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="24149" href="Coherence.Hypotheses.html#24094" class="Bound">x∈</a><a id="24151" class="Symbol">)</a> <a id="24153" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
                  <a id="24178" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="24182" href="SymbolicModel.Run.Accessors.html#6116" class="Function">∈-ids-++⁺ʳ∙value</a> <a id="24199" class="Symbol">{</a><a id="24200" class="Argument">Γ′</a> <a id="24203" class="Symbol">=</a> <a id="24205" href="Coherence.Hypotheses.html#20193" class="Function">Γ₂</a><a id="24207" class="Symbol">}{</a><a id="24209" href="Coherence.Hypotheses.html#20118" class="Function">Γ₁</a><a id="24211" class="Symbol">}</a> <a id="24213" href="Coherence.Hypotheses.html#24094" class="Bound">x∈</a> <a id="24216" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
                    <a id="24238" class="Symbol">(</a><a id="24239" href="Coherence.Hypotheses.html#20118" class="Function">Γ₁</a> <a id="24242" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="24244" href="Coherence.Hypotheses.html#20193" class="Function">Γ₂</a> <a id="24247" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="24249" href="BitML.Semantics.Configurations.Helpers.html#10369" class="Function">∈-ids-++⁺ʳ</a> <a id="24260" href="Coherence.Hypotheses.html#20118" class="Function">Γ₁</a> <a id="24263" href="Coherence.Hypotheses.html#20193" class="Function">Γ₂</a> <a id="24266" href="Coherence.Hypotheses.html#24094" class="Bound">x∈</a><a id="24268" class="Symbol">)</a> <a id="24270" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
                  <a id="24295" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
                    <a id="24319" class="Symbol">(</a><a id="24320" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="24322" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="24324" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a> <a id="24330" class="Symbol">(</a><a id="24331" href="BitML.Semantics.Configurations.Helpers.html#10369" class="Function">∈-ids-++⁺ʳ</a> <a id="24342" href="Coherence.Hypotheses.html#20118" class="Function">Γ₁</a> <a id="24345" href="Coherence.Hypotheses.html#20193" class="Function">Γ₂</a> <a id="24348" href="Coherence.Hypotheses.html#24094" class="Bound">x∈</a><a id="24350" class="Symbol">))</a> <a id="24353" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
                  <a id="24378" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
                    <a id="24402" class="Symbol">(</a><a id="24403" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="24405" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="24407" href="Coherence.Hypotheses.html#22971" class="Function">p⊆</a> <a id="24410" href="Coherence.Hypotheses.html#24094" class="Bound">x∈</a><a id="24412" class="Symbol">)</a> <a id="24414" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
                  <a id="24439" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

      <a id="24448" href="Coherence.Hypotheses.html#24448" class="Function">txoutΓ′</a> <a id="24456" class="Symbol">:</a> <a id="24458" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="24464" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
      <a id="24473" href="Coherence.Hypotheses.html#24448" class="Function">txoutΓ′</a> <a id="24481" class="Symbol">=</a> <a id="24483" href="Coherence.Hypotheses.html#23098" class="Function">txout↝</a> <a id="24490" href="Coherence.Hypotheses.html#23458" class="Function">txoutΓ</a>

      <a id="24504" href="Coherence.Hypotheses.html#24504" class="Function">pv-txoutΓ′</a> <a id="24515" class="Symbol">:</a> <a id="24517" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="24533" class="Symbol">{</a><a id="24534" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a><a id="24536" class="Symbol">}</a> <a id="24538" href="Coherence.Hypotheses.html#24448" class="Function">txoutΓ′</a>
      <a id="24552" href="Coherence.Hypotheses.html#24504" class="Function">pv-txoutΓ′</a> <a id="24563" class="Symbol">=</a> <a id="24565" href="SymbolicModel.ValuePreservation.html#1044" class="Function">pv-cons-↦</a> <a id="24575" href="Coherence.Hypotheses.html#21591" class="Postulate">val≡</a> <a id="24580" href="Coherence.Hypotheses.html#23747" class="Function">pv-txoutΓ₂</a>

      <a id="24598" href="Coherence.Hypotheses.html#24598" class="Function">txoutΓ″</a> <a id="24606" class="Symbol">:</a> <a id="24608" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="24614" href="Coherence.Hypotheses.html#2153" class="Function">Γ″</a>
      <a id="24623" href="Coherence.Hypotheses.html#24598" class="Function">txoutΓ″</a> <a id="24631" class="Symbol">=</a> <a id="24633" href="SymbolicModel.Mappings.html#1992" class="Function">Txout≈</a> <a id="24640" class="Symbol">{</a><a id="24641" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a><a id="24643" class="Symbol">}{</a><a id="24645" href="Coherence.Hypotheses.html#2153" class="Function">Γ″</a><a id="24647" class="Symbol">}</a> <a id="24649" class="Symbol">(</a><a id="24650" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="24656" href="Coherence.Hypotheses.html#2166" class="Function">Γ≈</a><a id="24658" class="Symbol">)</a> <a id="24660" href="Coherence.Hypotheses.html#24448" class="Function">txoutΓ′</a>

      <a id="24675" href="Coherence.Hypotheses.html#24675" class="Function">pv-txoutΓ″</a> <a id="24686" class="Symbol">:</a> <a id="24688" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="24704" class="Symbol">{</a><a id="24705" href="Coherence.Hypotheses.html#2153" class="Function">Γ″</a><a id="24707" class="Symbol">}</a> <a id="24709" href="Coherence.Hypotheses.html#24598" class="Function">txoutΓ″</a>
      <a id="24723" href="Coherence.Hypotheses.html#24675" class="Function">pv-txoutΓ″</a> <a id="24734" class="Symbol">=</a> <a id="24736" href="SymbolicModel.ValuePreservation.html#2490" class="Function">ValuePreserving-Txout≈</a> <a id="24759" class="Symbol">{</a><a id="24760" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a><a id="24762" class="Symbol">}{</a><a id="24764" href="Coherence.Hypotheses.html#2153" class="Function">Γ″</a><a id="24766" class="Symbol">}</a> <a id="24768" class="Symbol">(</a><a id="24769" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="24775" href="Coherence.Hypotheses.html#2166" class="Function">Γ≈</a><a id="24777" class="Symbol">)</a> <a id="24779" href="Coherence.Hypotheses.html#24448" class="Function">txoutΓ′</a> <a id="24787" href="Coherence.Hypotheses.html#24504" class="Function">pv-txoutΓ′</a>

      <a id="24805" href="Coherence.Hypotheses.html#24805" class="Function">pv-txout′</a> <a id="24815" class="Symbol">:</a> <a id="24817" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="24834" href="Coherence.Hypotheses.html#23248" class="Function">𝕣′</a>
      <a id="24843" href="Coherence.Hypotheses.html#24805" class="Function">pv-txout′</a> <a id="24853" href="Coherence.Hypotheses.html#24853" class="Bound">x∈</a> <a id="24856" class="Symbol">=</a>
        <a id="24866" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
          <a id="24882" class="Symbol">(</a><a id="24883" href="Coherence.Hypotheses.html#23248" class="Function">𝕣′</a> <a id="24886" href="SymbolicModel.Mappings.html#9038" class="Function Operator">∙txoutEnd</a> <a id="24896" href="Coherence.Hypotheses.html#24853" class="Bound">x∈</a><a id="24898" class="Symbol">)</a> <a id="24900" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
        <a id="24915" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="24918" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="24923" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">_∙value</a>
              <a id="24945" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="24947" href="SymbolicModel.Mappings.html#9698" class="Function">txout∷∘namesʳ⦅end⦆⊆</a> <a id="24967" class="Symbol">{</a><a id="24968" class="Argument">R</a> <a id="24970" class="Symbol">=</a> <a id="24972" href="Coherence.Hypotheses.html#2403" class="Function">R</a><a id="24973" class="Symbol">}</a> <a id="24975" href="Coherence.Hypotheses.html#1933" class="Function">Γ→</a> <a id="24978" class="Symbol">(</a><a id="24979" href="Coherence.Hypotheses.html#2360" class="Function">R≈′</a> <a id="24983" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="24985" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a><a id="24987" class="Symbol">)</a> <a id="24989" href="Coherence.Hypotheses.html#24448" class="Function">txoutΓ′</a> <a id="24997" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="25004" class="Symbol">_</a> <a id="25006" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="25018" class="Symbol">(</a><a id="25019" href="Coherence.Hypotheses.html#24598" class="Function">txoutΓ″</a> <a id="25027" href="Coherence.Hypotheses.html#24853" class="Bound">x∈</a><a id="25029" class="Symbol">)</a> <a id="25031" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
        <a id="25046" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="25049" href="Coherence.Hypotheses.html#24675" class="Function">pv-txoutΓ″</a> <a id="25060" class="Symbol">_</a> <a id="25062" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="25074" class="Symbol">(</a><a id="25075" href="Coherence.Hypotheses.html#2153" class="Function">Γ″</a> <a id="25078" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="25080" href="Coherence.Hypotheses.html#24853" class="Bound">x∈</a><a id="25082" class="Symbol">)</a> <a id="25084" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
        <a id="25099" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

<a id="25102" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[6]~_⨾_"></a><a id="25107" href="Coherence.Hypotheses.html#25107" class="Datatype Operator">_⨾_⨾_~ℍ[6]~_⨾_</a> <a id="25122" class="Symbol">:</a> <a id="25124" href="Coherence.Hypotheses.html#1606" class="Function">StepRel</a> <a id="25132" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[6]~_⨾_.mkℍ"></a><a id="25140" href="Coherence.Hypotheses.html#25140" class="InductiveConstructor">mkℍ</a> <a id="25144" class="Symbol">:</a> <a id="25146" class="Symbol">∀</a> <a id="25148" class="Symbol">{</a><a id="25149" href="Coherence.Hypotheses.html#25149" class="Bound">h</a> <a id="25151" class="Symbol">:</a> <a id="25153" href="Coherence.Hypotheses.html#19846" class="Record">H₆-args</a><a id="25160" class="Symbol">}</a> <a id="25162" class="Symbol">(</a><a id="25163" class="Keyword">open</a> <a id="25168" href="Coherence.Hypotheses.html#19846" class="Module">H₆-args</a> <a id="25176" href="Coherence.Hypotheses.html#25149" class="Bound">h</a><a id="25177" class="Symbol">)</a> <a id="25179" class="Symbol">→</a>
    <a id="25185" class="Keyword">let</a>
      <a id="25195" class="Keyword">open</a> <a id="25200" href="Coherence.Hypotheses.html#21376" class="Module">H₆</a> <a id="25203" href="Coherence.Hypotheses.html#25149" class="Bound">h</a> <a id="25205" class="Keyword">using</a> <a id="25211" class="Symbol">(</a><a id="25212" href="Coherence.Hypotheses.html#23180" class="Function">λˢ</a><a id="25214" class="Symbol">;</a> <a id="25216" href="Coherence.Hypotheses.html#21422" class="Function">T</a><a id="25217" class="Symbol">)</a>
      <a id="25225" href="Coherence.Hypotheses.html#25225" class="Bound">λᶜ</a> <a id="25228" class="Symbol">=</a> <a id="25230" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="25237" class="Symbol">(</a><a id="25238" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="25241" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="25244" href="Coherence.Hypotheses.html#21422" class="Function">T</a><a id="25245" class="Symbol">)</a>
    <a id="25251" class="Keyword">in</a>
      <a id="25260" href="Coherence.Hypotheses.html#2181" class="Function">Γₜ″</a> <a id="25264" href="Coherence.Hypotheses.html#25107" class="Datatype Operator">⨾</a> <a id="25266" href="Coherence.Hypotheses.html#2120" class="Function">𝕣∗</a> <a id="25269" href="Coherence.Hypotheses.html#25107" class="Datatype Operator">⨾</a> <a id="25271" class="Symbol">(</a><a id="25272" href="Coherence.Hypotheses.html#2267" class="Function">𝕒</a> <a id="25274" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="25276" href="Coherence.Hypotheses.html#23180" class="Function">λˢ</a><a id="25278" class="Symbol">)</a> <a id="25280" href="Coherence.Hypotheses.html#25107" class="Datatype Operator">~ℍ[6]~</a> <a id="25287" href="Coherence.Hypotheses.html#25225" class="Bound">λᶜ</a> <a id="25290" href="Coherence.Hypotheses.html#25107" class="Datatype Operator">⨾</a> <a id="25292" href="Coherence.Hypotheses.html#2093" class="Function">Rᶜ</a>

<a id="25296" class="Comment">-- ** Contract actions: authorize reveal</a>
<a id="25337" class="Keyword">record</a> <a id="H₇-args"></a><a id="25344" href="Coherence.Hypotheses.html#25344" class="Record">H₇-args</a> <a id="25352" class="Symbol">:</a> <a id="25354" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="25359" class="Keyword">where</a>
  <a id="25367" class="Keyword">constructor</a> <a id="mk"></a><a id="25379" href="Coherence.Hypotheses.html#25379" class="InductiveConstructor">mk</a>
  <a id="25384" class="Keyword">field</a>
    <a id="25394" class="Symbol">{</a><a id="H₇-args.ad"></a><a id="25395" href="Coherence.Hypotheses.html#25395" class="Field">ad</a> <a id="H₇-args.A"></a><a id="25398" href="Coherence.Hypotheses.html#25398" class="Field">A</a> <a id="H₇-args.a"></a><a id="25400" href="Coherence.Hypotheses.html#25400" class="Field">a</a> <a id="H₇-args.n"></a><a id="25402" href="Coherence.Hypotheses.html#25402" class="Field">n</a> <a id="H₇-args.Γ₀"></a><a id="25404" href="Coherence.Hypotheses.html#25404" class="Field">Γ₀</a> <a id="H₇-args.t"></a><a id="25407" href="Coherence.Hypotheses.html#25407" class="Field">t</a><a id="25408" class="Symbol">}</a> <a id="25410" class="Symbol">:</a> <a id="25412" class="Symbol">_</a>
    <a id="H₇-args.k⃗"></a><a id="25418" href="Coherence.Hypotheses.html#25418" class="Field">k⃗</a>   <a id="25423" class="Symbol">:</a> <a id="25425" href="Compiler.Mappings.html#454" class="Function">𝕂²′</a> <a id="25429" href="Coherence.Hypotheses.html#25395" class="Field">ad</a>
    <a id="H₇-args.Δ×h̅"></a><a id="25436" href="Coherence.Hypotheses.html#25436" class="Field">Δ×h̅</a> <a id="25441" class="Symbol">:</a> <a id="25443" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="25448" class="Symbol">(</a><a id="25449" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="25456" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="25458" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="25464" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="25466" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="25468" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a><a id="25469" class="Symbol">)</a>
  <a id="25473" class="Keyword">open</a> <a id="25478" href="BitML.Contracts.ModuleMacros.html#761" class="Module">∣AD</a> <a id="25482" href="Coherence.Hypotheses.html#25395" class="Field">ad</a> <a id="25485" class="Keyword">public</a>
  <a id="H₇-args.Δ"></a><a id="25494" href="Coherence.Hypotheses.html#25494" class="Function">Δ</a> <a id="25496" class="Symbol">=</a> <a id="25498" href="Data.List.Base.html#1553" class="Function">map</a> <a id="25502" href="Prelude.Nary.html#3032" class="Function">drop₃</a>   <a id="25510" href="Coherence.Hypotheses.html#25436" class="Field">Δ×h̅</a>
  <a id="H₇-args.h̅"></a><a id="25517" href="Coherence.Hypotheses.html#25517" class="Function">h̅</a> <a id="25520" class="Symbol">=</a> <a id="25522" href="Data.List.Base.html#1553" class="Function">map</a> <a id="25526" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="25534" href="Coherence.Hypotheses.html#25436" class="Field">Δ×h̅</a>
  <a id="H₇-args.k̅"></a><a id="25541" href="Coherence.Hypotheses.html#25541" class="Function">k̅</a> <a id="25544" class="Symbol">=</a> <a id="25546" href="Data.List.Base.html#4459" class="Function">concatMap</a> <a id="25556" class="Symbol">(</a><a id="25557" href="Data.List.Base.html#1553" class="Function">map</a> <a id="25561" href="Bitcoin.Crypto.html#375" class="Field">pub</a> <a id="25565" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="25567" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a><a id="25572" class="Symbol">)</a> <a id="25574" class="Symbol">(</a><a id="25575" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="25581" href="Coherence.Hypotheses.html#25418" class="Field">k⃗</a><a id="25583" class="Symbol">)</a>
  <a id="25587" class="Keyword">open</a> <a id="25592" href="Coherence.Hypotheses.html#1746" class="Module">Transition</a>
    <a id="25607" class="Symbol">(</a> <a id="25609" class="Symbol">(</a><a id="25610" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="25612" href="Coherence.Hypotheses.html#25398" class="Field">A</a> <a id="25614" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶</a> <a id="25616" href="Coherence.Hypotheses.html#25400" class="Field">a</a> <a id="25618" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">♯</a> <a id="25620" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="25625" href="Coherence.Hypotheses.html#25402" class="Field">n</a> <a id="25627" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟩</a> <a id="25629" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="25631" href="Coherence.Hypotheses.html#25404" class="Field">Γ₀</a><a id="25633" class="Symbol">)</a> <a id="25635" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="25637" href="Coherence.Hypotheses.html#25407" class="Field">t</a> <a id="25639" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">——</a> <a id="25642" href="BitML.Semantics.Label.html#1268" class="InductiveConstructor Operator">auth-rev⦅</a> <a id="25652" href="Coherence.Hypotheses.html#25398" class="Field">A</a> <a id="25654" href="BitML.Semantics.Label.html#1268" class="InductiveConstructor Operator">,</a> <a id="25656" href="Coherence.Hypotheses.html#25400" class="Field">a</a> <a id="25658" href="BitML.Semantics.Label.html#1268" class="InductiveConstructor Operator">⦆</a> <a id="25660" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">—→</a> <a id="25663" href="Coherence.Hypotheses.html#25398" class="Field">A</a> <a id="25665" href="BitML.Semantics.Configurations.Types.html#968" class="InductiveConstructor Operator">∶</a> <a id="25667" href="Coherence.Hypotheses.html#25400" class="Field">a</a> <a id="25669" href="BitML.Semantics.Configurations.Types.html#968" class="InductiveConstructor Operator">♯</a> <a id="25671" href="Coherence.Hypotheses.html#25402" class="Field">n</a> <a id="25673" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="25675" href="Coherence.Hypotheses.html#25404" class="Field">Γ₀</a> <a id="25678" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="25680" href="Coherence.Hypotheses.html#25407" class="Field">t</a>
    <a id="25686" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⊣</a> <a id="25688" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="25692" href="BitML.Semantics.InferenceRules.html#5675" class="InductiveConstructor">[C-AuthRev]</a>
    <a id="25708" class="Symbol">)</a> <a id="25710" class="Keyword">public</a> <a id="25717" class="Keyword">hiding</a> <a id="25724" class="Symbol">(</a><a id="25725" href="Coherence.Hypotheses.html#1823" class="Field">t</a><a id="25726" class="Symbol">)</a>
  <a id="25730" class="Keyword">field</a> <a id="H₇-args.𝕙r"></a><a id="25736" href="Coherence.Hypotheses.html#25736" class="Field">𝕙r</a> <a id="25739" class="Symbol">:</a> <a id="25741" href="Coherence.Hypotheses.html#1962" class="Record">ℍ-Run</a> <a id="25747" href="Coherence.Hypotheses.html#1933" class="Function">Γ→</a>
  <a id="25752" class="Keyword">open</a> <a id="25757" href="Coherence.Hypotheses.html#1962" class="Module">ℍ-Run</a> <a id="25763" href="Coherence.Hypotheses.html#25736" class="Field">𝕙r</a> <a id="25766" class="Keyword">public</a>
  <a id="25775" class="Keyword">field</a>
    <a id="25785" class="Comment">-- (iv) in Rˢ, we find an A:{G}C,∆ action, with a in G</a>
    <a id="H₇-args.∃α"></a><a id="25844" href="Coherence.Hypotheses.html#25844" class="Field">∃α</a> <a id="25847" class="Symbol">:</a> <a id="25849" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">auth-commit⦅</a> <a id="25862" href="Coherence.Hypotheses.html#25398" class="Field">A</a> <a id="25864" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">,</a> <a id="25866" href="Coherence.Hypotheses.html#25395" class="Field">ad</a> <a id="25869" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">,</a> <a id="25871" href="Coherence.Hypotheses.html#25494" class="Function">Δ</a> <a id="25873" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">⦆</a> <a id="25875" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="25877" href="SymbolicModel.Run.Collections.html#908" class="Function">labelsʳ</a> <a id="25885" href="Coherence.Hypotheses.html#2403" class="Function">R</a>

<a id="25888" class="Keyword">module</a> <a id="25895" href="Coherence.Hypotheses.html#25895" class="Module">H₇</a> <a id="25898" class="Symbol">(</a><a id="25899" href="Coherence.Hypotheses.html#25899" class="Bound">⋯</a> <a id="25901" class="Symbol">:</a> <a id="25903" href="Coherence.Hypotheses.html#25344" class="Record">H₇-args</a><a id="25910" class="Symbol">)</a> <a id="25912" class="Symbol">(</a><a id="25913" class="Keyword">let</a> <a id="25917" class="Keyword">open</a> <a id="25922" href="Coherence.Hypotheses.html#25344" class="Module">H₇-args</a> <a id="25930" href="Coherence.Hypotheses.html#25899" class="Bound">⋯</a><a id="25931" class="Symbol">)</a> <a id="25933" class="Keyword">where</a>
  <a id="25941" href="Coherence.Hypotheses.html#25941" class="Function">λˢ</a> <a id="25944" class="Symbol">:</a> <a id="25946" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="25949" href="Coherence.Hypotheses.html#1899" class="Function">Γₜ′</a>
  <a id="25955" href="Coherence.Hypotheses.html#25941" class="Function">λˢ</a> <a id="25958" class="Symbol">=</a> <a id="25960" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="25966" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="25968" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="25970" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="25973" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="25976" href="Function.Base.html#624" class="Function">id</a> <a id="25979" href="Function.Base.html#624" class="Function">id</a> <a id="25982" href="Function.Base.html#624" class="Function">id</a>
  <a id="25987" class="Keyword">private</a>
    <a id="25999" href="Coherence.Hypotheses.html#25999" class="Function">a∈Γ</a> <a id="26003" class="Symbol">:</a> <a id="26005" href="Coherence.Hypotheses.html#25400" class="Field">a</a> <a id="26007" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="26009" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="26017" class="Symbol">(</a><a id="26018" href="Coherence.Hypotheses.html#2107" class="Function">Rˢ</a> <a id="26021" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="26025" class="Symbol">)</a>
    <a id="26031" href="Coherence.Hypotheses.html#25999" class="Function">a∈Γ</a> <a id="26035" class="Symbol">=</a> <a id="26037" href="BitML.Semantics.Configurations.Helpers.html#14586" class="Function">∈namesˡ-resp-≈</a> <a id="26052" href="Coherence.Hypotheses.html#25400" class="Field">a</a> <a id="26054" class="Symbol">{</a><a id="26055" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="26056" class="Symbol">}{</a><a id="26058" href="Coherence.Hypotheses.html#2107" class="Function">Rˢ</a> <a id="26061" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="26065" class="Symbol">}</a> <a id="26067" class="Symbol">(</a><a id="26068" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="26074" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="26076" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="26079" class="Symbol">.</a><a id="26080" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="26085" class="Symbol">)</a> <a id="26087" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a>
  <a id="26091" class="Keyword">open</a> <a id="26096" href="SymbolicModel.Mappings.html#1344" class="Module">ℾ</a> <a id="26098" class="Symbol">(</a><a id="26099" href="SymbolicModel.Mappings.html#3624" class="Function">ℝ∗⇒ℾ</a> <a id="26104" href="Coherence.Hypotheses.html#2120" class="Function">𝕣∗</a><a id="26106" class="Symbol">)</a> <a id="26108" class="Keyword">using</a> <a id="26114" class="Symbol">(</a><a id="26115" href="SymbolicModel.Mappings.html#1418" class="Field">sechashΓ</a><a id="26123" class="Symbol">)</a>

  <a id="26128" href="Coherence.Hypotheses.html#26128" class="Function">sechash⦅a⦆</a> <a id="26139" class="Symbol">:</a> <a id="26141" href="Bitcoin.BasicTypes.html#351" class="Function">HashId</a>
  <a id="26150" href="Coherence.Hypotheses.html#26128" class="Function">sechash⦅a⦆</a> <a id="26161" class="Symbol">=</a> <a id="26163" href="SymbolicModel.Mappings.html#1418" class="Function">sechashΓ</a> <a id="26172" class="Symbol">{</a><a id="26173" href="Coherence.Hypotheses.html#25400" class="Field">a</a><a id="26174" class="Symbol">}</a> <a id="26176" href="Coherence.Hypotheses.html#25999" class="Function">a∈Γ</a>

  <a id="26183" class="Comment">-- txoutᶜ : Txout ad × Txout C</a>
  <a id="26216" class="Comment">-- txoutᶜ = auth-commit∈⇒Txout ∃α 𝕣</a>

<a id="26253" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[7]~_⨾_"></a><a id="26258" href="Coherence.Hypotheses.html#26258" class="Datatype Operator">_⨾_⨾_~ℍ[7]~_⨾_</a> <a id="26273" class="Symbol">:</a> <a id="26275" href="Coherence.Hypotheses.html#1606" class="Function">StepRel</a> <a id="26283" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[7]~_⨾_.mkℍ"></a><a id="26291" href="Coherence.Hypotheses.html#26291" class="InductiveConstructor">mkℍ</a> <a id="26295" class="Symbol">:</a> <a id="26297" class="Symbol">∀</a> <a id="26299" class="Symbol">{</a><a id="26300" href="Coherence.Hypotheses.html#26300" class="Bound">h</a> <a id="26302" class="Symbol">:</a> <a id="26304" href="Coherence.Hypotheses.html#25344" class="Record">H₇-args</a><a id="26311" class="Symbol">}</a> <a id="26313" class="Symbol">{</a><a id="26314" href="Coherence.Hypotheses.html#26314" class="Bound">B</a><a id="26315" class="Symbol">}</a> <a id="26317" class="Symbol">{</a><a id="26318" href="Coherence.Hypotheses.html#26318" class="Bound">mˢ</a> <a id="26321" class="Symbol">:</a> <a id="26323" href="Agda.Builtin.String.html#318" class="Postulate">String</a><a id="26329" class="Symbol">}</a> <a id="26331" class="Symbol">(</a><a id="26332" class="Keyword">let</a> <a id="26336" href="Coherence.Hypotheses.html#26336" class="Bound">m</a> <a id="26338" class="Symbol">=</a> <a id="26340" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="26347" href="Coherence.Hypotheses.html#26318" class="Bound">mˢ</a><a id="26349" class="Symbol">)</a>
    <a id="26355" class="Symbol">→</a> <a id="26357" class="Keyword">let</a>
        <a id="26369" class="Keyword">open</a> <a id="26374" href="Coherence.Hypotheses.html#25344" class="Module">H₇-args</a> <a id="26382" href="Coherence.Hypotheses.html#26300" class="Bound">h</a> <a id="26384" class="Keyword">renaming</a> <a id="26393" class="Symbol">(</a><a id="26394" href="Coherence.Hypotheses.html#25395" class="Field">ad</a> <a id="26397" class="Symbol">to</a> <a id="26400" class="Field">⟨G⟩C</a><a id="26404" class="Symbol">)</a>

        <a id="26415" class="Comment">-- (iii) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="26475" class="Keyword">open</a> <a id="26480" href="Coherence.Hypotheses.html#25895" class="Module">H₇</a> <a id="26483" href="Coherence.Hypotheses.html#26300" class="Bound">h</a> <a id="26485" class="Keyword">using</a> <a id="26491" class="Symbol">(</a><a id="26492" href="Coherence.Hypotheses.html#25941" class="Function">λˢ</a><a id="26494" class="Symbol">;</a> <a id="26496" href="Coherence.Hypotheses.html#26128" class="Function">sechash⦅a⦆</a><a id="26506" class="Symbol">)</a>
        <a id="26516" class="Comment">-- (i) some participant B broadcasts message m</a>
        <a id="26571" href="Coherence.Hypotheses.html#26571" class="Bound">λᶜ</a> <a id="26574" class="Symbol">=</a> <a id="26576" href="Coherence.Hypotheses.html#26314" class="Bound">B</a> <a id="26578" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="26582" href="Coherence.Hypotheses.html#26336" class="Bound">m</a>
      <a id="26590" class="Keyword">in</a>
      <a id="26599" class="Comment">-- ... with a corresponding broadcast of m′=(C,h̅,k̅) in Rᶜ</a>
      <a id="26665" class="Comment">-- T0D0: should we search for a signature of this message instead?</a>
    <a id="26736" class="Symbol">∀</a> <a id="26738" class="Symbol">(</a><a id="26739" href="Coherence.Hypotheses.html#26739" class="Bound">∃λ</a> <a id="26742" class="Symbol">:</a> <a id="26744" href="Data.Product.html#1378" class="Function">∃</a> <a id="26746" class="Symbol">λ</a> <a id="26748" href="Coherence.Hypotheses.html#26748" class="Bound">B</a> <a id="26750" class="Symbol">→</a> <a id="26752" href="Data.Product.html#1378" class="Function">∃</a> <a id="26754" class="Symbol">λ</a> <a id="26756" href="Coherence.Hypotheses.html#26756" class="Bound">txoutᶜ</a> <a id="26763" class="Symbol">→</a>
          <a id="26775" class="Keyword">let</a> <a id="26779" href="Coherence.Hypotheses.html#26779" class="Bound">C,h̅,k̅</a> <a id="26787" class="Symbol">=</a> <a id="26789" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="26796" class="Symbol">(</a><a id="26797" href="Coherence.ComputationalContracts.html#12140" class="Function">encodeAd</a> <a id="26806" href="Coherence.Hypotheses.html#26400" class="Function">⟨G⟩C</a> <a id="26811" href="Coherence.Hypotheses.html#26756" class="Bound">txoutᶜ</a> <a id="26818" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="26820" href="Coherence.Hypotheses.html#25517" class="Function">h̅</a> <a id="26823" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="26825" href="Coherence.Hypotheses.html#25541" class="Function">k̅</a><a id="26827" class="Symbol">)</a>
          <a id="26839" class="Keyword">in</a>  <a id="26843" href="Coherence.Hypotheses.html#26748" class="Bound">B</a> <a id="26845" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="26849" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="26853" class="Symbol">(</a><a id="26854" href="ComputationalModel.KeyPairs.html#177" class="Function">K</a> <a id="26856" href="Coherence.Hypotheses.html#26748" class="Bound">B</a><a id="26857" class="Symbol">)</a> <a id="26859" href="Coherence.Hypotheses.html#26779" class="Bound">C,h̅,k̅</a> <a id="26867" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="26869" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="26876" href="Coherence.Hypotheses.html#2093" class="Function">Rᶜ</a><a id="26878" class="Symbol">)</a> <a id="26880" class="Symbol">→</a>

    <a id="26887" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="26889" href="Coherence.Hypotheses.html#25400" class="Function">a</a> <a id="26891" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="26893" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="26901" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a>
    <a id="26907" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="26909" href="ComputationalModel.Serialization.html#245" class="Function Operator">∣</a> <a id="26911" href="Coherence.Hypotheses.html#26336" class="Bound">m</a> <a id="26913" href="ComputationalModel.Serialization.html#245" class="Function Operator">∣ᵐ</a> <a id="26916" href="Prelude.Ord.Core.html#289" class="Function Operator">≥</a> <a id="26918" href="SecureCompilation.ModuleParameters.html#357" class="Field">η</a>

      <a id="26927" class="Comment">-- (ii) in Rᶜ we find ⋯ (B → O ∶ m) (O → B : sechash′(a)) for some B ⋯</a>
    <a id="27002" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="27004" class="Symbol">(</a><a id="27005" href="Data.Product.html#1378" class="Function">∃</a> <a id="27007" class="Symbol">λ</a> <a id="27009" href="Coherence.Hypotheses.html#27009" class="Bound">B</a> <a id="27011" class="Symbol">→</a> <a id="27013" class="Symbol">(</a><a id="27014" href="Coherence.Hypotheses.html#27009" class="Bound">B</a> <a id="27016" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="27018" href="Coherence.Hypotheses.html#26336" class="Bound">m</a> <a id="27020" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="27022" href="Coherence.Hypotheses.html#26128" class="Function">sechash⦅a⦆</a><a id="27032" class="Symbol">)</a> <a id="27034" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="27036" href="ComputationalModel.Run.html#5971" class="Function">oracleInteractionsᶜ</a> <a id="27056" href="Coherence.Hypotheses.html#2093" class="Function">Rᶜ</a><a id="27058" class="Symbol">)</a>

      <a id="27067" class="Comment">-- (v) λᶜ is the first broadcast of m after the first broadcast of m′</a>
    <a id="27141" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="27143" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="27147" class="Symbol">(λ</a> <a id="27150" href="Coherence.Hypotheses.html#27150" class="Bound">l</a> <a id="27152" class="Symbol">→</a> <a id="27154" class="Symbol">∀</a> <a id="27156" href="Coherence.Hypotheses.html#27156" class="Bound">X</a> <a id="27158" class="Symbol">→</a> <a id="27160" href="Coherence.Hypotheses.html#27150" class="Bound">l</a> <a id="27162" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="27164" href="Coherence.Hypotheses.html#27156" class="Bound">X</a> <a id="27166" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="27170" href="Coherence.Hypotheses.html#26336" class="Bound">m</a><a id="27171" class="Symbol">)</a> <a id="27173" class="Symbol">(</a><a id="27174" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="27184" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="27186" href="Coherence.Hypotheses.html#26739" class="Bound">∃λ</a> <a id="27189" class="Symbol">.</a><a id="27190" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="27196" class="Symbol">.</a><a id="27197" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="27202" class="Symbol">)</a>

      <a id="27211" href="Prelude.InferenceRules.html#12752" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="27271" href="Coherence.Hypotheses.html#2181" class="Function">Γₜ″</a> <a id="27275" href="Coherence.Hypotheses.html#26258" class="Datatype Operator">⨾</a> <a id="27277" href="Coherence.Hypotheses.html#2120" class="Function">𝕣∗</a> <a id="27280" href="Coherence.Hypotheses.html#26258" class="Datatype Operator">⨾</a> <a id="27282" class="Symbol">(</a><a id="27283" href="Coherence.Hypotheses.html#2267" class="Function">𝕒</a> <a id="27285" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="27287" href="Coherence.Hypotheses.html#25941" class="Function">λˢ</a><a id="27289" class="Symbol">)</a> <a id="27291" href="Coherence.Hypotheses.html#26258" class="Datatype Operator">~ℍ[7]~</a> <a id="27298" href="Coherence.Hypotheses.html#26571" class="Bound">λᶜ</a> <a id="27301" href="Coherence.Hypotheses.html#26258" class="Datatype Operator">⨾</a> <a id="27303" href="Coherence.Hypotheses.html#2093" class="Function">Rᶜ</a>

<a id="27307" class="Comment">-- ** Contract actions: split</a>
<a id="27337" class="Keyword">record</a> <a id="H₈-args"></a><a id="27344" href="Coherence.Hypotheses.html#27344" class="Record">H₈-args</a> <a id="27352" class="Symbol">:</a> <a id="27354" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="27359" class="Keyword">where</a>
  <a id="27367" class="Keyword">constructor</a> <a id="mk"></a><a id="27379" href="Coherence.Hypotheses.html#27379" class="InductiveConstructor">mk</a>
  <a id="27384" class="Keyword">field</a>
    <a id="27394" class="Symbol">{</a><a id="H₈-args.c"></a><a id="27395" href="Coherence.Hypotheses.html#27395" class="Field">c</a> <a id="H₈-args.y"></a><a id="27397" href="Coherence.Hypotheses.html#27397" class="Field">y</a> <a id="H₈-args.Γ₀"></a><a id="27399" href="Coherence.Hypotheses.html#27399" class="Field">Γ₀</a> <a id="H₈-args.t"></a><a id="27402" href="Coherence.Hypotheses.html#27402" class="Field">t</a><a id="27403" class="Symbol">}</a> <a id="27405" class="Symbol">:</a> <a id="27407" class="Symbol">_</a>
    <a id="27413" class="Symbol">{</a><a id="H₈-args.i"></a><a id="27414" href="Coherence.Hypotheses.html#27414" class="Field">i</a><a id="27415" class="Symbol">}</a> <a id="27417" class="Symbol">:</a> <a id="27419" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="27425" href="Coherence.Hypotheses.html#27395" class="Field">c</a>
    <a id="27431" class="Symbol">{</a><a id="H₈-args.vcis"></a><a id="27432" href="Coherence.Hypotheses.html#27432" class="Field">vcis</a><a id="27436" class="Symbol">}</a> <a id="27438" class="Symbol">:</a> <a id="27440" href="BitML.Contracts.Types.html#594" class="Function">VIContracts</a>
  <a id="27454" class="Keyword">open</a> <a id="27459" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="27467" href="Coherence.Hypotheses.html#27395" class="Field">c</a> <a id="27469" href="Coherence.Hypotheses.html#27414" class="Field">i</a> <a id="27471" class="Keyword">public</a>
  <a id="H₈-args.vs"></a><a id="27480" href="Coherence.Hypotheses.html#27480" class="Function">vs</a>  <a id="27484" class="Symbol">=</a> <a id="27486" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="27493" href="Coherence.Hypotheses.html#27432" class="Field">vcis</a> <a id="27498" class="Symbol">.</a><a id="27499" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₈-args.v"></a><a id="27507" href="Coherence.Hypotheses.html#27507" class="Function">v</a>   <a id="27511" class="Symbol">=</a> <a id="27513" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="27517" href="Coherence.Hypotheses.html#27480" class="Function">vs</a>
  <a id="H₈-args.cs"></a><a id="27522" href="Coherence.Hypotheses.html#27522" class="Function">cs</a>  <a id="27526" class="Symbol">=</a> <a id="27528" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="27535" href="Coherence.Hypotheses.html#27432" class="Field">vcis</a> <a id="27540" class="Symbol">.</a><a id="27541" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="27547" class="Symbol">.</a><a id="27548" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₈-args.vcs"></a><a id="27556" href="Coherence.Hypotheses.html#27556" class="Function">vcs</a> <a id="27560" class="Symbol">=</a> <a id="27562" href="Data.List.Base.html#3579" class="Function">zip</a> <a id="27566" href="Coherence.Hypotheses.html#27480" class="Function">vs</a> <a id="27569" href="Coherence.Hypotheses.html#27522" class="Function">cs</a>
  <a id="H₈-args.xs"></a><a id="27574" href="Coherence.Hypotheses.html#27574" class="Function">xs</a>  <a id="27578" class="Symbol">=</a> <a id="27580" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="27587" href="Coherence.Hypotheses.html#27432" class="Field">vcis</a> <a id="27592" class="Symbol">.</a><a id="27593" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="27599" class="Symbol">.</a><a id="27600" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
  <a id="H₈-args.As"></a><a id="27608" href="Coherence.Hypotheses.html#27608" class="Function">As</a> <a id="27611" class="Symbol">=</a> <a id="27613" href="BitML.Contracts.Collections.html#13915" class="Function">decorations</a> <a id="27625" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="27627" class="Symbol">.</a><a id="27628" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₈-args.ts"></a><a id="27636" href="Coherence.Hypotheses.html#27636" class="Function">ts</a> <a id="27639" class="Symbol">=</a> <a id="27641" href="BitML.Contracts.Collections.html#13915" class="Function">decorations</a> <a id="27653" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="27655" class="Symbol">.</a><a id="27656" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
  <a id="27664" class="Keyword">field</a>
    <a id="27674" class="Comment">-- (i) in Rˢ, α consumes ⟨D+C,v⟩y to obtain ⟨C₀,v₀⟩ₓ₀ | ⋯ | ⟨Cₖ,vₖ⟩ₓₖ</a>
    <a id="27748" class="Comment">--     where D = ⋯ : split vs → cs</a>
    <a id="27787" class="Comment">--     let t be the maximum deadline in an `after` in front of D</a>
    <a id="27856" class="Comment">--     T0D0: what should t′ be in case there are not after decorations?</a>
    <a id="27932" class="Comment">--           (currently any value)</a>
    <a id="H₈-args.t≡"></a><a id="27971" href="Coherence.Hypotheses.html#27971" class="Field">t≡</a> <a id="27974" class="Symbol">:</a> <a id="27976" href="Coherence.Hypotheses.html#27402" class="Field">t</a> <a id="27978" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="27980" href="Prelude.Ord.MinMax.html#436" class="Function">maximum</a> <a id="27988" href="Coherence.Hypotheses.html#27402" class="Field">t</a> <a id="27990" href="Coherence.Hypotheses.html#27636" class="Function">ts</a>
    <a id="H₈-args.d≡"></a><a id="27997" href="Coherence.Hypotheses.html#27997" class="Field">d≡</a> <a id="28000" class="Symbol">:</a> <a id="28002" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="28004" href="BitML.Contracts.Collections.html#15163" class="Function Operator">≡⋯∶</a> <a id="28008" href="BitML.Contracts.Types.html#941" class="InductiveConstructor">split</a> <a id="28014" href="Coherence.Hypotheses.html#27556" class="Function">vcs</a>
    <a id="28022" class="Comment">-- Hypotheses from [C-Split]</a>
    <a id="H₈-args.fresh-xs"></a><a id="28055" href="Coherence.Hypotheses.html#28055" class="Field">fresh-xs</a> <a id="28064" class="Symbol">:</a> <a id="28066" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="28070" class="Symbol">(</a><a id="28071" href="Data.List.Membership.Setoid.html#945" class="Function Operator">_∉</a> <a id="28074" href="Coherence.Hypotheses.html#27397" class="Field">y</a> <a id="28076" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="28080" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="28084" href="Coherence.Hypotheses.html#27399" class="Field">Γ₀</a><a id="28086" class="Symbol">)</a> <a id="28088" href="Coherence.Hypotheses.html#27574" class="Function">xs</a>
    <a id="28095" class="Comment">-- Hypotheses from [Timeout]</a>
    <a id="H₈-args.As≡∅"></a><a id="28128" href="Coherence.Hypotheses.html#28128" class="Field">As≡∅</a> <a id="28133" class="Symbol">:</a> <a id="28135" href="Prelude.Null.html#263" class="Field">Null</a> <a id="28140" href="Coherence.Hypotheses.html#27608" class="Function">As</a>
  <a id="H₈-args.Γ₁"></a><a id="28145" href="Coherence.Hypotheses.html#28145" class="Function">Γ₁</a> <a id="28148" class="Symbol">=</a> <a id="28150" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="28153" href="Data.List.Base.html#1553" class="Function">map</a> <a id="28157" class="Symbol">(</a><a id="28158" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="28167" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="28169" href="Function.Base.html#1563" class="Function">flip</a> <a id="28174" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨_,_⟩at_</a><a id="28182" class="Symbol">)</a> <a id="28184" href="Coherence.Hypotheses.html#27432" class="Field">vcis</a>
  <a id="28191" class="Keyword">private</a>
    <a id="H₈-args.α"></a><a id="28203" href="Coherence.Hypotheses.html#28203" class="Function">α</a>  <a id="28206" class="Symbol">=</a> <a id="28208" href="BitML.Semantics.Label.html#1232" class="InductiveConstructor Operator">split⦅</a> <a id="28215" href="Coherence.Hypotheses.html#27397" class="Field">y</a> <a id="28217" href="BitML.Semantics.Label.html#1232" class="InductiveConstructor Operator">⦆</a>
    <a id="H₈-args.Γ′"></a><a id="28223" href="Coherence.Hypotheses.html#28223" class="Function">Γ′</a> <a id="28226" class="Symbol">=</a> <a id="28228" href="Coherence.Hypotheses.html#28145" class="Function">Γ₁</a> <a id="28231" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="28233" href="Coherence.Hypotheses.html#27399" class="Field">Γ₀</a>

    <a id="H₈-args.∀≤t"></a><a id="28241" href="Coherence.Hypotheses.html#28241" class="Function">∀≤t</a> <a id="28245" class="Symbol">:</a> <a id="28247" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="28251" class="Symbol">(</a><a id="28252" href="Prelude.Ord.Core.html#209" class="Field Operator">_≤</a> <a id="28255" href="Coherence.Hypotheses.html#27402" class="Field">t</a><a id="28256" class="Symbol">)</a> <a id="28258" href="Coherence.Hypotheses.html#27636" class="Function">ts</a>
    <a id="28265" href="Coherence.Hypotheses.html#28241" class="Function">∀≤t</a> <a id="28269" class="Symbol">=</a> <a id="28271" href="Prelude.SubstDSL.html#488" class="Function">⟪</a> <a id="28273" class="Symbol">(λ</a> <a id="28276" href="Coherence.Hypotheses.html#28276" class="Bound">◆</a> <a id="28278" class="Symbol">→</a> <a id="28280" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="28284" class="Symbol">(</a><a id="28285" href="Prelude.Ord.Core.html#209" class="Field Operator">_≤</a> <a id="28288" href="Coherence.Hypotheses.html#28276" class="Bound">◆</a><a id="28289" class="Symbol">)</a> <a id="28291" href="Coherence.Hypotheses.html#27636" class="Function">ts</a><a id="28293" class="Symbol">)</a> <a id="28295" href="Prelude.SubstDSL.html#488" class="Function">⟫</a> <a id="28297" href="Coherence.Hypotheses.html#27971" class="Field">t≡</a> <a id="28300" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="28303" href="Prelude.Ord.MinMax.html#1034" class="Postulate">∀≤max</a> <a id="28309" href="Coherence.Hypotheses.html#27402" class="Field">t</a> <a id="28311" href="Coherence.Hypotheses.html#27636" class="Function">ts</a>

    <a id="H₈-args.split→"></a><a id="28319" href="Coherence.Hypotheses.html#28319" class="Function">split→</a> <a id="28326" class="Symbol">:</a> <a id="28328" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="28330" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="28332" href="BitML.Contracts.ModuleMacros.html#607" class="Function">d∗</a> <a id="28335" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="28337" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="28339" href="Coherence.Hypotheses.html#27507" class="Function">v</a> <a id="28341" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="28345" href="Coherence.Hypotheses.html#27397" class="Field">y</a> <a id="28347" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="28349" href="Coherence.Hypotheses.html#27399" class="Field">Γ₀</a> <a id="28352" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="28355" href="Coherence.Hypotheses.html#28203" class="Function">α</a> <a id="28357" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a> <a id="28360" href="Coherence.Hypotheses.html#28223" class="Function">Γ′</a>
    <a id="28367" href="Coherence.Hypotheses.html#28319" class="Function">split→</a> <a id="28374" class="Symbol">=</a> <a id="28376" href="Prelude.SubstDSL.html#488" class="Function">⟪</a> <a id="28378" class="Symbol">(λ</a> <a id="28381" href="Coherence.Hypotheses.html#28381" class="Bound">◆</a> <a id="28383" class="Symbol">→</a> <a id="28385" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="28387" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="28389" href="Coherence.Hypotheses.html#28381" class="Bound">◆</a> <a id="28391" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="28393" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="28395" href="Coherence.Hypotheses.html#27507" class="Function">v</a> <a id="28397" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="28401" href="Coherence.Hypotheses.html#27397" class="Field">y</a> <a id="28403" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="28405" href="Coherence.Hypotheses.html#27399" class="Field">Γ₀</a> <a id="28408" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="28411" href="Coherence.Hypotheses.html#28203" class="Function">α</a> <a id="28413" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a> <a id="28416" href="Coherence.Hypotheses.html#28223" class="Function">Γ′</a><a id="28418" class="Symbol">)</a> <a id="28420" href="Prelude.SubstDSL.html#488" class="Function">⟫</a> <a id="28422" href="Coherence.Hypotheses.html#27997" class="Field">d≡</a>
          <a id="28435" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="28438" href="BitML.Semantics.InferenceRules.html#5386" class="InductiveConstructor">[C-Split]</a> <a id="28448" class="Symbol">{</a><a id="28449" class="Argument">vcis</a> <a id="28454" class="Symbol">=</a> <a id="28456" href="Coherence.Hypotheses.html#27432" class="Field">vcis</a><a id="28460" class="Symbol">}</a> <a id="28462" href="Coherence.Hypotheses.html#28055" class="Field">fresh-xs</a>
  <a id="28473" class="Keyword">open</a> <a id="28478" href="Coherence.Hypotheses.html#1746" class="Module">Transition</a>
    <a id="28493" class="Symbol">(</a> <a id="28495" class="Symbol">(</a><a id="28496" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="28498" href="Coherence.Hypotheses.html#27395" class="Field">c</a> <a id="28500" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="28502" href="Coherence.Hypotheses.html#27507" class="Function">v</a> <a id="28504" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="28508" href="Coherence.Hypotheses.html#27397" class="Field">y</a> <a id="28510" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="28512" href="Coherence.Hypotheses.html#27399" class="Field">Γ₀</a><a id="28514" class="Symbol">)</a> <a id="28516" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="28518" href="Coherence.Hypotheses.html#27402" class="Field">t</a> <a id="28520" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">——</a> <a id="28523" href="Coherence.Hypotheses.html#28203" class="Function">α</a> <a id="28525" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">—→</a> <a id="28528" href="Coherence.Hypotheses.html#28223" class="Function">Γ′</a> <a id="28531" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="28533" href="Coherence.Hypotheses.html#27402" class="Field">t</a>
    <a id="28539" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⊣</a> <a id="28541" href="BitML.Semantics.InferenceRules.html#7812" class="InductiveConstructor">[Timeout]</a> <a id="28551" href="Coherence.Hypotheses.html#28128" class="Field">As≡∅</a> <a id="28556" href="Coherence.Hypotheses.html#28241" class="Function">∀≤t</a> <a id="28560" href="Coherence.Hypotheses.html#28319" class="Function">split→</a> <a id="28567" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="28576" class="Symbol">)</a> <a id="28578" class="Keyword">public</a> <a id="28585" class="Keyword">hiding</a> <a id="28592" class="Symbol">(</a><a id="28593" href="Coherence.Hypotheses.html#1823" class="Field">t</a><a id="28594" class="Symbol">)</a>
  <a id="28598" class="Keyword">field</a> <a id="H₈-args.𝕙r"></a><a id="28604" href="Coherence.Hypotheses.html#28604" class="Field">𝕙r</a> <a id="28607" class="Symbol">:</a> <a id="28609" href="Coherence.Hypotheses.html#1962" class="Record">ℍ-Run</a> <a id="28615" href="Coherence.Hypotheses.html#1933" class="Function">Γ→</a>
  <a id="28620" class="Keyword">open</a> <a id="28625" href="Coherence.Hypotheses.html#1962" class="Module">ℍ-Run</a> <a id="28631" href="Coherence.Hypotheses.html#28604" class="Field">𝕙r</a> <a id="28634" class="Keyword">public</a>

<a id="28642" class="Keyword">module</a> <a id="28649" href="Coherence.Hypotheses.html#28649" class="Module">H₈</a> <a id="28652" class="Symbol">(</a><a id="28653" href="Coherence.Hypotheses.html#28653" class="Bound">⋯</a> <a id="28655" class="Symbol">:</a> <a id="28657" href="Coherence.Hypotheses.html#27344" class="Record">H₈-args</a><a id="28664" class="Symbol">)</a> <a id="28666" class="Symbol">(</a><a id="28667" class="Keyword">let</a> <a id="28671" class="Keyword">open</a> <a id="28676" href="Coherence.Hypotheses.html#27344" class="Module">H₈-args</a> <a id="28684" href="Coherence.Hypotheses.html#28653" class="Bound">⋯</a><a id="28685" class="Symbol">)</a> <a id="28687" class="Keyword">where</a>
  <a id="28695" class="Comment">-- (iii) submit transaction T</a>
  <a id="28727" class="Comment">--       where ∙ (T′,o) = txout′(y)</a>
  <a id="28765" class="Comment">--             ∙ T is the first transaction in Bpar(cs,d,T′,o,partG,t)</a>
  <a id="28838" class="Comment">--       i.e. the one corresponding to subterm `d∗ = split (zip vs cs)`</a>
  <a id="28912" href="Coherence.Hypotheses.html#28912" class="Function">T</a> <a id="28914" class="Symbol">:</a> <a id="28916" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="28919" class="Number">1</a> <a id="28921" class="Symbol">(</a><a id="28922" href="Data.List.Base.html#4873" class="Function">length</a> <a id="28929" href="Coherence.Hypotheses.html#27574" class="Function">xs</a><a id="28931" class="Symbol">)</a>
  <a id="28935" href="Coherence.Hypotheses.html#28912" class="Function">T</a> <a id="28937" class="Symbol">=</a>
    <a id="28943" class="Keyword">let</a>
        <a id="28955" class="Keyword">open</a> <a id="28960" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>
        <a id="28980" href="Coherence.Hypotheses.html#28980" class="Bound">vs≡</a> <a id="28984" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="28986" href="Coherence.Hypotheses.html#28986" class="Bound">cs≡</a> <a id="28990" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="28992" href="Coherence.Hypotheses.html#28992" class="Bound">xs≡</a> <a id="28996" class="Symbol">=</a> <a id="28998" href="Prelude.Lists.Core.html#1445" class="Function">length-unzip₃</a> <a id="29012" href="Coherence.Hypotheses.html#27432" class="Field">vcis</a>

        <a id="29026" href="Coherence.Hypotheses.html#29026" class="Bound">l≡</a> <a id="29029" class="Symbol">:</a> <a id="29031" href="Data.List.Base.html#4873" class="Function">length</a> <a id="29038" href="Coherence.Hypotheses.html#27574" class="Function">xs</a> <a id="29041" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="29043" href="Data.List.Base.html#4873" class="Function">length</a> <a id="29050" class="Symbol">(</a><a id="29051" href="Data.List.Base.html#3579" class="Function">zip</a> <a id="29055" href="Coherence.Hypotheses.html#27480" class="Function">vs</a> <a id="29058" href="Coherence.Hypotheses.html#27522" class="Function">cs</a><a id="29060" class="Symbol">)</a>
        <a id="29070" href="Coherence.Hypotheses.html#29026" class="Bound">l≡</a> <a id="29073" class="Symbol">=</a> <a id="29075" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="29079" href="Function.Base.html#1928" class="Function Operator">$</a>
          <a id="29091" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a> <a id="29097" href="Data.List.Base.html#4873" class="Function">length</a> <a id="29104" class="Symbol">(</a><a id="29105" href="Data.List.Base.html#3579" class="Function">zip</a> <a id="29109" href="Coherence.Hypotheses.html#27480" class="Function">vs</a> <a id="29112" href="Coherence.Hypotheses.html#27522" class="Function">cs</a><a id="29114" class="Symbol">)</a>    <a id="29119" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="29122" href="Data.List.Properties.html#10399" class="Function">L.length-zipWith</a> <a id="29139" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">_,_</a> <a id="29143" href="Coherence.Hypotheses.html#27480" class="Function">vs</a> <a id="29146" href="Coherence.Hypotheses.html#27522" class="Function">cs</a> <a id="29149" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="29167" href="Data.List.Base.html#4873" class="Function">length</a> <a id="29174" href="Coherence.Hypotheses.html#27480" class="Function">vs</a> <a id="29177" href="Data.Nat.Base.html#3166" class="Function Operator">⊓</a> <a id="29179" href="Data.List.Base.html#4873" class="Function">length</a> <a id="29186" href="Coherence.Hypotheses.html#27522" class="Function">cs</a> <a id="29189" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="29192" href="Data.Nat.Properties.html#29390" class="Function">Nat.m≥n⇒m⊓n≡n</a>
                                        <a id="29246" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="29248" href="Data.Nat.Properties.html#4468" class="Function">Nat.≤-reflexive</a> <a id="29264" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="29266" href="Relation.Binary.PropositionalEquality.Core.html#1738" class="Function">trans</a> <a id="29272" href="Coherence.Hypotheses.html#28986" class="Bound">cs≡</a> <a id="29276" class="Symbol">(</a><a id="29277" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="29281" href="Coherence.Hypotheses.html#28980" class="Bound">vs≡</a><a id="29284" class="Symbol">)</a> <a id="29286" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="29304" href="Data.List.Base.html#4873" class="Function">length</a> <a id="29311" href="Coherence.Hypotheses.html#27522" class="Function">cs</a>             <a id="29326" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="29329" href="Coherence.Hypotheses.html#28986" class="Bound">cs≡</a> <a id="29333" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="29351" href="Data.List.Base.html#4873" class="Function">length</a> <a id="29358" href="Coherence.Hypotheses.html#27432" class="Field">vcis</a>           <a id="29373" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="29376" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="29380" href="Coherence.Hypotheses.html#28992" class="Bound">xs≡</a> <a id="29384" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="29402" href="Data.List.Base.html#4873" class="Function">length</a> <a id="29409" href="Coherence.Hypotheses.html#27574" class="Function">xs</a>             <a id="29424" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>
    <a id="29430" class="Keyword">in</a>
      <a id="29439" href="Prelude.SubstDSL.html#488" class="Function">⟪</a> <a id="29441" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="29444" class="Number">1</a> <a id="29446" href="Prelude.SubstDSL.html#488" class="Function">⟫</a> <a id="29448" href="Coherence.Hypotheses.html#29026" class="Bound">l≡</a>
         <a id="29460" class="Comment">-- (ii) {G}C′ is the ancestor of ⟨D+C,v⟩y in Rˢ</a>
      <a id="29514" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="29517" class="Symbol">(</a> <a id="29519" href="Coherence.Helpers.html#4528" class="Function">COMPILE-ANCESTOR</a> <a id="29536" class="Symbol">{</a><a id="29537" class="Argument">Γ</a> <a id="29539" class="Symbol">=</a> <a id="29541" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="29542" class="Symbol">}</a> <a id="29544" class="Symbol">{</a><a id="29545" class="Argument">i</a> <a id="29547" class="Symbol">=</a> <a id="29549" href="Coherence.Hypotheses.html#27414" class="Field">i</a><a id="29550" class="Symbol">}</a> <a id="29552" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="29555" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="29557" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="29559" class="Symbol">.</a><a id="29560" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
         <a id="29575" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="29578" href="Coherence.Hypotheses.html#27997" class="Field">d≡</a> <a id="29581" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="29583" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="29592" href="Prelude.SubstDSL.html#164" class="Function">⟫</a><a id="29593" class="Symbol">)</a>
  <a id="29597" class="Keyword">private</a>
    <a id="29609" class="Comment">-- (iv) extend txout′ with {xᵢ ↦ (T,i)}, sechash = sechash′, κ = κ′</a>
    <a id="29681" href="Coherence.Hypotheses.html#29681" class="Function">txout⁺</a> <a id="29688" class="Symbol">:</a> <a id="29690" href="Coherence.Hypotheses.html#27574" class="Function">xs</a> <a id="29693" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="29695" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
    <a id="29708" href="Coherence.Hypotheses.html#29681" class="Function">txout⁺</a> <a id="29715" href="Coherence.Hypotheses.html#29715" class="Bound">x∈</a> <a id="29718" class="Symbol">=</a> <a id="29720" class="Symbol">(</a><a id="29721" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="29724" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="29727" href="Coherence.Hypotheses.html#28912" class="Function">T</a><a id="29728" class="Symbol">)</a> <a id="29730" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="29733" href="Data.List.Relation.Unary.Any.html#1826" class="Function">L.Any.index</a> <a id="29745" href="Coherence.Hypotheses.html#29715" class="Bound">x∈</a>

    <a id="29753" href="Coherence.Hypotheses.html#29753" class="Function">hʳ</a> <a id="29756" class="Symbol">:</a> <a id="29758" class="Symbol">∀</a> <a id="29760" class="Symbol">(</a><a id="29761" href="Coherence.Hypotheses.html#29761" class="Bound">vcis</a> <a id="29766" class="Symbol">:</a> <a id="29768" href="BitML.Contracts.Types.html#594" class="Function">VIContracts</a><a id="29779" class="Symbol">)</a> <a id="29781" class="Symbol">→</a>
        <a id="29791" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="29795" class="Symbol">(</a><a id="29796" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="29799" href="Data.List.Base.html#1553" class="Function">map</a> <a id="29803" class="Symbol">(λ{</a> <a id="29807" class="Symbol">(</a><a id="29808" href="Coherence.Hypotheses.html#29808" class="Bound">vᵢ</a> <a id="29811" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="29813" href="Coherence.Hypotheses.html#29813" class="Bound">cᵢ</a> <a id="29816" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="29818" href="Coherence.Hypotheses.html#29818" class="Bound">xᵢ</a><a id="29820" class="Symbol">)</a> <a id="29822" class="Symbol">→</a> <a id="29824" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="29826" href="Coherence.Hypotheses.html#29813" class="Bound">cᵢ</a> <a id="29829" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="29831" href="Coherence.Hypotheses.html#29808" class="Bound">vᵢ</a> <a id="29834" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="29838" href="Coherence.Hypotheses.html#29818" class="Bound">xᵢ</a> <a id="29841" class="Symbol">})</a> <a id="29844" href="Coherence.Hypotheses.html#29761" class="Bound">vcis</a><a id="29848" class="Symbol">)</a>
      <a id="29856" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="29858" class="Symbol">(</a><a id="29859" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="29865" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="29867" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="29873" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="29875" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="29882" href="Coherence.Hypotheses.html#29761" class="Bound">vcis</a><a id="29886" class="Symbol">)</a>
    <a id="29892" href="Coherence.Hypotheses.html#29753" class="Function">hʳ</a> <a id="29895" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="29898" class="Symbol">=</a> <a id="29900" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="29909" href="Coherence.Hypotheses.html#29753" class="Function">hʳ</a> <a id="29912" class="Symbol">(_</a> <a id="29915" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="29917" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="29919" class="Symbol">)</a> <a id="29921" class="Symbol">=</a> <a id="29923" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="29932" href="Coherence.Hypotheses.html#29753" class="Function">hʳ</a> <a id="29935" class="Symbol">(_</a> <a id="29938" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="29940" href="Coherence.Hypotheses.html#29940" class="Bound">xs</a><a id="29942" class="Symbol">@(_</a> <a id="29946" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="29948" class="Symbol">_))</a> <a id="29952" class="Symbol">=</a> <a id="29954" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="29959" class="Symbol">(_</a> <a id="29962" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷_</a><a id="29964" class="Symbol">)</a> <a id="29966" class="Symbol">(</a><a id="29967" href="Coherence.Hypotheses.html#29753" class="Function">hʳ</a> <a id="29970" href="Coherence.Hypotheses.html#29940" class="Bound">xs</a><a id="29972" class="Symbol">)</a>

    <a id="29979" href="Coherence.Hypotheses.html#29979" class="Function">hˡ</a> <a id="29982" class="Symbol">:</a> <a id="29984" class="Symbol">∀</a> <a id="29986" class="Symbol">(</a><a id="29987" href="Coherence.Hypotheses.html#29987" class="Bound">vcis</a> <a id="29992" class="Symbol">:</a> <a id="29994" href="BitML.Contracts.Types.html#594" class="Function">VIContracts</a><a id="30005" class="Symbol">)</a> <a id="30007" class="Symbol">→</a>
      <a id="30015" href="Prelude.Null.html#263" class="Field">Null</a> <a id="30020" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="30022" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="30030" class="Symbol">(</a><a id="30031" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="30034" href="Data.List.Base.html#1553" class="Function">map</a> <a id="30038" class="Symbol">(λ{</a> <a id="30042" class="Symbol">(</a><a id="30043" href="Coherence.Hypotheses.html#30043" class="Bound">vᵢ</a> <a id="30046" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="30048" href="Coherence.Hypotheses.html#30048" class="Bound">cᵢ</a> <a id="30051" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="30053" href="Coherence.Hypotheses.html#30053" class="Bound">xᵢ</a><a id="30055" class="Symbol">)</a> <a id="30057" class="Symbol">→</a> <a id="30059" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="30061" href="Coherence.Hypotheses.html#30048" class="Bound">cᵢ</a> <a id="30064" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="30066" href="Coherence.Hypotheses.html#30043" class="Bound">vᵢ</a> <a id="30069" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="30073" href="Coherence.Hypotheses.html#30053" class="Bound">xᵢ</a> <a id="30076" class="Symbol">})</a> <a id="30079" href="Coherence.Hypotheses.html#29987" class="Bound">vcis</a><a id="30083" class="Symbol">)</a>
    <a id="30089" href="Coherence.Hypotheses.html#29979" class="Function">hˡ</a> <a id="30092" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="30095" class="Symbol">=</a> <a id="30097" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="30106" href="Coherence.Hypotheses.html#29979" class="Function">hˡ</a> <a id="30109" class="Symbol">(_</a> <a id="30112" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="30114" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="30116" class="Symbol">)</a> <a id="30118" class="Symbol">=</a> <a id="30120" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="30129" href="Coherence.Hypotheses.html#29979" class="Function">hˡ</a> <a id="30132" class="Symbol">(_</a> <a id="30135" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="30137" href="Coherence.Hypotheses.html#30137" class="Bound">xs</a><a id="30139" class="Symbol">@(_</a> <a id="30143" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="30145" class="Symbol">_))</a> <a id="30149" class="Symbol">=</a> <a id="30151" href="Coherence.Hypotheses.html#29979" class="Function">hˡ</a> <a id="30154" href="Coherence.Hypotheses.html#30137" class="Bound">xs</a>

    <a id="30162" href="Coherence.Hypotheses.html#30162" class="Function">hᵃ</a> <a id="30165" class="Symbol">:</a> <a id="30167" class="Symbol">∀</a> <a id="30169" class="Symbol">(</a><a id="30170" href="Coherence.Hypotheses.html#30170" class="Bound">vcis</a> <a id="30175" class="Symbol">:</a> <a id="30177" href="BitML.Contracts.Types.html#594" class="Function">VIContracts</a><a id="30188" class="Symbol">)</a> <a id="30190" class="Symbol">→</a>
      <a id="30198" href="Prelude.Null.html#263" class="Field">Null</a> <a id="30203" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="30205" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="30220" class="Symbol">(</a><a id="30221" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="30224" href="Data.List.Base.html#1553" class="Function">map</a> <a id="30228" class="Symbol">(λ{</a> <a id="30232" class="Symbol">(</a><a id="30233" href="Coherence.Hypotheses.html#30233" class="Bound">vᵢ</a> <a id="30236" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="30238" href="Coherence.Hypotheses.html#30238" class="Bound">cᵢ</a> <a id="30241" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="30243" href="Coherence.Hypotheses.html#30243" class="Bound">xᵢ</a><a id="30245" class="Symbol">)</a> <a id="30247" class="Symbol">→</a> <a id="30249" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="30251" href="Coherence.Hypotheses.html#30238" class="Bound">cᵢ</a> <a id="30254" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="30256" href="Coherence.Hypotheses.html#30233" class="Bound">vᵢ</a> <a id="30259" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="30263" href="Coherence.Hypotheses.html#30243" class="Bound">xᵢ</a> <a id="30266" class="Symbol">})</a> <a id="30269" href="Coherence.Hypotheses.html#30170" class="Bound">vcis</a><a id="30273" class="Symbol">)</a>
    <a id="30279" href="Coherence.Hypotheses.html#30162" class="Function">hᵃ</a> <a id="30282" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="30285" class="Symbol">=</a> <a id="30287" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="30296" href="Coherence.Hypotheses.html#30162" class="Function">hᵃ</a> <a id="30299" class="Symbol">(_</a> <a id="30302" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="30304" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="30306" class="Symbol">)</a> <a id="30308" class="Symbol">=</a> <a id="30310" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="30319" href="Coherence.Hypotheses.html#30162" class="Function">hᵃ</a> <a id="30322" class="Symbol">(_</a> <a id="30325" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="30327" href="Coherence.Hypotheses.html#30327" class="Bound">xs</a><a id="30329" class="Symbol">@(_</a> <a id="30333" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="30335" class="Symbol">_))</a> <a id="30339" class="Symbol">=</a> <a id="30341" href="Coherence.Hypotheses.html#30162" class="Function">hᵃ</a> <a id="30344" href="Coherence.Hypotheses.html#30327" class="Bound">xs</a>

    <a id="30352" href="Coherence.Hypotheses.html#30352" class="Function">ids≡</a> <a id="30357" class="Symbol">:</a> <a id="30359" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="30363" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="30365" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="30367" href="Coherence.Hypotheses.html#27397" class="Field">y</a> <a id="30369" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="30371" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="30375" href="Coherence.Hypotheses.html#27399" class="Field">Γ₀</a>
    <a id="30382" href="Coherence.Hypotheses.html#30352" class="Function">ids≡</a> <a id="30387" class="Symbol">=</a> <a id="30389" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="30417" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="30424" class="Symbol">(</a><a id="30425" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="30427" href="Coherence.Hypotheses.html#27395" class="Field">c</a> <a id="30429" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="30431" href="Coherence.Hypotheses.html#27507" class="Function">v</a> <a id="30433" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="30437" href="Coherence.Hypotheses.html#27397" class="Field">y</a><a id="30438" class="Symbol">)</a> <a id="30440" href="Coherence.Hypotheses.html#27399" class="Field">Γ₀</a>

    <a id="30448" href="Coherence.Hypotheses.html#30448" class="Function">ids≡′</a> <a id="30454" class="Symbol">:</a> <a id="30456" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="30460" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="30463" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="30465" href="Coherence.Hypotheses.html#27574" class="Function">xs</a> <a id="30468" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="30471" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="30475" href="Coherence.Hypotheses.html#27399" class="Field">Γ₀</a>
    <a id="30482" href="Coherence.Hypotheses.html#30448" class="Function">ids≡′</a> <a id="30488" class="Symbol">=</a>
      <a id="30496" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
        <a id="30510" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="30514" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
      <a id="30523" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="30526" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="30554" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="30561" href="Coherence.Hypotheses.html#28145" class="Function">Γ₁</a> <a id="30564" href="Coherence.Hypotheses.html#27399" class="Field">Γ₀</a> <a id="30567" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="30577" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="30581" href="Coherence.Hypotheses.html#28145" class="Function">Γ₁</a> <a id="30584" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="30587" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="30591" href="Coherence.Hypotheses.html#27399" class="Field">Γ₀</a>
      <a id="30600" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="30603" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="30608" class="Symbol">(</a><a id="30609" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="30613" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="30617" href="Coherence.Hypotheses.html#27399" class="Field">Γ₀</a><a id="30619" class="Symbol">)</a> <a id="30621" class="Symbol">(</a><a id="30622" href="Coherence.Hypotheses.html#29753" class="Function">hʳ</a> <a id="30625" href="Coherence.Hypotheses.html#27432" class="Field">vcis</a><a id="30629" class="Symbol">)</a> <a id="30631" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="30641" href="Coherence.Hypotheses.html#27574" class="Function">xs</a> <a id="30644" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="30647" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="30651" href="Coherence.Hypotheses.html#27399" class="Field">Γ₀</a>
      <a id="30660" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="30662" class="Keyword">where</a> <a id="30668" class="Keyword">open</a> <a id="30673" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

    <a id="30690" href="Coherence.Hypotheses.html#30690" class="Function">secrets≡</a> <a id="30699" class="Symbol">:</a> <a id="30701" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="30704" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="30707" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="30715" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="30717" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>
    <a id="30723" href="Coherence.Hypotheses.html#30690" class="Function">secrets≡</a> <a id="30732" class="Symbol">=</a>
      <a id="30740" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
        <a id="30754" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="30762" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
      <a id="30771" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="30774" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="30802" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="30809" href="Coherence.Hypotheses.html#28145" class="Function">Γ₁</a> <a id="30812" href="Coherence.Hypotheses.html#27399" class="Field">Γ₀</a> <a id="30815" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="30825" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="30833" href="Coherence.Hypotheses.html#28145" class="Function">Γ₁</a> <a id="30836" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="30839" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="30847" href="Coherence.Hypotheses.html#27399" class="Field">Γ₀</a>
      <a id="30856" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="30859" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="30864" class="Symbol">(</a><a id="30865" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="30869" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="30877" href="Coherence.Hypotheses.html#27399" class="Field">Γ₀</a><a id="30879" class="Symbol">)</a> <a id="30881" class="Symbol">(</a><a id="30882" href="Coherence.Hypotheses.html#29979" class="Function">hˡ</a> <a id="30885" href="Coherence.Hypotheses.html#27432" class="Field">vcis</a><a id="30889" class="Symbol">)</a> <a id="30891" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="30901" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="30909" href="Coherence.Hypotheses.html#27399" class="Field">Γ₀</a>
      <a id="30918" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
        <a id="30930" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="30938" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>
      <a id="30946" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="30948" class="Keyword">where</a> <a id="30954" class="Keyword">open</a> <a id="30959" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

    <a id="30976" href="Coherence.Hypotheses.html#30976" class="Function">ads≡</a> <a id="30981" class="Symbol">:</a> <a id="30983" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="30986" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="30989" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="31004" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="31006" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>
    <a id="31012" href="Coherence.Hypotheses.html#30976" class="Function">ads≡</a> <a id="31017" class="Symbol">=</a>
      <a id="31025" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
        <a id="31039" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="31054" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
      <a id="31063" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="31066" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="31085" href="Coherence.Hypotheses.html#28145" class="Function">Γ₁</a> <a id="31088" href="Coherence.Hypotheses.html#27399" class="Field">Γ₀</a> <a id="31091" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="31101" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="31116" href="Coherence.Hypotheses.html#28145" class="Function">Γ₁</a> <a id="31119" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="31122" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="31137" href="Coherence.Hypotheses.html#27399" class="Field">Γ₀</a>
      <a id="31146" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="31149" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="31154" class="Symbol">(</a><a id="31155" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="31159" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="31174" href="Coherence.Hypotheses.html#27399" class="Field">Γ₀</a><a id="31176" class="Symbol">)</a> <a id="31178" class="Symbol">(</a><a id="31179" href="Coherence.Hypotheses.html#30162" class="Function">hᵃ</a> <a id="31182" href="Coherence.Hypotheses.html#27432" class="Field">vcis</a><a id="31186" class="Symbol">)</a> <a id="31188" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="31198" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="31213" href="Coherence.Hypotheses.html#27399" class="Field">Γ₀</a>
      <a id="31222" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
        <a id="31234" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="31249" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>
      <a id="31257" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="31259" class="Keyword">where</a> <a id="31265" class="Keyword">open</a> <a id="31270" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

    <a id="31287" href="Coherence.Hypotheses.html#31287" class="Function">txout↝</a> <a id="31294" class="Symbol">:</a> <a id="31296" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="31298" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="31301" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="31307" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="31309" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
    <a id="31316" href="Coherence.Hypotheses.html#31287" class="Function">txout↝</a> <a id="31323" href="Coherence.Hypotheses.html#31323" class="Bound">txout′</a> <a id="31330" class="Keyword">rewrite</a> <a id="31338" href="Coherence.Hypotheses.html#30352" class="Function">ids≡</a>
      <a id="31349" class="Symbol">=</a> <a id="31351" href="Prelude.Lists.Mappings.html#1750" class="Function">extend-↦</a> <a id="31360" class="Symbol">(</a><a id="31361" href="Data.List.Relation.Binary.Permutation.Propositional.html#1377" class="Function">↭-reflexive</a> <a id="31373" href="Coherence.Hypotheses.html#30448" class="Function">ids≡′</a><a id="31378" class="Symbol">)</a> <a id="31380" href="Coherence.Hypotheses.html#29681" class="Function">txout⁺</a> <a id="31387" class="Symbol">(</a><a id="31388" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="31397" href="Coherence.Hypotheses.html#31323" class="Bound">txout′</a> <a id="31404" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a><a id="31409" class="Symbol">)</a>

    <a id="31416" href="Coherence.Hypotheses.html#31416" class="Function">sechash↝</a> <a id="31425" class="Symbol">:</a> <a id="31427" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="31429" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="31432" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="31440" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="31442" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
    <a id="31449" href="Coherence.Hypotheses.html#31416" class="Function">sechash↝</a> <a id="31458" class="Symbol">=</a> <a id="31460" href="SymbolicModel.Mappings.html#3670" class="Function Operator">lift</a> <a id="31465" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="31467" href="SymbolicModel.Mappings.html#3670" class="Function Operator">—⟨</a> <a id="31470" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="31478" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⟩—</a> <a id="31481" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="31484" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⊣</a> <a id="31486" href="Coherence.Hypotheses.html#30690" class="Function">secrets≡</a>

    <a id="31500" href="Coherence.Hypotheses.html#31500" class="Function">κ↝</a> <a id="31503" class="Symbol">:</a> <a id="31505" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="31507" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="31510" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="31513" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="31515" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
    <a id="31522" href="Coherence.Hypotheses.html#31500" class="Function">κ↝</a> <a id="31525" class="Symbol">=</a> <a id="31527" href="SymbolicModel.Mappings.html#3670" class="Function Operator">lift</a> <a id="31532" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="31534" href="SymbolicModel.Mappings.html#3670" class="Function Operator">—⟨</a> <a id="31537" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="31552" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⟩—</a> <a id="31555" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="31558" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⊣</a> <a id="31560" href="Coherence.Hypotheses.html#30976" class="Function">ads≡</a>
  <a id="31567" href="Coherence.Hypotheses.html#31567" class="Function">λˢ</a> <a id="31570" class="Symbol">:</a> <a id="31572" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="31575" href="Coherence.Hypotheses.html#1899" class="Function">Γₜ′</a>
  <a id="31581" href="Coherence.Hypotheses.html#31567" class="Function">λˢ</a> <a id="31584" class="Symbol">=</a> <a id="31586" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="31592" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="31594" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="31596" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="31599" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="31602" href="Coherence.Hypotheses.html#31287" class="Function">txout↝</a> <a id="31609" href="Coherence.Hypotheses.html#31416" class="Function">sechash↝</a> <a id="31618" href="Coherence.Hypotheses.html#31500" class="Function">κ↝</a>

<a id="31622" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[8]~_⨾_"></a><a id="31627" href="Coherence.Hypotheses.html#31627" class="Datatype Operator">_⨾_⨾_~ℍ[8]~_⨾_</a> <a id="31642" class="Symbol">:</a> <a id="31644" href="Coherence.Hypotheses.html#1606" class="Function">StepRel</a> <a id="31652" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[8]~_⨾_.mkℍ"></a><a id="31660" href="Coherence.Hypotheses.html#31660" class="InductiveConstructor">mkℍ</a> <a id="31664" class="Symbol">:</a> <a id="31666" class="Symbol">∀</a> <a id="31668" class="Symbol">{</a><a id="31669" href="Coherence.Hypotheses.html#31669" class="Bound">h</a> <a id="31671" class="Symbol">:</a> <a id="31673" href="Coherence.Hypotheses.html#27344" class="Record">H₈-args</a><a id="31680" class="Symbol">}</a>
    <a id="31686" class="Symbol">→</a> <a id="31688" class="Keyword">let</a>
        <a id="31700" class="Keyword">open</a> <a id="31705" href="Coherence.Hypotheses.html#27344" class="Module">H₈-args</a> <a id="31713" href="Coherence.Hypotheses.html#31669" class="Bound">h</a>
        <a id="31723" class="Keyword">open</a> <a id="31728" href="Coherence.Hypotheses.html#28649" class="Module">H₈</a> <a id="31731" href="Coherence.Hypotheses.html#31669" class="Bound">h</a> <a id="31733" class="Keyword">using</a> <a id="31739" class="Symbol">(</a><a id="31740" href="Coherence.Hypotheses.html#31567" class="Function">λˢ</a><a id="31742" class="Symbol">;</a> <a id="31744" href="Coherence.Hypotheses.html#28912" class="Function">T</a><a id="31745" class="Symbol">)</a>
        <a id="31755" href="Coherence.Hypotheses.html#31755" class="Bound">λᶜ</a> <a id="31758" class="Symbol">=</a> <a id="31760" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="31767" class="Symbol">(</a><a id="31768" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="31771" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="31774" href="Coherence.Hypotheses.html#28912" class="Function">T</a><a id="31775" class="Symbol">)</a>
      <a id="31783" class="Keyword">in</a>
      <a id="31792" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="31852" href="Coherence.Hypotheses.html#2181" class="Function">Γₜ″</a> <a id="31856" href="Coherence.Hypotheses.html#31627" class="Datatype Operator">⨾</a> <a id="31858" href="Coherence.Hypotheses.html#2120" class="Function">𝕣∗</a> <a id="31861" href="Coherence.Hypotheses.html#31627" class="Datatype Operator">⨾</a> <a id="31863" class="Symbol">(</a><a id="31864" href="Coherence.Hypotheses.html#2267" class="Function">𝕒</a> <a id="31866" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="31868" href="Coherence.Hypotheses.html#31567" class="Function">λˢ</a><a id="31870" class="Symbol">)</a> <a id="31872" href="Coherence.Hypotheses.html#31627" class="Datatype Operator">~ℍ[8]~</a> <a id="31879" href="Coherence.Hypotheses.html#31755" class="Bound">λᶜ</a> <a id="31882" href="Coherence.Hypotheses.html#31627" class="Datatype Operator">⨾</a> <a id="31884" href="Coherence.Hypotheses.html#2093" class="Function">Rᶜ</a>

<a id="31888" class="Comment">-- ** Contract actions: withdraw</a>
<a id="31921" class="Keyword">record</a> <a id="H₉-args"></a><a id="31928" href="Coherence.Hypotheses.html#31928" class="Record">H₉-args</a> <a id="31936" class="Symbol">:</a> <a id="31938" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="31943" class="Keyword">where</a>
  <a id="31951" class="Keyword">constructor</a> <a id="mk"></a><a id="31963" href="Coherence.Hypotheses.html#31963" class="InductiveConstructor">mk</a>
  <a id="31968" class="Keyword">field</a>
    <a id="31978" class="Symbol">{</a><a id="H₉-args.c"></a><a id="31979" href="Coherence.Hypotheses.html#31979" class="Field">c</a> <a id="H₉-args.v"></a><a id="31981" href="Coherence.Hypotheses.html#31981" class="Field">v</a> <a id="H₉-args.y"></a><a id="31983" href="Coherence.Hypotheses.html#31983" class="Field">y</a> <a id="H₉-args.Γ₀"></a><a id="31985" href="Coherence.Hypotheses.html#31985" class="Field">Γ₀</a> <a id="H₉-args.A"></a><a id="31988" href="Coherence.Hypotheses.html#31988" class="Field">A</a> <a id="H₉-args.x"></a><a id="31990" href="Coherence.Hypotheses.html#31990" class="Field">x</a> <a id="H₉-args.t"></a><a id="31992" href="Coherence.Hypotheses.html#31992" class="Field">t</a><a id="31993" class="Symbol">}</a> <a id="31995" class="Symbol">:</a> <a id="31997" class="Symbol">_</a>
    <a id="32003" class="Symbol">{</a><a id="H₉-args.i"></a><a id="32004" href="Coherence.Hypotheses.html#32004" class="Field">i</a><a id="32005" class="Symbol">}</a> <a id="32007" class="Symbol">:</a> <a id="32009" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="32015" href="Coherence.Hypotheses.html#31979" class="Field">c</a>
  <a id="32019" class="Keyword">open</a> <a id="32024" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="32032" href="Coherence.Hypotheses.html#31979" class="Field">c</a> <a id="32034" href="Coherence.Hypotheses.html#32004" class="Field">i</a> <a id="32036" class="Keyword">public</a>
  <a id="H₉-args.As"></a><a id="32045" href="Coherence.Hypotheses.html#32045" class="Function">As</a> <a id="32048" class="Symbol">=</a> <a id="32050" href="BitML.Contracts.Collections.html#13915" class="Function">decorations</a> <a id="32062" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="32064" class="Symbol">.</a><a id="32065" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₉-args.ts"></a><a id="32073" href="Coherence.Hypotheses.html#32073" class="Function">ts</a> <a id="32076" class="Symbol">=</a> <a id="32078" href="BitML.Contracts.Collections.html#13915" class="Function">decorations</a> <a id="32090" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="32092" class="Symbol">.</a><a id="32093" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
  <a id="32101" class="Keyword">field</a>
    <a id="32111" class="Comment">-- (i) in Rˢ, α consumes ⟨D+C,v⟩y to obtain ⟨A,v⟩ₓ (where D = ⋯ : withdraw A)</a>
    <a id="H₉-args.d≡"></a><a id="32193" href="Coherence.Hypotheses.html#32193" class="Field">d≡</a> <a id="32196" class="Symbol">:</a> <a id="32198" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="32200" href="BitML.Contracts.Collections.html#15163" class="Function Operator">≡⋯∶</a> <a id="32204" href="BitML.Contracts.Types.html#805" class="InductiveConstructor">withdraw</a> <a id="32213" href="Coherence.Hypotheses.html#31988" class="Field">A</a>
    <a id="32219" class="Comment">-- Hypotheses from [C-Withdraw]</a>
    <a id="H₉-args.fresh-x"></a><a id="32255" href="Coherence.Hypotheses.html#32255" class="Field">fresh-x</a> <a id="32263" class="Symbol">:</a> <a id="32265" href="Coherence.Hypotheses.html#31990" class="Field">x</a> <a id="32267" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="32269" href="Coherence.Hypotheses.html#31983" class="Field">y</a> <a id="32271" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="32275" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="32279" href="Coherence.Hypotheses.html#31985" class="Field">Γ₀</a>
    <a id="32286" class="Comment">-- Hypotheses from [Timeout]</a>
    <a id="H₉-args.As≡∅"></a><a id="32319" href="Coherence.Hypotheses.html#32319" class="Field">As≡∅</a> <a id="32324" class="Symbol">:</a> <a id="32326" href="Prelude.Null.html#263" class="Field">Null</a> <a id="32331" href="Coherence.Hypotheses.html#32045" class="Function">As</a>
    <a id="H₉-args.∀≤t"></a><a id="32338" href="Coherence.Hypotheses.html#32338" class="Field">∀≤t</a> <a id="32342" class="Symbol">:</a> <a id="32344" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="32348" class="Symbol">(</a><a id="32349" href="Prelude.Ord.Core.html#209" class="Field Operator">_≤</a> <a id="32352" href="Coherence.Hypotheses.html#31992" class="Field">t</a><a id="32353" class="Symbol">)</a> <a id="32355" href="Coherence.Hypotheses.html#32073" class="Function">ts</a>
  <a id="32360" class="Keyword">private</a>
    <a id="H₉-args.α"></a><a id="32372" href="Coherence.Hypotheses.html#32372" class="Function">α</a>  <a id="32375" class="Symbol">=</a> <a id="32377" href="BitML.Semantics.Label.html#1378" class="InductiveConstructor Operator">withdraw⦅</a> <a id="32387" href="Coherence.Hypotheses.html#31988" class="Field">A</a> <a id="32389" href="BitML.Semantics.Label.html#1378" class="InductiveConstructor Operator">,</a> <a id="32391" href="Coherence.Hypotheses.html#31981" class="Field">v</a> <a id="32393" href="BitML.Semantics.Label.html#1378" class="InductiveConstructor Operator">,</a> <a id="32395" href="Coherence.Hypotheses.html#31983" class="Field">y</a> <a id="32397" href="BitML.Semantics.Label.html#1378" class="InductiveConstructor Operator">⦆</a>
    <a id="H₉-args.Γ′"></a><a id="32403" href="Coherence.Hypotheses.html#32403" class="Function">Γ′</a> <a id="32406" class="Symbol">=</a> <a id="32408" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="32410" href="Coherence.Hypotheses.html#31988" class="Field">A</a> <a id="32412" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="32416" href="Coherence.Hypotheses.html#31981" class="Field">v</a> <a id="32418" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="32422" href="Coherence.Hypotheses.html#31990" class="Field">x</a> <a id="32424" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="32426" href="Coherence.Hypotheses.html#31985" class="Field">Γ₀</a>
  <a id="32431" class="Keyword">open</a> <a id="32436" href="Coherence.Hypotheses.html#1746" class="Module">Transition</a>
    <a id="32451" class="Symbol">(</a> <a id="32453" class="Symbol">(</a><a id="32454" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="32456" href="Coherence.Hypotheses.html#31979" class="Field">c</a> <a id="32458" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="32460" href="Coherence.Hypotheses.html#31981" class="Field">v</a> <a id="32462" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="32466" href="Coherence.Hypotheses.html#31983" class="Field">y</a> <a id="32468" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="32470" href="Coherence.Hypotheses.html#31985" class="Field">Γ₀</a><a id="32472" class="Symbol">)</a> <a id="32474" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="32476" href="Coherence.Hypotheses.html#31992" class="Field">t</a> <a id="32478" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">——</a> <a id="32481" href="Coherence.Hypotheses.html#32372" class="Function">α</a> <a id="32483" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">—→</a> <a id="32486" href="Coherence.Hypotheses.html#32403" class="Function">Γ′</a> <a id="32489" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="32491" href="Coherence.Hypotheses.html#31992" class="Field">t</a>
    <a id="32497" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⊣</a> <a id="32499" href="BitML.Semantics.InferenceRules.html#7812" class="InductiveConstructor">[Timeout]</a> <a id="32509" href="Coherence.Hypotheses.html#32319" class="Field">As≡∅</a> <a id="32514" href="Coherence.Hypotheses.html#32338" class="Field">∀≤t</a>
        <a id="32526" class="Symbol">(</a><a id="32527" href="Prelude.SubstDSL.html#488" class="Function">⟪</a> <a id="32529" class="Symbol">(λ</a> <a id="32532" href="Coherence.Hypotheses.html#32532" class="Bound">◆</a> <a id="32534" class="Symbol">→</a> <a id="32536" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="32538" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="32540" href="Coherence.Hypotheses.html#32532" class="Bound">◆</a> <a id="32542" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="32544" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="32546" href="Coherence.Hypotheses.html#31981" class="Field">v</a> <a id="32548" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="32552" href="Coherence.Hypotheses.html#31983" class="Field">y</a> <a id="32554" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="32556" href="Coherence.Hypotheses.html#31985" class="Field">Γ₀</a> <a id="32559" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="32562" href="Coherence.Hypotheses.html#32372" class="Function">α</a> <a id="32564" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a> <a id="32567" href="Coherence.Hypotheses.html#32403" class="Function">Γ′</a><a id="32569" class="Symbol">)</a> <a id="32571" href="Prelude.SubstDSL.html#488" class="Function">⟫</a> <a id="32573" href="Coherence.Hypotheses.html#32193" class="Field">d≡</a> <a id="32576" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="32579" href="BitML.Semantics.InferenceRules.html#6346" class="InductiveConstructor">[C-Withdraw]</a> <a id="32592" href="Coherence.Hypotheses.html#32255" class="Field">fresh-x</a><a id="32599" class="Symbol">)</a>
        <a id="32609" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="32618" class="Symbol">)</a> <a id="32620" class="Keyword">public</a> <a id="32627" class="Keyword">hiding</a> <a id="32634" class="Symbol">(</a><a id="32635" href="Coherence.Hypotheses.html#1823" class="Field">t</a><a id="32636" class="Symbol">)</a>
  <a id="32640" class="Keyword">field</a> <a id="H₉-args.𝕙r"></a><a id="32646" href="Coherence.Hypotheses.html#32646" class="Field">𝕙r</a> <a id="32649" class="Symbol">:</a> <a id="32651" href="Coherence.Hypotheses.html#1962" class="Record">ℍ-Run</a> <a id="32657" href="Coherence.Hypotheses.html#1933" class="Function">Γ→</a>
  <a id="32662" class="Keyword">open</a> <a id="32667" href="Coherence.Hypotheses.html#1962" class="Module">ℍ-Run</a> <a id="32673" href="Coherence.Hypotheses.html#32646" class="Field">𝕙r</a> <a id="32676" class="Keyword">public</a>

<a id="32684" class="Keyword">module</a> <a id="32691" href="Coherence.Hypotheses.html#32691" class="Module">H₉</a> <a id="32694" class="Symbol">(</a><a id="32695" href="Coherence.Hypotheses.html#32695" class="Bound">⋯</a> <a id="32697" class="Symbol">:</a> <a id="32699" href="Coherence.Hypotheses.html#31928" class="Record">H₉-args</a><a id="32706" class="Symbol">)</a> <a id="32708" class="Symbol">(</a><a id="32709" class="Keyword">let</a> <a id="32713" class="Keyword">open</a> <a id="32718" href="Coherence.Hypotheses.html#31928" class="Module">H₉-args</a> <a id="32726" href="Coherence.Hypotheses.html#32695" class="Bound">⋯</a><a id="32727" class="Symbol">)</a> <a id="32729" class="Keyword">where</a>
  <a id="32737" class="Comment">-- (ii) {G}C′ is the ancestor of ⟨D+C,v⟩y in Rˢ</a>
  <a id="32787" class="Comment">--   ∙ T′ at o = txout′(x)</a>
  <a id="32816" class="Comment">--   ∙ T is the first transaction of Bd(d,d,T′,o,v,partG,0)</a>
  <a id="32878" class="Comment">-- i.e.</a>
  <a id="32888" class="Comment">-- (iii) submit transaction T</a>
  <a id="32920" class="Comment">--       where ∙ (T′,o) = txout′(y)</a>
  <a id="32958" class="Comment">--             ∙ T is the first transaction in Bd(d,d,T′,o,v,partG,0)</a>
  <a id="33030" class="Comment">--       i.e. the one corresponding to subterm `d∗ = withdraw A`</a>
  <a id="33097" href="Coherence.Hypotheses.html#33097" class="Function">T</a> <a id="33099" class="Symbol">:</a> <a id="33101" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
  <a id="33107" href="Coherence.Hypotheses.html#33097" class="Function">T</a> <a id="33109" class="Symbol">=</a> <a id="33111" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="33114" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="33117" href="Coherence.Helpers.html#4528" class="Function">COMPILE-ANCESTOR</a> <a id="33134" class="Symbol">{</a><a id="33135" class="Argument">Γ</a> <a id="33137" class="Symbol">=</a> <a id="33139" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="33140" class="Symbol">}</a> <a id="33142" class="Symbol">{</a><a id="33143" class="Argument">i</a> <a id="33145" class="Symbol">=</a> <a id="33147" href="Coherence.Hypotheses.html#32004" class="Field">i</a><a id="33148" class="Symbol">}</a> <a id="33150" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="33153" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="33155" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="33157" class="Symbol">.</a><a id="33158" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="33164" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="33167" href="Coherence.Hypotheses.html#32193" class="Field">d≡</a> <a id="33170" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="33172" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="33181" href="Prelude.SubstDSL.html#164" class="Function">⟫</a>
  <a id="33185" class="Keyword">private</a>
    <a id="33197" class="Comment">-- (iv) extend txout′ with {x ↦ (T,0)}, sechash = sechash′, κ = κ′</a>
    <a id="33268" href="Coherence.Hypotheses.html#33268" class="Function">txout↝</a> <a id="33275" class="Symbol">:</a> <a id="33277" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="33279" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="33282" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="33288" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="33290" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
    <a id="33297" href="Coherence.Hypotheses.html#33268" class="Function">txout↝</a>  <a id="33305" href="Coherence.Hypotheses.html#33305" class="Bound">txout′</a>
      <a id="33318" class="Symbol">=</a> <a id="33320" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="33327" href="Coherence.Hypotheses.html#31990" class="Field">x</a> <a id="33329" class="Symbol">(</a><a id="33330" href="Coherence.Hypotheses.html#33097" class="Function">T</a> <a id="33332" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="33335" class="Number">0</a><a id="33336" class="Symbol">)</a>
      <a id="33344" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="33346" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="33355" href="Coherence.Hypotheses.html#33305" class="Bound">txout′</a> <a id="33362" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a>
  <a id="33370" href="Coherence.Hypotheses.html#33370" class="Function">λˢ</a> <a id="33373" class="Symbol">:</a> <a id="33375" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="33378" href="Coherence.Hypotheses.html#1899" class="Function">Γₜ′</a>
  <a id="33384" href="Coherence.Hypotheses.html#33370" class="Function">λˢ</a> <a id="33387" class="Symbol">=</a> <a id="33389" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="33395" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="33397" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="33399" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="33402" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="33405" href="Coherence.Hypotheses.html#33268" class="Function">txout↝</a> <a id="33412" href="Function.Base.html#624" class="Function">id</a> <a id="33415" href="Function.Base.html#624" class="Function">id</a>

  <a id="33421" class="Comment">-- 𝕣∗′ : ℝ∗ Rˢ′</a>
  <a id="33439" class="Comment">-- 𝕣∗′ = Γₜ″ ∷ 𝕣∗ ⊣ 𝕒 , λˢ ✓</a>

<a id="33469" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[9]~_⨾_"></a><a id="33474" href="Coherence.Hypotheses.html#33474" class="Datatype Operator">_⨾_⨾_~ℍ[9]~_⨾_</a> <a id="33489" class="Symbol">:</a> <a id="33491" href="Coherence.Hypotheses.html#1606" class="Function">StepRel</a> <a id="33499" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[9]~_⨾_.mkℍ"></a><a id="33507" href="Coherence.Hypotheses.html#33507" class="InductiveConstructor">mkℍ</a> <a id="33511" class="Symbol">:</a> <a id="33513" class="Symbol">∀</a> <a id="33515" class="Symbol">{</a><a id="33516" href="Coherence.Hypotheses.html#33516" class="Bound">h</a> <a id="33518" class="Symbol">:</a> <a id="33520" href="Coherence.Hypotheses.html#31928" class="Record">H₉-args</a><a id="33527" class="Symbol">}</a>
    <a id="33533" class="Symbol">→</a> <a id="33535" class="Keyword">let</a>
        <a id="33547" class="Keyword">open</a> <a id="33552" href="Coherence.Hypotheses.html#31928" class="Module">H₉-args</a> <a id="33560" href="Coherence.Hypotheses.html#33516" class="Bound">h</a>
        <a id="33570" class="Keyword">open</a> <a id="33575" href="Coherence.Hypotheses.html#32691" class="Module">H₉</a> <a id="33578" href="Coherence.Hypotheses.html#33516" class="Bound">h</a> <a id="33580" class="Keyword">using</a> <a id="33586" class="Symbol">(</a><a id="33587" href="Coherence.Hypotheses.html#33370" class="Function">λˢ</a><a id="33589" class="Symbol">;</a> <a id="33591" href="Coherence.Hypotheses.html#33097" class="Function">T</a><a id="33592" class="Symbol">)</a>
        <a id="33602" class="Comment">-- open H₉ h using (𝕣∗′; T)</a>
        <a id="33638" href="Coherence.Hypotheses.html#33638" class="Bound">λᶜ</a> <a id="33641" class="Symbol">=</a> <a id="33643" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="33650" href="Coherence.Hypotheses.html#33097" class="Function">T</a>
      <a id="33658" class="Keyword">in</a>
      <a id="33667" href="Prelude.InferenceRules.html#44248" class="Function Operator">─────────────────────────────────────────</a>
      <a id="33715" class="Comment">-- Γₜ″ ⨾ 𝕣∗ ⨾ (𝕒 , λˢ) ~ℍ[9]~ λᶜ ⨾ Rᶜ</a>
      <a id="33759" href="Coherence.Hypotheses.html#2181" class="Function">Γₜ″</a> <a id="33763" href="Coherence.Hypotheses.html#33474" class="Datatype Operator">⨾</a> <a id="33765" href="Coherence.Hypotheses.html#2120" class="Function">𝕣∗</a> <a id="33768" href="Coherence.Hypotheses.html#33474" class="Datatype Operator">⨾</a> <a id="33770" class="Symbol">(</a><a id="33771" href="Coherence.Hypotheses.html#2267" class="Function">𝕒</a> <a id="33773" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="33775" href="Coherence.Hypotheses.html#33370" class="Function">λˢ</a><a id="33777" class="Symbol">)</a> <a id="33779" href="Coherence.Hypotheses.html#33474" class="Datatype Operator">~ℍ[9]~</a> <a id="33786" href="Coherence.Hypotheses.html#33638" class="Bound">λᶜ</a> <a id="33789" href="Coherence.Hypotheses.html#33474" class="Datatype Operator">⨾</a> <a id="33791" href="Coherence.Hypotheses.html#2093" class="Function">Rᶜ</a>

<a id="33795" class="Comment">-- ** Deposits: authorize join</a>
<a id="33826" class="Keyword">record</a> <a id="H₁₀-args"></a><a id="33833" href="Coherence.Hypotheses.html#33833" class="Record">H₁₀-args</a> <a id="33842" class="Symbol">:</a> <a id="33844" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="33849" class="Keyword">where</a>
  <a id="33857" class="Keyword">constructor</a> <a id="mk"></a><a id="33869" href="Coherence.Hypotheses.html#33869" class="InductiveConstructor">mk</a>
  <a id="33874" class="Keyword">field</a>
    <a id="33884" class="Symbol">{</a><a id="H₁₀-args.A"></a><a id="33885" href="Coherence.Hypotheses.html#33885" class="Field">A</a> <a id="H₁₀-args.v"></a><a id="33887" href="Coherence.Hypotheses.html#33887" class="Field">v</a> <a id="H₁₀-args.x"></a><a id="33889" href="Coherence.Hypotheses.html#33889" class="Field">x</a> <a id="H₁₀-args.v′"></a><a id="33891" href="Coherence.Hypotheses.html#33891" class="Field">v′</a> <a id="H₁₀-args.x′"></a><a id="33894" href="Coherence.Hypotheses.html#33894" class="Field">x′</a> <a id="H₁₀-args.Γ₀"></a><a id="33897" href="Coherence.Hypotheses.html#33897" class="Field">Γ₀</a> <a id="H₁₀-args.t"></a><a id="33900" href="Coherence.Hypotheses.html#33900" class="Field">t</a><a id="33901" class="Symbol">}</a> <a id="33903" class="Symbol">:</a> <a id="33905" class="Symbol">_</a>
  <a id="33909" class="Keyword">open</a> <a id="33914" href="Coherence.Hypotheses.html#1746" class="Module">Transition</a>
    <a id="33929" class="Symbol">(</a> <a id="33931" class="Symbol">(</a><a id="33932" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="33934" href="Coherence.Hypotheses.html#33885" class="Field">A</a> <a id="33936" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="33940" href="Coherence.Hypotheses.html#33887" class="Field">v</a> <a id="33942" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="33946" href="Coherence.Hypotheses.html#33889" class="Field">x</a> <a id="33948" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="33950" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="33952" href="Coherence.Hypotheses.html#33885" class="Field">A</a> <a id="33954" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="33958" href="Coherence.Hypotheses.html#33891" class="Field">v′</a> <a id="33961" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="33965" href="Coherence.Hypotheses.html#33894" class="Field">x′</a> <a id="33968" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="33970" href="Coherence.Hypotheses.html#33897" class="Field">Γ₀</a><a id="33972" class="Symbol">)</a> <a id="33974" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="33976" href="Coherence.Hypotheses.html#33900" class="Field">t</a>
      <a id="33984" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">——</a> <a id="33987" href="BitML.Semantics.Label.html#480" class="InductiveConstructor Operator">auth-join⦅</a> <a id="33998" href="Coherence.Hypotheses.html#33885" class="Field">A</a> <a id="34000" href="BitML.Semantics.Label.html#480" class="InductiveConstructor Operator">,</a> <a id="34002" href="Coherence.Hypotheses.html#33889" class="Field">x</a> <a id="34004" href="BitML.Semantics.Label.html#480" class="InductiveConstructor Operator">↔</a> <a id="34006" href="Coherence.Hypotheses.html#33894" class="Field">x′</a> <a id="34009" href="BitML.Semantics.Label.html#480" class="InductiveConstructor Operator">⦆</a> <a id="34011" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">—→</a>
      <a id="34020" class="Symbol">(</a> <a id="34022" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="34024" href="Coherence.Hypotheses.html#33885" class="Field">A</a> <a id="34026" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="34030" href="Coherence.Hypotheses.html#33887" class="Field">v</a> <a id="34032" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="34036" href="Coherence.Hypotheses.html#33889" class="Field">x</a> <a id="34038" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="34040" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="34042" href="Coherence.Hypotheses.html#33885" class="Field">A</a> <a id="34044" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="34048" href="Coherence.Hypotheses.html#33891" class="Field">v′</a> <a id="34051" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="34055" href="Coherence.Hypotheses.html#33894" class="Field">x′</a>
      <a id="34064" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="34066" href="Coherence.Hypotheses.html#33885" class="Field">A</a> <a id="34068" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="34074" href="Coherence.Hypotheses.html#33889" class="Field">x</a> <a id="34076" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">↔</a> <a id="34078" href="Coherence.Hypotheses.html#33894" class="Field">x′</a> <a id="34081" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">▷⟨</a> <a id="34084" href="Coherence.Hypotheses.html#33885" class="Field">A</a> <a id="34086" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">,</a> <a id="34088" href="Coherence.Hypotheses.html#33887" class="Field">v</a> <a id="34090" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="34092" href="Coherence.Hypotheses.html#33891" class="Field">v′</a> <a id="34095" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">⟩</a> <a id="34097" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="34099" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="34101" href="Coherence.Hypotheses.html#33897" class="Field">Γ₀</a><a id="34103" class="Symbol">)</a> <a id="34105" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="34107" href="Coherence.Hypotheses.html#33900" class="Field">t</a>
    <a id="34113" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⊣</a> <a id="34115" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="34119" href="BitML.Semantics.InferenceRules.html#1167" class="InductiveConstructor">[DEP-AuthJoin]</a>
    <a id="34138" class="Symbol">)</a> <a id="34140" class="Keyword">public</a> <a id="34147" class="Keyword">hiding</a> <a id="34154" class="Symbol">(</a><a id="34155" href="Coherence.Hypotheses.html#1823" class="Field">t</a><a id="34156" class="Symbol">)</a>
  <a id="34160" class="Keyword">field</a> <a id="H₁₀-args.𝕙r"></a><a id="34166" href="Coherence.Hypotheses.html#34166" class="Field">𝕙r</a> <a id="34169" class="Symbol">:</a> <a id="34171" href="Coherence.Hypotheses.html#1962" class="Record">ℍ-Run</a> <a id="34177" href="Coherence.Hypotheses.html#1933" class="Function">Γ→</a>
  <a id="34182" class="Keyword">open</a> <a id="34187" href="Coherence.Hypotheses.html#1962" class="Module">ℍ-Run</a> <a id="34193" href="Coherence.Hypotheses.html#34166" class="Field">𝕙r</a> <a id="34196" class="Keyword">public</a>

<a id="34204" class="Keyword">module</a> <a id="34211" href="Coherence.Hypotheses.html#34211" class="Module">H₁₀</a> <a id="34215" class="Symbol">(</a><a id="34216" href="Coherence.Hypotheses.html#34216" class="Bound">⋯</a> <a id="34218" class="Symbol">:</a> <a id="34220" href="Coherence.Hypotheses.html#33833" class="Record">H₁₀-args</a><a id="34228" class="Symbol">)</a> <a id="34230" class="Symbol">(</a><a id="34231" class="Keyword">let</a> <a id="34235" class="Keyword">open</a> <a id="34240" href="Coherence.Hypotheses.html#33833" class="Module">H₁₀-args</a> <a id="34249" href="Coherence.Hypotheses.html#34216" class="Bound">⋯</a><a id="34250" class="Symbol">)</a> <a id="34252" class="Keyword">where</a>
  <a id="34260" href="Coherence.Hypotheses.html#34260" class="Function">λˢ</a> <a id="34263" class="Symbol">:</a> <a id="34265" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="34268" href="Coherence.Hypotheses.html#1899" class="Function">Γₜ′</a>
  <a id="34274" href="Coherence.Hypotheses.html#34260" class="Function">λˢ</a> <a id="34277" class="Symbol">=</a> <a id="34279" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="34285" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="34287" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="34289" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="34292" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="34295" href="Function.Base.html#624" class="Function">id</a> <a id="34298" href="Function.Base.html#624" class="Function">id</a> <a id="34301" href="Function.Base.html#624" class="Function">id</a>

<a id="34305" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[10]~_⨾_"></a><a id="34310" href="Coherence.Hypotheses.html#34310" class="Datatype Operator">_⨾_⨾_~ℍ[10]~_⨾_</a> <a id="34326" class="Symbol">:</a> <a id="34328" href="Coherence.Hypotheses.html#1606" class="Function">StepRel</a> <a id="34336" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[10]~_⨾_.mkℍ"></a><a id="34344" href="Coherence.Hypotheses.html#34344" class="InductiveConstructor">mkℍ</a> <a id="34348" class="Symbol">:</a> <a id="34350" class="Symbol">∀</a> <a id="34352" class="Symbol">{</a><a id="34353" href="Coherence.Hypotheses.html#34353" class="Bound">h</a> <a id="34355" class="Symbol">:</a> <a id="34357" href="Coherence.Hypotheses.html#33833" class="Record">H₁₀-args</a><a id="34365" class="Symbol">}</a> <a id="34367" class="Symbol">{</a><a id="34368" href="Coherence.Hypotheses.html#34368" class="Bound">B</a><a id="34369" class="Symbol">}</a>
    <a id="34375" class="Symbol">→</a> <a id="34377" class="Keyword">let</a>
        <a id="34389" class="Keyword">open</a> <a id="34394" href="Coherence.Hypotheses.html#33833" class="Module">H₁₀-args</a> <a id="34403" href="Coherence.Hypotheses.html#34353" class="Bound">h</a>

        <a id="34414" href="Coherence.Hypotheses.html#34414" class="Bound">n⊆</a> <a id="34417" class="Symbol">:</a> <a id="34419" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="34421" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="34424" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="34428" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="34430" href="Coherence.Hypotheses.html#2107" class="Function">Rˢ</a>
        <a id="34441" href="Coherence.Hypotheses.html#34414" class="Bound">n⊆</a>  <a id="34445" class="Symbol">=</a> <a id="34447" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="34460" href="Coherence.Hypotheses.html#2107" class="Function">Rˢ</a>
            <a id="34475" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="34477" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="34492" class="Symbol">_</a> <a id="34494" class="Symbol">{</a><a id="34495" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="34496" class="Symbol">}{</a><a id="34498" href="Coherence.Hypotheses.html#2107" class="Function">Rˢ</a> <a id="34501" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="34505" class="Symbol">}</a> <a id="34507" class="Symbol">(</a><a id="34508" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="34514" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="34516" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="34519" class="Symbol">.</a><a id="34520" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="34525" class="Symbol">)</a>
      <a id="34533" class="Keyword">in</a>
    <a id="34540" class="Symbol">∀</a> <a id="34542" class="Symbol">(</a><a id="34543" href="Coherence.Hypotheses.html#34543" class="Bound">∃B</a> <a id="34546" class="Symbol">:</a> <a id="34548" href="Data.Product.html#1378" class="Function">∃</a> <a id="34550" class="Symbol">λ</a> <a id="34552" href="Coherence.Hypotheses.html#34552" class="Bound">B</a> <a id="34554" class="Symbol">→</a> <a id="34556" href="Data.Product.html#1378" class="Function">∃</a> <a id="34558" class="Symbol">λ</a> <a id="34560" class="Symbol">(</a><a id="34561" href="Coherence.Hypotheses.html#34561" class="Bound">T</a> <a id="34563" class="Symbol">:</a> <a id="34565" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="34568" class="Number">2</a> <a id="34570" class="Number">1</a><a id="34571" class="Symbol">)</a> <a id="34573" class="Symbol">→</a>
         <a id="34584" class="Symbol">(</a><a id="34585" href="Coherence.Hypotheses.html#34552" class="Bound">B</a> <a id="34587" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="34591" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="34598" href="Coherence.Hypotheses.html#34561" class="Bound">T</a> <a id="34600" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="34602" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="34609" href="Coherence.Hypotheses.html#2093" class="Function">Rᶜ</a><a id="34611" class="Symbol">)</a>
       <a id="34620" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="34622" class="Symbol">(</a><a id="34623" href="Coherence.Hypotheses.html#34561" class="Bound">T</a> <a id="34625" class="Symbol">.</a><a id="34626" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="34634" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="34636" class="Symbol">(</a><a id="34637" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="34645" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="34649" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="34651" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="34658" class="Symbol">{</a><a id="34659" href="Coherence.Hypotheses.html#33889" class="Function">x</a><a id="34660" class="Symbol">}</a> <a id="34662" class="Symbol">(</a><a id="34663" href="Coherence.Hypotheses.html#34414" class="Bound">n⊆</a> <a id="34666" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a><a id="34667" class="Symbol">)</a> <a id="34669" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="34671" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="34678" class="Symbol">{</a><a id="34679" href="Coherence.Hypotheses.html#33894" class="Function">x′</a><a id="34681" class="Symbol">}</a> <a id="34683" class="Symbol">(</a><a id="34684" href="Coherence.Hypotheses.html#34414" class="Bound">n⊆</a> <a id="34687" href="Prelude.Membership.Patterns.html#144" class="InductiveConstructor">𝟙</a><a id="34688" class="Symbol">)</a> <a id="34690" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a><a id="34691" class="Symbol">))</a>
       <a id="34701" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="34703" class="Symbol">(</a><a id="34704" href="Coherence.Hypotheses.html#34561" class="Bound">T</a> <a id="34706" class="Symbol">.</a><a id="34707" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="34715" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="34717" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="34719" class="Symbol">(</a><a id="34720" href="Coherence.Hypotheses.html#33887" class="Function">v</a> <a id="34722" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="34724" href="Coherence.Hypotheses.html#33891" class="Function">v′</a><a id="34726" class="Symbol">)</a> <a id="34728" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="34742" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="34745" href="Coherence.Hypotheses.html#33885" class="Function">A</a> <a id="34747" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="34748" class="Symbol">))</a>
    <a id="34755" class="Symbol">→</a> <a id="34757" class="Keyword">let</a>
        <a id="34769" class="Comment">-- (iii) broadcast transaction T, signed by A</a>
        <a id="34823" class="Symbol">_</a> <a id="34825" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="34827" href="Coherence.Hypotheses.html#34827" class="Bound">T</a> <a id="34829" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="34831" href="Coherence.Hypotheses.html#34831" class="Bound">B∈</a> <a id="34834" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="34836" class="Symbol">_</a>  <a id="34839" class="Symbol">=</a> <a id="34841" href="Coherence.Hypotheses.html#34543" class="Bound">∃B</a>
        <a id="34852" href="Coherence.Hypotheses.html#34852" class="Bound">m′</a> <a id="34855" class="Symbol">=</a> <a id="34857" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="34861" class="Symbol">(</a><a id="34862" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="34865" href="Coherence.Hypotheses.html#33885" class="Function">A</a><a id="34866" class="Symbol">)</a> <a id="34868" class="Symbol">(</a><a id="34869" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a> <a id="34873" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="34875" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="34878" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="34881" href="Coherence.Hypotheses.html#34827" class="Bound">T</a><a id="34882" class="Symbol">)</a>
        <a id="34892" href="Coherence.Hypotheses.html#34892" class="Bound">λᶜ</a> <a id="34895" class="Symbol">=</a> <a id="34897" href="Coherence.Hypotheses.html#34368" class="Bound">B</a> <a id="34899" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="34903" href="Coherence.Hypotheses.html#34852" class="Bound">m′</a>

        <a id="34915" class="Comment">-- (v) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="34973" class="Keyword">open</a> <a id="34978" href="Coherence.Hypotheses.html#34211" class="Module">H₁₀</a> <a id="34982" href="Coherence.Hypotheses.html#34353" class="Bound">h</a> <a id="34984" class="Keyword">using</a> <a id="34990" class="Symbol">(</a><a id="34991" href="Coherence.Hypotheses.html#34260" class="Function">λˢ</a><a id="34993" class="Symbol">)</a>
      <a id="35001" class="Keyword">in</a>
      <a id="35010" class="Comment">-- (iv) λᶜ is the first broadcast of m′ in Rᶜ after the first broadcast of T</a>
    <a id="35091" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="35093" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="35097" class="Symbol">(λ</a> <a id="35100" href="Coherence.Hypotheses.html#35100" class="Bound">l</a> <a id="35102" class="Symbol">→</a> <a id="35104" class="Symbol">∀</a> <a id="35106" href="Coherence.Hypotheses.html#35106" class="Bound">B</a> <a id="35108" class="Symbol">→</a> <a id="35110" href="Coherence.Hypotheses.html#35100" class="Bound">l</a> <a id="35112" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="35114" href="Coherence.Hypotheses.html#35106" class="Bound">B</a> <a id="35116" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="35120" href="Coherence.Hypotheses.html#34852" class="Bound">m′</a><a id="35122" class="Symbol">)</a> <a id="35124" class="Symbol">(</a><a id="35125" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="35135" href="Coherence.Hypotheses.html#34831" class="Bound">B∈</a><a id="35137" class="Symbol">)</a>
      <a id="35145" href="Prelude.InferenceRules.html#11142" class="Function Operator">────────────────────────────────────────────────────────────────────────────</a>
      <a id="35228" href="Coherence.Hypotheses.html#2181" class="Function">Γₜ″</a> <a id="35232" href="Coherence.Hypotheses.html#34310" class="Datatype Operator">⨾</a> <a id="35234" href="Coherence.Hypotheses.html#2120" class="Function">𝕣∗</a> <a id="35237" href="Coherence.Hypotheses.html#34310" class="Datatype Operator">⨾</a> <a id="35239" class="Symbol">(</a><a id="35240" href="Coherence.Hypotheses.html#2267" class="Function">𝕒</a> <a id="35242" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="35244" href="Coherence.Hypotheses.html#34260" class="Function">λˢ</a><a id="35246" class="Symbol">)</a> <a id="35248" href="Coherence.Hypotheses.html#34310" class="Datatype Operator">~ℍ[10]~</a> <a id="35256" href="Coherence.Hypotheses.html#34892" class="Bound">λᶜ</a> <a id="35259" href="Coherence.Hypotheses.html#34310" class="Datatype Operator">⨾</a> <a id="35261" href="Coherence.Hypotheses.html#2093" class="Function">Rᶜ</a>

<a id="35265" class="Comment">-- ** Deposits: join</a>
<a id="35286" class="Keyword">record</a> <a id="H₁₁-args"></a><a id="35293" href="Coherence.Hypotheses.html#35293" class="Record">H₁₁-args</a> <a id="35302" class="Symbol">:</a> <a id="35304" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="35309" class="Keyword">where</a>
  <a id="35317" class="Keyword">constructor</a> <a id="mk"></a><a id="35329" href="Coherence.Hypotheses.html#35329" class="InductiveConstructor">mk</a>
  <a id="35334" class="Keyword">field</a>
    <a id="35344" class="Symbol">{</a><a id="H₁₁-args.A"></a><a id="35345" href="Coherence.Hypotheses.html#35345" class="Field">A</a> <a id="H₁₁-args.v"></a><a id="35347" href="Coherence.Hypotheses.html#35347" class="Field">v</a> <a id="H₁₁-args.x"></a><a id="35349" href="Coherence.Hypotheses.html#35349" class="Field">x</a> <a id="H₁₁-args.v′"></a><a id="35351" href="Coherence.Hypotheses.html#35351" class="Field">v′</a> <a id="H₁₁-args.x′"></a><a id="35354" href="Coherence.Hypotheses.html#35354" class="Field">x′</a> <a id="H₁₁-args.y"></a><a id="35357" href="Coherence.Hypotheses.html#35357" class="Field">y</a> <a id="H₁₁-args.Γ₀"></a><a id="35359" href="Coherence.Hypotheses.html#35359" class="Field">Γ₀</a> <a id="H₁₁-args.t"></a><a id="35362" href="Coherence.Hypotheses.html#35362" class="Field">t</a><a id="35363" class="Symbol">}</a> <a id="35365" class="Symbol">:</a> <a id="35367" class="Symbol">_</a>
    <a id="35373" class="Comment">-- Hypotheses from [DEP-Join]</a>
    <a id="H₁₁-args.fresh-y"></a><a id="35407" href="Coherence.Hypotheses.html#35407" class="Field">fresh-y</a> <a id="35415" class="Symbol">:</a> <a id="35417" href="Coherence.Hypotheses.html#35357" class="Field">y</a> <a id="35419" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="35421" href="Coherence.Hypotheses.html#35349" class="Field">x</a> <a id="35423" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="35427" href="Coherence.Hypotheses.html#35354" class="Field">x′</a> <a id="35430" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="35432" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="35436" href="Coherence.Hypotheses.html#35359" class="Field">Γ₀</a>
  <a id="35441" class="Keyword">open</a> <a id="35446" href="Coherence.Hypotheses.html#1746" class="Module">Transition</a>
    <a id="35461" class="Symbol">(</a> <a id="35463" class="Symbol">(</a> <a id="35465" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="35467" href="Coherence.Hypotheses.html#35345" class="Field">A</a> <a id="35469" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="35473" href="Coherence.Hypotheses.html#35347" class="Field">v</a> <a id="35475" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="35479" href="Coherence.Hypotheses.html#35349" class="Field">x</a> <a id="35481" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="35483" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="35485" href="Coherence.Hypotheses.html#35345" class="Field">A</a> <a id="35487" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="35491" href="Coherence.Hypotheses.html#35351" class="Field">v′</a> <a id="35494" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="35498" href="Coherence.Hypotheses.html#35354" class="Field">x′</a>
      <a id="35507" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="35509" href="Coherence.Hypotheses.html#35345" class="Field">A</a> <a id="35511" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="35517" href="Coherence.Hypotheses.html#35349" class="Field">x</a> <a id="35519" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">↔</a> <a id="35521" href="Coherence.Hypotheses.html#35354" class="Field">x′</a> <a id="35524" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">▷⟨</a> <a id="35527" href="Coherence.Hypotheses.html#35345" class="Field">A</a> <a id="35529" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">,</a> <a id="35531" href="Coherence.Hypotheses.html#35347" class="Field">v</a> <a id="35533" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="35535" href="Coherence.Hypotheses.html#35351" class="Field">v′</a> <a id="35538" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">⟩</a> <a id="35540" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="35542" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="35544" href="Coherence.Hypotheses.html#35359" class="Field">Γ₀</a><a id="35546" class="Symbol">)</a> <a id="35548" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="35550" href="Coherence.Hypotheses.html#35362" class="Field">t</a>
      <a id="35558" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">——</a> <a id="35561" href="BitML.Semantics.Label.html#540" class="InductiveConstructor Operator">join⦅</a> <a id="35567" href="Coherence.Hypotheses.html#35349" class="Field">x</a> <a id="35569" href="BitML.Semantics.Label.html#540" class="InductiveConstructor Operator">↔</a> <a id="35571" href="Coherence.Hypotheses.html#35354" class="Field">x′</a> <a id="35574" href="BitML.Semantics.Label.html#540" class="InductiveConstructor Operator">⦆</a> <a id="35576" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">—→</a>
      <a id="35585" class="Symbol">(</a><a id="35586" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="35588" href="Coherence.Hypotheses.html#35345" class="Field">A</a> <a id="35590" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="35594" class="Symbol">(</a><a id="35595" href="Coherence.Hypotheses.html#35347" class="Field">v</a> <a id="35597" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="35599" href="Coherence.Hypotheses.html#35351" class="Field">v′</a><a id="35601" class="Symbol">)</a> <a id="35603" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="35607" href="Coherence.Hypotheses.html#35357" class="Field">y</a> <a id="35609" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="35611" href="Coherence.Hypotheses.html#35359" class="Field">Γ₀</a><a id="35613" class="Symbol">)</a> <a id="35615" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="35617" href="Coherence.Hypotheses.html#35362" class="Field">t</a>
    <a id="35623" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⊣</a> <a id="35625" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="35629" class="Symbol">(</a><a id="35630" href="BitML.Semantics.InferenceRules.html#1421" class="InductiveConstructor">[DEP-Join]</a> <a id="35641" href="Coherence.Hypotheses.html#35407" class="Field">fresh-y</a><a id="35648" class="Symbol">)</a>
    <a id="35654" class="Symbol">)</a> <a id="35656" class="Keyword">public</a> <a id="35663" class="Keyword">hiding</a> <a id="35670" class="Symbol">(</a><a id="35671" href="Coherence.Hypotheses.html#1823" class="Field">t</a><a id="35672" class="Symbol">)</a>
  <a id="35676" class="Keyword">field</a> <a id="H₁₁-args.𝕙r"></a><a id="35682" href="Coherence.Hypotheses.html#35682" class="Field">𝕙r</a> <a id="35685" class="Symbol">:</a> <a id="35687" href="Coherence.Hypotheses.html#1962" class="Record">ℍ-Run</a> <a id="35693" href="Coherence.Hypotheses.html#1933" class="Function">Γ→</a>
  <a id="35698" class="Keyword">open</a> <a id="35703" href="Coherence.Hypotheses.html#1962" class="Module">ℍ-Run</a> <a id="35709" href="Coherence.Hypotheses.html#35682" class="Field">𝕙r</a> <a id="35712" class="Keyword">public</a>

<a id="35720" class="Keyword">module</a> <a id="35727" href="Coherence.Hypotheses.html#35727" class="Module">H₁₁</a> <a id="35731" class="Symbol">(</a><a id="35732" href="Coherence.Hypotheses.html#35732" class="Bound">⋯</a> <a id="35734" class="Symbol">:</a> <a id="35736" href="Coherence.Hypotheses.html#35293" class="Record">H₁₁-args</a><a id="35744" class="Symbol">)</a> <a id="35746" class="Symbol">(</a><a id="35747" class="Keyword">let</a> <a id="35751" class="Keyword">open</a> <a id="35756" href="Coherence.Hypotheses.html#35293" class="Module">H₁₁-args</a> <a id="35765" href="Coherence.Hypotheses.html#35732" class="Bound">⋯</a><a id="35766" class="Symbol">)</a> <a id="35768" class="Symbol">(</a><a id="35769" href="Coherence.Hypotheses.html#35769" class="Bound">tx</a> <a id="35772" class="Symbol">:</a> <a id="35774" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a><a id="35782" class="Symbol">)</a> <a id="35784" class="Keyword">where</a>
  <a id="35792" class="Keyword">private</a>
    <a id="35804" href="Coherence.Hypotheses.html#35804" class="Function">txout↝</a> <a id="35811" class="Symbol">:</a> <a id="35813" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="35815" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="35818" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="35824" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="35826" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
    <a id="35833" href="Coherence.Hypotheses.html#35804" class="Function">txout↝</a> <a id="35840" href="Coherence.Hypotheses.html#35840" class="Bound">txout′</a> <a id="35847" class="Symbol">=</a> <a id="35849" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="35856" href="Coherence.Hypotheses.html#35357" class="Field">y</a> <a id="35858" href="Coherence.Hypotheses.html#35769" class="Bound">tx</a> <a id="35861" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="35863" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="35872" href="Coherence.Hypotheses.html#35840" class="Bound">txout′</a> <a id="35879" class="Symbol">(λ</a> <a id="35882" href="Coherence.Hypotheses.html#35882" class="Bound">x∈</a> <a id="35885" class="Symbol">→</a> <a id="35887" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a> <a id="35893" class="Symbol">(</a><a id="35894" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a> <a id="35900" href="Coherence.Hypotheses.html#35882" class="Bound">x∈</a><a id="35902" class="Symbol">))</a>

    <a id="35910" class="Comment">-- Γ″  = ∃Γ≈ .proj₁</a>
    <a id="35934" class="Comment">-- Γₜ″ = Γ″ at t′</a>

  <a id="35955" href="Coherence.Hypotheses.html#35955" class="Function">λˢ</a> <a id="35958" class="Symbol">:</a> <a id="35960" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="35963" href="Coherence.Hypotheses.html#1899" class="Function">Γₜ′</a>
  <a id="35969" href="Coherence.Hypotheses.html#35955" class="Function">λˢ</a> <a id="35972" class="Symbol">=</a> <a id="35974" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="35980" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="35982" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="35984" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="35987" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="35990" href="Coherence.Hypotheses.html#35804" class="Function">txout↝</a> <a id="35997" href="Function.Base.html#624" class="Function">id</a> <a id="36000" href="Function.Base.html#624" class="Function">id</a>

  <a id="36006" class="Comment">-- private</a>
  <a id="36019" class="Comment">--   𝕣′ : ℝ R′</a>
  <a id="36036" class="Comment">--   𝕣′ = ℝ-step 𝕣 (𝕒 , λˢ)</a>

  <a id="36067" class="Comment">-- module _ {c v x} where</a>
  <a id="36095" class="Comment">--   private</a>
  <a id="36110" class="Comment">--     c∈⇐ : R′ ≈⋯ ⟨ c , v ⟩at x ⋯</a>
  <a id="36147" class="Comment">--         → R  ≈⋯ ⟨ c , v ⟩at x ⋯</a>
  <a id="36184" class="Comment">--     c∈⇐ = ?</a>
    <a id="36203" class="Comment">-- abstract</a>
    <a id="36219" class="Comment">--   txoutEndC≡ : ∀ (c∈ : ⟨ c , v ⟩at x ∈ᶜ Γ″) →</a>
    <a id="36272" class="Comment">--     𝕣′ ∙txoutC c∈ ≡ 𝕣 ∙txoutC (c∈⇐ c∈)</a>
    <a id="36318" class="Comment">--   txoutEndC≡ c∈ =</a>
    <a id="36343" class="Comment">--     begin</a>
    <a id="36360" class="Comment">--       𝕣′ ∙txoutC c∈</a>
    <a id="36387" class="Comment">--     ≡⟨⟩</a>
    <a id="36402" class="Comment">--       𝕣′ ∙txoutEnd (c∈⇒x∈ (R′ ∙cfg) c∈)</a>
    <a id="36449" class="Comment">--     -- ≡⟨ cong (𝕣′ ∙txoutEnd_) $ sym $ H c∈ ⟩</a>
    <a id="36502" class="Comment">--     --   𝕣′ ∙txoutEnd (x∈⇒ $ c∈⇒x∈ (R ∙cfg) $ c∈⇐ c∈)</a>
    <a id="36563" class="Comment">--     -- ≡⟨ txoutEnd≡ (c∈⇒x∈ (R ∙cfg) $ c∈⇐ c∈) ⟩</a>
    <a id="36618" class="Comment">--     --   𝕣 ∙txoutEnd (c∈⇒x∈ (R ∙cfg) $ c∈⇐ c∈)</a>
    <a id="36672" class="Comment">--     ≡⟨ ? ⟩</a>
    <a id="36690" class="Comment">--       𝕣 ∙txoutC (c∈⇐ c∈)</a>
    <a id="36722" class="Comment">--     ∎ where open ≡-Reasoning</a>

<a id="36755" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[11]~_⨾_"></a><a id="36760" href="Coherence.Hypotheses.html#36760" class="Datatype Operator">_⨾_⨾_~ℍ[11]~_⨾_</a> <a id="36776" class="Symbol">:</a> <a id="36778" href="Coherence.Hypotheses.html#1606" class="Function">StepRel</a> <a id="36786" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[11]~_⨾_.mkℍ"></a><a id="36794" href="Coherence.Hypotheses.html#36794" class="InductiveConstructor">mkℍ</a> <a id="36798" class="Symbol">:</a> <a id="36800" class="Symbol">∀</a> <a id="36802" class="Symbol">{</a><a id="36803" href="Coherence.Hypotheses.html#36803" class="Bound">h</a> <a id="36805" class="Symbol">:</a> <a id="36807" href="Coherence.Hypotheses.html#35293" class="Record">H₁₁-args</a><a id="36815" class="Symbol">}</a>
    <a id="36821" class="Symbol">→</a> <a id="36823" class="Keyword">let</a>
        <a id="36835" class="Keyword">open</a> <a id="36840" href="Coherence.Hypotheses.html#35293" class="Module">H₁₁-args</a> <a id="36849" href="Coherence.Hypotheses.html#36803" class="Bound">h</a>

        <a id="36860" href="Coherence.Hypotheses.html#36860" class="Bound">n⊆</a> <a id="36863" class="Symbol">:</a> <a id="36865" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="36867" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="36870" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="36874" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="36876" href="Coherence.Hypotheses.html#2107" class="Function">Rˢ</a>
        <a id="36887" href="Coherence.Hypotheses.html#36860" class="Bound">n⊆</a>  <a id="36891" class="Symbol">=</a> <a id="36893" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="36906" href="Coherence.Hypotheses.html#2107" class="Function">Rˢ</a>
            <a id="36921" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="36923" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="36938" class="Symbol">_</a> <a id="36940" class="Symbol">{</a><a id="36941" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="36942" class="Symbol">}{</a><a id="36944" href="Coherence.Hypotheses.html#2107" class="Function">Rˢ</a> <a id="36947" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="36951" class="Symbol">}</a> <a id="36953" class="Symbol">(</a><a id="36954" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="36960" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="36962" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="36965" class="Symbol">.</a><a id="36966" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="36971" class="Symbol">)</a>

        <a id="36982" class="Comment">-- (ii) submit transaction T</a>
        <a id="37019" href="Coherence.Hypotheses.html#37019" class="Bound">T</a> <a id="37021" class="Symbol">:</a> <a id="37023" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
        <a id="37035" href="Coherence.Hypotheses.html#37019" class="Bound">T</a>  <a id="37038" class="Symbol">=</a> <a id="37040" class="Number">2</a> <a id="37042" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="37044" class="Number">1</a> <a id="37046" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="37048" href="Bitcoin.Tx.Crypto.html#1445" class="Function">sig⋆</a> <a id="37053" class="Symbol">(</a><a id="37054" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="37066" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="37068" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="37071" href="Coherence.Hypotheses.html#35345" class="Field">A</a> <a id="37073" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="37074" class="Symbol">)</a> <a id="37076" class="Keyword">record</a>
          <a id="37093" class="Symbol">{</a> <a id="37095" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="37103" class="Symbol">=</a> <a id="37105" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="37113" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="37117" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="37119" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="37126" class="Symbol">{</a><a id="37127" href="Coherence.Hypotheses.html#35349" class="Field">x</a><a id="37128" class="Symbol">}</a> <a id="37130" class="Symbol">(</a><a id="37131" href="Coherence.Hypotheses.html#36860" class="Bound">n⊆</a> <a id="37134" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a><a id="37135" class="Symbol">)</a> <a id="37137" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="37139" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="37146" class="Symbol">{</a><a id="37147" href="Coherence.Hypotheses.html#35354" class="Field">x′</a><a id="37149" class="Symbol">}</a> <a id="37151" class="Symbol">(</a><a id="37152" href="Coherence.Hypotheses.html#36860" class="Bound">n⊆</a> <a id="37155" href="Prelude.Membership.Patterns.html#144" class="InductiveConstructor">𝟙</a><a id="37156" class="Symbol">)</a> <a id="37158" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
          <a id="37170" class="Symbol">;</a> <a id="37172" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="37180" class="Symbol">=</a> <a id="37182" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
          <a id="37197" class="Symbol">;</a> <a id="37199" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="37207" class="Symbol">=</a> <a id="37209" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="37221" class="Number">0</a>
          <a id="37233" class="Symbol">;</a> <a id="37235" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="37243" class="Symbol">=</a> <a id="37245" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="37247" class="Symbol">(</a><a id="37248" href="Coherence.Hypotheses.html#35347" class="Field">v</a> <a id="37250" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="37252" href="Coherence.Hypotheses.html#35351" class="Field">v′</a><a id="37254" class="Symbol">)</a> <a id="37256" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="37270" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="37273" href="Coherence.Hypotheses.html#35345" class="Field">A</a> <a id="37275" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
          <a id="37287" class="Symbol">;</a> <a id="37289" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="37297" class="Symbol">=</a> <a id="37299" class="Number">0</a> <a id="37301" class="Symbol">}</a>
        <a id="37311" href="Coherence.Hypotheses.html#37311" class="Bound">λᶜ</a> <a id="37314" class="Symbol">=</a> <a id="37316" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="37323" href="Coherence.Hypotheses.html#37019" class="Bound">T</a>

        <a id="37334" class="Comment">-- (iii) extend txout′ with y↦T₀ (removing {x↦_;x′↦_}),</a>
        <a id="37398" class="Comment">--       sechash = sechash′, κ = κ′</a>
        <a id="37442" class="Keyword">open</a> <a id="37447" href="Coherence.Hypotheses.html#35727" class="Module">H₁₁</a> <a id="37451" href="Coherence.Hypotheses.html#36803" class="Bound">h</a> <a id="37453" class="Symbol">(</a><a id="37454" href="Coherence.Hypotheses.html#37019" class="Bound">T</a> <a id="37456" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="37459" class="Number">0</a><a id="37460" class="Symbol">)</a> <a id="37462" class="Keyword">using</a> <a id="37468" class="Symbol">(</a><a id="37469" href="Coherence.Hypotheses.html#35955" class="Function">λˢ</a><a id="37471" class="Symbol">)</a>
      <a id="37479" class="Keyword">in</a>
      <a id="37488" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="37548" href="Coherence.Hypotheses.html#2181" class="Function">Γₜ″</a> <a id="37552" href="Coherence.Hypotheses.html#36760" class="Datatype Operator">⨾</a> <a id="37554" href="Coherence.Hypotheses.html#2120" class="Function">𝕣∗</a> <a id="37557" href="Coherence.Hypotheses.html#36760" class="Datatype Operator">⨾</a> <a id="37559" class="Symbol">(</a><a id="37560" href="Coherence.Hypotheses.html#2267" class="Function">𝕒</a> <a id="37562" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="37564" href="Coherence.Hypotheses.html#35955" class="Function">λˢ</a><a id="37566" class="Symbol">)</a> <a id="37568" href="Coherence.Hypotheses.html#36760" class="Datatype Operator">~ℍ[11]~</a> <a id="37576" href="Coherence.Hypotheses.html#37311" class="Bound">λᶜ</a> <a id="37579" href="Coherence.Hypotheses.html#36760" class="Datatype Operator">⨾</a> <a id="37581" href="Coherence.Hypotheses.html#2093" class="Function">Rᶜ</a>

<a id="37585" class="Comment">-- ** Deposits: authorize divide (similar to [10])</a>
<a id="37636" class="Keyword">record</a> <a id="H₁₂-args"></a><a id="37643" href="Coherence.Hypotheses.html#37643" class="Record">H₁₂-args</a> <a id="37652" class="Symbol">:</a> <a id="37654" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="37659" class="Keyword">where</a>
  <a id="37667" class="Keyword">constructor</a> <a id="mk"></a><a id="37679" href="Coherence.Hypotheses.html#37679" class="InductiveConstructor">mk</a>
  <a id="37684" class="Keyword">field</a>
    <a id="37694" class="Symbol">{</a><a id="H₁₂-args.A"></a><a id="37695" href="Coherence.Hypotheses.html#37695" class="Field">A</a> <a id="H₁₂-args.v"></a><a id="37697" href="Coherence.Hypotheses.html#37697" class="Field">v</a> <a id="H₁₂-args.v′"></a><a id="37699" href="Coherence.Hypotheses.html#37699" class="Field">v′</a> <a id="H₁₂-args.x"></a><a id="37702" href="Coherence.Hypotheses.html#37702" class="Field">x</a> <a id="H₁₂-args.Γ₀"></a><a id="37704" href="Coherence.Hypotheses.html#37704" class="Field">Γ₀</a> <a id="H₁₂-args.t"></a><a id="37707" href="Coherence.Hypotheses.html#37707" class="Field">t</a><a id="37708" class="Symbol">}</a> <a id="37710" class="Symbol">:</a> <a id="37712" class="Symbol">_</a>
  <a id="37716" class="Keyword">open</a> <a id="37721" href="Coherence.Hypotheses.html#1746" class="Module">Transition</a>
    <a id="37736" class="Symbol">(</a> <a id="37738" class="Symbol">(</a><a id="37739" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="37741" href="Coherence.Hypotheses.html#37695" class="Field">A</a> <a id="37743" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="37747" class="Symbol">(</a><a id="37748" href="Coherence.Hypotheses.html#37697" class="Field">v</a> <a id="37750" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="37752" href="Coherence.Hypotheses.html#37699" class="Field">v′</a><a id="37754" class="Symbol">)</a> <a id="37756" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="37760" href="Coherence.Hypotheses.html#37702" class="Field">x</a> <a id="37762" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="37764" href="Coherence.Hypotheses.html#37704" class="Field">Γ₀</a><a id="37766" class="Symbol">)</a> <a id="37768" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="37770" href="Coherence.Hypotheses.html#37707" class="Field">t</a>
      <a id="37778" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">——</a> <a id="37781" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">auth-divide⦅</a> <a id="37794" href="Coherence.Hypotheses.html#37695" class="Field">A</a> <a id="37796" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">,</a> <a id="37798" href="Coherence.Hypotheses.html#37702" class="Field">x</a> <a id="37800" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">▷</a> <a id="37802" href="Coherence.Hypotheses.html#37697" class="Field">v</a> <a id="37804" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">,</a> <a id="37806" href="Coherence.Hypotheses.html#37699" class="Field">v′</a> <a id="37809" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">⦆</a> <a id="37811" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">—→</a>
      <a id="37820" class="Symbol">(</a><a id="37821" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="37823" href="Coherence.Hypotheses.html#37695" class="Field">A</a> <a id="37825" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="37829" class="Symbol">(</a><a id="37830" href="Coherence.Hypotheses.html#37697" class="Field">v</a> <a id="37832" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="37834" href="Coherence.Hypotheses.html#37699" class="Field">v′</a><a id="37836" class="Symbol">)</a> <a id="37838" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="37842" href="Coherence.Hypotheses.html#37702" class="Field">x</a> <a id="37844" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="37846" href="Coherence.Hypotheses.html#37695" class="Field">A</a> <a id="37848" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="37854" href="Coherence.Hypotheses.html#37702" class="Field">x</a> <a id="37856" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">▷⟨</a> <a id="37859" href="Coherence.Hypotheses.html#37695" class="Field">A</a> <a id="37861" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="37863" href="Coherence.Hypotheses.html#37697" class="Field">v</a> <a id="37865" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="37867" href="Coherence.Hypotheses.html#37699" class="Field">v′</a> <a id="37870" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">⟩</a> <a id="37872" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="37874" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="37876" href="Coherence.Hypotheses.html#37704" class="Field">Γ₀</a><a id="37878" class="Symbol">)</a> <a id="37880" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="37882" href="Coherence.Hypotheses.html#37707" class="Field">t</a>
    <a id="37888" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⊣</a> <a id="37890" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="37894" href="BitML.Semantics.InferenceRules.html#1683" class="InductiveConstructor">[DEP-AuthDivide]</a>
    <a id="37915" class="Symbol">)</a> <a id="37917" class="Keyword">public</a> <a id="37924" class="Keyword">hiding</a> <a id="37931" class="Symbol">(</a><a id="37932" href="Coherence.Hypotheses.html#1823" class="Field">t</a><a id="37933" class="Symbol">)</a>
  <a id="37937" class="Keyword">field</a> <a id="H₁₂-args.𝕙r"></a><a id="37943" href="Coherence.Hypotheses.html#37943" class="Field">𝕙r</a> <a id="37946" class="Symbol">:</a> <a id="37948" href="Coherence.Hypotheses.html#1962" class="Record">ℍ-Run</a> <a id="37954" href="Coherence.Hypotheses.html#1933" class="Function">Γ→</a>
  <a id="37959" class="Keyword">open</a> <a id="37964" href="Coherence.Hypotheses.html#1962" class="Module">ℍ-Run</a> <a id="37970" href="Coherence.Hypotheses.html#37943" class="Field">𝕙r</a> <a id="37973" class="Keyword">public</a>

<a id="37981" class="Keyword">module</a> <a id="37988" href="Coherence.Hypotheses.html#37988" class="Module">H₁₂</a> <a id="37992" class="Symbol">(</a><a id="37993" href="Coherence.Hypotheses.html#37993" class="Bound">⋯</a> <a id="37995" class="Symbol">:</a> <a id="37997" href="Coherence.Hypotheses.html#37643" class="Record">H₁₂-args</a><a id="38005" class="Symbol">)</a> <a id="38007" class="Symbol">(</a><a id="38008" class="Keyword">let</a> <a id="38012" class="Keyword">open</a> <a id="38017" href="Coherence.Hypotheses.html#37643" class="Module">H₁₂-args</a> <a id="38026" href="Coherence.Hypotheses.html#37993" class="Bound">⋯</a><a id="38027" class="Symbol">)</a> <a id="38029" class="Keyword">where</a>
  <a id="38037" href="Coherence.Hypotheses.html#38037" class="Function">λˢ</a> <a id="38040" class="Symbol">:</a> <a id="38042" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="38045" href="Coherence.Hypotheses.html#1899" class="Function">Γₜ′</a>
  <a id="38051" href="Coherence.Hypotheses.html#38037" class="Function">λˢ</a> <a id="38054" class="Symbol">=</a> <a id="38056" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="38062" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="38064" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="38066" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="38069" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="38072" href="Function.Base.html#624" class="Function">id</a> <a id="38075" href="Function.Base.html#624" class="Function">id</a> <a id="38078" href="Function.Base.html#624" class="Function">id</a>

<a id="38082" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[12]~_⨾_"></a><a id="38087" href="Coherence.Hypotheses.html#38087" class="Datatype Operator">_⨾_⨾_~ℍ[12]~_⨾_</a> <a id="38103" class="Symbol">:</a> <a id="38105" href="Coherence.Hypotheses.html#1606" class="Function">StepRel</a> <a id="38113" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[12]~_⨾_.mkℍ"></a><a id="38121" href="Coherence.Hypotheses.html#38121" class="InductiveConstructor">mkℍ</a> <a id="38125" class="Symbol">:</a> <a id="38127" class="Symbol">∀</a> <a id="38129" class="Symbol">{</a><a id="38130" href="Coherence.Hypotheses.html#38130" class="Bound">h</a> <a id="38132" class="Symbol">:</a> <a id="38134" href="Coherence.Hypotheses.html#37643" class="Record">H₁₂-args</a><a id="38142" class="Symbol">}</a> <a id="38144" class="Symbol">{</a><a id="38145" href="Coherence.Hypotheses.html#38145" class="Bound">B</a><a id="38146" class="Symbol">}</a>
    <a id="38152" class="Symbol">→</a> <a id="38154" class="Keyword">let</a>
        <a id="38166" class="Keyword">open</a> <a id="38171" href="Coherence.Hypotheses.html#37643" class="Module">H₁₂-args</a> <a id="38180" href="Coherence.Hypotheses.html#38130" class="Bound">h</a>

        <a id="38191" href="Coherence.Hypotheses.html#38191" class="Bound">n⊆</a> <a id="38194" class="Symbol">:</a> <a id="38196" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="38198" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="38201" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="38205" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="38207" href="Coherence.Hypotheses.html#2107" class="Function">Rˢ</a>
        <a id="38218" href="Coherence.Hypotheses.html#38191" class="Bound">n⊆</a>  <a id="38222" class="Symbol">=</a> <a id="38224" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="38237" href="Coherence.Hypotheses.html#2107" class="Function">Rˢ</a>
            <a id="38252" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="38254" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="38269" class="Symbol">_</a> <a id="38271" class="Symbol">{</a><a id="38272" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="38273" class="Symbol">}{</a><a id="38275" href="Coherence.Hypotheses.html#2107" class="Function">Rˢ</a> <a id="38278" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="38282" class="Symbol">}</a> <a id="38284" class="Symbol">(</a><a id="38285" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="38291" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="38293" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="38296" class="Symbol">.</a><a id="38297" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="38302" class="Symbol">)</a>
      <a id="38310" class="Keyword">in</a>
    <a id="38317" class="Symbol">∀</a> <a id="38319" class="Symbol">(</a><a id="38320" href="Coherence.Hypotheses.html#38320" class="Bound">∃B</a> <a id="38323" class="Symbol">:</a> <a id="38325" href="Data.Product.html#1378" class="Function">∃</a> <a id="38327" class="Symbol">λ</a> <a id="38329" href="Coherence.Hypotheses.html#38329" class="Bound">B</a> <a id="38331" class="Symbol">→</a> <a id="38333" href="Data.Product.html#1378" class="Function">∃</a> <a id="38335" class="Symbol">λ</a> <a id="38337" class="Symbol">(</a><a id="38338" href="Coherence.Hypotheses.html#38338" class="Bound">T</a> <a id="38340" class="Symbol">:</a> <a id="38342" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="38345" class="Number">1</a> <a id="38347" class="Number">2</a><a id="38348" class="Symbol">)</a> <a id="38350" class="Symbol">→</a>
         <a id="38361" class="Symbol">(</a><a id="38362" href="Coherence.Hypotheses.html#38329" class="Bound">B</a> <a id="38364" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="38368" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="38375" href="Coherence.Hypotheses.html#38338" class="Bound">T</a> <a id="38377" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="38379" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="38386" href="Coherence.Hypotheses.html#2093" class="Function">Rᶜ</a><a id="38388" class="Symbol">)</a>
       <a id="38397" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="38399" class="Symbol">(</a><a id="38400" href="Coherence.Hypotheses.html#38338" class="Bound">T</a> <a id="38402" class="Symbol">.</a><a id="38403" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="38411" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="38413" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="38415" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="38423" class="Symbol">(</a><a id="38424" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="38431" class="Symbol">{</a><a id="38432" href="Coherence.Hypotheses.html#37702" class="Function">x</a><a id="38433" class="Symbol">}</a> <a id="38435" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="38437" href="Coherence.Hypotheses.html#38191" class="Bound">n⊆</a> <a id="38440" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a><a id="38441" class="Symbol">)</a> <a id="38443" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="38444" class="Symbol">)</a>
       <a id="38453" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="38455" class="Symbol">(</a><a id="38456" href="Coherence.Hypotheses.html#38338" class="Bound">T</a> <a id="38458" class="Symbol">.</a><a id="38459" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="38467" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="38469" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="38471" href="Coherence.Hypotheses.html#37697" class="Function">v</a> <a id="38473" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="38487" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="38490" href="Coherence.Hypotheses.html#37695" class="Function">A</a> <a id="38492" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="38494" href="Coherence.Hypotheses.html#37699" class="Function">v′</a> <a id="38497" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="38511" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="38514" href="Coherence.Hypotheses.html#37695" class="Function">A</a> <a id="38516" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a><a id="38517" class="Symbol">))</a>
    <a id="38524" class="Symbol">→</a> <a id="38526" class="Keyword">let</a>
        <a id="38538" class="Comment">-- (iii) broadcast transaction T, signed by A</a>
        <a id="38592" class="Symbol">_</a> <a id="38594" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="38596" href="Coherence.Hypotheses.html#38596" class="Bound">T</a> <a id="38598" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="38600" href="Coherence.Hypotheses.html#38600" class="Bound">B∈</a> <a id="38603" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="38605" class="Symbol">_</a> <a id="38607" class="Symbol">=</a> <a id="38609" href="Coherence.Hypotheses.html#38320" class="Bound">∃B</a>
        <a id="38620" href="Coherence.Hypotheses.html#38620" class="Bound">m′</a> <a id="38623" class="Symbol">=</a> <a id="38625" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="38629" class="Symbol">(</a><a id="38630" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="38633" href="Coherence.Hypotheses.html#37695" class="Function">A</a><a id="38634" class="Symbol">)</a> <a id="38636" class="Symbol">(</a><a id="38637" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a> <a id="38641" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="38643" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="38646" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="38649" href="Coherence.Hypotheses.html#38596" class="Bound">T</a><a id="38650" class="Symbol">)</a>
        <a id="38660" href="Coherence.Hypotheses.html#38660" class="Bound">λᶜ</a> <a id="38663" class="Symbol">=</a> <a id="38665" href="Coherence.Hypotheses.html#38145" class="Bound">B</a> <a id="38667" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="38671" href="Coherence.Hypotheses.html#38620" class="Bound">m′</a>

        <a id="38683" class="Comment">-- (v) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="38741" class="Keyword">open</a> <a id="38746" href="Coherence.Hypotheses.html#37988" class="Module">H₁₂</a> <a id="38750" href="Coherence.Hypotheses.html#38130" class="Bound">h</a> <a id="38752" class="Keyword">using</a> <a id="38758" class="Symbol">(</a><a id="38759" href="Coherence.Hypotheses.html#38037" class="Function">λˢ</a><a id="38761" class="Symbol">)</a>
      <a id="38769" class="Keyword">in</a>

    <a id="38777" class="Comment">-- (iv) λᶜ is the first broadcast of m′ in Rᶜ after the first broadcast of T</a>
    <a id="38858" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="38860" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="38864" class="Symbol">(λ</a> <a id="38867" href="Coherence.Hypotheses.html#38867" class="Bound">l</a> <a id="38869" class="Symbol">→</a> <a id="38871" class="Symbol">∀</a> <a id="38873" href="Coherence.Hypotheses.html#38873" class="Bound">B</a> <a id="38875" class="Symbol">→</a> <a id="38877" href="Coherence.Hypotheses.html#38867" class="Bound">l</a> <a id="38879" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="38881" href="Coherence.Hypotheses.html#38873" class="Bound">B</a> <a id="38883" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="38887" href="Coherence.Hypotheses.html#38620" class="Bound">m′</a><a id="38889" class="Symbol">)</a> <a id="38891" class="Symbol">(</a><a id="38892" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="38902" href="Coherence.Hypotheses.html#38600" class="Bound">B∈</a><a id="38904" class="Symbol">)</a>

      <a id="38913" href="Prelude.InferenceRules.html#11978" class="Function Operator">─────────────────────────────────────────────────────────────────</a>
      <a id="38985" href="Coherence.Hypotheses.html#2181" class="Function">Γₜ″</a> <a id="38989" href="Coherence.Hypotheses.html#38087" class="Datatype Operator">⨾</a> <a id="38991" href="Coherence.Hypotheses.html#2120" class="Function">𝕣∗</a> <a id="38994" href="Coherence.Hypotheses.html#38087" class="Datatype Operator">⨾</a> <a id="38996" class="Symbol">(</a><a id="38997" href="Coherence.Hypotheses.html#2267" class="Function">𝕒</a> <a id="38999" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="39001" href="Coherence.Hypotheses.html#38037" class="Function">λˢ</a><a id="39003" class="Symbol">)</a> <a id="39005" href="Coherence.Hypotheses.html#38087" class="Datatype Operator">~ℍ[12]~</a> <a id="39013" href="Coherence.Hypotheses.html#38660" class="Bound">λᶜ</a> <a id="39016" href="Coherence.Hypotheses.html#38087" class="Datatype Operator">⨾</a> <a id="39018" href="Coherence.Hypotheses.html#2093" class="Function">Rᶜ</a>

<a id="39022" class="Comment">-- ** Deposits: divide (similar to [11])</a>
<a id="39063" class="Keyword">record</a> <a id="H₁₃-args"></a><a id="39070" href="Coherence.Hypotheses.html#39070" class="Record">H₁₃-args</a> <a id="39079" class="Symbol">:</a> <a id="39081" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="39086" class="Keyword">where</a>
  <a id="39094" class="Keyword">constructor</a> <a id="mk"></a><a id="39106" href="Coherence.Hypotheses.html#39106" class="InductiveConstructor">mk</a>
  <a id="39111" class="Keyword">field</a>
    <a id="39121" class="Symbol">{</a><a id="H₁₃-args.A"></a><a id="39122" href="Coherence.Hypotheses.html#39122" class="Field">A</a> <a id="H₁₃-args.v"></a><a id="39124" href="Coherence.Hypotheses.html#39124" class="Field">v</a> <a id="H₁₃-args.v′"></a><a id="39126" href="Coherence.Hypotheses.html#39126" class="Field">v′</a> <a id="H₁₃-args.x"></a><a id="39129" href="Coherence.Hypotheses.html#39129" class="Field">x</a> <a id="H₁₃-args.Γ₀"></a><a id="39131" href="Coherence.Hypotheses.html#39131" class="Field">Γ₀</a> <a id="H₁₃-args.y"></a><a id="39134" href="Coherence.Hypotheses.html#39134" class="Field">y</a> <a id="H₁₃-args.y′"></a><a id="39136" href="Coherence.Hypotheses.html#39136" class="Field">y′</a> <a id="H₁₃-args.t"></a><a id="39139" href="Coherence.Hypotheses.html#39139" class="Field">t</a><a id="39140" class="Symbol">}</a> <a id="39142" class="Symbol">:</a> <a id="39144" class="Symbol">_</a>
  <a id="39148" class="Keyword">field</a>
    <a id="39158" class="Comment">-- Hypotheses from [DEP-Divide]</a>
    <a id="H₁₃-args.fresh-ys"></a><a id="39194" href="Coherence.Hypotheses.html#39194" class="Field">fresh-ys</a> <a id="39203" class="Symbol">:</a> <a id="39205" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="39209" class="Symbol">(</a><a id="39210" href="Data.List.Membership.Setoid.html#945" class="Function Operator">_∉</a> <a id="39213" href="Coherence.Hypotheses.html#39129" class="Field">x</a> <a id="39215" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="39219" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="39223" href="Coherence.Hypotheses.html#39131" class="Field">Γ₀</a> <a id="39226" class="Symbol">)</a> <a id="39228" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="39230" href="Coherence.Hypotheses.html#39134" class="Field">y</a> <a id="39232" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="39234" href="Coherence.Hypotheses.html#39136" class="Field">y′</a> <a id="39237" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
  <a id="39241" class="Keyword">open</a> <a id="39246" href="Coherence.Hypotheses.html#1746" class="Module">Transition</a>
    <a id="39261" class="Symbol">(</a> <a id="39263" class="Symbol">(</a><a id="39264" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="39266" href="Coherence.Hypotheses.html#39122" class="Field">A</a> <a id="39268" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="39272" class="Symbol">(</a><a id="39273" href="Coherence.Hypotheses.html#39124" class="Field">v</a> <a id="39275" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="39277" href="Coherence.Hypotheses.html#39126" class="Field">v′</a><a id="39279" class="Symbol">)</a> <a id="39281" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="39285" href="Coherence.Hypotheses.html#39129" class="Field">x</a> <a id="39287" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="39289" href="Coherence.Hypotheses.html#39122" class="Field">A</a> <a id="39291" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="39297" href="Coherence.Hypotheses.html#39129" class="Field">x</a> <a id="39299" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">▷⟨</a> <a id="39302" href="Coherence.Hypotheses.html#39122" class="Field">A</a> <a id="39304" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="39306" href="Coherence.Hypotheses.html#39124" class="Field">v</a> <a id="39308" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="39310" href="Coherence.Hypotheses.html#39126" class="Field">v′</a> <a id="39313" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">⟩</a> <a id="39315" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="39317" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="39319" href="Coherence.Hypotheses.html#39131" class="Field">Γ₀</a><a id="39321" class="Symbol">)</a> <a id="39323" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="39325" href="Coherence.Hypotheses.html#39139" class="Field">t</a>
      <a id="39333" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">——</a> <a id="39336" href="BitML.Semantics.Label.html#662" class="InductiveConstructor Operator">divide⦅</a> <a id="39344" href="Coherence.Hypotheses.html#39129" class="Field">x</a> <a id="39346" href="BitML.Semantics.Label.html#662" class="InductiveConstructor Operator">▷</a> <a id="39348" href="Coherence.Hypotheses.html#39124" class="Field">v</a> <a id="39350" href="BitML.Semantics.Label.html#662" class="InductiveConstructor Operator">,</a> <a id="39352" href="Coherence.Hypotheses.html#39126" class="Field">v′</a> <a id="39355" href="BitML.Semantics.Label.html#662" class="InductiveConstructor Operator">⦆</a> <a id="39357" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">—→</a>
      <a id="39366" class="Symbol">(</a><a id="39367" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="39369" href="Coherence.Hypotheses.html#39122" class="Field">A</a> <a id="39371" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="39375" href="Coherence.Hypotheses.html#39124" class="Field">v</a> <a id="39377" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="39381" href="Coherence.Hypotheses.html#39134" class="Field">y</a> <a id="39383" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="39385" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="39387" href="Coherence.Hypotheses.html#39122" class="Field">A</a> <a id="39389" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="39393" href="Coherence.Hypotheses.html#39126" class="Field">v′</a> <a id="39396" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="39400" href="Coherence.Hypotheses.html#39136" class="Field">y′</a> <a id="39403" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="39405" href="Coherence.Hypotheses.html#39131" class="Field">Γ₀</a><a id="39407" class="Symbol">)</a> <a id="39409" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="39411" href="Coherence.Hypotheses.html#39139" class="Field">t</a>
    <a id="39417" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⊣</a> <a id="39419" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="39423" class="Symbol">(</a><a id="39424" href="BitML.Semantics.InferenceRules.html#1902" class="InductiveConstructor">[DEP-Divide]</a> <a id="39437" href="Coherence.Hypotheses.html#39194" class="Field">fresh-ys</a><a id="39445" class="Symbol">)</a>
    <a id="39451" class="Symbol">)</a> <a id="39453" class="Keyword">public</a> <a id="39460" class="Keyword">hiding</a> <a id="39467" class="Symbol">(</a><a id="39468" href="Coherence.Hypotheses.html#1823" class="Field">t</a><a id="39469" class="Symbol">)</a>
  <a id="39473" class="Keyword">field</a> <a id="H₁₃-args.𝕙r"></a><a id="39479" href="Coherence.Hypotheses.html#39479" class="Field">𝕙r</a> <a id="39482" class="Symbol">:</a> <a id="39484" href="Coherence.Hypotheses.html#1962" class="Record">ℍ-Run</a> <a id="39490" href="Coherence.Hypotheses.html#1933" class="Function">Γ→</a>
  <a id="39495" class="Keyword">open</a> <a id="39500" href="Coherence.Hypotheses.html#1962" class="Module">ℍ-Run</a> <a id="39506" href="Coherence.Hypotheses.html#39479" class="Field">𝕙r</a> <a id="39509" class="Keyword">public</a>

<a id="39517" class="Keyword">module</a> <a id="39524" href="Coherence.Hypotheses.html#39524" class="Module">H₁₃</a> <a id="39528" class="Symbol">(</a><a id="39529" href="Coherence.Hypotheses.html#39529" class="Bound">⋯</a> <a id="39531" class="Symbol">:</a> <a id="39533" href="Coherence.Hypotheses.html#39070" class="Record">H₁₃-args</a><a id="39541" class="Symbol">)</a> <a id="39543" class="Symbol">(</a><a id="39544" class="Keyword">let</a> <a id="39548" class="Keyword">open</a> <a id="39553" href="Coherence.Hypotheses.html#39070" class="Module">H₁₃-args</a> <a id="39562" href="Coherence.Hypotheses.html#39529" class="Bound">⋯</a><a id="39563" class="Symbol">)</a> <a id="39565" class="Symbol">(</a><a id="39566" href="Coherence.Hypotheses.html#39566" class="Bound">tx</a> <a id="39569" href="Coherence.Hypotheses.html#39569" class="Bound">tx′</a> <a id="39573" class="Symbol">:</a> <a id="39575" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a><a id="39583" class="Symbol">)</a> <a id="39585" class="Keyword">where</a>
  <a id="39593" href="Coherence.Hypotheses.html#39593" class="Function">λˢ</a> <a id="39596" class="Symbol">:</a> <a id="39598" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="39601" href="Coherence.Hypotheses.html#1899" class="Function">Γₜ′</a>
  <a id="39607" href="Coherence.Hypotheses.html#39593" class="Function">λˢ</a> <a id="39610" class="Symbol">=</a> <a id="39612" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="39618" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="39620" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="39622" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="39625" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="39628" href="Coherence.Hypotheses.html#39651" class="Function">txout↝</a> <a id="39635" href="Function.Base.html#624" class="Function">id</a> <a id="39638" href="Function.Base.html#624" class="Function">id</a>
    <a id="39645" class="Keyword">where</a> <a id="39651" href="Coherence.Hypotheses.html#39651" class="Function">txout↝</a> <a id="39658" class="Symbol">:</a> <a id="39660" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="39662" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="39665" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="39671" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="39673" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
          <a id="39686" href="Coherence.Hypotheses.html#39651" class="Function">txout↝</a> <a id="39693" href="Coherence.Hypotheses.html#39693" class="Bound">txout′</a> <a id="39700" class="Symbol">=</a> <a id="39702" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="39709" href="Coherence.Hypotheses.html#39134" class="Field">y</a> <a id="39711" href="Coherence.Hypotheses.html#39566" class="Bound">tx</a> <a id="39714" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="39716" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="39723" href="Coherence.Hypotheses.html#39136" class="Field">y′</a> <a id="39726" href="Coherence.Hypotheses.html#39569" class="Bound">tx′</a> <a id="39730" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="39732" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="39741" href="Coherence.Hypotheses.html#39693" class="Bound">txout′</a> <a id="39748" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a>

<a id="39755" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[13]~_⨾_"></a><a id="39760" href="Coherence.Hypotheses.html#39760" class="Datatype Operator">_⨾_⨾_~ℍ[13]~_⨾_</a> <a id="39776" class="Symbol">:</a> <a id="39778" href="Coherence.Hypotheses.html#1606" class="Function">StepRel</a> <a id="39786" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[13]~_⨾_.mkℍ"></a><a id="39794" href="Coherence.Hypotheses.html#39794" class="InductiveConstructor">mkℍ</a> <a id="39798" class="Symbol">:</a> <a id="39800" class="Symbol">∀</a> <a id="39802" class="Symbol">{</a><a id="39803" href="Coherence.Hypotheses.html#39803" class="Bound">h</a> <a id="39805" class="Symbol">:</a> <a id="39807" href="Coherence.Hypotheses.html#39070" class="Record">H₁₃-args</a><a id="39815" class="Symbol">}</a>
    <a id="39821" class="Symbol">→</a> <a id="39823" class="Keyword">let</a>
        <a id="39835" class="Keyword">open</a> <a id="39840" href="Coherence.Hypotheses.html#39070" class="Module">H₁₃-args</a> <a id="39849" href="Coherence.Hypotheses.html#39803" class="Bound">h</a>

        <a id="39860" href="Coherence.Hypotheses.html#39860" class="Bound">n⊆</a> <a id="39863" class="Symbol">:</a> <a id="39865" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="39867" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="39870" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="39874" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="39876" href="Coherence.Hypotheses.html#2107" class="Function">Rˢ</a>
        <a id="39887" href="Coherence.Hypotheses.html#39860" class="Bound">n⊆</a> <a id="39890" class="Symbol">=</a> <a id="39892" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="39905" href="Coherence.Hypotheses.html#2107" class="Function">Rˢ</a>
           <a id="39919" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="39921" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="39936" class="Symbol">_</a> <a id="39938" class="Symbol">{</a><a id="39939" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="39940" class="Symbol">}{</a><a id="39942" href="Coherence.Hypotheses.html#2107" class="Function">Rˢ</a> <a id="39945" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="39949" class="Symbol">}</a> <a id="39951" class="Symbol">(</a><a id="39952" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="39958" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="39960" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="39963" class="Symbol">.</a><a id="39964" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="39969" class="Symbol">)</a>

        <a id="39980" class="Comment">-- (iii) submit transaction T</a>
        <a id="40018" href="Coherence.Hypotheses.html#40018" class="Bound">T</a>  <a id="40021" class="Symbol">=</a> <a id="40023" class="Number">1</a> <a id="40025" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="40027" class="Number">2</a> <a id="40029" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="40031" href="Bitcoin.Tx.Crypto.html#1445" class="Function">sig⋆</a> <a id="40036" class="Symbol">(</a><a id="40037" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="40049" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="40051" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="40054" href="Coherence.Hypotheses.html#39122" class="Field">A</a> <a id="40056" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="40057" class="Symbol">)</a> <a id="40059" class="Keyword">record</a>
          <a id="40076" class="Symbol">{</a> <a id="40078" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="40086" class="Symbol">=</a> <a id="40088" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="40090" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="40098" class="Symbol">(</a><a id="40099" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="40106" class="Symbol">{</a><a id="40107" href="Coherence.Hypotheses.html#39129" class="Field">x</a><a id="40108" class="Symbol">}</a> <a id="40110" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="40112" href="Coherence.Hypotheses.html#39860" class="Bound">n⊆</a> <a id="40115" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a><a id="40116" class="Symbol">)</a> <a id="40118" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
          <a id="40130" class="Symbol">;</a> <a id="40132" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="40140" class="Symbol">=</a> <a id="40142" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
          <a id="40157" class="Symbol">;</a> <a id="40159" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="40167" class="Symbol">=</a> <a id="40169" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="40181" class="Number">0</a>
          <a id="40193" class="Symbol">;</a> <a id="40195" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="40203" class="Symbol">=</a> <a id="40205" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="40207" href="Coherence.Hypotheses.html#39124" class="Field">v</a> <a id="40209" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="40223" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="40226" href="Coherence.Hypotheses.html#39122" class="Field">A</a> <a id="40228" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="40230" href="Coherence.Hypotheses.html#39126" class="Field">v′</a> <a id="40233" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="40247" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="40250" href="Coherence.Hypotheses.html#39122" class="Field">A</a> <a id="40252" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
          <a id="40264" class="Symbol">;</a> <a id="40266" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="40274" class="Symbol">=</a> <a id="40276" class="Number">0</a> <a id="40278" class="Symbol">}</a>
        <a id="40288" href="Coherence.Hypotheses.html#40288" class="Bound">λᶜ</a> <a id="40291" class="Symbol">=</a> <a id="40293" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="40300" href="Coherence.Hypotheses.html#40018" class="Bound">T</a>

        <a id="40311" class="Comment">-- (v) extend txout′ with {y↦T₀, y′↦T₁} (removing x↦T₀),</a>
        <a id="40376" class="Comment">--     sechash = sechash′, κ = κ′</a>
        <a id="40418" class="Keyword">open</a> <a id="40423" href="Coherence.Hypotheses.html#39524" class="Module">H₁₃</a> <a id="40427" href="Coherence.Hypotheses.html#39803" class="Bound">h</a> <a id="40429" class="Symbol">(</a><a id="40430" href="Coherence.Hypotheses.html#40018" class="Bound">T</a> <a id="40432" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="40435" class="Number">0</a><a id="40436" class="Symbol">)</a> <a id="40438" class="Symbol">(</a><a id="40439" href="Coherence.Hypotheses.html#40018" class="Bound">T</a> <a id="40441" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="40444" class="Number">1</a><a id="40445" class="Symbol">)</a> <a id="40447" class="Keyword">using</a> <a id="40453" class="Symbol">(</a><a id="40454" href="Coherence.Hypotheses.html#39593" class="Function">λˢ</a><a id="40456" class="Symbol">)</a>
      <a id="40464" class="Keyword">in</a>
      <a id="40473" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="40533" href="Coherence.Hypotheses.html#2181" class="Function">Γₜ″</a> <a id="40537" href="Coherence.Hypotheses.html#39760" class="Datatype Operator">⨾</a> <a id="40539" href="Coherence.Hypotheses.html#2120" class="Function">𝕣∗</a> <a id="40542" href="Coherence.Hypotheses.html#39760" class="Datatype Operator">⨾</a> <a id="40544" class="Symbol">(</a><a id="40545" href="Coherence.Hypotheses.html#2267" class="Function">𝕒</a> <a id="40547" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="40549" href="Coherence.Hypotheses.html#39593" class="Function">λˢ</a><a id="40551" class="Symbol">)</a> <a id="40553" href="Coherence.Hypotheses.html#39760" class="Datatype Operator">~ℍ[13]~</a> <a id="40561" href="Coherence.Hypotheses.html#40288" class="Bound">λᶜ</a> <a id="40564" href="Coherence.Hypotheses.html#39760" class="Datatype Operator">⨾</a> <a id="40566" href="Coherence.Hypotheses.html#2093" class="Function">Rᶜ</a>

<a id="40570" class="Comment">-- ** Deposits: authorize donate (similar to [10])</a>
<a id="40621" class="Keyword">record</a> <a id="H₁₄-args"></a><a id="40628" href="Coherence.Hypotheses.html#40628" class="Record">H₁₄-args</a> <a id="40637" class="Symbol">:</a> <a id="40639" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="40644" class="Keyword">where</a>
  <a id="40652" class="Keyword">constructor</a> <a id="mk"></a><a id="40664" href="Coherence.Hypotheses.html#40664" class="InductiveConstructor">mk</a>
  <a id="40669" class="Keyword">field</a>
    <a id="40679" class="Symbol">{</a><a id="H₁₄-args.A"></a><a id="40680" href="Coherence.Hypotheses.html#40680" class="Field">A</a> <a id="H₁₄-args.v"></a><a id="40682" href="Coherence.Hypotheses.html#40682" class="Field">v</a> <a id="H₁₄-args.x"></a><a id="40684" href="Coherence.Hypotheses.html#40684" class="Field">x</a> <a id="H₁₄-args.Γ₀"></a><a id="40686" href="Coherence.Hypotheses.html#40686" class="Field">Γ₀</a> <a id="H₁₄-args.B′"></a><a id="40689" href="Coherence.Hypotheses.html#40689" class="Field">B′</a> <a id="H₁₄-args.t"></a><a id="40692" href="Coherence.Hypotheses.html#40692" class="Field">t</a><a id="40693" class="Symbol">}</a> <a id="40695" class="Symbol">:</a> <a id="40697" class="Symbol">_</a>
  <a id="40701" class="Keyword">open</a> <a id="40706" href="Coherence.Hypotheses.html#1746" class="Module">Transition</a>
    <a id="40721" class="Symbol">(</a> <a id="40723" class="Symbol">(</a><a id="40724" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="40726" href="Coherence.Hypotheses.html#40680" class="Field">A</a> <a id="40728" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="40732" href="Coherence.Hypotheses.html#40682" class="Field">v</a> <a id="40734" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="40738" href="Coherence.Hypotheses.html#40684" class="Field">x</a> <a id="40740" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="40742" href="Coherence.Hypotheses.html#40686" class="Field">Γ₀</a><a id="40744" class="Symbol">)</a> <a id="40746" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="40748" href="Coherence.Hypotheses.html#40692" class="Field">t</a>
      <a id="40756" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">——</a> <a id="40759" href="BitML.Semantics.Label.html#726" class="InductiveConstructor Operator">auth-donate⦅</a> <a id="40772" href="Coherence.Hypotheses.html#40680" class="Field">A</a> <a id="40774" href="BitML.Semantics.Label.html#726" class="InductiveConstructor Operator">,</a> <a id="40776" href="Coherence.Hypotheses.html#40684" class="Field">x</a> <a id="40778" href="BitML.Semantics.Label.html#726" class="InductiveConstructor Operator">▷ᵈ</a> <a id="40781" href="Coherence.Hypotheses.html#40689" class="Field">B′</a> <a id="40784" href="BitML.Semantics.Label.html#726" class="InductiveConstructor Operator">⦆</a> <a id="40786" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">—→</a>
      <a id="40795" class="Symbol">(</a><a id="40796" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="40798" href="Coherence.Hypotheses.html#40680" class="Field">A</a> <a id="40800" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="40804" href="Coherence.Hypotheses.html#40682" class="Field">v</a> <a id="40806" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="40810" href="Coherence.Hypotheses.html#40684" class="Field">x</a> <a id="40812" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="40814" href="Coherence.Hypotheses.html#40680" class="Field">A</a> <a id="40816" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="40822" href="Coherence.Hypotheses.html#40684" class="Field">x</a> <a id="40824" href="BitML.Semantics.Action.html#782" class="InductiveConstructor Operator">▷ᵈ</a> <a id="40827" href="Coherence.Hypotheses.html#40689" class="Field">B′</a> <a id="40830" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="40832" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="40834" href="Coherence.Hypotheses.html#40686" class="Field">Γ₀</a><a id="40836" class="Symbol">)</a> <a id="40838" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="40840" href="Coherence.Hypotheses.html#40692" class="Field">t</a>
    <a id="40846" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⊣</a> <a id="40848" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="40852" href="BitML.Semantics.InferenceRules.html#2170" class="InductiveConstructor">[DEP-AuthDonate]</a>
    <a id="40873" class="Symbol">)</a> <a id="40875" class="Keyword">public</a> <a id="40882" class="Keyword">hiding</a> <a id="40889" class="Symbol">(</a><a id="40890" href="Coherence.Hypotheses.html#1823" class="Field">t</a><a id="40891" class="Symbol">)</a>
  <a id="40895" class="Keyword">field</a> <a id="H₁₄-args.𝕙r"></a><a id="40901" href="Coherence.Hypotheses.html#40901" class="Field">𝕙r</a> <a id="40904" class="Symbol">:</a> <a id="40906" href="Coherence.Hypotheses.html#1962" class="Record">ℍ-Run</a> <a id="40912" href="Coherence.Hypotheses.html#1933" class="Function">Γ→</a>
  <a id="40917" class="Keyword">open</a> <a id="40922" href="Coherence.Hypotheses.html#1962" class="Module">ℍ-Run</a> <a id="40928" href="Coherence.Hypotheses.html#40901" class="Field">𝕙r</a> <a id="40931" class="Keyword">public</a>

<a id="40939" class="Keyword">module</a> <a id="40946" href="Coherence.Hypotheses.html#40946" class="Module">H₁₄</a> <a id="40950" class="Symbol">(</a><a id="40951" href="Coherence.Hypotheses.html#40951" class="Bound">⋯</a> <a id="40953" class="Symbol">:</a> <a id="40955" href="Coherence.Hypotheses.html#40628" class="Record">H₁₄-args</a><a id="40963" class="Symbol">)</a> <a id="40965" class="Symbol">(</a><a id="40966" class="Keyword">let</a> <a id="40970" class="Keyword">open</a> <a id="40975" href="Coherence.Hypotheses.html#40628" class="Module">H₁₄-args</a> <a id="40984" href="Coherence.Hypotheses.html#40951" class="Bound">⋯</a><a id="40985" class="Symbol">)</a> <a id="40987" class="Keyword">where</a>
  <a id="40995" href="Coherence.Hypotheses.html#40995" class="Function">λˢ</a> <a id="40998" class="Symbol">:</a> <a id="41000" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="41003" href="Coherence.Hypotheses.html#1899" class="Function">Γₜ′</a>
  <a id="41009" href="Coherence.Hypotheses.html#40995" class="Function">λˢ</a> <a id="41012" class="Symbol">=</a> <a id="41014" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="41020" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="41022" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="41024" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="41027" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="41030" href="Function.Base.html#624" class="Function">id</a> <a id="41033" href="Function.Base.html#624" class="Function">id</a> <a id="41036" href="Function.Base.html#624" class="Function">id</a>

<a id="41040" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[14]~_⨾_"></a><a id="41045" href="Coherence.Hypotheses.html#41045" class="Datatype Operator">_⨾_⨾_~ℍ[14]~_⨾_</a> <a id="41061" class="Symbol">:</a> <a id="41063" href="Coherence.Hypotheses.html#1606" class="Function">StepRel</a> <a id="41071" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[14]~_⨾_.mkℍ"></a><a id="41079" href="Coherence.Hypotheses.html#41079" class="InductiveConstructor">mkℍ</a> <a id="41083" class="Symbol">:</a> <a id="41085" class="Symbol">∀</a> <a id="41087" class="Symbol">{</a><a id="41088" href="Coherence.Hypotheses.html#41088" class="Bound">h</a> <a id="41090" class="Symbol">:</a> <a id="41092" href="Coherence.Hypotheses.html#40628" class="Record">H₁₄-args</a><a id="41100" class="Symbol">}</a> <a id="41102" class="Symbol">{</a><a id="41103" href="Coherence.Hypotheses.html#41103" class="Bound">B</a><a id="41104" class="Symbol">}</a>
    <a id="41110" class="Symbol">→</a> <a id="41112" class="Keyword">let</a>
        <a id="41124" class="Keyword">open</a> <a id="41129" href="Coherence.Hypotheses.html#40628" class="Module">H₁₄-args</a> <a id="41138" href="Coherence.Hypotheses.html#41088" class="Bound">h</a>

        <a id="41149" href="Coherence.Hypotheses.html#41149" class="Bound">n⊆</a> <a id="41152" class="Symbol">:</a> <a id="41154" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="41156" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="41159" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="41163" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="41165" href="Coherence.Hypotheses.html#2107" class="Function">Rˢ</a>
        <a id="41176" href="Coherence.Hypotheses.html#41149" class="Bound">n⊆</a>  <a id="41180" class="Symbol">=</a> <a id="41182" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="41195" href="Coherence.Hypotheses.html#2107" class="Function">Rˢ</a>
            <a id="41210" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="41212" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="41227" class="Symbol">_</a> <a id="41229" class="Symbol">{</a><a id="41230" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="41231" class="Symbol">}{</a><a id="41233" href="Coherence.Hypotheses.html#2107" class="Function">Rˢ</a> <a id="41236" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="41240" class="Symbol">}</a> <a id="41242" class="Symbol">(</a><a id="41243" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="41249" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="41251" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="41254" class="Symbol">.</a><a id="41255" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="41260" class="Symbol">)</a>
      <a id="41268" class="Keyword">in</a>
    <a id="41275" class="Symbol">∀</a> <a id="41277" class="Symbol">(</a><a id="41278" href="Coherence.Hypotheses.html#41278" class="Bound">∃B</a> <a id="41281" class="Symbol">:</a> <a id="41283" href="Data.Product.html#1378" class="Function">∃</a> <a id="41285" class="Symbol">λ</a> <a id="41287" href="Coherence.Hypotheses.html#41287" class="Bound">B</a> <a id="41289" class="Symbol">→</a> <a id="41291" href="Data.Product.html#1378" class="Function">∃</a> <a id="41293" class="Symbol">λ</a> <a id="41295" class="Symbol">(</a><a id="41296" href="Coherence.Hypotheses.html#41296" class="Bound">T</a> <a id="41298" class="Symbol">:</a> <a id="41300" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="41303" class="Number">1</a> <a id="41305" class="Number">1</a><a id="41306" class="Symbol">)</a> <a id="41308" class="Symbol">→</a>
         <a id="41319" class="Symbol">(</a><a id="41320" href="Coherence.Hypotheses.html#41287" class="Bound">B</a> <a id="41322" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="41326" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="41333" href="Coherence.Hypotheses.html#41296" class="Bound">T</a> <a id="41335" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="41337" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="41344" href="Coherence.Hypotheses.html#2093" class="Function">Rᶜ</a><a id="41346" class="Symbol">)</a>
       <a id="41355" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="41357" class="Symbol">(</a><a id="41358" href="Coherence.Hypotheses.html#41296" class="Bound">T</a> <a id="41360" class="Symbol">.</a><a id="41361" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="41369" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="41371" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="41373" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="41381" class="Symbol">(</a><a id="41382" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="41389" class="Symbol">{</a><a id="41390" href="Coherence.Hypotheses.html#40684" class="Function">x</a><a id="41391" class="Symbol">}</a> <a id="41393" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="41395" href="Coherence.Hypotheses.html#41149" class="Bound">n⊆</a> <a id="41398" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a><a id="41399" class="Symbol">)</a> <a id="41401" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="41402" class="Symbol">)</a>
       <a id="41411" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="41413" class="Symbol">(</a><a id="41414" href="Coherence.Hypotheses.html#41296" class="Bound">T</a> <a id="41416" class="Symbol">.</a><a id="41417" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="41425" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="41427" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="41429" href="Coherence.Hypotheses.html#40682" class="Function">v</a> <a id="41431" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="41445" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="41448" href="Coherence.Hypotheses.html#40689" class="Function">B′</a> <a id="41451" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="41452" class="Symbol">))</a>
    <a id="41459" class="Symbol">→</a> <a id="41461" class="Keyword">let</a>
        <a id="41473" class="Comment">-- (iii) broadcast transaction T, signed by A</a>
        <a id="41527" class="Symbol">_</a> <a id="41529" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="41531" href="Coherence.Hypotheses.html#41531" class="Bound">T</a> <a id="41533" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="41535" href="Coherence.Hypotheses.html#41535" class="Bound">B∈</a> <a id="41538" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="41540" class="Symbol">_</a> <a id="41542" class="Symbol">=</a> <a id="41544" href="Coherence.Hypotheses.html#41278" class="Bound">∃B</a>
        <a id="41555" href="Coherence.Hypotheses.html#41555" class="Bound">m′</a> <a id="41558" class="Symbol">=</a> <a id="41560" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="41564" class="Symbol">(</a><a id="41565" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="41568" href="Coherence.Hypotheses.html#40680" class="Function">A</a><a id="41569" class="Symbol">)</a> <a id="41571" class="Symbol">(</a><a id="41572" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a> <a id="41576" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="41578" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="41581" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="41584" href="Coherence.Hypotheses.html#41531" class="Bound">T</a><a id="41585" class="Symbol">)</a>
        <a id="41595" href="Coherence.Hypotheses.html#41595" class="Bound">λᶜ</a> <a id="41598" class="Symbol">=</a> <a id="41600" href="Coherence.Hypotheses.html#41103" class="Bound">B</a> <a id="41602" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="41606" href="Coherence.Hypotheses.html#41555" class="Bound">m′</a>

        <a id="41618" class="Comment">-- (v) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="41676" class="Keyword">open</a> <a id="41681" href="Coherence.Hypotheses.html#40946" class="Module">H₁₄</a> <a id="41685" href="Coherence.Hypotheses.html#41088" class="Bound">h</a> <a id="41687" class="Keyword">using</a> <a id="41693" class="Symbol">(</a><a id="41694" href="Coherence.Hypotheses.html#40995" class="Function">λˢ</a><a id="41696" class="Symbol">)</a>
      <a id="41704" class="Keyword">in</a>

    <a id="41712" class="Comment">-- (iv) λᶜ is the first broadcast of m′ in Rᶜ after the first broadcast of T</a>
    <a id="41793" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="41795" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="41799" class="Symbol">(λ</a> <a id="41802" href="Coherence.Hypotheses.html#41802" class="Bound">l</a> <a id="41804" class="Symbol">→</a> <a id="41806" class="Symbol">∀</a> <a id="41808" href="Coherence.Hypotheses.html#41808" class="Bound">B</a> <a id="41810" class="Symbol">→</a> <a id="41812" href="Coherence.Hypotheses.html#41802" class="Bound">l</a> <a id="41814" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="41816" href="Coherence.Hypotheses.html#41808" class="Bound">B</a> <a id="41818" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="41822" href="Coherence.Hypotheses.html#41555" class="Bound">m′</a><a id="41824" class="Symbol">)</a> <a id="41826" class="Symbol">(</a><a id="41827" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="41837" href="Coherence.Hypotheses.html#41535" class="Bound">B∈</a><a id="41839" class="Symbol">)</a>

      <a id="41848" href="Prelude.InferenceRules.html#12447" class="Function Operator">──────────────────────────────────────────────────────────</a>
      <a id="41913" href="Coherence.Hypotheses.html#2181" class="Function">Γₜ″</a> <a id="41917" href="Coherence.Hypotheses.html#41045" class="Datatype Operator">⨾</a> <a id="41919" href="Coherence.Hypotheses.html#2120" class="Function">𝕣∗</a> <a id="41922" href="Coherence.Hypotheses.html#41045" class="Datatype Operator">⨾</a> <a id="41924" class="Symbol">(</a><a id="41925" href="Coherence.Hypotheses.html#2267" class="Function">𝕒</a> <a id="41927" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="41929" href="Coherence.Hypotheses.html#40995" class="Function">λˢ</a><a id="41931" class="Symbol">)</a> <a id="41933" href="Coherence.Hypotheses.html#41045" class="Datatype Operator">~ℍ[14]~</a> <a id="41941" href="Coherence.Hypotheses.html#41595" class="Bound">λᶜ</a> <a id="41944" href="Coherence.Hypotheses.html#41045" class="Datatype Operator">⨾</a> <a id="41946" href="Coherence.Hypotheses.html#2093" class="Function">Rᶜ</a>

<a id="41950" class="Comment">-- ** Deposits: donate (similar to [11])</a>
<a id="41991" class="Keyword">record</a> <a id="H₁₅-args"></a><a id="41998" href="Coherence.Hypotheses.html#41998" class="Record">H₁₅-args</a> <a id="42007" class="Symbol">:</a> <a id="42009" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="42014" class="Keyword">where</a>
  <a id="42022" class="Keyword">constructor</a> <a id="mk"></a><a id="42034" href="Coherence.Hypotheses.html#42034" class="InductiveConstructor">mk</a>
  <a id="42039" class="Keyword">field</a>
    <a id="42049" class="Symbol">{</a><a id="H₁₅-args.A"></a><a id="42050" href="Coherence.Hypotheses.html#42050" class="Field">A</a> <a id="H₁₅-args.v"></a><a id="42052" href="Coherence.Hypotheses.html#42052" class="Field">v</a> <a id="H₁₅-args.x"></a><a id="42054" href="Coherence.Hypotheses.html#42054" class="Field">x</a> <a id="H₁₅-args.B′"></a><a id="42056" href="Coherence.Hypotheses.html#42056" class="Field">B′</a> <a id="H₁₅-args.Γ₀"></a><a id="42059" href="Coherence.Hypotheses.html#42059" class="Field">Γ₀</a> <a id="H₁₅-args.y"></a><a id="42062" href="Coherence.Hypotheses.html#42062" class="Field">y</a> <a id="H₁₅-args.t"></a><a id="42064" href="Coherence.Hypotheses.html#42064" class="Field">t</a><a id="42065" class="Symbol">}</a> <a id="42067" class="Symbol">:</a> <a id="42069" class="Symbol">_</a>
  <a id="42073" class="Keyword">field</a>
    <a id="42083" class="Comment">-- Hypotheses from [DEP-Donate]</a>
    <a id="H₁₅-args.fresh-y"></a><a id="42119" href="Coherence.Hypotheses.html#42119" class="Field">fresh-y</a> <a id="42127" class="Symbol">:</a> <a id="42129" href="Coherence.Hypotheses.html#42062" class="Field">y</a> <a id="42131" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="42133" href="Coherence.Hypotheses.html#42054" class="Field">x</a> <a id="42135" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="42139" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="42143" href="Coherence.Hypotheses.html#42059" class="Field">Γ₀</a>
  <a id="42148" class="Keyword">open</a> <a id="42153" href="Coherence.Hypotheses.html#1746" class="Module">Transition</a>
    <a id="42168" class="Symbol">(</a> <a id="42170" class="Symbol">(</a><a id="42171" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="42173" href="Coherence.Hypotheses.html#42050" class="Field">A</a> <a id="42175" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="42179" href="Coherence.Hypotheses.html#42052" class="Field">v</a> <a id="42181" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="42185" href="Coherence.Hypotheses.html#42054" class="Field">x</a> <a id="42187" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="42189" href="Coherence.Hypotheses.html#42050" class="Field">A</a> <a id="42191" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="42197" href="Coherence.Hypotheses.html#42054" class="Field">x</a> <a id="42199" href="BitML.Semantics.Action.html#782" class="InductiveConstructor Operator">▷ᵈ</a> <a id="42202" href="Coherence.Hypotheses.html#42056" class="Field">B′</a> <a id="42205" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="42207" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="42209" href="Coherence.Hypotheses.html#42059" class="Field">Γ₀</a><a id="42211" class="Symbol">)</a> <a id="42213" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="42215" href="Coherence.Hypotheses.html#42064" class="Field">t</a>
      <a id="42223" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">——</a> <a id="42226" href="BitML.Semantics.Label.html#798" class="InductiveConstructor Operator">donate⦅</a> <a id="42234" href="Coherence.Hypotheses.html#42054" class="Field">x</a> <a id="42236" href="BitML.Semantics.Label.html#798" class="InductiveConstructor Operator">▷ᵈ</a> <a id="42239" href="Coherence.Hypotheses.html#42056" class="Field">B′</a> <a id="42242" href="BitML.Semantics.Label.html#798" class="InductiveConstructor Operator">⦆</a> <a id="42244" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">—→</a>
      <a id="42253" class="Symbol">(</a><a id="42254" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="42256" href="Coherence.Hypotheses.html#42056" class="Field">B′</a> <a id="42259" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="42263" href="Coherence.Hypotheses.html#42052" class="Field">v</a> <a id="42265" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="42269" href="Coherence.Hypotheses.html#42062" class="Field">y</a> <a id="42271" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="42273" href="Coherence.Hypotheses.html#42059" class="Field">Γ₀</a><a id="42275" class="Symbol">)</a> <a id="42277" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="42279" href="Coherence.Hypotheses.html#42064" class="Field">t</a>
    <a id="42285" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⊣</a> <a id="42287" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="42291" class="Symbol">(</a><a id="42292" href="BitML.Semantics.InferenceRules.html#2342" class="InductiveConstructor">[DEP-Donate]</a> <a id="42305" href="Coherence.Hypotheses.html#42119" class="Field">fresh-y</a><a id="42312" class="Symbol">)</a>
    <a id="42318" class="Symbol">)</a> <a id="42320" class="Keyword">public</a> <a id="42327" class="Keyword">hiding</a> <a id="42334" class="Symbol">(</a><a id="42335" href="Coherence.Hypotheses.html#1823" class="Field">t</a><a id="42336" class="Symbol">)</a>
  <a id="42340" class="Keyword">field</a> <a id="H₁₅-args.𝕙r"></a><a id="42346" href="Coherence.Hypotheses.html#42346" class="Field">𝕙r</a> <a id="42349" class="Symbol">:</a> <a id="42351" href="Coherence.Hypotheses.html#1962" class="Record">ℍ-Run</a> <a id="42357" href="Coherence.Hypotheses.html#1933" class="Function">Γ→</a>
  <a id="42362" class="Keyword">open</a> <a id="42367" href="Coherence.Hypotheses.html#1962" class="Module">ℍ-Run</a> <a id="42373" href="Coherence.Hypotheses.html#42346" class="Field">𝕙r</a> <a id="42376" class="Keyword">public</a>

<a id="42384" class="Keyword">module</a> <a id="42391" href="Coherence.Hypotheses.html#42391" class="Module">H₁₅</a> <a id="42395" class="Symbol">(</a><a id="42396" href="Coherence.Hypotheses.html#42396" class="Bound">⋯</a> <a id="42398" class="Symbol">:</a> <a id="42400" href="Coherence.Hypotheses.html#41998" class="Record">H₁₅-args</a><a id="42408" class="Symbol">)</a> <a id="42410" class="Symbol">(</a><a id="42411" class="Keyword">let</a> <a id="42415" class="Keyword">open</a> <a id="42420" href="Coherence.Hypotheses.html#41998" class="Module">H₁₅-args</a> <a id="42429" href="Coherence.Hypotheses.html#42396" class="Bound">⋯</a><a id="42430" class="Symbol">)</a> <a id="42432" class="Symbol">(</a><a id="42433" href="Coherence.Hypotheses.html#42433" class="Bound">tx</a> <a id="42436" class="Symbol">:</a> <a id="42438" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a><a id="42446" class="Symbol">)</a> <a id="42448" class="Keyword">where</a>
  <a id="42456" href="Coherence.Hypotheses.html#42456" class="Function">λˢ</a> <a id="42459" class="Symbol">:</a> <a id="42461" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="42464" href="Coherence.Hypotheses.html#1899" class="Function">Γₜ′</a>
  <a id="42470" href="Coherence.Hypotheses.html#42456" class="Function">λˢ</a> <a id="42473" class="Symbol">=</a> <a id="42475" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="42481" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="42483" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="42485" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="42488" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="42491" href="Coherence.Hypotheses.html#42514" class="Function">txout↝</a> <a id="42498" href="Function.Base.html#624" class="Function">id</a> <a id="42501" href="Function.Base.html#624" class="Function">id</a>
    <a id="42508" class="Keyword">where</a> <a id="42514" href="Coherence.Hypotheses.html#42514" class="Function">txout↝</a> <a id="42521" class="Symbol">:</a> <a id="42523" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="42525" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="42528" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="42534" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="42536" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
          <a id="42549" href="Coherence.Hypotheses.html#42514" class="Function">txout↝</a> <a id="42556" href="Coherence.Hypotheses.html#42556" class="Bound">txout′</a> <a id="42563" class="Symbol">=</a> <a id="42565" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="42572" href="Coherence.Hypotheses.html#42062" class="Field">y</a> <a id="42574" href="Coherence.Hypotheses.html#42433" class="Bound">tx</a> <a id="42577" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="42579" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="42588" href="Coherence.Hypotheses.html#42556" class="Bound">txout′</a> <a id="42595" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a>

<a id="42602" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[15]~_⨾_"></a><a id="42607" href="Coherence.Hypotheses.html#42607" class="Datatype Operator">_⨾_⨾_~ℍ[15]~_⨾_</a> <a id="42623" class="Symbol">:</a> <a id="42625" href="Coherence.Hypotheses.html#1606" class="Function">StepRel</a> <a id="42633" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[15]~_⨾_.mkℍ"></a><a id="42641" href="Coherence.Hypotheses.html#42641" class="InductiveConstructor">mkℍ</a> <a id="42645" class="Symbol">:</a> <a id="42647" class="Symbol">∀</a> <a id="42649" class="Symbol">{</a><a id="42650" href="Coherence.Hypotheses.html#42650" class="Bound">h</a> <a id="42652" class="Symbol">:</a> <a id="42654" href="Coherence.Hypotheses.html#41998" class="Record">H₁₅-args</a><a id="42662" class="Symbol">}</a>
    <a id="42668" class="Symbol">→</a> <a id="42670" class="Keyword">let</a>
        <a id="42682" class="Keyword">open</a> <a id="42687" href="Coherence.Hypotheses.html#41998" class="Module">H₁₅-args</a> <a id="42696" href="Coherence.Hypotheses.html#42650" class="Bound">h</a>

        <a id="42707" href="Coherence.Hypotheses.html#42707" class="Bound">n⊆</a> <a id="42710" class="Symbol">:</a> <a id="42712" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="42714" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="42717" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="42721" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="42723" href="Coherence.Hypotheses.html#2107" class="Function">Rˢ</a>
        <a id="42734" href="Coherence.Hypotheses.html#42707" class="Bound">n⊆</a>  <a id="42738" class="Symbol">=</a> <a id="42740" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="42753" href="Coherence.Hypotheses.html#2107" class="Function">Rˢ</a>
            <a id="42768" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="42770" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="42785" class="Symbol">_</a> <a id="42787" class="Symbol">{</a><a id="42788" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="42789" class="Symbol">}{</a><a id="42791" href="Coherence.Hypotheses.html#2107" class="Function">Rˢ</a> <a id="42794" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="42798" class="Symbol">}</a> <a id="42800" class="Symbol">(</a><a id="42801" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="42807" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="42809" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="42812" class="Symbol">.</a><a id="42813" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="42818" class="Symbol">)</a>

        <a id="42829" class="Comment">-- (iii) submit transaction T</a>
        <a id="42867" href="Coherence.Hypotheses.html#42867" class="Bound">T</a>  <a id="42870" class="Symbol">=</a> <a id="42872" class="Number">1</a> <a id="42874" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="42876" class="Number">1</a> <a id="42878" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="42880" href="Bitcoin.Tx.Crypto.html#1445" class="Function">sig⋆</a> <a id="42885" class="Symbol">(</a><a id="42886" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="42898" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="42900" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="42903" href="Coherence.Hypotheses.html#42050" class="Field">A</a> <a id="42905" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="42906" class="Symbol">)</a> <a id="42908" class="Keyword">record</a>
          <a id="42925" class="Symbol">{</a> <a id="42927" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="42935" class="Symbol">=</a> <a id="42937" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="42939" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="42947" class="Symbol">(</a><a id="42948" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="42955" class="Symbol">{</a><a id="42956" href="Coherence.Hypotheses.html#42054" class="Field">x</a><a id="42957" class="Symbol">}</a> <a id="42959" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="42961" href="Coherence.Hypotheses.html#42707" class="Bound">n⊆</a> <a id="42964" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a><a id="42965" class="Symbol">)</a> <a id="42967" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
          <a id="42979" class="Symbol">;</a> <a id="42981" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="42989" class="Symbol">=</a> <a id="42991" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
          <a id="43006" class="Symbol">;</a> <a id="43008" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="43016" class="Symbol">=</a> <a id="43018" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="43030" class="Number">0</a>
          <a id="43042" class="Symbol">;</a> <a id="43044" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="43052" class="Symbol">=</a> <a id="43054" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="43056" href="Coherence.Hypotheses.html#42052" class="Field">v</a> <a id="43058" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="43072" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="43075" href="Coherence.Hypotheses.html#42056" class="Field">B′</a> <a id="43078" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
          <a id="43090" class="Symbol">;</a> <a id="43092" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="43100" class="Symbol">=</a> <a id="43102" class="Number">0</a> <a id="43104" class="Symbol">}</a>
        <a id="43114" href="Coherence.Hypotheses.html#43114" class="Bound">λᶜ</a> <a id="43117" class="Symbol">=</a> <a id="43119" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="43126" href="Coherence.Hypotheses.html#42867" class="Bound">T</a>

        <a id="43137" class="Comment">-- (v) extend txout′ with y↦T₀ (removing x↦T₀), sechash = sechash′, κ = κ′</a>
        <a id="43220" class="Keyword">open</a> <a id="43225" href="Coherence.Hypotheses.html#42391" class="Module">H₁₅</a> <a id="43229" href="Coherence.Hypotheses.html#42650" class="Bound">h</a> <a id="43231" class="Symbol">(</a><a id="43232" href="Coherence.Hypotheses.html#42867" class="Bound">T</a> <a id="43234" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="43237" class="Number">0</a><a id="43238" class="Symbol">)</a> <a id="43240" class="Keyword">using</a> <a id="43246" class="Symbol">(</a><a id="43247" href="Coherence.Hypotheses.html#42456" class="Function">λˢ</a><a id="43249" class="Symbol">)</a>
      <a id="43257" class="Keyword">in</a>
      <a id="43266" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="43326" href="Coherence.Hypotheses.html#2181" class="Function">Γₜ″</a> <a id="43330" href="Coherence.Hypotheses.html#42607" class="Datatype Operator">⨾</a> <a id="43332" href="Coherence.Hypotheses.html#2120" class="Function">𝕣∗</a> <a id="43335" href="Coherence.Hypotheses.html#42607" class="Datatype Operator">⨾</a> <a id="43337" class="Symbol">(</a><a id="43338" href="Coherence.Hypotheses.html#2267" class="Function">𝕒</a> <a id="43340" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="43342" href="Coherence.Hypotheses.html#42456" class="Function">λˢ</a><a id="43344" class="Symbol">)</a> <a id="43346" href="Coherence.Hypotheses.html#42607" class="Datatype Operator">~ℍ[15]~</a> <a id="43354" href="Coherence.Hypotheses.html#43114" class="Bound">λᶜ</a> <a id="43357" href="Coherence.Hypotheses.html#42607" class="Datatype Operator">⨾</a> <a id="43359" href="Coherence.Hypotheses.html#2093" class="Function">Rᶜ</a>

<a id="43363" class="Comment">-- ** Deposits: authorize destroy</a>
<a id="43397" class="Keyword">record</a> <a id="H₁₆-args"></a><a id="43404" href="Coherence.Hypotheses.html#43404" class="Record">H₁₆-args</a> <a id="43413" class="Symbol">:</a> <a id="43415" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="43420" class="Keyword">where</a>
  <a id="43428" class="Keyword">constructor</a> <a id="mk"></a><a id="43440" href="Coherence.Hypotheses.html#43440" class="InductiveConstructor">mk</a>
  <a id="43445" class="Keyword">field</a>
    <a id="43455" class="Symbol">{</a><a id="H₁₆-args.y"></a><a id="43456" href="Coherence.Hypotheses.html#43456" class="Field">y</a> <a id="H₁₆-args.Γ₀"></a><a id="43458" href="Coherence.Hypotheses.html#43458" class="Field">Γ₀</a> <a id="H₁₆-args.t"></a><a id="43461" href="Coherence.Hypotheses.html#43461" class="Field">t</a><a id="43462" class="Symbol">}</a> <a id="43464" class="Symbol">:</a> <a id="43466" class="Symbol">_</a>
    <a id="43472" class="Symbol">{</a><a id="H₁₆-args.ds"></a><a id="43473" href="Coherence.Hypotheses.html#43473" class="Field">ds</a><a id="43475" class="Symbol">}</a> <a id="43477" class="Symbol">:</a> <a id="43479" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a>
    <a id="H₁₆-args.j"></a><a id="43495" href="Coherence.Hypotheses.html#43495" class="Field">j</a> <a id="43497" class="Symbol">:</a> <a id="43499" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="43505" href="Coherence.Hypotheses.html#43473" class="Field">ds</a>
    <a id="43512" class="Comment">-- Hypotheses from [DEP-AuthDestroy]</a>
    <a id="H₁₆-args.fresh-y"></a><a id="43553" href="Coherence.Hypotheses.html#43553" class="Field">fresh-y</a> <a id="43561" class="Symbol">:</a> <a id="43563" href="Coherence.Hypotheses.html#43456" class="Field">y</a> <a id="43565" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="43567" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="43571" href="Coherence.Hypotheses.html#43458" class="Field">Γ₀</a>
  <a id="H₁₆-args.k"></a><a id="43576" href="Coherence.Hypotheses.html#43576" class="Function">k</a>  <a id="43579" class="Symbol">=</a> <a id="43581" href="Data.List.Base.html#4873" class="Function">length</a> <a id="43588" href="Coherence.Hypotheses.html#43473" class="Field">ds</a>
  <a id="H₁₆-args.A"></a><a id="43593" href="Coherence.Hypotheses.html#43593" class="Function">A</a>  <a id="43596" class="Symbol">=</a> <a id="43598" class="Symbol">(</a><a id="43599" href="Coherence.Hypotheses.html#43473" class="Field">ds</a> <a id="43602" href="Prelude.Lists.Indexed.html#650" class="Function Operator">‼</a> <a id="43604" href="Coherence.Hypotheses.html#43495" class="Field">j</a><a id="43605" class="Symbol">)</a> <a id="43607" class="Symbol">.</a><a id="43608" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₁₆-args.xs"></a><a id="43616" href="Coherence.Hypotheses.html#43616" class="Function">xs</a> <a id="43619" class="Symbol">=</a> <a id="43621" href="Data.List.Base.html#1553" class="Function">map</a> <a id="43625" class="Symbol">(</a><a id="43626" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="43632" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="43634" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="43639" class="Symbol">)</a> <a id="43641" href="Coherence.Hypotheses.html#43473" class="Field">ds</a>
  <a id="H₁₆-args.Δ"></a><a id="43646" href="Coherence.Hypotheses.html#43646" class="Function">Δ</a>  <a id="43649" class="Symbol">=</a> <a id="43651" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="43654" href="Data.List.Base.html#1553" class="Function">map</a> <a id="43658" class="Symbol">(</a><a id="43659" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="43668" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨_has_⟩at_</a><a id="43678" class="Symbol">)</a> <a id="43680" href="Coherence.Hypotheses.html#43473" class="Field">ds</a>
  <a id="H₁₆-args.j′"></a><a id="43685" href="Coherence.Hypotheses.html#43685" class="Function">j′</a> <a id="43688" class="Symbol">=</a> <a id="43690" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="43696" href="Coherence.Hypotheses.html#43616" class="Function">xs</a> <a id="43699" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="43701" href="Prelude.Lists.Indexed.html#9518" class="Function">‼-map</a> <a id="43707" class="Symbol">{</a><a id="43708" class="Argument">xs</a> <a id="43711" class="Symbol">=</a> <a id="43713" href="Coherence.Hypotheses.html#43473" class="Field">ds</a><a id="43715" class="Symbol">}</a> <a id="43717" href="Coherence.Hypotheses.html#43495" class="Field">j</a>
  <a id="43721" class="Keyword">open</a> <a id="43726" href="Coherence.Hypotheses.html#1746" class="Module">Transition</a>
    <a id="43741" class="Symbol">(</a> <a id="43743" class="Symbol">(</a><a id="43744" href="Coherence.Hypotheses.html#43646" class="Function">Δ</a> <a id="43746" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="43748" href="Coherence.Hypotheses.html#43458" class="Field">Γ₀</a><a id="43750" class="Symbol">)</a> <a id="43752" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="43754" href="Coherence.Hypotheses.html#43461" class="Field">t</a>
      <a id="43762" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">——</a> <a id="43765" href="BitML.Semantics.Label.html#856" class="InductiveConstructor Operator">auth-destroy⦅</a> <a id="43779" href="Coherence.Hypotheses.html#43593" class="Function">A</a> <a id="43781" href="BitML.Semantics.Label.html#856" class="InductiveConstructor Operator">,</a> <a id="43783" href="Coherence.Hypotheses.html#43616" class="Function">xs</a> <a id="43786" href="BitML.Semantics.Label.html#856" class="InductiveConstructor Operator">,</a> <a id="43788" href="Coherence.Hypotheses.html#43685" class="Function">j′</a> <a id="43791" href="BitML.Semantics.Label.html#856" class="InductiveConstructor Operator">⦆</a> <a id="43793" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">—→</a>
      <a id="43802" class="Symbol">(</a><a id="43803" href="Coherence.Hypotheses.html#43646" class="Function">Δ</a> <a id="43805" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="43807" href="Coherence.Hypotheses.html#43593" class="Function">A</a> <a id="43809" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="43815" href="Coherence.Hypotheses.html#43616" class="Function">xs</a> <a id="43818" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="43820" href="Coherence.Hypotheses.html#43685" class="Function">j′</a> <a id="43823" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="43827" href="Coherence.Hypotheses.html#43456" class="Field">y</a> <a id="43829" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="43831" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="43833" href="Coherence.Hypotheses.html#43458" class="Field">Γ₀</a><a id="43835" class="Symbol">)</a> <a id="43837" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="43839" href="Coherence.Hypotheses.html#43461" class="Field">t</a>
    <a id="43845" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⊣</a> <a id="43847" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="43851" class="Symbol">(</a><a id="43852" href="BitML.Semantics.InferenceRules.html#2530" class="InductiveConstructor">[DEP-AuthDestroy]</a> <a id="43870" href="Coherence.Hypotheses.html#43553" class="Field">fresh-y</a><a id="43877" class="Symbol">)</a>
    <a id="43883" class="Symbol">)</a> <a id="43885" class="Keyword">public</a> <a id="43892" class="Keyword">hiding</a> <a id="43899" class="Symbol">(</a><a id="43900" href="Coherence.Hypotheses.html#1823" class="Field">t</a><a id="43901" class="Symbol">)</a>
  <a id="43905" class="Keyword">field</a> <a id="H₁₆-args.𝕙r"></a><a id="43911" href="Coherence.Hypotheses.html#43911" class="Field">𝕙r</a> <a id="43914" class="Symbol">:</a> <a id="43916" href="Coherence.Hypotheses.html#1962" class="Record">ℍ-Run</a> <a id="43922" href="Coherence.Hypotheses.html#1933" class="Function">Γ→</a>
  <a id="43927" class="Keyword">open</a> <a id="43932" href="Coherence.Hypotheses.html#1962" class="Module">ℍ-Run</a> <a id="43938" href="Coherence.Hypotheses.html#43911" class="Field">𝕙r</a> <a id="43941" class="Keyword">public</a>

<a id="43949" class="Keyword">module</a> <a id="43956" href="Coherence.Hypotheses.html#43956" class="Module">H₁₆</a> <a id="43960" class="Symbol">(</a><a id="43961" href="Coherence.Hypotheses.html#43961" class="Bound">⋯</a> <a id="43963" class="Symbol">:</a> <a id="43965" href="Coherence.Hypotheses.html#43404" class="Record">H₁₆-args</a><a id="43973" class="Symbol">)</a> <a id="43975" class="Symbol">(</a><a id="43976" class="Keyword">let</a> <a id="43980" class="Keyword">open</a> <a id="43985" href="Coherence.Hypotheses.html#43404" class="Module">H₁₆-args</a> <a id="43994" href="Coherence.Hypotheses.html#43961" class="Bound">⋯</a><a id="43995" class="Symbol">)</a> <a id="43997" class="Keyword">where</a>
  <a id="44005" class="Comment">-- ** name resolution</a>
  <a id="44029" class="Keyword">abstract</a>
    <a id="44042" href="Coherence.Hypotheses.html#44042" class="Function">xs↦</a> <a id="44046" class="Symbol">:</a> <a id="44048" href="Coherence.Hypotheses.html#43616" class="Function">xs</a> <a id="44051" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="44053" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
    <a id="44066" href="Coherence.Hypotheses.html#44042" class="Function">xs↦</a> <a id="44070" class="Symbol">=</a> <a id="44072" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="44079" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="44081" href="Coherence.Hypotheses.html#44103" class="Function">xs⊆</a>
      <a id="44091" class="Keyword">where</a>
      <a id="44103" href="Coherence.Hypotheses.html#44103" class="Function">xs⊆</a> <a id="44107" class="Symbol">:</a> <a id="44109" href="Coherence.Hypotheses.html#43616" class="Function">xs</a> <a id="44112" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="44114" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="44118" href="Coherence.Hypotheses.html#2403" class="Function">R</a>
      <a id="44126" href="Coherence.Hypotheses.html#44103" class="Function">xs⊆</a> <a id="44130" class="Symbol">=</a> <a id="44132" href="Relation.Binary.Reasoning.Base.Double.html#2222" class="Function Operator">begin</a>
        <a id="44146" href="Coherence.Hypotheses.html#43616" class="Function">xs</a>           <a id="44159" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="44162" href="BitML.Semantics.Configurations.Helpers.html#16204" class="Function">namesʳ-∥map-authDestroy</a> <a id="44186" href="Coherence.Hypotheses.html#43473" class="Field">ds</a> <a id="44189" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="44199" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="44203" href="Coherence.Hypotheses.html#43646" class="Function">Δ</a>        <a id="44212" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="44215" href="Prelude.Lists.MapMaybe.html#9263" class="Function">mapMaybe-⊆</a> <a id="44226" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="44233" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="44235" href="BitML.Semantics.Configurations.Helpers.html#7992" class="Function">∈-collect-++⁺ˡ</a> <a id="44250" href="Coherence.Hypotheses.html#43646" class="Function">Δ</a> <a id="44252" href="Coherence.Hypotheses.html#43458" class="Field">Γ₀</a> <a id="44255" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="44265" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="44269" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>        <a id="44278" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="44281" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="44296" class="Symbol">_</a> <a id="44298" class="Symbol">{</a><a id="44299" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="44300" class="Symbol">}{</a><a id="44302" href="Coherence.Hypotheses.html#2403" class="Function">R</a> <a id="44304" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="44308" class="Symbol">}</a> <a id="44310" class="Symbol">(</a><a id="44311" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="44317" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="44319" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="44325" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a><a id="44327" class="Symbol">)</a> <a id="44329" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="44339" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="44343" class="Symbol">(</a><a id="44344" href="Coherence.Hypotheses.html#2403" class="Function">R</a> <a id="44346" class="Symbol">.</a><a id="44347" href="Prelude.Traces.html#568" class="Field">end</a><a id="44350" class="Symbol">)</a> <a id="44352" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="44355" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="44368" href="Coherence.Hypotheses.html#2403" class="Function">R</a> <a id="44370" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="44380" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="44384" href="Coherence.Hypotheses.html#2403" class="Function">R</a>        <a id="44393" href="Relation.Binary.Reasoning.Base.Double.html#3656" class="Function Operator">∎</a> <a id="44395" class="Keyword">where</a> <a id="44401" class="Keyword">open</a> <a id="44406" href="Data.List.Relation.Binary.Subset.Propositional.Properties.html#3760" class="Module">⊆-Reasoning</a> <a id="44418" href="BitML.BasicTypes.html#303" class="Function">Secret</a>
  <a id="44427" class="Comment">--</a>
  <a id="44432" class="Keyword">private</a>
    <a id="44444" href="Coherence.Hypotheses.html#44444" class="Function">names≡</a> <a id="44451" class="Symbol">:</a> <a id="44453" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="44456" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="44459" href="BitML.Contracts.Collections.html#4018" class="Function">names</a> <a id="44465" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="44467" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>
    <a id="44473" href="Coherence.Hypotheses.html#44444" class="Function">names≡</a> <a id="44480" class="Keyword">rewrite</a> <a id="44488" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="44507" class="Symbol">{</a><a id="44508" class="Argument">X</a> <a id="44510" class="Symbol">=</a> <a id="44512" href="BitML.BasicTypes.html#375" class="Function">Name</a><a id="44516" class="Symbol">}</a> <a id="44518" class="Symbol">(</a><a id="44519" href="Coherence.Hypotheses.html#43646" class="Function">Δ</a> <a id="44521" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="44523" href="Coherence.Hypotheses.html#43593" class="Function">A</a> <a id="44525" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="44531" href="Coherence.Hypotheses.html#43616" class="Function">xs</a> <a id="44534" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="44536" href="Coherence.Hypotheses.html#43685" class="Function">j′</a> <a id="44539" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="44543" href="Coherence.Hypotheses.html#43456" class="Field">y</a> <a id="44545" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="44546" class="Symbol">)</a> <a id="44548" href="Coherence.Hypotheses.html#43458" class="Field">Γ₀</a>
                <a id="44567" class="Symbol">|</a> <a id="44569" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="44588" class="Symbol">{</a><a id="44589" class="Argument">X</a> <a id="44591" class="Symbol">=</a> <a id="44593" href="BitML.BasicTypes.html#375" class="Function">Name</a><a id="44597" class="Symbol">}</a> <a id="44599" href="Coherence.Hypotheses.html#43646" class="Function">Δ</a> <a id="44601" class="Symbol">(</a><a id="44602" href="Coherence.Hypotheses.html#43593" class="Function">A</a> <a id="44604" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="44610" href="Coherence.Hypotheses.html#43616" class="Function">xs</a> <a id="44613" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="44615" href="Coherence.Hypotheses.html#43685" class="Function">j′</a> <a id="44618" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="44622" href="Coherence.Hypotheses.html#43456" class="Field">y</a> <a id="44624" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="44625" class="Symbol">)</a>
                <a id="44643" class="Symbol">|</a> <a id="44645" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="44660" class="Symbol">(</a><a id="44661" href="BitML.Contracts.Collections.html#4018" class="Function">names</a> <a id="44667" href="Coherence.Hypotheses.html#43646" class="Function">Δ</a><a id="44668" class="Symbol">)</a>
                <a id="44686" class="Symbol">=</a> <a id="44688" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="44692" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="44694" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="44713" class="Symbol">{</a><a id="44714" class="Argument">X</a> <a id="44716" class="Symbol">=</a> <a id="44718" href="BitML.BasicTypes.html#375" class="Function">Name</a><a id="44722" class="Symbol">}</a> <a id="44724" href="Coherence.Hypotheses.html#43646" class="Function">Δ</a> <a id="44726" href="Coherence.Hypotheses.html#43458" class="Field">Γ₀</a>

    <a id="44734" href="Coherence.Hypotheses.html#44734" class="Function">ids≡</a> <a id="44739" class="Symbol">:</a>  <a id="44742" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="44745" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="44748" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="44752" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="44754" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>
    <a id="44760" href="Coherence.Hypotheses.html#44734" class="Function">ids≡</a> <a id="44765" class="Symbol">=</a> <a id="44767" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="44772" href="Prelude.Lists.Core.html#2266" class="Function">filter₂</a> <a id="44780" href="Coherence.Hypotheses.html#44444" class="Function">names≡</a>

    <a id="44792" href="Coherence.Hypotheses.html#44792" class="Function">secrets≡</a> <a id="44801" class="Symbol">:</a> <a id="44803" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="44806" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="44809" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="44817" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="44819" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>
    <a id="44825" href="Coherence.Hypotheses.html#44792" class="Function">secrets≡</a> <a id="44834" class="Symbol">=</a> <a id="44836" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="44841" href="Prelude.Lists.Core.html#2207" class="Function">filter₁</a> <a id="44849" href="Coherence.Hypotheses.html#44444" class="Function">names≡</a>

    <a id="44861" href="Coherence.Hypotheses.html#44861" class="Function">ads≡</a> <a id="44866" class="Symbol">:</a> <a id="44868" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="44871" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="44874" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="44889" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="44891" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>
    <a id="44897" href="Coherence.Hypotheses.html#44861" class="Function">ads≡</a> <a id="44902" class="Keyword">rewrite</a> <a id="44910" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="44929" class="Symbol">{</a><a id="44930" class="Argument">X</a> <a id="44932" class="Symbol">=</a> <a id="44934" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="44936" class="Symbol">}</a> <a id="44938" class="Symbol">(</a><a id="44939" href="Coherence.Hypotheses.html#43646" class="Function">Δ</a> <a id="44941" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="44943" href="Coherence.Hypotheses.html#43593" class="Function">A</a> <a id="44945" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="44951" href="Coherence.Hypotheses.html#43616" class="Function">xs</a> <a id="44954" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="44956" href="Coherence.Hypotheses.html#43685" class="Function">j′</a> <a id="44959" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="44963" href="Coherence.Hypotheses.html#43456" class="Field">y</a> <a id="44965" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="44966" class="Symbol">)</a> <a id="44968" href="Coherence.Hypotheses.html#43458" class="Field">Γ₀</a>
              <a id="44985" class="Symbol">|</a> <a id="44987" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="45006" class="Symbol">{</a><a id="45007" class="Argument">X</a> <a id="45009" class="Symbol">=</a> <a id="45011" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="45013" class="Symbol">}</a> <a id="45015" href="Coherence.Hypotheses.html#43646" class="Function">Δ</a> <a id="45017" class="Symbol">(</a><a id="45018" href="Coherence.Hypotheses.html#43593" class="Function">A</a> <a id="45020" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="45026" href="Coherence.Hypotheses.html#43616" class="Function">xs</a> <a id="45029" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="45031" href="Coherence.Hypotheses.html#43685" class="Function">j′</a> <a id="45034" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="45038" href="Coherence.Hypotheses.html#43456" class="Field">y</a> <a id="45040" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="45041" class="Symbol">)</a>
              <a id="45057" class="Symbol">|</a> <a id="45059" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="45074" class="Symbol">(</a><a id="45075" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="45090" href="Coherence.Hypotheses.html#43646" class="Function">Δ</a><a id="45091" class="Symbol">)</a>
              <a id="45107" class="Symbol">=</a> <a id="45109" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="45113" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="45115" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="45134" class="Symbol">{</a><a id="45135" class="Argument">X</a> <a id="45137" class="Symbol">=</a> <a id="45139" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="45141" class="Symbol">}</a> <a id="45143" href="Coherence.Hypotheses.html#43646" class="Function">Δ</a> <a id="45145" href="Coherence.Hypotheses.html#43458" class="Field">Γ₀</a>

    <a id="45153" href="Coherence.Hypotheses.html#45153" class="Function">txout↝</a> <a id="45160" class="Symbol">:</a> <a id="45162" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="45164" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="45167" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="45173" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="45175" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
    <a id="45182" href="Coherence.Hypotheses.html#45153" class="Function">txout↝</a> <a id="45189" class="Symbol">=</a> <a id="45191" href="SymbolicModel.Mappings.html#3670" class="Function Operator">lift</a> <a id="45196" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="45198" href="SymbolicModel.Mappings.html#3670" class="Function Operator">—⟨</a> <a id="45201" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="45205" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⟩—</a> <a id="45208" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="45211" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⊣</a> <a id="45213" href="Coherence.Hypotheses.html#44734" class="Function">ids≡</a>

    <a id="45223" href="Coherence.Hypotheses.html#45223" class="Function">sechash↝</a> <a id="45232" class="Symbol">:</a> <a id="45234" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="45236" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="45239" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="45247" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="45249" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
    <a id="45256" href="Coherence.Hypotheses.html#45223" class="Function">sechash↝</a>  <a id="45266" class="Symbol">=</a> <a id="45268" href="SymbolicModel.Mappings.html#3670" class="Function Operator">lift</a> <a id="45273" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="45275" href="SymbolicModel.Mappings.html#3670" class="Function Operator">—⟨</a> <a id="45278" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="45286" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⟩—</a> <a id="45289" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="45292" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⊣</a> <a id="45294" href="Coherence.Hypotheses.html#44792" class="Function">secrets≡</a>

    <a id="45308" href="Coherence.Hypotheses.html#45308" class="Function">κ↝</a> <a id="45311" class="Symbol">:</a> <a id="45313" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="45315" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="45318" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="45321" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="45323" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
    <a id="45330" href="Coherence.Hypotheses.html#45308" class="Function">κ↝</a> <a id="45333" class="Symbol">=</a> <a id="45335" href="SymbolicModel.Mappings.html#3670" class="Function Operator">lift</a> <a id="45340" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="45342" href="SymbolicModel.Mappings.html#3670" class="Function Operator">—⟨</a> <a id="45345" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="45360" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⟩—</a> <a id="45363" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="45366" href="SymbolicModel.Mappings.html#3670" class="Function Operator">⊣</a> <a id="45368" href="Coherence.Hypotheses.html#44861" class="Function">ads≡</a>
  <a id="45375" href="Coherence.Hypotheses.html#45375" class="Function">λˢ</a> <a id="45378" class="Symbol">:</a> <a id="45380" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="45383" href="Coherence.Hypotheses.html#1899" class="Function">Γₜ′</a>
  <a id="45389" href="Coherence.Hypotheses.html#45375" class="Function">λˢ</a> <a id="45392" class="Symbol">=</a> <a id="45394" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="45400" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="45402" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="45404" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="45407" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="45410" href="Coherence.Hypotheses.html#45153" class="Function">txout↝</a> <a id="45417" href="Coherence.Hypotheses.html#45223" class="Function">sechash↝</a> <a id="45426" href="Coherence.Hypotheses.html#45308" class="Function">κ↝</a>

<a id="45430" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[16]~_⨾_"></a><a id="45435" href="Coherence.Hypotheses.html#45435" class="Datatype Operator">_⨾_⨾_~ℍ[16]~_⨾_</a> <a id="45451" class="Symbol">:</a> <a id="45453" href="Coherence.Hypotheses.html#1606" class="Function">StepRel</a> <a id="45461" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[16]~_⨾_.mkℍ"></a><a id="45469" href="Coherence.Hypotheses.html#45469" class="InductiveConstructor">mkℍ</a> <a id="45473" class="Symbol">:</a> <a id="45475" class="Symbol">∀</a> <a id="45477" class="Symbol">{</a><a id="45478" href="Coherence.Hypotheses.html#45478" class="Bound">h</a> <a id="45480" class="Symbol">:</a> <a id="45482" href="Coherence.Hypotheses.html#43404" class="Record">H₁₆-args</a><a id="45490" class="Symbol">}</a> <a id="45492" class="Symbol">{</a><a id="45493" href="Coherence.Hypotheses.html#45493" class="Bound">B</a><a id="45494" class="Symbol">}</a>
    <a id="45500" class="Symbol">→</a> <a id="45502" class="Keyword">let</a>
        <a id="45514" class="Comment">-- (ii) in Rˢ we find ⟨Bᵢ,vᵢ⟩yᵢ for i ∈ 1..k</a>
        <a id="45567" class="Keyword">open</a> <a id="45572" href="Coherence.Hypotheses.html#43404" class="Module">H₁₆-args</a> <a id="45581" href="Coherence.Hypotheses.html#45478" class="Bound">h</a>

        <a id="45592" class="Comment">-- (vii) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="45652" class="Keyword">open</a> <a id="45657" href="Coherence.Hypotheses.html#43956" class="Module">H₁₆</a> <a id="45661" href="Coherence.Hypotheses.html#45478" class="Bound">h</a> <a id="45663" class="Keyword">using</a> <a id="45669" class="Symbol">(</a><a id="45670" href="Coherence.Hypotheses.html#45375" class="Function">λˢ</a><a id="45672" class="Symbol">;</a> <a id="45674" href="Coherence.Hypotheses.html#44042" class="Function">xs↦</a><a id="45677" class="Symbol">)</a>
      <a id="45685" class="Keyword">in</a>
      <a id="45694" class="Comment">-- (iii) in Rᶜ we find B → ∗ ∶ T</a>
      <a id="45733" class="Comment">--       for some T having txout′(yᵢ) as inputs (+ possibly others)</a>
    <a id="45805" class="Symbol">∀</a> <a id="45807" class="Symbol">(</a><a id="45808" href="Coherence.Hypotheses.html#45808" class="Bound">∃B</a> <a id="45811" class="Symbol">:</a> <a id="45813" href="Data.Product.html#1378" class="Function">∃</a> <a id="45815" class="Symbol">λ</a> <a id="45817" href="Coherence.Hypotheses.html#45817" class="Bound">B</a> <a id="45819" class="Symbol">→</a> <a id="45821" href="Data.Product.html#1378" class="Function">∃</a> <a id="45823" class="Symbol">λ</a> <a id="45825" href="Coherence.Hypotheses.html#45825" class="Bound">T</a>  <a id="45828" class="Symbol">→</a>
         <a id="45839" class="Symbol">(</a><a id="45840" href="Coherence.Hypotheses.html#45817" class="Bound">B</a> <a id="45842" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="45846" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="45853" class="Symbol">(</a><a id="45854" href="Coherence.Hypotheses.html#45825" class="Bound">T</a> <a id="45856" class="Symbol">.</a><a id="45857" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="45863" class="Symbol">.</a><a id="45864" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="45869" class="Symbol">)</a> <a id="45871" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="45873" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="45880" href="Coherence.Hypotheses.html#2093" class="Function">Rᶜ</a><a id="45882" class="Symbol">)</a>
       <a id="45891" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="45893" class="Symbol">((</a><a id="45895" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="45903" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="45907" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="45913" href="Coherence.Hypotheses.html#44042" class="Function">xs↦</a><a id="45916" class="Symbol">)</a> <a id="45918" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="45920" href="Data.Vec.Base.html#7447" class="Function">V.toList</a> <a id="45929" class="Symbol">(</a><a id="45930" href="Bitcoin.Tx.Base.html#1401" class="Function">∃inputs</a> <a id="45938" href="Coherence.Hypotheses.html#45825" class="Bound">T</a><a id="45939" class="Symbol">)))</a>
    <a id="45947" class="Symbol">→</a> <a id="45949" class="Keyword">let</a>
        <a id="45961" class="Comment">-- (iv) broadcast transaction T, signed by A</a>
        <a id="46014" class="Symbol">_</a> <a id="46016" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="46018" href="Coherence.Hypotheses.html#46018" class="Bound">T</a> <a id="46020" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="46022" href="Coherence.Hypotheses.html#46022" class="Bound">B∈</a> <a id="46025" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="46027" class="Symbol">_</a> <a id="46029" class="Symbol">=</a> <a id="46031" href="Coherence.Hypotheses.html#45808" class="Bound">∃B</a>
        <a id="46042" href="Coherence.Hypotheses.html#46042" class="Bound">m</a>  <a id="46045" class="Symbol">=</a> <a id="46047" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="46051" class="Symbol">(</a><a id="46052" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="46055" href="Coherence.Hypotheses.html#43593" class="Function">A</a><a id="46056" class="Symbol">)</a> <a id="46058" href="Coherence.Hypotheses.html#46018" class="Bound">T</a>
        <a id="46068" href="Coherence.Hypotheses.html#46068" class="Bound">λᶜ</a> <a id="46071" class="Symbol">=</a> <a id="46073" href="Coherence.Hypotheses.html#45493" class="Bound">B</a> <a id="46075" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="46079" href="Coherence.Hypotheses.html#46042" class="Bound">m</a>
      <a id="46087" class="Keyword">in</a>

      <a id="46097" class="Comment">-- (v) λᶜ is the first broadcast of m in Rᶜ after the first broadcast of T</a>
    <a id="46176" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="46178" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="46182" class="Symbol">(λ</a> <a id="46185" href="Coherence.Hypotheses.html#46185" class="Bound">l</a> <a id="46187" class="Symbol">→</a> <a id="46189" class="Symbol">∀</a> <a id="46191" href="Coherence.Hypotheses.html#46191" class="Bound">B</a> <a id="46193" class="Symbol">→</a> <a id="46195" href="Coherence.Hypotheses.html#46185" class="Bound">l</a> <a id="46197" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="46199" href="Coherence.Hypotheses.html#46191" class="Bound">B</a> <a id="46201" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="46205" href="Coherence.Hypotheses.html#46042" class="Bound">m</a><a id="46206" class="Symbol">)</a> <a id="46208" class="Symbol">(</a><a id="46209" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="46219" href="Coherence.Hypotheses.html#46022" class="Bound">B∈</a><a id="46221" class="Symbol">)</a>

    <a id="46228" class="Comment">-- (vi) λᶜ does not correspond to any *other* symbolic move</a>
    <a id="46292" class="Comment">-- ∙ (∀ Γₜ′ (λˢ′ : 𝕃 Rˢ Γₜ′)</a>
    <a id="46325" class="Comment">--   → λˢ′ .proj₁ .proj₁ ≢ λˢ .proj₁ .proj₁</a>
    <a id="46373" class="Comment">--   → (Γₜ′ ∷ 𝕣∗ ⊣ λˢ′ ✓) ≁₁₁ (λᶜ ∷ Rᶜ ✓))</a>

      <a id="46423" href="Prelude.InferenceRules.html#12810" class="Function Operator">────────────────────────────────────────────────────</a>
      <a id="46482" href="Coherence.Hypotheses.html#2181" class="Function">Γₜ″</a> <a id="46486" href="Coherence.Hypotheses.html#45435" class="Datatype Operator">⨾</a> <a id="46488" href="Coherence.Hypotheses.html#2120" class="Function">𝕣∗</a> <a id="46491" href="Coherence.Hypotheses.html#45435" class="Datatype Operator">⨾</a> <a id="46493" class="Symbol">(</a><a id="46494" href="Coherence.Hypotheses.html#2267" class="Function">𝕒</a> <a id="46496" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="46498" href="Coherence.Hypotheses.html#45375" class="Function">λˢ</a><a id="46500" class="Symbol">)</a> <a id="46502" href="Coherence.Hypotheses.html#45435" class="Datatype Operator">~ℍ[16]~</a> <a id="46510" href="Coherence.Hypotheses.html#46068" class="Bound">λᶜ</a> <a id="46513" href="Coherence.Hypotheses.html#45435" class="Datatype Operator">⨾</a> <a id="46515" href="Coherence.Hypotheses.html#2093" class="Function">Rᶜ</a>

<a id="46519" class="Comment">-- ** Deposits: destroy</a>
<a id="46543" class="Keyword">record</a> <a id="H₁₇-args"></a><a id="46550" href="Coherence.Hypotheses.html#46550" class="Record">H₁₇-args</a> <a id="46559" class="Symbol">:</a> <a id="46561" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="46566" class="Keyword">where</a>
  <a id="46574" class="Keyword">constructor</a> <a id="mk"></a><a id="46586" href="Coherence.Hypotheses.html#46586" class="InductiveConstructor">mk</a>
  <a id="46591" class="Keyword">field</a>
    <a id="46601" class="Symbol">{</a><a id="H₁₇-args.Γ₀"></a><a id="46602" href="Coherence.Hypotheses.html#46602" class="Field">Γ₀</a> <a id="H₁₇-args.y"></a><a id="46605" href="Coherence.Hypotheses.html#46605" class="Field">y</a> <a id="H₁₇-args.t"></a><a id="46607" href="Coherence.Hypotheses.html#46607" class="Field">t</a><a id="46608" class="Symbol">}</a> <a id="46610" class="Symbol">:</a> <a id="46612" class="Symbol">_</a>
    <a id="46618" class="Symbol">{</a><a id="H₁₇-args.ds"></a><a id="46619" href="Coherence.Hypotheses.html#46619" class="Field">ds</a><a id="46621" class="Symbol">}</a> <a id="46623" class="Symbol">:</a> <a id="46625" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a>
    <a id="H₁₇-args.j"></a><a id="46641" href="Coherence.Hypotheses.html#46641" class="Field">j</a> <a id="46643" class="Symbol">:</a> <a id="46645" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="46651" href="Coherence.Hypotheses.html#46619" class="Field">ds</a>
  <a id="H₁₇-args.xs"></a><a id="46656" href="Coherence.Hypotheses.html#46656" class="Function">xs</a> <a id="46659" class="Symbol">=</a> <a id="46661" href="Data.List.Base.html#1553" class="Function">map</a> <a id="46665" class="Symbol">(</a><a id="46666" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="46672" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="46674" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="46679" class="Symbol">)</a> <a id="46681" href="Coherence.Hypotheses.html#46619" class="Field">ds</a>
  <a id="H₁₇-args.Δ"></a><a id="46686" href="Coherence.Hypotheses.html#46686" class="Function">Δ</a>  <a id="46689" class="Symbol">=</a> <a id="46691" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="46694" href="Function.Base.html#1563" class="Function">flip</a> <a id="46699" href="Data.List.Base.html#1553" class="Function">map</a> <a id="46703" class="Symbol">(</a><a id="46704" href="Prelude.Lists.Indexed.html#1568" class="Function">enumerate</a> <a id="46714" href="Coherence.Hypotheses.html#46619" class="Field">ds</a><a id="46716" class="Symbol">)</a> <a id="46718" class="Symbol">(λ{</a> <a id="46722" class="Symbol">(</a><a id="46723" href="Coherence.Hypotheses.html#46723" class="Bound">i</a> <a id="46725" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="46727" href="Coherence.Hypotheses.html#46727" class="Bound">Aᵢ</a> <a id="46730" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="46732" href="Coherence.Hypotheses.html#46732" class="Bound">vᵢ</a> <a id="46735" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="46737" href="Coherence.Hypotheses.html#46737" class="Bound">xᵢ</a><a id="46739" class="Symbol">)</a> <a id="46741" class="Symbol">→</a>
          <a id="46753" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="46755" href="Coherence.Hypotheses.html#46727" class="Bound">Aᵢ</a> <a id="46758" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="46762" href="Coherence.Hypotheses.html#46732" class="Bound">vᵢ</a> <a id="46765" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="46769" href="Coherence.Hypotheses.html#46737" class="Bound">xᵢ</a> <a id="46772" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="46774" href="Coherence.Hypotheses.html#46727" class="Bound">Aᵢ</a> <a id="46777" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="46783" href="Coherence.Hypotheses.html#46656" class="Function">xs</a> <a id="46786" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="46788" href="Prelude.Lists.Indexed.html#9518" class="Function">‼-map</a> <a id="46794" class="Symbol">{</a><a id="46795" class="Argument">xs</a> <a id="46798" class="Symbol">=</a> <a id="46800" href="Coherence.Hypotheses.html#46619" class="Field">ds</a><a id="46802" class="Symbol">}</a> <a id="46804" href="Coherence.Hypotheses.html#46723" class="Bound">i</a> <a id="46806" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="46810" href="Coherence.Hypotheses.html#46605" class="Field">y</a> <a id="46812" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="46814" class="Symbol">})</a>
  <a id="46819" class="Keyword">open</a> <a id="46824" href="Coherence.Hypotheses.html#1746" class="Module">Transition</a>
    <a id="46839" class="Symbol">(</a> <a id="46841" class="Symbol">(</a><a id="46842" href="Coherence.Hypotheses.html#46686" class="Function">Δ</a> <a id="46844" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="46846" href="Coherence.Hypotheses.html#46602" class="Field">Γ₀</a><a id="46848" class="Symbol">)</a> <a id="46850" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="46852" href="Coherence.Hypotheses.html#46607" class="Field">t</a>
      <a id="46860" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">——</a> <a id="46863" href="BitML.Semantics.Label.html#933" class="InductiveConstructor Operator">destroy⦅</a> <a id="46872" href="Coherence.Hypotheses.html#46656" class="Function">xs</a> <a id="46875" href="BitML.Semantics.Label.html#933" class="InductiveConstructor Operator">⦆</a> <a id="46877" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">—→</a>
      <a id="46886" href="Coherence.Hypotheses.html#46602" class="Field">Γ₀</a> <a id="46889" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="46891" href="Coherence.Hypotheses.html#46607" class="Field">t</a>
    <a id="46897" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⊣</a> <a id="46899" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="46903" href="BitML.Semantics.InferenceRules.html#2960" class="InductiveConstructor">[DEP-Destroy]</a>
    <a id="46921" class="Symbol">)</a> <a id="46923" class="Keyword">public</a> <a id="46930" class="Keyword">hiding</a> <a id="46937" class="Symbol">(</a><a id="46938" href="Coherence.Hypotheses.html#1823" class="Field">t</a><a id="46939" class="Symbol">)</a>
  <a id="46943" class="Keyword">field</a> <a id="H₁₇-args.𝕙r"></a><a id="46949" href="Coherence.Hypotheses.html#46949" class="Field">𝕙r</a> <a id="46952" class="Symbol">:</a> <a id="46954" href="Coherence.Hypotheses.html#1962" class="Record">ℍ-Run</a> <a id="46960" href="Coherence.Hypotheses.html#1933" class="Function">Γ→</a>
  <a id="46965" class="Keyword">open</a> <a id="46970" href="Coherence.Hypotheses.html#1962" class="Module">ℍ-Run</a> <a id="46976" href="Coherence.Hypotheses.html#46949" class="Field">𝕙r</a> <a id="46979" class="Keyword">public</a>

<a id="46987" class="Keyword">module</a> <a id="46994" href="Coherence.Hypotheses.html#46994" class="Module">H₁₇</a> <a id="46998" class="Symbol">(</a><a id="46999" href="Coherence.Hypotheses.html#46999" class="Bound">⋯</a> <a id="47001" class="Symbol">:</a> <a id="47003" href="Coherence.Hypotheses.html#46550" class="Record">H₁₇-args</a><a id="47011" class="Symbol">)</a> <a id="47013" class="Symbol">(</a><a id="47014" class="Keyword">let</a> <a id="47018" class="Keyword">open</a> <a id="47023" href="Coherence.Hypotheses.html#46550" class="Module">H₁₇-args</a> <a id="47032" href="Coherence.Hypotheses.html#46999" class="Bound">⋯</a><a id="47033" class="Symbol">)</a> <a id="47035" class="Keyword">where</a>
  <a id="47043" class="Comment">-- ** name resolution</a>
  <a id="47067" class="Keyword">abstract</a>
    <a id="47080" href="Coherence.Hypotheses.html#47080" class="Function">xs↦</a> <a id="47084" class="Symbol">:</a> <a id="47086" href="Coherence.Hypotheses.html#46656" class="Function">xs</a> <a id="47089" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="47091" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
    <a id="47104" href="Coherence.Hypotheses.html#47080" class="Function">xs↦</a> <a id="47108" class="Symbol">=</a> <a id="47110" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="47117" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="47119" href="Coherence.Hypotheses.html#47141" class="Function">xs⊆</a>
      <a id="47129" class="Keyword">where</a>
      <a id="47141" href="Coherence.Hypotheses.html#47141" class="Function">xs⊆</a> <a id="47145" class="Symbol">:</a> <a id="47147" href="Coherence.Hypotheses.html#46656" class="Function">xs</a> <a id="47150" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="47152" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="47156" href="Coherence.Hypotheses.html#2403" class="Function">R</a>
      <a id="47164" href="Coherence.Hypotheses.html#47141" class="Function">xs⊆</a> <a id="47168" class="Symbol">=</a> <a id="47170" href="Relation.Binary.Reasoning.Base.Double.html#2222" class="Function Operator">begin</a>
        <a id="47184" href="Coherence.Hypotheses.html#46656" class="Function">xs</a>           <a id="47197" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="47200" href="BitML.Semantics.Configurations.Helpers.html#17967" class="Function">namesʳ-∥map-destroy</a> <a id="47220" href="Coherence.Hypotheses.html#46619" class="Field">ds</a> <a id="47223" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="47233" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="47237" href="Coherence.Hypotheses.html#46686" class="Function">Δ</a>        <a id="47246" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="47249" href="Prelude.Lists.MapMaybe.html#9263" class="Function">mapMaybe-⊆</a> <a id="47260" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="47267" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="47269" href="BitML.Semantics.Configurations.Helpers.html#7992" class="Function">∈-collect-++⁺ˡ</a> <a id="47284" href="Coherence.Hypotheses.html#46686" class="Function">Δ</a> <a id="47286" href="Coherence.Hypotheses.html#46602" class="Field">Γ₀</a> <a id="47289" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="47299" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="47303" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>        <a id="47312" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="47315" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="47330" class="Symbol">_</a> <a id="47332" class="Symbol">{</a><a id="47333" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="47334" class="Symbol">}{</a><a id="47336" href="Coherence.Hypotheses.html#2403" class="Function">R</a> <a id="47338" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="47342" class="Symbol">}</a> <a id="47344" class="Symbol">(</a><a id="47345" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="47351" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="47353" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="47359" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a><a id="47361" class="Symbol">)</a> <a id="47363" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="47373" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="47377" class="Symbol">(</a><a id="47378" href="Coherence.Hypotheses.html#2403" class="Function">R</a> <a id="47380" class="Symbol">.</a><a id="47381" href="Prelude.Traces.html#568" class="Field">end</a><a id="47384" class="Symbol">)</a> <a id="47386" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="47389" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="47402" href="Coherence.Hypotheses.html#2403" class="Function">R</a> <a id="47404" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="47414" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="47418" href="Coherence.Hypotheses.html#2403" class="Function">R</a>        <a id="47427" href="Relation.Binary.Reasoning.Base.Double.html#3656" class="Function Operator">∎</a> <a id="47429" class="Keyword">where</a> <a id="47435" class="Keyword">open</a> <a id="47440" href="Data.List.Relation.Binary.Subset.Propositional.Properties.html#3760" class="Module">⊆-Reasoning</a> <a id="47452" href="BitML.BasicTypes.html#303" class="Function">Secret</a>
  <a id="47461" class="Comment">--</a>
  <a id="47466" class="Keyword">private</a>
    <a id="47478" href="Coherence.Hypotheses.html#47478" class="Function">secrets≡</a> <a id="47487" class="Symbol">:</a> <a id="47489" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="47497" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="47499" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="47501" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="47509" href="Coherence.Hypotheses.html#46686" class="Function">Δ</a> <a id="47511" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="47514" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="47522" href="Coherence.Hypotheses.html#46602" class="Field">Γ₀</a>
    <a id="47529" href="Coherence.Hypotheses.html#47478" class="Function">secrets≡</a> <a id="47538" class="Symbol">=</a> <a id="47540" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="47568" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="47575" href="Coherence.Hypotheses.html#46686" class="Function">Δ</a> <a id="47577" href="Coherence.Hypotheses.html#46602" class="Field">Γ₀</a>

    <a id="47585" href="Coherence.Hypotheses.html#47585" class="Function">ids≡</a> <a id="47590" class="Symbol">:</a> <a id="47592" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="47596" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="47598" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="47600" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="47604" href="Coherence.Hypotheses.html#46686" class="Function">Δ</a> <a id="47606" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="47609" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="47613" href="Coherence.Hypotheses.html#46602" class="Field">Γ₀</a>
    <a id="47620" href="Coherence.Hypotheses.html#47585" class="Function">ids≡</a> <a id="47625" class="Symbol">=</a> <a id="47627" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="47655" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="47662" href="Coherence.Hypotheses.html#46686" class="Function">Δ</a> <a id="47664" href="Coherence.Hypotheses.html#46602" class="Field">Γ₀</a>

    <a id="47672" href="Coherence.Hypotheses.html#47672" class="Function">txout↝</a> <a id="47679" class="Symbol">:</a> <a id="47681" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="47683" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="47686" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="47692" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="47694" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
    <a id="47701" href="Coherence.Hypotheses.html#47672" class="Function">txout↝</a> <a id="47708" href="Coherence.Hypotheses.html#47708" class="Bound">txout′</a> <a id="47715" class="Keyword">rewrite</a> <a id="47723" href="Coherence.Hypotheses.html#47585" class="Function">ids≡</a> <a id="47728" class="Symbol">=</a> <a id="47730" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="47739" href="Coherence.Hypotheses.html#47708" class="Bound">txout′</a> <a id="47746" class="Symbol">(</a><a id="47747" href="Data.List.Membership.Propositional.Properties.html#4054" class="Function">∈-++⁺ʳ</a> <a id="47754" class="Symbol">_)</a>

    <a id="47762" href="Coherence.Hypotheses.html#47762" class="Function">sechash↝</a> <a id="47771" class="Symbol">:</a> <a id="47773" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="47775" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="47778" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="47786" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="47788" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
    <a id="47795" href="Coherence.Hypotheses.html#47762" class="Function">sechash↝</a> <a id="47804" href="Coherence.Hypotheses.html#47804" class="Bound">sechash′</a> <a id="47813" class="Keyword">rewrite</a> <a id="47821" href="Coherence.Hypotheses.html#47478" class="Function">secrets≡</a> <a id="47830" class="Symbol">=</a> <a id="47832" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="47841" href="Coherence.Hypotheses.html#47804" class="Bound">sechash′</a> <a id="47850" class="Symbol">(</a><a id="47851" href="Data.List.Membership.Propositional.Properties.html#4054" class="Function">∈-++⁺ʳ</a> <a id="47858" class="Symbol">_)</a>

    <a id="47866" href="Coherence.Hypotheses.html#47866" class="Function">κ↝</a> <a id="47869" class="Symbol">:</a> <a id="47871" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="47873" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="47876" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="47879" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="47881" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
    <a id="47888" href="Coherence.Hypotheses.html#47866" class="Function">κ↝</a> <a id="47891" href="Coherence.Hypotheses.html#47891" class="Bound">κ′</a> <a id="47894" class="Symbol">=</a> <a id="47896" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="47905" href="Coherence.Hypotheses.html#47891" class="Bound">κ′</a> <a id="47908" class="Symbol">(</a><a id="47909" href="BitML.Semantics.Configurations.Helpers.html#8196" class="Function">∈-collect-++⁺ʳ</a> <a id="47924" href="Coherence.Hypotheses.html#46686" class="Function">Δ</a> <a id="47926" href="Coherence.Hypotheses.html#46602" class="Field">Γ₀</a><a id="47928" class="Symbol">)</a>

  <a id="47933" href="Coherence.Hypotheses.html#47933" class="Function">λˢ</a> <a id="47936" class="Symbol">:</a> <a id="47938" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="47941" href="Coherence.Hypotheses.html#1899" class="Function">Γₜ′</a>
  <a id="47947" href="Coherence.Hypotheses.html#47933" class="Function">λˢ</a> <a id="47950" class="Symbol">=</a> <a id="47952" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="47958" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="47960" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a> <a id="47962" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="47965" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="47968" href="Coherence.Hypotheses.html#47672" class="Function">txout↝</a> <a id="47975" href="Coherence.Hypotheses.html#47762" class="Function">sechash↝</a> <a id="47984" href="Coherence.Hypotheses.html#47866" class="Function">κ↝</a>
  <a id="47989" class="Keyword">private</a>
    <a id="48001" href="Coherence.Hypotheses.html#48001" class="Function">𝕣′</a> <a id="48004" class="Symbol">:</a> <a id="48006" href="SymbolicModel.Mappings.html#933" class="Function">ℝ</a> <a id="48008" href="Coherence.Hypotheses.html#2411" class="Function">R′</a>
    <a id="48015" href="Coherence.Hypotheses.html#48001" class="Function">𝕣′</a> <a id="48018" class="Symbol">=</a> <a id="48020" href="SymbolicModel.Mappings.html#5830" class="Function">ℝ-step</a> <a id="48027" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="48029" class="Symbol">(</a><a id="48030" href="Coherence.Hypotheses.html#2267" class="Function">𝕒</a> <a id="48032" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="48034" href="Coherence.Hypotheses.html#47933" class="Function">λˢ</a><a id="48036" class="Symbol">)</a>
  <a id="48040" class="Keyword">abstract</a>
    <a id="48053" href="Coherence.Hypotheses.html#48053" class="Function">value-preserving⇒</a> <a id="48071" class="Symbol">:</a>
      <a id="48079" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="48096" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a>
      <a id="48104" href="Prelude.InferenceRules.html#14163" class="Function Operator">───────────────────</a>
      <a id="48130" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="48147" href="Coherence.Hypotheses.html#48001" class="Function">𝕣′</a>
    <a id="48154" href="Coherence.Hypotheses.html#48053" class="Function">value-preserving⇒</a> <a id="48172" href="Coherence.Hypotheses.html#48172" class="Bound">pv-txout</a> <a id="48181" class="Symbol">=</a> <a id="48183" href="Coherence.Hypotheses.html#48960" class="Function">pv-txout′</a>
      <a id="48199" class="Keyword">where</a>
        <a id="48213" class="Keyword">open</a> <a id="48218" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

        <a id="48239" href="Coherence.Hypotheses.html#48239" class="Function">txoutΓ</a> <a id="48246" class="Symbol">:</a> <a id="48248" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="48254" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a>
        <a id="48264" href="Coherence.Hypotheses.html#48239" class="Function">txoutΓ</a> <a id="48271" class="Symbol">=</a> <a id="48273" href="SymbolicModel.Mappings.html#1992" class="Function">Txout≈</a> <a id="48280" class="Symbol">{</a><a id="48281" href="Coherence.Hypotheses.html#2403" class="Function">R</a> <a id="48283" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="48287" class="Symbol">}{</a><a id="48289" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="48290" class="Symbol">}</a> <a id="48292" class="Symbol">(</a><a id="48293" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="48296" class="Symbol">.</a><a id="48297" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="48302" class="Symbol">)</a> <a id="48304" class="Symbol">(</a><a id="48305" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="48307" href="SymbolicModel.Mappings.html#9038" class="Function Operator">∙txoutEnd_</a><a id="48317" class="Symbol">)</a>

        <a id="48328" href="Coherence.Hypotheses.html#48328" class="Function">pv-txoutΓ</a> <a id="48338" class="Symbol">:</a> <a id="48340" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="48356" class="Symbol">{</a><a id="48357" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="48358" class="Symbol">}</a> <a id="48360" href="Coherence.Hypotheses.html#48239" class="Function">txoutΓ</a>
        <a id="48375" href="Coherence.Hypotheses.html#48328" class="Function">pv-txoutΓ</a> <a id="48385" class="Symbol">=</a>
          <a id="48397" href="SymbolicModel.ValuePreservation.html#2490" class="Function">ValuePreserving-Txout≈</a> <a id="48420" class="Symbol">{</a><a id="48421" href="Coherence.Hypotheses.html#2403" class="Function">R</a> <a id="48423" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="48427" class="Symbol">}{</a><a id="48429" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="48430" class="Symbol">}</a> <a id="48432" class="Symbol">(</a><a id="48433" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="48436" class="Symbol">.</a><a id="48437" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="48442" class="Symbol">)</a> <a id="48444" class="Symbol">(</a><a id="48445" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="48447" href="SymbolicModel.Mappings.html#9038" class="Function Operator">∙txoutEnd_</a><a id="48457" class="Symbol">)</a> <a id="48459" href="Coherence.Hypotheses.html#48172" class="Bound">pv-txout</a>

        <a id="48477" class="Keyword">postulate</a> <a id="48487" href="Coherence.Hypotheses.html#48487" class="Postulate">pv↝</a> <a id="48491" class="Symbol">:</a> <a id="48493" href="SymbolicModel.ValuePreservation.html#3214" class="Function">ValuePreserving↝</a> <a id="48510" class="Symbol">{</a><a id="48511" href="Coherence.Hypotheses.html#1810" class="Function">Γ</a><a id="48512" class="Symbol">}{</a><a id="48514" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a><a id="48516" class="Symbol">}</a> <a id="48518" href="Coherence.Hypotheses.html#47672" class="Function">txout↝</a>
        <a id="48533" class="Comment">-- pv↝ txoutΓ pv-txoutΓ {x} x∈</a>
        <a id="48572" class="Comment">--   = ?</a>

        <a id="48590" href="Coherence.Hypotheses.html#48590" class="Function">txoutΓ′</a> <a id="48598" class="Symbol">:</a> <a id="48600" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="48606" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
        <a id="48617" href="Coherence.Hypotheses.html#48590" class="Function">txoutΓ′</a> <a id="48625" class="Symbol">=</a> <a id="48627" href="Coherence.Hypotheses.html#47672" class="Function">txout↝</a> <a id="48634" href="Coherence.Hypotheses.html#48239" class="Function">txoutΓ</a>

        <a id="48650" href="Coherence.Hypotheses.html#48650" class="Function">pv-txoutΓ′</a> <a id="48661" class="Symbol">:</a> <a id="48663" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="48679" class="Symbol">{</a><a id="48680" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a><a id="48682" class="Symbol">}</a> <a id="48684" href="Coherence.Hypotheses.html#48590" class="Function">txoutΓ′</a>
        <a id="48700" href="Coherence.Hypotheses.html#48650" class="Function">pv-txoutΓ′</a> <a id="48711" class="Symbol">=</a>  <a id="48714" href="Coherence.Hypotheses.html#48487" class="Postulate">pv↝</a> <a id="48718" href="Coherence.Hypotheses.html#48239" class="Function">txoutΓ</a> <a id="48725" href="Coherence.Hypotheses.html#48328" class="Function">pv-txoutΓ</a>

        <a id="48744" href="Coherence.Hypotheses.html#48744" class="Function">txoutΓ″</a> <a id="48752" class="Symbol">:</a> <a id="48754" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="48760" href="Coherence.Hypotheses.html#2153" class="Function">Γ″</a>
        <a id="48771" href="Coherence.Hypotheses.html#48744" class="Function">txoutΓ″</a> <a id="48779" class="Symbol">=</a> <a id="48781" href="SymbolicModel.Mappings.html#1992" class="Function">Txout≈</a> <a id="48788" class="Symbol">{</a><a id="48789" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a><a id="48791" class="Symbol">}{</a><a id="48793" href="Coherence.Hypotheses.html#2153" class="Function">Γ″</a><a id="48795" class="Symbol">}</a> <a id="48797" class="Symbol">(</a><a id="48798" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="48804" href="Coherence.Hypotheses.html#2166" class="Function">Γ≈</a><a id="48806" class="Symbol">)</a> <a id="48808" href="Coherence.Hypotheses.html#48590" class="Function">txoutΓ′</a>

        <a id="48825" href="Coherence.Hypotheses.html#48825" class="Function">pv-txoutΓ″</a> <a id="48836" class="Symbol">:</a> <a id="48838" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="48854" class="Symbol">{</a><a id="48855" href="Coherence.Hypotheses.html#2153" class="Function">Γ″</a><a id="48857" class="Symbol">}</a> <a id="48859" href="Coherence.Hypotheses.html#48744" class="Function">txoutΓ″</a>
        <a id="48875" href="Coherence.Hypotheses.html#48825" class="Function">pv-txoutΓ″</a> <a id="48886" class="Symbol">=</a> <a id="48888" href="SymbolicModel.ValuePreservation.html#2490" class="Function">ValuePreserving-Txout≈</a> <a id="48911" class="Symbol">{</a><a id="48912" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a><a id="48914" class="Symbol">}</a> <a id="48916" class="Symbol">{</a><a id="48917" href="Coherence.Hypotheses.html#2153" class="Function">Γ″</a><a id="48919" class="Symbol">}</a> <a id="48921" class="Symbol">(</a><a id="48922" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="48928" href="Coherence.Hypotheses.html#2166" class="Function">Γ≈</a><a id="48930" class="Symbol">)</a> <a id="48932" href="Coherence.Hypotheses.html#48590" class="Function">txoutΓ′</a> <a id="48940" href="Coherence.Hypotheses.html#48650" class="Function">pv-txoutΓ′</a>

        <a id="48960" href="Coherence.Hypotheses.html#48960" class="Function">pv-txout′</a> <a id="48970" class="Symbol">:</a> <a id="48972" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="48989" href="Coherence.Hypotheses.html#48001" class="Function">𝕣′</a>
        <a id="49000" href="Coherence.Hypotheses.html#48960" class="Function">pv-txout′</a> <a id="49010" href="Coherence.Hypotheses.html#49010" class="Bound">x∈</a> <a id="49013" class="Symbol">=</a>
          <a id="49025" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
            <a id="49043" class="Symbol">(</a><a id="49044" href="Coherence.Hypotheses.html#48001" class="Function">𝕣′</a> <a id="49047" href="SymbolicModel.Mappings.html#9038" class="Function Operator">∙txoutEnd</a> <a id="49057" href="Coherence.Hypotheses.html#49010" class="Bound">x∈</a><a id="49059" class="Symbol">)</a> <a id="49061" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
          <a id="49078" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="49081" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="49086" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">_∙value</a>
                <a id="49110" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="49112" href="SymbolicModel.Mappings.html#9698" class="Function">txout∷∘namesʳ⦅end⦆⊆</a> <a id="49132" class="Symbol">{</a><a id="49133" class="Argument">R</a> <a id="49135" class="Symbol">=</a> <a id="49137" href="Coherence.Hypotheses.html#2403" class="Function">R</a><a id="49138" class="Symbol">}</a> <a id="49140" href="Coherence.Hypotheses.html#1933" class="Function">Γ→</a> <a id="49143" class="Symbol">(</a><a id="49144" href="Coherence.Hypotheses.html#2360" class="Function">R≈′</a> <a id="49148" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="49150" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a><a id="49152" class="Symbol">)</a> <a id="49154" href="Coherence.Hypotheses.html#48590" class="Function">txoutΓ′</a> <a id="49162" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="49169" class="Symbol">_</a> <a id="49171" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="49185" class="Symbol">(</a><a id="49186" href="Coherence.Hypotheses.html#48744" class="Function">txoutΓ″</a> <a id="49194" href="Coherence.Hypotheses.html#49010" class="Bound">x∈</a><a id="49196" class="Symbol">)</a> <a id="49198" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
          <a id="49215" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="49218" href="Coherence.Hypotheses.html#48825" class="Function">pv-txoutΓ″</a> <a id="49229" class="Symbol">_</a> <a id="49231" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="49245" class="Symbol">(</a><a id="49246" href="Coherence.Hypotheses.html#2153" class="Function">Γ″</a> <a id="49249" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="49251" href="Coherence.Hypotheses.html#49010" class="Bound">x∈</a><a id="49253" class="Symbol">)</a> <a id="49255" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
          <a id="49272" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

<a id="49275" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[17]~_⨾_"></a><a id="49280" href="Coherence.Hypotheses.html#49280" class="Datatype Operator">_⨾_⨾_~ℍ[17]~_⨾_</a> <a id="49296" class="Symbol">:</a> <a id="49298" href="Coherence.Hypotheses.html#1606" class="Function">StepRel</a> <a id="49306" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[17]~_⨾_.mkℍ"></a><a id="49314" href="Coherence.Hypotheses.html#49314" class="InductiveConstructor">mkℍ</a> <a id="49318" class="Symbol">:</a> <a id="49320" class="Symbol">∀</a> <a id="49322" class="Symbol">{</a><a id="49323" href="Coherence.Hypotheses.html#49323" class="Bound">h</a> <a id="49325" class="Symbol">:</a> <a id="49327" href="Coherence.Hypotheses.html#46550" class="Record">H₁₇-args</a><a id="49335" class="Symbol">}</a>
    <a id="49341" class="Symbol">→</a> <a id="49343" class="Keyword">let</a>
        <a id="49355" class="Comment">-- (ii) in Rˢ, α assumes ⟨Aᵢ,vᵢ⟩xᵢ to obtain 0</a>
        <a id="49410" class="Keyword">open</a> <a id="49415" href="Coherence.Hypotheses.html#46550" class="Module">H₁₇-args</a> <a id="49424" href="Coherence.Hypotheses.html#49323" class="Bound">h</a>

        <a id="49435" class="Comment">-- (v) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="49493" class="Comment">-- remove {⋯ xᵢ ↦ (Tᵢ,j) ⋯} from txout′</a>
        <a id="49541" class="Keyword">open</a> <a id="49546" href="Coherence.Hypotheses.html#46994" class="Module">H₁₇</a> <a id="49550" href="Coherence.Hypotheses.html#49323" class="Bound">h</a> <a id="49552" class="Keyword">using</a> <a id="49558" class="Symbol">(</a><a id="49559" href="Coherence.Hypotheses.html#47933" class="Function">λˢ</a><a id="49561" class="Symbol">;</a> <a id="49563" href="Coherence.Hypotheses.html#47080" class="Function">xs↦</a><a id="49566" class="Symbol">)</a>
      <a id="49574" class="Keyword">in</a>
    <a id="49581" class="Symbol">∀</a> <a id="49583" class="Symbol">{</a><a id="49584" href="Coherence.Hypotheses.html#49584" class="Bound">i</a> <a id="49586" class="Symbol">:</a> <a id="49588" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="49589" class="Symbol">}</a>
      <a id="49597" class="Symbol">(</a><a id="49598" href="Coherence.Hypotheses.html#49598" class="Bound">T</a>    <a id="49603" class="Symbol">:</a> <a id="49605" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="49608" href="Coherence.Hypotheses.html#49584" class="Bound">i</a> <a id="49610" class="Number">0</a><a id="49611" class="Symbol">)</a>
      <a id="49619" class="Symbol">(</a><a id="49620" href="Coherence.Hypotheses.html#49620" class="Bound">ins⊆</a> <a id="49625" class="Symbol">:</a> <a id="49627" class="Symbol">(</a><a id="49628" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="49636" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="49640" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="49646" href="Coherence.Hypotheses.html#47080" class="Function">xs↦</a><a id="49649" class="Symbol">)</a> <a id="49651" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="49653" href="Data.Vec.Base.html#7447" class="Function">V.toList</a> <a id="49662" class="Symbol">(</a><a id="49663" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a> <a id="49670" href="Coherence.Hypotheses.html#49598" class="Bound">T</a><a id="49671" class="Symbol">))</a>
    <a id="49678" class="Symbol">→</a> <a id="49680" class="Keyword">let</a>
        <a id="49692" class="Comment">-- (iii) submit transaction T</a>
        <a id="49730" href="Coherence.Hypotheses.html#49730" class="Bound">λᶜ</a> <a id="49733" class="Symbol">=</a> <a id="49735" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="49742" class="Symbol">(_</a> <a id="49745" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="49747" class="Symbol">_</a> <a id="49749" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="49751" href="Coherence.Hypotheses.html#49598" class="Bound">T</a><a id="49752" class="Symbol">)</a>
      <a id="49760" class="Keyword">in</a>

    <a id="49768" class="Comment">-- (iv) λᶜ does not correspond to any *other* symbolic move</a>
    <a id="49832" class="Comment">-- ∙ (∀ Γₜ′ (λˢ′ : 𝕃 Rˢ Γₜ′)</a>
    <a id="49865" class="Comment">--     → λˢ′ .proj₁ .proj₁ ≢ λˢ .proj₁ .proj₁</a>
    <a id="49915" class="Comment">--     → (Γₜ′ ∷ 𝕣∗ ⊣ λˢ′ ✓) ≁₁₁ (λᶜ ∷ Rᶜ ✓))</a>

      <a id="49967" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="50027" href="Coherence.Hypotheses.html#2181" class="Function">Γₜ″</a> <a id="50031" href="Coherence.Hypotheses.html#49280" class="Datatype Operator">⨾</a> <a id="50033" href="Coherence.Hypotheses.html#2120" class="Function">𝕣∗</a> <a id="50036" href="Coherence.Hypotheses.html#49280" class="Datatype Operator">⨾</a> <a id="50038" class="Symbol">(</a><a id="50039" href="Coherence.Hypotheses.html#2267" class="Function">𝕒</a> <a id="50041" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="50043" href="Coherence.Hypotheses.html#47933" class="Function">λˢ</a><a id="50045" class="Symbol">)</a> <a id="50047" href="Coherence.Hypotheses.html#49280" class="Datatype Operator">~ℍ[17]~</a> <a id="50055" href="Coherence.Hypotheses.html#49730" class="Bound">λᶜ</a> <a id="50058" href="Coherence.Hypotheses.html#49280" class="Datatype Operator">⨾</a> <a id="50060" href="Coherence.Hypotheses.html#2093" class="Function">Rᶜ</a>

<a id="50064" class="Comment">-- ** After</a>
<a id="50076" class="Keyword">record</a> <a id="H₁₈-args"></a><a id="50083" href="Coherence.Hypotheses.html#50083" class="Record">H₁₈-args</a> <a id="50092" class="Symbol">:</a> <a id="50094" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="50099" class="Keyword">where</a>
  <a id="50107" class="Keyword">constructor</a> <a id="mk"></a><a id="50119" href="Coherence.Hypotheses.html#50119" class="InductiveConstructor">mk</a>
  <a id="50124" class="Keyword">field</a>
    <a id="50134" class="Symbol">{</a><a id="H₁₈-args.Γ"></a><a id="50135" href="Coherence.Hypotheses.html#50135" class="Field">Γ</a> <a id="H₁₈-args.t"></a><a id="50137" href="Coherence.Hypotheses.html#50137" class="Field">t</a> <a id="H₁₈-args.δ"></a><a id="50139" href="Coherence.Hypotheses.html#50139" class="Field">δ</a><a id="50140" class="Symbol">}</a> <a id="50142" class="Symbol">:</a> <a id="50144" class="Symbol">_</a>
    <a id="H₁₈-args.δ&gt;0"></a><a id="50150" href="Coherence.Hypotheses.html#50150" class="Field">δ&gt;0</a> <a id="50154" class="Symbol">:</a> <a id="50156" href="Coherence.Hypotheses.html#50139" class="Field">δ</a> <a id="50158" href="Prelude.Ord.Core.html#340" class="Function Operator">&gt;</a> <a id="50160" class="Number">0</a>
  <a id="50164" class="Keyword">open</a> <a id="50169" href="Coherence.Hypotheses.html#1746" class="Module">Transition</a>
    <a id="50184" class="Symbol">(</a> <a id="50186" href="Coherence.Hypotheses.html#50135" class="Field">Γ</a> <a id="50188" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="50190" href="Coherence.Hypotheses.html#50137" class="Field">t</a> <a id="50192" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">——</a> <a id="50195" href="BitML.Semantics.Label.html#1519" class="InductiveConstructor Operator">delay⦅</a> <a id="50202" href="Coherence.Hypotheses.html#50139" class="Field">δ</a> <a id="50204" href="BitML.Semantics.Label.html#1519" class="InductiveConstructor Operator">⦆</a> <a id="50206" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">—→</a> <a id="50209" href="Coherence.Hypotheses.html#50135" class="Field">Γ</a> <a id="50211" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⨾</a> <a id="50213" class="Symbol">(</a><a id="50214" href="Coherence.Hypotheses.html#50137" class="Field">t</a> <a id="50216" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="50218" href="Coherence.Hypotheses.html#50139" class="Field">δ</a><a id="50219" class="Symbol">)</a>
    <a id="50225" href="Coherence.Hypotheses.html#1784" class="InductiveConstructor Operator">⊣</a> <a id="50227" href="BitML.Semantics.InferenceRules.html#7703" class="InductiveConstructor">[Delay]</a> <a id="50235" href="Coherence.Hypotheses.html#50150" class="Field">δ&gt;0</a>
    <a id="50243" class="Symbol">)</a> <a id="50245" class="Keyword">public</a> <a id="50252" class="Keyword">hiding</a> <a id="50259" class="Symbol">(</a><a id="50260" href="Coherence.Hypotheses.html#1810" class="Field">Γ</a><a id="50261" class="Symbol">;</a> <a id="50263" href="Coherence.Hypotheses.html#1823" class="Field">t</a><a id="50264" class="Symbol">)</a>
  <a id="50268" class="Keyword">field</a> <a id="H₁₈-args.𝕙r"></a><a id="50274" href="Coherence.Hypotheses.html#50274" class="Field">𝕙r</a> <a id="50277" class="Symbol">:</a> <a id="50279" href="Coherence.Hypotheses.html#1962" class="Record">ℍ-Run</a> <a id="50285" href="Coherence.Hypotheses.html#1933" class="Function">Γ→</a>
  <a id="50290" class="Keyword">open</a> <a id="50295" href="Coherence.Hypotheses.html#1962" class="Module">ℍ-Run</a> <a id="50301" href="Coherence.Hypotheses.html#50274" class="Field">𝕙r</a> <a id="50304" class="Keyword">public</a>

<a id="50312" class="Keyword">module</a> <a id="50319" href="Coherence.Hypotheses.html#50319" class="Module">H₁₈</a> <a id="50323" class="Symbol">(</a><a id="50324" href="Coherence.Hypotheses.html#50324" class="Bound">⋯</a> <a id="50326" class="Symbol">:</a> <a id="50328" href="Coherence.Hypotheses.html#50083" class="Record">H₁₈-args</a><a id="50336" class="Symbol">)</a> <a id="50338" class="Symbol">(</a><a id="50339" class="Keyword">let</a> <a id="50343" class="Keyword">open</a> <a id="50348" href="Coherence.Hypotheses.html#50083" class="Module">H₁₈-args</a> <a id="50357" href="Coherence.Hypotheses.html#50324" class="Bound">⋯</a><a id="50358" class="Symbol">)</a> <a id="50360" class="Keyword">where</a>
  <a id="50368" href="Coherence.Hypotheses.html#50368" class="Function">λˢ</a> <a id="50371" class="Symbol">:</a> <a id="50373" href="SymbolicModel.Mappings.html#1124" class="Function">ℾᵗ</a> <a id="50376" href="Coherence.Hypotheses.html#1899" class="Function">Γₜ′</a>
  <a id="50382" href="Coherence.Hypotheses.html#50368" class="Function">λˢ</a> <a id="50385" class="Symbol">=</a> <a id="50387" href="SymbolicModel.Mappings.html#8033" class="Function">LIFTˢ</a> <a id="50393" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="50395" href="Coherence.Hypotheses.html#50135" class="Field">Γ</a> <a id="50397" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="50400" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a> <a id="50403" href="Function.Base.html#624" class="Function">id</a> <a id="50406" href="Function.Base.html#624" class="Function">id</a> <a id="50409" href="Function.Base.html#624" class="Function">id</a>
  <a id="50414" class="Keyword">private</a>
    <a id="50426" href="Coherence.Hypotheses.html#50426" class="Function">𝕣′</a> <a id="50429" class="Symbol">:</a> <a id="50431" href="SymbolicModel.Mappings.html#933" class="Function">ℝ</a> <a id="50433" href="Coherence.Hypotheses.html#2411" class="Function">R′</a>
    <a id="50440" href="Coherence.Hypotheses.html#50426" class="Function">𝕣′</a> <a id="50443" class="Symbol">=</a> <a id="50445" href="SymbolicModel.Mappings.html#5830" class="Function">ℝ-step</a> <a id="50452" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="50454" class="Symbol">(</a><a id="50455" href="Coherence.Hypotheses.html#2267" class="Function">𝕒</a> <a id="50457" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="50459" href="Coherence.Hypotheses.html#50368" class="Function">λˢ</a><a id="50461" class="Symbol">)</a>
  <a id="50465" class="Keyword">abstract</a>
    <a id="50478" href="Coherence.Hypotheses.html#50478" class="Function">value-preserving⇒</a> <a id="50496" class="Symbol">:</a>
      <a id="50504" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="50521" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a>
      <a id="50529" href="Prelude.InferenceRules.html#14163" class="Function Operator">───────────────────</a>
      <a id="50555" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="50572" href="Coherence.Hypotheses.html#50426" class="Function">𝕣′</a>
    <a id="50579" href="Coherence.Hypotheses.html#50478" class="Function">value-preserving⇒</a> <a id="50597" href="Coherence.Hypotheses.html#50597" class="Bound">pv-txout</a> <a id="50606" class="Symbol">=</a> <a id="50608" href="Coherence.Hypotheses.html#51253" class="Function">pv-txout′</a>
      <a id="50624" class="Keyword">where</a>
        <a id="50638" class="Keyword">open</a> <a id="50643" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

        <a id="50664" href="Coherence.Hypotheses.html#50664" class="Function">txoutΓ</a> <a id="50671" class="Symbol">:</a> <a id="50673" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="50679" href="Coherence.Hypotheses.html#50135" class="Field">Γ</a>
        <a id="50689" href="Coherence.Hypotheses.html#50664" class="Function">txoutΓ</a> <a id="50696" class="Symbol">=</a> <a id="50698" href="SymbolicModel.Mappings.html#1992" class="Function">Txout≈</a> <a id="50705" class="Symbol">{</a><a id="50706" href="Coherence.Hypotheses.html#2403" class="Function">R</a> <a id="50708" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="50712" class="Symbol">}{</a><a id="50714" href="Coherence.Hypotheses.html#50135" class="Field">Γ</a><a id="50715" class="Symbol">}</a> <a id="50717" class="Symbol">(</a><a id="50718" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="50721" class="Symbol">.</a><a id="50722" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="50727" class="Symbol">)</a> <a id="50729" class="Symbol">(</a><a id="50730" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="50732" href="SymbolicModel.Mappings.html#9038" class="Function Operator">∙txoutEnd_</a><a id="50742" class="Symbol">)</a>

        <a id="50753" href="Coherence.Hypotheses.html#50753" class="Function">pv-txoutΓ</a> <a id="50763" class="Symbol">:</a> <a id="50765" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="50781" class="Symbol">{</a><a id="50782" href="Coherence.Hypotheses.html#50135" class="Field">Γ</a><a id="50783" class="Symbol">}</a> <a id="50785" href="Coherence.Hypotheses.html#50664" class="Function">txoutΓ</a>
        <a id="50800" href="Coherence.Hypotheses.html#50753" class="Function">pv-txoutΓ</a> <a id="50810" class="Symbol">=</a>
          <a id="50822" href="SymbolicModel.ValuePreservation.html#2490" class="Function">ValuePreserving-Txout≈</a> <a id="50845" class="Symbol">{</a><a id="50846" href="Coherence.Hypotheses.html#2403" class="Function">R</a> <a id="50848" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="50852" class="Symbol">}{</a><a id="50854" href="Coherence.Hypotheses.html#50135" class="Field">Γ</a><a id="50855" class="Symbol">}</a> <a id="50857" class="Symbol">(</a><a id="50858" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a> <a id="50861" class="Symbol">.</a><a id="50862" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="50867" class="Symbol">)</a> <a id="50869" class="Symbol">(</a><a id="50870" href="Coherence.Hypotheses.html#2233" class="Function">𝕣</a> <a id="50872" href="SymbolicModel.Mappings.html#9038" class="Function Operator">∙txoutEnd_</a><a id="50882" class="Symbol">)</a> <a id="50884" href="Coherence.Hypotheses.html#50597" class="Bound">pv-txout</a>

        <a id="50902" href="Coherence.Hypotheses.html#50902" class="Function">txoutΓ′</a> <a id="50910" class="Symbol">:</a> <a id="50912" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="50918" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a>
        <a id="50929" href="Coherence.Hypotheses.html#50902" class="Function">txoutΓ′</a> <a id="50937" class="Symbol">=</a> <a id="50939" href="Coherence.Hypotheses.html#50664" class="Function">txoutΓ</a>

        <a id="50955" href="Coherence.Hypotheses.html#50955" class="Function">pv-txoutΓ′</a> <a id="50966" class="Symbol">:</a> <a id="50968" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="50984" class="Symbol">{</a><a id="50985" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a><a id="50987" class="Symbol">}</a> <a id="50989" href="Coherence.Hypotheses.html#50902" class="Function">txoutΓ′</a>
        <a id="51005" href="Coherence.Hypotheses.html#50955" class="Function">pv-txoutΓ′</a> <a id="51016" class="Symbol">=</a> <a id="51018" href="Coherence.Hypotheses.html#50753" class="Function">pv-txoutΓ</a>

        <a id="51037" href="Coherence.Hypotheses.html#51037" class="Function">txoutΓ″</a> <a id="51045" class="Symbol">:</a> <a id="51047" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="51053" href="Coherence.Hypotheses.html#2153" class="Function">Γ″</a>
        <a id="51064" href="Coherence.Hypotheses.html#51037" class="Function">txoutΓ″</a> <a id="51072" class="Symbol">=</a> <a id="51074" href="SymbolicModel.Mappings.html#1992" class="Function">Txout≈</a> <a id="51081" class="Symbol">{</a><a id="51082" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a><a id="51084" class="Symbol">}{</a><a id="51086" href="Coherence.Hypotheses.html#2153" class="Function">Γ″</a><a id="51088" class="Symbol">}</a> <a id="51090" class="Symbol">(</a><a id="51091" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="51097" href="Coherence.Hypotheses.html#2166" class="Function">Γ≈</a><a id="51099" class="Symbol">)</a> <a id="51101" href="Coherence.Hypotheses.html#50902" class="Function">txoutΓ′</a>

        <a id="51118" href="Coherence.Hypotheses.html#51118" class="Function">pv-txoutΓ″</a> <a id="51129" class="Symbol">:</a> <a id="51131" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="51147" class="Symbol">{</a><a id="51148" href="Coherence.Hypotheses.html#2153" class="Function">Γ″</a><a id="51150" class="Symbol">}</a> <a id="51152" href="Coherence.Hypotheses.html#51037" class="Function">txoutΓ″</a>
        <a id="51168" href="Coherence.Hypotheses.html#51118" class="Function">pv-txoutΓ″</a> <a id="51179" class="Symbol">=</a> <a id="51181" href="SymbolicModel.ValuePreservation.html#2490" class="Function">ValuePreserving-Txout≈</a> <a id="51204" class="Symbol">{</a><a id="51205" href="Coherence.Hypotheses.html#1852" class="Function">Γ′</a><a id="51207" class="Symbol">}</a> <a id="51209" class="Symbol">{</a><a id="51210" href="Coherence.Hypotheses.html#2153" class="Function">Γ″</a><a id="51212" class="Symbol">}</a> <a id="51214" class="Symbol">(</a><a id="51215" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="51221" href="Coherence.Hypotheses.html#2166" class="Function">Γ≈</a><a id="51223" class="Symbol">)</a> <a id="51225" href="Coherence.Hypotheses.html#50902" class="Function">txoutΓ′</a> <a id="51233" href="Coherence.Hypotheses.html#50955" class="Function">pv-txoutΓ′</a>

        <a id="51253" href="Coherence.Hypotheses.html#51253" class="Function">pv-txout′</a> <a id="51263" class="Symbol">:</a> <a id="51265" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="51282" href="Coherence.Hypotheses.html#50426" class="Function">𝕣′</a>
        <a id="51293" href="Coherence.Hypotheses.html#51253" class="Function">pv-txout′</a> <a id="51303" href="Coherence.Hypotheses.html#51303" class="Bound">x∈</a> <a id="51306" class="Symbol">=</a>
          <a id="51318" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
            <a id="51336" class="Symbol">(</a><a id="51337" href="Coherence.Hypotheses.html#50426" class="Function">𝕣′</a> <a id="51340" href="SymbolicModel.Mappings.html#9038" class="Function Operator">∙txoutEnd</a> <a id="51350" href="Coherence.Hypotheses.html#51303" class="Bound">x∈</a><a id="51352" class="Symbol">)</a> <a id="51354" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
          <a id="51371" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="51374" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="51379" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">_∙value</a>
                <a id="51403" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="51405" href="SymbolicModel.Mappings.html#9698" class="Function">txout∷∘namesʳ⦅end⦆⊆</a> <a id="51425" class="Symbol">{</a><a id="51426" class="Argument">R</a> <a id="51428" class="Symbol">=</a> <a id="51430" href="Coherence.Hypotheses.html#2403" class="Function">R</a><a id="51431" class="Symbol">}</a> <a id="51433" href="Coherence.Hypotheses.html#1933" class="Function">Γ→</a> <a id="51436" class="Symbol">(</a><a id="51437" href="Coherence.Hypotheses.html#2360" class="Function">R≈′</a> <a id="51441" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="51443" href="Coherence.Hypotheses.html#2135" class="Function">R≈</a><a id="51445" class="Symbol">)</a> <a id="51447" href="Coherence.Hypotheses.html#50902" class="Function">txoutΓ′</a> <a id="51455" href="SymbolicModel.Mappings.html#1013" class="Function">txout′</a> <a id="51462" class="Symbol">_</a> <a id="51464" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="51478" class="Symbol">(</a><a id="51479" href="Coherence.Hypotheses.html#51037" class="Function">txoutΓ″</a> <a id="51487" href="Coherence.Hypotheses.html#51303" class="Bound">x∈</a><a id="51489" class="Symbol">)</a> <a id="51491" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
          <a id="51508" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="51511" href="Coherence.Hypotheses.html#51118" class="Function">pv-txoutΓ″</a> <a id="51522" class="Symbol">_</a> <a id="51524" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="51538" class="Symbol">(</a><a id="51539" href="Coherence.Hypotheses.html#2153" class="Function">Γ″</a> <a id="51542" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="51544" href="Coherence.Hypotheses.html#51303" class="Bound">x∈</a><a id="51546" class="Symbol">)</a> <a id="51548" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
          <a id="51565" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

<a id="51568" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[18]~_⨾_"></a><a id="51573" href="Coherence.Hypotheses.html#51573" class="Datatype Operator">_⨾_⨾_~ℍ[18]~_⨾_</a> <a id="51589" class="Symbol">:</a> <a id="51591" href="Coherence.Hypotheses.html#1606" class="Function">StepRel</a> <a id="51599" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[18]~_⨾_.mkℍ"></a><a id="51607" href="Coherence.Hypotheses.html#51607" class="InductiveConstructor">mkℍ</a> <a id="51611" class="Symbol">:</a> <a id="51613" class="Symbol">∀</a> <a id="51615" class="Symbol">{</a><a id="51616" href="Coherence.Hypotheses.html#51616" class="Bound">h</a> <a id="51618" class="Symbol">:</a> <a id="51620" href="Coherence.Hypotheses.html#50083" class="Record">H₁₈-args</a><a id="51628" class="Symbol">}</a>
    <a id="51634" class="Symbol">→</a> <a id="51636" class="Keyword">let</a>
        <a id="51648" class="Keyword">open</a> <a id="51653" href="Coherence.Hypotheses.html#50083" class="Module">H₁₈-args</a> <a id="51662" href="Coherence.Hypotheses.html#51616" class="Bound">h</a>
        <a id="51672" class="Keyword">open</a> <a id="51677" href="Coherence.Hypotheses.html#50319" class="Module">H₁₈</a> <a id="51681" href="Coherence.Hypotheses.html#51616" class="Bound">h</a> <a id="51683" class="Keyword">using</a> <a id="51689" class="Symbol">(</a><a id="51690" href="Coherence.Hypotheses.html#50368" class="Function">λˢ</a><a id="51692" class="Symbol">)</a>
        <a id="51702" href="Coherence.Hypotheses.html#51702" class="Bound">λᶜ</a> <a id="51705" class="Symbol">=</a> <a id="51707" href="ComputationalModel.Run.html#1071" class="InductiveConstructor">delay</a> <a id="51713" href="Coherence.Hypotheses.html#50139" class="Field">δ</a>
      <a id="51721" class="Keyword">in</a>
      <a id="51730" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="51790" href="Coherence.Hypotheses.html#2181" class="Function">Γₜ″</a> <a id="51794" href="Coherence.Hypotheses.html#51573" class="Datatype Operator">⨾</a> <a id="51796" href="Coherence.Hypotheses.html#2120" class="Function">𝕣∗</a> <a id="51799" href="Coherence.Hypotheses.html#51573" class="Datatype Operator">⨾</a> <a id="51801" class="Symbol">(</a><a id="51802" href="Coherence.Hypotheses.html#2267" class="Function">𝕒</a> <a id="51804" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="51806" href="Coherence.Hypotheses.html#50368" class="Function">λˢ</a><a id="51808" class="Symbol">)</a> <a id="51810" href="Coherence.Hypotheses.html#51573" class="Datatype Operator">~ℍ[18]~</a> <a id="51818" href="Coherence.Hypotheses.html#51702" class="Bound">λᶜ</a> <a id="51821" href="Coherence.Hypotheses.html#51573" class="Datatype Operator">⨾</a> <a id="51823" href="Coherence.Hypotheses.html#2093" class="Function">Rᶜ</a>
</pre></body></html>