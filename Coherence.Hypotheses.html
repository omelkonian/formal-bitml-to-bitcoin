<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Coherence.Hypotheses</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/formal-bitml-to-bitcoin/tree/master/Coherence/Hypotheses.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="Prelude.Init.html" class="Module">Prelude.Init</a> <a id="26" class="Keyword">hiding</a> <a id="33" class="Symbol">(</a><a id="34" href="Data.Bool.Base.html#1460" class="Function">T</a><a id="35" class="Symbol">);</a> <a id="38" class="Keyword">open</a> <a id="43" href="Prelude.Init.html#504" class="Module">SetAsType</a>
<a id="53" class="Keyword">open</a> <a id="58" href="Prelude.Init.html#7254" class="Module">L.Mem</a>
<a id="64" class="Keyword">open</a> <a id="69" class="Keyword">import</a> <a id="76" href="Prelude.Membership.html" class="Module">Prelude.Membership</a> <a id="95" class="Keyword">using</a> <a id="101" class="Symbol">(</a><a id="102" href="Prelude.Membership.html#455" class="Field Operator">_∈?_</a><a id="106" class="Symbol">;</a> <a id="108" href="Prelude.Membership.html#613" class="Function Operator">_∉?_</a><a id="112" class="Symbol">)</a>
<a id="114" class="Keyword">open</a> <a id="119" class="Keyword">import</a> <a id="126" href="Prelude.Membership.Patterns.html" class="Module">Prelude.Membership.Patterns</a>
<a id="154" class="Keyword">open</a> <a id="159" class="Keyword">import</a> <a id="166" href="Prelude.Lists.html" class="Module">Prelude.Lists</a>
<a id="180" class="Keyword">open</a> <a id="185" class="Keyword">import</a> <a id="192" href="Prelude.Lists.Collections.html" class="Module">Prelude.Lists.Collections</a>
<a id="218" class="Keyword">open</a> <a id="223" class="Keyword">import</a> <a id="230" href="Prelude.Lists.Dec.html" class="Module">Prelude.Lists.Dec</a>
<a id="248" class="Keyword">open</a> <a id="253" class="Keyword">import</a> <a id="260" href="Prelude.General.html" class="Module">Prelude.General</a>
<a id="276" class="Keyword">open</a> <a id="281" class="Keyword">import</a> <a id="288" href="Prelude.InferenceRules.html" class="Module">Prelude.InferenceRules</a>
<a id="311" class="Keyword">open</a> <a id="316" class="Keyword">import</a> <a id="323" href="Prelude.Lists.Dec.html" class="Module">Prelude.Lists.Dec</a>
<a id="341" class="Keyword">open</a> <a id="346" class="Keyword">import</a> <a id="353" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="367" class="Keyword">open</a> <a id="372" class="Keyword">import</a> <a id="379" href="Prelude.Ord.html" class="Module">Prelude.Ord</a>
<a id="391" class="Keyword">open</a> <a id="396" class="Keyword">import</a> <a id="403" href="Prelude.Traces.html" class="Module">Prelude.Traces</a>
<a id="418" class="Keyword">open</a> <a id="423" class="Keyword">import</a> <a id="430" href="Prelude.Null.html" class="Module">Prelude.Null</a>
<a id="443" class="Keyword">open</a> <a id="448" class="Keyword">import</a> <a id="455" href="Prelude.Setoid.html" class="Module">Prelude.Setoid</a>
<a id="470" class="Keyword">open</a> <a id="475" class="Keyword">import</a> <a id="482" href="Prelude.Nary.html" class="Module">Prelude.Nary</a>
<a id="495" class="Keyword">open</a> <a id="500" class="Keyword">import</a> <a id="507" href="Prelude.ToList.html" class="Module">Prelude.ToList</a>
<a id="522" class="Keyword">open</a> <a id="527" class="Keyword">import</a> <a id="534" href="Prelude.Functor.html" class="Module">Prelude.Functor</a>
<a id="550" class="Keyword">open</a> <a id="555" class="Keyword">import</a> <a id="562" href="Prelude.Decidable.html" class="Module">Prelude.Decidable</a>
<a id="580" class="Keyword">open</a> <a id="585" class="Keyword">import</a> <a id="592" href="Prelude.Num.html" class="Module">Prelude.Num</a>

<a id="605" class="Keyword">open</a> <a id="610" class="Keyword">import</a> <a id="617" href="SecureCompilation.ModuleParameters.html" class="Module">SecureCompilation.ModuleParameters</a> <a id="652" class="Keyword">using</a> <a id="658" class="Symbol">(</a><a id="659" href="SecureCompilation.ModuleParameters.html#209" class="Record">⋯</a><a id="660" class="Symbol">)</a>
<a id="662" class="Keyword">module</a> <a id="669" href="Coherence.Hypotheses.html" class="Module">Coherence.Hypotheses</a> <a id="690" class="Symbol">(</a><a id="691" href="Coherence.Hypotheses.html#691" class="Bound">⋯</a> <a id="693" class="Symbol">:</a> <a id="695" href="SecureCompilation.ModuleParameters.html#209" class="Record">⋯</a><a id="696" class="Symbol">)</a> <a id="698" class="Symbol">(</a><a id="699" class="Keyword">let</a> <a id="703" class="Keyword">open</a> <a id="708" href="SecureCompilation.ModuleParameters.html#209" class="Module">⋯</a> <a id="710" href="Coherence.Hypotheses.html#691" class="Bound">⋯</a><a id="711" class="Symbol">)</a> <a id="713" class="Keyword">where</a>

<a id="720" class="Keyword">open</a> <a id="725" class="Keyword">import</a> <a id="732" href="SymbolicModel.html" class="Module">SymbolicModel</a> <a id="746" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a> as <a id="S"></a><a id="752" href="Coherence.Hypotheses.html#752" class="Module">S</a>
  <a id="756" class="Keyword">hiding</a> <a id="763" class="Symbol">(</a> <a id="765" href="Prelude.Closures.html#5661" class="InductiveConstructor Operator">_∎</a><a id="767" class="Symbol">;</a> <a id="769" href="Prelude.Closures.html#5559" class="InductiveConstructor Operator">begin_</a>
         <a id="785" class="Comment">{-variables-}</a>
         <a id="808" class="Symbol">;</a> <a id="810" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Γ₀</a><a id="812" class="Symbol">;</a> <a id="814" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a><a id="815" class="Symbol">;</a> <a id="817" href="BitML.Semantics.Configurations.Types.html#1140" class="Generalizable">Γ′</a><a id="819" class="Symbol">;</a> <a id="821" href="BitML.Semantics.Configurations.Types.html#1143" class="Generalizable">Γ″</a><a id="823" class="Symbol">;</a> <a id="825" href="BitML.Semantics.Configurations.Types.html#1456" class="Generalizable">Γₜ</a><a id="827" class="Symbol">;</a> <a id="829" href="BitML.Semantics.Configurations.Types.html#1459" class="Generalizable">Γₜ′</a><a id="832" class="Symbol">;</a> <a id="834" href="BitML.Semantics.Configurations.Types.html#1463" class="Generalizable">Γₜ″</a><a id="837" class="Symbol">;</a> <a id="839" href="BitML.Semantics.Configurations.Types.html#1157" class="Generalizable">Δ</a>
         <a id="850" class="Symbol">;</a> <a id="852" href="SymbolicModel.Run.Base.html#457" class="Generalizable">R</a><a id="853" class="Symbol">;</a> <a id="855" href="SymbolicModel.Run.Base.html#459" class="Generalizable">R′</a><a id="857" class="Symbol">;</a> <a id="859" href="SymbolicModel.Run.Base.html#465" class="Generalizable">Rˢ</a><a id="861" class="Symbol">;</a> <a id="863" href="SymbolicModel.Run.Base.html#468" class="Generalizable">Rˢ′</a>
         <a id="876" class="Symbol">;</a> <a id="878" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a><a id="879" class="Symbol">;</a> <a id="881" href="BitML.Contracts.Types.html#373" class="Generalizable">B</a><a id="882" class="Symbol">;</a> <a id="884" href="BitML.Contracts.Types.html#378" class="Generalizable">B′</a>
         <a id="896" class="Symbol">;</a> <a id="898" href="BitML.Contracts.Types.html#2330" class="Field">G</a><a id="899" class="Symbol">;</a> <a id="901" href="BitML.Contracts.Types.html#2351" class="Field">C</a>
         <a id="912" class="Symbol">;</a> <a id="914" href="BitML.BasicTypes.html#578" class="Generalizable">t</a><a id="915" class="Symbol">;</a> <a id="917" href="BitML.BasicTypes.html#582" class="Generalizable">t′</a><a id="919" class="Symbol">;</a> <a id="921" href="BitML.BasicTypes.html#580" class="Generalizable">δ</a><a id="922" class="Symbol">;</a> <a id="924" href="BitML.BasicTypes.html#434" class="Generalizable">n</a>
         <a id="935" class="Symbol">;</a> <a id="937" href="BitML.Contracts.Types.html#2449" class="Generalizable">ad</a><a id="939" class="Symbol">;</a> <a id="941" href="BitML.Contracts.Types.html#2159" class="Generalizable">g</a><a id="942" class="Symbol">;</a> <a id="944" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a><a id="945" class="Symbol">;</a> <a id="947" href="BitML.Contracts.Types.html#1254" class="Generalizable">c′</a><a id="949" class="Symbol">;</a> <a id="951" href="BitML.Contracts.Types.html#1273" class="Generalizable">cs</a><a id="953" class="Symbol">;</a> <a id="955" href="BitML.Contracts.Types.html#1241" class="Generalizable">ds</a><a id="957" class="Symbol">;</a> <a id="959" href="BitML.Contracts.Types.html#1222" class="Generalizable">d</a><a id="960" class="Symbol">;</a> <a id="962" href="BitML.Contracts.Types.html#1298" class="Generalizable">vcs</a>
         <a id="975" class="Symbol">;</a> <a id="977" href="BitML.BasicTypes.html#527" class="Generalizable">x</a><a id="978" class="Symbol">;</a> <a id="980" href="BitML.BasicTypes.html#533" class="Generalizable">x′</a><a id="982" class="Symbol">;</a> <a id="984" href="BitML.BasicTypes.html#529" class="Generalizable">y</a><a id="985" class="Symbol">;</a> <a id="987" href="BitML.BasicTypes.html#536" class="Generalizable">y′</a><a id="989" class="Symbol">;</a> <a id="991" href="BitML.BasicTypes.html#531" class="Generalizable">z</a><a id="992" class="Symbol">;</a> <a id="994" href="BitML.BasicTypes.html#558" class="Generalizable">xs</a>
         <a id="1006" class="Symbol">;</a> <a id="1008" href="BitML.BasicTypes.html#484" class="Generalizable">a</a><a id="1009" class="Symbol">;</a> <a id="1011" href="BitML.BasicTypes.html#503" class="Generalizable">as</a>
         <a id="1023" class="Symbol">;</a> <a id="1025" href="BitML.BasicTypes.html#443" class="Generalizable">v</a><a id="1026" class="Symbol">;</a> <a id="1028" href="BitML.BasicTypes.html#445" class="Generalizable">v′</a><a id="1030" class="Symbol">;</a> <a id="1032" href="BitML.BasicTypes.html#461" class="Generalizable">vs</a>
         <a id="1044" class="Symbol">;</a> <a id="1046" href="BitML.Semantics.Label.html#1651" class="Generalizable">α</a><a id="1047" class="Symbol">;</a> <a id="1049" href="BitML.Predicate.html#747" class="Generalizable">p</a><a id="1050" class="Symbol">;</a> <a id="1052" href="SymbolicModel.Strategy.html#628" class="Field">Σ</a>
         <a id="1063" class="Symbol">)</a>
<a id="1065" class="Keyword">open</a> <a id="1070" class="Keyword">import</a> <a id="1077" href="ComputationalModel.html" class="Module">ComputationalModel</a> <a id="1096" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a> <a id="1099" href="SecureCompilation.ModuleParameters.html#450" class="Field">finPart</a> <a id="1107" href="SecureCompilation.ModuleParameters.html#487" class="Field">keypairs</a>
  <a id="1118" class="Keyword">hiding</a> <a id="1125" class="Symbol">(</a> <a id="1127" href="Bitcoin.Script.Base.html#821" class="InductiveConstructor">`</a><a id="1128" class="Symbol">;</a> <a id="1130" href="Bitcoin.Script.Base.html#1071" class="InductiveConstructor Operator">∣_∣</a><a id="1133" class="Symbol">;</a> <a id="1135" href="Bitcoin.Script.Base.html#1594" class="Function Operator">_`∧_</a><a id="1139" class="Symbol">;</a> <a id="1141" href="Bitcoin.Script.Base.html#1693" class="Function Operator">_`∨_</a><a id="1145" class="Symbol">;</a> <a id="1147" href="Bitcoin.Script.Base.html#893" class="InductiveConstructor Operator">_`=_</a><a id="1151" class="Symbol">;</a> <a id="1153" href="Bitcoin.Script.Base.html#898" class="InductiveConstructor Operator">_`&lt;_</a><a id="1157" class="Symbol">;</a> <a id="1159" href="Bitcoin.Script.Base.html#1549" class="Function">`true</a><a id="1164" class="Symbol">;</a> <a id="1166" href="Bitcoin.Consistency.html#3086" class="InductiveConstructor">∎</a>
         <a id="1177" class="Symbol">;</a> <a id="1179" href="ComputationalModel.Run.html#1309" class="Function">Run</a><a id="1182" class="Symbol">;</a> <a id="1184" href="Bitcoin.BasicTypes.html#293" class="Function">Time</a><a id="1188" class="Symbol">;</a> <a id="1190" href="Bitcoin.BasicTypes.html#260" class="Function">Value</a><a id="1195" class="Symbol">;</a> <a id="1197" href="ComputationalModel.Run.html#1251" class="Function">DecEq-Label</a>
         <a id="1218" class="Symbol">;</a> <a id="1220" href="ComputationalModel.Strategy.html#2509" class="Function">HonestMoves</a><a id="1231" class="Symbol">;</a> <a id="1233" href="ComputationalModel.Strategy.html#2425" class="Function">HonestStrategies</a><a id="1249" class="Symbol">;</a> <a id="1251" href="ComputationalModel.Strategy.html#1258" class="Record">ParticipantStrategy</a>
         <a id="1280" class="Symbol">;</a> <a id="1282" href="ComputationalModel.Strategy.html#1379" class="Function">Valid-Strategy</a><a id="1296" class="Symbol">;</a> <a id="1298" href="ComputationalModel.Strategy.html#2580" class="Generalizable">moves</a>
         <a id="1313" class="Symbol">;</a> <a id="1315" href="ComputationalModel.Strategy.html#1317" class="Field">Σ</a>
         <a id="1326" class="Symbol">;</a> <a id="1328" class="Keyword">module</a> <a id="1335" href="ComputationalModel.Strategy.html#2608" class="Module">AdvM</a>
         <a id="1349" class="Comment">{-variables-}</a>
         <a id="1372" class="Symbol">;</a> <a id="1374" href="ComputationalModel.Run.html#1378" class="Generalizable">R</a><a id="1375" class="Symbol">;</a> <a id="1377" href="ComputationalModel.Run.html#1380" class="Generalizable">R′</a><a id="1379" class="Symbol">;</a> <a id="1381" href="ComputationalModel.Run.html#1383" class="Generalizable">R″</a><a id="1383" class="Symbol">;</a> <a id="1385" href="ComputationalModel.Run.html#4351" class="Generalizable">Rᶜ</a>
         <a id="1397" class="Symbol">;</a> <a id="1399" href="Bitcoin.Script.Semantics.html#843" class="Field">tx</a><a id="1401" class="Symbol">;</a> <a id="1403" href="Bitcoin.Tx.Base.html#2058" class="Generalizable">i</a><a id="1404" class="Symbol">;</a> <a id="1406" href="Bitcoin.BasicTypes.html#429" class="Generalizable">t</a><a id="1407" class="Symbol">;</a> <a id="1409" href="Bitcoin.BasicTypes.html#431" class="Generalizable">t′</a><a id="1411" class="Symbol">;</a> <a id="1413" href="Bitcoin.BasicTypes.html#418" class="Generalizable">n</a><a id="1414" class="Symbol">;</a> <a id="1416" href="ComputationalModel.Run.html#1361" class="Generalizable">m</a><a id="1417" class="Symbol">;</a> <a id="1419" href="ComputationalModel.Run.html#1363" class="Generalizable">m′</a><a id="1421" class="Symbol">;</a> <a id="1423" href="ComputationalModel.Run.html#1394" class="Generalizable">λᶜ</a>
         <a id="1435" class="Symbol">)</a>
  <a id="1439" class="Keyword">renaming</a> <a id="1448" class="Symbol">(</a><a id="1449" href="ComputationalModel.Run.html#913" class="Datatype">Label</a> <a id="1455" class="Symbol">to</a> <a id="1458" class="Datatype">CLabel</a><a id="1464" class="Symbol">;</a> <a id="1466" href="ComputationalModel.Run.html#1329" class="Function">Labels</a> <a id="1473" class="Symbol">to</a> <a id="1476" class="Function">CLabels</a><a id="1483" class="Symbol">)</a>
<a id="1485" class="Keyword">open</a> <a id="1490" class="Keyword">import</a> <a id="1497" href="Compiler.html" class="Module">Compiler</a> <a id="1506" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a> <a id="1509" href="SecureCompilation.ModuleParameters.html#357" class="Field">η</a>
<a id="1511" class="Keyword">open</a> <a id="1516" class="Keyword">import</a> <a id="1523" href="SecureCompilation.ComputationalContracts.html" class="Module">SecureCompilation.ComputationalContracts</a> <a id="1564" href="SecureCompilation.ModuleParameters.html#282" class="Field">⋯′</a>
<a id="1567" class="Keyword">open</a> <a id="1572" class="Keyword">import</a> <a id="1579" href="Coherence.Helpers.html" class="Module">Coherence.Helpers</a> <a id="1597" href="Coherence.Hypotheses.html#691" class="Bound">⋯</a>

<a id="1600" class="Comment">-- shorthands</a>
<a id="StepRel"></a><a id="1614" href="Coherence.Hypotheses.html#1614" class="Function">StepRel</a> <a id="1622" class="Symbol">:</a> <a id="1624" href="Agda.Primitive.html#320" class="Primitive">Type₁</a>
<a id="1630" href="Coherence.Hypotheses.html#1614" class="Function">StepRel</a> <a id="1638" class="Symbol">=</a> <a id="1640" class="Symbol">(</a><a id="1641" href="Coherence.Hypotheses.html#1641" class="Bound">Γₜ</a> <a id="1644" class="Symbol">:</a> <a id="1646" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a><a id="1650" class="Symbol">)</a> <a id="1652" class="Symbol">{</a><a id="1653" href="Coherence.Hypotheses.html#1653" class="Bound">Rˢ</a> <a id="1656" class="Symbol">:</a> <a id="1658" href="SymbolicModel.Run.Base.html#430" class="Function">S.Run</a><a id="1663" class="Symbol">}</a>
        <a id="1673" class="Symbol">→</a> <a id="1675" href="SymbolicModel.Mappings.html#1597" class="Datatype">ℝ∗</a> <a id="1678" href="Coherence.Hypotheses.html#1653" class="Bound">Rˢ</a>
        <a id="1689" class="Symbol">→</a> <a id="1691" href="SymbolicModel.Mappings.html#1516" class="Function">𝕃</a> <a id="1693" href="Coherence.Hypotheses.html#1653" class="Bound">Rˢ</a> <a id="1696" href="Coherence.Hypotheses.html#1641" class="Bound">Γₜ</a>
        <a id="1707" class="Symbol">→</a> <a id="1709" href="Coherence.Hypotheses.html#1458" class="Datatype">CLabel</a>
        <a id="1724" class="Symbol">→</a> <a id="1726" href="ComputationalModel.Run.html#4253" class="Datatype">CRun</a>
        <a id="1739" class="Symbol">→</a> <a id="1741" href="Agda.Primitive.html#320" class="Primitive">Type</a>

<a id="1747" class="Keyword">record</a> <a id="Transition"></a><a id="1754" href="Coherence.Hypotheses.html#1754" class="Record">Transition</a> <a id="1765" class="Symbol">:</a> <a id="1767" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="1772" class="Keyword">where</a>
  <a id="1780" class="Keyword">constructor</a> <a id="_⨾_——_—→_⨾_⊣_"></a><a id="1792" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">_⨾_——_—→_⨾_⊣_</a>
  <a id="1808" class="Keyword">field</a>
    <a id="Transition.Γ"></a><a id="1818" href="Coherence.Hypotheses.html#1818" class="Field">Γ</a>  <a id="1821" class="Symbol">:</a> <a id="1823" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a>
    <a id="Transition.t"></a><a id="1831" href="Coherence.Hypotheses.html#1831" class="Field">t</a>  <a id="1834" class="Symbol">:</a> <a id="1836" href="BitML.BasicTypes.html#413" class="Function">Time</a>
    <a id="Transition.α"></a><a id="1845" href="Coherence.Hypotheses.html#1845" class="Field">α</a>  <a id="1848" class="Symbol">:</a> <a id="1850" href="BitML.Semantics.Label.html#459" class="Datatype">Label</a>
    <a id="Transition.Γ′"></a><a id="1860" href="Coherence.Hypotheses.html#1860" class="Field">Γ′</a> <a id="1863" class="Symbol">:</a> <a id="1865" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a>
    <a id="Transition.t′"></a><a id="1873" href="Coherence.Hypotheses.html#1873" class="Field">t′</a> <a id="1876" class="Symbol">:</a> <a id="1878" href="BitML.BasicTypes.html#413" class="Function">Time</a>
  <a id="Transition.Γₜ"></a><a id="1885" href="Coherence.Hypotheses.html#1885" class="Function">Γₜ</a>  <a id="1889" class="Symbol">=</a> <a id="1891" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a> <a id="1896" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="1898" href="Coherence.Hypotheses.html#1818" class="Field">Γ</a> <a id="1900" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="1903" href="Coherence.Hypotheses.html#1831" class="Field">t</a>
  <a id="Transition.Γₜ′"></a><a id="1907" href="Coherence.Hypotheses.html#1907" class="Function">Γₜ′</a> <a id="1911" class="Symbol">=</a> <a id="1913" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a> <a id="1918" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="1920" href="Coherence.Hypotheses.html#1860" class="Field">Γ′</a> <a id="1923" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="1926" href="Coherence.Hypotheses.html#1873" class="Field">t′</a>
  <a id="1931" class="Keyword">field</a>
    <a id="Transition.Γ→"></a><a id="1941" href="Coherence.Hypotheses.html#1941" class="Field">Γ→</a> <a id="1944" class="Symbol">:</a> <a id="1946" href="Coherence.Hypotheses.html#1885" class="Function">Γₜ</a> <a id="1949" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="1952" href="Coherence.Hypotheses.html#1845" class="Field">α</a> <a id="1954" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="1958" href="Coherence.Hypotheses.html#1907" class="Function">Γₜ′</a>

<a id="1963" class="Keyword">record</a> <a id="ℍ-Run"></a><a id="1970" href="Coherence.Hypotheses.html#1970" class="Record">ℍ-Run</a> <a id="1976" class="Symbol">{</a><a id="1977" href="Coherence.Hypotheses.html#1977" class="Bound">Γₜ</a> <a id="1980" href="Coherence.Hypotheses.html#1980" class="Bound">α</a> <a id="1982" href="Coherence.Hypotheses.html#1982" class="Bound">Γₜ′</a><a id="1985" class="Symbol">}</a> <a id="1987" class="Symbol">(</a><a id="1988" href="Coherence.Hypotheses.html#1988" class="Bound">Γ→</a> <a id="1991" class="Symbol">:</a> <a id="1993" href="Coherence.Hypotheses.html#1977" class="Bound">Γₜ</a> <a id="1996" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">—[</a> <a id="1999" href="Coherence.Hypotheses.html#1980" class="Bound">α</a> <a id="2001" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]→ₜ</a> <a id="2005" href="Coherence.Hypotheses.html#1982" class="Bound">Γₜ′</a><a id="2008" class="Symbol">)</a> <a id="2010" class="Symbol">:</a> <a id="2012" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="2017" class="Keyword">where</a>
  <a id="2025" class="Keyword">constructor</a> <a id="_⨾_⨾_⊣_≈_⊣_"></a><a id="2037" href="Coherence.Hypotheses.html#2037" class="InductiveConstructor Operator">_⨾_⨾_⊣_≈_⊣_</a>
  <a id="2051" class="Keyword">private</a> <a id="ℍ-Run.Γ′"></a><a id="2059" href="Coherence.Hypotheses.html#2059" class="Function">Γ′</a> <a id="2062" class="Symbol">=</a> <a id="2064" href="Coherence.Hypotheses.html#1982" class="Bound">Γₜ′</a> <a id="2068" class="Symbol">.</a><a id="2069" href="BitML.Semantics.Configurations.Types.html#1335" class="Field">cfg</a><a id="2072" class="Symbol">;</a> <a id="ℍ-Run.t′"></a><a id="2074" href="Coherence.Hypotheses.html#2074" class="Function">t′</a> <a id="2077" class="Symbol">=</a> <a id="2079" href="Coherence.Hypotheses.html#1982" class="Bound">Γₜ′</a> <a id="2083" class="Symbol">.</a><a id="2084" href="BitML.Semantics.Configurations.Types.html#1354" class="Field">time</a>
  <a id="2091" class="Keyword">field</a>
    <a id="ℍ-Run.Rᶜ"></a><a id="2101" href="Coherence.Hypotheses.html#2101" class="Field">Rᶜ</a> <a id="2104" class="Symbol">:</a> <a id="2106" href="ComputationalModel.Run.html#4253" class="Datatype">CRun</a>
    <a id="ℍ-Run.Rˢ"></a><a id="2115" href="Coherence.Hypotheses.html#2115" class="Field">Rˢ</a> <a id="2118" class="Symbol">:</a> <a id="2120" href="SymbolicModel.Run.Base.html#430" class="Function">Run</a>
    <a id="ℍ-Run.𝕣∗"></a><a id="2128" href="Coherence.Hypotheses.html#2128" class="Field">𝕣∗</a> <a id="2131" class="Symbol">:</a> <a id="2133" href="SymbolicModel.Mappings.html#1597" class="Datatype">ℝ∗</a> <a id="2136" href="Coherence.Hypotheses.html#2115" class="Field">Rˢ</a>
    <a id="ℍ-Run.R≈"></a><a id="2143" href="Coherence.Hypotheses.html#2143" class="Field">R≈</a> <a id="2146" class="Symbol">:</a> <a id="2148" href="Coherence.Hypotheses.html#2115" class="Field">Rˢ</a> <a id="2151" href="SymbolicModel.Run.Base.html#1997" class="Function Operator">≈⋯</a> <a id="2154" href="Coherence.Hypotheses.html#1977" class="Bound">Γₜ</a>
    <a id="ℍ-Run.Γ″"></a><a id="2161" href="Coherence.Hypotheses.html#2161" class="Field">Γ″</a> <a id="2164" class="Symbol">:</a> <a id="2166" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a>
    <a id="ℍ-Run.Γ≈"></a><a id="2174" href="Coherence.Hypotheses.html#2174" class="Field">Γ≈</a> <a id="2177" class="Symbol">:</a> <a id="2179" href="Coherence.Hypotheses.html#2161" class="Field">Γ″</a> <a id="2182" href="Prelude.Setoid.Core.html#191" class="Field Operator">≈</a> <a id="2184" href="Coherence.Hypotheses.html#2059" class="Function">Γ′</a>
  <a id="ℍ-Run.Γₜ″"></a><a id="2189" href="Coherence.Hypotheses.html#2189" class="Function">Γₜ″</a> <a id="2193" class="Symbol">=</a> <a id="2195" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgᵗ</a> <a id="2200" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="2202" href="Coherence.Hypotheses.html#2161" class="Field">Γ″</a> <a id="2205" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="2208" href="Coherence.Hypotheses.html#2074" class="Function">t′</a>
  <a id="ℍ-Run.∃Γ≈"></a><a id="2213" href="Coherence.Hypotheses.html#2213" class="Function">∃Γ≈</a> <a id="2217" class="Symbol">=</a> <a id="2219" href="Data.Product.html#1378" class="Function">∃</a> <a id="2221" class="Symbol">(</a><a id="2222" href="Prelude.Setoid.Core.html#191" class="Field Operator">_≈</a> <a id="2225" href="Coherence.Hypotheses.html#2059" class="Function">Γ′</a><a id="2227" class="Symbol">)</a> <a id="2229" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="2231" href="Coherence.Hypotheses.html#2161" class="Field">Γ″</a> <a id="2234" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2236" href="Coherence.Hypotheses.html#2174" class="Field">Γ≈</a>
  <a id="ℍ-Run.𝕣"></a><a id="2241" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a>   <a id="2245" class="Symbol">=</a> <a id="2247" href="SymbolicModel.Mappings.html#6055" class="Function">ℝ∗⇒ℝ</a> <a id="2252" href="Coherence.Hypotheses.html#2128" class="Field">𝕣∗</a>
  <a id="2257" class="Keyword">open</a> <a id="2262" href="SymbolicModel.Mappings.html#897" class="Module">ℝ</a> <a id="2264" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="2266" class="Keyword">public</a>
  <a id="ℍ-Run.𝕒"></a><a id="2275" href="Coherence.Hypotheses.html#2275" class="Function">𝕒</a> <a id="2277" class="Symbol">:</a> <a id="2279" href="SymbolicModel.Run.Base.html#2285" class="Function">𝔸</a> <a id="2281" href="Coherence.Hypotheses.html#2115" class="Field">Rˢ</a> <a id="2284" href="Coherence.Hypotheses.html#2189" class="Function">Γₜ″</a>
  <a id="2290" href="Coherence.Hypotheses.html#2275" class="Function">𝕒</a> <a id="2292" class="Symbol">=</a> <a id="2294" href="Coherence.Hypotheses.html#1980" class="Bound">α</a> <a id="2296" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2298" href="Coherence.Hypotheses.html#1977" class="Bound">Γₜ</a> <a id="2301" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2303" href="Coherence.Hypotheses.html#1982" class="Bound">Γₜ′</a> <a id="2307" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2309" href="Coherence.Hypotheses.html#1988" class="Bound">Γ→</a> <a id="2312" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2314" class="Symbol">(</a><a id="2315" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="2320" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2322" href="Coherence.Hypotheses.html#2174" class="Field">Γ≈</a><a id="2324" class="Symbol">)</a> <a id="2326" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2328" href="Coherence.Hypotheses.html#2143" class="Field">R≈</a>

  <a id="ℍ-Run.Rˢ′"></a><a id="2334" href="Coherence.Hypotheses.html#2334" class="Function">Rˢ′</a> <a id="2338" class="Symbol">:</a> <a id="2340" href="SymbolicModel.Run.Base.html#430" class="Function">Run</a>
  <a id="2346" href="Coherence.Hypotheses.html#2334" class="Function">Rˢ′</a> <a id="2350" class="Symbol">=</a> <a id="2352" href="Coherence.Hypotheses.html#2189" class="Function">Γₜ″</a> <a id="2356" href="SymbolicModel.Run.Base.html#2412" class="Function Operator">∷</a> <a id="2358" href="Coherence.Hypotheses.html#2115" class="Field">Rˢ</a> <a id="2361" href="SymbolicModel.Run.Base.html#2412" class="Function Operator">⊣</a> <a id="2363" href="Coherence.Hypotheses.html#2275" class="Function">𝕒</a>

  <a id="ℍ-Run.R≈′"></a><a id="2368" href="Coherence.Hypotheses.html#2368" class="Function">R≈′</a> <a id="2372" class="Symbol">:</a> <a id="2374" href="Coherence.Hypotheses.html#2334" class="Function">Rˢ′</a> <a id="2378" href="SymbolicModel.Run.Base.html#1997" class="Function Operator">≈⋯</a> <a id="2381" href="Coherence.Hypotheses.html#2059" class="Function">Γ′</a> <a id="2384" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="2387" href="Coherence.Hypotheses.html#2074" class="Function">t′</a>
  <a id="2392" href="Coherence.Hypotheses.html#2368" class="Function">R≈′</a> <a id="2396" class="Symbol">=</a> <a id="2398" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="2403" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2405" href="Coherence.Hypotheses.html#2174" class="Field">Γ≈</a>

  <a id="ℍ-Run.R"></a><a id="2411" href="Coherence.Hypotheses.html#2411" class="Function">R</a> <a id="2413" class="Symbol">=</a> <a id="2415" href="Coherence.Hypotheses.html#2115" class="Field">Rˢ</a><a id="2417" class="Symbol">;</a> <a id="ℍ-Run.R′"></a><a id="2419" href="Coherence.Hypotheses.html#2419" class="Function">R′</a> <a id="2422" class="Symbol">=</a> <a id="2424" href="Coherence.Hypotheses.html#2334" class="Function">Rˢ′</a>

<a id="2429" class="Comment">-- ** Stipulation: advertisting a contract</a>
<a id="2472" class="Keyword">record</a> <a id="H₁-args"></a><a id="2479" href="Coherence.Hypotheses.html#2479" class="Record">H₁-args</a> <a id="2487" class="Symbol">:</a> <a id="2489" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="2494" class="Keyword">where</a>
  <a id="2502" class="Keyword">constructor</a> <a id="mk"></a><a id="2514" href="Coherence.Hypotheses.html#2514" class="InductiveConstructor">mk</a>
  <a id="2519" class="Keyword">field</a>
    <a id="2529" class="Symbol">{</a><a id="H₁-args.ad"></a><a id="2530" href="Coherence.Hypotheses.html#2530" class="Field">ad</a> <a id="H₁-args.Γ₀"></a><a id="2533" href="Coherence.Hypotheses.html#2533" class="Field">Γ₀</a> <a id="H₁-args.t"></a><a id="2536" href="Coherence.Hypotheses.html#2536" class="Field">t</a><a id="2537" class="Symbol">}</a> <a id="2539" class="Symbol">:</a> <a id="2541" class="Symbol">_</a>
  <a id="2545" class="Keyword">open</a> <a id="2550" href="BitML.Contracts.ModuleMacros.html#761" class="Module">∣AD</a> <a id="2554" href="Coherence.Hypotheses.html#2530" class="Field">ad</a> <a id="2557" class="Keyword">public</a>
  <a id="2566" class="Keyword">field</a>
    <a id="2576" class="Comment">-- Hypotheses from [C-Advertise]</a>
    <a id="H₁-args.vad"></a><a id="2613" href="Coherence.Hypotheses.html#2613" class="Field">vad</a> <a id="2617" class="Symbol">:</a> <a id="2619" href="BitML.Contracts.Validity.html#1544" class="Record">ValidAd</a> <a id="2627" href="Coherence.Hypotheses.html#2530" class="Field">ad</a>
    <a id="H₁-args.hon"></a><a id="2634" href="Coherence.Hypotheses.html#2634" class="Field">hon</a> <a id="2638" class="Symbol">:</a> <a id="2640" href="Data.List.Relation.Unary.Any.html#1165" class="Datatype">Any</a> <a id="2644" class="Symbol">(</a><a id="2645" href="Data.List.Membership.Setoid.html#896" class="Function Operator">_∈</a> <a id="2648" href="BitML.BasicTypes.html#785" class="Function">Hon</a><a id="2651" class="Symbol">)</a> <a id="2653" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a>
    <a id="H₁-args.d⊆"></a><a id="2663" href="Coherence.Hypotheses.html#2663" class="Field">d⊆</a>  <a id="2667" class="Symbol">:</a> <a id="2669" href="Coherence.Hypotheses.html#2530" class="Field">ad</a> <a id="2672" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="2675" href="BitML.Contracts.Collections.html#6451" class="Function">deposits</a> <a id="2684" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="2686" href="Coherence.Hypotheses.html#2533" class="Field">Γ₀</a>
  <a id="2691" class="Keyword">open</a> <a id="2696" href="Coherence.Hypotheses.html#1754" class="Module">Transition</a>
    <a id="2711" class="Symbol">(</a> <a id="2713" href="Coherence.Hypotheses.html#2533" class="Field">Γ₀</a> <a id="2716" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="2718" href="Coherence.Hypotheses.html#2536" class="Field">t</a> <a id="2720" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">——</a> <a id="2723" href="BitML.Semantics.Label.html#975" class="InductiveConstructor Operator">advertise⦅</a> <a id="2734" href="Coherence.Hypotheses.html#2530" class="Field">ad</a> <a id="2737" href="BitML.Semantics.Label.html#975" class="InductiveConstructor Operator">⦆</a> <a id="2739" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">—→</a> <a id="2742" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="2744" href="Coherence.Hypotheses.html#2530" class="Field">ad</a> <a id="2747" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="2749" href="Coherence.Hypotheses.html#2533" class="Field">Γ₀</a> <a id="2752" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="2754" href="Coherence.Hypotheses.html#2536" class="Field">t</a>
    <a id="2760" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⊣</a> <a id="2762" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="2766" class="Symbol">(</a><a id="2767" href="BitML.Semantics.InferenceRules.html#3454" class="InductiveConstructor">[C-Advertise]</a> <a id="2781" href="Coherence.Hypotheses.html#2613" class="Field">vad</a> <a id="2785" href="Coherence.Hypotheses.html#2634" class="Field">hon</a> <a id="2789" href="Coherence.Hypotheses.html#2663" class="Field">d⊆</a><a id="2791" class="Symbol">)</a>
    <a id="2797" class="Symbol">)</a> <a id="2799" class="Keyword">public</a> <a id="2806" class="Keyword">hiding</a> <a id="2813" class="Symbol">(</a><a id="2814" href="Coherence.Hypotheses.html#1831" class="Field">t</a><a id="2815" class="Symbol">)</a>
  <a id="2819" class="Keyword">field</a> <a id="H₁-args.𝕙r"></a><a id="2825" href="Coherence.Hypotheses.html#2825" class="Field">𝕙r</a> <a id="2828" class="Symbol">:</a> <a id="2830" href="Coherence.Hypotheses.html#1970" class="Record">ℍ-Run</a> <a id="2836" href="Coherence.Hypotheses.html#1941" class="Function">Γ→</a>
  <a id="2841" class="Keyword">open</a> <a id="2846" href="Coherence.Hypotheses.html#1970" class="Module">ℍ-Run</a> <a id="2852" href="Coherence.Hypotheses.html#2825" class="Field">𝕙r</a> <a id="2855" class="Keyword">public</a>

<a id="2863" class="Keyword">module</a> <a id="2870" href="Coherence.Hypotheses.html#2870" class="Module">H₁</a> <a id="2873" class="Symbol">(</a><a id="2874" href="Coherence.Hypotheses.html#2874" class="Bound">⋯</a> <a id="2876" class="Symbol">:</a> <a id="2878" href="Coherence.Hypotheses.html#2479" class="Record">H₁-args</a><a id="2885" class="Symbol">)</a> <a id="2887" class="Symbol">(</a><a id="2888" class="Keyword">let</a> <a id="2892" class="Keyword">open</a> <a id="2897" href="Coherence.Hypotheses.html#2479" class="Module">H₁-args</a> <a id="2905" href="Coherence.Hypotheses.html#2874" class="Bound">⋯</a><a id="2906" class="Symbol">)</a> <a id="2908" class="Keyword">where</a>
  <a id="2916" href="Coherence.Hypotheses.html#2916" class="Function">λˢ</a> <a id="2919" class="Symbol">:</a> <a id="2921" href="SymbolicModel.Mappings.html#1063" class="Function">ℾᵗ</a> <a id="2924" href="Coherence.Hypotheses.html#1907" class="Function">Γₜ′</a>
  <a id="2930" href="Coherence.Hypotheses.html#2916" class="Function">λˢ</a> <a id="2933" class="Symbol">=</a> <a id="2935" href="SymbolicModel.Mappings.html#7972" class="Function">LIFTˢ</a> <a id="2941" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="2943" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="2945" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="2948" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="2951" href="Function.Base.html#624" class="Function">id</a> <a id="2954" href="Function.Base.html#624" class="Function">id</a> <a id="2957" href="Function.Base.html#624" class="Function">id</a>
  <a id="2962" class="Keyword">private</a>
    <a id="2974" href="Coherence.Hypotheses.html#2974" class="Function">𝕣′</a> <a id="2977" class="Symbol">:</a> <a id="2979" href="SymbolicModel.Mappings.html#872" class="Function">ℝ</a> <a id="2981" href="Coherence.Hypotheses.html#2419" class="Function">R′</a>
    <a id="2988" href="Coherence.Hypotheses.html#2974" class="Function">𝕣′</a> <a id="2991" class="Symbol">=</a> <a id="2993" href="SymbolicModel.Mappings.html#5769" class="Function">ℝ-step</a> <a id="3000" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="3002" class="Symbol">(</a><a id="3003" href="Coherence.Hypotheses.html#2275" class="Function">𝕒</a> <a id="3005" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3007" href="Coherence.Hypotheses.html#2916" class="Function">λˢ</a><a id="3009" class="Symbol">)</a>
  <a id="3013" class="Keyword">abstract</a>
    <a id="3026" href="Coherence.Hypotheses.html#3026" class="Function">value-preserving⇒</a> <a id="3044" class="Symbol">:</a>
      <a id="3052" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="3069" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a>
      <a id="3077" href="Prelude.InferenceRules.html#14163" class="Function Operator">───────────────────</a>
      <a id="3103" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="3120" href="Coherence.Hypotheses.html#2974" class="Function">𝕣′</a>
    <a id="3127" href="Coherence.Hypotheses.html#3026" class="Function">value-preserving⇒</a> <a id="3145" href="Coherence.Hypotheses.html#3145" class="Bound">pv-txout</a> <a id="3154" class="Symbol">=</a> <a id="3156" href="Coherence.Hypotheses.html#3685" class="Function">pv-txout′</a>
      <a id="3172" class="Keyword">where</a>
      <a id="3184" class="Keyword">open</a> <a id="3189" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

      <a id="3208" href="Coherence.Hypotheses.html#3208" class="Function">txoutΓ</a> <a id="3215" class="Symbol">:</a> <a id="3217" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="3223" class="Symbol">(</a><a id="3224" href="Coherence.Hypotheses.html#2411" class="Function">R</a> <a id="3226" class="Symbol">.</a><a id="3227" href="Prelude.Traces.html#568" class="Field">end</a><a id="3230" class="Symbol">)</a>
      <a id="3238" href="Coherence.Hypotheses.html#3208" class="Function">txoutΓ</a> <a id="3245" class="Symbol">=</a> <a id="3247" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="3249" href="SymbolicModel.Mappings.html#8977" class="Function Operator">∙txoutEnd_</a>

      <a id="3267" href="Coherence.Hypotheses.html#3267" class="Function">txoutΓ′</a> <a id="3275" class="Symbol">:</a> <a id="3277" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="3283" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
      <a id="3292" href="Coherence.Hypotheses.html#3267" class="Function">txoutΓ′</a> <a id="3300" class="Symbol">=</a> <a id="3302" href="SymbolicModel.Mappings.html#1931" class="Function">Txout≈</a> <a id="3309" class="Symbol">{</a><a id="3310" href="Coherence.Hypotheses.html#2411" class="Function">R</a> <a id="3312" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="3316" class="Symbol">}{</a><a id="3318" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="3319" class="Symbol">}</a> <a id="3321" class="Symbol">(</a><a id="3322" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="3325" class="Symbol">.</a><a id="3326" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="3331" class="Symbol">)</a> <a id="3333" href="Coherence.Hypotheses.html#3208" class="Function">txoutΓ</a>

      <a id="3347" href="Coherence.Hypotheses.html#3347" class="Function">pv-txoutΓ′</a> <a id="3358" class="Symbol">:</a> <a id="3360" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="3376" class="Symbol">{</a><a id="3377" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a><a id="3379" class="Symbol">}</a> <a id="3381" href="Coherence.Hypotheses.html#3267" class="Function">txoutΓ′</a>
      <a id="3395" href="Coherence.Hypotheses.html#3347" class="Function">pv-txoutΓ′</a> <a id="3406" class="Symbol">=</a> <a id="3408" href="SymbolicModel.ValuePreservation.html#2490" class="Function">ValuePreserving-Txout≈</a> <a id="3431" class="Symbol">{</a><a id="3432" href="Coherence.Hypotheses.html#2411" class="Function">R</a> <a id="3434" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="3438" class="Symbol">}{</a><a id="3440" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="3441" class="Symbol">}</a> <a id="3443" class="Symbol">(</a><a id="3444" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="3447" class="Symbol">.</a><a id="3448" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="3453" class="Symbol">)</a> <a id="3455" href="Coherence.Hypotheses.html#3208" class="Function">txoutΓ</a> <a id="3462" href="Coherence.Hypotheses.html#3145" class="Bound">pv-txout</a>

      <a id="3478" href="Coherence.Hypotheses.html#3478" class="Function">txoutΓ″</a> <a id="3486" class="Symbol">:</a> <a id="3488" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="3494" href="Coherence.Hypotheses.html#2161" class="Function">Γ″</a>
      <a id="3503" href="Coherence.Hypotheses.html#3478" class="Function">txoutΓ″</a> <a id="3511" class="Symbol">=</a> <a id="3513" href="SymbolicModel.Mappings.html#1931" class="Function">Txout≈</a> <a id="3520" class="Symbol">{</a><a id="3521" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a><a id="3523" class="Symbol">}{</a><a id="3525" href="Coherence.Hypotheses.html#2161" class="Function">Γ″</a><a id="3527" class="Symbol">}</a> <a id="3529" class="Symbol">(</a><a id="3530" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="3536" href="Coherence.Hypotheses.html#2174" class="Function">Γ≈</a><a id="3538" class="Symbol">)</a> <a id="3540" href="Coherence.Hypotheses.html#3267" class="Function">txoutΓ′</a>

      <a id="3555" href="Coherence.Hypotheses.html#3555" class="Function">pv-txoutΓ″</a> <a id="3566" class="Symbol">:</a> <a id="3568" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="3584" class="Symbol">{</a><a id="3585" href="Coherence.Hypotheses.html#2161" class="Function">Γ″</a><a id="3587" class="Symbol">}</a> <a id="3589" href="Coherence.Hypotheses.html#3478" class="Function">txoutΓ″</a>
      <a id="3603" href="Coherence.Hypotheses.html#3555" class="Function">pv-txoutΓ″</a> <a id="3614" class="Symbol">=</a> <a id="3616" href="SymbolicModel.ValuePreservation.html#2490" class="Function">ValuePreserving-Txout≈</a> <a id="3639" class="Symbol">{</a><a id="3640" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a><a id="3642" class="Symbol">}{</a><a id="3644" href="Coherence.Hypotheses.html#2161" class="Function">Γ″</a><a id="3646" class="Symbol">}</a> <a id="3648" class="Symbol">(</a><a id="3649" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="3655" href="Coherence.Hypotheses.html#2174" class="Function">Γ≈</a><a id="3657" class="Symbol">)</a> <a id="3659" href="Coherence.Hypotheses.html#3267" class="Function">txoutΓ′</a> <a id="3667" href="Coherence.Hypotheses.html#3347" class="Function">pv-txoutΓ′</a>

      <a id="3685" href="Coherence.Hypotheses.html#3685" class="Function">pv-txout′</a> <a id="3695" class="Symbol">:</a> <a id="3697" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="3714" href="Coherence.Hypotheses.html#2974" class="Function">𝕣′</a>
      <a id="3723" href="Coherence.Hypotheses.html#3685" class="Function">pv-txout′</a> <a id="3733" href="Coherence.Hypotheses.html#3733" class="Bound">x∈</a> <a id="3736" class="Symbol">=</a>
        <a id="3746" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
          <a id="3762" class="Symbol">(</a><a id="3763" href="Coherence.Hypotheses.html#2974" class="Function">𝕣′</a> <a id="3766" href="SymbolicModel.Mappings.html#8977" class="Function Operator">∙txoutEnd</a> <a id="3776" href="Coherence.Hypotheses.html#3733" class="Bound">x∈</a><a id="3778" class="Symbol">)</a> <a id="3780" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
        <a id="3795" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="3798" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="3803" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">_∙value</a> <a id="3811" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="3813" href="SymbolicModel.Properties.html#6895" class="Function">txout∷∘namesʳ⦅end⦆⊆</a> <a id="3833" class="Symbol">{</a><a id="3834" class="Argument">R</a> <a id="3836" class="Symbol">=</a> <a id="3838" href="Coherence.Hypotheses.html#2411" class="Function">R</a><a id="3839" class="Symbol">}</a> <a id="3841" href="Coherence.Hypotheses.html#1941" class="Function">Γ→</a> <a id="3844" class="Symbol">(</a><a id="3845" href="Coherence.Hypotheses.html#2368" class="Function">R≈′</a> <a id="3849" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3851" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a><a id="3853" class="Symbol">)</a> <a id="3855" href="Coherence.Hypotheses.html#3267" class="Function">txoutΓ′</a> <a id="3863" href="SymbolicModel.Mappings.html#952" class="Function">txout′</a> <a id="3870" class="Symbol">_</a> <a id="3872" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="3884" class="Symbol">(</a><a id="3885" href="Coherence.Hypotheses.html#3478" class="Function">txoutΓ″</a> <a id="3893" href="Coherence.Hypotheses.html#3733" class="Bound">x∈</a><a id="3895" class="Symbol">)</a> <a id="3897" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
        <a id="3912" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="3915" href="Coherence.Hypotheses.html#3555" class="Function">pv-txoutΓ″</a> <a id="3926" class="Symbol">_</a> <a id="3928" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="3940" class="Symbol">(</a><a id="3941" href="Coherence.Hypotheses.html#2161" class="Function">Γ″</a> <a id="3944" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3946" href="Coherence.Hypotheses.html#3733" class="Bound">x∈</a><a id="3948" class="Symbol">)</a> <a id="3950" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
        <a id="3965" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

<a id="3968" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[1]~_⨾_"></a><a id="3973" href="Coherence.Hypotheses.html#3973" class="Datatype Operator">_⨾_⨾_~ℍ[1]~_⨾_</a> <a id="3988" class="Symbol">:</a> <a id="3990" href="Coherence.Hypotheses.html#1614" class="Function">StepRel</a> <a id="3998" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[1]~_⨾_.mkℍ"></a><a id="4006" href="Coherence.Hypotheses.html#4006" class="InductiveConstructor">mkℍ</a> <a id="4010" class="Symbol">:</a> <a id="4012" class="Symbol">∀</a> <a id="4014" class="Symbol">{</a><a id="4015" href="Coherence.Hypotheses.html#4015" class="Bound">h</a> <a id="4017" class="Symbol">:</a> <a id="4019" href="Coherence.Hypotheses.html#2479" class="Record">H₁-args</a><a id="4026" class="Symbol">}</a> <a id="4028" class="Symbol">{</a><a id="4029" href="Coherence.Hypotheses.html#4029" class="Bound">A</a><a id="4030" class="Symbol">}</a>
    <a id="4036" class="Symbol">→</a> <a id="4038" class="Keyword">let</a>
        <a id="4050" class="Comment">-- (i) consume {G}C and its persistent deposits from Rˢ</a>
        <a id="4114" class="Keyword">open</a> <a id="4119" href="Coherence.Hypotheses.html#2479" class="Module">H₁-args</a> <a id="4127" href="Coherence.Hypotheses.html#4015" class="Bound">h</a> <a id="4129" class="Keyword">renaming</a> <a id="4138" class="Symbol">(</a><a id="4139" href="Coherence.Hypotheses.html#2530" class="Field">ad</a> <a id="4142" class="Symbol">to</a> <a id="4145" class="Field">⟨G⟩C</a><a id="4149" class="Symbol">)</a>

        <a id="4160" class="Comment">-- txout′ = txout, sechash′ = sechash, κ′ = κ</a>
        <a id="4214" class="Keyword">open</a> <a id="4219" href="Coherence.Hypotheses.html#2870" class="Module">H₁</a> <a id="4222" href="Coherence.Hypotheses.html#4015" class="Bound">h</a> <a id="4224" class="Keyword">using</a> <a id="4230" class="Symbol">(</a><a id="4231" href="Coherence.Hypotheses.html#2916" class="Function">λˢ</a><a id="4233" class="Symbol">)</a>

        <a id="4244" href="Coherence.Hypotheses.html#4244" class="Bound">m</a> <a id="4246" class="Symbol">=</a>
          <a id="4258" class="Keyword">let</a>
            <a id="4274" href="Coherence.Hypotheses.html#4274" class="Bound">txoutΓ</a> <a id="4281" class="Symbol">=</a> <a id="4283" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="4289" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="4291" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="4293" href="SymbolicModel.Mappings.html#1931" class="Function">Txout≈</a> <a id="4300" class="Symbol">{</a><a id="4301" href="Coherence.Hypotheses.html#2115" class="Function">Rˢ</a> <a id="4304" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="4308" class="Symbol">}{</a><a id="4310" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="4311" class="Symbol">}</a> <a id="4313" class="Symbol">(</a><a id="4314" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="4317" class="Symbol">.</a><a id="4318" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="4323" class="Symbol">)</a> <a id="4325" class="Symbol">(</a><a id="4326" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="4328" href="SymbolicModel.Mappings.html#8977" class="Function Operator">∙txoutEnd_</a><a id="4338" class="Symbol">)</a>
            <a id="4352" href="Coherence.Hypotheses.html#4352" class="Bound">txoutG</a> <a id="4359" class="Symbol">=</a> <a id="4361" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="4367" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a> <a id="4369" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="4371" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="4380" href="Coherence.Hypotheses.html#4274" class="Bound">txoutΓ</a> <a id="4387" class="Symbol">(</a><a id="4388" href="BitML.Properties.Helpers.html#6513" class="Function">deposits⊆⇒namesʳ⊆</a> <a id="4406" class="Symbol">{</a><a id="4407" href="Coherence.Hypotheses.html#4145" class="Function">⟨G⟩C</a><a id="4411" class="Symbol">}{</a><a id="4413" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="4414" class="Symbol">}</a> <a id="4416" href="Coherence.Hypotheses.html#2663" class="Function">d⊆</a><a id="4418" class="Symbol">)</a>
            <a id="4432" href="Coherence.Hypotheses.html#4432" class="Bound">txoutC</a> <a id="4439" class="Symbol">=</a> <a id="4441" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="4447" href="BitML.Contracts.ModuleMacros.html#783" class="Function">C</a> <a id="4449" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="4451" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="4460" href="Coherence.Hypotheses.html#4352" class="Bound">txoutG</a> <a id="4467" class="Symbol">(</a><a id="4468" href="Prelude.Lists.MapMaybe.html#9263" class="Function">mapMaybe-⊆</a> <a id="4479" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="4486" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="4488" href="Coherence.Hypotheses.html#2613" class="Function">vad</a> <a id="4492" href="BitML.Contracts.Validity.html#2163" class="Function Operator">∙names-⊆</a><a id="4500" class="Symbol">)</a>
          <a id="4512" class="Keyword">in</a>
            <a id="4527" href="SecureCompilation.ComputationalContracts.html#12174" class="Function">encodeAd</a> <a id="4536" href="Coherence.Hypotheses.html#4145" class="Function">⟨G⟩C</a> <a id="4541" class="Symbol">(</a><a id="4542" href="Coherence.Hypotheses.html#4352" class="Bound">txoutG</a> <a id="4549" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4551" href="Coherence.Hypotheses.html#4432" class="Bound">txoutC</a><a id="4557" class="Symbol">)</a>
        <a id="4567" href="Coherence.Hypotheses.html#4567" class="Bound">λᶜ</a> <a id="4570" class="Symbol">=</a> <a id="4572" href="Coherence.Hypotheses.html#4029" class="Bound">A</a> <a id="4574" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="4578" href="Coherence.Hypotheses.html#4244" class="Bound">m</a>
      <a id="4586" class="Keyword">in</a>
      <a id="4595" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="4655" href="Coherence.Hypotheses.html#2189" class="Function">Γₜ″</a> <a id="4659" href="Coherence.Hypotheses.html#3973" class="Datatype Operator">⨾</a> <a id="4661" href="Coherence.Hypotheses.html#2128" class="Function">𝕣∗</a> <a id="4664" href="Coherence.Hypotheses.html#3973" class="Datatype Operator">⨾</a> <a id="4666" class="Symbol">(</a><a id="4667" href="Coherence.Hypotheses.html#2275" class="Function">𝕒</a> <a id="4669" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4671" href="Coherence.Hypotheses.html#2916" class="Function">λˢ</a><a id="4673" class="Symbol">)</a> <a id="4675" href="Coherence.Hypotheses.html#3973" class="Datatype Operator">~ℍ[1]~</a> <a id="4682" href="Coherence.Hypotheses.html#4567" class="Bound">λᶜ</a> <a id="4685" href="Coherence.Hypotheses.html#3973" class="Datatype Operator">⨾</a> <a id="4687" href="Coherence.Hypotheses.html#2101" class="Function">Rᶜ</a>

<a id="4691" class="Comment">-- ** Stipulation: committing secrets</a>
<a id="4729" class="Keyword">record</a> <a id="H₂-args"></a><a id="4736" href="Coherence.Hypotheses.html#4736" class="Record">H₂-args</a> <a id="4744" class="Symbol">:</a> <a id="4746" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="4751" class="Keyword">where</a>
  <a id="4759" class="Keyword">constructor</a> <a id="mk"></a><a id="4771" href="Coherence.Hypotheses.html#4771" class="InductiveConstructor">mk</a>
  <a id="4776" class="Keyword">field</a>
    <a id="4786" class="Symbol">{</a><a id="H₂-args.ad"></a><a id="4787" href="Coherence.Hypotheses.html#4787" class="Field">ad</a> <a id="H₂-args.Γ₀"></a><a id="4790" href="Coherence.Hypotheses.html#4790" class="Field">Γ₀</a> <a id="H₂-args.t"></a><a id="4793" href="Coherence.Hypotheses.html#4793" class="Field">t</a> <a id="H₂-args.A"></a><a id="4795" href="Coherence.Hypotheses.html#4795" class="Field">A</a><a id="4796" class="Symbol">}</a> <a id="4798" class="Symbol">:</a> <a id="4800" class="Symbol">_</a>
    <a id="H₂-args.k⃗"></a><a id="4806" href="Coherence.Hypotheses.html#4806" class="Field">k⃗</a>   <a id="4811" class="Symbol">:</a> <a id="4813" href="Compiler.Mappings.html#454" class="Function">𝕂²′</a> <a id="4817" href="Coherence.Hypotheses.html#4787" class="Field">ad</a>
    <a id="H₂-args.Δ×h̅"></a><a id="4824" href="Coherence.Hypotheses.html#4824" class="Field">Δ×h̅</a> <a id="4829" class="Symbol">:</a> <a id="4831" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="4836" class="Symbol">(</a><a id="4837" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="4844" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="4846" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="4852" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="4854" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="4856" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a><a id="4857" class="Symbol">)</a>
  <a id="4861" class="Keyword">open</a> <a id="4866" href="BitML.Contracts.ModuleMacros.html#761" class="Module">∣AD</a> <a id="4870" href="Coherence.Hypotheses.html#4787" class="Field">ad</a> <a id="4873" class="Keyword">public</a>
    <a id="4884" class="Keyword">hiding</a> <a id="4891" class="Symbol">(</a><a id="4892" href="BitML.Contracts.ModuleMacros.html#783" class="Function">C</a><a id="4893" class="Symbol">)</a>
  <a id="H₂-args.h̅"></a><a id="4897" href="Coherence.Hypotheses.html#4897" class="Function">h̅</a>  <a id="4901" class="Symbol">=</a> <a id="4903" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="4908" href="Bitcoin.BasicTypes.html#351" class="Function">HashId</a>             <a id="4927" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="4929" href="Data.List.Base.html#1553" class="Function">map</a> <a id="4933" class="Symbol">(</a><a id="4934" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="4940" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="4942" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="4947" class="Symbol">)</a> <a id="4949" href="Coherence.Hypotheses.html#4824" class="Field">Δ×h̅</a>
  <a id="H₂-args.Δ"></a><a id="4956" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a>  <a id="4959" class="Symbol">=</a> <a id="4961" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="4966" class="Symbol">(</a><a id="4967" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="4974" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="4976" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="4982" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="4983" class="Symbol">)</a> <a id="4985" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="4987" href="Data.List.Base.html#1553" class="Function">map</a> <a id="4991" href="Prelude.Nary.html#3032" class="Function">drop₃</a>   <a id="4999" href="Coherence.Hypotheses.html#4824" class="Field">Δ×h̅</a>
  <a id="H₂-args.Δᶜ"></a><a id="5006" href="Coherence.Hypotheses.html#5006" class="Function">Δᶜ</a> <a id="5009" class="Symbol">=</a> <a id="5011" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="5014" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5018" class="Symbol">(</a><a id="5019" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="5027" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="5029" href="Coherence.Hypotheses.html#4795" class="Field">A</a> <a id="5031" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="5036" class="Symbol">)</a> <a id="5038" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a>
  <a id="H₂-args.as"></a><a id="5042" href="Coherence.Hypotheses.html#5042" class="Function">as</a> <a id="5045" class="Symbol">=</a> <a id="5047" href="Data.List.Base.html#3708" class="Function">unzip</a> <a id="5053" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a> <a id="5055" class="Symbol">.</a><a id="5056" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₂-args.ms"></a><a id="5064" href="Coherence.Hypotheses.html#5064" class="Function">ms</a> <a id="5067" class="Symbol">=</a> <a id="5069" href="Data.List.Base.html#3708" class="Function">unzip</a> <a id="5075" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a> <a id="5077" class="Symbol">.</a><a id="5078" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
  <a id="H₂-args.k̅"></a><a id="5086" href="Coherence.Hypotheses.html#5086" class="Function">k̅</a>  <a id="5090" class="Symbol">=</a> <a id="5092" href="Data.List.Base.html#4459" class="Function">concatMap</a> <a id="5102" class="Symbol">(</a><a id="5103" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5107" href="Bitcoin.Crypto.html#375" class="Field">pub</a> <a id="5111" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="5113" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a><a id="5118" class="Symbol">)</a> <a id="5120" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="5122" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="5128" href="Coherence.Hypotheses.html#4806" class="Field">k⃗</a>

  <a id="H₂-args.sechash⁺"></a><a id="5134" href="Coherence.Hypotheses.html#5134" class="Function">sechash⁺</a> <a id="5143" class="Symbol">:</a> <a id="5145" href="Coherence.Hypotheses.html#5042" class="Function">as</a> <a id="5148" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="5150" href="Bitcoin.BasicTypes.html#351" class="Function">HashId</a>
  <a id="5159" href="Coherence.Hypotheses.html#5134" class="Function">sechash⁺</a> <a id="5168" href="Coherence.Hypotheses.html#5168" class="Bound">a∈</a> <a id="5171" class="Symbol">=</a>
    <a id="5177" class="Keyword">let</a> <a id="5181" class="Symbol">_</a> <a id="5183" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5185" href="Coherence.Hypotheses.html#5185" class="Bound">a×m∈</a> <a id="5190" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5192" class="Symbol">_</a>    <a id="5197" class="Symbol">=</a> <a id="5199" href="Prelude.Lists.Core.html#1051" class="Function">∈-unzip⁻ˡ</a> <a id="5209" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a> <a id="5211" href="Coherence.Hypotheses.html#5168" class="Bound">a∈</a>
        <a id="5222" class="Symbol">(_</a> <a id="5225" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5227" class="Symbol">_</a> <a id="5229" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5231" href="Coherence.Hypotheses.html#5231" class="Bound">z</a><a id="5232" class="Symbol">)</a> <a id="5234" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5236" class="Symbol">_</a> <a id="5238" class="Symbol">=</a> <a id="5240" href="Data.List.Membership.Propositional.Properties.html#3491" class="Function">∈-map⁻</a> <a id="5247" href="Prelude.Nary.html#3032" class="Function">drop₃</a> <a id="5253" href="Coherence.Hypotheses.html#5185" class="Bound">a×m∈</a>
    <a id="5262" class="Keyword">in</a> <a id="5265" href="Coherence.Hypotheses.html#5231" class="Bound">z</a>
  <a id="5269" class="Keyword">field</a>
    <a id="5279" class="Comment">-- Hypotheses from [C-AuthCommit]</a>
    <a id="H₂-args.as≡"></a><a id="5317" href="Coherence.Hypotheses.html#5317" class="Field">as≡</a> <a id="5321" class="Symbol">:</a> <a id="5323" href="Coherence.Hypotheses.html#5042" class="Function">as</a> <a id="5326" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="5328" href="BitML.Contracts.Collections.html#7218" class="Function">secretsOfᵖ</a> <a id="5339" href="Coherence.Hypotheses.html#4795" class="Field">A</a> <a id="5341" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a>
    <a id="H₂-args.All∉"></a><a id="5347" href="Coherence.Hypotheses.html#5347" class="Field">All∉</a> <a id="5352" class="Symbol">:</a> <a id="5354" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="5358" class="Symbol">(</a><a id="5359" href="Data.List.Membership.Setoid.html#945" class="Function Operator">_∉</a> <a id="5362" href="BitML.Semantics.Configurations.Helpers.html#11169" class="Function">secretsOfᶜᶠ</a> <a id="5374" href="Coherence.Hypotheses.html#4795" class="Field">A</a> <a id="5376" href="Coherence.Hypotheses.html#4790" class="Field">Γ₀</a><a id="5378" class="Symbol">)</a> <a id="5380" href="Coherence.Hypotheses.html#5042" class="Function">as</a>
    <a id="H₂-args.Hon⇒"></a><a id="5387" href="Coherence.Hypotheses.html#5387" class="Field">Hon⇒</a> <a id="5392" class="Symbol">:</a> <a id="5394" href="Coherence.Hypotheses.html#4795" class="Field">A</a> <a id="5396" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="5398" href="BitML.BasicTypes.html#785" class="Function">Hon</a> <a id="5402" class="Symbol">→</a> <a id="5404" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="5408" href="Data.Maybe.html#810" class="Function">Is-just</a> <a id="5416" href="Coherence.Hypotheses.html#5064" class="Function">ms</a>
  <a id="5421" class="Keyword">open</a> <a id="5426" href="Coherence.Hypotheses.html#1754" class="Module">Transition</a>
    <a id="5441" class="Symbol">(</a> <a id="5443" class="Symbol">(</a><a id="5444" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="5446" href="Coherence.Hypotheses.html#4787" class="Field">ad</a> <a id="5449" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5451" href="Coherence.Hypotheses.html#4790" class="Field">Γ₀</a><a id="5453" class="Symbol">)</a> <a id="5455" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="5457" href="Coherence.Hypotheses.html#4793" class="Field">t</a>
    <a id="5463" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">——</a> <a id="5466" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">auth-commit⦅</a> <a id="5479" href="Coherence.Hypotheses.html#4795" class="Field">A</a> <a id="5481" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">,</a> <a id="5483" href="Coherence.Hypotheses.html#4787" class="Field">ad</a> <a id="5486" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">,</a> <a id="5488" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a> <a id="5490" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">⦆</a> <a id="5492" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">—→</a>
      <a id="5501" class="Symbol">(</a><a id="5502" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="5504" href="Coherence.Hypotheses.html#4787" class="Field">ad</a> <a id="5507" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5509" href="Coherence.Hypotheses.html#4790" class="Field">Γ₀</a> <a id="5512" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5514" href="Coherence.Hypotheses.html#5006" class="Function">Δᶜ</a> <a id="5517" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5519" href="Coherence.Hypotheses.html#4795" class="Field">A</a> <a id="5521" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="5527" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="5530" href="Coherence.Hypotheses.html#4787" class="Field">ad</a> <a id="5533" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="5534" class="Symbol">)</a> <a id="5536" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="5538" href="Coherence.Hypotheses.html#4793" class="Field">t</a>
    <a id="5544" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⊣</a> <a id="5546" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="5550" class="Symbol">(</a><a id="5551" href="BitML.Semantics.InferenceRules.html#3794" class="InductiveConstructor">[C-AuthCommit]</a> <a id="5566" href="Coherence.Hypotheses.html#5317" class="Field">as≡</a> <a id="5570" href="Coherence.Hypotheses.html#5347" class="Field">All∉</a> <a id="5575" href="Coherence.Hypotheses.html#5387" class="Field">Hon⇒</a><a id="5579" class="Symbol">)</a>
    <a id="5585" class="Symbol">)</a> <a id="5587" class="Keyword">public</a> <a id="5594" class="Keyword">hiding</a> <a id="5601" class="Symbol">(</a><a id="5602" href="Coherence.Hypotheses.html#1831" class="Field">t</a><a id="5603" class="Symbol">)</a>
  <a id="5607" class="Keyword">field</a> <a id="H₂-args.𝕙r"></a><a id="5613" href="Coherence.Hypotheses.html#5613" class="Field">𝕙r</a> <a id="5616" class="Symbol">:</a> <a id="5618" href="Coherence.Hypotheses.html#1970" class="Record">ℍ-Run</a> <a id="5624" href="Coherence.Hypotheses.html#1941" class="Function">Γ→</a>
  <a id="5629" class="Keyword">open</a> <a id="5634" href="Coherence.Hypotheses.html#1970" class="Module">ℍ-Run</a> <a id="5640" href="Coherence.Hypotheses.html#5613" class="Field">𝕙r</a> <a id="5643" class="Keyword">public</a>

<a id="5651" class="Keyword">module</a> <a id="5658" href="Coherence.Hypotheses.html#5658" class="Module">H₂</a> <a id="5661" class="Symbol">(</a><a id="5662" href="Coherence.Hypotheses.html#5662" class="Bound">⋯</a> <a id="5664" class="Symbol">:</a> <a id="5666" href="Coherence.Hypotheses.html#4736" class="Record">H₂-args</a><a id="5673" class="Symbol">)</a> <a id="5675" class="Symbol">(</a><a id="5676" class="Keyword">let</a> <a id="5680" class="Keyword">open</a> <a id="5685" href="Coherence.Hypotheses.html#4736" class="Module">H₂-args</a> <a id="5693" href="Coherence.Hypotheses.html#5662" class="Bound">⋯</a><a id="5694" class="Symbol">)</a> <a id="5696" class="Keyword">where</a>
  <a id="5704" class="Keyword">private</a>
    <a id="5716" class="Keyword">open</a> <a id="5721" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

    <a id="5738" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="5744" class="Symbol">:</a> <a id="5746" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="5751" class="Symbol">(</a><a id="5752" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="5759" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="5761" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="5767" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="5768" class="Symbol">)</a> <a id="5770" class="Symbol">→</a> <a id="5772" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a>
    <a id="5780" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="5786" class="Symbol">=</a> <a id="5788" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||_</a> <a id="5792" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="5794" href="Data.List.Base.html#1553" class="Function">map</a> <a id="5798" class="Symbol">(</a><a id="5799" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="5807" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="5809" href="Coherence.Hypotheses.html#4795" class="Field">A</a> <a id="5811" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶_♯_⟩</a><a id="5816" class="Symbol">)</a>

    <a id="5823" href="Coherence.Hypotheses.html#5823" class="Function">ids≡</a> <a id="5828" class="Symbol">:</a> <a id="5830" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="5833" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="5836" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="5840" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="5842" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>
    <a id="5848" href="Coherence.Hypotheses.html#5823" class="Function">ids≡</a> <a id="5853" class="Symbol">=</a>
      <a id="5861" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
        <a id="5875" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="5879" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
      <a id="5888" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
        <a id="5900" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="5904" class="Symbol">(</a><a id="5905" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="5907" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5909" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="5915" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a> <a id="5917" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5919" href="Coherence.Hypotheses.html#4795" class="Field">A</a> <a id="5921" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="5927" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="5930" href="Coherence.Hypotheses.html#4787" class="Field">ad</a> <a id="5933" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="5934" class="Symbol">)</a>
      <a id="5942" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="5945" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="5973" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="5980" class="Symbol">(</a><a id="5981" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="5983" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="5985" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="5991" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a><a id="5992" class="Symbol">)</a> <a id="5994" class="Symbol">(</a><a id="5995" href="Coherence.Hypotheses.html#4795" class="Field">A</a> <a id="5997" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="6003" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="6006" href="Coherence.Hypotheses.html#4787" class="Field">ad</a> <a id="6009" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="6010" class="Symbol">)</a> <a id="6012" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="6022" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="6026" class="Symbol">(</a><a id="6027" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="6029" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6031" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="6037" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a><a id="6038" class="Symbol">)</a> <a id="6040" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6043" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="6047" class="Symbol">(</a><a id="6048" href="Coherence.Hypotheses.html#4795" class="Field">A</a> <a id="6050" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="6056" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="6059" href="Coherence.Hypotheses.html#4787" class="Field">ad</a> <a id="6062" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="6063" class="Symbol">)</a>
      <a id="6071" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
        <a id="6083" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="6087" class="Symbol">(</a><a id="6088" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="6090" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6092" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="6098" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a><a id="6099" class="Symbol">)</a> <a id="6101" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6104" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
      <a id="6113" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6116" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="6131" class="Symbol">_</a> <a id="6133" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="6143" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="6147" class="Symbol">(</a><a id="6148" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="6150" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6152" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="6158" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a><a id="6159" class="Symbol">)</a>
      <a id="6167" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6170" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="6198" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="6205" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="6207" class="Symbol">(</a><a id="6208" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="6214" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a><a id="6215" class="Symbol">)</a> <a id="6217" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="6227" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="6231" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="6233" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6236" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="6240" class="Symbol">(</a><a id="6241" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="6247" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a><a id="6248" class="Symbol">)</a>
      <a id="6256" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6259" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="6264" class="Symbol">(</a><a id="6265" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="6269" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="6271" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="6274" class="Symbol">)</a> <a id="6276" class="Symbol">(</a><a id="6277" href="Coherence.Hypotheses.html#6369" class="Function">hʳ</a> <a id="6280" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a><a id="6281" class="Symbol">)</a> <a id="6283" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="6293" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="6297" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="6299" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6302" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
      <a id="6311" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6314" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="6329" class="Symbol">_</a> <a id="6331" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="6341" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="6345" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>
      <a id="6353" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="6355" class="Keyword">where</a>
        <a id="6369" href="Coherence.Hypotheses.html#6369" class="Function">hʳ</a> <a id="6372" class="Symbol">:</a> <a id="6374" class="Symbol">∀</a> <a id="6376" href="Coherence.Hypotheses.html#6376" class="Bound">Δ</a> <a id="6378" class="Symbol">→</a> <a id="6380" href="Prelude.Null.html#263" class="Field">Null</a> <a id="6385" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="6387" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="6391" class="Symbol">(</a><a id="6392" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="6398" href="Coherence.Hypotheses.html#6376" class="Bound">Δ</a><a id="6399" class="Symbol">)</a>
        <a id="6409" href="Coherence.Hypotheses.html#6369" class="Function">hʳ</a> <a id="6412" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="6415" class="Symbol">=</a> <a id="6417" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="6430" href="Coherence.Hypotheses.html#6369" class="Function">hʳ</a> <a id="6433" class="Symbol">(_</a> <a id="6436" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6438" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="6440" class="Symbol">)</a> <a id="6442" class="Symbol">=</a> <a id="6444" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="6457" href="Coherence.Hypotheses.html#6369" class="Function">hʳ</a> <a id="6460" class="Symbol">(_</a> <a id="6463" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6465" href="Coherence.Hypotheses.html#6465" class="Bound">Δ</a><a id="6466" class="Symbol">@(_</a> <a id="6470" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="6472" class="Symbol">_))</a> <a id="6476" class="Keyword">rewrite</a> <a id="6484" href="Coherence.Hypotheses.html#6369" class="Function">hʳ</a> <a id="6487" href="Coherence.Hypotheses.html#6465" class="Bound">Δ</a> <a id="6489" class="Symbol">=</a> <a id="6491" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="6506" class="Symbol">_</a>

    <a id="6513" href="Coherence.Hypotheses.html#6513" class="Function">secrets≡</a> <a id="6522" class="Symbol">:</a> <a id="6524" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="6532" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="6535" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="6537" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="6545" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="6547" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6550" href="Coherence.Hypotheses.html#5042" class="Function">as</a>
    <a id="6557" href="Coherence.Hypotheses.html#6513" class="Function">secrets≡</a> <a id="6566" class="Symbol">=</a>
      <a id="6574" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
        <a id="6588" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="6596" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
      <a id="6605" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6608" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="6636" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="6643" class="Symbol">(</a><a id="6644" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="6646" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6648" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="6654" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a><a id="6655" class="Symbol">)</a> <a id="6657" class="Symbol">(</a><a id="6658" href="Coherence.Hypotheses.html#4795" class="Field">A</a> <a id="6660" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="6666" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="6669" href="Coherence.Hypotheses.html#4787" class="Field">ad</a> <a id="6672" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="6673" class="Symbol">)</a> <a id="6675" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="6685" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="6693" class="Symbol">(</a><a id="6694" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="6696" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6698" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="6704" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a><a id="6705" class="Symbol">)</a> <a id="6707" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6710" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
      <a id="6719" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6722" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="6737" class="Symbol">_</a> <a id="6739" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="6749" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="6757" class="Symbol">(</a><a id="6758" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="6760" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="6762" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="6768" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a><a id="6769" class="Symbol">)</a>
      <a id="6777" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6780" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="6808" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="6815" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="6817" class="Symbol">(</a><a id="6818" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="6824" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a><a id="6825" class="Symbol">)</a> <a id="6827" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="6837" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="6845" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="6847" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6850" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="6858" class="Symbol">(</a><a id="6859" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="6865" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a><a id="6866" class="Symbol">)</a>
      <a id="6874" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="6877" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="6882" class="Symbol">(</a><a id="6883" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="6891" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="6893" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="6896" class="Symbol">)</a> <a id="6898" class="Symbol">(</a><a id="6899" href="Coherence.Hypotheses.html#6953" class="Function">hˡ</a> <a id="6902" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a><a id="6903" class="Symbol">)</a> <a id="6905" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="6915" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="6923" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="6925" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="6928" href="Coherence.Hypotheses.html#5042" class="Function">as</a>
      <a id="6937" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="6939" class="Keyword">where</a>
        <a id="6953" href="Coherence.Hypotheses.html#6953" class="Function">hˡ</a> <a id="6956" class="Symbol">:</a> <a id="6958" class="Symbol">∀</a> <a id="6960" href="Coherence.Hypotheses.html#6960" class="Bound">Δ</a> <a id="6962" class="Symbol">→</a> <a id="6964" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="6972" class="Symbol">(</a><a id="6973" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="6979" href="Coherence.Hypotheses.html#6960" class="Bound">Δ</a><a id="6980" class="Symbol">)</a> <a id="6982" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="6984" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="6990" class="Symbol">(</a><a id="6991" href="Data.List.Base.html#3708" class="Function">unzip</a> <a id="6997" href="Coherence.Hypotheses.html#6960" class="Bound">Δ</a><a id="6998" class="Symbol">)</a>
        <a id="7008" href="Coherence.Hypotheses.html#6953" class="Function">hˡ</a> <a id="7011" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="7014" class="Symbol">=</a> <a id="7016" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="7029" href="Coherence.Hypotheses.html#6953" class="Function">hˡ</a> <a id="7032" class="Symbol">(_</a> <a id="7035" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7037" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="7039" class="Symbol">)</a> <a id="7041" class="Symbol">=</a> <a id="7043" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="7056" href="Coherence.Hypotheses.html#6953" class="Function">hˡ</a> <a id="7059" class="Symbol">((</a><a id="7061" href="Coherence.Hypotheses.html#7061" class="Bound">s</a> <a id="7063" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="7065" href="Coherence.Hypotheses.html#7065" class="Bound">m</a><a id="7066" class="Symbol">)</a> <a id="7068" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7070" href="Coherence.Hypotheses.html#7070" class="Bound">Δ</a><a id="7071" class="Symbol">@(_</a> <a id="7075" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7077" class="Symbol">_))</a> <a id="7081" class="Symbol">=</a>
          <a id="7093" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
            <a id="7111" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="7119" class="Symbol">(</a><a id="7120" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="7122" href="Coherence.Hypotheses.html#4795" class="Field">A</a> <a id="7124" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶</a> <a id="7126" href="Coherence.Hypotheses.html#7061" class="Bound">s</a> <a id="7128" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">♯</a> <a id="7130" href="Coherence.Hypotheses.html#7065" class="Bound">m</a> <a id="7132" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟩</a> <a id="7134" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="7136" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="7142" href="Coherence.Hypotheses.html#7070" class="Bound">Δ</a><a id="7143" class="Symbol">)</a>
          <a id="7155" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="7158" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="7186" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="7193" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="7195" href="Coherence.Hypotheses.html#4795" class="Field">A</a> <a id="7197" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶</a> <a id="7199" href="Coherence.Hypotheses.html#7061" class="Bound">s</a> <a id="7201" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">♯</a> <a id="7203" href="Coherence.Hypotheses.html#7065" class="Bound">m</a> <a id="7205" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟩</a> <a id="7207" class="Symbol">(</a><a id="7208" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="7214" href="Coherence.Hypotheses.html#7070" class="Bound">Δ</a><a id="7215" class="Symbol">)</a> <a id="7217" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="7231" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="7239" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="7241" href="Coherence.Hypotheses.html#4795" class="Field">A</a> <a id="7243" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶</a> <a id="7245" href="Coherence.Hypotheses.html#7061" class="Bound">s</a> <a id="7247" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">♯</a> <a id="7249" href="Coherence.Hypotheses.html#7065" class="Bound">m</a> <a id="7251" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟩</a> <a id="7253" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="7256" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="7264" class="Symbol">(</a><a id="7265" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="7271" href="Coherence.Hypotheses.html#7070" class="Bound">Δ</a><a id="7272" class="Symbol">)</a>
          <a id="7284" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
            <a id="7300" href="Coherence.Hypotheses.html#7061" class="Bound">s</a> <a id="7302" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7304" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="7312" class="Symbol">(</a><a id="7313" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="7319" href="Coherence.Hypotheses.html#7070" class="Bound">Δ</a><a id="7320" class="Symbol">)</a>
          <a id="7332" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="7335" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="7340" class="Symbol">(</a><a id="7341" href="Coherence.Hypotheses.html#7061" class="Bound">s</a> <a id="7343" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷_</a><a id="7345" class="Symbol">)</a> <a id="7347" class="Symbol">(</a><a id="7348" href="Coherence.Hypotheses.html#6953" class="Function">hˡ</a> <a id="7351" href="Coherence.Hypotheses.html#7070" class="Bound">Δ</a><a id="7352" class="Symbol">)</a> <a id="7354" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="7368" href="Coherence.Hypotheses.html#7061" class="Bound">s</a> <a id="7370" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7372" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="7378" class="Symbol">(</a><a id="7379" href="Data.List.Base.html#3708" class="Function">unzip</a> <a id="7385" href="Coherence.Hypotheses.html#7070" class="Bound">Δ</a><a id="7386" class="Symbol">)</a>
          <a id="7398" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

    <a id="7405" href="Coherence.Hypotheses.html#7405" class="Function">hᵃ</a> <a id="7408" class="Symbol">:</a> <a id="7410" class="Symbol">∀</a> <a id="7412" href="Coherence.Hypotheses.html#7412" class="Bound">Δ</a> <a id="7414" class="Symbol">→</a> <a id="7416" href="Prelude.Null.html#263" class="Field">Null</a> <a id="7421" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="7423" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="7438" class="Symbol">(</a><a id="7439" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="7445" href="Coherence.Hypotheses.html#7412" class="Bound">Δ</a><a id="7446" class="Symbol">)</a>
    <a id="7452" href="Coherence.Hypotheses.html#7405" class="Function">hᵃ</a> <a id="7455" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="7458" class="Symbol">=</a> <a id="7460" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="7469" href="Coherence.Hypotheses.html#7405" class="Function">hᵃ</a> <a id="7472" class="Symbol">(_</a> <a id="7475" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7477" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="7479" class="Symbol">)</a> <a id="7481" class="Symbol">=</a> <a id="7483" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="7492" href="Coherence.Hypotheses.html#7405" class="Function">hᵃ</a> <a id="7495" class="Symbol">(_</a> <a id="7498" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7500" href="Coherence.Hypotheses.html#7500" class="Bound">Δ</a><a id="7501" class="Symbol">@(_</a> <a id="7505" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="7507" class="Symbol">_))</a> <a id="7511" class="Keyword">rewrite</a> <a id="7519" href="Coherence.Hypotheses.html#7405" class="Function">hᵃ</a> <a id="7522" href="Coherence.Hypotheses.html#7500" class="Bound">Δ</a> <a id="7524" class="Symbol">=</a> <a id="7526" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="7541" class="Symbol">_</a>

    <a id="7548" href="Coherence.Hypotheses.html#7548" class="Function">ads≡</a> <a id="7553" class="Symbol">:</a> <a id="7555" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="7570" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="7573" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="7575" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="7590" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="7592" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="7595" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="7610" class="Symbol">(</a><a id="7611" href="Coherence.Hypotheses.html#4795" class="Field">A</a> <a id="7613" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="7619" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="7622" href="Coherence.Hypotheses.html#4787" class="Field">ad</a> <a id="7625" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="7626" class="Symbol">)</a>
    <a id="7632" href="Coherence.Hypotheses.html#7548" class="Function">ads≡</a> <a id="7637" class="Keyword">rewrite</a> <a id="7645" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="7664" class="Symbol">{</a><a id="7665" class="Argument">X</a> <a id="7667" class="Symbol">=</a> <a id="7669" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="7671" class="Symbol">}</a> <a id="7673" class="Symbol">(</a><a id="7674" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="7676" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="7678" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="7684" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a><a id="7685" class="Symbol">)</a> <a id="7687" class="Symbol">(</a><a id="7688" href="Coherence.Hypotheses.html#4795" class="Field">A</a> <a id="7690" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="7696" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="7699" href="Coherence.Hypotheses.html#4787" class="Field">ad</a> <a id="7702" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="7703" class="Symbol">)</a>
                <a id="7721" class="Symbol">|</a> <a id="7723" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="7742" class="Symbol">{</a><a id="7743" class="Argument">X</a> <a id="7745" class="Symbol">=</a> <a id="7747" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="7749" class="Symbol">}</a> <a id="7751" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="7753" class="Symbol">(</a><a id="7754" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="7760" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a><a id="7761" class="Symbol">)</a>
                <a id="7779" class="Symbol">|</a> <a id="7781" href="Coherence.Hypotheses.html#7405" class="Function">hᵃ</a> <a id="7784" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a>
                <a id="7802" class="Symbol">|</a> <a id="7804" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="7819" class="Symbol">(</a><a id="7820" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="7835" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="7836" class="Symbol">)</a>
                <a id="7854" class="Symbol">=</a> <a id="7856" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

    <a id="7866" href="Coherence.Hypotheses.html#7866" class="Function">txout↝</a> <a id="7873" class="Symbol">:</a> <a id="7875" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="7877" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="7880" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="7886" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="7888" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
    <a id="7895" class="Comment">-- txout↝ = lift Γ —⟨ ids ⟩— Γ′ ⊣ ids≡</a>
    <a id="7938" href="Coherence.Hypotheses.html#7866" class="Function">txout↝</a> <a id="7945" href="Coherence.Hypotheses.html#7945" class="Bound">txoutΓ</a> <a id="7952" class="Symbol">{</a><a id="7953" href="Coherence.Hypotheses.html#7953" class="Bound">x</a><a id="7954" class="Symbol">}</a> <a id="7956" href="Coherence.Hypotheses.html#7956" class="Bound">x∈</a>
      <a id="7965" class="Keyword">with</a> <a id="7970" href="BitML.Semantics.Configurations.Helpers.html#10161" class="Function">∈-ids-++⁻</a> <a id="7980" class="Symbol">(</a><a id="7981" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="7983" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="7985" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="7991" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a><a id="7992" class="Symbol">)</a> <a id="7994" class="Symbol">(</a><a id="7995" href="Coherence.Hypotheses.html#4795" class="Field">A</a> <a id="7997" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="8003" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="8006" href="Coherence.Hypotheses.html#4787" class="Field">ad</a> <a id="8009" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="8010" class="Symbol">)</a> <a id="8012" href="Coherence.Hypotheses.html#7956" class="Bound">x∈</a>
    <a id="8019" class="Symbol">...</a> <a id="8023" class="Symbol">|</a> <a id="8025" href="Data.Sum.Base.html#818" class="InductiveConstructor">inj₂</a> <a id="8030" class="Symbol">()</a>
    <a id="8037" class="Symbol">...</a> <a id="8041" class="Symbol">|</a> <a id="8043" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="8048" href="Coherence.Hypotheses.html#8048" class="Bound">x∈</a>
      <a id="8057" class="Keyword">with</a> <a id="8062" href="BitML.Semantics.Configurations.Helpers.html#10161" class="Function">∈-ids-++⁻</a> <a id="8072" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="8074" class="Symbol">(</a><a id="8075" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="8081" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a><a id="8082" class="Symbol">)</a> <a id="8084" href="Coherence.Hypotheses.html#8048" class="Bound">x∈</a>
    <a id="8091" class="Symbol">...</a> <a id="8095" class="Symbol">|</a> <a id="8097" href="Data.Sum.Base.html#818" class="InductiveConstructor">inj₂</a> <a id="8102" href="Coherence.Hypotheses.html#8102" class="Bound">x∈</a> <a id="8105" class="Symbol">=</a> <a id="8107" href="Prelude.Decidable.Core.html#347" class="Function">contradict</a> <a id="8118" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="8120" href="Coherence.Hypotheses.html#8102" class="Bound">x∈</a> <a id="8123" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="8126" href="Coherence.Hypotheses.html#8164" class="Function">hʳ</a> <a id="8129" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a> <a id="8131" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="8133" class="Bound">x</a> <a id="8135" href="Data.List.Membership.Setoid.html#896" class="Function Operator">L.Mem.∈_</a> <a id="8144" href="Prelude.SubstDSL.html#164" class="Function">⟫</a>
      <a id="8152" class="Keyword">where</a>
      <a id="8164" href="Coherence.Hypotheses.html#8164" class="Function">hʳ</a> <a id="8167" class="Symbol">:</a> <a id="8169" class="Symbol">∀</a> <a id="8171" href="Coherence.Hypotheses.html#8171" class="Bound">Δ</a> <a id="8173" class="Symbol">→</a> <a id="8175" href="Prelude.Null.html#263" class="Field">Null</a> <a id="8180" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="8182" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="8186" class="Symbol">(</a><a id="8187" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="8193" href="Coherence.Hypotheses.html#8171" class="Bound">Δ</a><a id="8194" class="Symbol">)</a>
      <a id="8202" href="Coherence.Hypotheses.html#8164" class="Function">hʳ</a> <a id="8205" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="8208" class="Symbol">=</a> <a id="8210" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="8221" href="Coherence.Hypotheses.html#8164" class="Function">hʳ</a> <a id="8224" class="Symbol">(_</a> <a id="8227" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="8229" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="8231" class="Symbol">)</a> <a id="8233" class="Symbol">=</a> <a id="8235" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
      <a id="8246" href="Coherence.Hypotheses.html#8164" class="Function">hʳ</a> <a id="8249" class="Symbol">(_</a> <a id="8252" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="8254" href="Coherence.Hypotheses.html#8254" class="Bound">Δ</a><a id="8255" class="Symbol">@(_</a> <a id="8259" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="8261" class="Symbol">_))</a> <a id="8265" class="Keyword">rewrite</a> <a id="8273" href="Coherence.Hypotheses.html#8164" class="Function">hʳ</a> <a id="8276" href="Coherence.Hypotheses.html#8254" class="Bound">Δ</a> <a id="8278" class="Symbol">=</a> <a id="8280" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="8295" class="Symbol">_</a>
    <a id="8301" class="Symbol">...</a> <a id="8305" class="Symbol">|</a> <a id="8307" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="8312" href="Coherence.Hypotheses.html#8312" class="Bound">x∈</a> <a id="8315" class="Symbol">=</a> <a id="8317" class="Bound">txoutΓ</a> <a id="8324" href="Coherence.Hypotheses.html#8312" class="Bound">x∈</a>

    <a id="8332" href="Coherence.Hypotheses.html#8332" class="Function">sechash↝</a> <a id="8341" class="Symbol">:</a>  <a id="8344" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="8346" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="8349" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="8357" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="8359" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
    <a id="8366" href="Coherence.Hypotheses.html#8332" class="Function">sechash↝</a> <a id="8375" href="Coherence.Hypotheses.html#8375" class="Bound">sechash′</a> <a id="8384" class="Symbol">=</a> <a id="8386" href="Prelude.Lists.Mappings.html#1750" class="Function">extend-↦</a> <a id="8395" class="Symbol">(</a><a id="8396" href="Data.List.Relation.Binary.Permutation.Propositional.html#1377" class="Function">↭-reflexive</a> <a id="8408" href="Coherence.Hypotheses.html#6513" class="Function">secrets≡</a><a id="8416" class="Symbol">)</a> <a id="8418" href="Coherence.Hypotheses.html#8375" class="Bound">sechash′</a> <a id="8427" href="Coherence.Hypotheses.html#5134" class="Function">sechash⁺</a>

    <a id="8441" href="Coherence.Hypotheses.html#8441" class="Function">κ↝</a> <a id="8444" class="Symbol">:</a> <a id="8446" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="8448" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="8451" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="8454" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="8456" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
    <a id="8463" href="Coherence.Hypotheses.html#8441" class="Function">κ↝</a> <a id="8466" href="Coherence.Hypotheses.html#8466" class="Bound">κ′</a> <a id="8469" class="Symbol">=</a> <a id="8471" href="Prelude.Lists.Mappings.html#1750" class="Function">extend-↦</a> <a id="8480" class="Symbol">(</a><a id="8481" href="Data.List.Relation.Binary.Permutation.Propositional.html#1377" class="Function">↭-reflexive</a> <a id="8493" href="Coherence.Hypotheses.html#7548" class="Function">ads≡</a><a id="8497" class="Symbol">)</a> <a id="8499" href="Coherence.Hypotheses.html#8466" class="Bound">κ′</a> <a id="8502" href="Coherence.Hypotheses.html#8525" class="Function">κ″</a>
      <a id="8511" class="Keyword">where</a>
        <a id="8525" href="Coherence.Hypotheses.html#8525" class="Function">κ″</a> <a id="8528" class="Symbol">:</a> <a id="8530" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="8545" class="Symbol">(</a><a id="8546" href="Coherence.Hypotheses.html#4795" class="Field">A</a> <a id="8548" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="8554" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="8557" href="Coherence.Hypotheses.html#4787" class="Field">ad</a> <a id="8560" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="8561" class="Symbol">)</a> <a id="8563" href="Prelude.Lists.Mappings.html#654" class="Function Operator">↦′</a> <a id="8566" href="Compiler.Mappings.html#454" class="Function">𝕂²′</a>
        <a id="8578" href="Coherence.Hypotheses.html#8525" class="Function">κ″</a> <a id="8581" href="Coherence.Hypotheses.html#8581" class="Bound">x∈</a> <a id="8584" class="Keyword">with</a> <a id="8589" href="Relation.Nullary.html#1590" class="Field">does</a> <a id="8594" class="Symbol">(</a><a id="8595" href="Coherence.Hypotheses.html#4795" class="Field">A</a> <a id="8597" href="Prelude.Membership.html#455" class="Field Operator">∈?</a> <a id="8600" href="BitML.BasicTypes.html#785" class="Function">Hon</a><a id="8603" class="Symbol">)</a> <a id="8605" class="Symbol">|</a> <a id="8607" href="Coherence.Hypotheses.html#8581" class="Bound">x∈</a>
        <a id="8618" class="Symbol">...</a> <a id="8622" class="Symbol">|</a> <a id="8624" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>  <a id="8630" class="Symbol">|</a> <a id="8632" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="8634" class="Symbol">=</a> <a id="8636" href="Coherence.Hypotheses.html#4806" class="Field">k⃗</a>
        <a id="8647" class="Symbol">...</a> <a id="8651" class="Symbol">|</a> <a id="8653" href="Agda.Builtin.Bool.html#175" class="InductiveConstructor">false</a> <a id="8659" class="Symbol">|</a> <a id="8661" class="Symbol">()</a>
  <a id="8666" href="Coherence.Hypotheses.html#8666" class="Function">λˢ</a> <a id="8669" class="Symbol">:</a> <a id="8671" href="SymbolicModel.Mappings.html#1063" class="Function">ℾᵗ</a> <a id="8674" href="Coherence.Hypotheses.html#1907" class="Function">Γₜ′</a>
  <a id="8680" href="Coherence.Hypotheses.html#8666" class="Function">λˢ</a> <a id="8683" class="Symbol">=</a> <a id="8685" href="SymbolicModel.Mappings.html#7972" class="Function">LIFTˢ</a> <a id="8691" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="8693" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="8695" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="8698" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="8701" href="Coherence.Hypotheses.html#7866" class="Function">txout↝</a> <a id="8708" href="Coherence.Hypotheses.html#8332" class="Function">sechash↝</a> <a id="8717" href="Coherence.Hypotheses.html#8441" class="Function">κ↝</a>
  <a id="8722" class="Keyword">private</a>
    <a id="8734" href="Coherence.Hypotheses.html#8734" class="Function">𝕣′</a> <a id="8737" class="Symbol">:</a> <a id="8739" href="SymbolicModel.Mappings.html#872" class="Function">ℝ</a> <a id="8741" href="Coherence.Hypotheses.html#2419" class="Function">R′</a>
    <a id="8748" href="Coherence.Hypotheses.html#8734" class="Function">𝕣′</a> <a id="8751" class="Symbol">=</a> <a id="8753" href="SymbolicModel.Mappings.html#5769" class="Function">ℝ-step</a> <a id="8760" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="8762" class="Symbol">(</a><a id="8763" href="Coherence.Hypotheses.html#2275" class="Function">𝕒</a> <a id="8765" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8767" href="Coherence.Hypotheses.html#8666" class="Function">λˢ</a><a id="8769" class="Symbol">)</a>
  <a id="8773" class="Keyword">abstract</a>
    <a id="8786" href="Coherence.Hypotheses.html#8786" class="Function">value-preserving⇒</a> <a id="8804" class="Symbol">:</a>
      <a id="8812" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="8829" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a>
      <a id="8837" href="Prelude.InferenceRules.html#14163" class="Function Operator">───────────────────</a>
      <a id="8863" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="8880" href="Coherence.Hypotheses.html#8734" class="Function">𝕣′</a>
    <a id="8887" href="Coherence.Hypotheses.html#8786" class="Function">value-preserving⇒</a> <a id="8905" href="Coherence.Hypotheses.html#8905" class="Bound">pv-txout</a> <a id="8914" class="Symbol">=</a> <a id="8916" href="Coherence.Hypotheses.html#10055" class="Function">pv-txout′</a>
      <a id="8932" class="Keyword">where</a>
      <a id="8944" class="Keyword">open</a> <a id="8949" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

      <a id="8968" href="Coherence.Hypotheses.html#8968" class="Function">txoutR</a> <a id="8975" class="Symbol">:</a> <a id="8977" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="8983" class="Symbol">(</a><a id="8984" href="Coherence.Hypotheses.html#2411" class="Function">R</a> <a id="8986" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="8990" class="Symbol">)</a>
      <a id="8998" href="Coherence.Hypotheses.html#8968" class="Function">txoutR</a> <a id="9005" class="Symbol">=</a> <a id="9007" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="9009" href="SymbolicModel.Mappings.html#8977" class="Function Operator">∙txoutEnd_</a>

      <a id="9027" href="Coherence.Hypotheses.html#9027" class="Function">txoutΓ</a> <a id="9034" class="Symbol">:</a> <a id="9036" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="9042" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>
      <a id="9050" href="Coherence.Hypotheses.html#9027" class="Function">txoutΓ</a> <a id="9057" class="Symbol">=</a> <a id="9059" href="SymbolicModel.Mappings.html#1931" class="Function">Txout≈</a> <a id="9066" class="Symbol">{</a><a id="9067" href="Coherence.Hypotheses.html#2411" class="Function">R</a> <a id="9069" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="9073" class="Symbol">}{</a><a id="9075" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="9076" class="Symbol">}</a> <a id="9078" class="Symbol">(</a><a id="9079" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="9082" class="Symbol">.</a><a id="9083" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="9088" class="Symbol">)</a> <a id="9090" href="Coherence.Hypotheses.html#8968" class="Function">txoutR</a>

      <a id="9104" href="Coherence.Hypotheses.html#9104" class="Function">pv-txoutΓ</a> <a id="9114" class="Symbol">:</a> <a id="9116" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="9132" class="Symbol">{</a><a id="9133" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="9134" class="Symbol">}</a> <a id="9136" href="Coherence.Hypotheses.html#9027" class="Function">txoutΓ</a>
      <a id="9149" href="Coherence.Hypotheses.html#9104" class="Function">pv-txoutΓ</a> <a id="9159" class="Symbol">=</a> <a id="9161" href="SymbolicModel.ValuePreservation.html#2490" class="Function">ValuePreserving-Txout≈</a> <a id="9184" class="Symbol">{</a><a id="9185" href="Coherence.Hypotheses.html#2411" class="Function">R</a> <a id="9187" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="9191" class="Symbol">}{</a><a id="9193" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="9194" class="Symbol">}</a> <a id="9196" class="Symbol">(</a><a id="9197" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="9200" class="Symbol">.</a><a id="9201" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="9206" class="Symbol">)</a> <a id="9208" href="Coherence.Hypotheses.html#8968" class="Function">txoutR</a> <a id="9215" href="Coherence.Hypotheses.html#8905" class="Bound">pv-txout</a>

      <a id="9231" href="Coherence.Hypotheses.html#9231" class="Function">txoutΓ′</a> <a id="9239" class="Symbol">:</a> <a id="9241" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="9247" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
      <a id="9256" href="Coherence.Hypotheses.html#9231" class="Function">txoutΓ′</a> <a id="9264" class="Symbol">=</a> <a id="9266" href="Coherence.Hypotheses.html#7866" class="Function">txout↝</a> <a id="9273" href="Coherence.Hypotheses.html#9027" class="Function">txoutΓ</a>

      <a id="9287" href="Coherence.Hypotheses.html#9287" class="Function">pv↝</a> <a id="9291" class="Symbol">:</a> <a id="9293" href="SymbolicModel.ValuePreservation.html#3214" class="Function">ValuePreserving↝</a> <a id="9310" class="Symbol">{</a><a id="9311" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="9312" class="Symbol">}{</a><a id="9314" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a><a id="9316" class="Symbol">}</a> <a id="9318" href="Coherence.Hypotheses.html#7866" class="Function">txout↝</a>
      <a id="9331" href="Coherence.Hypotheses.html#9287" class="Function">pv↝</a> <a id="9335" href="Coherence.Hypotheses.html#9335" class="Bound">txoutΓ</a> <a id="9342" href="Coherence.Hypotheses.html#9342" class="Bound">pv-txoutΓ</a> <a id="9352" class="Symbol">{</a><a id="9353" href="Coherence.Hypotheses.html#9353" class="Bound">x</a><a id="9354" class="Symbol">}</a> <a id="9356" href="Coherence.Hypotheses.html#9356" class="Bound">x∈</a>
        <a id="9367" class="Keyword">with</a> <a id="9372" href="BitML.Semantics.Configurations.Helpers.html#10161" class="Function">∈-ids-++⁻</a> <a id="9382" class="Symbol">(</a><a id="9383" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="9385" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="9387" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="9393" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a><a id="9394" class="Symbol">)</a> <a id="9396" class="Symbol">(</a><a id="9397" href="Coherence.Hypotheses.html#4795" class="Field">A</a> <a id="9399" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="9405" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="9408" href="Coherence.Hypotheses.html#4787" class="Field">ad</a> <a id="9411" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="9412" class="Symbol">)</a> <a id="9414" href="Coherence.Hypotheses.html#9356" class="Bound">x∈</a>
      <a id="9423" class="Symbol">...</a> <a id="9427" class="Symbol">|</a> <a id="9429" href="Data.Sum.Base.html#818" class="InductiveConstructor">inj₂</a> <a id="9434" class="Symbol">()</a>
      <a id="9443" class="Symbol">...</a> <a id="9447" class="Symbol">|</a> <a id="9449" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="9454" href="Coherence.Hypotheses.html#9454" class="Bound">x∈</a>
        <a id="9465" class="Keyword">with</a> <a id="9470" href="BitML.Semantics.Configurations.Helpers.html#10161" class="Function">∈-ids-++⁻</a> <a id="9480" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="9482" class="Symbol">(</a><a id="9483" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="9489" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a><a id="9490" class="Symbol">)</a> <a id="9492" href="Coherence.Hypotheses.html#9454" class="Bound">x∈</a>
      <a id="9501" class="Symbol">...</a> <a id="9505" class="Symbol">|</a> <a id="9507" href="Data.Sum.Base.html#818" class="InductiveConstructor">inj₂</a> <a id="9512" href="Coherence.Hypotheses.html#9512" class="Bound">x∈</a> <a id="9515" class="Symbol">=</a> <a id="9517" href="Prelude.Decidable.Core.html#347" class="Function">contradict</a> <a id="9528" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="9530" href="Coherence.Hypotheses.html#9512" class="Bound">x∈</a> <a id="9533" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="9536" href="Coherence.Hypotheses.html#9578" class="Function">hʳ</a> <a id="9539" href="Coherence.Hypotheses.html#4956" class="Function">Δ</a> <a id="9541" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="9543" class="Bound">x</a> <a id="9545" href="Data.List.Membership.Setoid.html#896" class="Function Operator">L.Mem.∈_</a> <a id="9554" href="Prelude.SubstDSL.html#164" class="Function">⟫</a>
        <a id="9564" class="Keyword">where</a>
        <a id="9578" href="Coherence.Hypotheses.html#9578" class="Function">hʳ</a> <a id="9581" class="Symbol">:</a> <a id="9583" class="Symbol">∀</a> <a id="9585" href="Coherence.Hypotheses.html#9585" class="Bound">Δ</a> <a id="9587" class="Symbol">→</a> <a id="9589" href="Prelude.Null.html#263" class="Field">Null</a> <a id="9594" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="9596" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="9600" class="Symbol">(</a><a id="9601" href="Coherence.Hypotheses.html#5738" class="Function">mkRev</a> <a id="9607" href="Coherence.Hypotheses.html#9585" class="Bound">Δ</a><a id="9608" class="Symbol">)</a>
        <a id="9618" href="Coherence.Hypotheses.html#9578" class="Function">hʳ</a> <a id="9621" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="9624" class="Symbol">=</a> <a id="9626" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="9639" href="Coherence.Hypotheses.html#9578" class="Function">hʳ</a> <a id="9642" class="Symbol">(_</a> <a id="9645" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="9647" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="9649" class="Symbol">)</a> <a id="9651" class="Symbol">=</a> <a id="9653" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="9666" href="Coherence.Hypotheses.html#9578" class="Function">hʳ</a> <a id="9669" class="Symbol">(_</a> <a id="9672" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="9674" href="Coherence.Hypotheses.html#9674" class="Bound">Δ</a><a id="9675" class="Symbol">@(_</a> <a id="9679" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="9681" class="Symbol">_))</a> <a id="9685" class="Keyword">rewrite</a> <a id="9693" href="Coherence.Hypotheses.html#9578" class="Function">hʳ</a> <a id="9696" href="Coherence.Hypotheses.html#9674" class="Bound">Δ</a> <a id="9698" class="Symbol">=</a> <a id="9700" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="9715" class="Symbol">_</a>
      <a id="9723" class="Symbol">...</a> <a id="9727" class="Symbol">|</a> <a id="9729" href="Data.Sum.Base.html#793" class="InductiveConstructor">inj₁</a> <a id="9734" href="Coherence.Hypotheses.html#9734" class="Bound">x∈</a> <a id="9737" class="Symbol">=</a> <a id="9739" class="Bound">pv-txoutΓ</a> <a id="9749" href="Coherence.Hypotheses.html#9734" class="Bound">x∈</a>

      <a id="9759" href="Coherence.Hypotheses.html#9759" class="Function">pv-txoutΓ′</a> <a id="9770" class="Symbol">:</a> <a id="9772" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="9788" class="Symbol">{</a><a id="9789" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a><a id="9791" class="Symbol">}</a> <a id="9793" href="Coherence.Hypotheses.html#9231" class="Function">txoutΓ′</a>
      <a id="9807" href="Coherence.Hypotheses.html#9759" class="Function">pv-txoutΓ′</a> <a id="9818" class="Symbol">=</a> <a id="9820" href="Coherence.Hypotheses.html#9287" class="Function">pv↝</a> <a id="9824" href="Coherence.Hypotheses.html#9027" class="Function">txoutΓ</a> <a id="9831" href="Coherence.Hypotheses.html#9104" class="Function">pv-txoutΓ</a>

      <a id="9848" href="Coherence.Hypotheses.html#9848" class="Function">txoutΓ″</a> <a id="9856" class="Symbol">:</a> <a id="9858" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="9864" href="Coherence.Hypotheses.html#2161" class="Function">Γ″</a>
      <a id="9873" href="Coherence.Hypotheses.html#9848" class="Function">txoutΓ″</a> <a id="9881" class="Symbol">=</a> <a id="9883" href="SymbolicModel.Mappings.html#1931" class="Function">Txout≈</a> <a id="9890" class="Symbol">{</a><a id="9891" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a><a id="9893" class="Symbol">}{</a><a id="9895" href="Coherence.Hypotheses.html#2161" class="Function">Γ″</a><a id="9897" class="Symbol">}</a> <a id="9899" class="Symbol">(</a><a id="9900" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="9906" href="Coherence.Hypotheses.html#2174" class="Function">Γ≈</a><a id="9908" class="Symbol">)</a> <a id="9910" href="Coherence.Hypotheses.html#9231" class="Function">txoutΓ′</a>

      <a id="9925" href="Coherence.Hypotheses.html#9925" class="Function">pv-txoutΓ″</a> <a id="9936" class="Symbol">:</a> <a id="9938" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="9954" class="Symbol">{</a><a id="9955" href="Coherence.Hypotheses.html#2161" class="Function">Γ″</a><a id="9957" class="Symbol">}</a> <a id="9959" href="Coherence.Hypotheses.html#9848" class="Function">txoutΓ″</a>
      <a id="9973" href="Coherence.Hypotheses.html#9925" class="Function">pv-txoutΓ″</a> <a id="9984" class="Symbol">=</a> <a id="9986" href="SymbolicModel.ValuePreservation.html#2490" class="Function">ValuePreserving-Txout≈</a> <a id="10009" class="Symbol">{</a><a id="10010" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a><a id="10012" class="Symbol">}{</a><a id="10014" href="Coherence.Hypotheses.html#2161" class="Function">Γ″</a><a id="10016" class="Symbol">}</a> <a id="10018" class="Symbol">(</a><a id="10019" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="10025" href="Coherence.Hypotheses.html#2174" class="Function">Γ≈</a><a id="10027" class="Symbol">)</a> <a id="10029" href="Coherence.Hypotheses.html#9231" class="Function">txoutΓ′</a> <a id="10037" href="Coherence.Hypotheses.html#9759" class="Function">pv-txoutΓ′</a>

      <a id="10055" href="Coherence.Hypotheses.html#10055" class="Function">pv-txout′</a> <a id="10065" class="Symbol">:</a> <a id="10067" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="10084" href="Coherence.Hypotheses.html#8734" class="Function">𝕣′</a>
      <a id="10093" href="Coherence.Hypotheses.html#10055" class="Function">pv-txout′</a> <a id="10103" href="Coherence.Hypotheses.html#10103" class="Bound">x∈</a> <a id="10106" class="Symbol">=</a>
        <a id="10116" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
          <a id="10132" class="Symbol">(</a><a id="10133" href="Coherence.Hypotheses.html#8734" class="Function">𝕣′</a> <a id="10136" href="SymbolicModel.Mappings.html#8977" class="Function Operator">∙txoutEnd</a> <a id="10146" href="Coherence.Hypotheses.html#10103" class="Bound">x∈</a><a id="10148" class="Symbol">)</a> <a id="10150" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
        <a id="10165" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="10168" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="10173" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">_∙value</a> <a id="10181" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="10183" href="SymbolicModel.Properties.html#6895" class="Function">txout∷∘namesʳ⦅end⦆⊆</a> <a id="10203" class="Symbol">{</a><a id="10204" class="Argument">R</a> <a id="10206" class="Symbol">=</a> <a id="10208" href="Coherence.Hypotheses.html#2411" class="Function">R</a><a id="10209" class="Symbol">}</a> <a id="10211" href="Coherence.Hypotheses.html#1941" class="Function">Γ→</a> <a id="10214" class="Symbol">(</a><a id="10215" href="Coherence.Hypotheses.html#2368" class="Function">R≈′</a> <a id="10219" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="10221" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a><a id="10223" class="Symbol">)</a> <a id="10225" href="Coherence.Hypotheses.html#9231" class="Function">txoutΓ′</a> <a id="10233" href="SymbolicModel.Mappings.html#952" class="Function">txout′</a> <a id="10240" class="Symbol">_</a> <a id="10242" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="10254" class="Symbol">(</a><a id="10255" href="Coherence.Hypotheses.html#9848" class="Function">txoutΓ″</a> <a id="10263" href="Coherence.Hypotheses.html#10103" class="Bound">x∈</a><a id="10265" class="Symbol">)</a> <a id="10267" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
        <a id="10282" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="10285" href="Coherence.Hypotheses.html#9925" class="Function">pv-txoutΓ″</a> <a id="10296" class="Symbol">_</a> <a id="10298" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="10310" class="Symbol">(</a><a id="10311" href="Coherence.Hypotheses.html#2161" class="Function">Γ″</a> <a id="10314" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="10316" href="Coherence.Hypotheses.html#10103" class="Bound">x∈</a><a id="10318" class="Symbol">)</a> <a id="10320" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
        <a id="10335" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

<a id="10338" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[2]~_⨾_"></a><a id="10343" href="Coherence.Hypotheses.html#10343" class="Datatype Operator">_⨾_⨾_~ℍ[2]~_⨾_</a> <a id="10358" class="Symbol">:</a> <a id="10360" href="Coherence.Hypotheses.html#1614" class="Function">StepRel</a> <a id="10368" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[2]~_⨾_.mkℍ"></a><a id="10376" href="Coherence.Hypotheses.html#10376" class="InductiveConstructor">mkℍ</a> <a id="10380" class="Symbol">:</a> <a id="10382" class="Symbol">∀</a> <a id="10384" class="Symbol">{</a><a id="10385" href="Coherence.Hypotheses.html#10385" class="Bound">h</a> <a id="10387" class="Symbol">:</a> <a id="10389" href="Coherence.Hypotheses.html#4736" class="Record">H₂-args</a><a id="10396" class="Symbol">}</a> <a id="10398" class="Symbol">{</a><a id="10399" href="Coherence.Hypotheses.html#10399" class="Bound">B</a><a id="10400" class="Symbol">}</a>
    <a id="10406" class="Symbol">→</a> <a id="10408" class="Keyword">let</a>
        <a id="10420" class="Comment">-- (i) consume {G}C and its persistent deposits from Rˢ</a>
        <a id="10484" class="Keyword">open</a> <a id="10489" href="Coherence.Hypotheses.html#4736" class="Module">H₂-args</a> <a id="10497" href="Coherence.Hypotheses.html#10385" class="Bound">h</a> <a id="10499" class="Keyword">renaming</a> <a id="10508" class="Symbol">(</a><a id="10509" href="Coherence.Hypotheses.html#4787" class="Field">ad</a> <a id="10512" class="Symbol">to</a> <a id="10515" class="Field">⟨G⟩C</a><a id="10519" class="Symbol">)</a>

        <a id="10530" href="Coherence.Hypotheses.html#10530" class="Bound">C</a>      <a id="10537" class="Symbol">=</a> <a id="10539" href="SecureCompilation.ComputationalContracts.html#12174" class="Function">encodeAd</a> <a id="10548" href="Coherence.Hypotheses.html#10515" class="Function">⟨G⟩C</a> <a id="10553" class="Symbol">(</a><a id="10554" href="SymbolicModel.Properties.html#4954" class="Function">ad∈⇒Txout</a> <a id="10564" class="Symbol">{</a><a id="10565" href="Coherence.Hypotheses.html#10515" class="Function">⟨G⟩C</a><a id="10569" class="Symbol">}{</a><a id="10571" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="10572" class="Symbol">}{</a><a id="10574" href="Coherence.Hypotheses.html#2115" class="Function">Rˢ</a><a id="10576" class="Symbol">}</a> <a id="10578" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="10580" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="10583" href="SymbolicModel.Mappings.html#952" class="Function">txout′</a><a id="10589" class="Symbol">)</a>
        <a id="10599" href="Coherence.Hypotheses.html#10599" class="Bound">C,h̅,k̅</a>  <a id="10608" class="Symbol">=</a> <a id="10610" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="10617" class="Symbol">(</a><a id="10618" href="Coherence.Hypotheses.html#10530" class="Bound">C</a> <a id="10620" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="10622" href="Coherence.Hypotheses.html#4897" class="Function">h̅</a> <a id="10625" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="10627" href="Coherence.Hypotheses.html#5086" class="Function">k̅</a><a id="10629" class="Symbol">)</a>
        <a id="10639" href="Coherence.Hypotheses.html#10639" class="Bound">C,h̅,k̅ₐ</a> <a id="10648" class="Symbol">=</a> <a id="10650" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="10654" class="Symbol">(</a><a id="10655" href="ComputationalModel.KeyPairs.html#177" class="Function">K</a> <a id="10657" href="Coherence.Hypotheses.html#4795" class="Function">A</a><a id="10658" class="Symbol">)</a> <a id="10660" href="Coherence.Hypotheses.html#10599" class="Bound">C,h̅,k̅</a>

        <a id="10677" class="Comment">-- (ii) broadcast message in Rᶜ</a>
        <a id="10717" href="Coherence.Hypotheses.html#10717" class="Bound">λᶜ</a> <a id="10720" class="Symbol">=</a> <a id="10722" href="Coherence.Hypotheses.html#10399" class="Bound">B</a> <a id="10724" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="10728" href="Coherence.Hypotheses.html#10639" class="Bound">C,h̅,k̅ₐ</a>

        <a id="10746" class="Comment">-- (v) txout = txout′ (vi) extend sechash′ (vii) extend κ′</a>
        <a id="10813" class="Keyword">open</a> <a id="10818" href="Coherence.Hypotheses.html#5658" class="Module">H₂</a> <a id="10821" href="Coherence.Hypotheses.html#10385" class="Bound">h</a> <a id="10823" class="Keyword">using</a> <a id="10829" class="Symbol">(</a><a id="10830" href="Coherence.Hypotheses.html#8666" class="Function">λˢ</a><a id="10832" class="Symbol">)</a>
      <a id="10840" class="Keyword">in</a>

      <a id="10850" class="Comment">-- (i) ⟨G⟩C has been previously advertised in Rᶜ</a>
    <a id="10903" class="Symbol">∀</a> <a id="10905" class="Symbol">(</a><a id="10906" href="Coherence.Hypotheses.html#10906" class="Bound">∃B</a> <a id="10909" class="Symbol">:</a> <a id="10911" href="Data.Product.html#1378" class="Function">∃</a> <a id="10913" class="Symbol">λ</a> <a id="10915" href="Coherence.Hypotheses.html#10915" class="Bound">B</a> <a id="10917" class="Symbol">→</a> <a id="10919" class="Symbol">(</a><a id="10920" href="Coherence.Hypotheses.html#10915" class="Bound">B</a> <a id="10922" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="10926" href="Coherence.Hypotheses.html#10530" class="Bound">C</a><a id="10927" class="Symbol">)</a> <a id="10929" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="10931" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="10938" href="Coherence.Hypotheses.html#2101" class="Function">Rᶜ</a><a id="10940" class="Symbol">)</a> <a id="10942" class="Symbol">→</a>

      <a id="10951" class="Comment">-- ∘ it is the first occurrence of such a broadcast in Rᶜ</a>
    <a id="11013" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="11015" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="11019" class="Symbol">(λ</a> <a id="11022" href="Coherence.Hypotheses.html#11022" class="Bound">l</a> <a id="11024" class="Symbol">→</a> <a id="11026" class="Symbol">∀</a> <a id="11028" href="Coherence.Hypotheses.html#11028" class="Bound">X</a> <a id="11030" class="Symbol">→</a> <a id="11032" href="Coherence.Hypotheses.html#11022" class="Bound">l</a> <a id="11034" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="11036" href="Coherence.Hypotheses.html#11028" class="Bound">X</a> <a id="11038" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="11042" href="Coherence.Hypotheses.html#10530" class="Bound">C</a><a id="11043" class="Symbol">)</a> <a id="11045" class="Symbol">(</a><a id="11046" href="Prelude.Lists.Membership.html#6373" class="Function">Any-tail</a> <a id="11055" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="11057" href="Coherence.Hypotheses.html#10906" class="Bound">∃B</a> <a id="11060" class="Symbol">.</a><a id="11061" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="11066" class="Symbol">)</a>

      <a id="11075" class="Comment">-- ∘ hashes respect security parameter η</a>
    <a id="11120" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="11122" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="11126" class="Symbol">(λ</a> <a id="11129" href="Coherence.Hypotheses.html#11129" class="Bound">hᵢ</a> <a id="11132" class="Symbol">→</a> <a id="11134" href="ComputationalModel.Serialization.html#245" class="Function Operator">∣</a> <a id="11136" href="Coherence.Hypotheses.html#11129" class="Bound">hᵢ</a> <a id="11139" href="ComputationalModel.Serialization.html#245" class="Function Operator">∣ᵐ</a> <a id="11142" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="11144" href="SecureCompilation.ModuleParameters.html#357" class="Field">η</a><a id="11145" class="Symbol">)</a> <a id="11147" href="Coherence.Hypotheses.html#4897" class="Function">h̅</a>

      <a id="11157" class="Comment">-- ∘ make sure that λᶜ is the first occurrence of such a message after C in Rᶜ</a>
    <a id="11240" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="11242" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="11246" class="Symbol">(λ</a> <a id="11249" href="Coherence.Hypotheses.html#11249" class="Bound">l</a> <a id="11251" class="Symbol">→</a> <a id="11253" class="Symbol">∀</a> <a id="11255" href="Coherence.Hypotheses.html#11255" class="Bound">X</a> <a id="11257" class="Symbol">→</a> <a id="11259" href="Coherence.Hypotheses.html#11249" class="Bound">l</a> <a id="11261" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="11263" href="Coherence.Hypotheses.html#11255" class="Bound">X</a> <a id="11265" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="11269" href="Coherence.Hypotheses.html#10639" class="Bound">C,h̅,k̅ₐ</a><a id="11277" class="Symbol">)</a> <a id="11279" class="Symbol">(</a><a id="11280" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="11290" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="11292" href="Coherence.Hypotheses.html#10906" class="Bound">∃B</a> <a id="11295" class="Symbol">.</a><a id="11296" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="11301" class="Symbol">)</a>

      <a id="11310" class="Comment">-- (iii) each hᵢ is obtained by querying the oracle,</a>
      <a id="11369" class="Comment">--       otherwise we have a dishonestly chosen secret</a>
    <a id="11428" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="11430" href="Coherence.Helpers.html#1072" class="Function">CheckOracleInteractions</a> <a id="11454" href="Coherence.Hypotheses.html#2101" class="Function">Rᶜ</a> <a id="11457" href="Coherence.Hypotheses.html#4824" class="Function">Δ×h̅</a>

      <a id="11469" class="Comment">-- (iv) no hash is reused</a>
    <a id="11499" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="11501" href="Data.List.Relation.Unary.Unique.Setoid.html#728" class="Datatype">Unique</a> <a id="11508" href="Coherence.Hypotheses.html#4897" class="Function">h̅</a>
    <a id="11515" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="11517" href="Data.List.Relation.Binary.Disjoint.Setoid.html#851" class="Function">Disjoint</a> <a id="11526" href="Coherence.Hypotheses.html#4897" class="Function">h̅</a> <a id="11529" class="Symbol">(</a><a id="11530" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="11536" href="SymbolicModel.Mappings.html#971" class="Function">sechash′</a><a id="11544" class="Symbol">)</a>

      <a id="11553" href="Prelude.InferenceRules.html#12752" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="11613" href="Coherence.Hypotheses.html#2189" class="Function">Γₜ″</a> <a id="11617" href="Coherence.Hypotheses.html#10343" class="Datatype Operator">⨾</a> <a id="11619" href="Coherence.Hypotheses.html#2128" class="Function">𝕣∗</a> <a id="11622" href="Coherence.Hypotheses.html#10343" class="Datatype Operator">⨾</a> <a id="11624" class="Symbol">(</a><a id="11625" href="Coherence.Hypotheses.html#2275" class="Function">𝕒</a> <a id="11627" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="11629" href="Coherence.Hypotheses.html#8666" class="Function">λˢ</a><a id="11631" class="Symbol">)</a> <a id="11633" href="Coherence.Hypotheses.html#10343" class="Datatype Operator">~ℍ[2]~</a> <a id="11640" href="Coherence.Hypotheses.html#10717" class="Bound">λᶜ</a> <a id="11643" href="Coherence.Hypotheses.html#10343" class="Datatype Operator">⨾</a> <a id="11645" href="Coherence.Hypotheses.html#2101" class="Function">Rᶜ</a>

<a id="11649" class="Comment">-- ** Stipulation: authorizing deposits</a>
<a id="11689" class="Keyword">record</a> <a id="H₃-args"></a><a id="11696" href="Coherence.Hypotheses.html#11696" class="Record">H₃-args</a> <a id="11704" class="Symbol">:</a> <a id="11706" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="11711" class="Keyword">where</a>
  <a id="11719" class="Keyword">constructor</a> <a id="mk"></a><a id="11731" href="Coherence.Hypotheses.html#11731" class="InductiveConstructor">mk</a>
  <a id="11736" class="Keyword">field</a>
    <a id="11746" class="Symbol">{</a><a id="H₃-args.ad"></a><a id="11747" href="Coherence.Hypotheses.html#11747" class="Field">ad</a> <a id="H₃-args.Γ₀"></a><a id="11750" href="Coherence.Hypotheses.html#11750" class="Field">Γ₀</a> <a id="H₃-args.t"></a><a id="11753" href="Coherence.Hypotheses.html#11753" class="Field">t</a> <a id="H₃-args.A"></a><a id="11755" href="Coherence.Hypotheses.html#11755" class="Field">A</a> <a id="H₃-args.x"></a><a id="11757" href="Coherence.Hypotheses.html#11757" class="Field">x</a> <a id="H₃-args.v"></a><a id="11759" href="Coherence.Hypotheses.html#11759" class="Field">v</a><a id="11760" class="Symbol">}</a> <a id="11762" class="Symbol">:</a> <a id="11764" class="Symbol">_</a>
  <a id="11768" class="Keyword">open</a> <a id="11773" href="BitML.Contracts.ModuleMacros.html#761" class="Module">∣AD</a> <a id="11777" href="Coherence.Hypotheses.html#11747" class="Field">ad</a> <a id="11780" class="Keyword">public</a>
  <a id="11789" class="Keyword">field</a>
    <a id="11799" class="Comment">-- Hypotheses from [C-AuthInit]</a>
    <a id="H₃-args.committedA"></a><a id="11835" href="Coherence.Hypotheses.html#11835" class="Field">committedA</a> <a id="11846" class="Symbol">:</a> <a id="11848" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a> <a id="11854" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="11856" href="BitML.Semantics.Configurations.Helpers.html#11398" class="Function">committedParticipants</a> <a id="11878" href="Coherence.Hypotheses.html#11747" class="Field">ad</a> <a id="11881" href="Coherence.Hypotheses.html#11750" class="Field">Γ₀</a>
    <a id="H₃-args.A∈per"></a><a id="11888" href="Coherence.Hypotheses.html#11888" class="Field">A∈per</a> <a id="11894" class="Symbol">:</a> <a id="11896" class="Symbol">(</a><a id="11897" href="Coherence.Hypotheses.html#11755" class="Field">A</a> <a id="11899" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="11901" href="Coherence.Hypotheses.html#11759" class="Field">v</a> <a id="11903" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="11905" href="Coherence.Hypotheses.html#11757" class="Field">x</a><a id="11906" class="Symbol">)</a> <a id="11908" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="11910" href="BitML.Contracts.Collections.html#8546" class="Function">persistentDeposits</a> <a id="11929" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a>
  <a id="11933" class="Keyword">open</a> <a id="11938" href="Coherence.Hypotheses.html#1754" class="Module">Transition</a>
    <a id="11953" class="Symbol">(</a> <a id="11955" class="Symbol">(</a><a id="11956" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="11958" href="Coherence.Hypotheses.html#11747" class="Field">ad</a> <a id="11961" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="11963" href="Coherence.Hypotheses.html#11750" class="Field">Γ₀</a><a id="11965" class="Symbol">)</a> <a id="11967" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="11969" href="Coherence.Hypotheses.html#11753" class="Field">t</a>
    <a id="11975" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">——</a> <a id="11978" href="BitML.Semantics.Label.html#1109" class="InductiveConstructor Operator">auth-init⦅</a> <a id="11989" href="Coherence.Hypotheses.html#11755" class="Field">A</a> <a id="11991" href="BitML.Semantics.Label.html#1109" class="InductiveConstructor Operator">,</a> <a id="11993" href="Coherence.Hypotheses.html#11747" class="Field">ad</a> <a id="11996" href="BitML.Semantics.Label.html#1109" class="InductiveConstructor Operator">,</a> <a id="11998" href="Coherence.Hypotheses.html#11757" class="Field">x</a> <a id="12000" href="BitML.Semantics.Label.html#1109" class="InductiveConstructor Operator">⦆</a> <a id="12002" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">—→</a>
      <a id="12011" class="Symbol">(</a><a id="12012" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="12014" href="Coherence.Hypotheses.html#11747" class="Field">ad</a> <a id="12017" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="12019" href="Coherence.Hypotheses.html#11750" class="Field">Γ₀</a> <a id="12022" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="12024" href="Coherence.Hypotheses.html#11755" class="Field">A</a> <a id="12026" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="12032" href="Coherence.Hypotheses.html#11757" class="Field">x</a> <a id="12034" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="12037" href="Coherence.Hypotheses.html#11747" class="Field">ad</a> <a id="12040" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="12041" class="Symbol">)</a> <a id="12043" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="12045" href="Coherence.Hypotheses.html#11753" class="Field">t</a>
    <a id="12051" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⊣</a> <a id="12053" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="12057" class="Symbol">(</a><a id="12058" href="BitML.Semantics.InferenceRules.html#4369" class="InductiveConstructor">[C-AuthInit]</a> <a id="12071" href="Coherence.Hypotheses.html#11835" class="Field">committedA</a> <a id="12082" href="Coherence.Hypotheses.html#11888" class="Field">A∈per</a><a id="12087" class="Symbol">)</a>
    <a id="12093" class="Symbol">)</a> <a id="12095" class="Keyword">public</a> <a id="12102" class="Keyword">hiding</a> <a id="12109" class="Symbol">(</a><a id="12110" href="Coherence.Hypotheses.html#1831" class="Field">t</a><a id="12111" class="Symbol">)</a>
  <a id="12115" class="Keyword">field</a> <a id="H₃-args.𝕙r"></a><a id="12121" href="Coherence.Hypotheses.html#12121" class="Field">𝕙r</a> <a id="12124" class="Symbol">:</a> <a id="12126" href="Coherence.Hypotheses.html#1970" class="Record">ℍ-Run</a> <a id="12132" href="Coherence.Hypotheses.html#1941" class="Function">Γ→</a>
  <a id="12137" class="Keyword">open</a> <a id="12142" href="Coherence.Hypotheses.html#1970" class="Module">ℍ-Run</a> <a id="12148" href="Coherence.Hypotheses.html#12121" class="Field">𝕙r</a> <a id="12151" class="Keyword">public</a>

<a id="12159" class="Keyword">module</a> <a id="12166" href="Coherence.Hypotheses.html#12166" class="Module">H₃</a> <a id="12169" class="Symbol">(</a><a id="12170" href="Coherence.Hypotheses.html#12170" class="Bound">⋯</a> <a id="12172" class="Symbol">:</a> <a id="12174" href="Coherence.Hypotheses.html#11696" class="Record">H₃-args</a><a id="12181" class="Symbol">)</a> <a id="12183" class="Symbol">(</a><a id="12184" class="Keyword">let</a> <a id="12188" class="Keyword">open</a> <a id="12193" href="Coherence.Hypotheses.html#11696" class="Module">H₃-args</a> <a id="12201" href="Coherence.Hypotheses.html#12170" class="Bound">⋯</a><a id="12202" class="Symbol">)</a> <a id="12204" class="Keyword">where</a>
  <a id="12212" class="Keyword">private</a>
    <a id="12224" href="Coherence.Hypotheses.html#12224" class="Function">𝕘</a> <a id="12226" class="Symbol">:</a> <a id="12228" href="SymbolicModel.Mappings.html#1443" class="Function">𝔾</a> <a id="12230" href="Coherence.Hypotheses.html#11747" class="Field">ad</a>
    <a id="12237" href="Coherence.Hypotheses.html#12224" class="Function">𝕘</a> <a id="12239" class="Symbol">=</a> <a id="12241" href="Coherence.Helpers.html#1856" class="Function">LIFT₀</a> <a id="12247" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="12249" href="Coherence.Hypotheses.html#11753" class="Field">t</a> <a id="12251" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="12253" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="12256" href="Coherence.Hypotheses.html#11747" class="Field">ad</a> <a id="12259" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="12261" href="Coherence.Hypotheses.html#11835" class="Field">committedA</a>
  <a id="12274" href="Coherence.Hypotheses.html#12274" class="Function">T</a> <a id="12276" class="Symbol">:</a> <a id="12278" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
  <a id="12284" href="Coherence.Hypotheses.html#12274" class="Function">T</a> <a id="12286" class="Symbol">=</a> <a id="12288" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="12291" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="12294" href="Coherence.Helpers.html#4326" class="Function">COMPILE-INIT</a> <a id="12307" href="Coherence.Hypotheses.html#12224" class="Function">𝕘</a>
  <a id="12311" class="Keyword">private</a>
    <a id="12323" href="Coherence.Hypotheses.html#12323" class="Function">names≡</a> <a id="12330" class="Symbol">:</a> <a id="12332" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="12335" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="12338" href="BitML.Contracts.Collections.html#4018" class="Function">names</a> <a id="12344" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="12346" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>
    <a id="12352" href="Coherence.Hypotheses.html#12323" class="Function">names≡</a> <a id="12359" class="Keyword">rewrite</a> <a id="12367" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="12386" class="Symbol">{</a><a id="12387" class="Argument">X</a> <a id="12389" class="Symbol">=</a> <a id="12391" href="BitML.BasicTypes.html#375" class="Function">Name</a><a id="12395" class="Symbol">}</a> <a id="12397" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="12399" class="Symbol">(</a><a id="12400" href="Coherence.Hypotheses.html#11755" class="Field">A</a> <a id="12402" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="12408" href="Coherence.Hypotheses.html#11757" class="Field">x</a> <a id="12410" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="12413" href="Coherence.Hypotheses.html#11747" class="Field">ad</a> <a id="12416" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="12417" class="Symbol">)</a>
                  <a id="12437" class="Symbol">=</a> <a id="12439" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="12454" class="Symbol">_</a>

    <a id="12461" href="Coherence.Hypotheses.html#12461" class="Function">ids≡</a> <a id="12466" class="Symbol">:</a> <a id="12468" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="12471" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="12474" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="12478" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="12480" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>
    <a id="12486" href="Coherence.Hypotheses.html#12461" class="Function">ids≡</a> <a id="12491" class="Symbol">=</a> <a id="12493" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="12498" href="Prelude.Lists.Core.html#2266" class="Function">filter₂</a> <a id="12506" href="Coherence.Hypotheses.html#12323" class="Function">names≡</a>

    <a id="12518" href="Coherence.Hypotheses.html#12518" class="Function">secrets≡</a> <a id="12527" class="Symbol">:</a> <a id="12529" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="12532" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="12535" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="12543" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="12545" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>
    <a id="12551" href="Coherence.Hypotheses.html#12518" class="Function">secrets≡</a> <a id="12560" class="Symbol">=</a> <a id="12562" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="12567" href="Prelude.Lists.Core.html#2207" class="Function">filter₁</a> <a id="12575" href="Coherence.Hypotheses.html#12323" class="Function">names≡</a>

    <a id="12587" href="Coherence.Hypotheses.html#12587" class="Function">ads≡</a> <a id="12592" class="Symbol">:</a> <a id="12594" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="12597" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="12600" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="12615" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="12617" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>
    <a id="12623" href="Coherence.Hypotheses.html#12587" class="Function">ads≡</a> <a id="12628" class="Keyword">rewrite</a> <a id="12636" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="12655" class="Symbol">{</a><a id="12656" class="Argument">X</a> <a id="12658" class="Symbol">=</a> <a id="12660" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="12662" class="Symbol">}</a> <a id="12664" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="12666" class="Symbol">(</a><a id="12667" href="Coherence.Hypotheses.html#11755" class="Field">A</a> <a id="12669" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="12675" href="Coherence.Hypotheses.html#11757" class="Field">x</a> <a id="12677" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="12680" href="Coherence.Hypotheses.html#11747" class="Field">ad</a> <a id="12683" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="12684" class="Symbol">)</a>
                <a id="12702" class="Symbol">=</a> <a id="12704" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="12719" class="Symbol">_</a>

    <a id="12726" href="Coherence.Hypotheses.html#12726" class="Function">txout↝</a> <a id="12733" class="Symbol">:</a> <a id="12735" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="12737" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="12740" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="12746" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="12748" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
    <a id="12755" href="Coherence.Hypotheses.html#12726" class="Function">txout↝</a> <a id="12762" href="Coherence.Hypotheses.html#12762" class="Bound">txout′</a> <a id="12769" class="Keyword">rewrite</a> <a id="12777" href="Coherence.Hypotheses.html#12461" class="Function">ids≡</a> <a id="12782" class="Symbol">=</a> <a id="12784" href="Coherence.Hypotheses.html#12762" class="Bound">txout′</a>

    <a id="12796" href="Coherence.Hypotheses.html#12796" class="Function">sechash↝</a> <a id="12805" class="Symbol">:</a> <a id="12807" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="12809" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="12812" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="12820" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="12822" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
    <a id="12829" href="Coherence.Hypotheses.html#12796" class="Function">sechash↝</a> <a id="12838" href="Coherence.Hypotheses.html#12838" class="Bound">sechash′</a> <a id="12847" class="Keyword">rewrite</a> <a id="12855" href="Coherence.Hypotheses.html#12518" class="Function">secrets≡</a> <a id="12864" class="Symbol">=</a> <a id="12866" href="Coherence.Hypotheses.html#12838" class="Bound">sechash′</a>

    <a id="12880" href="Coherence.Hypotheses.html#12880" class="Function">κ↝</a> <a id="12883" class="Symbol">:</a> <a id="12885" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="12887" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="12890" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="12893" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="12895" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
    <a id="12902" href="Coherence.Hypotheses.html#12880" class="Function">κ↝</a> <a id="12905" href="Coherence.Hypotheses.html#12905" class="Bound">κ′</a> <a id="12908" class="Keyword">rewrite</a> <a id="12916" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="12935" class="Symbol">{</a><a id="12936" class="Argument">X</a> <a id="12938" class="Symbol">=</a> <a id="12940" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="12942" class="Symbol">}</a> <a id="12944" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="12946" class="Symbol">(</a><a id="12947" href="Coherence.Hypotheses.html#11755" class="Field">A</a> <a id="12949" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="12955" href="Coherence.Hypotheses.html#11757" class="Field">x</a> <a id="12957" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="12960" href="Coherence.Hypotheses.html#11747" class="Field">ad</a> <a id="12963" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="12964" class="Symbol">)</a>
                <a id="12982" class="Symbol">|</a> <a id="12984" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="12999" class="Symbol">(</a><a id="13000" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="13015" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="13016" class="Symbol">)</a>
                <a id="13034" class="Symbol">=</a> <a id="13036" href="Coherence.Hypotheses.html#12905" class="Bound">κ′</a>
  <a id="13041" href="Coherence.Hypotheses.html#13041" class="Function">λˢ</a> <a id="13044" class="Symbol">:</a> <a id="13046" href="SymbolicModel.Mappings.html#1063" class="Function">ℾᵗ</a> <a id="13049" href="Coherence.Hypotheses.html#1907" class="Function">Γₜ′</a>
  <a id="13055" href="Coherence.Hypotheses.html#13041" class="Function">λˢ</a> <a id="13058" class="Symbol">=</a> <a id="13060" href="SymbolicModel.Mappings.html#7972" class="Function">LIFTˢ</a> <a id="13066" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="13068" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="13070" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="13073" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="13076" href="Coherence.Hypotheses.html#12726" class="Function">txout↝</a> <a id="13083" href="Coherence.Hypotheses.html#12796" class="Function">sechash↝</a> <a id="13092" href="Coherence.Hypotheses.html#12880" class="Function">κ↝</a>

<a id="13096" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[3]~_⨾_"></a><a id="13101" href="Coherence.Hypotheses.html#13101" class="Datatype Operator">_⨾_⨾_~ℍ[3]~_⨾_</a> <a id="13116" class="Symbol">:</a> <a id="13118" href="Coherence.Hypotheses.html#1614" class="Function">StepRel</a> <a id="13126" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[3]~_⨾_.mkℍ"></a><a id="13134" href="Coherence.Hypotheses.html#13134" class="InductiveConstructor">mkℍ</a> <a id="13138" class="Symbol">:</a> <a id="13140" class="Symbol">∀</a> <a id="13142" class="Symbol">{</a><a id="13143" href="Coherence.Hypotheses.html#13143" class="Bound">h</a> <a id="13145" class="Symbol">:</a> <a id="13147" href="Coherence.Hypotheses.html#11696" class="Record">H₃-args</a><a id="13154" class="Symbol">}</a> <a id="13156" class="Symbol">{</a><a id="13157" href="Coherence.Hypotheses.html#13157" class="Bound">B</a><a id="13158" class="Symbol">}</a>
    <a id="13164" class="Symbol">→</a> <a id="13166" class="Keyword">let</a>
        <a id="13178" class="Comment">-- (i) consume {G}C and its persistent deposits from Rˢ</a>
        <a id="13242" class="Keyword">open</a> <a id="13247" href="Coherence.Hypotheses.html#11696" class="Module">H₃-args</a> <a id="13255" href="Coherence.Hypotheses.html#13143" class="Bound">h</a>

        <a id="13266" class="Comment">-- (iv) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="13325" class="Keyword">open</a> <a id="13330" href="Coherence.Hypotheses.html#12166" class="Module">H₃</a> <a id="13333" href="Coherence.Hypotheses.html#13143" class="Bound">h</a> <a id="13335" class="Keyword">using</a> <a id="13341" class="Symbol">(</a><a id="13342" href="Coherence.Hypotheses.html#13041" class="Function">λˢ</a><a id="13344" class="Symbol">;</a> <a id="13346" href="Coherence.Hypotheses.html#12274" class="Function">T</a><a id="13347" class="Symbol">)</a>

        <a id="13358" class="Comment">-- (i) broadcast Tᵢₙᵢₜ , signed with A&#39;s private key</a>
        <a id="13419" href="Coherence.Hypotheses.html#13419" class="Bound">m</a> <a id="13421" class="Symbol">=</a> <a id="13423" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="13427" class="Symbol">(</a><a id="13428" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="13431" href="Coherence.Hypotheses.html#11755" class="Function">A</a><a id="13432" class="Symbol">)</a> <a id="13434" href="Coherence.Hypotheses.html#12274" class="Function">T</a>
        <a id="13444" href="Coherence.Hypotheses.html#13444" class="Bound">λᶜ</a> <a id="13447" class="Symbol">=</a> <a id="13449" href="Coherence.Hypotheses.html#13157" class="Bound">B</a> <a id="13451" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="13455" href="Coherence.Hypotheses.html#13419" class="Bound">m</a>
      <a id="13463" class="Keyword">in</a>

      <a id="13473" class="Comment">-- (ii) Tᵢₙᵢₜ occurs as a message in Rᶜ</a>
    <a id="13517" class="Symbol">∀</a> <a id="13519" class="Symbol">(</a><a id="13520" href="Coherence.Hypotheses.html#13520" class="Bound">∃B</a> <a id="13523" class="Symbol">:</a> <a id="13525" href="Data.Product.html#1378" class="Function">∃</a> <a id="13527" class="Symbol">λ</a> <a id="13529" href="Coherence.Hypotheses.html#13529" class="Bound">B</a> <a id="13531" class="Symbol">→</a> <a id="13533" href="Coherence.Hypotheses.html#13529" class="Bound">B</a> <a id="13535" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="13539" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="13546" class="Symbol">(</a><a id="13547" href="Coherence.Hypotheses.html#12274" class="Function">T</a> <a id="13549" class="Symbol">.</a><a id="13550" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="13556" class="Symbol">.</a><a id="13557" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="13562" class="Symbol">)</a> <a id="13564" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="13566" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="13573" href="Coherence.Hypotheses.html#2101" class="Function">Rᶜ</a><a id="13575" class="Symbol">)</a> <a id="13577" class="Symbol">→</a>

      <a id="13586" class="Comment">-- (iii) broadcast message in Rᶜ</a>
      <a id="13625" class="Comment">-- ∘ λᶜ is the first occurrence of such a message after Tinit in Rᶜ</a>
    <a id="13697" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="13699" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="13703" class="Symbol">(λ</a> <a id="13706" href="Coherence.Hypotheses.html#13706" class="Bound">l</a> <a id="13708" class="Symbol">→</a> <a id="13710" class="Symbol">∀</a> <a id="13712" href="Coherence.Hypotheses.html#13712" class="Bound">X</a> <a id="13714" class="Symbol">→</a> <a id="13716" href="Coherence.Hypotheses.html#13706" class="Bound">l</a> <a id="13718" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="13720" href="Coherence.Hypotheses.html#13712" class="Bound">X</a> <a id="13722" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="13726" href="Coherence.Hypotheses.html#13419" class="Bound">m</a><a id="13727" class="Symbol">)</a> <a id="13729" class="Symbol">(</a><a id="13730" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="13740" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="13742" href="Coherence.Hypotheses.html#13520" class="Bound">∃B</a> <a id="13745" class="Symbol">.</a><a id="13746" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="13751" class="Symbol">)</a>

      <a id="13760" href="Prelude.InferenceRules.html#12752" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="13820" href="Coherence.Hypotheses.html#2189" class="Function">Γₜ″</a> <a id="13824" href="Coherence.Hypotheses.html#13101" class="Datatype Operator">⨾</a> <a id="13826" href="Coherence.Hypotheses.html#2128" class="Function">𝕣∗</a> <a id="13829" href="Coherence.Hypotheses.html#13101" class="Datatype Operator">⨾</a> <a id="13831" class="Symbol">(</a><a id="13832" href="Coherence.Hypotheses.html#2275" class="Function">𝕒</a> <a id="13834" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="13836" href="Coherence.Hypotheses.html#13041" class="Function">λˢ</a><a id="13838" class="Symbol">)</a> <a id="13840" href="Coherence.Hypotheses.html#13101" class="Datatype Operator">~ℍ[3]~</a> <a id="13847" href="Coherence.Hypotheses.html#13444" class="Bound">λᶜ</a> <a id="13850" href="Coherence.Hypotheses.html#13101" class="Datatype Operator">⨾</a> <a id="13852" href="Coherence.Hypotheses.html#2101" class="Function">Rᶜ</a>

<a id="13856" class="Comment">-- ** Stipulation: activating the contract</a>
<a id="13899" class="Keyword">record</a> <a id="H₄-args"></a><a id="13906" href="Coherence.Hypotheses.html#13906" class="Record">H₄-args</a> <a id="13914" class="Symbol">:</a> <a id="13916" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="13921" class="Keyword">where</a>
  <a id="13929" class="Keyword">constructor</a> <a id="mk"></a><a id="13941" href="Coherence.Hypotheses.html#13941" class="InductiveConstructor">mk</a>
  <a id="13946" class="Keyword">field</a>
    <a id="13956" class="Symbol">{</a><a id="H₄-args.ad"></a><a id="13957" href="Coherence.Hypotheses.html#13957" class="Field">ad</a> <a id="H₄-args.Γ₀"></a><a id="13960" href="Coherence.Hypotheses.html#13960" class="Field">Γ₀</a> <a id="H₄-args.t"></a><a id="13963" href="Coherence.Hypotheses.html#13963" class="Field">t</a> <a id="H₄-args.z"></a><a id="13965" href="Coherence.Hypotheses.html#13965" class="Field">z</a><a id="13966" class="Symbol">}</a> <a id="13968" class="Symbol">:</a> <a id="13970" class="Symbol">_</a>
  <a id="13974" class="Keyword">open</a> <a id="13979" href="BitML.Contracts.ModuleMacros.html#761" class="Module">∣AD</a> <a id="13983" href="Coherence.Hypotheses.html#13957" class="Field">ad</a> <a id="13986" class="Keyword">public</a>
  <a id="H₄-args.ds"></a><a id="13995" href="Coherence.Hypotheses.html#13995" class="Function">ds</a> <a id="13998" class="Symbol">=</a> <a id="14000" href="BitML.Contracts.Collections.html#8546" class="Function">persistentDeposits</a> <a id="14019" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a>
  <a id="H₄-args.vs"></a><a id="14023" href="Coherence.Hypotheses.html#14023" class="Function">vs</a> <a id="14026" class="Symbol">=</a> <a id="14028" href="Data.List.Base.html#1553" class="Function">map</a> <a id="14032" href="Prelude.Nary.html#2292" class="Function">select₂</a> <a id="14040" href="Coherence.Hypotheses.html#13995" class="Function">ds</a>
  <a id="H₄-args.xs"></a><a id="14045" href="Coherence.Hypotheses.html#14045" class="Function">xs</a> <a id="14048" class="Symbol">=</a> <a id="14050" href="Data.List.Base.html#1553" class="Function">map</a> <a id="14054" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="14062" href="Coherence.Hypotheses.html#13995" class="Function">ds</a>
  <a id="H₄-args.v"></a><a id="14067" href="Coherence.Hypotheses.html#14067" class="Function">v</a>  <a id="14070" class="Symbol">=</a> <a id="14072" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="14076" href="Coherence.Hypotheses.html#14023" class="Function">vs</a>
  <a id="14081" class="Keyword">field</a>
    <a id="14091" class="Comment">-- Hypotheses from [C-Init]</a>
    <a id="H₄-args.fresh-z"></a><a id="14123" href="Coherence.Hypotheses.html#14123" class="Field">fresh-z</a> <a id="14131" class="Symbol">:</a> <a id="14133" href="Coherence.Hypotheses.html#13965" class="Field">z</a> <a id="14135" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="14137" href="Coherence.Hypotheses.html#14045" class="Function">xs</a> <a id="14140" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="14143" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="14147" href="Coherence.Hypotheses.html#13960" class="Field">Γ₀</a>
  <a id="H₄-args.Γ₁"></a><a id="14152" href="Coherence.Hypotheses.html#14152" class="Function">Γ₁</a> <a id="14155" class="Symbol">=</a> <a id="14157" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="14161" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="14163" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="14165" href="Coherence.Hypotheses.html#13957" class="Field">ad</a> <a id="14168" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14170" href="Coherence.Hypotheses.html#13960" class="Field">Γ₀</a>
  <a id="H₄-args.Γ₂"></a><a id="14175" href="Coherence.Hypotheses.html#14175" class="Function">Γ₂</a> <a id="14178" class="Symbol">=</a> <a id="14180" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="14184" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="14186" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="14189" href="Data.List.Base.html#1553" class="Function">map</a> <a id="14193" class="Symbol">(λ{</a> <a id="14197" class="Symbol">(</a><a id="14198" href="Coherence.Hypotheses.html#14198" class="Bound">Aᵢ</a> <a id="14201" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14203" href="Coherence.Hypotheses.html#14203" class="Bound">vᵢ</a> <a id="14206" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14208" href="Coherence.Hypotheses.html#14208" class="Bound">xᵢ</a><a id="14210" class="Symbol">)</a> <a id="14212" class="Symbol">→</a>
    <a id="14218" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="14220" href="Coherence.Hypotheses.html#14198" class="Bound">Aᵢ</a> <a id="14223" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="14227" href="Coherence.Hypotheses.html#14203" class="Bound">vᵢ</a> <a id="14230" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="14234" href="Coherence.Hypotheses.html#14208" class="Bound">xᵢ</a> <a id="14237" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14239" href="Coherence.Hypotheses.html#14198" class="Bound">Aᵢ</a> <a id="14242" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="14248" href="Coherence.Hypotheses.html#14208" class="Bound">xᵢ</a> <a id="14251" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="14255" href="Coherence.Hypotheses.html#13957" class="Field">ad</a> <a id="14258" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="14260" class="Symbol">})</a> <a id="14263" href="Coherence.Hypotheses.html#13995" class="Function">ds</a>
  <a id="H₄-args.Γ₃"></a><a id="14268" href="Coherence.Hypotheses.html#14268" class="Function">Γ₃</a> <a id="14271" class="Symbol">=</a> <a id="14273" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="14277" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="14279" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="14282" href="Data.List.Base.html#1553" class="Function">map</a> <a id="14286" class="Symbol">(</a><a id="14287" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">_auth[</a> <a id="14294" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="14297" href="Coherence.Hypotheses.html#13957" class="Field">ad</a> <a id="14300" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="14301" class="Symbol">)</a> <a id="14303" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a>
  <a id="14311" class="Keyword">open</a> <a id="14316" href="Coherence.Hypotheses.html#1754" class="Module">Transition</a>
    <a id="14331" class="Symbol">(</a> <a id="14333" class="Symbol">(</a><a id="14334" href="Coherence.Hypotheses.html#14152" class="Function">Γ₁</a> <a id="14337" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14339" href="Coherence.Hypotheses.html#14175" class="Function">Γ₂</a> <a id="14342" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14344" href="Coherence.Hypotheses.html#14268" class="Function">Γ₃</a><a id="14346" class="Symbol">)</a> <a id="14348" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="14350" href="Coherence.Hypotheses.html#13963" class="Field">t</a>
    <a id="14356" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">——</a> <a id="14359" href="BitML.Semantics.Label.html#1172" class="InductiveConstructor Operator">init⦅</a> <a id="14365" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a> <a id="14367" href="BitML.Semantics.Label.html#1172" class="InductiveConstructor Operator">,</a> <a id="14369" href="BitML.Contracts.ModuleMacros.html#783" class="Function">C</a> <a id="14371" href="BitML.Semantics.Label.html#1172" class="InductiveConstructor Operator">⦆</a> <a id="14373" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">—→</a>
      <a id="14382" class="Symbol">(</a><a id="14383" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="14385" href="BitML.Contracts.ModuleMacros.html#783" class="Function">C</a> <a id="14387" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="14389" href="Coherence.Hypotheses.html#14067" class="Function">v</a> <a id="14391" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="14395" href="Coherence.Hypotheses.html#13965" class="Field">z</a> <a id="14397" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14399" href="Coherence.Hypotheses.html#13960" class="Field">Γ₀</a><a id="14401" class="Symbol">)</a> <a id="14403" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="14405" href="Coherence.Hypotheses.html#13963" class="Field">t</a>
    <a id="14411" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⊣</a> <a id="14413" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="14417" class="Symbol">(</a><a id="14418" href="BitML.Semantics.InferenceRules.html#4741" class="InductiveConstructor">[C-Init]</a> <a id="14427" href="Coherence.Hypotheses.html#14123" class="Field">fresh-z</a><a id="14434" class="Symbol">)</a>
    <a id="14440" class="Symbol">)</a> <a id="14442" class="Keyword">public</a> <a id="14449" class="Keyword">hiding</a> <a id="14456" class="Symbol">(</a><a id="14457" href="Coherence.Hypotheses.html#1831" class="Field">t</a><a id="14458" class="Symbol">)</a>
  <a id="14462" class="Keyword">field</a> <a id="H₄-args.𝕙r"></a><a id="14468" href="Coherence.Hypotheses.html#14468" class="Field">𝕙r</a> <a id="14471" class="Symbol">:</a> <a id="14473" href="Coherence.Hypotheses.html#1970" class="Record">ℍ-Run</a> <a id="14479" href="Coherence.Hypotheses.html#1941" class="Function">Γ→</a>
  <a id="14484" class="Keyword">open</a> <a id="14489" href="Coherence.Hypotheses.html#1970" class="Module">ℍ-Run</a> <a id="14495" href="Coherence.Hypotheses.html#14468" class="Field">𝕙r</a> <a id="14498" class="Keyword">public</a>

<a id="14506" class="Keyword">module</a> <a id="14513" href="Coherence.Hypotheses.html#14513" class="Module">H₄</a> <a id="14516" class="Symbol">(</a><a id="14517" href="Coherence.Hypotheses.html#14517" class="Bound">⋯</a> <a id="14519" class="Symbol">:</a> <a id="14521" href="Coherence.Hypotheses.html#13906" class="Record">H₄-args</a><a id="14528" class="Symbol">)</a> <a id="14530" class="Symbol">(</a><a id="14531" class="Keyword">let</a> <a id="14535" class="Keyword">open</a> <a id="14540" href="Coherence.Hypotheses.html#13906" class="Module">H₄-args</a> <a id="14548" href="Coherence.Hypotheses.html#14517" class="Bound">⋯</a><a id="14549" class="Symbol">)</a> <a id="14551" class="Keyword">where</a>
  <a id="14559" class="Keyword">private</a>
    <a id="14571" href="Coherence.Hypotheses.html#14571" class="Function">committedA</a> <a id="14582" class="Symbol">:</a> <a id="14584" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a> <a id="14590" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="14592" href="BitML.Semantics.Configurations.Helpers.html#11398" class="Function">committedParticipants</a> <a id="14614" href="Coherence.Hypotheses.html#13957" class="Field">ad</a> <a id="14617" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>
    <a id="14623" href="Coherence.Hypotheses.html#14571" class="Function">committedA</a> <a id="14634" class="Symbol">{</a><a id="14635" href="Coherence.Hypotheses.html#14635" class="Bound">p</a><a id="14636" class="Symbol">}</a> <a id="14638" href="Coherence.Hypotheses.html#14638" class="Bound">p∈</a> <a id="14641" class="Symbol">=</a>
      <a id="14649" href="BitML.Semantics.Configurations.Helpers.html#8196" class="Function">∈-collect-++⁺ʳ</a> <a id="14664" class="Symbol">(</a><a id="14665" href="Coherence.Hypotheses.html#14152" class="Function">Γ₁</a> <a id="14668" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="14670" href="Coherence.Hypotheses.html#14175" class="Function">Γ₂</a><a id="14672" class="Symbol">)</a> <a id="14674" href="Coherence.Hypotheses.html#14268" class="Function">Γ₃</a> <a id="14677" class="Symbol">⦃</a> <a id="14679" href="BitML.Semantics.Configurations.Helpers.html#11543" class="Function">∣committedParticipants∣.go</a> <a id="14706" href="Coherence.Hypotheses.html#13957" class="Field">ad</a> <a id="14709" class="Symbol">⦄</a> <a id="14711" href="Coherence.Hypotheses.html#14727" class="Function">p∈′</a>
      <a id="14721" class="Keyword">where</a> <a id="14727" href="Coherence.Hypotheses.html#14727" class="Function">p∈′</a> <a id="14731" class="Symbol">:</a> <a id="14733" href="Coherence.Hypotheses.html#14635" class="Bound">p</a> <a id="14735" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="14737" href="BitML.Semantics.Configurations.Helpers.html#11398" class="Function">committedParticipants</a> <a id="14759" href="Coherence.Hypotheses.html#13957" class="Field">ad</a> <a id="14762" href="Coherence.Hypotheses.html#14268" class="Function">Γ₃</a>
            <a id="14777" href="Coherence.Hypotheses.html#14727" class="Function">p∈′</a> <a id="14781" class="Keyword">rewrite</a> <a id="14789" href="BitML.Semantics.Configurations.Helpers.html#12836" class="Function">committedPartG≡</a> <a id="14805" class="Symbol">{</a><a id="14806" href="Coherence.Hypotheses.html#13957" class="Field">ad</a><a id="14808" class="Symbol">}</a> <a id="14810" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a> <a id="14816" class="Symbol">=</a> <a id="14818" href="Coherence.Hypotheses.html#14638" class="Bound">p∈</a>

    <a id="14826" href="Coherence.Hypotheses.html#14826" class="Function">𝕘</a> <a id="14828" class="Symbol">:</a> <a id="14830" href="SymbolicModel.Mappings.html#1443" class="Function">𝔾</a> <a id="14832" href="Coherence.Hypotheses.html#13957" class="Field">ad</a>
    <a id="14839" href="Coherence.Hypotheses.html#14826" class="Function">𝕘</a> <a id="14841" class="Symbol">=</a> <a id="14843" href="Coherence.Helpers.html#1856" class="Function">LIFT₀</a> <a id="14849" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="14851" href="Coherence.Hypotheses.html#13963" class="Field">t</a> <a id="14853" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="14855" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="14858" href="Coherence.Hypotheses.html#13957" class="Field">ad</a> <a id="14861" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="14863" href="Coherence.Hypotheses.html#14571" class="Function">committedA</a>
  <a id="14876" href="Coherence.Hypotheses.html#14876" class="Function">T</a> <a id="14878" class="Symbol">:</a> <a id="14880" href="Compiler.Outputs.html#206" class="Function">InitTx</a> <a id="14887" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a>
  <a id="14891" href="Coherence.Hypotheses.html#14876" class="Function">T</a> <a id="14893" class="Symbol">=</a> <a id="14895" href="Coherence.Helpers.html#4326" class="Function">COMPILE-INIT</a> <a id="14908" href="Coherence.Hypotheses.html#14826" class="Function">𝕘</a>
  <a id="14912" class="Keyword">private</a>
    <a id="14924" href="Coherence.Hypotheses.html#14924" class="Function">mkAuth</a> <a id="14931" class="Symbol">:</a> <a id="14933" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a> <a id="14945" class="Symbol">→</a> <a id="14947" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a>
    <a id="14955" href="Coherence.Hypotheses.html#14924" class="Function">mkAuth</a> <a id="14962" class="Symbol">=</a> <a id="14964" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||_</a>
            <a id="14980" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="14982" href="Data.List.Base.html#1553" class="Function">map</a> <a id="14986" class="Symbol">λ{</a> <a id="14989" class="Symbol">(</a><a id="14990" href="Coherence.Hypotheses.html#14990" class="Bound">Aᵢ</a> <a id="14993" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="14995" href="Coherence.Hypotheses.html#14995" class="Bound">vᵢ</a> <a id="14998" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="15000" href="Coherence.Hypotheses.html#15000" class="Bound">xᵢ</a><a id="15002" class="Symbol">)</a> <a id="15004" class="Symbol">→</a> <a id="15006" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="15008" href="Coherence.Hypotheses.html#14990" class="Bound">Aᵢ</a> <a id="15011" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="15015" href="Coherence.Hypotheses.html#14995" class="Bound">vᵢ</a> <a id="15018" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="15022" href="Coherence.Hypotheses.html#15000" class="Bound">xᵢ</a> <a id="15025" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15027" href="Coherence.Hypotheses.html#14990" class="Bound">Aᵢ</a> <a id="15030" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="15036" href="Coherence.Hypotheses.html#15000" class="Bound">xᵢ</a> <a id="15039" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="15043" href="Coherence.Hypotheses.html#13957" class="Field">ad</a> <a id="15046" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="15048" class="Symbol">}</a>

    <a id="15055" href="Coherence.Hypotheses.html#15055" class="Function">h₀</a> <a id="15058" class="Symbol">:</a> <a id="15060" class="Symbol">∀</a> <a id="15062" href="Coherence.Hypotheses.html#15062" class="Bound">ps</a> <a id="15065" class="Symbol">→</a> <a id="15067" href="Prelude.Null.html#263" class="Field">Null</a> <a id="15072" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="15074" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="15078" class="Symbol">(</a><a id="15079" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="15082" href="Data.List.Base.html#1553" class="Function">map</a> <a id="15086" class="Symbol">(</a><a id="15087" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">_auth[</a> <a id="15094" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="15097" href="Coherence.Hypotheses.html#13957" class="Field">ad</a> <a id="15100" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="15101" class="Symbol">)</a> <a id="15103" href="Coherence.Hypotheses.html#15062" class="Bound">ps</a><a id="15105" class="Symbol">)</a>
    <a id="15111" href="Coherence.Hypotheses.html#15055" class="Function">h₀</a> <a id="15114" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="15117" class="Symbol">=</a> <a id="15119" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="15128" href="Coherence.Hypotheses.html#15055" class="Function">h₀</a> <a id="15131" class="Symbol">(_</a> <a id="15134" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15136" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="15138" class="Symbol">)</a> <a id="15140" class="Symbol">=</a> <a id="15142" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="15151" href="Coherence.Hypotheses.html#15055" class="Function">h₀</a> <a id="15154" class="Symbol">(_</a> <a id="15157" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15159" href="Coherence.Hypotheses.html#15159" class="Bound">ps</a><a id="15161" class="Symbol">@(_</a> <a id="15165" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15167" class="Symbol">_))</a> <a id="15171" class="Symbol">=</a> <a id="15173" href="Coherence.Hypotheses.html#15055" class="Function">h₀</a> <a id="15176" href="Coherence.Hypotheses.html#15159" class="Bound">ps</a>

    <a id="15184" href="Coherence.Hypotheses.html#15184" class="Function">h₀′</a> <a id="15188" class="Symbol">:</a> <a id="15190" class="Symbol">∀</a> <a id="15192" class="Symbol">(</a><a id="15193" href="Coherence.Hypotheses.html#15193" class="Bound">ds</a> <a id="15196" class="Symbol">:</a> <a id="15198" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="15209" class="Symbol">)</a> <a id="15211" class="Symbol">→</a> <a id="15213" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="15217" class="Symbol">(</a><a id="15218" href="Coherence.Hypotheses.html#14924" class="Function">mkAuth</a> <a id="15225" href="Coherence.Hypotheses.html#15193" class="Bound">ds</a><a id="15227" class="Symbol">)</a> <a id="15229" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="15231" href="Data.List.Base.html#1553" class="Function">map</a> <a id="15235" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="15243" href="Coherence.Hypotheses.html#15193" class="Bound">ds</a>
    <a id="15250" href="Coherence.Hypotheses.html#15184" class="Function">h₀′</a> <a id="15254" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="15257" class="Symbol">=</a> <a id="15259" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="15268" href="Coherence.Hypotheses.html#15184" class="Function">h₀′</a> <a id="15272" class="Symbol">(_</a> <a id="15275" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15277" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="15279" class="Symbol">)</a> <a id="15281" class="Symbol">=</a> <a id="15283" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="15292" href="Coherence.Hypotheses.html#15184" class="Function">h₀′</a> <a id="15296" class="Symbol">((</a><a id="15298" href="Coherence.Hypotheses.html#15298" class="Bound">Aᵢ</a> <a id="15301" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="15303" href="Coherence.Hypotheses.html#15303" class="Bound">vᵢ</a> <a id="15306" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="15308" href="Coherence.Hypotheses.html#15308" class="Bound">xᵢ</a><a id="15310" class="Symbol">)</a> <a id="15312" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15314" href="Coherence.Hypotheses.html#15314" class="Bound">ds</a><a id="15316" class="Symbol">@(_</a> <a id="15320" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15322" class="Symbol">_))</a> <a id="15326" class="Symbol">=</a>
      <a id="15334" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
        <a id="15348" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="15352" class="Symbol">((</a><a id="15354" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="15356" href="Coherence.Hypotheses.html#15298" class="Bound">Aᵢ</a> <a id="15359" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="15363" href="Coherence.Hypotheses.html#15303" class="Bound">vᵢ</a> <a id="15366" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="15370" href="Coherence.Hypotheses.html#15308" class="Bound">xᵢ</a> <a id="15373" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15375" href="Coherence.Hypotheses.html#15298" class="Bound">Aᵢ</a> <a id="15378" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="15384" href="Coherence.Hypotheses.html#15308" class="Bound">xᵢ</a> <a id="15387" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="15391" href="Coherence.Hypotheses.html#13957" class="Field">ad</a> <a id="15394" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="15395" class="Symbol">)</a> <a id="15397" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15399" href="Coherence.Hypotheses.html#15909" class="Function">Δ</a><a id="15400" class="Symbol">)</a>
      <a id="15408" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="15411" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="15439" href="Data.Sum.html#838" class="Function">isInj₂</a>
          <a id="15456" class="Symbol">(</a><a id="15457" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="15459" href="Coherence.Hypotheses.html#15298" class="Bound">Aᵢ</a> <a id="15462" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="15466" href="Coherence.Hypotheses.html#15303" class="Bound">vᵢ</a> <a id="15469" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="15473" href="Coherence.Hypotheses.html#15308" class="Bound">xᵢ</a> <a id="15476" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15478" href="Coherence.Hypotheses.html#15298" class="Bound">Aᵢ</a> <a id="15481" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="15487" href="Coherence.Hypotheses.html#15308" class="Bound">xᵢ</a> <a id="15490" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="15493" href="Coherence.Hypotheses.html#13957" class="Field">ad</a> <a id="15496" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="15497" class="Symbol">)</a> <a id="15499" href="Coherence.Hypotheses.html#15909" class="Function">Δ</a> <a id="15501" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="15511" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="15515" class="Symbol">(</a><a id="15516" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="15518" href="Coherence.Hypotheses.html#15298" class="Bound">Aᵢ</a> <a id="15521" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="15525" href="Coherence.Hypotheses.html#15303" class="Bound">vᵢ</a> <a id="15528" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="15532" href="Coherence.Hypotheses.html#15308" class="Bound">xᵢ</a> <a id="15535" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="15537" href="Coherence.Hypotheses.html#15298" class="Bound">Aᵢ</a> <a id="15540" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="15546" href="Coherence.Hypotheses.html#15308" class="Bound">xᵢ</a> <a id="15549" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a>  <a id="15553" href="Coherence.Hypotheses.html#13957" class="Field">ad</a> <a id="15556" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="15557" class="Symbol">)</a> <a id="15559" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="15562" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="15566" href="Coherence.Hypotheses.html#15909" class="Function">Δ</a>
      <a id="15574" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="15577" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="15582" class="Symbol">(</a><a id="15583" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="15587" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="15591" href="Coherence.Hypotheses.html#15909" class="Function">Δ</a><a id="15592" class="Symbol">)</a> <a id="15594" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="15596" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="15624" href="Data.Sum.html#838" class="Function">isInj₂</a>
          <a id="15641" class="Symbol">(</a><a id="15642" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="15644" href="Coherence.Hypotheses.html#15298" class="Bound">Aᵢ</a> <a id="15647" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="15651" href="Coherence.Hypotheses.html#15303" class="Bound">vᵢ</a> <a id="15654" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="15658" href="Coherence.Hypotheses.html#15308" class="Bound">xᵢ</a><a id="15660" class="Symbol">)</a> <a id="15662" class="Symbol">(</a><a id="15663" href="Coherence.Hypotheses.html#15298" class="Bound">Aᵢ</a> <a id="15666" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="15672" href="Coherence.Hypotheses.html#15308" class="Bound">xᵢ</a> <a id="15675" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="15678" href="Coherence.Hypotheses.html#13957" class="Field">ad</a> <a id="15681" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="15682" class="Symbol">)</a> <a id="15684" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="15694" class="Symbol">(</a><a id="15695" href="Coherence.Hypotheses.html#15308" class="Bound">xᵢ</a> <a id="15698" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15700" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="15704" class="Symbol">(</a><a id="15705" href="Coherence.Hypotheses.html#15298" class="Bound">Aᵢ</a> <a id="15708" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="15714" href="Coherence.Hypotheses.html#15308" class="Bound">xᵢ</a> <a id="15717" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">▷ˢ</a> <a id="15720" href="Coherence.Hypotheses.html#13957" class="Field">ad</a> <a id="15723" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="15724" class="Symbol">))</a> <a id="15727" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="15730" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="15734" href="Coherence.Hypotheses.html#15909" class="Function">Δ</a>
      <a id="15742" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="15745" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="15750" class="Symbol">(λ</a> <a id="15753" href="Coherence.Hypotheses.html#15753" class="Bound">x</a> <a id="15755" class="Symbol">→</a> <a id="15757" class="Symbol">(</a><a id="15758" href="Coherence.Hypotheses.html#15308" class="Bound">xᵢ</a> <a id="15761" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15763" href="Coherence.Hypotheses.html#15753" class="Bound">x</a><a id="15764" class="Symbol">)</a> <a id="15766" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="15769" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="15773" href="Coherence.Hypotheses.html#15909" class="Function">Δ</a><a id="15774" class="Symbol">)</a> <a id="15776" class="Symbol">(</a><a id="15777" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="15792" class="Symbol">_)</a> <a id="15795" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="15805" href="Coherence.Hypotheses.html#15308" class="Bound">xᵢ</a> <a id="15808" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15810" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="15814" href="Coherence.Hypotheses.html#15909" class="Function">Δ</a>
      <a id="15822" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="15825" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="15830" class="Symbol">(</a><a id="15831" href="Coherence.Hypotheses.html#15308" class="Bound">xᵢ</a> <a id="15834" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷_</a><a id="15836" class="Symbol">)</a> <a id="15838" class="Symbol">(</a><a id="15839" href="Coherence.Hypotheses.html#15184" class="Function">h₀′</a> <a id="15843" href="Coherence.Hypotheses.html#15314" class="Bound">ds</a><a id="15845" class="Symbol">)</a> <a id="15847" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="15857" href="Coherence.Hypotheses.html#15308" class="Bound">xᵢ</a> <a id="15860" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="15862" href="Data.List.Base.html#1553" class="Function">map</a> <a id="15866" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="15874" href="Coherence.Hypotheses.html#15314" class="Bound">ds</a>
      <a id="15883" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="15885" class="Keyword">where</a> <a id="15891" class="Keyword">open</a> <a id="15896" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a><a id="15907" class="Symbol">;</a> <a id="15909" href="Coherence.Hypotheses.html#15909" class="Function">Δ</a> <a id="15911" class="Symbol">=</a> <a id="15913" href="Coherence.Hypotheses.html#14924" class="Function">mkAuth</a> <a id="15920" href="Coherence.Hypotheses.html#15314" class="Bound">ds</a>

    <a id="15928" href="Coherence.Hypotheses.html#15928" class="Function">h₁</a> <a id="15931" class="Symbol">:</a> <a id="15933" class="Symbol">∀</a> <a id="15935" class="Symbol">(</a><a id="15936" href="Coherence.Hypotheses.html#15936" class="Bound">xs</a> <a id="15939" class="Symbol">:</a> <a id="15941" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="15952" class="Symbol">)</a> <a id="15954" class="Symbol">→</a> <a id="15956" href="Prelude.Null.html#263" class="Field">Null</a> <a id="15961" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="15963" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="15971" class="Symbol">(</a><a id="15972" href="Coherence.Hypotheses.html#14924" class="Function">mkAuth</a> <a id="15979" href="Coherence.Hypotheses.html#15936" class="Bound">xs</a><a id="15981" class="Symbol">)</a>
    <a id="15987" href="Coherence.Hypotheses.html#15928" class="Function">h₁</a> <a id="15990" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="15993" class="Symbol">=</a> <a id="15995" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="16004" href="Coherence.Hypotheses.html#15928" class="Function">h₁</a> <a id="16007" class="Symbol">(_</a> <a id="16010" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="16012" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="16014" class="Symbol">)</a> <a id="16016" class="Symbol">=</a> <a id="16018" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="16027" href="Coherence.Hypotheses.html#15928" class="Function">h₁</a> <a id="16030" class="Symbol">(_</a> <a id="16033" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="16035" href="Coherence.Hypotheses.html#16035" class="Bound">xs</a><a id="16037" class="Symbol">@(_</a> <a id="16041" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="16043" class="Symbol">_))</a> <a id="16047" class="Symbol">=</a> <a id="16049" href="Coherence.Hypotheses.html#15928" class="Function">h₁</a> <a id="16052" href="Coherence.Hypotheses.html#16035" class="Bound">xs</a>

    <a id="16060" href="Coherence.Hypotheses.html#16060" class="Function">h₂</a> <a id="16063" class="Symbol">:</a> <a id="16065" class="Symbol">∀</a> <a id="16067" href="Coherence.Hypotheses.html#16067" class="Bound">xs</a> <a id="16070" class="Symbol">→</a> <a id="16072" href="Prelude.Null.html#263" class="Field">Null</a> <a id="16077" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="16079" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="16087" class="Symbol">(</a><a id="16088" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="16091" href="Data.List.Base.html#1553" class="Function">map</a> <a id="16095" class="Symbol">(</a><a id="16096" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">_auth[</a> <a id="16103" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">♯▷</a> <a id="16106" href="Coherence.Hypotheses.html#13957" class="Field">ad</a> <a id="16109" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="16110" class="Symbol">)</a> <a id="16112" href="Coherence.Hypotheses.html#16067" class="Bound">xs</a><a id="16114" class="Symbol">)</a>
    <a id="16120" href="Coherence.Hypotheses.html#16060" class="Function">h₂</a> <a id="16123" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="16126" class="Symbol">=</a> <a id="16128" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="16137" href="Coherence.Hypotheses.html#16060" class="Function">h₂</a> <a id="16140" class="Symbol">(_</a> <a id="16143" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="16145" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="16147" class="Symbol">)</a> <a id="16149" class="Symbol">=</a> <a id="16151" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="16160" href="Coherence.Hypotheses.html#16060" class="Function">h₂</a> <a id="16163" class="Symbol">(_</a> <a id="16166" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="16168" href="Coherence.Hypotheses.html#16168" class="Bound">xs</a><a id="16170" class="Symbol">@(_</a> <a id="16174" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="16176" class="Symbol">_))</a> <a id="16180" class="Symbol">=</a> <a id="16182" href="Coherence.Hypotheses.html#16060" class="Function">h₂</a> <a id="16185" href="Coherence.Hypotheses.html#16168" class="Bound">xs</a>

    <a id="16193" href="Coherence.Hypotheses.html#16193" class="Function">h₁′</a> <a id="16197" class="Symbol">:</a> <a id="16199" class="Symbol">∀</a> <a id="16201" class="Symbol">(</a><a id="16202" href="Coherence.Hypotheses.html#16202" class="Bound">xs</a> <a id="16205" class="Symbol">:</a> <a id="16207" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="16218" class="Symbol">)</a> <a id="16220" class="Symbol">→</a> <a id="16222" href="Prelude.Null.html#263" class="Field">Null</a> <a id="16227" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="16229" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="16244" class="Symbol">(</a><a id="16245" href="Coherence.Hypotheses.html#14924" class="Function">mkAuth</a> <a id="16252" href="Coherence.Hypotheses.html#16202" class="Bound">xs</a><a id="16254" class="Symbol">)</a>
    <a id="16260" href="Coherence.Hypotheses.html#16193" class="Function">h₁′</a> <a id="16264" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="16267" class="Symbol">=</a> <a id="16269" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="16278" href="Coherence.Hypotheses.html#16193" class="Function">h₁′</a> <a id="16282" class="Symbol">(_</a> <a id="16285" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="16287" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="16289" class="Symbol">)</a> <a id="16291" class="Symbol">=</a> <a id="16293" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="16302" href="Coherence.Hypotheses.html#16193" class="Function">h₁′</a> <a id="16306" class="Symbol">(_</a> <a id="16309" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="16311" href="Coherence.Hypotheses.html#16311" class="Bound">xs</a><a id="16313" class="Symbol">@(_</a> <a id="16317" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="16319" class="Symbol">_))</a> <a id="16323" class="Symbol">=</a> <a id="16325" href="Coherence.Hypotheses.html#16193" class="Function">h₁′</a> <a id="16329" href="Coherence.Hypotheses.html#16311" class="Bound">xs</a>

    <a id="16337" href="Coherence.Hypotheses.html#16337" class="Function">ids≡</a> <a id="16342" class="Symbol">:</a> <a id="16344" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16348" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="16350" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="16352" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16356" href="Coherence.Hypotheses.html#13960" class="Field">Γ₀</a> <a id="16359" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="16362" href="Data.List.Base.html#1553" class="Function">map</a> <a id="16366" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="16374" href="Coherence.Hypotheses.html#13995" class="Function">ds</a>
    <a id="16381" href="Coherence.Hypotheses.html#16337" class="Function">ids≡</a> <a id="16386" class="Symbol">=</a> <a id="16388" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
      <a id="16400" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16404" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>                    <a id="16425" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="16428" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="16456" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="16463" class="Symbol">(</a><a id="16464" href="Coherence.Hypotheses.html#14152" class="Function">Γ₁</a> <a id="16467" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="16469" href="Coherence.Hypotheses.html#14175" class="Function">Γ₂</a><a id="16471" class="Symbol">)</a> <a id="16473" href="Coherence.Hypotheses.html#14268" class="Function">Γ₃</a> <a id="16476" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="16484" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16488" class="Symbol">(</a><a id="16489" href="Coherence.Hypotheses.html#14152" class="Function">Γ₁</a> <a id="16492" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="16494" href="Coherence.Hypotheses.html#14175" class="Function">Γ₂</a><a id="16496" class="Symbol">)</a> <a id="16498" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="16501" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16505" href="Coherence.Hypotheses.html#14268" class="Function">Γ₃</a>  <a id="16509" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="16512" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="16517" class="Symbol">(</a><a id="16518" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16522" class="Symbol">(</a><a id="16523" href="Coherence.Hypotheses.html#14152" class="Function">Γ₁</a> <a id="16526" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="16528" href="Coherence.Hypotheses.html#14175" class="Function">Γ₂</a><a id="16530" class="Symbol">)</a> <a id="16532" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="16535" class="Symbol">)</a> <a id="16537" class="Symbol">(</a><a id="16538" href="Coherence.Hypotheses.html#15055" class="Function">h₀</a> <a id="16541" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a><a id="16546" class="Symbol">)</a> <a id="16548" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="16556" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16560" class="Symbol">(</a><a id="16561" href="Coherence.Hypotheses.html#14152" class="Function">Γ₁</a> <a id="16564" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="16566" href="Coherence.Hypotheses.html#14175" class="Function">Γ₂</a><a id="16568" class="Symbol">)</a> <a id="16570" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="16573" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>      <a id="16581" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="16584" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="16599" class="Symbol">_</a> <a id="16601" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="16609" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16613" class="Symbol">(</a><a id="16614" href="Coherence.Hypotheses.html#14152" class="Function">Γ₁</a> <a id="16617" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="16619" href="Coherence.Hypotheses.html#14175" class="Function">Γ₂</a><a id="16621" class="Symbol">)</a>            <a id="16634" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="16637" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="16665" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="16672" href="Coherence.Hypotheses.html#14152" class="Function">Γ₁</a> <a id="16675" href="Coherence.Hypotheses.html#14175" class="Function">Γ₂</a> <a id="16678" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="16686" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16690" href="Coherence.Hypotheses.html#14152" class="Function">Γ₁</a> <a id="16693" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="16696" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16700" href="Coherence.Hypotheses.html#14175" class="Function">Γ₂</a>         <a id="16711" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="16714" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="16719" class="Symbol">(</a><a id="16720" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="16724" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16728" href="Coherence.Hypotheses.html#14175" class="Function">Γ₂</a><a id="16730" class="Symbol">)</a>
                                    <a id="16768" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="16770" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="16798" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="16805" class="Symbol">(</a><a id="16806" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="16808" href="Coherence.Hypotheses.html#13957" class="Field">ad</a><a id="16810" class="Symbol">)</a> <a id="16812" href="Coherence.Hypotheses.html#13960" class="Field">Γ₀</a> <a id="16815" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="16823" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16827" href="Coherence.Hypotheses.html#13960" class="Field">Γ₀</a> <a id="16830" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="16833" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16837" href="Coherence.Hypotheses.html#14175" class="Function">Γ₂</a>         <a id="16848" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="16851" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="16856" class="Symbol">(</a><a id="16857" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16861" href="Coherence.Hypotheses.html#13960" class="Field">Γ₀</a> <a id="16864" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="16867" class="Symbol">)</a> <a id="16869" class="Symbol">(</a><a id="16870" href="Coherence.Hypotheses.html#15184" class="Function">h₀′</a> <a id="16874" href="Coherence.Hypotheses.html#13995" class="Function">ds</a><a id="16876" class="Symbol">)</a> <a id="16878" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="16886" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16890" href="Coherence.Hypotheses.html#13960" class="Field">Γ₀</a> <a id="16893" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="16896" href="Data.List.Base.html#1553" class="Function">map</a> <a id="16900" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="16908" href="Coherence.Hypotheses.html#13995" class="Function">ds</a> <a id="16911" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="16913" class="Keyword">where</a> <a id="16919" class="Keyword">open</a> <a id="16924" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

    <a id="16941" href="Coherence.Hypotheses.html#16941" class="Function">secrets≡</a> <a id="16950" class="Symbol">:</a> <a id="16952" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="16955" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="16958" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="16966" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="16968" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>
    <a id="16974" href="Coherence.Hypotheses.html#16941" class="Function">secrets≡</a> <a id="16983" class="Symbol">=</a> <a id="16985" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="16989" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="16991" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
      <a id="17003" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17011" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>                       <a id="17035" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
      <a id="17045" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17053" class="Symbol">(</a><a id="17054" href="Coherence.Hypotheses.html#14152" class="Function">Γ₁</a> <a id="17057" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="17059" href="Coherence.Hypotheses.html#14175" class="Function">Γ₂</a> <a id="17062" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="17064" href="Coherence.Hypotheses.html#14268" class="Function">Γ₃</a><a id="17066" class="Symbol">)</a>          <a id="17077" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="17080" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="17108" href="Data.Sum.html#755" class="Function">isInj₁</a>
                                           <a id="17158" class="Symbol">(</a><a id="17159" href="Coherence.Hypotheses.html#14152" class="Function">Γ₁</a> <a id="17162" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="17164" href="Coherence.Hypotheses.html#14175" class="Function">Γ₂</a><a id="17166" class="Symbol">)</a> <a id="17168" href="Coherence.Hypotheses.html#14268" class="Function">Γ₃</a> <a id="17171" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="17179" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17187" class="Symbol">(</a><a id="17188" href="Coherence.Hypotheses.html#14152" class="Function">Γ₁</a> <a id="17191" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="17193" href="Coherence.Hypotheses.html#14175" class="Function">Γ₂</a><a id="17195" class="Symbol">)</a> <a id="17197" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="17200" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17208" href="Coherence.Hypotheses.html#14268" class="Function">Γ₃</a> <a id="17211" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="17214" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="17219" class="Symbol">(</a><a id="17220" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17228" class="Symbol">(</a><a id="17229" href="Coherence.Hypotheses.html#14152" class="Function">Γ₁</a> <a id="17232" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="17234" href="Coherence.Hypotheses.html#14175" class="Function">Γ₂</a><a id="17236" class="Symbol">)</a>  <a id="17239" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="17242" class="Symbol">)</a> <a id="17244" class="Symbol">(</a><a id="17245" href="Coherence.Hypotheses.html#16060" class="Function">h₂</a> <a id="17248" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a><a id="17253" class="Symbol">)</a> <a id="17255" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="17263" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17271" class="Symbol">(</a><a id="17272" href="Coherence.Hypotheses.html#14152" class="Function">Γ₁</a> <a id="17275" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="17277" href="Coherence.Hypotheses.html#14175" class="Function">Γ₂</a><a id="17279" class="Symbol">)</a> <a id="17281" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="17284" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>         <a id="17295" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="17298" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="17313" class="Symbol">_</a> <a id="17315" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="17323" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17331" class="Symbol">(</a><a id="17332" href="Coherence.Hypotheses.html#14152" class="Function">Γ₁</a> <a id="17335" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="17337" href="Coherence.Hypotheses.html#14175" class="Function">Γ₂</a><a id="17339" class="Symbol">)</a>               <a id="17355" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="17358" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="17386" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="17393" href="Coherence.Hypotheses.html#14152" class="Function">Γ₁</a> <a id="17396" href="Coherence.Hypotheses.html#14175" class="Function">Γ₂</a> <a id="17399" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="17407" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17415" href="Coherence.Hypotheses.html#14152" class="Function">Γ₁</a> <a id="17418" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="17421" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17429" href="Coherence.Hypotheses.html#14175" class="Function">Γ₂</a>        <a id="17439" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="17442" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="17447" class="Symbol">(</a><a id="17448" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17456" href="Coherence.Hypotheses.html#14152" class="Function">Γ₁</a> <a id="17459" href="Data.List.Base.html#1819" class="Function Operator">++_</a><a id="17462" class="Symbol">)</a> <a id="17464" class="Symbol">(</a><a id="17465" href="Coherence.Hypotheses.html#15928" class="Function">h₁</a> <a id="17468" href="Coherence.Hypotheses.html#13995" class="Function">ds</a><a id="17470" class="Symbol">)</a> <a id="17472" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="17480" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17488" href="Coherence.Hypotheses.html#14152" class="Function">Γ₁</a> <a id="17491" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="17494" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>                <a id="17512" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="17515" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="17530" class="Symbol">_</a> <a id="17532" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
      <a id="17540" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17548" href="Coherence.Hypotheses.html#14152" class="Function">Γ₁</a>                      <a id="17572" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
      <a id="17582" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17590" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>                      <a id="17614" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="17616" class="Keyword">where</a> <a id="17622" class="Keyword">open</a> <a id="17627" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

    <a id="17644" href="Coherence.Hypotheses.html#17644" class="Function">ads⊆′</a> <a id="17650" class="Symbol">:</a> <a id="17652" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="17655" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="17658" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="17673" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="17675" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>
    <a id="17681" href="Coherence.Hypotheses.html#17644" class="Function">ads⊆′</a> <a id="17687" class="Symbol">=</a> <a id="17689" href="Relation.Binary.Reasoning.Base.Double.html#2222" class="Function Operator">begin</a>
      <a id="17701" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="17716" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="17719" href="Relation.Binary.Reasoning.Base.Double.html#3560" class="Function Operator">≡⟨⟩</a>
      <a id="17729" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="17744" href="Coherence.Hypotheses.html#13960" class="Field">Γ₀</a> <a id="17747" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="17750" href="BitML.Semantics.Configurations.Helpers.html#7992" class="Function">∈-collect-++⁺ˡ</a> <a id="17765" class="Symbol">(</a><a id="17766" href="Coherence.Hypotheses.html#14152" class="Function">Γ₁</a> <a id="17769" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="17771" href="Coherence.Hypotheses.html#14175" class="Function">Γ₂</a><a id="17773" class="Symbol">)</a> <a id="17775" href="Coherence.Hypotheses.html#14268" class="Function">Γ₃</a> <a id="17778" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="17780" href="BitML.Semantics.Configurations.Helpers.html#7992" class="Function">∈-collect-++⁺ˡ</a> <a id="17795" href="Coherence.Hypotheses.html#14152" class="Function">Γ₁</a> <a id="17798" href="Coherence.Hypotheses.html#14175" class="Function">Γ₂</a> <a id="17801" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
      <a id="17809" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="17824" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>  <a id="17827" href="Relation.Binary.Reasoning.Base.Double.html#3656" class="Function Operator">∎</a> <a id="17829" class="Keyword">where</a> <a id="17835" class="Keyword">open</a> <a id="17840" href="Data.List.Relation.Binary.Subset.Propositional.Properties.html#3760" class="Module">⊆-Reasoning</a> <a id="17852" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a>

    <a id="17860" href="Coherence.Hypotheses.html#17860" class="Function">sechash↝</a> <a id="17869" class="Symbol">:</a>  <a id="17872" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="17874" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="17877" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="17885" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="17887" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
    <a id="17894" href="Coherence.Hypotheses.html#17860" class="Function">sechash↝</a> <a id="17903" class="Symbol">=</a> <a id="17905" href="SymbolicModel.Mappings.html#3609" class="Function Operator">lift</a> <a id="17910" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="17912" href="SymbolicModel.Mappings.html#3609" class="Function Operator">—⟨</a> <a id="17915" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="17923" href="SymbolicModel.Mappings.html#3609" class="Function Operator">⟩—</a> <a id="17926" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="17929" href="SymbolicModel.Mappings.html#3609" class="Function Operator">⊣</a> <a id="17931" href="Coherence.Hypotheses.html#16941" class="Function">secrets≡</a>

    <a id="17945" href="Coherence.Hypotheses.html#17945" class="Function">κ↝</a> <a id="17948" class="Symbol">:</a> <a id="17950" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="17952" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="17955" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="17958" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="17960" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
    <a id="17967" href="Coherence.Hypotheses.html#17945" class="Function">κ↝</a> <a id="17970" href="Coherence.Hypotheses.html#17970" class="Bound">κ′</a> <a id="17973" class="Symbol">=</a> <a id="17975" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="17984" href="Coherence.Hypotheses.html#17970" class="Bound">κ′</a> <a id="17987" href="Coherence.Hypotheses.html#17644" class="Function">ads⊆′</a>

    <a id="17998" href="Coherence.Hypotheses.html#17998" class="Function">txout↝</a> <a id="18005" class="Symbol">:</a> <a id="18007" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="18009" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="18012" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="18018" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="18020" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
    <a id="18027" href="Coherence.Hypotheses.html#17998" class="Function">txout↝</a> <a id="18034" href="Coherence.Hypotheses.html#18034" class="Bound">txout′</a>
      <a id="18047" class="Keyword">rewrite</a> <a id="18055" href="Coherence.Hypotheses.html#16337" class="Function">ids≡</a>
      <a id="18066" class="Symbol">=</a> <a id="18068" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="18075" href="Coherence.Hypotheses.html#13965" class="Field">z</a> <a id="18077" class="Symbol">((</a><a id="18079" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="18082" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="18085" href="Coherence.Hypotheses.html#14876" class="Function">T</a><a id="18086" class="Symbol">)</a> <a id="18088" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="18091" class="Number">0</a><a id="18092" class="Symbol">)</a>
      <a id="18100" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="18102" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="18111" href="Coherence.Hypotheses.html#18034" class="Bound">txout′</a> <a id="18118" href="Data.List.Membership.Propositional.Properties.html#3965" class="Function">∈-++⁺ˡ</a>
  <a id="18127" href="Coherence.Hypotheses.html#18127" class="Function">λˢ</a> <a id="18130" class="Symbol">:</a> <a id="18132" href="SymbolicModel.Mappings.html#1063" class="Function">ℾᵗ</a> <a id="18135" href="Coherence.Hypotheses.html#1907" class="Function">Γₜ′</a>
  <a id="18141" href="Coherence.Hypotheses.html#18127" class="Function">λˢ</a> <a id="18144" class="Symbol">=</a> <a id="18146" href="SymbolicModel.Mappings.html#7972" class="Function">LIFTˢ</a> <a id="18152" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="18154" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="18156" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="18159" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="18162" href="Coherence.Hypotheses.html#17998" class="Function">txout↝</a> <a id="18169" href="Coherence.Hypotheses.html#17860" class="Function">sechash↝</a> <a id="18178" href="Coherence.Hypotheses.html#17945" class="Function">κ↝</a>

<a id="18182" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[4]~_⨾_"></a><a id="18187" href="Coherence.Hypotheses.html#18187" class="Datatype Operator">_⨾_⨾_~ℍ[4]~_⨾_</a> <a id="18202" class="Symbol">:</a> <a id="18204" href="Coherence.Hypotheses.html#1614" class="Function">StepRel</a> <a id="18212" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[4]~_⨾_.mkℍ"></a><a id="18220" href="Coherence.Hypotheses.html#18220" class="InductiveConstructor">mkℍ</a> <a id="18224" class="Symbol">:</a> <a id="18226" class="Symbol">∀</a> <a id="18228" class="Symbol">{</a><a id="18229" href="Coherence.Hypotheses.html#18229" class="Bound">h</a> <a id="18231" class="Symbol">:</a> <a id="18233" href="Coherence.Hypotheses.html#13906" class="Record">H₄-args</a><a id="18240" class="Symbol">}</a>
    <a id="18246" class="Symbol">→</a> <a id="18248" class="Keyword">let</a>
        <a id="18260" class="Comment">-- (i) consume {G}C and its persistent deposits from Rˢ</a>
        <a id="18324" class="Keyword">open</a> <a id="18329" href="Coherence.Hypotheses.html#13906" class="Module">H₄-args</a> <a id="18337" href="Coherence.Hypotheses.html#18229" class="Bound">h</a>

        <a id="18348" class="Comment">-- (iii) sechash = sechash′, κ = κ′, txout extends txout′ with (z ↦ Tᵢₙᵢₜ)</a>
        <a id="18431" class="Keyword">open</a> <a id="18436" href="Coherence.Hypotheses.html#14513" class="Module">H₄</a> <a id="18439" href="Coherence.Hypotheses.html#18229" class="Bound">h</a> <a id="18441" class="Keyword">using</a> <a id="18447" class="Symbol">(</a><a id="18448" href="Coherence.Hypotheses.html#18127" class="Function">λˢ</a><a id="18450" class="Symbol">;</a> <a id="18452" href="Coherence.Hypotheses.html#14876" class="Function">T</a><a id="18453" class="Symbol">)</a>

        <a id="18464" class="Comment">-- (ii) append Tᵢₙᵢₜ to the blockchain</a>
        <a id="18511" href="Coherence.Hypotheses.html#18511" class="Bound">λᶜ</a> <a id="18514" class="Symbol">=</a> <a id="18516" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="18523" class="Symbol">(</a><a id="18524" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="18527" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="18530" href="Coherence.Hypotheses.html#14876" class="Function">T</a><a id="18531" class="Symbol">)</a>

      <a id="18540" class="Keyword">in</a>
      <a id="18549" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="18609" href="Coherence.Hypotheses.html#2189" class="Function">Γₜ″</a> <a id="18613" href="Coherence.Hypotheses.html#18187" class="Datatype Operator">⨾</a> <a id="18615" href="Coherence.Hypotheses.html#2128" class="Function">𝕣∗</a> <a id="18618" href="Coherence.Hypotheses.html#18187" class="Datatype Operator">⨾</a> <a id="18620" class="Symbol">(</a><a id="18621" href="Coherence.Hypotheses.html#2275" class="Function">𝕒</a> <a id="18623" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="18625" href="Coherence.Hypotheses.html#18127" class="Function">λˢ</a><a id="18627" class="Symbol">)</a> <a id="18629" href="Coherence.Hypotheses.html#18187" class="Datatype Operator">~ℍ[4]~</a> <a id="18636" href="Coherence.Hypotheses.html#18511" class="Bound">λᶜ</a> <a id="18639" href="Coherence.Hypotheses.html#18187" class="Datatype Operator">⨾</a> <a id="18641" href="Coherence.Hypotheses.html#2101" class="Function">Rᶜ</a>

<a id="18645" class="Comment">-- ** Contract actions: authorize control</a>
<a id="18687" class="Keyword">record</a> <a id="H₅-args"></a><a id="18694" href="Coherence.Hypotheses.html#18694" class="Record">H₅-args</a> <a id="18702" class="Symbol">:</a> <a id="18704" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="18709" class="Keyword">where</a>
  <a id="18717" class="Keyword">constructor</a> <a id="mk"></a><a id="18729" href="Coherence.Hypotheses.html#18729" class="InductiveConstructor">mk</a>
  <a id="18734" class="Keyword">field</a>
    <a id="18744" class="Symbol">{</a><a id="H₅-args.c"></a><a id="18745" href="Coherence.Hypotheses.html#18745" class="Field">c</a> <a id="H₅-args.v"></a><a id="18747" href="Coherence.Hypotheses.html#18747" class="Field">v</a> <a id="H₅-args.x"></a><a id="18749" href="Coherence.Hypotheses.html#18749" class="Field">x</a> <a id="H₅-args.Γ₀"></a><a id="18751" href="Coherence.Hypotheses.html#18751" class="Field">Γ₀</a> <a id="H₅-args.t"></a><a id="18754" href="Coherence.Hypotheses.html#18754" class="Field">t</a> <a id="H₅-args.A"></a><a id="18756" href="Coherence.Hypotheses.html#18756" class="Field">A</a><a id="18757" class="Symbol">}</a> <a id="18759" class="Symbol">:</a> <a id="18761" class="Symbol">_</a>
    <a id="18767" class="Symbol">{</a><a id="H₅-args.i"></a><a id="18768" href="Coherence.Hypotheses.html#18768" class="Field">i</a><a id="18769" class="Symbol">}</a> <a id="18771" class="Symbol">:</a> <a id="18773" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="18779" href="Coherence.Hypotheses.html#18745" class="Field">c</a>
  <a id="18783" class="Keyword">open</a> <a id="18788" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="18796" href="Coherence.Hypotheses.html#18745" class="Field">c</a> <a id="18798" href="Coherence.Hypotheses.html#18768" class="Field">i</a> <a id="18800" class="Keyword">public</a>
  <a id="18809" class="Keyword">field</a>
    <a id="18819" class="Comment">-- D ≡ A ∶ D′</a>
    <a id="H₅-args.D≡A:D′"></a><a id="18837" href="Coherence.Hypotheses.html#18837" class="Field">D≡A:D′</a> <a id="18844" class="Symbol">:</a> <a id="18846" href="Coherence.Hypotheses.html#18756" class="Field">A</a> <a id="18848" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="18850" href="BitML.Contracts.Collections.html#14015" class="Function">authDecorations</a> <a id="18866" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a>
    <a id="18872" class="Comment">-- Hypotheses from [C-AuthControl], already in hypothesis `D≡A:D′`</a>
  <a id="18941" class="Keyword">open</a> <a id="18946" href="Coherence.Hypotheses.html#1754" class="Module">Transition</a>
    <a id="18961" class="Symbol">(</a> <a id="18963" class="Symbol">(</a><a id="18964" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="18966" href="Coherence.Hypotheses.html#18745" class="Field">c</a> <a id="18968" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="18970" href="Coherence.Hypotheses.html#18747" class="Field">v</a> <a id="18972" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="18976" href="Coherence.Hypotheses.html#18749" class="Field">x</a> <a id="18978" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="18980" href="Coherence.Hypotheses.html#18751" class="Field">Γ₀</a><a id="18982" class="Symbol">)</a> <a id="18984" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="18986" href="Coherence.Hypotheses.html#18754" class="Field">t</a>
      <a id="18994" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">——</a> <a id="18997" href="BitML.Semantics.Label.html#1451" class="InductiveConstructor Operator">auth-control⦅</a> <a id="19011" href="Coherence.Hypotheses.html#18756" class="Field">A</a> <a id="19013" href="BitML.Semantics.Label.html#1451" class="InductiveConstructor Operator">,</a> <a id="19015" href="Coherence.Hypotheses.html#18749" class="Field">x</a> <a id="19017" href="BitML.Semantics.Label.html#1451" class="InductiveConstructor Operator">▷</a> <a id="19019" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="19021" href="BitML.Semantics.Label.html#1451" class="InductiveConstructor Operator">⦆</a> <a id="19023" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">—→</a>
      <a id="19032" class="Symbol">(</a><a id="19033" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="19035" href="Coherence.Hypotheses.html#18745" class="Field">c</a> <a id="19037" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="19039" href="Coherence.Hypotheses.html#18747" class="Field">v</a> <a id="19041" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="19045" href="Coherence.Hypotheses.html#18749" class="Field">x</a> <a id="19047" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="19049" href="Coherence.Hypotheses.html#18756" class="Field">A</a> <a id="19051" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="19057" href="Coherence.Hypotheses.html#18749" class="Field">x</a> <a id="19059" href="BitML.Semantics.Action.html#565" class="InductiveConstructor Operator">▷</a> <a id="19061" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="19063" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="19065" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="19067" href="Coherence.Hypotheses.html#18751" class="Field">Γ₀</a><a id="19069" class="Symbol">)</a> <a id="19071" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="19073" href="Coherence.Hypotheses.html#18754" class="Field">t</a>
    <a id="19079" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⊣</a> <a id="19081" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="19085" class="Symbol">(</a><a id="19086" href="BitML.Semantics.InferenceRules.html#6523" class="InductiveConstructor">[C-AuthControl]</a> <a id="19102" href="Coherence.Hypotheses.html#18837" class="Field">D≡A:D′</a><a id="19108" class="Symbol">)</a>
    <a id="19114" class="Symbol">)</a> <a id="19116" class="Keyword">public</a> <a id="19123" class="Keyword">hiding</a> <a id="19130" class="Symbol">(</a><a id="19131" href="Coherence.Hypotheses.html#1831" class="Field">t</a><a id="19132" class="Symbol">)</a>
  <a id="19136" class="Keyword">field</a> <a id="H₅-args.𝕙r"></a><a id="19142" href="Coherence.Hypotheses.html#19142" class="Field">𝕙r</a> <a id="19145" class="Symbol">:</a> <a id="19147" href="Coherence.Hypotheses.html#1970" class="Record">ℍ-Run</a> <a id="19153" href="Coherence.Hypotheses.html#1941" class="Function">Γ→</a>
  <a id="19158" class="Keyword">open</a> <a id="19163" href="Coherence.Hypotheses.html#1970" class="Module">ℍ-Run</a> <a id="19169" href="Coherence.Hypotheses.html#19142" class="Field">𝕙r</a> <a id="19172" class="Keyword">public</a>

<a id="19180" class="Keyword">module</a> <a id="19187" href="Coherence.Hypotheses.html#19187" class="Module">H₅</a> <a id="19190" class="Symbol">(</a><a id="19191" href="Coherence.Hypotheses.html#19191" class="Bound">⋯</a> <a id="19193" class="Symbol">:</a> <a id="19195" href="Coherence.Hypotheses.html#18694" class="Record">H₅-args</a><a id="19202" class="Symbol">)</a> <a id="19204" class="Symbol">(</a><a id="19205" class="Keyword">let</a> <a id="19209" class="Keyword">open</a> <a id="19214" href="Coherence.Hypotheses.html#18694" class="Module">H₅-args</a> <a id="19222" href="Coherence.Hypotheses.html#19191" class="Bound">⋯</a><a id="19223" class="Symbol">)</a> <a id="19225" class="Keyword">where</a>
  <a id="19233" class="Keyword">private</a>
    <a id="19245" class="Comment">-- (ii) {G}C is the ancestor of ⟨C, v⟩ₓ in Rˢ</a>
    <a id="19295" href="Coherence.Hypotheses.html#19295" class="Function">T×K</a> <a id="19299" class="Symbol">=</a> <a id="19301" href="Coherence.Helpers.html#4528" class="Function">COMPILE-ANCESTOR</a> <a id="19318" class="Symbol">{</a><a id="19319" class="Argument">Γ</a> <a id="19321" class="Symbol">=</a> <a id="19323" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="19324" class="Symbol">}</a> <a id="19326" class="Symbol">{</a><a id="19327" class="Argument">i</a> <a id="19329" class="Symbol">=</a> <a id="19331" href="Coherence.Hypotheses.html#18768" class="Field">i</a><a id="19332" class="Symbol">}</a> <a id="19334" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="19337" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="19339" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a>

  <a id="19344" href="Coherence.Hypotheses.html#19344" class="Function">T</a> <a id="19346" class="Symbol">:</a> <a id="19348" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="19357" class="Symbol">(</a><a id="19358" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="19360" href="Compiler.Subterms.html#622" class="Field Operator">∗</a><a id="19361" class="Symbol">)</a>
  <a id="19365" href="Coherence.Hypotheses.html#19344" class="Function">T</a> <a id="19367" class="Symbol">=</a> <a id="19369" href="Coherence.Hypotheses.html#19295" class="Function">T×K</a> <a id="19373" class="Symbol">.</a><a id="19374" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>

  <a id="19383" href="Coherence.Hypotheses.html#19383" class="Function">Kᵈ</a> <a id="19386" class="Symbol">:</a> <a id="19388" href="Bitcoin.Crypto.html#346" class="Record">KeyPair</a>
  <a id="19398" href="Coherence.Hypotheses.html#19383" class="Function">Kᵈ</a> <a id="19401" class="Symbol">=</a> <a id="19403" href="Coherence.Hypotheses.html#19295" class="Function">T×K</a> <a id="19407" class="Symbol">.</a><a id="19408" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="19414" href="Coherence.Hypotheses.html#18837" class="Field">D≡A:D′</a>

  <a id="19424" class="Comment">-- (iv) txout = txout′, sechash = sechash′, κ = κ′</a>
  <a id="19477" href="Coherence.Hypotheses.html#19477" class="Function">λˢ</a> <a id="19480" class="Symbol">:</a> <a id="19482" href="SymbolicModel.Mappings.html#1063" class="Function">ℾᵗ</a> <a id="19485" href="Coherence.Hypotheses.html#1907" class="Function">Γₜ′</a>
  <a id="19491" href="Coherence.Hypotheses.html#19477" class="Function">λˢ</a> <a id="19494" class="Symbol">=</a> <a id="19496" href="SymbolicModel.Mappings.html#7972" class="Function">LIFTˢ</a> <a id="19502" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="19504" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="19506" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="19509" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="19512" href="Function.Base.html#624" class="Function">id</a> <a id="19515" href="Function.Base.html#624" class="Function">id</a> <a id="19518" href="Function.Base.html#624" class="Function">id</a>

<a id="19522" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[5]~_⨾_"></a><a id="19527" href="Coherence.Hypotheses.html#19527" class="Datatype Operator">_⨾_⨾_~ℍ[5]~_⨾_</a> <a id="19542" class="Symbol">:</a> <a id="19544" href="Coherence.Hypotheses.html#1614" class="Function">StepRel</a> <a id="19552" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[5]~_⨾_.mkℍ"></a><a id="19560" href="Coherence.Hypotheses.html#19560" class="InductiveConstructor">mkℍ</a> <a id="19564" class="Symbol">:</a>
    <a id="19570" class="Comment">-- (i) Rˢ contains ⟨C , v⟩ₓ with C = D + ∑ᵢ Dᵢ</a>
    <a id="19621" class="Symbol">∀</a> <a id="19623" class="Symbol">{</a><a id="19624" href="Coherence.Hypotheses.html#19624" class="Bound">h</a> <a id="19626" class="Symbol">:</a> <a id="19628" href="Coherence.Hypotheses.html#18694" class="Record">H₅-args</a><a id="19635" class="Symbol">}</a> <a id="19637" class="Symbol">(</a><a id="19638" class="Keyword">open</a> <a id="19643" href="Coherence.Hypotheses.html#18694" class="Module">H₅-args</a> <a id="19651" href="Coherence.Hypotheses.html#19624" class="Bound">h</a><a id="19652" class="Symbol">)</a>
      <a id="19660" class="Symbol">{</a><a id="19661" href="Coherence.Hypotheses.html#19661" class="Bound">B</a> <a id="19663" class="Symbol">:</a> <a id="19665" href="BitML.BasicTypes.html#675" class="Function">Participant</a><a id="19676" class="Symbol">}</a>
    <a id="19682" class="Symbol">→</a> <a id="19684" class="Keyword">let</a>
        <a id="19696" class="Keyword">open</a> <a id="19701" href="Coherence.Hypotheses.html#19187" class="Module">H₅</a> <a id="19704" href="Coherence.Hypotheses.html#19624" class="Bound">h</a> <a id="19706" class="Keyword">using</a> <a id="19712" class="Symbol">(</a><a id="19713" href="Coherence.Hypotheses.html#19477" class="Function">λˢ</a><a id="19715" class="Symbol">;</a> <a id="19717" href="Coherence.Hypotheses.html#19383" class="Function">Kᵈ</a><a id="19719" class="Symbol">;</a> <a id="19721" href="Coherence.Hypotheses.html#19344" class="Function">T</a><a id="19722" class="Symbol">)</a>
        <a id="19732" href="Coherence.Hypotheses.html#19732" class="Bound">λᶜ</a> <a id="19735" class="Symbol">=</a> <a id="19737" href="Coherence.Hypotheses.html#19661" class="Bound">B</a> <a id="19739" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="19743" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="19747" href="Coherence.Hypotheses.html#19383" class="Function">Kᵈ</a> <a id="19750" class="Symbol">(</a><a id="19751" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a> <a id="19755" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="19757" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="19760" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="19763" href="Coherence.Hypotheses.html#19344" class="Function">T</a><a id="19764" class="Symbol">)</a>
      <a id="19772" class="Keyword">in</a>
        <a id="19783" href="Coherence.Hypotheses.html#2189" class="Function">Γₜ″</a> <a id="19787" href="Coherence.Hypotheses.html#19527" class="Datatype Operator">⨾</a> <a id="19789" href="Coherence.Hypotheses.html#2128" class="Function">𝕣∗</a> <a id="19792" href="Coherence.Hypotheses.html#19527" class="Datatype Operator">⨾</a> <a id="19794" class="Symbol">(</a><a id="19795" href="Coherence.Hypotheses.html#2275" class="Function">𝕒</a> <a id="19797" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="19799" href="Coherence.Hypotheses.html#19477" class="Function">λˢ</a><a id="19801" class="Symbol">)</a> <a id="19803" href="Coherence.Hypotheses.html#19527" class="Datatype Operator">~ℍ[5]~</a> <a id="19810" href="Coherence.Hypotheses.html#19732" class="Bound">λᶜ</a> <a id="19813" href="Coherence.Hypotheses.html#19527" class="Datatype Operator">⨾</a> <a id="19815" href="Coherence.Hypotheses.html#2101" class="Function">Rᶜ</a>

<a id="19819" class="Comment">-- ** Contract actions: put</a>
<a id="19847" class="Keyword">record</a> <a id="H₆-args"></a><a id="19854" href="Coherence.Hypotheses.html#19854" class="Record">H₆-args</a> <a id="19862" class="Symbol">:</a> <a id="19864" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="19869" class="Keyword">where</a>
  <a id="19877" class="Keyword">constructor</a> <a id="mk"></a><a id="19889" href="Coherence.Hypotheses.html#19889" class="InductiveConstructor">mk</a>
  <a id="19894" class="Keyword">field</a>
    <a id="19904" class="Symbol">{</a><a id="H₆-args.c"></a><a id="19905" href="Coherence.Hypotheses.html#19905" class="Field">c</a> <a id="H₆-args.v"></a><a id="19907" href="Coherence.Hypotheses.html#19907" class="Field">v</a> <a id="H₆-args.y"></a><a id="19909" href="Coherence.Hypotheses.html#19909" class="Field">y</a> <a id="H₆-args.c′"></a><a id="19911" href="Coherence.Hypotheses.html#19911" class="Field">c′</a> <a id="H₆-args.y′"></a><a id="19914" href="Coherence.Hypotheses.html#19914" class="Field">y′</a> <a id="H₆-args.Γ₀"></a><a id="19917" href="Coherence.Hypotheses.html#19917" class="Field">Γ₀</a> <a id="H₆-args.t"></a><a id="19920" href="Coherence.Hypotheses.html#19920" class="Field">t</a> <a id="H₆-args.p"></a><a id="19922" href="Coherence.Hypotheses.html#19922" class="Field">p</a><a id="19923" class="Symbol">}</a> <a id="19925" class="Symbol">:</a> <a id="19927" class="Symbol">_</a>
    <a id="19933" class="Symbol">{</a><a id="H₆-args.ds"></a><a id="19934" href="Coherence.Hypotheses.html#19934" class="Field">ds</a><a id="19936" class="Symbol">}</a> <a id="19938" class="Symbol">:</a> <a id="19940" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a>
    <a id="19956" class="Symbol">{</a><a id="H₆-args.ss"></a><a id="19957" href="Coherence.Hypotheses.html#19957" class="Field">ss</a><a id="19959" class="Symbol">}</a> <a id="19961" class="Symbol">:</a> <a id="19963" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="19968" class="Symbol">(</a><a id="19969" href="BitML.BasicTypes.html#675" class="Function">Participant</a> <a id="19981" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="19983" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="19990" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="19992" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="19993" class="Symbol">)</a>
    <a id="19999" class="Symbol">{</a><a id="H₆-args.i"></a><a id="20000" href="Coherence.Hypotheses.html#20000" class="Field">i</a><a id="20001" class="Symbol">}</a> <a id="20003" class="Symbol">:</a> <a id="20005" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="20011" href="Coherence.Hypotheses.html#19905" class="Field">c</a>
  <a id="H₆-args.vs"></a><a id="20015" href="Coherence.Hypotheses.html#20015" class="Function">vs</a> <a id="20018" class="Symbol">=</a> <a id="20020" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="20027" href="Coherence.Hypotheses.html#19934" class="Field">ds</a> <a id="20030" class="Symbol">.</a><a id="20031" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="20037" class="Symbol">.</a><a id="20038" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₆-args.xs"></a><a id="20046" href="Coherence.Hypotheses.html#20046" class="Function">xs</a> <a id="20049" class="Symbol">=</a> <a id="20051" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="20058" href="Coherence.Hypotheses.html#19934" class="Field">ds</a> <a id="20061" class="Symbol">.</a><a id="20062" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="20068" class="Symbol">.</a><a id="20069" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="20075" class="Comment">-- (i) xs = x₁⋯xₖ</a>
  <a id="H₆-args.as"></a><a id="20095" href="Coherence.Hypotheses.html#20095" class="Function">as</a> <a id="20098" class="Symbol">=</a> <a id="20100" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="20107" href="Coherence.Hypotheses.html#19957" class="Field">ss</a> <a id="20110" class="Symbol">.</a><a id="20111" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="20117" class="Symbol">.</a><a id="20118" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₆-args.Γ₁"></a><a id="20126" href="Coherence.Hypotheses.html#20126" class="Function">Γ₁</a>  <a id="20130" class="Symbol">=</a> <a id="20132" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="20135" href="Data.List.Base.html#1553" class="Function">map</a> <a id="20139" class="Symbol">(</a><a id="20140" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="20149" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨_has_⟩at_</a><a id="20159" class="Symbol">)</a> <a id="20161" href="Coherence.Hypotheses.html#19934" class="Field">ds</a>
  <a id="H₆-args.Δ"></a><a id="20166" href="Coherence.Hypotheses.html#20166" class="Function">Δ</a>   <a id="20170" class="Symbol">=</a> <a id="20172" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="20175" href="Data.List.Base.html#1553" class="Function">map</a> <a id="20179" class="Symbol">(</a><a id="20180" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="20189" href="BitML.Semantics.Configurations.Types.html#968" class="InductiveConstructor Operator">_∶_♯_</a><a id="20194" class="Symbol">)</a> <a id="20196" href="Coherence.Hypotheses.html#19957" class="Field">ss</a>
  <a id="H₆-args.Γ₂"></a><a id="20201" href="Coherence.Hypotheses.html#20201" class="Function">Γ₂</a>  <a id="20205" class="Symbol">=</a> <a id="20207" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="20211" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="20213" href="Coherence.Hypotheses.html#20166" class="Function">Δ</a> <a id="20215" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="20217" href="Coherence.Hypotheses.html#19917" class="Field">Γ₀</a>
  <a id="H₆-args.Γ₁₂"></a><a id="20222" href="Coherence.Hypotheses.html#20222" class="Function">Γ₁₂</a> <a id="20226" class="Symbol">=</a> <a id="20228" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="20232" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="20234" href="Coherence.Hypotheses.html#20126" class="Function">Γ₁</a> <a id="20237" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="20239" href="Coherence.Hypotheses.html#20201" class="Function">Γ₂</a>
  <a id="20244" class="Keyword">open</a> <a id="20249" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="20257" href="Coherence.Hypotheses.html#19905" class="Field">c</a> <a id="20259" href="Coherence.Hypotheses.html#20000" class="Field">i</a> <a id="20261" class="Keyword">public</a>
  <a id="H₆-args.As"></a><a id="20270" href="Coherence.Hypotheses.html#20270" class="Function">As</a> <a id="20273" class="Symbol">=</a> <a id="20275" href="BitML.Contracts.Collections.html#13915" class="Function">decorations</a> <a id="20287" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="20289" class="Symbol">.</a><a id="20290" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₆-args.ts"></a><a id="20298" href="Coherence.Hypotheses.html#20298" class="Function">ts</a> <a id="20301" class="Symbol">=</a> <a id="20303" href="BitML.Contracts.Collections.html#13915" class="Function">decorations</a> <a id="20315" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="20317" class="Symbol">.</a><a id="20318" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
  <a id="20326" class="Keyword">field</a>
    <a id="20336" class="Comment">-- ii) in Rˢ, α consumes ⟨D+C,v⟩y and the deposits ⟨Aᵢ,vᵢ⟩ₓᵢ</a>
    <a id="20401" class="Comment">-- to produce ⟨C′,v′⟩y′</a>
    <a id="20429" class="Comment">--     where D = ⋯ : put⋯reveal⋯.C′</a>
    <a id="20469" class="Comment">--     let t be the maximum deadline in an `after` in front of D</a>
    <a id="20538" class="Comment">--     T0D0: what should t′ be in case there are no `after` decorations?</a>
    <a id="20615" class="Comment">--           (currently any value)</a>
    <a id="H₆-args.t≡"></a><a id="20654" href="Coherence.Hypotheses.html#20654" class="Field">t≡</a> <a id="20657" class="Symbol">:</a> <a id="20659" href="Coherence.Hypotheses.html#19920" class="Field">t</a> <a id="20661" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="20663" href="Prelude.Ord.MinMax.html#436" class="Function">maximum</a> <a id="20671" href="Coherence.Hypotheses.html#19920" class="Field">t</a> <a id="20673" href="Coherence.Hypotheses.html#20298" class="Function">ts</a>
    <a id="H₆-args.d≡"></a><a id="20680" href="Coherence.Hypotheses.html#20680" class="Field">d≡</a> <a id="20683" class="Symbol">:</a> <a id="20685" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="20687" href="BitML.Contracts.Collections.html#15163" class="Function Operator">≡⋯∶</a> <a id="20691" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">put</a> <a id="20695" href="Coherence.Hypotheses.html#20046" class="Function">xs</a> <a id="20698" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">&amp;reveal</a> <a id="20706" href="Coherence.Hypotheses.html#20095" class="Function">as</a> <a id="20709" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">if</a> <a id="20712" href="Coherence.Hypotheses.html#19922" class="Field">p</a> <a id="20714" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">⇒</a> <a id="20716" href="Coherence.Hypotheses.html#19911" class="Field">c′</a>
    <a id="20723" class="Comment">-- Hypotheses from [C-PutRev]</a>
    <a id="H₆-args.fresh-y′"></a><a id="20757" href="Coherence.Hypotheses.html#20757" class="Field">fresh-y′</a> <a id="20766" class="Symbol">:</a> <a id="20768" href="Coherence.Hypotheses.html#19914" class="Field">y′</a> <a id="20771" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="20773" href="Coherence.Hypotheses.html#19909" class="Field">y</a> <a id="20775" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="20779" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="20783" href="Coherence.Hypotheses.html#20222" class="Function">Γ₁₂</a>
    <a id="H₆-args.p⟦Δ⟧≡"></a><a id="20791" href="Coherence.Hypotheses.html#20791" class="Field">p⟦Δ⟧≡</a> <a id="20797" class="Symbol">:</a> <a id="20799" href="BitML.Semantics.Predicate.html#906" class="Function Operator">⟦</a> <a id="20801" href="Coherence.Hypotheses.html#19922" class="Field">p</a> <a id="20803" href="BitML.Semantics.Predicate.html#906" class="Function Operator">⟧ᵖ</a> <a id="20806" href="Coherence.Hypotheses.html#20166" class="Function">Δ</a> <a id="20808" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="20810" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="20815" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a>
    <a id="20824" class="Comment">-- Hypotheses from [Timeout]</a>
    <a id="H₆-args.As≡∅"></a><a id="20857" href="Coherence.Hypotheses.html#20857" class="Field">As≡∅</a> <a id="20862" class="Symbol">:</a> <a id="20864" href="Prelude.Null.html#263" class="Field">Null</a> <a id="20869" href="Coherence.Hypotheses.html#20270" class="Function">As</a>


  <a id="20876" class="Keyword">private</a>
    <a id="H₆-args.α"></a><a id="20888" href="Coherence.Hypotheses.html#20888" class="Function">α</a>  <a id="20891" class="Symbol">=</a> <a id="20893" href="BitML.Semantics.Label.html#1322" class="InductiveConstructor Operator">put⦅</a> <a id="20898" href="Coherence.Hypotheses.html#20046" class="Function">xs</a> <a id="20901" href="BitML.Semantics.Label.html#1322" class="InductiveConstructor Operator">,</a> <a id="20903" href="Coherence.Hypotheses.html#20095" class="Function">as</a> <a id="20906" href="BitML.Semantics.Label.html#1322" class="InductiveConstructor Operator">,</a> <a id="20908" href="Coherence.Hypotheses.html#19909" class="Field">y</a> <a id="20910" href="BitML.Semantics.Label.html#1322" class="InductiveConstructor Operator">⦆</a>
    <a id="H₆-args.Γ′"></a><a id="20916" href="Coherence.Hypotheses.html#20916" class="Function">Γ′</a> <a id="20919" class="Symbol">=</a> <a id="20921" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="20923" href="Coherence.Hypotheses.html#19911" class="Field">c′</a> <a id="20926" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="20928" href="Coherence.Hypotheses.html#19907" class="Field">v</a> <a id="20930" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="20932" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="20936" href="Coherence.Hypotheses.html#20015" class="Function">vs</a> <a id="20939" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="20943" href="Coherence.Hypotheses.html#19914" class="Field">y′</a> <a id="20946" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="20948" href="Coherence.Hypotheses.html#20201" class="Function">Γ₂</a>

    <a id="H₆-args.∀≤t"></a><a id="20956" href="Coherence.Hypotheses.html#20956" class="Function">∀≤t</a> <a id="20960" class="Symbol">:</a> <a id="20962" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="20966" class="Symbol">(</a><a id="20967" href="Prelude.Ord.Core.html#209" class="Field Operator">_≤</a> <a id="20970" href="Coherence.Hypotheses.html#19920" class="Field">t</a><a id="20971" class="Symbol">)</a> <a id="20973" href="Coherence.Hypotheses.html#20298" class="Function">ts</a>
    <a id="20980" href="Coherence.Hypotheses.html#20956" class="Function">∀≤t</a> <a id="20984" class="Symbol">=</a> <a id="20986" href="Prelude.SubstDSL.html#488" class="Function">⟪</a> <a id="20988" class="Symbol">(λ</a> <a id="20991" href="Coherence.Hypotheses.html#20991" class="Bound">◆</a> <a id="20993" class="Symbol">→</a> <a id="20995" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="20999" class="Symbol">(</a><a id="21000" href="Prelude.Ord.Core.html#209" class="Field Operator">_≤</a> <a id="21003" href="Coherence.Hypotheses.html#20991" class="Bound">◆</a><a id="21004" class="Symbol">)</a> <a id="21006" href="Coherence.Hypotheses.html#20298" class="Function">ts</a><a id="21008" class="Symbol">)</a> <a id="21010" href="Prelude.SubstDSL.html#488" class="Function">⟫</a> <a id="21012" href="Coherence.Hypotheses.html#20654" class="Field">t≡</a> <a id="21015" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="21018" href="Prelude.Ord.MinMax.html#1034" class="Postulate">∀≤max</a> <a id="21024" href="Coherence.Hypotheses.html#19920" class="Field">t</a> <a id="21026" href="Coherence.Hypotheses.html#20298" class="Function">ts</a>

    <a id="H₆-args.put→"></a><a id="21034" href="Coherence.Hypotheses.html#21034" class="Function">put→</a> <a id="21039" class="Symbol">:</a> <a id="21041" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="21043" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="21045" href="BitML.Contracts.ModuleMacros.html#607" class="Function">d∗</a> <a id="21048" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="21050" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="21052" href="Coherence.Hypotheses.html#19907" class="Field">v</a> <a id="21054" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="21058" href="Coherence.Hypotheses.html#19909" class="Field">y</a> <a id="21060" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="21062" href="Coherence.Hypotheses.html#20222" class="Function">Γ₁₂</a> <a id="21066" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="21069" href="Coherence.Hypotheses.html#20888" class="Function">α</a> <a id="21071" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a> <a id="21074" href="Coherence.Hypotheses.html#20916" class="Function">Γ′</a>
    <a id="21081" href="Coherence.Hypotheses.html#21034" class="Function">put→</a> <a id="21086" class="Symbol">=</a> <a id="21088" href="Prelude.SubstDSL.html#488" class="Function">⟪</a> <a id="21090" class="Symbol">(λ</a> <a id="21093" href="Coherence.Hypotheses.html#21093" class="Bound">◆</a> <a id="21095" class="Symbol">→</a> <a id="21097" class="Symbol">(</a><a id="21098" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="21100" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="21102" href="Coherence.Hypotheses.html#21093" class="Bound">◆</a> <a id="21104" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="21106" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="21108" href="Coherence.Hypotheses.html#19907" class="Field">v</a> <a id="21110" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="21114" href="Coherence.Hypotheses.html#19909" class="Field">y</a> <a id="21116" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="21118" class="Symbol">(</a><a id="21119" href="Coherence.Hypotheses.html#20126" class="Function">Γ₁</a> <a id="21122" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="21124" href="Coherence.Hypotheses.html#20201" class="Function">Γ₂</a><a id="21126" class="Symbol">)</a> <a id="21128" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="21131" href="Coherence.Hypotheses.html#20888" class="Function">α</a> <a id="21133" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a> <a id="21136" href="Coherence.Hypotheses.html#20916" class="Function">Γ′</a><a id="21138" class="Symbol">))</a> <a id="21141" href="Prelude.SubstDSL.html#488" class="Function">⟫</a> <a id="21143" href="Coherence.Hypotheses.html#20680" class="Field">d≡</a>
           <a id="21157" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="21160" href="BitML.Semantics.InferenceRules.html#5799" class="InductiveConstructor">[C-PutRev]</a> <a id="21171" class="Symbol">{</a><a id="21172" class="Argument">ds</a> <a id="21175" class="Symbol">=</a> <a id="21177" href="Coherence.Hypotheses.html#19934" class="Field">ds</a><a id="21179" class="Symbol">}</a> <a id="21181" class="Symbol">{</a><a id="21182" class="Argument">ss</a> <a id="21185" class="Symbol">=</a> <a id="21187" href="Coherence.Hypotheses.html#19957" class="Field">ss</a><a id="21189" class="Symbol">}</a> <a id="21191" href="Coherence.Hypotheses.html#20757" class="Field">fresh-y′</a> <a id="21200" href="Coherence.Hypotheses.html#20791" class="Field">p⟦Δ⟧≡</a>

  <a id="21209" class="Keyword">open</a> <a id="21214" href="Coherence.Hypotheses.html#1754" class="Module">Transition</a>
    <a id="21229" class="Symbol">(</a> <a id="21231" class="Symbol">(</a><a id="21232" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="21234" href="Coherence.Hypotheses.html#19905" class="Field">c</a> <a id="21236" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="21238" href="Coherence.Hypotheses.html#19907" class="Field">v</a> <a id="21240" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="21244" href="Coherence.Hypotheses.html#19909" class="Field">y</a> <a id="21246" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="21248" href="Coherence.Hypotheses.html#20222" class="Function">Γ₁₂</a><a id="21251" class="Symbol">)</a> <a id="21253" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="21255" href="Coherence.Hypotheses.html#19920" class="Field">t</a> <a id="21257" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">——</a> <a id="21260" href="Coherence.Hypotheses.html#20888" class="Function">α</a> <a id="21262" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">—→</a> <a id="21265" href="Coherence.Hypotheses.html#20916" class="Function">Γ′</a> <a id="21268" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="21270" href="Coherence.Hypotheses.html#19920" class="Field">t</a>
    <a id="21276" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⊣</a> <a id="21278" href="BitML.Semantics.InferenceRules.html#7812" class="InductiveConstructor">[Timeout]</a> <a id="21288" href="Coherence.Hypotheses.html#20857" class="Field">As≡∅</a> <a id="21293" href="Coherence.Hypotheses.html#20956" class="Function">∀≤t</a> <a id="21297" href="Coherence.Hypotheses.html#21034" class="Function">put→</a> <a id="21302" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="21311" class="Symbol">)</a> <a id="21313" class="Keyword">public</a> <a id="21320" class="Keyword">hiding</a> <a id="21327" class="Symbol">(</a><a id="21328" href="Coherence.Hypotheses.html#1831" class="Field">t</a><a id="21329" class="Symbol">)</a>
  <a id="21333" class="Keyword">field</a> <a id="H₆-args.𝕙r"></a><a id="21339" href="Coherence.Hypotheses.html#21339" class="Field">𝕙r</a> <a id="21342" class="Symbol">:</a> <a id="21344" href="Coherence.Hypotheses.html#1970" class="Record">ℍ-Run</a> <a id="21350" href="Coherence.Hypotheses.html#1941" class="Function">Γ→</a>
  <a id="21355" class="Keyword">open</a> <a id="21360" href="Coherence.Hypotheses.html#1970" class="Module">ℍ-Run</a> <a id="21366" href="Coherence.Hypotheses.html#21339" class="Field">𝕙r</a> <a id="21369" class="Keyword">public</a>

<a id="21377" class="Keyword">module</a> <a id="21384" href="Coherence.Hypotheses.html#21384" class="Module">H₆</a> <a id="21387" class="Symbol">(</a><a id="21388" href="Coherence.Hypotheses.html#21388" class="Bound">⋯</a> <a id="21390" class="Symbol">:</a> <a id="21392" href="Coherence.Hypotheses.html#19854" class="Record">H₆-args</a><a id="21399" class="Symbol">)</a> <a id="21401" class="Symbol">(</a><a id="21402" class="Keyword">let</a> <a id="21406" class="Keyword">open</a> <a id="21411" href="Coherence.Hypotheses.html#19854" class="Module">H₆-args</a> <a id="21419" href="Coherence.Hypotheses.html#21388" class="Bound">⋯</a><a id="21420" class="Symbol">)</a> <a id="21422" class="Keyword">where</a>
  <a id="21430" href="Coherence.Hypotheses.html#21430" class="Function">T</a> <a id="21432" class="Symbol">:</a> <a id="21434" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="21437" class="Symbol">(</a><a id="21438" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="21442" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="21444" href="Data.List.Base.html#4873" class="Function">length</a> <a id="21451" href="Coherence.Hypotheses.html#20046" class="Function">xs</a><a id="21453" class="Symbol">)</a> <a id="21455" class="Number">1</a>
  <a id="21459" href="Coherence.Hypotheses.html#21430" class="Function">T</a> <a id="21461" class="Symbol">=</a> <a id="21463" href="Coherence.Helpers.html#4528" class="Function">COMPILE-ANCESTOR</a> <a id="21480" class="Symbol">{</a><a id="21481" class="Argument">Γ</a> <a id="21483" class="Symbol">=</a> <a id="21485" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="21486" class="Symbol">}</a> <a id="21488" class="Symbol">{</a><a id="21489" class="Argument">i</a> <a id="21491" class="Symbol">=</a> <a id="21493" href="Coherence.Hypotheses.html#20000" class="Field">i</a><a id="21494" class="Symbol">}</a> <a id="21496" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="21499" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="21501" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="21503" class="Symbol">.</a><a id="21504" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="21510" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="21513" href="Coherence.Hypotheses.html#20680" class="Field">d≡</a> <a id="21516" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="21518" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="21527" href="Prelude.SubstDSL.html#164" class="Function">⟫</a>

  <a id="21532" class="Keyword">private</a>
    <a id="21544" href="Coherence.Hypotheses.html#21544" class="Function">txi</a> <a id="21548" class="Symbol">:</a> <a id="21550" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
    <a id="21563" href="Coherence.Hypotheses.html#21544" class="Function">txi</a> <a id="21567" class="Symbol">=</a> <a id="21569" class="Symbol">(</a><a id="21570" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="21573" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="21576" href="Coherence.Hypotheses.html#21430" class="Function">T</a><a id="21577" class="Symbol">)</a> <a id="21579" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="21582" class="Number">0</a>

    <a id="21589" class="Keyword">postulate</a> <a id="21599" href="Coherence.Hypotheses.html#21599" class="Postulate">val≡</a> <a id="21604" class="Symbol">:</a> <a id="21606" href="Coherence.Hypotheses.html#21544" class="Function">txi</a> <a id="21610" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a> <a id="21617" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="21619" href="Coherence.Hypotheses.html#19907" class="Field">v</a> <a id="21621" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="21623" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="21627" href="Coherence.Hypotheses.html#20015" class="Function">vs</a>

    <a id="21635" class="Keyword">open</a> <a id="21640" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

    <a id="21657" href="Coherence.Hypotheses.html#21657" class="Function">secrets≡</a> <a id="21666" class="Symbol">:</a> <a id="21668" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="21671" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="21674" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="21681" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="21683" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>
    <a id="21689" href="Coherence.Hypotheses.html#21657" class="Function">secrets≡</a> <a id="21698" class="Symbol">=</a>
      <a id="21706" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
        <a id="21720" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="21727" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
      <a id="21736" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="21739" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="21767" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="21774" class="Symbol">(</a><a id="21775" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="21777" href="Coherence.Hypotheses.html#19911" class="Field">c′</a> <a id="21780" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="21782" href="Coherence.Hypotheses.html#19907" class="Field">v</a> <a id="21784" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="21786" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="21790" href="Coherence.Hypotheses.html#20015" class="Function">vs</a> <a id="21793" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="21797" href="Coherence.Hypotheses.html#19914" class="Field">y′</a><a id="21799" class="Symbol">)</a> <a id="21801" href="Coherence.Hypotheses.html#20201" class="Function">Γ₂</a> <a id="21804" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="21814" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="21821" class="Symbol">(</a><a id="21822" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="21824" href="Coherence.Hypotheses.html#19911" class="Field">c′</a> <a id="21827" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="21829" href="Coherence.Hypotheses.html#19907" class="Field">v</a> <a id="21831" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="21833" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="21837" href="Coherence.Hypotheses.html#20015" class="Function">vs</a> <a id="21840" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="21844" href="Coherence.Hypotheses.html#19914" class="Field">y′</a><a id="21846" class="Symbol">)</a> <a id="21848" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="21851" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="21858" href="Coherence.Hypotheses.html#20201" class="Function">Γ₂</a>
      <a id="21867" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
        <a id="21879" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="21886" href="Coherence.Hypotheses.html#20201" class="Function">Γ₂</a>
      <a id="21895" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="21899" href="Data.List.Properties.html#5558" class="Function">L.++-identityˡ</a> <a id="21914" class="Symbol">_</a> <a id="21916" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
        <a id="21926" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="21929" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="21932" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="21939" href="Coherence.Hypotheses.html#20201" class="Function">Γ₂</a>
      <a id="21948" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="21952" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="21957" class="Symbol">(</a><a id="21958" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="21962" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="21969" href="Coherence.Hypotheses.html#20201" class="Function">Γ₂</a><a id="21971" class="Symbol">)</a> <a id="21973" class="Symbol">(</a><a id="21974" href="Coherence.Hypotheses.html#22144" class="Function">go</a> <a id="21977" href="Coherence.Hypotheses.html#19934" class="Field">ds</a><a id="21979" class="Symbol">)</a> <a id="21981" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
        <a id="21991" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="21998" class="Symbol">(</a><a id="21999" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="22001" href="Coherence.Hypotheses.html#19911" class="Field">c′</a> <a id="22004" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="22006" href="Coherence.Hypotheses.html#19907" class="Field">v</a> <a id="22008" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="22012" href="Coherence.Hypotheses.html#19909" class="Field">y</a> <a id="22014" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="22016" href="Coherence.Hypotheses.html#20126" class="Function">Γ₁</a><a id="22018" class="Symbol">)</a> <a id="22020" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="22023" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="22030" href="Coherence.Hypotheses.html#20201" class="Function">Γ₂</a>
      <a id="22039" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="22043" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="22071" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="22078" class="Symbol">(</a><a id="22079" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="22081" href="Coherence.Hypotheses.html#19911" class="Field">c′</a> <a id="22084" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="22086" href="Coherence.Hypotheses.html#19907" class="Field">v</a> <a id="22088" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="22092" href="Coherence.Hypotheses.html#19909" class="Field">y</a> <a id="22094" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="22096" href="Coherence.Hypotheses.html#20126" class="Function">Γ₁</a><a id="22098" class="Symbol">)</a> <a id="22100" href="Coherence.Hypotheses.html#20201" class="Function">Γ₂</a> <a id="22103" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
        <a id="22113" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="22120" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>
      <a id="22128" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="22130" class="Keyword">where</a>
        <a id="22144" href="Coherence.Hypotheses.html#22144" class="Function">go</a> <a id="22147" class="Symbol">:</a> <a id="22149" class="Symbol">∀</a> <a id="22151" class="Symbol">(</a><a id="22152" href="Coherence.Hypotheses.html#22152" class="Bound">ds</a> <a id="22155" class="Symbol">:</a> <a id="22157" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="22168" class="Symbol">)</a> <a id="22170" class="Symbol">→</a>
          <a id="22182" href="Prelude.Null.html#263" class="Field">Null</a> <a id="22187" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="22189" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="22196" class="Symbol">(</a><a id="22197" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="22200" href="Data.List.Base.html#1553" class="Function">map</a> <a id="22204" class="Symbol">(λ{</a> <a id="22208" class="Symbol">(</a><a id="22209" href="Coherence.Hypotheses.html#22209" class="Bound">Aᵢ</a> <a id="22212" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="22214" href="Coherence.Hypotheses.html#22214" class="Bound">vᵢ</a> <a id="22217" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="22219" href="Coherence.Hypotheses.html#22219" class="Bound">xᵢ</a><a id="22221" class="Symbol">)</a> <a id="22223" class="Symbol">→</a> <a id="22225" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="22227" href="Coherence.Hypotheses.html#22209" class="Bound">Aᵢ</a> <a id="22230" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="22234" href="Coherence.Hypotheses.html#22214" class="Bound">vᵢ</a> <a id="22237" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="22241" href="Coherence.Hypotheses.html#22219" class="Bound">xᵢ</a> <a id="22244" class="Symbol">})</a> <a id="22247" href="Coherence.Hypotheses.html#22152" class="Bound">ds</a><a id="22249" class="Symbol">)</a>
        <a id="22259" href="Coherence.Hypotheses.html#22144" class="Function">go</a> <a id="22262" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="22265" class="Symbol">=</a> <a id="22267" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="22280" href="Coherence.Hypotheses.html#22144" class="Function">go</a> <a id="22283" class="Symbol">(_</a> <a id="22286" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="22288" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="22290" class="Symbol">)</a> <a id="22292" class="Symbol">=</a> <a id="22294" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="22307" href="Coherence.Hypotheses.html#22144" class="Function">go</a> <a id="22310" class="Symbol">(_</a> <a id="22313" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="22315" href="Coherence.Hypotheses.html#22315" class="Bound">xs</a><a id="22317" class="Symbol">@(_</a> <a id="22321" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="22323" class="Symbol">_))</a> <a id="22327" class="Symbol">=</a> <a id="22329" href="Coherence.Hypotheses.html#22144" class="Function">go</a> <a id="22332" href="Coherence.Hypotheses.html#22315" class="Bound">xs</a>

    <a id="22340" href="Coherence.Hypotheses.html#22340" class="Function">ads≡</a> <a id="22345" class="Symbol">:</a> <a id="22347" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="22350" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="22353" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="22368" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="22370" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>
    <a id="22376" href="Coherence.Hypotheses.html#22340" class="Function">ads≡</a> <a id="22381" class="Symbol">=</a>
      <a id="22389" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
        <a id="22403" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="22418" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
      <a id="22427" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
        <a id="22439" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="22454" href="Coherence.Hypotheses.html#20201" class="Function">Γ₂</a>
      <a id="22463" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="22467" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="22472" class="Symbol">(</a><a id="22473" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="22477" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="22492" href="Coherence.Hypotheses.html#20201" class="Function">Γ₂</a><a id="22494" class="Symbol">)</a> <a id="22496" class="Symbol">(</a><a id="22497" href="Coherence.Hypotheses.html#22642" class="Function">go</a> <a id="22500" href="Coherence.Hypotheses.html#19934" class="Field">ds</a><a id="22502" class="Symbol">)</a> <a id="22504" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
        <a id="22514" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="22529" href="Coherence.Hypotheses.html#20126" class="Function">Γ₁</a> <a id="22532" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="22535" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="22550" href="Coherence.Hypotheses.html#20201" class="Function">Γ₂</a>
      <a id="22559" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="22562" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="22566" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="22568" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="22587" href="Coherence.Hypotheses.html#20126" class="Function">Γ₁</a> <a id="22590" href="Coherence.Hypotheses.html#20201" class="Function">Γ₂</a> <a id="22593" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="22603" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="22618" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>
      <a id="22626" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="22628" class="Keyword">where</a>
        <a id="22642" href="Coherence.Hypotheses.html#22642" class="Function">go</a> <a id="22645" class="Symbol">:</a> <a id="22647" class="Symbol">∀</a> <a id="22649" class="Symbol">(</a><a id="22650" href="Coherence.Hypotheses.html#22650" class="Bound">ds</a> <a id="22653" class="Symbol">:</a> <a id="22655" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="22666" class="Symbol">)</a> <a id="22668" class="Symbol">→</a>
          <a id="22680" href="Prelude.Null.html#263" class="Field">Null</a> <a id="22685" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="22687" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="22702" class="Symbol">(</a><a id="22703" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="22706" href="Data.List.Base.html#1553" class="Function">map</a> <a id="22710" class="Symbol">(</a><a id="22711" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="22720" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨_has_⟩at_</a><a id="22730" class="Symbol">)</a> <a id="22732" href="Coherence.Hypotheses.html#22650" class="Bound">ds</a><a id="22734" class="Symbol">)</a>
        <a id="22744" href="Coherence.Hypotheses.html#22642" class="Function">go</a> <a id="22747" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="22750" class="Symbol">=</a> <a id="22752" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="22765" href="Coherence.Hypotheses.html#22642" class="Function">go</a> <a id="22768" class="Symbol">(_</a> <a id="22771" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="22773" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="22775" class="Symbol">)</a> <a id="22777" class="Symbol">=</a> <a id="22779" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
        <a id="22792" href="Coherence.Hypotheses.html#22642" class="Function">go</a> <a id="22795" class="Symbol">(_</a> <a id="22798" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="22800" href="Coherence.Hypotheses.html#22800" class="Bound">xs</a><a id="22802" class="Symbol">@(_</a> <a id="22806" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="22808" class="Symbol">_))</a> <a id="22812" class="Symbol">=</a> <a id="22814" href="Coherence.Hypotheses.html#22642" class="Function">go</a> <a id="22817" href="Coherence.Hypotheses.html#22800" class="Bound">xs</a>

    <a id="22825" href="Coherence.Hypotheses.html#22825" class="Function">sechash↝</a> <a id="22834" class="Symbol">:</a>  <a id="22837" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="22839" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="22842" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="22850" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="22852" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
    <a id="22859" href="Coherence.Hypotheses.html#22825" class="Function">sechash↝</a> <a id="22868" class="Symbol">=</a> <a id="22870" href="SymbolicModel.Mappings.html#3609" class="Function Operator">lift</a> <a id="22875" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="22877" href="SymbolicModel.Mappings.html#3609" class="Function Operator">—⟨</a> <a id="22880" href="BitML.Contracts.Collections.html#4075" class="Function">namesˡ</a> <a id="22887" href="SymbolicModel.Mappings.html#3609" class="Function Operator">⟩—</a> <a id="22890" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="22893" href="SymbolicModel.Mappings.html#3609" class="Function Operator">⊣</a> <a id="22895" href="Coherence.Hypotheses.html#21657" class="Function">secrets≡</a>

    <a id="22909" href="Coherence.Hypotheses.html#22909" class="Function">κ↝</a> <a id="22912" class="Symbol">:</a> <a id="22914" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="22916" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="22919" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="22922" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="22924" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
    <a id="22931" href="Coherence.Hypotheses.html#22909" class="Function">κ↝</a> <a id="22934" class="Symbol">=</a> <a id="22936" href="SymbolicModel.Mappings.html#3609" class="Function Operator">lift</a> <a id="22941" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="22943" href="SymbolicModel.Mappings.html#3609" class="Function Operator">—⟨</a> <a id="22946" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="22961" href="SymbolicModel.Mappings.html#3609" class="Function Operator">⟩—</a> <a id="22964" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="22967" href="SymbolicModel.Mappings.html#3609" class="Function Operator">⊣</a> <a id="22969" href="Coherence.Hypotheses.html#22340" class="Function">ads≡</a>

    <a id="22979" href="Coherence.Hypotheses.html#22979" class="Function">p⊆</a> <a id="22982" class="Symbol">:</a> <a id="22984" href="Coherence.Hypotheses.html#20201" class="Function">Γ₂</a> <a id="22987" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="22990" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="22994" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="22996" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>
    <a id="23002" href="Coherence.Hypotheses.html#22979" class="Function">p⊆</a> <a id="23005" class="Symbol">=</a> <a id="23007" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a> <a id="23013" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="23015" href="BitML.Semantics.Configurations.Helpers.html#10369" class="Function">∈-ids-++⁺ʳ</a> <a id="23026" href="Coherence.Hypotheses.html#20126" class="Function">Γ₁</a> <a id="23029" href="Coherence.Hypotheses.html#20201" class="Function">Γ₂</a>

    <a id="23037" class="Comment">-- (v) extend txout′ with {y′↦(T,0)}, sechash = sechash′, κ = κ′</a>
    <a id="23106" href="Coherence.Hypotheses.html#23106" class="Function">txout↝</a> <a id="23113" class="Symbol">:</a> <a id="23115" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="23117" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="23120" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="23126" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="23128" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
    <a id="23135" href="Coherence.Hypotheses.html#23106" class="Function">txout↝</a> <a id="23142" href="Coherence.Hypotheses.html#23142" class="Bound">txout′</a> <a id="23149" class="Symbol">=</a> <a id="23151" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="23158" href="Coherence.Hypotheses.html#19914" class="Field">y′</a> <a id="23161" href="Coherence.Hypotheses.html#21544" class="Function">txi</a> <a id="23165" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="23167" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="23176" href="Coherence.Hypotheses.html#23142" class="Bound">txout′</a> <a id="23183" href="Coherence.Hypotheses.html#22979" class="Function">p⊆</a>
  <a id="23188" href="Coherence.Hypotheses.html#23188" class="Function">λˢ</a> <a id="23191" class="Symbol">:</a> <a id="23193" href="SymbolicModel.Mappings.html#1063" class="Function">ℾᵗ</a> <a id="23196" href="Coherence.Hypotheses.html#1907" class="Function">Γₜ′</a>
  <a id="23202" href="Coherence.Hypotheses.html#23188" class="Function">λˢ</a> <a id="23205" class="Symbol">=</a> <a id="23207" href="SymbolicModel.Mappings.html#7972" class="Function">LIFTˢ</a> <a id="23213" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="23215" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="23217" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="23220" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="23223" href="Coherence.Hypotheses.html#23106" class="Function">txout↝</a> <a id="23230" href="Coherence.Hypotheses.html#22825" class="Function">sechash↝</a> <a id="23239" href="Coherence.Hypotheses.html#22909" class="Function">κ↝</a>
  <a id="23244" class="Keyword">private</a>
    <a id="23256" href="Coherence.Hypotheses.html#23256" class="Function">𝕣′</a> <a id="23259" class="Symbol">:</a> <a id="23261" href="SymbolicModel.Mappings.html#872" class="Function">ℝ</a> <a id="23263" href="Coherence.Hypotheses.html#2419" class="Function">R′</a>
    <a id="23270" href="Coherence.Hypotheses.html#23256" class="Function">𝕣′</a> <a id="23273" class="Symbol">=</a> <a id="23275" href="SymbolicModel.Mappings.html#5769" class="Function">ℝ-step</a> <a id="23282" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="23284" class="Symbol">(</a><a id="23285" href="Coherence.Hypotheses.html#2275" class="Function">𝕒</a> <a id="23287" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="23289" href="Coherence.Hypotheses.html#23188" class="Function">λˢ</a><a id="23291" class="Symbol">)</a>
  <a id="23295" class="Keyword">abstract</a>
    <a id="23308" href="Coherence.Hypotheses.html#23308" class="Function">value-preserving⇒</a> <a id="23326" class="Symbol">:</a>
      <a id="23334" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="23351" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a>
      <a id="23359" href="Prelude.InferenceRules.html#14163" class="Function Operator">───────────────────</a>
      <a id="23385" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="23402" href="Coherence.Hypotheses.html#23256" class="Function">𝕣′</a>
    <a id="23409" href="Coherence.Hypotheses.html#23308" class="Function">value-preserving⇒</a> <a id="23427" href="Coherence.Hypotheses.html#23427" class="Bound">pv-txout</a> <a id="23436" class="Symbol">=</a> <a id="23438" href="Coherence.Hypotheses.html#24813" class="Function">pv-txout′</a>
      <a id="23454" class="Keyword">where</a>
      <a id="23466" href="Coherence.Hypotheses.html#23466" class="Function">txoutΓ</a> <a id="23473" class="Symbol">:</a> <a id="23475" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="23481" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>
      <a id="23489" href="Coherence.Hypotheses.html#23466" class="Function">txoutΓ</a> <a id="23496" class="Symbol">=</a> <a id="23498" href="SymbolicModel.Mappings.html#1931" class="Function">Txout≈</a> <a id="23505" class="Symbol">{</a><a id="23506" href="Coherence.Hypotheses.html#2411" class="Function">R</a> <a id="23508" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="23512" class="Symbol">}{</a><a id="23514" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="23515" class="Symbol">}</a> <a id="23517" class="Symbol">(</a><a id="23518" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="23521" class="Symbol">.</a><a id="23522" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="23527" class="Symbol">)</a> <a id="23529" class="Symbol">(</a><a id="23530" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="23532" href="SymbolicModel.Mappings.html#8977" class="Function Operator">∙txoutEnd_</a><a id="23542" class="Symbol">)</a>

      <a id="23551" href="Coherence.Hypotheses.html#23551" class="Function">pv-txoutΓ</a> <a id="23561" class="Symbol">:</a> <a id="23563" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="23579" class="Symbol">{</a><a id="23580" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="23581" class="Symbol">}</a> <a id="23583" href="Coherence.Hypotheses.html#23466" class="Function">txoutΓ</a>
      <a id="23596" href="Coherence.Hypotheses.html#23551" class="Function">pv-txoutΓ</a> <a id="23606" class="Symbol">=</a>
        <a id="23616" href="SymbolicModel.ValuePreservation.html#2490" class="Function">ValuePreserving-Txout≈</a> <a id="23639" class="Symbol">{</a><a id="23640" href="Coherence.Hypotheses.html#2411" class="Function">R</a> <a id="23642" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="23646" class="Symbol">}{</a><a id="23648" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="23649" class="Symbol">}</a> <a id="23651" class="Symbol">(</a><a id="23652" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="23655" class="Symbol">.</a><a id="23656" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="23661" class="Symbol">)</a> <a id="23663" class="Symbol">(</a><a id="23664" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="23666" href="SymbolicModel.Mappings.html#8977" class="Function Operator">∙txoutEnd_</a><a id="23676" class="Symbol">)</a> <a id="23678" href="Coherence.Hypotheses.html#23427" class="Bound">pv-txout</a>

      <a id="23694" href="Coherence.Hypotheses.html#23694" class="Function">txoutΓ₂</a> <a id="23702" class="Symbol">:</a> <a id="23704" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="23710" href="Coherence.Hypotheses.html#20201" class="Function">Γ₂</a>
      <a id="23719" href="Coherence.Hypotheses.html#23694" class="Function">txoutΓ₂</a> <a id="23727" class="Symbol">=</a> <a id="23729" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="23738" href="Coherence.Hypotheses.html#23466" class="Function">txoutΓ</a> <a id="23745" href="Coherence.Hypotheses.html#22979" class="Function">p⊆</a>

      <a id="23755" href="Coherence.Hypotheses.html#23755" class="Function">pv-txoutΓ₂</a> <a id="23766" class="Symbol">:</a> <a id="23768" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="23784" class="Symbol">{</a><a id="23785" href="Coherence.Hypotheses.html#20201" class="Function">Γ₂</a><a id="23787" class="Symbol">}</a> <a id="23789" href="Coherence.Hypotheses.html#23694" class="Function">txoutΓ₂</a>
      <a id="23803" href="Coherence.Hypotheses.html#23755" class="Function">pv-txoutΓ₂</a> <a id="23814" href="Coherence.Hypotheses.html#23814" class="Bound">x∈</a> <a id="23817" class="Symbol">=</a>
        <a id="23827" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
          <a id="23843" href="Coherence.Hypotheses.html#23694" class="Function">txoutΓ₂</a> <a id="23851" href="Coherence.Hypotheses.html#23814" class="Bound">x∈</a> <a id="23854" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
        <a id="23869" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
          <a id="23883" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="23892" href="Coherence.Hypotheses.html#23466" class="Function">txoutΓ</a> <a id="23899" href="Coherence.Hypotheses.html#22979" class="Function">p⊆</a> <a id="23902" href="Coherence.Hypotheses.html#23814" class="Bound">x∈</a> <a id="23905" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
        <a id="23920" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="23923" href="SymbolicModel.ValuePreservation.html#1467" class="Function">pv-weaken-↦</a> <a id="23935" class="Symbol">{</a><a id="23936" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="23937" class="Symbol">}{</a><a id="23939" href="Coherence.Hypotheses.html#20201" class="Function">Γ₂</a><a id="23941" class="Symbol">}</a> <a id="23943" href="Coherence.Hypotheses.html#23466" class="Function">txoutΓ</a> <a id="23950" href="Coherence.Hypotheses.html#22979" class="Function">p⊆</a> <a id="23953" href="Coherence.Hypotheses.html#24048" class="Function">pv⊆</a> <a id="23957" href="Coherence.Hypotheses.html#23551" class="Function">pv-txoutΓ</a> <a id="23967" href="Coherence.Hypotheses.html#23814" class="Bound">x∈</a> <a id="23970" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="23982" class="Symbol">(</a><a id="23983" href="Coherence.Hypotheses.html#20201" class="Function">Γ₂</a> <a id="23986" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="23988" href="Coherence.Hypotheses.html#23814" class="Bound">x∈</a><a id="23990" class="Symbol">)</a> <a id="23992" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
        <a id="24007" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="24009" class="Keyword">where</a> <a id="24015" class="Keyword">open</a> <a id="24020" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>
                <a id="24048" href="Coherence.Hypotheses.html#24048" class="Function">pv⊆</a> <a id="24052" class="Symbol">:</a> <a id="24054" href="SymbolicModel.ValuePreservation.html#1332" class="Function">ValuePreserving⊆</a> <a id="24071" class="Symbol">{</a><a id="24072" href="Coherence.Hypotheses.html#20201" class="Function">Γ₂</a><a id="24074" class="Symbol">}{</a><a id="24076" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="24077" class="Symbol">}</a> <a id="24079" href="Coherence.Hypotheses.html#22979" class="Function">p⊆</a>
                <a id="24098" href="Coherence.Hypotheses.html#24048" class="Function">pv⊆</a> <a id="24102" href="Coherence.Hypotheses.html#24102" class="Bound">x∈</a> <a id="24105" class="Symbol">=</a>
                  <a id="24125" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
                    <a id="24151" class="Symbol">(</a><a id="24152" href="Coherence.Hypotheses.html#20201" class="Function">Γ₂</a> <a id="24155" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="24157" href="Coherence.Hypotheses.html#24102" class="Bound">x∈</a><a id="24159" class="Symbol">)</a> <a id="24161" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
                  <a id="24186" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">≡˘⟨</a> <a id="24190" href="SymbolicModel.Run.Accessors.html#6116" class="Function">∈-ids-++⁺ʳ∙value</a> <a id="24207" class="Symbol">{</a><a id="24208" class="Argument">Γ′</a> <a id="24211" class="Symbol">=</a> <a id="24213" href="Coherence.Hypotheses.html#20201" class="Function">Γ₂</a><a id="24215" class="Symbol">}{</a><a id="24217" href="Coherence.Hypotheses.html#20126" class="Function">Γ₁</a><a id="24219" class="Symbol">}</a> <a id="24221" href="Coherence.Hypotheses.html#24102" class="Bound">x∈</a> <a id="24224" href="Relation.Binary.PropositionalEquality.Core.html#3019" class="Function">⟩</a>
                    <a id="24246" class="Symbol">(</a><a id="24247" href="Coherence.Hypotheses.html#20126" class="Function">Γ₁</a> <a id="24250" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="24252" href="Coherence.Hypotheses.html#20201" class="Function">Γ₂</a> <a id="24255" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="24257" href="BitML.Semantics.Configurations.Helpers.html#10369" class="Function">∈-ids-++⁺ʳ</a> <a id="24268" href="Coherence.Hypotheses.html#20126" class="Function">Γ₁</a> <a id="24271" href="Coherence.Hypotheses.html#20201" class="Function">Γ₂</a> <a id="24274" href="Coherence.Hypotheses.html#24102" class="Bound">x∈</a><a id="24276" class="Symbol">)</a> <a id="24278" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
                  <a id="24303" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
                    <a id="24327" class="Symbol">(</a><a id="24328" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="24330" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="24332" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a> <a id="24338" class="Symbol">(</a><a id="24339" href="BitML.Semantics.Configurations.Helpers.html#10369" class="Function">∈-ids-++⁺ʳ</a> <a id="24350" href="Coherence.Hypotheses.html#20126" class="Function">Γ₁</a> <a id="24353" href="Coherence.Hypotheses.html#20201" class="Function">Γ₂</a> <a id="24356" href="Coherence.Hypotheses.html#24102" class="Bound">x∈</a><a id="24358" class="Symbol">))</a> <a id="24361" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
                  <a id="24386" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
                    <a id="24410" class="Symbol">(</a><a id="24411" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="24413" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="24415" href="Coherence.Hypotheses.html#22979" class="Function">p⊆</a> <a id="24418" href="Coherence.Hypotheses.html#24102" class="Bound">x∈</a><a id="24420" class="Symbol">)</a> <a id="24422" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
                  <a id="24447" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

      <a id="24456" href="Coherence.Hypotheses.html#24456" class="Function">txoutΓ′</a> <a id="24464" class="Symbol">:</a> <a id="24466" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="24472" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
      <a id="24481" href="Coherence.Hypotheses.html#24456" class="Function">txoutΓ′</a> <a id="24489" class="Symbol">=</a> <a id="24491" href="Coherence.Hypotheses.html#23106" class="Function">txout↝</a> <a id="24498" href="Coherence.Hypotheses.html#23466" class="Function">txoutΓ</a>

      <a id="24512" href="Coherence.Hypotheses.html#24512" class="Function">pv-txoutΓ′</a> <a id="24523" class="Symbol">:</a> <a id="24525" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="24541" class="Symbol">{</a><a id="24542" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a><a id="24544" class="Symbol">}</a> <a id="24546" href="Coherence.Hypotheses.html#24456" class="Function">txoutΓ′</a>
      <a id="24560" href="Coherence.Hypotheses.html#24512" class="Function">pv-txoutΓ′</a> <a id="24571" class="Symbol">=</a> <a id="24573" href="SymbolicModel.ValuePreservation.html#1044" class="Function">pv-cons-↦</a> <a id="24583" href="Coherence.Hypotheses.html#21599" class="Postulate">val≡</a> <a id="24588" href="Coherence.Hypotheses.html#23755" class="Function">pv-txoutΓ₂</a>

      <a id="24606" href="Coherence.Hypotheses.html#24606" class="Function">txoutΓ″</a> <a id="24614" class="Symbol">:</a> <a id="24616" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="24622" href="Coherence.Hypotheses.html#2161" class="Function">Γ″</a>
      <a id="24631" href="Coherence.Hypotheses.html#24606" class="Function">txoutΓ″</a> <a id="24639" class="Symbol">=</a> <a id="24641" href="SymbolicModel.Mappings.html#1931" class="Function">Txout≈</a> <a id="24648" class="Symbol">{</a><a id="24649" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a><a id="24651" class="Symbol">}{</a><a id="24653" href="Coherence.Hypotheses.html#2161" class="Function">Γ″</a><a id="24655" class="Symbol">}</a> <a id="24657" class="Symbol">(</a><a id="24658" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="24664" href="Coherence.Hypotheses.html#2174" class="Function">Γ≈</a><a id="24666" class="Symbol">)</a> <a id="24668" href="Coherence.Hypotheses.html#24456" class="Function">txoutΓ′</a>

      <a id="24683" href="Coherence.Hypotheses.html#24683" class="Function">pv-txoutΓ″</a> <a id="24694" class="Symbol">:</a> <a id="24696" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="24712" class="Symbol">{</a><a id="24713" href="Coherence.Hypotheses.html#2161" class="Function">Γ″</a><a id="24715" class="Symbol">}</a> <a id="24717" href="Coherence.Hypotheses.html#24606" class="Function">txoutΓ″</a>
      <a id="24731" href="Coherence.Hypotheses.html#24683" class="Function">pv-txoutΓ″</a> <a id="24742" class="Symbol">=</a> <a id="24744" href="SymbolicModel.ValuePreservation.html#2490" class="Function">ValuePreserving-Txout≈</a> <a id="24767" class="Symbol">{</a><a id="24768" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a><a id="24770" class="Symbol">}{</a><a id="24772" href="Coherence.Hypotheses.html#2161" class="Function">Γ″</a><a id="24774" class="Symbol">}</a> <a id="24776" class="Symbol">(</a><a id="24777" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="24783" href="Coherence.Hypotheses.html#2174" class="Function">Γ≈</a><a id="24785" class="Symbol">)</a> <a id="24787" href="Coherence.Hypotheses.html#24456" class="Function">txoutΓ′</a> <a id="24795" href="Coherence.Hypotheses.html#24512" class="Function">pv-txoutΓ′</a>

      <a id="24813" href="Coherence.Hypotheses.html#24813" class="Function">pv-txout′</a> <a id="24823" class="Symbol">:</a> <a id="24825" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="24842" href="Coherence.Hypotheses.html#23256" class="Function">𝕣′</a>
      <a id="24851" href="Coherence.Hypotheses.html#24813" class="Function">pv-txout′</a> <a id="24861" href="Coherence.Hypotheses.html#24861" class="Bound">x∈</a> <a id="24864" class="Symbol">=</a>
        <a id="24874" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
          <a id="24890" class="Symbol">(</a><a id="24891" href="Coherence.Hypotheses.html#23256" class="Function">𝕣′</a> <a id="24894" href="SymbolicModel.Mappings.html#8977" class="Function Operator">∙txoutEnd</a> <a id="24904" href="Coherence.Hypotheses.html#24861" class="Bound">x∈</a><a id="24906" class="Symbol">)</a> <a id="24908" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
        <a id="24923" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="24926" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="24931" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">_∙value</a>
              <a id="24953" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="24955" href="SymbolicModel.Properties.html#6895" class="Function">txout∷∘namesʳ⦅end⦆⊆</a> <a id="24975" class="Symbol">{</a><a id="24976" class="Argument">R</a> <a id="24978" class="Symbol">=</a> <a id="24980" href="Coherence.Hypotheses.html#2411" class="Function">R</a><a id="24981" class="Symbol">}</a> <a id="24983" href="Coherence.Hypotheses.html#1941" class="Function">Γ→</a> <a id="24986" class="Symbol">(</a><a id="24987" href="Coherence.Hypotheses.html#2368" class="Function">R≈′</a> <a id="24991" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="24993" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a><a id="24995" class="Symbol">)</a> <a id="24997" href="Coherence.Hypotheses.html#24456" class="Function">txoutΓ′</a> <a id="25005" href="SymbolicModel.Mappings.html#952" class="Function">txout′</a> <a id="25012" class="Symbol">_</a> <a id="25014" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="25026" class="Symbol">(</a><a id="25027" href="Coherence.Hypotheses.html#24606" class="Function">txoutΓ″</a> <a id="25035" href="Coherence.Hypotheses.html#24861" class="Bound">x∈</a><a id="25037" class="Symbol">)</a> <a id="25039" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
        <a id="25054" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="25057" href="Coherence.Hypotheses.html#24683" class="Function">pv-txoutΓ″</a> <a id="25068" class="Symbol">_</a> <a id="25070" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
          <a id="25082" class="Symbol">(</a><a id="25083" href="Coherence.Hypotheses.html#2161" class="Function">Γ″</a> <a id="25086" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="25088" href="Coherence.Hypotheses.html#24861" class="Bound">x∈</a><a id="25090" class="Symbol">)</a> <a id="25092" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
        <a id="25107" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

<a id="25110" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[6]~_⨾_"></a><a id="25115" href="Coherence.Hypotheses.html#25115" class="Datatype Operator">_⨾_⨾_~ℍ[6]~_⨾_</a> <a id="25130" class="Symbol">:</a> <a id="25132" href="Coherence.Hypotheses.html#1614" class="Function">StepRel</a> <a id="25140" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[6]~_⨾_.mkℍ"></a><a id="25148" href="Coherence.Hypotheses.html#25148" class="InductiveConstructor">mkℍ</a> <a id="25152" class="Symbol">:</a> <a id="25154" class="Symbol">∀</a> <a id="25156" class="Symbol">{</a><a id="25157" href="Coherence.Hypotheses.html#25157" class="Bound">h</a> <a id="25159" class="Symbol">:</a> <a id="25161" href="Coherence.Hypotheses.html#19854" class="Record">H₆-args</a><a id="25168" class="Symbol">}</a> <a id="25170" class="Symbol">(</a><a id="25171" class="Keyword">open</a> <a id="25176" href="Coherence.Hypotheses.html#19854" class="Module">H₆-args</a> <a id="25184" href="Coherence.Hypotheses.html#25157" class="Bound">h</a><a id="25185" class="Symbol">)</a> <a id="25187" class="Symbol">→</a>
    <a id="25193" class="Keyword">let</a>
      <a id="25203" class="Keyword">open</a> <a id="25208" href="Coherence.Hypotheses.html#21384" class="Module">H₆</a> <a id="25211" href="Coherence.Hypotheses.html#25157" class="Bound">h</a> <a id="25213" class="Keyword">using</a> <a id="25219" class="Symbol">(</a><a id="25220" href="Coherence.Hypotheses.html#23188" class="Function">λˢ</a><a id="25222" class="Symbol">;</a> <a id="25224" href="Coherence.Hypotheses.html#21430" class="Function">T</a><a id="25225" class="Symbol">)</a>
      <a id="25233" href="Coherence.Hypotheses.html#25233" class="Bound">λᶜ</a> <a id="25236" class="Symbol">=</a> <a id="25238" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="25245" class="Symbol">(</a><a id="25246" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="25249" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="25252" href="Coherence.Hypotheses.html#21430" class="Function">T</a><a id="25253" class="Symbol">)</a>
    <a id="25259" class="Keyword">in</a>
      <a id="25268" href="Coherence.Hypotheses.html#2189" class="Function">Γₜ″</a> <a id="25272" href="Coherence.Hypotheses.html#25115" class="Datatype Operator">⨾</a> <a id="25274" href="Coherence.Hypotheses.html#2128" class="Function">𝕣∗</a> <a id="25277" href="Coherence.Hypotheses.html#25115" class="Datatype Operator">⨾</a> <a id="25279" class="Symbol">(</a><a id="25280" href="Coherence.Hypotheses.html#2275" class="Function">𝕒</a> <a id="25282" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="25284" href="Coherence.Hypotheses.html#23188" class="Function">λˢ</a><a id="25286" class="Symbol">)</a> <a id="25288" href="Coherence.Hypotheses.html#25115" class="Datatype Operator">~ℍ[6]~</a> <a id="25295" href="Coherence.Hypotheses.html#25233" class="Bound">λᶜ</a> <a id="25298" href="Coherence.Hypotheses.html#25115" class="Datatype Operator">⨾</a> <a id="25300" href="Coherence.Hypotheses.html#2101" class="Function">Rᶜ</a>

<a id="25304" class="Comment">-- ** Contract actions: authorize reveal</a>
<a id="25345" class="Keyword">record</a> <a id="H₇-args"></a><a id="25352" href="Coherence.Hypotheses.html#25352" class="Record">H₇-args</a> <a id="25360" class="Symbol">:</a> <a id="25362" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="25367" class="Keyword">where</a>
  <a id="25375" class="Keyword">constructor</a> <a id="mk"></a><a id="25387" href="Coherence.Hypotheses.html#25387" class="InductiveConstructor">mk</a>
  <a id="25392" class="Keyword">field</a>
    <a id="25402" class="Symbol">{</a><a id="H₇-args.ad"></a><a id="25403" href="Coherence.Hypotheses.html#25403" class="Field">ad</a> <a id="H₇-args.A"></a><a id="25406" href="Coherence.Hypotheses.html#25406" class="Field">A</a> <a id="H₇-args.a"></a><a id="25408" href="Coherence.Hypotheses.html#25408" class="Field">a</a> <a id="H₇-args.n"></a><a id="25410" href="Coherence.Hypotheses.html#25410" class="Field">n</a> <a id="H₇-args.Γ₀"></a><a id="25412" href="Coherence.Hypotheses.html#25412" class="Field">Γ₀</a> <a id="H₇-args.t"></a><a id="25415" href="Coherence.Hypotheses.html#25415" class="Field">t</a><a id="25416" class="Symbol">}</a> <a id="25418" class="Symbol">:</a> <a id="25420" class="Symbol">_</a>
    <a id="H₇-args.k⃗"></a><a id="25426" href="Coherence.Hypotheses.html#25426" class="Field">k⃗</a>   <a id="25431" class="Symbol">:</a> <a id="25433" href="Compiler.Mappings.html#454" class="Function">𝕂²′</a> <a id="25437" href="Coherence.Hypotheses.html#25403" class="Field">ad</a>
    <a id="H₇-args.Δ×h̅"></a><a id="25444" href="Coherence.Hypotheses.html#25444" class="Field">Δ×h̅</a> <a id="25449" class="Symbol">:</a> <a id="25451" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="25456" class="Symbol">(</a><a id="25457" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="25464" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="25466" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="25472" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="25474" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="25476" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a><a id="25477" class="Symbol">)</a>
  <a id="25481" class="Keyword">open</a> <a id="25486" href="BitML.Contracts.ModuleMacros.html#761" class="Module">∣AD</a> <a id="25490" href="Coherence.Hypotheses.html#25403" class="Field">ad</a> <a id="25493" class="Keyword">public</a>
  <a id="H₇-args.Δ"></a><a id="25502" href="Coherence.Hypotheses.html#25502" class="Function">Δ</a> <a id="25504" class="Symbol">=</a> <a id="25506" href="Data.List.Base.html#1553" class="Function">map</a> <a id="25510" href="Prelude.Nary.html#3032" class="Function">drop₃</a>   <a id="25518" href="Coherence.Hypotheses.html#25444" class="Field">Δ×h̅</a>
  <a id="H₇-args.h̅"></a><a id="25525" href="Coherence.Hypotheses.html#25525" class="Function">h̅</a> <a id="25528" class="Symbol">=</a> <a id="25530" href="Data.List.Base.html#1553" class="Function">map</a> <a id="25534" href="Prelude.Nary.html#3005" class="Function">select₃</a> <a id="25542" href="Coherence.Hypotheses.html#25444" class="Field">Δ×h̅</a>
  <a id="H₇-args.k̅"></a><a id="25549" href="Coherence.Hypotheses.html#25549" class="Function">k̅</a> <a id="25552" class="Symbol">=</a> <a id="25554" href="Data.List.Base.html#4459" class="Function">concatMap</a> <a id="25564" class="Symbol">(</a><a id="25565" href="Data.List.Base.html#1553" class="Function">map</a> <a id="25569" href="Bitcoin.Crypto.html#375" class="Field">pub</a> <a id="25573" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="25575" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a><a id="25580" class="Symbol">)</a> <a id="25582" class="Symbol">(</a><a id="25583" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="25589" href="Coherence.Hypotheses.html#25426" class="Field">k⃗</a><a id="25591" class="Symbol">)</a>
  <a id="25595" class="Keyword">open</a> <a id="25600" href="Coherence.Hypotheses.html#1754" class="Module">Transition</a>
    <a id="25615" class="Symbol">(</a> <a id="25617" class="Symbol">(</a><a id="25618" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟨</a> <a id="25620" href="Coherence.Hypotheses.html#25406" class="Field">A</a> <a id="25622" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">∶</a> <a id="25624" href="Coherence.Hypotheses.html#25408" class="Field">a</a> <a id="25626" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">♯</a> <a id="25628" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="25633" href="Coherence.Hypotheses.html#25410" class="Field">n</a> <a id="25635" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">⟩</a> <a id="25637" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="25639" href="Coherence.Hypotheses.html#25412" class="Field">Γ₀</a><a id="25641" class="Symbol">)</a> <a id="25643" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="25645" href="Coherence.Hypotheses.html#25415" class="Field">t</a> <a id="25647" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">——</a> <a id="25650" href="BitML.Semantics.Label.html#1268" class="InductiveConstructor Operator">auth-rev⦅</a> <a id="25660" href="Coherence.Hypotheses.html#25406" class="Field">A</a> <a id="25662" href="BitML.Semantics.Label.html#1268" class="InductiveConstructor Operator">,</a> <a id="25664" href="Coherence.Hypotheses.html#25408" class="Field">a</a> <a id="25666" href="BitML.Semantics.Label.html#1268" class="InductiveConstructor Operator">⦆</a> <a id="25668" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">—→</a> <a id="25671" href="Coherence.Hypotheses.html#25406" class="Field">A</a> <a id="25673" href="BitML.Semantics.Configurations.Types.html#968" class="InductiveConstructor Operator">∶</a> <a id="25675" href="Coherence.Hypotheses.html#25408" class="Field">a</a> <a id="25677" href="BitML.Semantics.Configurations.Types.html#968" class="InductiveConstructor Operator">♯</a> <a id="25679" href="Coherence.Hypotheses.html#25410" class="Field">n</a> <a id="25681" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="25683" href="Coherence.Hypotheses.html#25412" class="Field">Γ₀</a> <a id="25686" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="25688" href="Coherence.Hypotheses.html#25415" class="Field">t</a>
    <a id="25694" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⊣</a> <a id="25696" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="25700" href="BitML.Semantics.InferenceRules.html#5675" class="InductiveConstructor">[C-AuthRev]</a>
    <a id="25716" class="Symbol">)</a> <a id="25718" class="Keyword">public</a> <a id="25725" class="Keyword">hiding</a> <a id="25732" class="Symbol">(</a><a id="25733" href="Coherence.Hypotheses.html#1831" class="Field">t</a><a id="25734" class="Symbol">)</a>
  <a id="25738" class="Keyword">field</a> <a id="H₇-args.𝕙r"></a><a id="25744" href="Coherence.Hypotheses.html#25744" class="Field">𝕙r</a> <a id="25747" class="Symbol">:</a> <a id="25749" href="Coherence.Hypotheses.html#1970" class="Record">ℍ-Run</a> <a id="25755" href="Coherence.Hypotheses.html#1941" class="Function">Γ→</a>
  <a id="25760" class="Keyword">open</a> <a id="25765" href="Coherence.Hypotheses.html#1970" class="Module">ℍ-Run</a> <a id="25771" href="Coherence.Hypotheses.html#25744" class="Field">𝕙r</a> <a id="25774" class="Keyword">public</a>
  <a id="25783" class="Keyword">field</a>
    <a id="25793" class="Comment">-- (iv) in Rˢ, we find an A:{G}C,∆ action, with a in G</a>
    <a id="H₇-args.∃α"></a><a id="25852" href="Coherence.Hypotheses.html#25852" class="Field">∃α</a> <a id="25855" class="Symbol">:</a> <a id="25857" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">auth-commit⦅</a> <a id="25870" href="Coherence.Hypotheses.html#25406" class="Field">A</a> <a id="25872" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">,</a> <a id="25874" href="Coherence.Hypotheses.html#25403" class="Field">ad</a> <a id="25877" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">,</a> <a id="25879" href="Coherence.Hypotheses.html#25502" class="Function">Δ</a> <a id="25881" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">⦆</a> <a id="25883" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="25885" href="SymbolicModel.Run.Collections.html#908" class="Function">labelsʳ</a> <a id="25893" href="Coherence.Hypotheses.html#2411" class="Function">R</a>

<a id="25896" class="Keyword">module</a> <a id="25903" href="Coherence.Hypotheses.html#25903" class="Module">H₇</a> <a id="25906" class="Symbol">(</a><a id="25907" href="Coherence.Hypotheses.html#25907" class="Bound">⋯</a> <a id="25909" class="Symbol">:</a> <a id="25911" href="Coherence.Hypotheses.html#25352" class="Record">H₇-args</a><a id="25918" class="Symbol">)</a> <a id="25920" class="Symbol">(</a><a id="25921" class="Keyword">let</a> <a id="25925" class="Keyword">open</a> <a id="25930" href="Coherence.Hypotheses.html#25352" class="Module">H₇-args</a> <a id="25938" href="Coherence.Hypotheses.html#25907" class="Bound">⋯</a><a id="25939" class="Symbol">)</a> <a id="25941" class="Keyword">where</a>
  <a id="25949" href="Coherence.Hypotheses.html#25949" class="Function">λˢ</a> <a id="25952" class="Symbol">:</a> <a id="25954" href="SymbolicModel.Mappings.html#1063" class="Function">ℾᵗ</a> <a id="25957" href="Coherence.Hypotheses.html#1907" class="Function">Γₜ′</a>
  <a id="25963" href="Coherence.Hypotheses.html#25949" class="Function">λˢ</a> <a id="25966" class="Symbol">=</a> <a id="25968" href="SymbolicModel.Mappings.html#7972" class="Function">LIFTˢ</a> <a id="25974" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="25976" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="25978" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="25981" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="25984" href="Function.Base.html#624" class="Function">id</a> <a id="25987" href="Function.Base.html#624" class="Function">id</a> <a id="25990" href="Function.Base.html#624" class="Function">id</a>
  <a id="25995" class="Keyword">private</a>
    <a id="26007" href="Coherence.Hypotheses.html#26007" class="Function">a∈Γ</a> <a id="26011" class="Symbol">:</a> <a id="26013" href="Coherence.Hypotheses.html#25408" class="Field">a</a> <a id="26015" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="26017" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="26025" class="Symbol">(</a><a id="26026" href="Coherence.Hypotheses.html#2115" class="Function">Rˢ</a> <a id="26029" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="26033" class="Symbol">)</a>
    <a id="26039" href="Coherence.Hypotheses.html#26007" class="Function">a∈Γ</a> <a id="26043" class="Symbol">=</a> <a id="26045" href="BitML.Semantics.Configurations.Helpers.html#14586" class="Function">∈namesˡ-resp-≈</a> <a id="26060" href="Coherence.Hypotheses.html#25408" class="Field">a</a> <a id="26062" class="Symbol">{</a><a id="26063" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="26064" class="Symbol">}{</a><a id="26066" href="Coherence.Hypotheses.html#2115" class="Function">Rˢ</a> <a id="26069" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="26073" class="Symbol">}</a> <a id="26075" class="Symbol">(</a><a id="26076" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="26082" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="26084" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="26087" class="Symbol">.</a><a id="26088" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="26093" class="Symbol">)</a> <a id="26095" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a>
  <a id="26099" class="Keyword">open</a> <a id="26104" href="SymbolicModel.Mappings.html#1283" class="Module">ℾ</a> <a id="26106" class="Symbol">(</a><a id="26107" href="SymbolicModel.Mappings.html#3563" class="Function">ℝ∗⇒ℾ</a> <a id="26112" href="Coherence.Hypotheses.html#2128" class="Function">𝕣∗</a><a id="26114" class="Symbol">)</a> <a id="26116" class="Keyword">using</a> <a id="26122" class="Symbol">(</a><a id="26123" href="SymbolicModel.Mappings.html#1357" class="Field">sechashΓ</a><a id="26131" class="Symbol">)</a>

  <a id="26136" href="Coherence.Hypotheses.html#26136" class="Function">sechash⦅a⦆</a> <a id="26147" class="Symbol">:</a> <a id="26149" href="Bitcoin.BasicTypes.html#351" class="Function">HashId</a>
  <a id="26158" href="Coherence.Hypotheses.html#26136" class="Function">sechash⦅a⦆</a> <a id="26169" class="Symbol">=</a> <a id="26171" href="SymbolicModel.Mappings.html#1357" class="Function">sechashΓ</a> <a id="26180" class="Symbol">{</a><a id="26181" href="Coherence.Hypotheses.html#25408" class="Field">a</a><a id="26182" class="Symbol">}</a> <a id="26184" href="Coherence.Hypotheses.html#26007" class="Function">a∈Γ</a>

  <a id="26191" class="Comment">-- txoutᶜ : Txout ad × Txout C</a>
  <a id="26224" class="Comment">-- txoutᶜ = auth-commit∈⇒Txout ∃α 𝕣</a>

<a id="26261" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[7]~_⨾_"></a><a id="26266" href="Coherence.Hypotheses.html#26266" class="Datatype Operator">_⨾_⨾_~ℍ[7]~_⨾_</a> <a id="26281" class="Symbol">:</a> <a id="26283" href="Coherence.Hypotheses.html#1614" class="Function">StepRel</a> <a id="26291" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[7]~_⨾_.mkℍ"></a><a id="26299" href="Coherence.Hypotheses.html#26299" class="InductiveConstructor">mkℍ</a> <a id="26303" class="Symbol">:</a> <a id="26305" class="Symbol">∀</a> <a id="26307" class="Symbol">{</a><a id="26308" href="Coherence.Hypotheses.html#26308" class="Bound">h</a> <a id="26310" class="Symbol">:</a> <a id="26312" href="Coherence.Hypotheses.html#25352" class="Record">H₇-args</a><a id="26319" class="Symbol">}</a> <a id="26321" class="Symbol">{</a><a id="26322" href="Coherence.Hypotheses.html#26322" class="Bound">B</a><a id="26323" class="Symbol">}</a> <a id="26325" class="Symbol">{</a><a id="26326" href="Coherence.Hypotheses.html#26326" class="Bound">mˢ</a> <a id="26329" class="Symbol">:</a> <a id="26331" href="Agda.Builtin.String.html#318" class="Postulate">String</a><a id="26337" class="Symbol">}</a> <a id="26339" class="Symbol">(</a><a id="26340" class="Keyword">let</a> <a id="26344" href="Coherence.Hypotheses.html#26344" class="Bound">m</a> <a id="26346" class="Symbol">=</a> <a id="26348" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="26355" href="Coherence.Hypotheses.html#26326" class="Bound">mˢ</a><a id="26357" class="Symbol">)</a>
    <a id="26363" class="Symbol">→</a> <a id="26365" class="Keyword">let</a>
        <a id="26377" class="Keyword">open</a> <a id="26382" href="Coherence.Hypotheses.html#25352" class="Module">H₇-args</a> <a id="26390" href="Coherence.Hypotheses.html#26308" class="Bound">h</a> <a id="26392" class="Keyword">renaming</a> <a id="26401" class="Symbol">(</a><a id="26402" href="Coherence.Hypotheses.html#25403" class="Field">ad</a> <a id="26405" class="Symbol">to</a> <a id="26408" class="Field">⟨G⟩C</a><a id="26412" class="Symbol">)</a>

        <a id="26423" class="Comment">-- (iii) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="26483" class="Keyword">open</a> <a id="26488" href="Coherence.Hypotheses.html#25903" class="Module">H₇</a> <a id="26491" href="Coherence.Hypotheses.html#26308" class="Bound">h</a> <a id="26493" class="Keyword">using</a> <a id="26499" class="Symbol">(</a><a id="26500" href="Coherence.Hypotheses.html#25949" class="Function">λˢ</a><a id="26502" class="Symbol">;</a> <a id="26504" href="Coherence.Hypotheses.html#26136" class="Function">sechash⦅a⦆</a><a id="26514" class="Symbol">)</a>
        <a id="26524" class="Comment">-- (i) some participant B broadcasts message m</a>
        <a id="26579" href="Coherence.Hypotheses.html#26579" class="Bound">λᶜ</a> <a id="26582" class="Symbol">=</a> <a id="26584" href="Coherence.Hypotheses.html#26322" class="Bound">B</a> <a id="26586" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="26590" href="Coherence.Hypotheses.html#26344" class="Bound">m</a>
      <a id="26598" class="Keyword">in</a>
      <a id="26607" class="Comment">-- ... with a corresponding broadcast of m′=(C,h̅,k̅) in Rᶜ</a>
      <a id="26673" class="Comment">-- T0D0: should we search for a signature of this message instead?</a>
    <a id="26744" class="Symbol">∀</a> <a id="26746" class="Symbol">(</a><a id="26747" href="Coherence.Hypotheses.html#26747" class="Bound">∃λ</a> <a id="26750" class="Symbol">:</a> <a id="26752" href="Data.Product.html#1378" class="Function">∃</a> <a id="26754" class="Symbol">λ</a> <a id="26756" href="Coherence.Hypotheses.html#26756" class="Bound">B</a> <a id="26758" class="Symbol">→</a> <a id="26760" href="Data.Product.html#1378" class="Function">∃</a> <a id="26762" class="Symbol">λ</a> <a id="26764" href="Coherence.Hypotheses.html#26764" class="Bound">txoutᶜ</a> <a id="26771" class="Symbol">→</a>
          <a id="26783" class="Keyword">let</a> <a id="26787" href="Coherence.Hypotheses.html#26787" class="Bound">C,h̅,k̅</a> <a id="26795" class="Symbol">=</a> <a id="26797" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="26804" class="Symbol">(</a><a id="26805" href="SecureCompilation.ComputationalContracts.html#12174" class="Function">encodeAd</a> <a id="26814" href="Coherence.Hypotheses.html#26408" class="Function">⟨G⟩C</a> <a id="26819" href="Coherence.Hypotheses.html#26764" class="Bound">txoutᶜ</a> <a id="26826" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="26828" href="Coherence.Hypotheses.html#25525" class="Function">h̅</a> <a id="26831" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="26833" href="Coherence.Hypotheses.html#25549" class="Function">k̅</a><a id="26835" class="Symbol">)</a>
          <a id="26847" class="Keyword">in</a>  <a id="26851" href="Coherence.Hypotheses.html#26756" class="Bound">B</a> <a id="26853" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="26857" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="26861" class="Symbol">(</a><a id="26862" href="ComputationalModel.KeyPairs.html#177" class="Function">K</a> <a id="26864" href="Coherence.Hypotheses.html#26756" class="Bound">B</a><a id="26865" class="Symbol">)</a> <a id="26867" href="Coherence.Hypotheses.html#26787" class="Bound">C,h̅,k̅</a> <a id="26875" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="26877" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="26884" href="Coherence.Hypotheses.html#2101" class="Function">Rᶜ</a><a id="26886" class="Symbol">)</a> <a id="26888" class="Symbol">→</a>

    <a id="26895" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="26897" href="Coherence.Hypotheses.html#25408" class="Function">a</a> <a id="26899" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="26901" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="26909" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a>
    <a id="26915" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="26917" href="ComputationalModel.Serialization.html#245" class="Function Operator">∣</a> <a id="26919" href="Coherence.Hypotheses.html#26344" class="Bound">m</a> <a id="26921" href="ComputationalModel.Serialization.html#245" class="Function Operator">∣ᵐ</a> <a id="26924" href="Prelude.Ord.Core.html#289" class="Function Operator">≥</a> <a id="26926" href="SecureCompilation.ModuleParameters.html#357" class="Field">η</a>

      <a id="26935" class="Comment">-- (ii) in Rᶜ we find ⋯ (B → O ∶ m) (O → B : sechash′(a)) for some B ⋯</a>
    <a id="27010" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="27012" class="Symbol">(</a><a id="27013" href="Data.Product.html#1378" class="Function">∃</a> <a id="27015" class="Symbol">λ</a> <a id="27017" href="Coherence.Hypotheses.html#27017" class="Bound">B</a> <a id="27019" class="Symbol">→</a> <a id="27021" class="Symbol">(</a><a id="27022" href="Coherence.Hypotheses.html#27017" class="Bound">B</a> <a id="27024" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="27026" href="Coherence.Hypotheses.html#26344" class="Bound">m</a> <a id="27028" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="27030" href="Coherence.Hypotheses.html#26136" class="Function">sechash⦅a⦆</a><a id="27040" class="Symbol">)</a> <a id="27042" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="27044" href="ComputationalModel.Run.html#5971" class="Function">oracleInteractionsᶜ</a> <a id="27064" href="Coherence.Hypotheses.html#2101" class="Function">Rᶜ</a><a id="27066" class="Symbol">)</a>

      <a id="27075" class="Comment">-- (v) λᶜ is the first broadcast of m after the first broadcast of m′</a>
    <a id="27149" href="Prelude.InferenceRules.html#56072" class="Function Operator">∙</a> <a id="27151" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="27155" class="Symbol">(λ</a> <a id="27158" href="Coherence.Hypotheses.html#27158" class="Bound">l</a> <a id="27160" class="Symbol">→</a> <a id="27162" class="Symbol">∀</a> <a id="27164" href="Coherence.Hypotheses.html#27164" class="Bound">X</a> <a id="27166" class="Symbol">→</a> <a id="27168" href="Coherence.Hypotheses.html#27158" class="Bound">l</a> <a id="27170" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="27172" href="Coherence.Hypotheses.html#27164" class="Bound">X</a> <a id="27174" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="27178" href="Coherence.Hypotheses.html#26344" class="Bound">m</a><a id="27179" class="Symbol">)</a> <a id="27181" class="Symbol">(</a><a id="27182" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="27192" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="27194" href="Coherence.Hypotheses.html#26747" class="Bound">∃λ</a> <a id="27197" class="Symbol">.</a><a id="27198" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="27204" class="Symbol">.</a><a id="27205" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="27210" class="Symbol">)</a>

      <a id="27219" href="Prelude.InferenceRules.html#12752" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="27279" href="Coherence.Hypotheses.html#2189" class="Function">Γₜ″</a> <a id="27283" href="Coherence.Hypotheses.html#26266" class="Datatype Operator">⨾</a> <a id="27285" href="Coherence.Hypotheses.html#2128" class="Function">𝕣∗</a> <a id="27288" href="Coherence.Hypotheses.html#26266" class="Datatype Operator">⨾</a> <a id="27290" class="Symbol">(</a><a id="27291" href="Coherence.Hypotheses.html#2275" class="Function">𝕒</a> <a id="27293" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="27295" href="Coherence.Hypotheses.html#25949" class="Function">λˢ</a><a id="27297" class="Symbol">)</a> <a id="27299" href="Coherence.Hypotheses.html#26266" class="Datatype Operator">~ℍ[7]~</a> <a id="27306" href="Coherence.Hypotheses.html#26579" class="Bound">λᶜ</a> <a id="27309" href="Coherence.Hypotheses.html#26266" class="Datatype Operator">⨾</a> <a id="27311" href="Coherence.Hypotheses.html#2101" class="Function">Rᶜ</a>

<a id="27315" class="Comment">-- ** Contract actions: split</a>
<a id="27345" class="Keyword">record</a> <a id="H₈-args"></a><a id="27352" href="Coherence.Hypotheses.html#27352" class="Record">H₈-args</a> <a id="27360" class="Symbol">:</a> <a id="27362" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="27367" class="Keyword">where</a>
  <a id="27375" class="Keyword">constructor</a> <a id="mk"></a><a id="27387" href="Coherence.Hypotheses.html#27387" class="InductiveConstructor">mk</a>
  <a id="27392" class="Keyword">field</a>
    <a id="27402" class="Symbol">{</a><a id="H₈-args.c"></a><a id="27403" href="Coherence.Hypotheses.html#27403" class="Field">c</a> <a id="H₈-args.y"></a><a id="27405" href="Coherence.Hypotheses.html#27405" class="Field">y</a> <a id="H₈-args.Γ₀"></a><a id="27407" href="Coherence.Hypotheses.html#27407" class="Field">Γ₀</a> <a id="H₈-args.t"></a><a id="27410" href="Coherence.Hypotheses.html#27410" class="Field">t</a><a id="27411" class="Symbol">}</a> <a id="27413" class="Symbol">:</a> <a id="27415" class="Symbol">_</a>
    <a id="27421" class="Symbol">{</a><a id="H₈-args.i"></a><a id="27422" href="Coherence.Hypotheses.html#27422" class="Field">i</a><a id="27423" class="Symbol">}</a> <a id="27425" class="Symbol">:</a> <a id="27427" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="27433" href="Coherence.Hypotheses.html#27403" class="Field">c</a>
    <a id="27439" class="Symbol">{</a><a id="H₈-args.vcis"></a><a id="27440" href="Coherence.Hypotheses.html#27440" class="Field">vcis</a><a id="27444" class="Symbol">}</a> <a id="27446" class="Symbol">:</a> <a id="27448" href="BitML.Contracts.Types.html#594" class="Function">VIContracts</a>
  <a id="27462" class="Keyword">open</a> <a id="27467" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="27475" href="Coherence.Hypotheses.html#27403" class="Field">c</a> <a id="27477" href="Coherence.Hypotheses.html#27422" class="Field">i</a> <a id="27479" class="Keyword">public</a>
  <a id="H₈-args.vs"></a><a id="27488" href="Coherence.Hypotheses.html#27488" class="Function">vs</a>  <a id="27492" class="Symbol">=</a> <a id="27494" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="27501" href="Coherence.Hypotheses.html#27440" class="Field">vcis</a> <a id="27506" class="Symbol">.</a><a id="27507" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₈-args.v"></a><a id="27515" href="Coherence.Hypotheses.html#27515" class="Function">v</a>   <a id="27519" class="Symbol">=</a> <a id="27521" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="27525" href="Coherence.Hypotheses.html#27488" class="Function">vs</a>
  <a id="H₈-args.cs"></a><a id="27530" href="Coherence.Hypotheses.html#27530" class="Function">cs</a>  <a id="27534" class="Symbol">=</a> <a id="27536" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="27543" href="Coherence.Hypotheses.html#27440" class="Field">vcis</a> <a id="27548" class="Symbol">.</a><a id="27549" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="27555" class="Symbol">.</a><a id="27556" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₈-args.vcs"></a><a id="27564" href="Coherence.Hypotheses.html#27564" class="Function">vcs</a> <a id="27568" class="Symbol">=</a> <a id="27570" href="Data.List.Base.html#3579" class="Function">zip</a> <a id="27574" href="Coherence.Hypotheses.html#27488" class="Function">vs</a> <a id="27577" href="Coherence.Hypotheses.html#27530" class="Function">cs</a>
  <a id="H₈-args.xs"></a><a id="27582" href="Coherence.Hypotheses.html#27582" class="Function">xs</a>  <a id="27586" class="Symbol">=</a> <a id="27588" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="27595" href="Coherence.Hypotheses.html#27440" class="Field">vcis</a> <a id="27600" class="Symbol">.</a><a id="27601" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="27607" class="Symbol">.</a><a id="27608" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
  <a id="H₈-args.As"></a><a id="27616" href="Coherence.Hypotheses.html#27616" class="Function">As</a> <a id="27619" class="Symbol">=</a> <a id="27621" href="BitML.Contracts.Collections.html#13915" class="Function">decorations</a> <a id="27633" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="27635" class="Symbol">.</a><a id="27636" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₈-args.ts"></a><a id="27644" href="Coherence.Hypotheses.html#27644" class="Function">ts</a> <a id="27647" class="Symbol">=</a> <a id="27649" href="BitML.Contracts.Collections.html#13915" class="Function">decorations</a> <a id="27661" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="27663" class="Symbol">.</a><a id="27664" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
  <a id="27672" class="Keyword">field</a>
    <a id="27682" class="Comment">-- (i) in Rˢ, α consumes ⟨D+C,v⟩y to obtain ⟨C₀,v₀⟩ₓ₀ | ⋯ | ⟨Cₖ,vₖ⟩ₓₖ</a>
    <a id="27756" class="Comment">--     where D = ⋯ : split vs → cs</a>
    <a id="27795" class="Comment">--     let t be the maximum deadline in an `after` in front of D</a>
    <a id="27864" class="Comment">--     T0D0: what should t′ be in case there are not after decorations?</a>
    <a id="27940" class="Comment">--           (currently any value)</a>
    <a id="H₈-args.t≡"></a><a id="27979" href="Coherence.Hypotheses.html#27979" class="Field">t≡</a> <a id="27982" class="Symbol">:</a> <a id="27984" href="Coherence.Hypotheses.html#27410" class="Field">t</a> <a id="27986" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="27988" href="Prelude.Ord.MinMax.html#436" class="Function">maximum</a> <a id="27996" href="Coherence.Hypotheses.html#27410" class="Field">t</a> <a id="27998" href="Coherence.Hypotheses.html#27644" class="Function">ts</a>
    <a id="H₈-args.d≡"></a><a id="28005" href="Coherence.Hypotheses.html#28005" class="Field">d≡</a> <a id="28008" class="Symbol">:</a> <a id="28010" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="28012" href="BitML.Contracts.Collections.html#15163" class="Function Operator">≡⋯∶</a> <a id="28016" href="BitML.Contracts.Types.html#941" class="InductiveConstructor">split</a> <a id="28022" href="Coherence.Hypotheses.html#27564" class="Function">vcs</a>
    <a id="28030" class="Comment">-- Hypotheses from [C-Split]</a>
    <a id="H₈-args.fresh-xs"></a><a id="28063" href="Coherence.Hypotheses.html#28063" class="Field">fresh-xs</a> <a id="28072" class="Symbol">:</a> <a id="28074" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="28078" class="Symbol">(</a><a id="28079" href="Data.List.Membership.Setoid.html#945" class="Function Operator">_∉</a> <a id="28082" href="Coherence.Hypotheses.html#27405" class="Field">y</a> <a id="28084" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="28088" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="28092" href="Coherence.Hypotheses.html#27407" class="Field">Γ₀</a><a id="28094" class="Symbol">)</a> <a id="28096" href="Coherence.Hypotheses.html#27582" class="Function">xs</a>
    <a id="28103" class="Comment">-- Hypotheses from [Timeout]</a>
    <a id="H₈-args.As≡∅"></a><a id="28136" href="Coherence.Hypotheses.html#28136" class="Field">As≡∅</a> <a id="28141" class="Symbol">:</a> <a id="28143" href="Prelude.Null.html#263" class="Field">Null</a> <a id="28148" href="Coherence.Hypotheses.html#27616" class="Function">As</a>
  <a id="H₈-args.Γ₁"></a><a id="28153" href="Coherence.Hypotheses.html#28153" class="Function">Γ₁</a> <a id="28156" class="Symbol">=</a> <a id="28158" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="28161" href="Data.List.Base.html#1553" class="Function">map</a> <a id="28165" class="Symbol">(</a><a id="28166" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="28175" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="28177" href="Function.Base.html#1563" class="Function">flip</a> <a id="28182" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨_,_⟩at_</a><a id="28190" class="Symbol">)</a> <a id="28192" href="Coherence.Hypotheses.html#27440" class="Field">vcis</a>
  <a id="28199" class="Keyword">private</a>
    <a id="H₈-args.α"></a><a id="28211" href="Coherence.Hypotheses.html#28211" class="Function">α</a>  <a id="28214" class="Symbol">=</a> <a id="28216" href="BitML.Semantics.Label.html#1232" class="InductiveConstructor Operator">split⦅</a> <a id="28223" href="Coherence.Hypotheses.html#27405" class="Field">y</a> <a id="28225" href="BitML.Semantics.Label.html#1232" class="InductiveConstructor Operator">⦆</a>
    <a id="H₈-args.Γ′"></a><a id="28231" href="Coherence.Hypotheses.html#28231" class="Function">Γ′</a> <a id="28234" class="Symbol">=</a> <a id="28236" href="Coherence.Hypotheses.html#28153" class="Function">Γ₁</a> <a id="28239" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="28241" href="Coherence.Hypotheses.html#27407" class="Field">Γ₀</a>

    <a id="H₈-args.∀≤t"></a><a id="28249" href="Coherence.Hypotheses.html#28249" class="Function">∀≤t</a> <a id="28253" class="Symbol">:</a> <a id="28255" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="28259" class="Symbol">(</a><a id="28260" href="Prelude.Ord.Core.html#209" class="Field Operator">_≤</a> <a id="28263" href="Coherence.Hypotheses.html#27410" class="Field">t</a><a id="28264" class="Symbol">)</a> <a id="28266" href="Coherence.Hypotheses.html#27644" class="Function">ts</a>
    <a id="28273" href="Coherence.Hypotheses.html#28249" class="Function">∀≤t</a> <a id="28277" class="Symbol">=</a> <a id="28279" href="Prelude.SubstDSL.html#488" class="Function">⟪</a> <a id="28281" class="Symbol">(λ</a> <a id="28284" href="Coherence.Hypotheses.html#28284" class="Bound">◆</a> <a id="28286" class="Symbol">→</a> <a id="28288" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="28292" class="Symbol">(</a><a id="28293" href="Prelude.Ord.Core.html#209" class="Field Operator">_≤</a> <a id="28296" href="Coherence.Hypotheses.html#28284" class="Bound">◆</a><a id="28297" class="Symbol">)</a> <a id="28299" href="Coherence.Hypotheses.html#27644" class="Function">ts</a><a id="28301" class="Symbol">)</a> <a id="28303" href="Prelude.SubstDSL.html#488" class="Function">⟫</a> <a id="28305" href="Coherence.Hypotheses.html#27979" class="Field">t≡</a> <a id="28308" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="28311" href="Prelude.Ord.MinMax.html#1034" class="Postulate">∀≤max</a> <a id="28317" href="Coherence.Hypotheses.html#27410" class="Field">t</a> <a id="28319" href="Coherence.Hypotheses.html#27644" class="Function">ts</a>

    <a id="H₈-args.split→"></a><a id="28327" href="Coherence.Hypotheses.html#28327" class="Function">split→</a> <a id="28334" class="Symbol">:</a> <a id="28336" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="28338" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="28340" href="BitML.Contracts.ModuleMacros.html#607" class="Function">d∗</a> <a id="28343" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="28345" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="28347" href="Coherence.Hypotheses.html#27515" class="Function">v</a> <a id="28349" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="28353" href="Coherence.Hypotheses.html#27405" class="Field">y</a> <a id="28355" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="28357" href="Coherence.Hypotheses.html#27407" class="Field">Γ₀</a> <a id="28360" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="28363" href="Coherence.Hypotheses.html#28211" class="Function">α</a> <a id="28365" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a> <a id="28368" href="Coherence.Hypotheses.html#28231" class="Function">Γ′</a>
    <a id="28375" href="Coherence.Hypotheses.html#28327" class="Function">split→</a> <a id="28382" class="Symbol">=</a> <a id="28384" href="Prelude.SubstDSL.html#488" class="Function">⟪</a> <a id="28386" class="Symbol">(λ</a> <a id="28389" href="Coherence.Hypotheses.html#28389" class="Bound">◆</a> <a id="28391" class="Symbol">→</a> <a id="28393" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="28395" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="28397" href="Coherence.Hypotheses.html#28389" class="Bound">◆</a> <a id="28399" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="28401" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="28403" href="Coherence.Hypotheses.html#27515" class="Function">v</a> <a id="28405" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="28409" href="Coherence.Hypotheses.html#27405" class="Field">y</a> <a id="28411" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="28413" href="Coherence.Hypotheses.html#27407" class="Field">Γ₀</a> <a id="28416" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="28419" href="Coherence.Hypotheses.html#28211" class="Function">α</a> <a id="28421" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a> <a id="28424" href="Coherence.Hypotheses.html#28231" class="Function">Γ′</a><a id="28426" class="Symbol">)</a> <a id="28428" href="Prelude.SubstDSL.html#488" class="Function">⟫</a> <a id="28430" href="Coherence.Hypotheses.html#28005" class="Field">d≡</a>
          <a id="28443" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="28446" href="BitML.Semantics.InferenceRules.html#5386" class="InductiveConstructor">[C-Split]</a> <a id="28456" class="Symbol">{</a><a id="28457" class="Argument">vcis</a> <a id="28462" class="Symbol">=</a> <a id="28464" href="Coherence.Hypotheses.html#27440" class="Field">vcis</a><a id="28468" class="Symbol">}</a> <a id="28470" href="Coherence.Hypotheses.html#28063" class="Field">fresh-xs</a>
  <a id="28481" class="Keyword">open</a> <a id="28486" href="Coherence.Hypotheses.html#1754" class="Module">Transition</a>
    <a id="28501" class="Symbol">(</a> <a id="28503" class="Symbol">(</a><a id="28504" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="28506" href="Coherence.Hypotheses.html#27403" class="Field">c</a> <a id="28508" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="28510" href="Coherence.Hypotheses.html#27515" class="Function">v</a> <a id="28512" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="28516" href="Coherence.Hypotheses.html#27405" class="Field">y</a> <a id="28518" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="28520" href="Coherence.Hypotheses.html#27407" class="Field">Γ₀</a><a id="28522" class="Symbol">)</a> <a id="28524" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="28526" href="Coherence.Hypotheses.html#27410" class="Field">t</a> <a id="28528" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">——</a> <a id="28531" href="Coherence.Hypotheses.html#28211" class="Function">α</a> <a id="28533" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">—→</a> <a id="28536" href="Coherence.Hypotheses.html#28231" class="Function">Γ′</a> <a id="28539" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="28541" href="Coherence.Hypotheses.html#27410" class="Field">t</a>
    <a id="28547" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⊣</a> <a id="28549" href="BitML.Semantics.InferenceRules.html#7812" class="InductiveConstructor">[Timeout]</a> <a id="28559" href="Coherence.Hypotheses.html#28136" class="Field">As≡∅</a> <a id="28564" href="Coherence.Hypotheses.html#28249" class="Function">∀≤t</a> <a id="28568" href="Coherence.Hypotheses.html#28327" class="Function">split→</a> <a id="28575" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="28584" class="Symbol">)</a> <a id="28586" class="Keyword">public</a> <a id="28593" class="Keyword">hiding</a> <a id="28600" class="Symbol">(</a><a id="28601" href="Coherence.Hypotheses.html#1831" class="Field">t</a><a id="28602" class="Symbol">)</a>
  <a id="28606" class="Keyword">field</a> <a id="H₈-args.𝕙r"></a><a id="28612" href="Coherence.Hypotheses.html#28612" class="Field">𝕙r</a> <a id="28615" class="Symbol">:</a> <a id="28617" href="Coherence.Hypotheses.html#1970" class="Record">ℍ-Run</a> <a id="28623" href="Coherence.Hypotheses.html#1941" class="Function">Γ→</a>
  <a id="28628" class="Keyword">open</a> <a id="28633" href="Coherence.Hypotheses.html#1970" class="Module">ℍ-Run</a> <a id="28639" href="Coherence.Hypotheses.html#28612" class="Field">𝕙r</a> <a id="28642" class="Keyword">public</a>

<a id="28650" class="Keyword">module</a> <a id="28657" href="Coherence.Hypotheses.html#28657" class="Module">H₈</a> <a id="28660" class="Symbol">(</a><a id="28661" href="Coherence.Hypotheses.html#28661" class="Bound">⋯</a> <a id="28663" class="Symbol">:</a> <a id="28665" href="Coherence.Hypotheses.html#27352" class="Record">H₈-args</a><a id="28672" class="Symbol">)</a> <a id="28674" class="Symbol">(</a><a id="28675" class="Keyword">let</a> <a id="28679" class="Keyword">open</a> <a id="28684" href="Coherence.Hypotheses.html#27352" class="Module">H₈-args</a> <a id="28692" href="Coherence.Hypotheses.html#28661" class="Bound">⋯</a><a id="28693" class="Symbol">)</a> <a id="28695" class="Keyword">where</a>
  <a id="28703" class="Comment">-- (iii) submit transaction T</a>
  <a id="28735" class="Comment">--       where ∙ (T′,o) = txout′(y)</a>
  <a id="28773" class="Comment">--             ∙ T is the first transaction in Bpar(cs,d,T′,o,partG,t)</a>
  <a id="28846" class="Comment">--       i.e. the one corresponding to subterm `d∗ = split (zip vs cs)`</a>
  <a id="28920" href="Coherence.Hypotheses.html#28920" class="Function">T</a> <a id="28922" class="Symbol">:</a> <a id="28924" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="28927" class="Number">1</a> <a id="28929" class="Symbol">(</a><a id="28930" href="Data.List.Base.html#4873" class="Function">length</a> <a id="28937" href="Coherence.Hypotheses.html#27582" class="Function">xs</a><a id="28939" class="Symbol">)</a>
  <a id="28943" href="Coherence.Hypotheses.html#28920" class="Function">T</a> <a id="28945" class="Symbol">=</a>
    <a id="28951" class="Keyword">let</a>
        <a id="28963" class="Keyword">open</a> <a id="28968" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>
        <a id="28988" href="Coherence.Hypotheses.html#28988" class="Bound">vs≡</a> <a id="28992" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="28994" href="Coherence.Hypotheses.html#28994" class="Bound">cs≡</a> <a id="28998" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="29000" href="Coherence.Hypotheses.html#29000" class="Bound">xs≡</a> <a id="29004" class="Symbol">=</a> <a id="29006" href="Prelude.Lists.Core.html#1445" class="Function">length-unzip₃</a> <a id="29020" href="Coherence.Hypotheses.html#27440" class="Field">vcis</a>

        <a id="29034" href="Coherence.Hypotheses.html#29034" class="Bound">l≡</a> <a id="29037" class="Symbol">:</a> <a id="29039" href="Data.List.Base.html#4873" class="Function">length</a> <a id="29046" href="Coherence.Hypotheses.html#27582" class="Function">xs</a> <a id="29049" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="29051" href="Data.List.Base.html#4873" class="Function">length</a> <a id="29058" class="Symbol">(</a><a id="29059" href="Data.List.Base.html#3579" class="Function">zip</a> <a id="29063" href="Coherence.Hypotheses.html#27488" class="Function">vs</a> <a id="29066" href="Coherence.Hypotheses.html#27530" class="Function">cs</a><a id="29068" class="Symbol">)</a>
        <a id="29078" href="Coherence.Hypotheses.html#29034" class="Bound">l≡</a> <a id="29081" class="Symbol">=</a> <a id="29083" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="29087" href="Function.Base.html#1928" class="Function Operator">$</a>
          <a id="29099" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a> <a id="29105" href="Data.List.Base.html#4873" class="Function">length</a> <a id="29112" class="Symbol">(</a><a id="29113" href="Data.List.Base.html#3579" class="Function">zip</a> <a id="29117" href="Coherence.Hypotheses.html#27488" class="Function">vs</a> <a id="29120" href="Coherence.Hypotheses.html#27530" class="Function">cs</a><a id="29122" class="Symbol">)</a>    <a id="29127" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="29130" href="Data.List.Properties.html#10399" class="Function">L.length-zipWith</a> <a id="29147" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">_,_</a> <a id="29151" href="Coherence.Hypotheses.html#27488" class="Function">vs</a> <a id="29154" href="Coherence.Hypotheses.html#27530" class="Function">cs</a> <a id="29157" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="29175" href="Data.List.Base.html#4873" class="Function">length</a> <a id="29182" href="Coherence.Hypotheses.html#27488" class="Function">vs</a> <a id="29185" href="Data.Nat.Base.html#3166" class="Function Operator">⊓</a> <a id="29187" href="Data.List.Base.html#4873" class="Function">length</a> <a id="29194" href="Coherence.Hypotheses.html#27530" class="Function">cs</a> <a id="29197" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="29200" href="Data.Nat.Properties.html#29390" class="Function">Nat.m≥n⇒m⊓n≡n</a>
                                        <a id="29254" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="29256" href="Data.Nat.Properties.html#4468" class="Function">Nat.≤-reflexive</a> <a id="29272" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="29274" href="Relation.Binary.PropositionalEquality.Core.html#1738" class="Function">trans</a> <a id="29280" href="Coherence.Hypotheses.html#28994" class="Bound">cs≡</a> <a id="29284" class="Symbol">(</a><a id="29285" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="29289" href="Coherence.Hypotheses.html#28988" class="Bound">vs≡</a><a id="29292" class="Symbol">)</a> <a id="29294" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="29312" href="Data.List.Base.html#4873" class="Function">length</a> <a id="29319" href="Coherence.Hypotheses.html#27530" class="Function">cs</a>             <a id="29334" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="29337" href="Coherence.Hypotheses.html#28994" class="Bound">cs≡</a> <a id="29341" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="29359" href="Data.List.Base.html#4873" class="Function">length</a> <a id="29366" href="Coherence.Hypotheses.html#27440" class="Field">vcis</a>           <a id="29381" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="29384" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="29388" href="Coherence.Hypotheses.html#29000" class="Bound">xs≡</a> <a id="29392" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
                <a id="29410" href="Data.List.Base.html#4873" class="Function">length</a> <a id="29417" href="Coherence.Hypotheses.html#27582" class="Function">xs</a>             <a id="29432" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>
    <a id="29438" class="Keyword">in</a>
      <a id="29447" href="Prelude.SubstDSL.html#488" class="Function">⟪</a> <a id="29449" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="29452" class="Number">1</a> <a id="29454" href="Prelude.SubstDSL.html#488" class="Function">⟫</a> <a id="29456" href="Coherence.Hypotheses.html#29034" class="Bound">l≡</a>
         <a id="29468" class="Comment">-- (ii) {G}C′ is the ancestor of ⟨D+C,v⟩y in Rˢ</a>
      <a id="29522" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="29525" class="Symbol">(</a> <a id="29527" href="Coherence.Helpers.html#4528" class="Function">COMPILE-ANCESTOR</a> <a id="29544" class="Symbol">{</a><a id="29545" class="Argument">Γ</a> <a id="29547" class="Symbol">=</a> <a id="29549" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="29550" class="Symbol">}</a> <a id="29552" class="Symbol">{</a><a id="29553" class="Argument">i</a> <a id="29555" class="Symbol">=</a> <a id="29557" href="Coherence.Hypotheses.html#27422" class="Field">i</a><a id="29558" class="Symbol">}</a> <a id="29560" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="29563" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="29565" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="29567" class="Symbol">.</a><a id="29568" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
         <a id="29583" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="29586" href="Coherence.Hypotheses.html#28005" class="Field">d≡</a> <a id="29589" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="29591" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="29600" href="Prelude.SubstDSL.html#164" class="Function">⟫</a><a id="29601" class="Symbol">)</a>
  <a id="29605" class="Keyword">private</a>
    <a id="29617" class="Comment">-- (iv) extend txout′ with {xᵢ ↦ (T,i)}, sechash = sechash′, κ = κ′</a>
    <a id="29689" href="Coherence.Hypotheses.html#29689" class="Function">txout⁺</a> <a id="29696" class="Symbol">:</a> <a id="29698" href="Coherence.Hypotheses.html#27582" class="Function">xs</a> <a id="29701" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="29703" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
    <a id="29716" href="Coherence.Hypotheses.html#29689" class="Function">txout⁺</a> <a id="29723" href="Coherence.Hypotheses.html#29723" class="Bound">x∈</a> <a id="29726" class="Symbol">=</a> <a id="29728" class="Symbol">(</a><a id="29729" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="29732" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="29735" href="Coherence.Hypotheses.html#28920" class="Function">T</a><a id="29736" class="Symbol">)</a> <a id="29738" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="29741" href="Data.List.Relation.Unary.Any.html#1826" class="Function">L.Any.index</a> <a id="29753" href="Coherence.Hypotheses.html#29723" class="Bound">x∈</a>

    <a id="29761" href="Coherence.Hypotheses.html#29761" class="Function">hʳ</a> <a id="29764" class="Symbol">:</a> <a id="29766" class="Symbol">∀</a> <a id="29768" class="Symbol">(</a><a id="29769" href="Coherence.Hypotheses.html#29769" class="Bound">vcis</a> <a id="29774" class="Symbol">:</a> <a id="29776" href="BitML.Contracts.Types.html#594" class="Function">VIContracts</a><a id="29787" class="Symbol">)</a> <a id="29789" class="Symbol">→</a>
        <a id="29799" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="29803" class="Symbol">(</a><a id="29804" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="29807" href="Data.List.Base.html#1553" class="Function">map</a> <a id="29811" class="Symbol">(λ{</a> <a id="29815" class="Symbol">(</a><a id="29816" href="Coherence.Hypotheses.html#29816" class="Bound">vᵢ</a> <a id="29819" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="29821" href="Coherence.Hypotheses.html#29821" class="Bound">cᵢ</a> <a id="29824" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="29826" href="Coherence.Hypotheses.html#29826" class="Bound">xᵢ</a><a id="29828" class="Symbol">)</a> <a id="29830" class="Symbol">→</a> <a id="29832" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="29834" href="Coherence.Hypotheses.html#29821" class="Bound">cᵢ</a> <a id="29837" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="29839" href="Coherence.Hypotheses.html#29816" class="Bound">vᵢ</a> <a id="29842" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="29846" href="Coherence.Hypotheses.html#29826" class="Bound">xᵢ</a> <a id="29849" class="Symbol">})</a> <a id="29852" href="Coherence.Hypotheses.html#29769" class="Bound">vcis</a><a id="29856" class="Symbol">)</a>
      <a id="29864" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="29866" class="Symbol">(</a><a id="29867" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="29873" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="29875" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="29881" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="29883" href="Prelude.Lists.Core.html#1363" class="Function">unzip₃</a> <a id="29890" href="Coherence.Hypotheses.html#29769" class="Bound">vcis</a><a id="29894" class="Symbol">)</a>
    <a id="29900" href="Coherence.Hypotheses.html#29761" class="Function">hʳ</a> <a id="29903" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="29906" class="Symbol">=</a> <a id="29908" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="29917" href="Coherence.Hypotheses.html#29761" class="Function">hʳ</a> <a id="29920" class="Symbol">(_</a> <a id="29923" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="29925" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="29927" class="Symbol">)</a> <a id="29929" class="Symbol">=</a> <a id="29931" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="29940" href="Coherence.Hypotheses.html#29761" class="Function">hʳ</a> <a id="29943" class="Symbol">(_</a> <a id="29946" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="29948" href="Coherence.Hypotheses.html#29948" class="Bound">xs</a><a id="29950" class="Symbol">@(_</a> <a id="29954" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="29956" class="Symbol">_))</a> <a id="29960" class="Symbol">=</a> <a id="29962" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="29967" class="Symbol">(_</a> <a id="29970" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷_</a><a id="29972" class="Symbol">)</a> <a id="29974" class="Symbol">(</a><a id="29975" href="Coherence.Hypotheses.html#29761" class="Function">hʳ</a> <a id="29978" href="Coherence.Hypotheses.html#29948" class="Bound">xs</a><a id="29980" class="Symbol">)</a>

    <a id="29987" href="Coherence.Hypotheses.html#29987" class="Function">hˡ</a> <a id="29990" class="Symbol">:</a> <a id="29992" class="Symbol">∀</a> <a id="29994" class="Symbol">(</a><a id="29995" href="Coherence.Hypotheses.html#29995" class="Bound">vcis</a> <a id="30000" class="Symbol">:</a> <a id="30002" href="BitML.Contracts.Types.html#594" class="Function">VIContracts</a><a id="30013" class="Symbol">)</a> <a id="30015" class="Symbol">→</a>
      <a id="30023" href="Prelude.Null.html#263" class="Field">Null</a> <a id="30028" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="30030" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="30038" class="Symbol">(</a><a id="30039" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="30042" href="Data.List.Base.html#1553" class="Function">map</a> <a id="30046" class="Symbol">(λ{</a> <a id="30050" class="Symbol">(</a><a id="30051" href="Coherence.Hypotheses.html#30051" class="Bound">vᵢ</a> <a id="30054" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="30056" href="Coherence.Hypotheses.html#30056" class="Bound">cᵢ</a> <a id="30059" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="30061" href="Coherence.Hypotheses.html#30061" class="Bound">xᵢ</a><a id="30063" class="Symbol">)</a> <a id="30065" class="Symbol">→</a> <a id="30067" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="30069" href="Coherence.Hypotheses.html#30056" class="Bound">cᵢ</a> <a id="30072" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="30074" href="Coherence.Hypotheses.html#30051" class="Bound">vᵢ</a> <a id="30077" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="30081" href="Coherence.Hypotheses.html#30061" class="Bound">xᵢ</a> <a id="30084" class="Symbol">})</a> <a id="30087" href="Coherence.Hypotheses.html#29995" class="Bound">vcis</a><a id="30091" class="Symbol">)</a>
    <a id="30097" href="Coherence.Hypotheses.html#29987" class="Function">hˡ</a> <a id="30100" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="30103" class="Symbol">=</a> <a id="30105" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="30114" href="Coherence.Hypotheses.html#29987" class="Function">hˡ</a> <a id="30117" class="Symbol">(_</a> <a id="30120" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="30122" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="30124" class="Symbol">)</a> <a id="30126" class="Symbol">=</a> <a id="30128" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="30137" href="Coherence.Hypotheses.html#29987" class="Function">hˡ</a> <a id="30140" class="Symbol">(_</a> <a id="30143" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="30145" href="Coherence.Hypotheses.html#30145" class="Bound">xs</a><a id="30147" class="Symbol">@(_</a> <a id="30151" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="30153" class="Symbol">_))</a> <a id="30157" class="Symbol">=</a> <a id="30159" href="Coherence.Hypotheses.html#29987" class="Function">hˡ</a> <a id="30162" href="Coherence.Hypotheses.html#30145" class="Bound">xs</a>

    <a id="30170" href="Coherence.Hypotheses.html#30170" class="Function">hᵃ</a> <a id="30173" class="Symbol">:</a> <a id="30175" class="Symbol">∀</a> <a id="30177" class="Symbol">(</a><a id="30178" href="Coherence.Hypotheses.html#30178" class="Bound">vcis</a> <a id="30183" class="Symbol">:</a> <a id="30185" href="BitML.Contracts.Types.html#594" class="Function">VIContracts</a><a id="30196" class="Symbol">)</a> <a id="30198" class="Symbol">→</a>
      <a id="30206" href="Prelude.Null.html#263" class="Field">Null</a> <a id="30211" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="30213" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="30228" class="Symbol">(</a><a id="30229" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="30232" href="Data.List.Base.html#1553" class="Function">map</a> <a id="30236" class="Symbol">(λ{</a> <a id="30240" class="Symbol">(</a><a id="30241" href="Coherence.Hypotheses.html#30241" class="Bound">vᵢ</a> <a id="30244" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="30246" href="Coherence.Hypotheses.html#30246" class="Bound">cᵢ</a> <a id="30249" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="30251" href="Coherence.Hypotheses.html#30251" class="Bound">xᵢ</a><a id="30253" class="Symbol">)</a> <a id="30255" class="Symbol">→</a> <a id="30257" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="30259" href="Coherence.Hypotheses.html#30246" class="Bound">cᵢ</a> <a id="30262" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="30264" href="Coherence.Hypotheses.html#30241" class="Bound">vᵢ</a> <a id="30267" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="30271" href="Coherence.Hypotheses.html#30251" class="Bound">xᵢ</a> <a id="30274" class="Symbol">})</a> <a id="30277" href="Coherence.Hypotheses.html#30178" class="Bound">vcis</a><a id="30281" class="Symbol">)</a>
    <a id="30287" href="Coherence.Hypotheses.html#30170" class="Function">hᵃ</a> <a id="30290" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="30293" class="Symbol">=</a> <a id="30295" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="30304" href="Coherence.Hypotheses.html#30170" class="Function">hᵃ</a> <a id="30307" class="Symbol">(_</a> <a id="30310" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="30312" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="30314" class="Symbol">)</a> <a id="30316" class="Symbol">=</a> <a id="30318" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="30327" href="Coherence.Hypotheses.html#30170" class="Function">hᵃ</a> <a id="30330" class="Symbol">(_</a> <a id="30333" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="30335" href="Coherence.Hypotheses.html#30335" class="Bound">xs</a><a id="30337" class="Symbol">@(_</a> <a id="30341" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="30343" class="Symbol">_))</a> <a id="30347" class="Symbol">=</a> <a id="30349" href="Coherence.Hypotheses.html#30170" class="Function">hᵃ</a> <a id="30352" href="Coherence.Hypotheses.html#30335" class="Bound">xs</a>

    <a id="30360" href="Coherence.Hypotheses.html#30360" class="Function">ids≡</a> <a id="30365" class="Symbol">:</a> <a id="30367" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="30371" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="30373" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="30375" href="Coherence.Hypotheses.html#27405" class="Field">y</a> <a id="30377" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="30379" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="30383" href="Coherence.Hypotheses.html#27407" class="Field">Γ₀</a>
    <a id="30390" href="Coherence.Hypotheses.html#30360" class="Function">ids≡</a> <a id="30395" class="Symbol">=</a> <a id="30397" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="30425" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="30432" class="Symbol">(</a><a id="30433" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="30435" href="Coherence.Hypotheses.html#27403" class="Field">c</a> <a id="30437" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="30439" href="Coherence.Hypotheses.html#27515" class="Function">v</a> <a id="30441" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="30445" href="Coherence.Hypotheses.html#27405" class="Field">y</a><a id="30446" class="Symbol">)</a> <a id="30448" href="Coherence.Hypotheses.html#27407" class="Field">Γ₀</a>

    <a id="30456" href="Coherence.Hypotheses.html#30456" class="Function">ids≡′</a> <a id="30462" class="Symbol">:</a> <a id="30464" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="30468" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="30471" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="30473" href="Coherence.Hypotheses.html#27582" class="Function">xs</a> <a id="30476" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="30479" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="30483" href="Coherence.Hypotheses.html#27407" class="Field">Γ₀</a>
    <a id="30490" href="Coherence.Hypotheses.html#30456" class="Function">ids≡′</a> <a id="30496" class="Symbol">=</a>
      <a id="30504" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
        <a id="30518" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="30522" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
      <a id="30531" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="30534" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="30562" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="30569" href="Coherence.Hypotheses.html#28153" class="Function">Γ₁</a> <a id="30572" href="Coherence.Hypotheses.html#27407" class="Field">Γ₀</a> <a id="30575" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="30585" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="30589" href="Coherence.Hypotheses.html#28153" class="Function">Γ₁</a> <a id="30592" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="30595" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="30599" href="Coherence.Hypotheses.html#27407" class="Field">Γ₀</a>
      <a id="30608" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="30611" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="30616" class="Symbol">(</a><a id="30617" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="30621" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="30625" href="Coherence.Hypotheses.html#27407" class="Field">Γ₀</a><a id="30627" class="Symbol">)</a> <a id="30629" class="Symbol">(</a><a id="30630" href="Coherence.Hypotheses.html#29761" class="Function">hʳ</a> <a id="30633" href="Coherence.Hypotheses.html#27440" class="Field">vcis</a><a id="30637" class="Symbol">)</a> <a id="30639" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="30649" href="Coherence.Hypotheses.html#27582" class="Function">xs</a> <a id="30652" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="30655" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="30659" href="Coherence.Hypotheses.html#27407" class="Field">Γ₀</a>
      <a id="30668" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="30670" class="Keyword">where</a> <a id="30676" class="Keyword">open</a> <a id="30681" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

    <a id="30698" href="Coherence.Hypotheses.html#30698" class="Function">secrets≡</a> <a id="30707" class="Symbol">:</a> <a id="30709" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="30712" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="30715" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="30723" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="30725" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>
    <a id="30731" href="Coherence.Hypotheses.html#30698" class="Function">secrets≡</a> <a id="30740" class="Symbol">=</a>
      <a id="30748" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
        <a id="30762" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="30770" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
      <a id="30779" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="30782" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="30810" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="30817" href="Coherence.Hypotheses.html#28153" class="Function">Γ₁</a> <a id="30820" href="Coherence.Hypotheses.html#27407" class="Field">Γ₀</a> <a id="30823" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="30833" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="30841" href="Coherence.Hypotheses.html#28153" class="Function">Γ₁</a> <a id="30844" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="30847" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="30855" href="Coherence.Hypotheses.html#27407" class="Field">Γ₀</a>
      <a id="30864" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="30867" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="30872" class="Symbol">(</a><a id="30873" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="30877" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="30885" href="Coherence.Hypotheses.html#27407" class="Field">Γ₀</a><a id="30887" class="Symbol">)</a> <a id="30889" class="Symbol">(</a><a id="30890" href="Coherence.Hypotheses.html#29987" class="Function">hˡ</a> <a id="30893" href="Coherence.Hypotheses.html#27440" class="Field">vcis</a><a id="30897" class="Symbol">)</a> <a id="30899" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="30909" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="30917" href="Coherence.Hypotheses.html#27407" class="Field">Γ₀</a>
      <a id="30926" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
        <a id="30938" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="30946" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>
      <a id="30954" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="30956" class="Keyword">where</a> <a id="30962" class="Keyword">open</a> <a id="30967" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

    <a id="30984" href="Coherence.Hypotheses.html#30984" class="Function">ads≡</a> <a id="30989" class="Symbol">:</a> <a id="30991" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="30994" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="30997" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="31012" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="31014" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>
    <a id="31020" href="Coherence.Hypotheses.html#30984" class="Function">ads≡</a> <a id="31025" class="Symbol">=</a>
      <a id="31033" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
        <a id="31047" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="31062" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
      <a id="31071" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="31074" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="31093" href="Coherence.Hypotheses.html#28153" class="Function">Γ₁</a> <a id="31096" href="Coherence.Hypotheses.html#27407" class="Field">Γ₀</a> <a id="31099" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="31109" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="31124" href="Coherence.Hypotheses.html#28153" class="Function">Γ₁</a> <a id="31127" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="31130" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="31145" href="Coherence.Hypotheses.html#27407" class="Field">Γ₀</a>
      <a id="31154" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="31157" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="31162" class="Symbol">(</a><a id="31163" href="Data.List.Base.html#1819" class="Function Operator">_++</a> <a id="31167" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="31182" href="Coherence.Hypotheses.html#27407" class="Field">Γ₀</a><a id="31184" class="Symbol">)</a> <a id="31186" class="Symbol">(</a><a id="31187" href="Coherence.Hypotheses.html#30170" class="Function">hᵃ</a> <a id="31190" href="Coherence.Hypotheses.html#27440" class="Field">vcis</a><a id="31194" class="Symbol">)</a> <a id="31196" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
        <a id="31206" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="31221" href="Coherence.Hypotheses.html#27407" class="Field">Γ₀</a>
      <a id="31230" href="Relation.Binary.PropositionalEquality.Core.html#2873" class="Function Operator">≡⟨⟩</a>
        <a id="31242" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="31257" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>
      <a id="31265" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a> <a id="31267" class="Keyword">where</a> <a id="31273" class="Keyword">open</a> <a id="31278" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

    <a id="31295" href="Coherence.Hypotheses.html#31295" class="Function">txout↝</a> <a id="31302" class="Symbol">:</a> <a id="31304" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="31306" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="31309" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="31315" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="31317" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
    <a id="31324" href="Coherence.Hypotheses.html#31295" class="Function">txout↝</a> <a id="31331" href="Coherence.Hypotheses.html#31331" class="Bound">txout′</a> <a id="31338" class="Keyword">rewrite</a> <a id="31346" href="Coherence.Hypotheses.html#30360" class="Function">ids≡</a>
      <a id="31357" class="Symbol">=</a> <a id="31359" href="Prelude.Lists.Mappings.html#1750" class="Function">extend-↦</a> <a id="31368" class="Symbol">(</a><a id="31369" href="Data.List.Relation.Binary.Permutation.Propositional.html#1377" class="Function">↭-reflexive</a> <a id="31381" href="Coherence.Hypotheses.html#30456" class="Function">ids≡′</a><a id="31386" class="Symbol">)</a> <a id="31388" href="Coherence.Hypotheses.html#29689" class="Function">txout⁺</a> <a id="31395" class="Symbol">(</a><a id="31396" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="31405" href="Coherence.Hypotheses.html#31331" class="Bound">txout′</a> <a id="31412" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a><a id="31417" class="Symbol">)</a>

    <a id="31424" href="Coherence.Hypotheses.html#31424" class="Function">sechash↝</a> <a id="31433" class="Symbol">:</a> <a id="31435" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="31437" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="31440" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="31448" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="31450" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
    <a id="31457" href="Coherence.Hypotheses.html#31424" class="Function">sechash↝</a> <a id="31466" class="Symbol">=</a> <a id="31468" href="SymbolicModel.Mappings.html#3609" class="Function Operator">lift</a> <a id="31473" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="31475" href="SymbolicModel.Mappings.html#3609" class="Function Operator">—⟨</a> <a id="31478" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="31486" href="SymbolicModel.Mappings.html#3609" class="Function Operator">⟩—</a> <a id="31489" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="31492" href="SymbolicModel.Mappings.html#3609" class="Function Operator">⊣</a> <a id="31494" href="Coherence.Hypotheses.html#30698" class="Function">secrets≡</a>

    <a id="31508" href="Coherence.Hypotheses.html#31508" class="Function">κ↝</a> <a id="31511" class="Symbol">:</a> <a id="31513" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="31515" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="31518" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="31521" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="31523" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
    <a id="31530" href="Coherence.Hypotheses.html#31508" class="Function">κ↝</a> <a id="31533" class="Symbol">=</a> <a id="31535" href="SymbolicModel.Mappings.html#3609" class="Function Operator">lift</a> <a id="31540" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="31542" href="SymbolicModel.Mappings.html#3609" class="Function Operator">—⟨</a> <a id="31545" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="31560" href="SymbolicModel.Mappings.html#3609" class="Function Operator">⟩—</a> <a id="31563" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="31566" href="SymbolicModel.Mappings.html#3609" class="Function Operator">⊣</a> <a id="31568" href="Coherence.Hypotheses.html#30984" class="Function">ads≡</a>
  <a id="31575" href="Coherence.Hypotheses.html#31575" class="Function">λˢ</a> <a id="31578" class="Symbol">:</a> <a id="31580" href="SymbolicModel.Mappings.html#1063" class="Function">ℾᵗ</a> <a id="31583" href="Coherence.Hypotheses.html#1907" class="Function">Γₜ′</a>
  <a id="31589" href="Coherence.Hypotheses.html#31575" class="Function">λˢ</a> <a id="31592" class="Symbol">=</a> <a id="31594" href="SymbolicModel.Mappings.html#7972" class="Function">LIFTˢ</a> <a id="31600" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="31602" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="31604" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="31607" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="31610" href="Coherence.Hypotheses.html#31295" class="Function">txout↝</a> <a id="31617" href="Coherence.Hypotheses.html#31424" class="Function">sechash↝</a> <a id="31626" href="Coherence.Hypotheses.html#31508" class="Function">κ↝</a>

<a id="31630" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[8]~_⨾_"></a><a id="31635" href="Coherence.Hypotheses.html#31635" class="Datatype Operator">_⨾_⨾_~ℍ[8]~_⨾_</a> <a id="31650" class="Symbol">:</a> <a id="31652" href="Coherence.Hypotheses.html#1614" class="Function">StepRel</a> <a id="31660" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[8]~_⨾_.mkℍ"></a><a id="31668" href="Coherence.Hypotheses.html#31668" class="InductiveConstructor">mkℍ</a> <a id="31672" class="Symbol">:</a> <a id="31674" class="Symbol">∀</a> <a id="31676" class="Symbol">{</a><a id="31677" href="Coherence.Hypotheses.html#31677" class="Bound">h</a> <a id="31679" class="Symbol">:</a> <a id="31681" href="Coherence.Hypotheses.html#27352" class="Record">H₈-args</a><a id="31688" class="Symbol">}</a>
    <a id="31694" class="Symbol">→</a> <a id="31696" class="Keyword">let</a>
        <a id="31708" class="Keyword">open</a> <a id="31713" href="Coherence.Hypotheses.html#27352" class="Module">H₈-args</a> <a id="31721" href="Coherence.Hypotheses.html#31677" class="Bound">h</a>
        <a id="31731" class="Keyword">open</a> <a id="31736" href="Coherence.Hypotheses.html#28657" class="Module">H₈</a> <a id="31739" href="Coherence.Hypotheses.html#31677" class="Bound">h</a> <a id="31741" class="Keyword">using</a> <a id="31747" class="Symbol">(</a><a id="31748" href="Coherence.Hypotheses.html#31575" class="Function">λˢ</a><a id="31750" class="Symbol">;</a> <a id="31752" href="Coherence.Hypotheses.html#28920" class="Function">T</a><a id="31753" class="Symbol">)</a>
        <a id="31763" href="Coherence.Hypotheses.html#31763" class="Bound">λᶜ</a> <a id="31766" class="Symbol">=</a> <a id="31768" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="31775" class="Symbol">(</a><a id="31776" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="31779" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="31782" href="Coherence.Hypotheses.html#28920" class="Function">T</a><a id="31783" class="Symbol">)</a>
      <a id="31791" class="Keyword">in</a>
      <a id="31800" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="31860" href="Coherence.Hypotheses.html#2189" class="Function">Γₜ″</a> <a id="31864" href="Coherence.Hypotheses.html#31635" class="Datatype Operator">⨾</a> <a id="31866" href="Coherence.Hypotheses.html#2128" class="Function">𝕣∗</a> <a id="31869" href="Coherence.Hypotheses.html#31635" class="Datatype Operator">⨾</a> <a id="31871" class="Symbol">(</a><a id="31872" href="Coherence.Hypotheses.html#2275" class="Function">𝕒</a> <a id="31874" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="31876" href="Coherence.Hypotheses.html#31575" class="Function">λˢ</a><a id="31878" class="Symbol">)</a> <a id="31880" href="Coherence.Hypotheses.html#31635" class="Datatype Operator">~ℍ[8]~</a> <a id="31887" href="Coherence.Hypotheses.html#31763" class="Bound">λᶜ</a> <a id="31890" href="Coherence.Hypotheses.html#31635" class="Datatype Operator">⨾</a> <a id="31892" href="Coherence.Hypotheses.html#2101" class="Function">Rᶜ</a>

<a id="31896" class="Comment">-- ** Contract actions: withdraw</a>
<a id="31929" class="Keyword">record</a> <a id="H₉-args"></a><a id="31936" href="Coherence.Hypotheses.html#31936" class="Record">H₉-args</a> <a id="31944" class="Symbol">:</a> <a id="31946" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="31951" class="Keyword">where</a>
  <a id="31959" class="Keyword">constructor</a> <a id="mk"></a><a id="31971" href="Coherence.Hypotheses.html#31971" class="InductiveConstructor">mk</a>
  <a id="31976" class="Keyword">field</a>
    <a id="31986" class="Symbol">{</a><a id="H₉-args.c"></a><a id="31987" href="Coherence.Hypotheses.html#31987" class="Field">c</a> <a id="H₉-args.v"></a><a id="31989" href="Coherence.Hypotheses.html#31989" class="Field">v</a> <a id="H₉-args.y"></a><a id="31991" href="Coherence.Hypotheses.html#31991" class="Field">y</a> <a id="H₉-args.Γ₀"></a><a id="31993" href="Coherence.Hypotheses.html#31993" class="Field">Γ₀</a> <a id="H₉-args.A"></a><a id="31996" href="Coherence.Hypotheses.html#31996" class="Field">A</a> <a id="H₉-args.x"></a><a id="31998" href="Coherence.Hypotheses.html#31998" class="Field">x</a> <a id="H₉-args.t"></a><a id="32000" href="Coherence.Hypotheses.html#32000" class="Field">t</a><a id="32001" class="Symbol">}</a> <a id="32003" class="Symbol">:</a> <a id="32005" class="Symbol">_</a>
    <a id="32011" class="Symbol">{</a><a id="H₉-args.i"></a><a id="32012" href="Coherence.Hypotheses.html#32012" class="Field">i</a><a id="32013" class="Symbol">}</a> <a id="32015" class="Symbol">:</a> <a id="32017" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="32023" href="Coherence.Hypotheses.html#31987" class="Field">c</a>
  <a id="32027" class="Keyword">open</a> <a id="32032" href="BitML.Contracts.ModuleMacros.html#549" class="Module">∣SELECT</a> <a id="32040" href="Coherence.Hypotheses.html#31987" class="Field">c</a> <a id="32042" href="Coherence.Hypotheses.html#32012" class="Field">i</a> <a id="32044" class="Keyword">public</a>
  <a id="H₉-args.As"></a><a id="32053" href="Coherence.Hypotheses.html#32053" class="Function">As</a> <a id="32056" class="Symbol">=</a> <a id="32058" href="BitML.Contracts.Collections.html#13915" class="Function">decorations</a> <a id="32070" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="32072" class="Symbol">.</a><a id="32073" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₉-args.ts"></a><a id="32081" href="Coherence.Hypotheses.html#32081" class="Function">ts</a> <a id="32084" class="Symbol">=</a> <a id="32086" href="BitML.Contracts.Collections.html#13915" class="Function">decorations</a> <a id="32098" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="32100" class="Symbol">.</a><a id="32101" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a>
  <a id="32109" class="Keyword">field</a>
    <a id="32119" class="Comment">-- (i) in Rˢ, α consumes ⟨D+C,v⟩y to obtain ⟨A,v⟩ₓ (where D = ⋯ : withdraw A)</a>
    <a id="H₉-args.d≡"></a><a id="32201" href="Coherence.Hypotheses.html#32201" class="Field">d≡</a> <a id="32204" class="Symbol">:</a> <a id="32206" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="32208" href="BitML.Contracts.Collections.html#15163" class="Function Operator">≡⋯∶</a> <a id="32212" href="BitML.Contracts.Types.html#805" class="InductiveConstructor">withdraw</a> <a id="32221" href="Coherence.Hypotheses.html#31996" class="Field">A</a>
    <a id="32227" class="Comment">-- Hypotheses from [C-Withdraw]</a>
    <a id="H₉-args.fresh-x"></a><a id="32263" href="Coherence.Hypotheses.html#32263" class="Field">fresh-x</a> <a id="32271" class="Symbol">:</a> <a id="32273" href="Coherence.Hypotheses.html#31998" class="Field">x</a> <a id="32275" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="32277" href="Coherence.Hypotheses.html#31991" class="Field">y</a> <a id="32279" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="32283" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="32287" href="Coherence.Hypotheses.html#31993" class="Field">Γ₀</a>
    <a id="32294" class="Comment">-- Hypotheses from [Timeout]</a>
    <a id="H₉-args.As≡∅"></a><a id="32327" href="Coherence.Hypotheses.html#32327" class="Field">As≡∅</a> <a id="32332" class="Symbol">:</a> <a id="32334" href="Prelude.Null.html#263" class="Field">Null</a> <a id="32339" href="Coherence.Hypotheses.html#32053" class="Function">As</a>
    <a id="H₉-args.∀≤t"></a><a id="32346" href="Coherence.Hypotheses.html#32346" class="Field">∀≤t</a> <a id="32350" class="Symbol">:</a> <a id="32352" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="32356" class="Symbol">(</a><a id="32357" href="Prelude.Ord.Core.html#209" class="Field Operator">_≤</a> <a id="32360" href="Coherence.Hypotheses.html#32000" class="Field">t</a><a id="32361" class="Symbol">)</a> <a id="32363" href="Coherence.Hypotheses.html#32081" class="Function">ts</a>
  <a id="32368" class="Keyword">private</a>
    <a id="H₉-args.α"></a><a id="32380" href="Coherence.Hypotheses.html#32380" class="Function">α</a>  <a id="32383" class="Symbol">=</a> <a id="32385" href="BitML.Semantics.Label.html#1378" class="InductiveConstructor Operator">withdraw⦅</a> <a id="32395" href="Coherence.Hypotheses.html#31996" class="Field">A</a> <a id="32397" href="BitML.Semantics.Label.html#1378" class="InductiveConstructor Operator">,</a> <a id="32399" href="Coherence.Hypotheses.html#31989" class="Field">v</a> <a id="32401" href="BitML.Semantics.Label.html#1378" class="InductiveConstructor Operator">,</a> <a id="32403" href="Coherence.Hypotheses.html#31991" class="Field">y</a> <a id="32405" href="BitML.Semantics.Label.html#1378" class="InductiveConstructor Operator">⦆</a>
    <a id="H₉-args.Γ′"></a><a id="32411" href="Coherence.Hypotheses.html#32411" class="Function">Γ′</a> <a id="32414" class="Symbol">=</a> <a id="32416" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="32418" href="Coherence.Hypotheses.html#31996" class="Field">A</a> <a id="32420" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="32424" href="Coherence.Hypotheses.html#31989" class="Field">v</a> <a id="32426" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="32430" href="Coherence.Hypotheses.html#31998" class="Field">x</a> <a id="32432" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="32434" href="Coherence.Hypotheses.html#31993" class="Field">Γ₀</a>
  <a id="32439" class="Keyword">open</a> <a id="32444" href="Coherence.Hypotheses.html#1754" class="Module">Transition</a>
    <a id="32459" class="Symbol">(</a> <a id="32461" class="Symbol">(</a><a id="32462" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="32464" href="Coherence.Hypotheses.html#31987" class="Field">c</a> <a id="32466" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="32468" href="Coherence.Hypotheses.html#31989" class="Field">v</a> <a id="32470" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="32474" href="Coherence.Hypotheses.html#31991" class="Field">y</a> <a id="32476" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="32478" href="Coherence.Hypotheses.html#31993" class="Field">Γ₀</a><a id="32480" class="Symbol">)</a> <a id="32482" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="32484" href="Coherence.Hypotheses.html#32000" class="Field">t</a> <a id="32486" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">——</a> <a id="32489" href="Coherence.Hypotheses.html#32380" class="Function">α</a> <a id="32491" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">—→</a> <a id="32494" href="Coherence.Hypotheses.html#32411" class="Function">Γ′</a> <a id="32497" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="32499" href="Coherence.Hypotheses.html#32000" class="Field">t</a>
    <a id="32505" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⊣</a> <a id="32507" href="BitML.Semantics.InferenceRules.html#7812" class="InductiveConstructor">[Timeout]</a> <a id="32517" href="Coherence.Hypotheses.html#32327" class="Field">As≡∅</a> <a id="32522" href="Coherence.Hypotheses.html#32346" class="Field">∀≤t</a>
        <a id="32534" class="Symbol">(</a><a id="32535" href="Prelude.SubstDSL.html#488" class="Function">⟪</a> <a id="32537" class="Symbol">(λ</a> <a id="32540" href="Coherence.Hypotheses.html#32540" class="Bound">◆</a> <a id="32542" class="Symbol">→</a> <a id="32544" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟨</a> <a id="32546" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="32548" href="Coherence.Hypotheses.html#32540" class="Bound">◆</a> <a id="32550" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="32552" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="32554" href="Coherence.Hypotheses.html#31989" class="Field">v</a> <a id="32556" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">⟩at</a> <a id="32560" href="Coherence.Hypotheses.html#31991" class="Field">y</a> <a id="32562" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="32564" href="Coherence.Hypotheses.html#31993" class="Field">Γ₀</a> <a id="32567" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">—[</a> <a id="32570" href="Coherence.Hypotheses.html#32380" class="Function">α</a> <a id="32572" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]→</a> <a id="32575" href="Coherence.Hypotheses.html#32411" class="Function">Γ′</a><a id="32577" class="Symbol">)</a> <a id="32579" href="Prelude.SubstDSL.html#488" class="Function">⟫</a> <a id="32581" href="Coherence.Hypotheses.html#32201" class="Field">d≡</a> <a id="32584" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="32587" href="BitML.Semantics.InferenceRules.html#6346" class="InductiveConstructor">[C-Withdraw]</a> <a id="32600" href="Coherence.Hypotheses.html#32263" class="Field">fresh-x</a><a id="32607" class="Symbol">)</a>
        <a id="32617" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="32626" class="Symbol">)</a> <a id="32628" class="Keyword">public</a> <a id="32635" class="Keyword">hiding</a> <a id="32642" class="Symbol">(</a><a id="32643" href="Coherence.Hypotheses.html#1831" class="Field">t</a><a id="32644" class="Symbol">)</a>
  <a id="32648" class="Keyword">field</a> <a id="H₉-args.𝕙r"></a><a id="32654" href="Coherence.Hypotheses.html#32654" class="Field">𝕙r</a> <a id="32657" class="Symbol">:</a> <a id="32659" href="Coherence.Hypotheses.html#1970" class="Record">ℍ-Run</a> <a id="32665" href="Coherence.Hypotheses.html#1941" class="Function">Γ→</a>
  <a id="32670" class="Keyword">open</a> <a id="32675" href="Coherence.Hypotheses.html#1970" class="Module">ℍ-Run</a> <a id="32681" href="Coherence.Hypotheses.html#32654" class="Field">𝕙r</a> <a id="32684" class="Keyword">public</a>

<a id="32692" class="Keyword">module</a> <a id="32699" href="Coherence.Hypotheses.html#32699" class="Module">H₉</a> <a id="32702" class="Symbol">(</a><a id="32703" href="Coherence.Hypotheses.html#32703" class="Bound">⋯</a> <a id="32705" class="Symbol">:</a> <a id="32707" href="Coherence.Hypotheses.html#31936" class="Record">H₉-args</a><a id="32714" class="Symbol">)</a> <a id="32716" class="Symbol">(</a><a id="32717" class="Keyword">let</a> <a id="32721" class="Keyword">open</a> <a id="32726" href="Coherence.Hypotheses.html#31936" class="Module">H₉-args</a> <a id="32734" href="Coherence.Hypotheses.html#32703" class="Bound">⋯</a><a id="32735" class="Symbol">)</a> <a id="32737" class="Keyword">where</a>
  <a id="32745" class="Comment">-- (ii) {G}C′ is the ancestor of ⟨D+C,v⟩y in Rˢ</a>
  <a id="32795" class="Comment">--   ∙ T′ at o = txout′(x)</a>
  <a id="32824" class="Comment">--   ∙ T is the first transaction of Bd(d,d,T′,o,v,partG,0)</a>
  <a id="32886" class="Comment">-- i.e.</a>
  <a id="32896" class="Comment">-- (iii) submit transaction T</a>
  <a id="32928" class="Comment">--       where ∙ (T′,o) = txout′(y)</a>
  <a id="32966" class="Comment">--             ∙ T is the first transaction in Bd(d,d,T′,o,v,partG,0)</a>
  <a id="33038" class="Comment">--       i.e. the one corresponding to subterm `d∗ = withdraw A`</a>
  <a id="33105" href="Coherence.Hypotheses.html#33105" class="Function">T</a> <a id="33107" class="Symbol">:</a> <a id="33109" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
  <a id="33115" href="Coherence.Hypotheses.html#33105" class="Function">T</a> <a id="33117" class="Symbol">=</a> <a id="33119" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="33122" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="33125" href="Coherence.Helpers.html#4528" class="Function">COMPILE-ANCESTOR</a> <a id="33142" class="Symbol">{</a><a id="33143" class="Argument">Γ</a> <a id="33145" class="Symbol">=</a> <a id="33147" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="33148" class="Symbol">}</a> <a id="33150" class="Symbol">{</a><a id="33151" class="Argument">i</a> <a id="33153" class="Symbol">=</a> <a id="33155" href="Coherence.Hypotheses.html#32012" class="Field">i</a><a id="33156" class="Symbol">}</a> <a id="33158" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="33161" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="33163" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="33165" class="Symbol">.</a><a id="33166" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a> <a id="33172" href="Prelude.SubstDSL.html#164" class="Function">:~</a> <a id="33175" href="Coherence.Hypotheses.html#32201" class="Field">d≡</a> <a id="33178" href="Prelude.SubstDSL.html#164" class="Function">⟪</a> <a id="33180" href="Compiler.Outputs.html#504" class="Function">BranchTx</a> <a id="33189" href="Prelude.SubstDSL.html#164" class="Function">⟫</a>
  <a id="33193" class="Keyword">private</a>
    <a id="33205" class="Comment">-- (iv) extend txout′ with {x ↦ (T,0)}, sechash = sechash′, κ = κ′</a>
    <a id="33276" href="Coherence.Hypotheses.html#33276" class="Function">txout↝</a> <a id="33283" class="Symbol">:</a> <a id="33285" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="33287" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="33290" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="33296" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="33298" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
    <a id="33305" href="Coherence.Hypotheses.html#33276" class="Function">txout↝</a>  <a id="33313" href="Coherence.Hypotheses.html#33313" class="Bound">txout′</a>
      <a id="33326" class="Symbol">=</a> <a id="33328" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="33335" href="Coherence.Hypotheses.html#31998" class="Field">x</a> <a id="33337" class="Symbol">(</a><a id="33338" href="Coherence.Hypotheses.html#33105" class="Function">T</a> <a id="33340" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="33343" class="Number">0</a><a id="33344" class="Symbol">)</a>
      <a id="33352" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="33354" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="33363" href="Coherence.Hypotheses.html#33313" class="Bound">txout′</a> <a id="33370" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a>
  <a id="33378" href="Coherence.Hypotheses.html#33378" class="Function">λˢ</a> <a id="33381" class="Symbol">:</a> <a id="33383" href="SymbolicModel.Mappings.html#1063" class="Function">ℾᵗ</a> <a id="33386" href="Coherence.Hypotheses.html#1907" class="Function">Γₜ′</a>
  <a id="33392" href="Coherence.Hypotheses.html#33378" class="Function">λˢ</a> <a id="33395" class="Symbol">=</a> <a id="33397" href="SymbolicModel.Mappings.html#7972" class="Function">LIFTˢ</a> <a id="33403" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="33405" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="33407" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="33410" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="33413" href="Coherence.Hypotheses.html#33276" class="Function">txout↝</a> <a id="33420" href="Function.Base.html#624" class="Function">id</a> <a id="33423" href="Function.Base.html#624" class="Function">id</a>

  <a id="33429" class="Comment">-- 𝕣∗′ : ℝ∗ Rˢ′</a>
  <a id="33447" class="Comment">-- 𝕣∗′ = Γₜ″ ∷ 𝕣∗ ⊣ 𝕒 , λˢ ✓</a>

<a id="33477" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[9]~_⨾_"></a><a id="33482" href="Coherence.Hypotheses.html#33482" class="Datatype Operator">_⨾_⨾_~ℍ[9]~_⨾_</a> <a id="33497" class="Symbol">:</a> <a id="33499" href="Coherence.Hypotheses.html#1614" class="Function">StepRel</a> <a id="33507" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[9]~_⨾_.mkℍ"></a><a id="33515" href="Coherence.Hypotheses.html#33515" class="InductiveConstructor">mkℍ</a> <a id="33519" class="Symbol">:</a> <a id="33521" class="Symbol">∀</a> <a id="33523" class="Symbol">{</a><a id="33524" href="Coherence.Hypotheses.html#33524" class="Bound">h</a> <a id="33526" class="Symbol">:</a> <a id="33528" href="Coherence.Hypotheses.html#31936" class="Record">H₉-args</a><a id="33535" class="Symbol">}</a>
    <a id="33541" class="Symbol">→</a> <a id="33543" class="Keyword">let</a>
        <a id="33555" class="Keyword">open</a> <a id="33560" href="Coherence.Hypotheses.html#31936" class="Module">H₉-args</a> <a id="33568" href="Coherence.Hypotheses.html#33524" class="Bound">h</a>
        <a id="33578" class="Keyword">open</a> <a id="33583" href="Coherence.Hypotheses.html#32699" class="Module">H₉</a> <a id="33586" href="Coherence.Hypotheses.html#33524" class="Bound">h</a> <a id="33588" class="Keyword">using</a> <a id="33594" class="Symbol">(</a><a id="33595" href="Coherence.Hypotheses.html#33378" class="Function">λˢ</a><a id="33597" class="Symbol">;</a> <a id="33599" href="Coherence.Hypotheses.html#33105" class="Function">T</a><a id="33600" class="Symbol">)</a>
        <a id="33610" class="Comment">-- open H₉ h using (𝕣∗′; T)</a>
        <a id="33646" href="Coherence.Hypotheses.html#33646" class="Bound">λᶜ</a> <a id="33649" class="Symbol">=</a> <a id="33651" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="33658" href="Coherence.Hypotheses.html#33105" class="Function">T</a>
      <a id="33666" class="Keyword">in</a>
      <a id="33675" href="Prelude.InferenceRules.html#44248" class="Function Operator">─────────────────────────────────────────</a>
      <a id="33723" class="Comment">-- Γₜ″ ⨾ 𝕣∗ ⨾ (𝕒 , λˢ) ~ℍ[9]~ λᶜ ⨾ Rᶜ</a>
      <a id="33767" href="Coherence.Hypotheses.html#2189" class="Function">Γₜ″</a> <a id="33771" href="Coherence.Hypotheses.html#33482" class="Datatype Operator">⨾</a> <a id="33773" href="Coherence.Hypotheses.html#2128" class="Function">𝕣∗</a> <a id="33776" href="Coherence.Hypotheses.html#33482" class="Datatype Operator">⨾</a> <a id="33778" class="Symbol">(</a><a id="33779" href="Coherence.Hypotheses.html#2275" class="Function">𝕒</a> <a id="33781" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="33783" href="Coherence.Hypotheses.html#33378" class="Function">λˢ</a><a id="33785" class="Symbol">)</a> <a id="33787" href="Coherence.Hypotheses.html#33482" class="Datatype Operator">~ℍ[9]~</a> <a id="33794" href="Coherence.Hypotheses.html#33646" class="Bound">λᶜ</a> <a id="33797" href="Coherence.Hypotheses.html#33482" class="Datatype Operator">⨾</a> <a id="33799" href="Coherence.Hypotheses.html#2101" class="Function">Rᶜ</a>

<a id="33803" class="Comment">-- ** Deposits: authorize join</a>
<a id="33834" class="Keyword">record</a> <a id="H₁₀-args"></a><a id="33841" href="Coherence.Hypotheses.html#33841" class="Record">H₁₀-args</a> <a id="33850" class="Symbol">:</a> <a id="33852" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="33857" class="Keyword">where</a>
  <a id="33865" class="Keyword">constructor</a> <a id="mk"></a><a id="33877" href="Coherence.Hypotheses.html#33877" class="InductiveConstructor">mk</a>
  <a id="33882" class="Keyword">field</a>
    <a id="33892" class="Symbol">{</a><a id="H₁₀-args.A"></a><a id="33893" href="Coherence.Hypotheses.html#33893" class="Field">A</a> <a id="H₁₀-args.v"></a><a id="33895" href="Coherence.Hypotheses.html#33895" class="Field">v</a> <a id="H₁₀-args.x"></a><a id="33897" href="Coherence.Hypotheses.html#33897" class="Field">x</a> <a id="H₁₀-args.v′"></a><a id="33899" href="Coherence.Hypotheses.html#33899" class="Field">v′</a> <a id="H₁₀-args.x′"></a><a id="33902" href="Coherence.Hypotheses.html#33902" class="Field">x′</a> <a id="H₁₀-args.Γ₀"></a><a id="33905" href="Coherence.Hypotheses.html#33905" class="Field">Γ₀</a> <a id="H₁₀-args.t"></a><a id="33908" href="Coherence.Hypotheses.html#33908" class="Field">t</a><a id="33909" class="Symbol">}</a> <a id="33911" class="Symbol">:</a> <a id="33913" class="Symbol">_</a>
  <a id="33917" class="Keyword">open</a> <a id="33922" href="Coherence.Hypotheses.html#1754" class="Module">Transition</a>
    <a id="33937" class="Symbol">(</a> <a id="33939" class="Symbol">(</a><a id="33940" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="33942" href="Coherence.Hypotheses.html#33893" class="Field">A</a> <a id="33944" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="33948" href="Coherence.Hypotheses.html#33895" class="Field">v</a> <a id="33950" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="33954" href="Coherence.Hypotheses.html#33897" class="Field">x</a> <a id="33956" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="33958" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="33960" href="Coherence.Hypotheses.html#33893" class="Field">A</a> <a id="33962" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="33966" href="Coherence.Hypotheses.html#33899" class="Field">v′</a> <a id="33969" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="33973" href="Coherence.Hypotheses.html#33902" class="Field">x′</a> <a id="33976" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="33978" href="Coherence.Hypotheses.html#33905" class="Field">Γ₀</a><a id="33980" class="Symbol">)</a> <a id="33982" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="33984" href="Coherence.Hypotheses.html#33908" class="Field">t</a>
      <a id="33992" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">——</a> <a id="33995" href="BitML.Semantics.Label.html#480" class="InductiveConstructor Operator">auth-join⦅</a> <a id="34006" href="Coherence.Hypotheses.html#33893" class="Field">A</a> <a id="34008" href="BitML.Semantics.Label.html#480" class="InductiveConstructor Operator">,</a> <a id="34010" href="Coherence.Hypotheses.html#33897" class="Field">x</a> <a id="34012" href="BitML.Semantics.Label.html#480" class="InductiveConstructor Operator">↔</a> <a id="34014" href="Coherence.Hypotheses.html#33902" class="Field">x′</a> <a id="34017" href="BitML.Semantics.Label.html#480" class="InductiveConstructor Operator">⦆</a> <a id="34019" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">—→</a>
      <a id="34028" class="Symbol">(</a> <a id="34030" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="34032" href="Coherence.Hypotheses.html#33893" class="Field">A</a> <a id="34034" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="34038" href="Coherence.Hypotheses.html#33895" class="Field">v</a> <a id="34040" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="34044" href="Coherence.Hypotheses.html#33897" class="Field">x</a> <a id="34046" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="34048" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="34050" href="Coherence.Hypotheses.html#33893" class="Field">A</a> <a id="34052" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="34056" href="Coherence.Hypotheses.html#33899" class="Field">v′</a> <a id="34059" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="34063" href="Coherence.Hypotheses.html#33902" class="Field">x′</a>
      <a id="34072" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="34074" href="Coherence.Hypotheses.html#33893" class="Field">A</a> <a id="34076" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="34082" href="Coherence.Hypotheses.html#33897" class="Field">x</a> <a id="34084" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">↔</a> <a id="34086" href="Coherence.Hypotheses.html#33902" class="Field">x′</a> <a id="34089" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">▷⟨</a> <a id="34092" href="Coherence.Hypotheses.html#33893" class="Field">A</a> <a id="34094" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">,</a> <a id="34096" href="Coherence.Hypotheses.html#33895" class="Field">v</a> <a id="34098" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="34100" href="Coherence.Hypotheses.html#33899" class="Field">v′</a> <a id="34103" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">⟩</a> <a id="34105" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="34107" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="34109" href="Coherence.Hypotheses.html#33905" class="Field">Γ₀</a><a id="34111" class="Symbol">)</a> <a id="34113" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="34115" href="Coherence.Hypotheses.html#33908" class="Field">t</a>
    <a id="34121" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⊣</a> <a id="34123" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="34127" href="BitML.Semantics.InferenceRules.html#1167" class="InductiveConstructor">[DEP-AuthJoin]</a>
    <a id="34146" class="Symbol">)</a> <a id="34148" class="Keyword">public</a> <a id="34155" class="Keyword">hiding</a> <a id="34162" class="Symbol">(</a><a id="34163" href="Coherence.Hypotheses.html#1831" class="Field">t</a><a id="34164" class="Symbol">)</a>
  <a id="34168" class="Keyword">field</a> <a id="H₁₀-args.𝕙r"></a><a id="34174" href="Coherence.Hypotheses.html#34174" class="Field">𝕙r</a> <a id="34177" class="Symbol">:</a> <a id="34179" href="Coherence.Hypotheses.html#1970" class="Record">ℍ-Run</a> <a id="34185" href="Coherence.Hypotheses.html#1941" class="Function">Γ→</a>
  <a id="34190" class="Keyword">open</a> <a id="34195" href="Coherence.Hypotheses.html#1970" class="Module">ℍ-Run</a> <a id="34201" href="Coherence.Hypotheses.html#34174" class="Field">𝕙r</a> <a id="34204" class="Keyword">public</a>

<a id="34212" class="Keyword">module</a> <a id="34219" href="Coherence.Hypotheses.html#34219" class="Module">H₁₀</a> <a id="34223" class="Symbol">(</a><a id="34224" href="Coherence.Hypotheses.html#34224" class="Bound">⋯</a> <a id="34226" class="Symbol">:</a> <a id="34228" href="Coherence.Hypotheses.html#33841" class="Record">H₁₀-args</a><a id="34236" class="Symbol">)</a> <a id="34238" class="Symbol">(</a><a id="34239" class="Keyword">let</a> <a id="34243" class="Keyword">open</a> <a id="34248" href="Coherence.Hypotheses.html#33841" class="Module">H₁₀-args</a> <a id="34257" href="Coherence.Hypotheses.html#34224" class="Bound">⋯</a><a id="34258" class="Symbol">)</a> <a id="34260" class="Keyword">where</a>
  <a id="34268" href="Coherence.Hypotheses.html#34268" class="Function">λˢ</a> <a id="34271" class="Symbol">:</a> <a id="34273" href="SymbolicModel.Mappings.html#1063" class="Function">ℾᵗ</a> <a id="34276" href="Coherence.Hypotheses.html#1907" class="Function">Γₜ′</a>
  <a id="34282" href="Coherence.Hypotheses.html#34268" class="Function">λˢ</a> <a id="34285" class="Symbol">=</a> <a id="34287" href="SymbolicModel.Mappings.html#7972" class="Function">LIFTˢ</a> <a id="34293" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="34295" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="34297" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="34300" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="34303" href="Function.Base.html#624" class="Function">id</a> <a id="34306" href="Function.Base.html#624" class="Function">id</a> <a id="34309" href="Function.Base.html#624" class="Function">id</a>

<a id="34313" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[10]~_⨾_"></a><a id="34318" href="Coherence.Hypotheses.html#34318" class="Datatype Operator">_⨾_⨾_~ℍ[10]~_⨾_</a> <a id="34334" class="Symbol">:</a> <a id="34336" href="Coherence.Hypotheses.html#1614" class="Function">StepRel</a> <a id="34344" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[10]~_⨾_.mkℍ"></a><a id="34352" href="Coherence.Hypotheses.html#34352" class="InductiveConstructor">mkℍ</a> <a id="34356" class="Symbol">:</a> <a id="34358" class="Symbol">∀</a> <a id="34360" class="Symbol">{</a><a id="34361" href="Coherence.Hypotheses.html#34361" class="Bound">h</a> <a id="34363" class="Symbol">:</a> <a id="34365" href="Coherence.Hypotheses.html#33841" class="Record">H₁₀-args</a><a id="34373" class="Symbol">}</a> <a id="34375" class="Symbol">{</a><a id="34376" href="Coherence.Hypotheses.html#34376" class="Bound">B</a><a id="34377" class="Symbol">}</a>
    <a id="34383" class="Symbol">→</a> <a id="34385" class="Keyword">let</a>
        <a id="34397" class="Keyword">open</a> <a id="34402" href="Coherence.Hypotheses.html#33841" class="Module">H₁₀-args</a> <a id="34411" href="Coherence.Hypotheses.html#34361" class="Bound">h</a>

        <a id="34422" href="Coherence.Hypotheses.html#34422" class="Bound">n⊆</a> <a id="34425" class="Symbol">:</a> <a id="34427" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="34429" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="34432" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="34436" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="34438" href="Coherence.Hypotheses.html#2115" class="Function">Rˢ</a>
        <a id="34449" href="Coherence.Hypotheses.html#34422" class="Bound">n⊆</a>  <a id="34453" class="Symbol">=</a> <a id="34455" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="34468" href="Coherence.Hypotheses.html#2115" class="Function">Rˢ</a>
            <a id="34483" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="34485" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="34500" class="Symbol">_</a> <a id="34502" class="Symbol">{</a><a id="34503" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="34504" class="Symbol">}{</a><a id="34506" href="Coherence.Hypotheses.html#2115" class="Function">Rˢ</a> <a id="34509" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="34513" class="Symbol">}</a> <a id="34515" class="Symbol">(</a><a id="34516" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="34522" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="34524" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="34527" class="Symbol">.</a><a id="34528" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="34533" class="Symbol">)</a>
      <a id="34541" class="Keyword">in</a>
    <a id="34548" class="Symbol">∀</a> <a id="34550" class="Symbol">(</a><a id="34551" href="Coherence.Hypotheses.html#34551" class="Bound">∃B</a> <a id="34554" class="Symbol">:</a> <a id="34556" href="Data.Product.html#1378" class="Function">∃</a> <a id="34558" class="Symbol">λ</a> <a id="34560" href="Coherence.Hypotheses.html#34560" class="Bound">B</a> <a id="34562" class="Symbol">→</a> <a id="34564" href="Data.Product.html#1378" class="Function">∃</a> <a id="34566" class="Symbol">λ</a> <a id="34568" class="Symbol">(</a><a id="34569" href="Coherence.Hypotheses.html#34569" class="Bound">T</a> <a id="34571" class="Symbol">:</a> <a id="34573" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="34576" class="Number">2</a> <a id="34578" class="Number">1</a><a id="34579" class="Symbol">)</a> <a id="34581" class="Symbol">→</a>
         <a id="34592" class="Symbol">(</a><a id="34593" href="Coherence.Hypotheses.html#34560" class="Bound">B</a> <a id="34595" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="34599" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="34606" href="Coherence.Hypotheses.html#34569" class="Bound">T</a> <a id="34608" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="34610" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="34617" href="Coherence.Hypotheses.html#2101" class="Function">Rᶜ</a><a id="34619" class="Symbol">)</a>
       <a id="34628" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="34630" class="Symbol">(</a><a id="34631" href="Coherence.Hypotheses.html#34569" class="Bound">T</a> <a id="34633" class="Symbol">.</a><a id="34634" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="34642" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="34644" class="Symbol">(</a><a id="34645" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="34653" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="34657" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="34659" href="SymbolicModel.Mappings.html#952" class="Function">txout′</a> <a id="34666" class="Symbol">{</a><a id="34667" href="Coherence.Hypotheses.html#33897" class="Function">x</a><a id="34668" class="Symbol">}</a> <a id="34670" class="Symbol">(</a><a id="34671" href="Coherence.Hypotheses.html#34422" class="Bound">n⊆</a> <a id="34674" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a><a id="34675" class="Symbol">)</a> <a id="34677" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="34679" href="SymbolicModel.Mappings.html#952" class="Function">txout′</a> <a id="34686" class="Symbol">{</a><a id="34687" href="Coherence.Hypotheses.html#33902" class="Function">x′</a><a id="34689" class="Symbol">}</a> <a id="34691" class="Symbol">(</a><a id="34692" href="Coherence.Hypotheses.html#34422" class="Bound">n⊆</a> <a id="34695" href="Prelude.Membership.Patterns.html#144" class="InductiveConstructor">𝟙</a><a id="34696" class="Symbol">)</a> <a id="34698" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a><a id="34699" class="Symbol">))</a>
       <a id="34709" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="34711" class="Symbol">(</a><a id="34712" href="Coherence.Hypotheses.html#34569" class="Bound">T</a> <a id="34714" class="Symbol">.</a><a id="34715" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="34723" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="34725" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="34727" class="Symbol">(</a><a id="34728" href="Coherence.Hypotheses.html#33895" class="Function">v</a> <a id="34730" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="34732" href="Coherence.Hypotheses.html#33899" class="Function">v′</a><a id="34734" class="Symbol">)</a> <a id="34736" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="34750" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="34753" href="Coherence.Hypotheses.html#33893" class="Function">A</a> <a id="34755" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="34756" class="Symbol">))</a>
    <a id="34763" class="Symbol">→</a> <a id="34765" class="Keyword">let</a>
        <a id="34777" class="Comment">-- (iii) broadcast transaction T, signed by A</a>
        <a id="34831" class="Symbol">_</a> <a id="34833" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="34835" href="Coherence.Hypotheses.html#34835" class="Bound">T</a> <a id="34837" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="34839" href="Coherence.Hypotheses.html#34839" class="Bound">B∈</a> <a id="34842" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="34844" class="Symbol">_</a>  <a id="34847" class="Symbol">=</a> <a id="34849" href="Coherence.Hypotheses.html#34551" class="Bound">∃B</a>
        <a id="34860" href="Coherence.Hypotheses.html#34860" class="Bound">m′</a> <a id="34863" class="Symbol">=</a> <a id="34865" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="34869" class="Symbol">(</a><a id="34870" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="34873" href="Coherence.Hypotheses.html#33893" class="Function">A</a><a id="34874" class="Symbol">)</a> <a id="34876" class="Symbol">(</a><a id="34877" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a> <a id="34881" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="34883" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="34886" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="34889" href="Coherence.Hypotheses.html#34835" class="Bound">T</a><a id="34890" class="Symbol">)</a>
        <a id="34900" href="Coherence.Hypotheses.html#34900" class="Bound">λᶜ</a> <a id="34903" class="Symbol">=</a> <a id="34905" href="Coherence.Hypotheses.html#34376" class="Bound">B</a> <a id="34907" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="34911" href="Coherence.Hypotheses.html#34860" class="Bound">m′</a>

        <a id="34923" class="Comment">-- (v) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="34981" class="Keyword">open</a> <a id="34986" href="Coherence.Hypotheses.html#34219" class="Module">H₁₀</a> <a id="34990" href="Coherence.Hypotheses.html#34361" class="Bound">h</a> <a id="34992" class="Keyword">using</a> <a id="34998" class="Symbol">(</a><a id="34999" href="Coherence.Hypotheses.html#34268" class="Function">λˢ</a><a id="35001" class="Symbol">)</a>
      <a id="35009" class="Keyword">in</a>
      <a id="35018" class="Comment">-- (iv) λᶜ is the first broadcast of m′ in Rᶜ after the first broadcast of T</a>
    <a id="35099" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="35101" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="35105" class="Symbol">(λ</a> <a id="35108" href="Coherence.Hypotheses.html#35108" class="Bound">l</a> <a id="35110" class="Symbol">→</a> <a id="35112" class="Symbol">∀</a> <a id="35114" href="Coherence.Hypotheses.html#35114" class="Bound">B</a> <a id="35116" class="Symbol">→</a> <a id="35118" href="Coherence.Hypotheses.html#35108" class="Bound">l</a> <a id="35120" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="35122" href="Coherence.Hypotheses.html#35114" class="Bound">B</a> <a id="35124" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="35128" href="Coherence.Hypotheses.html#34860" class="Bound">m′</a><a id="35130" class="Symbol">)</a> <a id="35132" class="Symbol">(</a><a id="35133" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="35143" href="Coherence.Hypotheses.html#34839" class="Bound">B∈</a><a id="35145" class="Symbol">)</a>
      <a id="35153" href="Prelude.InferenceRules.html#11142" class="Function Operator">────────────────────────────────────────────────────────────────────────────</a>
      <a id="35236" href="Coherence.Hypotheses.html#2189" class="Function">Γₜ″</a> <a id="35240" href="Coherence.Hypotheses.html#34318" class="Datatype Operator">⨾</a> <a id="35242" href="Coherence.Hypotheses.html#2128" class="Function">𝕣∗</a> <a id="35245" href="Coherence.Hypotheses.html#34318" class="Datatype Operator">⨾</a> <a id="35247" class="Symbol">(</a><a id="35248" href="Coherence.Hypotheses.html#2275" class="Function">𝕒</a> <a id="35250" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="35252" href="Coherence.Hypotheses.html#34268" class="Function">λˢ</a><a id="35254" class="Symbol">)</a> <a id="35256" href="Coherence.Hypotheses.html#34318" class="Datatype Operator">~ℍ[10]~</a> <a id="35264" href="Coherence.Hypotheses.html#34900" class="Bound">λᶜ</a> <a id="35267" href="Coherence.Hypotheses.html#34318" class="Datatype Operator">⨾</a> <a id="35269" href="Coherence.Hypotheses.html#2101" class="Function">Rᶜ</a>

<a id="35273" class="Comment">-- ** Deposits: join</a>
<a id="35294" class="Keyword">record</a> <a id="H₁₁-args"></a><a id="35301" href="Coherence.Hypotheses.html#35301" class="Record">H₁₁-args</a> <a id="35310" class="Symbol">:</a> <a id="35312" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="35317" class="Keyword">where</a>
  <a id="35325" class="Keyword">constructor</a> <a id="mk"></a><a id="35337" href="Coherence.Hypotheses.html#35337" class="InductiveConstructor">mk</a>
  <a id="35342" class="Keyword">field</a>
    <a id="35352" class="Symbol">{</a><a id="H₁₁-args.A"></a><a id="35353" href="Coherence.Hypotheses.html#35353" class="Field">A</a> <a id="H₁₁-args.v"></a><a id="35355" href="Coherence.Hypotheses.html#35355" class="Field">v</a> <a id="H₁₁-args.x"></a><a id="35357" href="Coherence.Hypotheses.html#35357" class="Field">x</a> <a id="H₁₁-args.v′"></a><a id="35359" href="Coherence.Hypotheses.html#35359" class="Field">v′</a> <a id="H₁₁-args.x′"></a><a id="35362" href="Coherence.Hypotheses.html#35362" class="Field">x′</a> <a id="H₁₁-args.y"></a><a id="35365" href="Coherence.Hypotheses.html#35365" class="Field">y</a> <a id="H₁₁-args.Γ₀"></a><a id="35367" href="Coherence.Hypotheses.html#35367" class="Field">Γ₀</a> <a id="H₁₁-args.t"></a><a id="35370" href="Coherence.Hypotheses.html#35370" class="Field">t</a><a id="35371" class="Symbol">}</a> <a id="35373" class="Symbol">:</a> <a id="35375" class="Symbol">_</a>
    <a id="35381" class="Comment">-- Hypotheses from [DEP-Join]</a>
    <a id="H₁₁-args.fresh-y"></a><a id="35415" href="Coherence.Hypotheses.html#35415" class="Field">fresh-y</a> <a id="35423" class="Symbol">:</a> <a id="35425" href="Coherence.Hypotheses.html#35365" class="Field">y</a> <a id="35427" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="35429" href="Coherence.Hypotheses.html#35357" class="Field">x</a> <a id="35431" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="35435" href="Coherence.Hypotheses.html#35362" class="Field">x′</a> <a id="35438" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="35440" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="35444" href="Coherence.Hypotheses.html#35367" class="Field">Γ₀</a>
  <a id="35449" class="Keyword">open</a> <a id="35454" href="Coherence.Hypotheses.html#1754" class="Module">Transition</a>
    <a id="35469" class="Symbol">(</a> <a id="35471" class="Symbol">(</a> <a id="35473" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="35475" href="Coherence.Hypotheses.html#35353" class="Field">A</a> <a id="35477" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="35481" href="Coherence.Hypotheses.html#35355" class="Field">v</a> <a id="35483" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="35487" href="Coherence.Hypotheses.html#35357" class="Field">x</a> <a id="35489" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="35491" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="35493" href="Coherence.Hypotheses.html#35353" class="Field">A</a> <a id="35495" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="35499" href="Coherence.Hypotheses.html#35359" class="Field">v′</a> <a id="35502" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="35506" href="Coherence.Hypotheses.html#35362" class="Field">x′</a>
      <a id="35515" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="35517" href="Coherence.Hypotheses.html#35353" class="Field">A</a> <a id="35519" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="35525" href="Coherence.Hypotheses.html#35357" class="Field">x</a> <a id="35527" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">↔</a> <a id="35529" href="Coherence.Hypotheses.html#35362" class="Field">x′</a> <a id="35532" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">▷⟨</a> <a id="35535" href="Coherence.Hypotheses.html#35353" class="Field">A</a> <a id="35537" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">,</a> <a id="35539" href="Coherence.Hypotheses.html#35355" class="Field">v</a> <a id="35541" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="35543" href="Coherence.Hypotheses.html#35359" class="Field">v′</a> <a id="35546" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">⟩</a> <a id="35548" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="35550" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="35552" href="Coherence.Hypotheses.html#35367" class="Field">Γ₀</a><a id="35554" class="Symbol">)</a> <a id="35556" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="35558" href="Coherence.Hypotheses.html#35370" class="Field">t</a>
      <a id="35566" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">——</a> <a id="35569" href="BitML.Semantics.Label.html#540" class="InductiveConstructor Operator">join⦅</a> <a id="35575" href="Coherence.Hypotheses.html#35357" class="Field">x</a> <a id="35577" href="BitML.Semantics.Label.html#540" class="InductiveConstructor Operator">↔</a> <a id="35579" href="Coherence.Hypotheses.html#35362" class="Field">x′</a> <a id="35582" href="BitML.Semantics.Label.html#540" class="InductiveConstructor Operator">⦆</a> <a id="35584" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">—→</a>
      <a id="35593" class="Symbol">(</a><a id="35594" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="35596" href="Coherence.Hypotheses.html#35353" class="Field">A</a> <a id="35598" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="35602" class="Symbol">(</a><a id="35603" href="Coherence.Hypotheses.html#35355" class="Field">v</a> <a id="35605" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="35607" href="Coherence.Hypotheses.html#35359" class="Field">v′</a><a id="35609" class="Symbol">)</a> <a id="35611" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="35615" href="Coherence.Hypotheses.html#35365" class="Field">y</a> <a id="35617" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="35619" href="Coherence.Hypotheses.html#35367" class="Field">Γ₀</a><a id="35621" class="Symbol">)</a> <a id="35623" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="35625" href="Coherence.Hypotheses.html#35370" class="Field">t</a>
    <a id="35631" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⊣</a> <a id="35633" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="35637" class="Symbol">(</a><a id="35638" href="BitML.Semantics.InferenceRules.html#1421" class="InductiveConstructor">[DEP-Join]</a> <a id="35649" href="Coherence.Hypotheses.html#35415" class="Field">fresh-y</a><a id="35656" class="Symbol">)</a>
    <a id="35662" class="Symbol">)</a> <a id="35664" class="Keyword">public</a> <a id="35671" class="Keyword">hiding</a> <a id="35678" class="Symbol">(</a><a id="35679" href="Coherence.Hypotheses.html#1831" class="Field">t</a><a id="35680" class="Symbol">)</a>
  <a id="35684" class="Keyword">field</a> <a id="H₁₁-args.𝕙r"></a><a id="35690" href="Coherence.Hypotheses.html#35690" class="Field">𝕙r</a> <a id="35693" class="Symbol">:</a> <a id="35695" href="Coherence.Hypotheses.html#1970" class="Record">ℍ-Run</a> <a id="35701" href="Coherence.Hypotheses.html#1941" class="Function">Γ→</a>
  <a id="35706" class="Keyword">open</a> <a id="35711" href="Coherence.Hypotheses.html#1970" class="Module">ℍ-Run</a> <a id="35717" href="Coherence.Hypotheses.html#35690" class="Field">𝕙r</a> <a id="35720" class="Keyword">public</a>

<a id="35728" class="Keyword">module</a> <a id="35735" href="Coherence.Hypotheses.html#35735" class="Module">H₁₁</a> <a id="35739" class="Symbol">(</a><a id="35740" href="Coherence.Hypotheses.html#35740" class="Bound">⋯</a> <a id="35742" class="Symbol">:</a> <a id="35744" href="Coherence.Hypotheses.html#35301" class="Record">H₁₁-args</a><a id="35752" class="Symbol">)</a> <a id="35754" class="Symbol">(</a><a id="35755" class="Keyword">let</a> <a id="35759" class="Keyword">open</a> <a id="35764" href="Coherence.Hypotheses.html#35301" class="Module">H₁₁-args</a> <a id="35773" href="Coherence.Hypotheses.html#35740" class="Bound">⋯</a><a id="35774" class="Symbol">)</a> <a id="35776" class="Symbol">(</a><a id="35777" href="Coherence.Hypotheses.html#35777" class="Bound">tx</a> <a id="35780" class="Symbol">:</a> <a id="35782" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a><a id="35790" class="Symbol">)</a> <a id="35792" class="Keyword">where</a>
  <a id="35800" class="Keyword">private</a>
    <a id="35812" href="Coherence.Hypotheses.html#35812" class="Function">txout↝</a> <a id="35819" class="Symbol">:</a> <a id="35821" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="35823" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="35826" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="35832" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="35834" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
    <a id="35841" href="Coherence.Hypotheses.html#35812" class="Function">txout↝</a> <a id="35848" href="Coherence.Hypotheses.html#35848" class="Bound">txout′</a> <a id="35855" class="Symbol">=</a> <a id="35857" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="35864" href="Coherence.Hypotheses.html#35365" class="Field">y</a> <a id="35866" href="Coherence.Hypotheses.html#35777" class="Bound">tx</a> <a id="35869" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="35871" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="35880" href="Coherence.Hypotheses.html#35848" class="Bound">txout′</a> <a id="35887" class="Symbol">(λ</a> <a id="35890" href="Coherence.Hypotheses.html#35890" class="Bound">x∈</a> <a id="35893" class="Symbol">→</a> <a id="35895" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a> <a id="35901" class="Symbol">(</a><a id="35902" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a> <a id="35908" href="Coherence.Hypotheses.html#35890" class="Bound">x∈</a><a id="35910" class="Symbol">))</a>

    <a id="35918" class="Comment">-- Γ″  = ∃Γ≈ .proj₁</a>
    <a id="35942" class="Comment">-- Γₜ″ = Γ″ at t′</a>

  <a id="35963" href="Coherence.Hypotheses.html#35963" class="Function">λˢ</a> <a id="35966" class="Symbol">:</a> <a id="35968" href="SymbolicModel.Mappings.html#1063" class="Function">ℾᵗ</a> <a id="35971" href="Coherence.Hypotheses.html#1907" class="Function">Γₜ′</a>
  <a id="35977" href="Coherence.Hypotheses.html#35963" class="Function">λˢ</a> <a id="35980" class="Symbol">=</a> <a id="35982" href="SymbolicModel.Mappings.html#7972" class="Function">LIFTˢ</a> <a id="35988" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="35990" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="35992" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="35995" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="35998" href="Coherence.Hypotheses.html#35812" class="Function">txout↝</a> <a id="36005" href="Function.Base.html#624" class="Function">id</a> <a id="36008" href="Function.Base.html#624" class="Function">id</a>

  <a id="36014" class="Comment">-- private</a>
  <a id="36027" class="Comment">--   𝕣′ : ℝ R′</a>
  <a id="36044" class="Comment">--   𝕣′ = ℝ-step 𝕣 (𝕒 , λˢ)</a>

  <a id="36075" class="Comment">-- module _ {c v x} where</a>
  <a id="36103" class="Comment">--   private</a>
  <a id="36118" class="Comment">--     c∈⇐ : R′ ≈⋯ ⟨ c , v ⟩at x ⋯</a>
  <a id="36155" class="Comment">--         → R  ≈⋯ ⟨ c , v ⟩at x ⋯</a>
  <a id="36192" class="Comment">--     c∈⇐ = ?</a>
    <a id="36211" class="Comment">-- abstract</a>
    <a id="36227" class="Comment">--   txoutEndC≡ : ∀ (c∈ : ⟨ c , v ⟩at x ∈ᶜ Γ″) →</a>
    <a id="36280" class="Comment">--     𝕣′ ∙txoutC c∈ ≡ 𝕣 ∙txoutC (c∈⇐ c∈)</a>
    <a id="36326" class="Comment">--   txoutEndC≡ c∈ =</a>
    <a id="36351" class="Comment">--     begin</a>
    <a id="36368" class="Comment">--       𝕣′ ∙txoutC c∈</a>
    <a id="36395" class="Comment">--     ≡⟨⟩</a>
    <a id="36410" class="Comment">--       𝕣′ ∙txoutEnd (c∈⇒x∈ (R′ ∙cfg) c∈)</a>
    <a id="36457" class="Comment">--     -- ≡⟨ cong (𝕣′ ∙txoutEnd_) $ sym $ H c∈ ⟩</a>
    <a id="36510" class="Comment">--     --   𝕣′ ∙txoutEnd (x∈⇒ $ c∈⇒x∈ (R ∙cfg) $ c∈⇐ c∈)</a>
    <a id="36571" class="Comment">--     -- ≡⟨ txoutEnd≡ (c∈⇒x∈ (R ∙cfg) $ c∈⇐ c∈) ⟩</a>
    <a id="36626" class="Comment">--     --   𝕣 ∙txoutEnd (c∈⇒x∈ (R ∙cfg) $ c∈⇐ c∈)</a>
    <a id="36680" class="Comment">--     ≡⟨ ? ⟩</a>
    <a id="36698" class="Comment">--       𝕣 ∙txoutC (c∈⇐ c∈)</a>
    <a id="36730" class="Comment">--     ∎ where open ≡-Reasoning</a>

<a id="36763" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[11]~_⨾_"></a><a id="36768" href="Coherence.Hypotheses.html#36768" class="Datatype Operator">_⨾_⨾_~ℍ[11]~_⨾_</a> <a id="36784" class="Symbol">:</a> <a id="36786" href="Coherence.Hypotheses.html#1614" class="Function">StepRel</a> <a id="36794" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[11]~_⨾_.mkℍ"></a><a id="36802" href="Coherence.Hypotheses.html#36802" class="InductiveConstructor">mkℍ</a> <a id="36806" class="Symbol">:</a> <a id="36808" class="Symbol">∀</a> <a id="36810" class="Symbol">{</a><a id="36811" href="Coherence.Hypotheses.html#36811" class="Bound">h</a> <a id="36813" class="Symbol">:</a> <a id="36815" href="Coherence.Hypotheses.html#35301" class="Record">H₁₁-args</a><a id="36823" class="Symbol">}</a>
    <a id="36829" class="Symbol">→</a> <a id="36831" class="Keyword">let</a>
        <a id="36843" class="Keyword">open</a> <a id="36848" href="Coherence.Hypotheses.html#35301" class="Module">H₁₁-args</a> <a id="36857" href="Coherence.Hypotheses.html#36811" class="Bound">h</a>

        <a id="36868" href="Coherence.Hypotheses.html#36868" class="Bound">n⊆</a> <a id="36871" class="Symbol">:</a> <a id="36873" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="36875" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="36878" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="36882" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="36884" href="Coherence.Hypotheses.html#2115" class="Function">Rˢ</a>
        <a id="36895" href="Coherence.Hypotheses.html#36868" class="Bound">n⊆</a>  <a id="36899" class="Symbol">=</a> <a id="36901" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="36914" href="Coherence.Hypotheses.html#2115" class="Function">Rˢ</a>
            <a id="36929" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="36931" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="36946" class="Symbol">_</a> <a id="36948" class="Symbol">{</a><a id="36949" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="36950" class="Symbol">}{</a><a id="36952" href="Coherence.Hypotheses.html#2115" class="Function">Rˢ</a> <a id="36955" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="36959" class="Symbol">}</a> <a id="36961" class="Symbol">(</a><a id="36962" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="36968" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="36970" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="36973" class="Symbol">.</a><a id="36974" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="36979" class="Symbol">)</a>

        <a id="36990" class="Comment">-- (ii) submit transaction T</a>
        <a id="37027" href="Coherence.Hypotheses.html#37027" class="Bound">T</a> <a id="37029" class="Symbol">:</a> <a id="37031" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a>
        <a id="37043" href="Coherence.Hypotheses.html#37027" class="Bound">T</a>  <a id="37046" class="Symbol">=</a> <a id="37048" class="Number">2</a> <a id="37050" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="37052" class="Number">1</a> <a id="37054" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="37056" href="Bitcoin.Tx.Crypto.html#1445" class="Function">sig⋆</a> <a id="37061" class="Symbol">(</a><a id="37062" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="37074" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="37076" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="37079" href="Coherence.Hypotheses.html#35353" class="Field">A</a> <a id="37081" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="37082" class="Symbol">)</a> <a id="37084" class="Keyword">record</a>
          <a id="37101" class="Symbol">{</a> <a id="37103" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="37111" class="Symbol">=</a> <a id="37113" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="37121" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="37125" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="37127" href="SymbolicModel.Mappings.html#952" class="Function">txout′</a> <a id="37134" class="Symbol">{</a><a id="37135" href="Coherence.Hypotheses.html#35357" class="Field">x</a><a id="37136" class="Symbol">}</a> <a id="37138" class="Symbol">(</a><a id="37139" href="Coherence.Hypotheses.html#36868" class="Bound">n⊆</a> <a id="37142" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a><a id="37143" class="Symbol">)</a> <a id="37145" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="37147" href="SymbolicModel.Mappings.html#952" class="Function">txout′</a> <a id="37154" class="Symbol">{</a><a id="37155" href="Coherence.Hypotheses.html#35362" class="Field">x′</a><a id="37157" class="Symbol">}</a> <a id="37159" class="Symbol">(</a><a id="37160" href="Coherence.Hypotheses.html#36868" class="Bound">n⊆</a> <a id="37163" href="Prelude.Membership.Patterns.html#144" class="InductiveConstructor">𝟙</a><a id="37164" class="Symbol">)</a> <a id="37166" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
          <a id="37178" class="Symbol">;</a> <a id="37180" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="37188" class="Symbol">=</a> <a id="37190" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
          <a id="37205" class="Symbol">;</a> <a id="37207" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="37215" class="Symbol">=</a> <a id="37217" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="37229" class="Number">0</a>
          <a id="37241" class="Symbol">;</a> <a id="37243" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="37251" class="Symbol">=</a> <a id="37253" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="37255" class="Symbol">(</a><a id="37256" href="Coherence.Hypotheses.html#35355" class="Field">v</a> <a id="37258" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="37260" href="Coherence.Hypotheses.html#35359" class="Field">v′</a><a id="37262" class="Symbol">)</a> <a id="37264" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="37278" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="37281" href="Coherence.Hypotheses.html#35353" class="Field">A</a> <a id="37283" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
          <a id="37295" class="Symbol">;</a> <a id="37297" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="37305" class="Symbol">=</a> <a id="37307" class="Number">0</a> <a id="37309" class="Symbol">}</a>
        <a id="37319" href="Coherence.Hypotheses.html#37319" class="Bound">λᶜ</a> <a id="37322" class="Symbol">=</a> <a id="37324" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="37331" href="Coherence.Hypotheses.html#37027" class="Bound">T</a>

        <a id="37342" class="Comment">-- (iii) extend txout′ with y↦T₀ (removing {x↦_;x′↦_}),</a>
        <a id="37406" class="Comment">--       sechash = sechash′, κ = κ′</a>
        <a id="37450" class="Keyword">open</a> <a id="37455" href="Coherence.Hypotheses.html#35735" class="Module">H₁₁</a> <a id="37459" href="Coherence.Hypotheses.html#36811" class="Bound">h</a> <a id="37461" class="Symbol">(</a><a id="37462" href="Coherence.Hypotheses.html#37027" class="Bound">T</a> <a id="37464" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="37467" class="Number">0</a><a id="37468" class="Symbol">)</a> <a id="37470" class="Keyword">using</a> <a id="37476" class="Symbol">(</a><a id="37477" href="Coherence.Hypotheses.html#35963" class="Function">λˢ</a><a id="37479" class="Symbol">)</a>
      <a id="37487" class="Keyword">in</a>
      <a id="37496" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="37556" href="Coherence.Hypotheses.html#2189" class="Function">Γₜ″</a> <a id="37560" href="Coherence.Hypotheses.html#36768" class="Datatype Operator">⨾</a> <a id="37562" href="Coherence.Hypotheses.html#2128" class="Function">𝕣∗</a> <a id="37565" href="Coherence.Hypotheses.html#36768" class="Datatype Operator">⨾</a> <a id="37567" class="Symbol">(</a><a id="37568" href="Coherence.Hypotheses.html#2275" class="Function">𝕒</a> <a id="37570" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="37572" href="Coherence.Hypotheses.html#35963" class="Function">λˢ</a><a id="37574" class="Symbol">)</a> <a id="37576" href="Coherence.Hypotheses.html#36768" class="Datatype Operator">~ℍ[11]~</a> <a id="37584" href="Coherence.Hypotheses.html#37319" class="Bound">λᶜ</a> <a id="37587" href="Coherence.Hypotheses.html#36768" class="Datatype Operator">⨾</a> <a id="37589" href="Coherence.Hypotheses.html#2101" class="Function">Rᶜ</a>

<a id="37593" class="Comment">-- ** Deposits: authorize divide (similar to [10])</a>
<a id="37644" class="Keyword">record</a> <a id="H₁₂-args"></a><a id="37651" href="Coherence.Hypotheses.html#37651" class="Record">H₁₂-args</a> <a id="37660" class="Symbol">:</a> <a id="37662" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="37667" class="Keyword">where</a>
  <a id="37675" class="Keyword">constructor</a> <a id="mk"></a><a id="37687" href="Coherence.Hypotheses.html#37687" class="InductiveConstructor">mk</a>
  <a id="37692" class="Keyword">field</a>
    <a id="37702" class="Symbol">{</a><a id="H₁₂-args.A"></a><a id="37703" href="Coherence.Hypotheses.html#37703" class="Field">A</a> <a id="H₁₂-args.v"></a><a id="37705" href="Coherence.Hypotheses.html#37705" class="Field">v</a> <a id="H₁₂-args.v′"></a><a id="37707" href="Coherence.Hypotheses.html#37707" class="Field">v′</a> <a id="H₁₂-args.x"></a><a id="37710" href="Coherence.Hypotheses.html#37710" class="Field">x</a> <a id="H₁₂-args.Γ₀"></a><a id="37712" href="Coherence.Hypotheses.html#37712" class="Field">Γ₀</a> <a id="H₁₂-args.t"></a><a id="37715" href="Coherence.Hypotheses.html#37715" class="Field">t</a><a id="37716" class="Symbol">}</a> <a id="37718" class="Symbol">:</a> <a id="37720" class="Symbol">_</a>
  <a id="37724" class="Keyword">open</a> <a id="37729" href="Coherence.Hypotheses.html#1754" class="Module">Transition</a>
    <a id="37744" class="Symbol">(</a> <a id="37746" class="Symbol">(</a><a id="37747" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="37749" href="Coherence.Hypotheses.html#37703" class="Field">A</a> <a id="37751" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="37755" class="Symbol">(</a><a id="37756" href="Coherence.Hypotheses.html#37705" class="Field">v</a> <a id="37758" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="37760" href="Coherence.Hypotheses.html#37707" class="Field">v′</a><a id="37762" class="Symbol">)</a> <a id="37764" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="37768" href="Coherence.Hypotheses.html#37710" class="Field">x</a> <a id="37770" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="37772" href="Coherence.Hypotheses.html#37712" class="Field">Γ₀</a><a id="37774" class="Symbol">)</a> <a id="37776" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="37778" href="Coherence.Hypotheses.html#37715" class="Field">t</a>
      <a id="37786" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">——</a> <a id="37789" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">auth-divide⦅</a> <a id="37802" href="Coherence.Hypotheses.html#37703" class="Field">A</a> <a id="37804" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">,</a> <a id="37806" href="Coherence.Hypotheses.html#37710" class="Field">x</a> <a id="37808" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">▷</a> <a id="37810" href="Coherence.Hypotheses.html#37705" class="Field">v</a> <a id="37812" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">,</a> <a id="37814" href="Coherence.Hypotheses.html#37707" class="Field">v′</a> <a id="37817" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">⦆</a> <a id="37819" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">—→</a>
      <a id="37828" class="Symbol">(</a><a id="37829" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="37831" href="Coherence.Hypotheses.html#37703" class="Field">A</a> <a id="37833" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="37837" class="Symbol">(</a><a id="37838" href="Coherence.Hypotheses.html#37705" class="Field">v</a> <a id="37840" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="37842" href="Coherence.Hypotheses.html#37707" class="Field">v′</a><a id="37844" class="Symbol">)</a> <a id="37846" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="37850" href="Coherence.Hypotheses.html#37710" class="Field">x</a> <a id="37852" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="37854" href="Coherence.Hypotheses.html#37703" class="Field">A</a> <a id="37856" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="37862" href="Coherence.Hypotheses.html#37710" class="Field">x</a> <a id="37864" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">▷⟨</a> <a id="37867" href="Coherence.Hypotheses.html#37703" class="Field">A</a> <a id="37869" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="37871" href="Coherence.Hypotheses.html#37705" class="Field">v</a> <a id="37873" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="37875" href="Coherence.Hypotheses.html#37707" class="Field">v′</a> <a id="37878" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">⟩</a> <a id="37880" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="37882" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="37884" href="Coherence.Hypotheses.html#37712" class="Field">Γ₀</a><a id="37886" class="Symbol">)</a> <a id="37888" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="37890" href="Coherence.Hypotheses.html#37715" class="Field">t</a>
    <a id="37896" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⊣</a> <a id="37898" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="37902" href="BitML.Semantics.InferenceRules.html#1683" class="InductiveConstructor">[DEP-AuthDivide]</a>
    <a id="37923" class="Symbol">)</a> <a id="37925" class="Keyword">public</a> <a id="37932" class="Keyword">hiding</a> <a id="37939" class="Symbol">(</a><a id="37940" href="Coherence.Hypotheses.html#1831" class="Field">t</a><a id="37941" class="Symbol">)</a>
  <a id="37945" class="Keyword">field</a> <a id="H₁₂-args.𝕙r"></a><a id="37951" href="Coherence.Hypotheses.html#37951" class="Field">𝕙r</a> <a id="37954" class="Symbol">:</a> <a id="37956" href="Coherence.Hypotheses.html#1970" class="Record">ℍ-Run</a> <a id="37962" href="Coherence.Hypotheses.html#1941" class="Function">Γ→</a>
  <a id="37967" class="Keyword">open</a> <a id="37972" href="Coherence.Hypotheses.html#1970" class="Module">ℍ-Run</a> <a id="37978" href="Coherence.Hypotheses.html#37951" class="Field">𝕙r</a> <a id="37981" class="Keyword">public</a>

<a id="37989" class="Keyword">module</a> <a id="37996" href="Coherence.Hypotheses.html#37996" class="Module">H₁₂</a> <a id="38000" class="Symbol">(</a><a id="38001" href="Coherence.Hypotheses.html#38001" class="Bound">⋯</a> <a id="38003" class="Symbol">:</a> <a id="38005" href="Coherence.Hypotheses.html#37651" class="Record">H₁₂-args</a><a id="38013" class="Symbol">)</a> <a id="38015" class="Symbol">(</a><a id="38016" class="Keyword">let</a> <a id="38020" class="Keyword">open</a> <a id="38025" href="Coherence.Hypotheses.html#37651" class="Module">H₁₂-args</a> <a id="38034" href="Coherence.Hypotheses.html#38001" class="Bound">⋯</a><a id="38035" class="Symbol">)</a> <a id="38037" class="Keyword">where</a>
  <a id="38045" href="Coherence.Hypotheses.html#38045" class="Function">λˢ</a> <a id="38048" class="Symbol">:</a> <a id="38050" href="SymbolicModel.Mappings.html#1063" class="Function">ℾᵗ</a> <a id="38053" href="Coherence.Hypotheses.html#1907" class="Function">Γₜ′</a>
  <a id="38059" href="Coherence.Hypotheses.html#38045" class="Function">λˢ</a> <a id="38062" class="Symbol">=</a> <a id="38064" href="SymbolicModel.Mappings.html#7972" class="Function">LIFTˢ</a> <a id="38070" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="38072" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="38074" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="38077" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="38080" href="Function.Base.html#624" class="Function">id</a> <a id="38083" href="Function.Base.html#624" class="Function">id</a> <a id="38086" href="Function.Base.html#624" class="Function">id</a>

<a id="38090" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[12]~_⨾_"></a><a id="38095" href="Coherence.Hypotheses.html#38095" class="Datatype Operator">_⨾_⨾_~ℍ[12]~_⨾_</a> <a id="38111" class="Symbol">:</a> <a id="38113" href="Coherence.Hypotheses.html#1614" class="Function">StepRel</a> <a id="38121" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[12]~_⨾_.mkℍ"></a><a id="38129" href="Coherence.Hypotheses.html#38129" class="InductiveConstructor">mkℍ</a> <a id="38133" class="Symbol">:</a> <a id="38135" class="Symbol">∀</a> <a id="38137" class="Symbol">{</a><a id="38138" href="Coherence.Hypotheses.html#38138" class="Bound">h</a> <a id="38140" class="Symbol">:</a> <a id="38142" href="Coherence.Hypotheses.html#37651" class="Record">H₁₂-args</a><a id="38150" class="Symbol">}</a> <a id="38152" class="Symbol">{</a><a id="38153" href="Coherence.Hypotheses.html#38153" class="Bound">B</a><a id="38154" class="Symbol">}</a>
    <a id="38160" class="Symbol">→</a> <a id="38162" class="Keyword">let</a>
        <a id="38174" class="Keyword">open</a> <a id="38179" href="Coherence.Hypotheses.html#37651" class="Module">H₁₂-args</a> <a id="38188" href="Coherence.Hypotheses.html#38138" class="Bound">h</a>

        <a id="38199" href="Coherence.Hypotheses.html#38199" class="Bound">n⊆</a> <a id="38202" class="Symbol">:</a> <a id="38204" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="38206" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="38209" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="38213" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="38215" href="Coherence.Hypotheses.html#2115" class="Function">Rˢ</a>
        <a id="38226" href="Coherence.Hypotheses.html#38199" class="Bound">n⊆</a>  <a id="38230" class="Symbol">=</a> <a id="38232" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="38245" href="Coherence.Hypotheses.html#2115" class="Function">Rˢ</a>
            <a id="38260" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="38262" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="38277" class="Symbol">_</a> <a id="38279" class="Symbol">{</a><a id="38280" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="38281" class="Symbol">}{</a><a id="38283" href="Coherence.Hypotheses.html#2115" class="Function">Rˢ</a> <a id="38286" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="38290" class="Symbol">}</a> <a id="38292" class="Symbol">(</a><a id="38293" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="38299" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="38301" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="38304" class="Symbol">.</a><a id="38305" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="38310" class="Symbol">)</a>
      <a id="38318" class="Keyword">in</a>
    <a id="38325" class="Symbol">∀</a> <a id="38327" class="Symbol">(</a><a id="38328" href="Coherence.Hypotheses.html#38328" class="Bound">∃B</a> <a id="38331" class="Symbol">:</a> <a id="38333" href="Data.Product.html#1378" class="Function">∃</a> <a id="38335" class="Symbol">λ</a> <a id="38337" href="Coherence.Hypotheses.html#38337" class="Bound">B</a> <a id="38339" class="Symbol">→</a> <a id="38341" href="Data.Product.html#1378" class="Function">∃</a> <a id="38343" class="Symbol">λ</a> <a id="38345" class="Symbol">(</a><a id="38346" href="Coherence.Hypotheses.html#38346" class="Bound">T</a> <a id="38348" class="Symbol">:</a> <a id="38350" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="38353" class="Number">1</a> <a id="38355" class="Number">2</a><a id="38356" class="Symbol">)</a> <a id="38358" class="Symbol">→</a>
         <a id="38369" class="Symbol">(</a><a id="38370" href="Coherence.Hypotheses.html#38337" class="Bound">B</a> <a id="38372" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="38376" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="38383" href="Coherence.Hypotheses.html#38346" class="Bound">T</a> <a id="38385" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="38387" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="38394" href="Coherence.Hypotheses.html#2101" class="Function">Rᶜ</a><a id="38396" class="Symbol">)</a>
       <a id="38405" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="38407" class="Symbol">(</a><a id="38408" href="Coherence.Hypotheses.html#38346" class="Bound">T</a> <a id="38410" class="Symbol">.</a><a id="38411" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="38419" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="38421" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="38423" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="38431" class="Symbol">(</a><a id="38432" href="SymbolicModel.Mappings.html#952" class="Function">txout′</a> <a id="38439" class="Symbol">{</a><a id="38440" href="Coherence.Hypotheses.html#37710" class="Function">x</a><a id="38441" class="Symbol">}</a> <a id="38443" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="38445" href="Coherence.Hypotheses.html#38199" class="Bound">n⊆</a> <a id="38448" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a><a id="38449" class="Symbol">)</a> <a id="38451" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="38452" class="Symbol">)</a>
       <a id="38461" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="38463" class="Symbol">(</a><a id="38464" href="Coherence.Hypotheses.html#38346" class="Bound">T</a> <a id="38466" class="Symbol">.</a><a id="38467" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="38475" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="38477" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="38479" href="Coherence.Hypotheses.html#37705" class="Function">v</a> <a id="38481" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="38495" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="38498" href="Coherence.Hypotheses.html#37703" class="Function">A</a> <a id="38500" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="38502" href="Coherence.Hypotheses.html#37707" class="Function">v′</a> <a id="38505" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="38519" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="38522" href="Coherence.Hypotheses.html#37703" class="Function">A</a> <a id="38524" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a><a id="38525" class="Symbol">))</a>
    <a id="38532" class="Symbol">→</a> <a id="38534" class="Keyword">let</a>
        <a id="38546" class="Comment">-- (iii) broadcast transaction T, signed by A</a>
        <a id="38600" class="Symbol">_</a> <a id="38602" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="38604" href="Coherence.Hypotheses.html#38604" class="Bound">T</a> <a id="38606" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="38608" href="Coherence.Hypotheses.html#38608" class="Bound">B∈</a> <a id="38611" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="38613" class="Symbol">_</a> <a id="38615" class="Symbol">=</a> <a id="38617" href="Coherence.Hypotheses.html#38328" class="Bound">∃B</a>
        <a id="38628" href="Coherence.Hypotheses.html#38628" class="Bound">m′</a> <a id="38631" class="Symbol">=</a> <a id="38633" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="38637" class="Symbol">(</a><a id="38638" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="38641" href="Coherence.Hypotheses.html#37703" class="Function">A</a><a id="38642" class="Symbol">)</a> <a id="38644" class="Symbol">(</a><a id="38645" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a> <a id="38649" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="38651" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="38654" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="38657" href="Coherence.Hypotheses.html#38604" class="Bound">T</a><a id="38658" class="Symbol">)</a>
        <a id="38668" href="Coherence.Hypotheses.html#38668" class="Bound">λᶜ</a> <a id="38671" class="Symbol">=</a> <a id="38673" href="Coherence.Hypotheses.html#38153" class="Bound">B</a> <a id="38675" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="38679" href="Coherence.Hypotheses.html#38628" class="Bound">m′</a>

        <a id="38691" class="Comment">-- (v) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="38749" class="Keyword">open</a> <a id="38754" href="Coherence.Hypotheses.html#37996" class="Module">H₁₂</a> <a id="38758" href="Coherence.Hypotheses.html#38138" class="Bound">h</a> <a id="38760" class="Keyword">using</a> <a id="38766" class="Symbol">(</a><a id="38767" href="Coherence.Hypotheses.html#38045" class="Function">λˢ</a><a id="38769" class="Symbol">)</a>
      <a id="38777" class="Keyword">in</a>

    <a id="38785" class="Comment">-- (iv) λᶜ is the first broadcast of m′ in Rᶜ after the first broadcast of T</a>
    <a id="38866" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="38868" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="38872" class="Symbol">(λ</a> <a id="38875" href="Coherence.Hypotheses.html#38875" class="Bound">l</a> <a id="38877" class="Symbol">→</a> <a id="38879" class="Symbol">∀</a> <a id="38881" href="Coherence.Hypotheses.html#38881" class="Bound">B</a> <a id="38883" class="Symbol">→</a> <a id="38885" href="Coherence.Hypotheses.html#38875" class="Bound">l</a> <a id="38887" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="38889" href="Coherence.Hypotheses.html#38881" class="Bound">B</a> <a id="38891" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="38895" href="Coherence.Hypotheses.html#38628" class="Bound">m′</a><a id="38897" class="Symbol">)</a> <a id="38899" class="Symbol">(</a><a id="38900" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="38910" href="Coherence.Hypotheses.html#38608" class="Bound">B∈</a><a id="38912" class="Symbol">)</a>

      <a id="38921" href="Prelude.InferenceRules.html#11978" class="Function Operator">─────────────────────────────────────────────────────────────────</a>
      <a id="38993" href="Coherence.Hypotheses.html#2189" class="Function">Γₜ″</a> <a id="38997" href="Coherence.Hypotheses.html#38095" class="Datatype Operator">⨾</a> <a id="38999" href="Coherence.Hypotheses.html#2128" class="Function">𝕣∗</a> <a id="39002" href="Coherence.Hypotheses.html#38095" class="Datatype Operator">⨾</a> <a id="39004" class="Symbol">(</a><a id="39005" href="Coherence.Hypotheses.html#2275" class="Function">𝕒</a> <a id="39007" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="39009" href="Coherence.Hypotheses.html#38045" class="Function">λˢ</a><a id="39011" class="Symbol">)</a> <a id="39013" href="Coherence.Hypotheses.html#38095" class="Datatype Operator">~ℍ[12]~</a> <a id="39021" href="Coherence.Hypotheses.html#38668" class="Bound">λᶜ</a> <a id="39024" href="Coherence.Hypotheses.html#38095" class="Datatype Operator">⨾</a> <a id="39026" href="Coherence.Hypotheses.html#2101" class="Function">Rᶜ</a>

<a id="39030" class="Comment">-- ** Deposits: divide (similar to [11])</a>
<a id="39071" class="Keyword">record</a> <a id="H₁₃-args"></a><a id="39078" href="Coherence.Hypotheses.html#39078" class="Record">H₁₃-args</a> <a id="39087" class="Symbol">:</a> <a id="39089" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="39094" class="Keyword">where</a>
  <a id="39102" class="Keyword">constructor</a> <a id="mk"></a><a id="39114" href="Coherence.Hypotheses.html#39114" class="InductiveConstructor">mk</a>
  <a id="39119" class="Keyword">field</a>
    <a id="39129" class="Symbol">{</a><a id="H₁₃-args.A"></a><a id="39130" href="Coherence.Hypotheses.html#39130" class="Field">A</a> <a id="H₁₃-args.v"></a><a id="39132" href="Coherence.Hypotheses.html#39132" class="Field">v</a> <a id="H₁₃-args.v′"></a><a id="39134" href="Coherence.Hypotheses.html#39134" class="Field">v′</a> <a id="H₁₃-args.x"></a><a id="39137" href="Coherence.Hypotheses.html#39137" class="Field">x</a> <a id="H₁₃-args.Γ₀"></a><a id="39139" href="Coherence.Hypotheses.html#39139" class="Field">Γ₀</a> <a id="H₁₃-args.y"></a><a id="39142" href="Coherence.Hypotheses.html#39142" class="Field">y</a> <a id="H₁₃-args.y′"></a><a id="39144" href="Coherence.Hypotheses.html#39144" class="Field">y′</a> <a id="H₁₃-args.t"></a><a id="39147" href="Coherence.Hypotheses.html#39147" class="Field">t</a><a id="39148" class="Symbol">}</a> <a id="39150" class="Symbol">:</a> <a id="39152" class="Symbol">_</a>
  <a id="39156" class="Keyword">field</a>
    <a id="39166" class="Comment">-- Hypotheses from [DEP-Divide]</a>
    <a id="H₁₃-args.fresh-ys"></a><a id="39202" href="Coherence.Hypotheses.html#39202" class="Field">fresh-ys</a> <a id="39211" class="Symbol">:</a> <a id="39213" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="39217" class="Symbol">(</a><a id="39218" href="Data.List.Membership.Setoid.html#945" class="Function Operator">_∉</a> <a id="39221" href="Coherence.Hypotheses.html#39137" class="Field">x</a> <a id="39223" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="39227" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="39231" href="Coherence.Hypotheses.html#39139" class="Field">Γ₀</a> <a id="39234" class="Symbol">)</a> <a id="39236" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="39238" href="Coherence.Hypotheses.html#39142" class="Field">y</a> <a id="39240" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="39242" href="Coherence.Hypotheses.html#39144" class="Field">y′</a> <a id="39245" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
  <a id="39249" class="Keyword">open</a> <a id="39254" href="Coherence.Hypotheses.html#1754" class="Module">Transition</a>
    <a id="39269" class="Symbol">(</a> <a id="39271" class="Symbol">(</a><a id="39272" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="39274" href="Coherence.Hypotheses.html#39130" class="Field">A</a> <a id="39276" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="39280" class="Symbol">(</a><a id="39281" href="Coherence.Hypotheses.html#39132" class="Field">v</a> <a id="39283" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="39285" href="Coherence.Hypotheses.html#39134" class="Field">v′</a><a id="39287" class="Symbol">)</a> <a id="39289" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="39293" href="Coherence.Hypotheses.html#39137" class="Field">x</a> <a id="39295" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="39297" href="Coherence.Hypotheses.html#39130" class="Field">A</a> <a id="39299" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="39305" href="Coherence.Hypotheses.html#39137" class="Field">x</a> <a id="39307" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">▷⟨</a> <a id="39310" href="Coherence.Hypotheses.html#39130" class="Field">A</a> <a id="39312" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="39314" href="Coherence.Hypotheses.html#39132" class="Field">v</a> <a id="39316" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="39318" href="Coherence.Hypotheses.html#39134" class="Field">v′</a> <a id="39321" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">⟩</a> <a id="39323" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="39325" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="39327" href="Coherence.Hypotheses.html#39139" class="Field">Γ₀</a><a id="39329" class="Symbol">)</a> <a id="39331" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="39333" href="Coherence.Hypotheses.html#39147" class="Field">t</a>
      <a id="39341" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">——</a> <a id="39344" href="BitML.Semantics.Label.html#662" class="InductiveConstructor Operator">divide⦅</a> <a id="39352" href="Coherence.Hypotheses.html#39137" class="Field">x</a> <a id="39354" href="BitML.Semantics.Label.html#662" class="InductiveConstructor Operator">▷</a> <a id="39356" href="Coherence.Hypotheses.html#39132" class="Field">v</a> <a id="39358" href="BitML.Semantics.Label.html#662" class="InductiveConstructor Operator">,</a> <a id="39360" href="Coherence.Hypotheses.html#39134" class="Field">v′</a> <a id="39363" href="BitML.Semantics.Label.html#662" class="InductiveConstructor Operator">⦆</a> <a id="39365" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">—→</a>
      <a id="39374" class="Symbol">(</a><a id="39375" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="39377" href="Coherence.Hypotheses.html#39130" class="Field">A</a> <a id="39379" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="39383" href="Coherence.Hypotheses.html#39132" class="Field">v</a> <a id="39385" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="39389" href="Coherence.Hypotheses.html#39142" class="Field">y</a> <a id="39391" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="39393" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="39395" href="Coherence.Hypotheses.html#39130" class="Field">A</a> <a id="39397" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="39401" href="Coherence.Hypotheses.html#39134" class="Field">v′</a> <a id="39404" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="39408" href="Coherence.Hypotheses.html#39144" class="Field">y′</a> <a id="39411" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="39413" href="Coherence.Hypotheses.html#39139" class="Field">Γ₀</a><a id="39415" class="Symbol">)</a> <a id="39417" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="39419" href="Coherence.Hypotheses.html#39147" class="Field">t</a>
    <a id="39425" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⊣</a> <a id="39427" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="39431" class="Symbol">(</a><a id="39432" href="BitML.Semantics.InferenceRules.html#1902" class="InductiveConstructor">[DEP-Divide]</a> <a id="39445" href="Coherence.Hypotheses.html#39202" class="Field">fresh-ys</a><a id="39453" class="Symbol">)</a>
    <a id="39459" class="Symbol">)</a> <a id="39461" class="Keyword">public</a> <a id="39468" class="Keyword">hiding</a> <a id="39475" class="Symbol">(</a><a id="39476" href="Coherence.Hypotheses.html#1831" class="Field">t</a><a id="39477" class="Symbol">)</a>
  <a id="39481" class="Keyword">field</a> <a id="H₁₃-args.𝕙r"></a><a id="39487" href="Coherence.Hypotheses.html#39487" class="Field">𝕙r</a> <a id="39490" class="Symbol">:</a> <a id="39492" href="Coherence.Hypotheses.html#1970" class="Record">ℍ-Run</a> <a id="39498" href="Coherence.Hypotheses.html#1941" class="Function">Γ→</a>
  <a id="39503" class="Keyword">open</a> <a id="39508" href="Coherence.Hypotheses.html#1970" class="Module">ℍ-Run</a> <a id="39514" href="Coherence.Hypotheses.html#39487" class="Field">𝕙r</a> <a id="39517" class="Keyword">public</a>

<a id="39525" class="Keyword">module</a> <a id="39532" href="Coherence.Hypotheses.html#39532" class="Module">H₁₃</a> <a id="39536" class="Symbol">(</a><a id="39537" href="Coherence.Hypotheses.html#39537" class="Bound">⋯</a> <a id="39539" class="Symbol">:</a> <a id="39541" href="Coherence.Hypotheses.html#39078" class="Record">H₁₃-args</a><a id="39549" class="Symbol">)</a> <a id="39551" class="Symbol">(</a><a id="39552" class="Keyword">let</a> <a id="39556" class="Keyword">open</a> <a id="39561" href="Coherence.Hypotheses.html#39078" class="Module">H₁₃-args</a> <a id="39570" href="Coherence.Hypotheses.html#39537" class="Bound">⋯</a><a id="39571" class="Symbol">)</a> <a id="39573" class="Symbol">(</a><a id="39574" href="Coherence.Hypotheses.html#39574" class="Bound">tx</a> <a id="39577" href="Coherence.Hypotheses.html#39577" class="Bound">tx′</a> <a id="39581" class="Symbol">:</a> <a id="39583" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a><a id="39591" class="Symbol">)</a> <a id="39593" class="Keyword">where</a>
  <a id="39601" href="Coherence.Hypotheses.html#39601" class="Function">λˢ</a> <a id="39604" class="Symbol">:</a> <a id="39606" href="SymbolicModel.Mappings.html#1063" class="Function">ℾᵗ</a> <a id="39609" href="Coherence.Hypotheses.html#1907" class="Function">Γₜ′</a>
  <a id="39615" href="Coherence.Hypotheses.html#39601" class="Function">λˢ</a> <a id="39618" class="Symbol">=</a> <a id="39620" href="SymbolicModel.Mappings.html#7972" class="Function">LIFTˢ</a> <a id="39626" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="39628" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="39630" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="39633" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="39636" href="Coherence.Hypotheses.html#39659" class="Function">txout↝</a> <a id="39643" href="Function.Base.html#624" class="Function">id</a> <a id="39646" href="Function.Base.html#624" class="Function">id</a>
    <a id="39653" class="Keyword">where</a> <a id="39659" href="Coherence.Hypotheses.html#39659" class="Function">txout↝</a> <a id="39666" class="Symbol">:</a> <a id="39668" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="39670" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="39673" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="39679" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="39681" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
          <a id="39694" href="Coherence.Hypotheses.html#39659" class="Function">txout↝</a> <a id="39701" href="Coherence.Hypotheses.html#39701" class="Bound">txout′</a> <a id="39708" class="Symbol">=</a> <a id="39710" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="39717" href="Coherence.Hypotheses.html#39142" class="Field">y</a> <a id="39719" href="Coherence.Hypotheses.html#39574" class="Bound">tx</a> <a id="39722" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="39724" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="39731" href="Coherence.Hypotheses.html#39144" class="Field">y′</a> <a id="39734" href="Coherence.Hypotheses.html#39577" class="Bound">tx′</a> <a id="39738" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="39740" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="39749" href="Coherence.Hypotheses.html#39701" class="Bound">txout′</a> <a id="39756" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a>

<a id="39763" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[13]~_⨾_"></a><a id="39768" href="Coherence.Hypotheses.html#39768" class="Datatype Operator">_⨾_⨾_~ℍ[13]~_⨾_</a> <a id="39784" class="Symbol">:</a> <a id="39786" href="Coherence.Hypotheses.html#1614" class="Function">StepRel</a> <a id="39794" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[13]~_⨾_.mkℍ"></a><a id="39802" href="Coherence.Hypotheses.html#39802" class="InductiveConstructor">mkℍ</a> <a id="39806" class="Symbol">:</a> <a id="39808" class="Symbol">∀</a> <a id="39810" class="Symbol">{</a><a id="39811" href="Coherence.Hypotheses.html#39811" class="Bound">h</a> <a id="39813" class="Symbol">:</a> <a id="39815" href="Coherence.Hypotheses.html#39078" class="Record">H₁₃-args</a><a id="39823" class="Symbol">}</a>
    <a id="39829" class="Symbol">→</a> <a id="39831" class="Keyword">let</a>
        <a id="39843" class="Keyword">open</a> <a id="39848" href="Coherence.Hypotheses.html#39078" class="Module">H₁₃-args</a> <a id="39857" href="Coherence.Hypotheses.html#39811" class="Bound">h</a>

        <a id="39868" href="Coherence.Hypotheses.html#39868" class="Bound">n⊆</a> <a id="39871" class="Symbol">:</a> <a id="39873" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="39875" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="39878" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="39882" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="39884" href="Coherence.Hypotheses.html#2115" class="Function">Rˢ</a>
        <a id="39895" href="Coherence.Hypotheses.html#39868" class="Bound">n⊆</a> <a id="39898" class="Symbol">=</a> <a id="39900" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="39913" href="Coherence.Hypotheses.html#2115" class="Function">Rˢ</a>
           <a id="39927" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="39929" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="39944" class="Symbol">_</a> <a id="39946" class="Symbol">{</a><a id="39947" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="39948" class="Symbol">}{</a><a id="39950" href="Coherence.Hypotheses.html#2115" class="Function">Rˢ</a> <a id="39953" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="39957" class="Symbol">}</a> <a id="39959" class="Symbol">(</a><a id="39960" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="39966" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="39968" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="39971" class="Symbol">.</a><a id="39972" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="39977" class="Symbol">)</a>

        <a id="39988" class="Comment">-- (iii) submit transaction T</a>
        <a id="40026" href="Coherence.Hypotheses.html#40026" class="Bound">T</a>  <a id="40029" class="Symbol">=</a> <a id="40031" class="Number">1</a> <a id="40033" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="40035" class="Number">2</a> <a id="40037" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="40039" href="Bitcoin.Tx.Crypto.html#1445" class="Function">sig⋆</a> <a id="40044" class="Symbol">(</a><a id="40045" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="40057" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="40059" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="40062" href="Coherence.Hypotheses.html#39130" class="Field">A</a> <a id="40064" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="40065" class="Symbol">)</a> <a id="40067" class="Keyword">record</a>
          <a id="40084" class="Symbol">{</a> <a id="40086" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="40094" class="Symbol">=</a> <a id="40096" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="40098" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="40106" class="Symbol">(</a><a id="40107" href="SymbolicModel.Mappings.html#952" class="Function">txout′</a> <a id="40114" class="Symbol">{</a><a id="40115" href="Coherence.Hypotheses.html#39137" class="Field">x</a><a id="40116" class="Symbol">}</a> <a id="40118" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="40120" href="Coherence.Hypotheses.html#39868" class="Bound">n⊆</a> <a id="40123" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a><a id="40124" class="Symbol">)</a> <a id="40126" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
          <a id="40138" class="Symbol">;</a> <a id="40140" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="40148" class="Symbol">=</a> <a id="40150" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
          <a id="40165" class="Symbol">;</a> <a id="40167" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="40175" class="Symbol">=</a> <a id="40177" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="40189" class="Number">0</a>
          <a id="40201" class="Symbol">;</a> <a id="40203" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="40211" class="Symbol">=</a> <a id="40213" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="40215" href="Coherence.Hypotheses.html#39132" class="Field">v</a> <a id="40217" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="40231" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="40234" href="Coherence.Hypotheses.html#39130" class="Field">A</a> <a id="40236" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="40238" href="Coherence.Hypotheses.html#39134" class="Field">v′</a> <a id="40241" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="40255" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="40258" href="Coherence.Hypotheses.html#39130" class="Field">A</a> <a id="40260" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
          <a id="40272" class="Symbol">;</a> <a id="40274" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="40282" class="Symbol">=</a> <a id="40284" class="Number">0</a> <a id="40286" class="Symbol">}</a>
        <a id="40296" href="Coherence.Hypotheses.html#40296" class="Bound">λᶜ</a> <a id="40299" class="Symbol">=</a> <a id="40301" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="40308" href="Coherence.Hypotheses.html#40026" class="Bound">T</a>

        <a id="40319" class="Comment">-- (v) extend txout′ with {y↦T₀, y′↦T₁} (removing x↦T₀),</a>
        <a id="40384" class="Comment">--     sechash = sechash′, κ = κ′</a>
        <a id="40426" class="Keyword">open</a> <a id="40431" href="Coherence.Hypotheses.html#39532" class="Module">H₁₃</a> <a id="40435" href="Coherence.Hypotheses.html#39811" class="Bound">h</a> <a id="40437" class="Symbol">(</a><a id="40438" href="Coherence.Hypotheses.html#40026" class="Bound">T</a> <a id="40440" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="40443" class="Number">0</a><a id="40444" class="Symbol">)</a> <a id="40446" class="Symbol">(</a><a id="40447" href="Coherence.Hypotheses.html#40026" class="Bound">T</a> <a id="40449" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="40452" class="Number">1</a><a id="40453" class="Symbol">)</a> <a id="40455" class="Keyword">using</a> <a id="40461" class="Symbol">(</a><a id="40462" href="Coherence.Hypotheses.html#39601" class="Function">λˢ</a><a id="40464" class="Symbol">)</a>
      <a id="40472" class="Keyword">in</a>
      <a id="40481" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="40541" href="Coherence.Hypotheses.html#2189" class="Function">Γₜ″</a> <a id="40545" href="Coherence.Hypotheses.html#39768" class="Datatype Operator">⨾</a> <a id="40547" href="Coherence.Hypotheses.html#2128" class="Function">𝕣∗</a> <a id="40550" href="Coherence.Hypotheses.html#39768" class="Datatype Operator">⨾</a> <a id="40552" class="Symbol">(</a><a id="40553" href="Coherence.Hypotheses.html#2275" class="Function">𝕒</a> <a id="40555" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="40557" href="Coherence.Hypotheses.html#39601" class="Function">λˢ</a><a id="40559" class="Symbol">)</a> <a id="40561" href="Coherence.Hypotheses.html#39768" class="Datatype Operator">~ℍ[13]~</a> <a id="40569" href="Coherence.Hypotheses.html#40296" class="Bound">λᶜ</a> <a id="40572" href="Coherence.Hypotheses.html#39768" class="Datatype Operator">⨾</a> <a id="40574" href="Coherence.Hypotheses.html#2101" class="Function">Rᶜ</a>

<a id="40578" class="Comment">-- ** Deposits: authorize donate (similar to [10])</a>
<a id="40629" class="Keyword">record</a> <a id="H₁₄-args"></a><a id="40636" href="Coherence.Hypotheses.html#40636" class="Record">H₁₄-args</a> <a id="40645" class="Symbol">:</a> <a id="40647" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="40652" class="Keyword">where</a>
  <a id="40660" class="Keyword">constructor</a> <a id="mk"></a><a id="40672" href="Coherence.Hypotheses.html#40672" class="InductiveConstructor">mk</a>
  <a id="40677" class="Keyword">field</a>
    <a id="40687" class="Symbol">{</a><a id="H₁₄-args.A"></a><a id="40688" href="Coherence.Hypotheses.html#40688" class="Field">A</a> <a id="H₁₄-args.v"></a><a id="40690" href="Coherence.Hypotheses.html#40690" class="Field">v</a> <a id="H₁₄-args.x"></a><a id="40692" href="Coherence.Hypotheses.html#40692" class="Field">x</a> <a id="H₁₄-args.Γ₀"></a><a id="40694" href="Coherence.Hypotheses.html#40694" class="Field">Γ₀</a> <a id="H₁₄-args.B′"></a><a id="40697" href="Coherence.Hypotheses.html#40697" class="Field">B′</a> <a id="H₁₄-args.t"></a><a id="40700" href="Coherence.Hypotheses.html#40700" class="Field">t</a><a id="40701" class="Symbol">}</a> <a id="40703" class="Symbol">:</a> <a id="40705" class="Symbol">_</a>
  <a id="40709" class="Keyword">open</a> <a id="40714" href="Coherence.Hypotheses.html#1754" class="Module">Transition</a>
    <a id="40729" class="Symbol">(</a> <a id="40731" class="Symbol">(</a><a id="40732" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="40734" href="Coherence.Hypotheses.html#40688" class="Field">A</a> <a id="40736" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="40740" href="Coherence.Hypotheses.html#40690" class="Field">v</a> <a id="40742" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="40746" href="Coherence.Hypotheses.html#40692" class="Field">x</a> <a id="40748" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="40750" href="Coherence.Hypotheses.html#40694" class="Field">Γ₀</a><a id="40752" class="Symbol">)</a> <a id="40754" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="40756" href="Coherence.Hypotheses.html#40700" class="Field">t</a>
      <a id="40764" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">——</a> <a id="40767" href="BitML.Semantics.Label.html#726" class="InductiveConstructor Operator">auth-donate⦅</a> <a id="40780" href="Coherence.Hypotheses.html#40688" class="Field">A</a> <a id="40782" href="BitML.Semantics.Label.html#726" class="InductiveConstructor Operator">,</a> <a id="40784" href="Coherence.Hypotheses.html#40692" class="Field">x</a> <a id="40786" href="BitML.Semantics.Label.html#726" class="InductiveConstructor Operator">▷ᵈ</a> <a id="40789" href="Coherence.Hypotheses.html#40697" class="Field">B′</a> <a id="40792" href="BitML.Semantics.Label.html#726" class="InductiveConstructor Operator">⦆</a> <a id="40794" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">—→</a>
      <a id="40803" class="Symbol">(</a><a id="40804" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="40806" href="Coherence.Hypotheses.html#40688" class="Field">A</a> <a id="40808" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="40812" href="Coherence.Hypotheses.html#40690" class="Field">v</a> <a id="40814" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="40818" href="Coherence.Hypotheses.html#40692" class="Field">x</a> <a id="40820" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="40822" href="Coherence.Hypotheses.html#40688" class="Field">A</a> <a id="40824" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="40830" href="Coherence.Hypotheses.html#40692" class="Field">x</a> <a id="40832" href="BitML.Semantics.Action.html#782" class="InductiveConstructor Operator">▷ᵈ</a> <a id="40835" href="Coherence.Hypotheses.html#40697" class="Field">B′</a> <a id="40838" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="40840" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="40842" href="Coherence.Hypotheses.html#40694" class="Field">Γ₀</a><a id="40844" class="Symbol">)</a> <a id="40846" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="40848" href="Coherence.Hypotheses.html#40700" class="Field">t</a>
    <a id="40854" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⊣</a> <a id="40856" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="40860" href="BitML.Semantics.InferenceRules.html#2170" class="InductiveConstructor">[DEP-AuthDonate]</a>
    <a id="40881" class="Symbol">)</a> <a id="40883" class="Keyword">public</a> <a id="40890" class="Keyword">hiding</a> <a id="40897" class="Symbol">(</a><a id="40898" href="Coherence.Hypotheses.html#1831" class="Field">t</a><a id="40899" class="Symbol">)</a>
  <a id="40903" class="Keyword">field</a> <a id="H₁₄-args.𝕙r"></a><a id="40909" href="Coherence.Hypotheses.html#40909" class="Field">𝕙r</a> <a id="40912" class="Symbol">:</a> <a id="40914" href="Coherence.Hypotheses.html#1970" class="Record">ℍ-Run</a> <a id="40920" href="Coherence.Hypotheses.html#1941" class="Function">Γ→</a>
  <a id="40925" class="Keyword">open</a> <a id="40930" href="Coherence.Hypotheses.html#1970" class="Module">ℍ-Run</a> <a id="40936" href="Coherence.Hypotheses.html#40909" class="Field">𝕙r</a> <a id="40939" class="Keyword">public</a>

<a id="40947" class="Keyword">module</a> <a id="40954" href="Coherence.Hypotheses.html#40954" class="Module">H₁₄</a> <a id="40958" class="Symbol">(</a><a id="40959" href="Coherence.Hypotheses.html#40959" class="Bound">⋯</a> <a id="40961" class="Symbol">:</a> <a id="40963" href="Coherence.Hypotheses.html#40636" class="Record">H₁₄-args</a><a id="40971" class="Symbol">)</a> <a id="40973" class="Symbol">(</a><a id="40974" class="Keyword">let</a> <a id="40978" class="Keyword">open</a> <a id="40983" href="Coherence.Hypotheses.html#40636" class="Module">H₁₄-args</a> <a id="40992" href="Coherence.Hypotheses.html#40959" class="Bound">⋯</a><a id="40993" class="Symbol">)</a> <a id="40995" class="Keyword">where</a>
  <a id="41003" href="Coherence.Hypotheses.html#41003" class="Function">λˢ</a> <a id="41006" class="Symbol">:</a> <a id="41008" href="SymbolicModel.Mappings.html#1063" class="Function">ℾᵗ</a> <a id="41011" href="Coherence.Hypotheses.html#1907" class="Function">Γₜ′</a>
  <a id="41017" href="Coherence.Hypotheses.html#41003" class="Function">λˢ</a> <a id="41020" class="Symbol">=</a> <a id="41022" href="SymbolicModel.Mappings.html#7972" class="Function">LIFTˢ</a> <a id="41028" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="41030" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="41032" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="41035" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="41038" href="Function.Base.html#624" class="Function">id</a> <a id="41041" href="Function.Base.html#624" class="Function">id</a> <a id="41044" href="Function.Base.html#624" class="Function">id</a>

<a id="41048" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[14]~_⨾_"></a><a id="41053" href="Coherence.Hypotheses.html#41053" class="Datatype Operator">_⨾_⨾_~ℍ[14]~_⨾_</a> <a id="41069" class="Symbol">:</a> <a id="41071" href="Coherence.Hypotheses.html#1614" class="Function">StepRel</a> <a id="41079" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[14]~_⨾_.mkℍ"></a><a id="41087" href="Coherence.Hypotheses.html#41087" class="InductiveConstructor">mkℍ</a> <a id="41091" class="Symbol">:</a> <a id="41093" class="Symbol">∀</a> <a id="41095" class="Symbol">{</a><a id="41096" href="Coherence.Hypotheses.html#41096" class="Bound">h</a> <a id="41098" class="Symbol">:</a> <a id="41100" href="Coherence.Hypotheses.html#40636" class="Record">H₁₄-args</a><a id="41108" class="Symbol">}</a> <a id="41110" class="Symbol">{</a><a id="41111" href="Coherence.Hypotheses.html#41111" class="Bound">B</a><a id="41112" class="Symbol">}</a>
    <a id="41118" class="Symbol">→</a> <a id="41120" class="Keyword">let</a>
        <a id="41132" class="Keyword">open</a> <a id="41137" href="Coherence.Hypotheses.html#40636" class="Module">H₁₄-args</a> <a id="41146" href="Coherence.Hypotheses.html#41096" class="Bound">h</a>

        <a id="41157" href="Coherence.Hypotheses.html#41157" class="Bound">n⊆</a> <a id="41160" class="Symbol">:</a> <a id="41162" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="41164" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="41167" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="41171" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="41173" href="Coherence.Hypotheses.html#2115" class="Function">Rˢ</a>
        <a id="41184" href="Coherence.Hypotheses.html#41157" class="Bound">n⊆</a>  <a id="41188" class="Symbol">=</a> <a id="41190" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="41203" href="Coherence.Hypotheses.html#2115" class="Function">Rˢ</a>
            <a id="41218" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="41220" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="41235" class="Symbol">_</a> <a id="41237" class="Symbol">{</a><a id="41238" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="41239" class="Symbol">}{</a><a id="41241" href="Coherence.Hypotheses.html#2115" class="Function">Rˢ</a> <a id="41244" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="41248" class="Symbol">}</a> <a id="41250" class="Symbol">(</a><a id="41251" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="41257" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="41259" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="41262" class="Symbol">.</a><a id="41263" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="41268" class="Symbol">)</a>
      <a id="41276" class="Keyword">in</a>
    <a id="41283" class="Symbol">∀</a> <a id="41285" class="Symbol">(</a><a id="41286" href="Coherence.Hypotheses.html#41286" class="Bound">∃B</a> <a id="41289" class="Symbol">:</a> <a id="41291" href="Data.Product.html#1378" class="Function">∃</a> <a id="41293" class="Symbol">λ</a> <a id="41295" href="Coherence.Hypotheses.html#41295" class="Bound">B</a> <a id="41297" class="Symbol">→</a> <a id="41299" href="Data.Product.html#1378" class="Function">∃</a> <a id="41301" class="Symbol">λ</a> <a id="41303" class="Symbol">(</a><a id="41304" href="Coherence.Hypotheses.html#41304" class="Bound">T</a> <a id="41306" class="Symbol">:</a> <a id="41308" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="41311" class="Number">1</a> <a id="41313" class="Number">1</a><a id="41314" class="Symbol">)</a> <a id="41316" class="Symbol">→</a>
         <a id="41327" class="Symbol">(</a><a id="41328" href="Coherence.Hypotheses.html#41295" class="Bound">B</a> <a id="41330" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="41334" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="41341" href="Coherence.Hypotheses.html#41304" class="Bound">T</a> <a id="41343" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="41345" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="41352" href="Coherence.Hypotheses.html#2101" class="Function">Rᶜ</a><a id="41354" class="Symbol">)</a>
       <a id="41363" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="41365" class="Symbol">(</a><a id="41366" href="Coherence.Hypotheses.html#41304" class="Bound">T</a> <a id="41368" class="Symbol">.</a><a id="41369" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="41377" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="41379" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="41381" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="41389" class="Symbol">(</a><a id="41390" href="SymbolicModel.Mappings.html#952" class="Function">txout′</a> <a id="41397" class="Symbol">{</a><a id="41398" href="Coherence.Hypotheses.html#40692" class="Function">x</a><a id="41399" class="Symbol">}</a> <a id="41401" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="41403" href="Coherence.Hypotheses.html#41157" class="Bound">n⊆</a> <a id="41406" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a><a id="41407" class="Symbol">)</a> <a id="41409" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="41410" class="Symbol">)</a>
       <a id="41419" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="41421" class="Symbol">(</a><a id="41422" href="Coherence.Hypotheses.html#41304" class="Bound">T</a> <a id="41424" class="Symbol">.</a><a id="41425" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="41433" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="41435" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="41437" href="Coherence.Hypotheses.html#40690" class="Function">v</a> <a id="41439" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="41453" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="41456" href="Coherence.Hypotheses.html#40697" class="Function">B′</a> <a id="41459" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="41460" class="Symbol">))</a>
    <a id="41467" class="Symbol">→</a> <a id="41469" class="Keyword">let</a>
        <a id="41481" class="Comment">-- (iii) broadcast transaction T, signed by A</a>
        <a id="41535" class="Symbol">_</a> <a id="41537" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="41539" href="Coherence.Hypotheses.html#41539" class="Bound">T</a> <a id="41541" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="41543" href="Coherence.Hypotheses.html#41543" class="Bound">B∈</a> <a id="41546" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="41548" class="Symbol">_</a> <a id="41550" class="Symbol">=</a> <a id="41552" href="Coherence.Hypotheses.html#41286" class="Bound">∃B</a>
        <a id="41563" href="Coherence.Hypotheses.html#41563" class="Bound">m′</a> <a id="41566" class="Symbol">=</a> <a id="41568" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="41572" class="Symbol">(</a><a id="41573" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="41576" href="Coherence.Hypotheses.html#40688" class="Function">A</a><a id="41577" class="Symbol">)</a> <a id="41579" class="Symbol">(</a><a id="41580" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a> <a id="41584" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="41586" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="41589" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="41592" href="Coherence.Hypotheses.html#41539" class="Bound">T</a><a id="41593" class="Symbol">)</a>
        <a id="41603" href="Coherence.Hypotheses.html#41603" class="Bound">λᶜ</a> <a id="41606" class="Symbol">=</a> <a id="41608" href="Coherence.Hypotheses.html#41111" class="Bound">B</a> <a id="41610" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="41614" href="Coherence.Hypotheses.html#41563" class="Bound">m′</a>

        <a id="41626" class="Comment">-- (v) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="41684" class="Keyword">open</a> <a id="41689" href="Coherence.Hypotheses.html#40954" class="Module">H₁₄</a> <a id="41693" href="Coherence.Hypotheses.html#41096" class="Bound">h</a> <a id="41695" class="Keyword">using</a> <a id="41701" class="Symbol">(</a><a id="41702" href="Coherence.Hypotheses.html#41003" class="Function">λˢ</a><a id="41704" class="Symbol">)</a>
      <a id="41712" class="Keyword">in</a>

    <a id="41720" class="Comment">-- (iv) λᶜ is the first broadcast of m′ in Rᶜ after the first broadcast of T</a>
    <a id="41801" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="41803" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="41807" class="Symbol">(λ</a> <a id="41810" href="Coherence.Hypotheses.html#41810" class="Bound">l</a> <a id="41812" class="Symbol">→</a> <a id="41814" class="Symbol">∀</a> <a id="41816" href="Coherence.Hypotheses.html#41816" class="Bound">B</a> <a id="41818" class="Symbol">→</a> <a id="41820" href="Coherence.Hypotheses.html#41810" class="Bound">l</a> <a id="41822" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="41824" href="Coherence.Hypotheses.html#41816" class="Bound">B</a> <a id="41826" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="41830" href="Coherence.Hypotheses.html#41563" class="Bound">m′</a><a id="41832" class="Symbol">)</a> <a id="41834" class="Symbol">(</a><a id="41835" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="41845" href="Coherence.Hypotheses.html#41543" class="Bound">B∈</a><a id="41847" class="Symbol">)</a>

      <a id="41856" href="Prelude.InferenceRules.html#12447" class="Function Operator">──────────────────────────────────────────────────────────</a>
      <a id="41921" href="Coherence.Hypotheses.html#2189" class="Function">Γₜ″</a> <a id="41925" href="Coherence.Hypotheses.html#41053" class="Datatype Operator">⨾</a> <a id="41927" href="Coherence.Hypotheses.html#2128" class="Function">𝕣∗</a> <a id="41930" href="Coherence.Hypotheses.html#41053" class="Datatype Operator">⨾</a> <a id="41932" class="Symbol">(</a><a id="41933" href="Coherence.Hypotheses.html#2275" class="Function">𝕒</a> <a id="41935" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="41937" href="Coherence.Hypotheses.html#41003" class="Function">λˢ</a><a id="41939" class="Symbol">)</a> <a id="41941" href="Coherence.Hypotheses.html#41053" class="Datatype Operator">~ℍ[14]~</a> <a id="41949" href="Coherence.Hypotheses.html#41603" class="Bound">λᶜ</a> <a id="41952" href="Coherence.Hypotheses.html#41053" class="Datatype Operator">⨾</a> <a id="41954" href="Coherence.Hypotheses.html#2101" class="Function">Rᶜ</a>

<a id="41958" class="Comment">-- ** Deposits: donate (similar to [11])</a>
<a id="41999" class="Keyword">record</a> <a id="H₁₅-args"></a><a id="42006" href="Coherence.Hypotheses.html#42006" class="Record">H₁₅-args</a> <a id="42015" class="Symbol">:</a> <a id="42017" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="42022" class="Keyword">where</a>
  <a id="42030" class="Keyword">constructor</a> <a id="mk"></a><a id="42042" href="Coherence.Hypotheses.html#42042" class="InductiveConstructor">mk</a>
  <a id="42047" class="Keyword">field</a>
    <a id="42057" class="Symbol">{</a><a id="H₁₅-args.A"></a><a id="42058" href="Coherence.Hypotheses.html#42058" class="Field">A</a> <a id="H₁₅-args.v"></a><a id="42060" href="Coherence.Hypotheses.html#42060" class="Field">v</a> <a id="H₁₅-args.x"></a><a id="42062" href="Coherence.Hypotheses.html#42062" class="Field">x</a> <a id="H₁₅-args.B′"></a><a id="42064" href="Coherence.Hypotheses.html#42064" class="Field">B′</a> <a id="H₁₅-args.Γ₀"></a><a id="42067" href="Coherence.Hypotheses.html#42067" class="Field">Γ₀</a> <a id="H₁₅-args.y"></a><a id="42070" href="Coherence.Hypotheses.html#42070" class="Field">y</a> <a id="H₁₅-args.t"></a><a id="42072" href="Coherence.Hypotheses.html#42072" class="Field">t</a><a id="42073" class="Symbol">}</a> <a id="42075" class="Symbol">:</a> <a id="42077" class="Symbol">_</a>
  <a id="42081" class="Keyword">field</a>
    <a id="42091" class="Comment">-- Hypotheses from [DEP-Donate]</a>
    <a id="H₁₅-args.fresh-y"></a><a id="42127" href="Coherence.Hypotheses.html#42127" class="Field">fresh-y</a> <a id="42135" class="Symbol">:</a> <a id="42137" href="Coherence.Hypotheses.html#42070" class="Field">y</a> <a id="42139" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="42141" href="Coherence.Hypotheses.html#42062" class="Field">x</a> <a id="42143" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.∷</a> <a id="42147" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="42151" href="Coherence.Hypotheses.html#42067" class="Field">Γ₀</a>
  <a id="42156" class="Keyword">open</a> <a id="42161" href="Coherence.Hypotheses.html#1754" class="Module">Transition</a>
    <a id="42176" class="Symbol">(</a> <a id="42178" class="Symbol">(</a><a id="42179" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="42181" href="Coherence.Hypotheses.html#42058" class="Field">A</a> <a id="42183" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="42187" href="Coherence.Hypotheses.html#42060" class="Field">v</a> <a id="42189" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="42193" href="Coherence.Hypotheses.html#42062" class="Field">x</a> <a id="42195" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="42197" href="Coherence.Hypotheses.html#42058" class="Field">A</a> <a id="42199" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="42205" href="Coherence.Hypotheses.html#42062" class="Field">x</a> <a id="42207" href="BitML.Semantics.Action.html#782" class="InductiveConstructor Operator">▷ᵈ</a> <a id="42210" href="Coherence.Hypotheses.html#42064" class="Field">B′</a> <a id="42213" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="42215" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="42217" href="Coherence.Hypotheses.html#42067" class="Field">Γ₀</a><a id="42219" class="Symbol">)</a> <a id="42221" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="42223" href="Coherence.Hypotheses.html#42072" class="Field">t</a>
      <a id="42231" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">——</a> <a id="42234" href="BitML.Semantics.Label.html#798" class="InductiveConstructor Operator">donate⦅</a> <a id="42242" href="Coherence.Hypotheses.html#42062" class="Field">x</a> <a id="42244" href="BitML.Semantics.Label.html#798" class="InductiveConstructor Operator">▷ᵈ</a> <a id="42247" href="Coherence.Hypotheses.html#42064" class="Field">B′</a> <a id="42250" href="BitML.Semantics.Label.html#798" class="InductiveConstructor Operator">⦆</a> <a id="42252" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">—→</a>
      <a id="42261" class="Symbol">(</a><a id="42262" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="42264" href="Coherence.Hypotheses.html#42064" class="Field">B′</a> <a id="42267" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="42271" href="Coherence.Hypotheses.html#42060" class="Field">v</a> <a id="42273" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="42277" href="Coherence.Hypotheses.html#42070" class="Field">y</a> <a id="42279" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="42281" href="Coherence.Hypotheses.html#42067" class="Field">Γ₀</a><a id="42283" class="Symbol">)</a> <a id="42285" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="42287" href="Coherence.Hypotheses.html#42072" class="Field">t</a>
    <a id="42293" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⊣</a> <a id="42295" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="42299" class="Symbol">(</a><a id="42300" href="BitML.Semantics.InferenceRules.html#2342" class="InductiveConstructor">[DEP-Donate]</a> <a id="42313" href="Coherence.Hypotheses.html#42127" class="Field">fresh-y</a><a id="42320" class="Symbol">)</a>
    <a id="42326" class="Symbol">)</a> <a id="42328" class="Keyword">public</a> <a id="42335" class="Keyword">hiding</a> <a id="42342" class="Symbol">(</a><a id="42343" href="Coherence.Hypotheses.html#1831" class="Field">t</a><a id="42344" class="Symbol">)</a>
  <a id="42348" class="Keyword">field</a> <a id="H₁₅-args.𝕙r"></a><a id="42354" href="Coherence.Hypotheses.html#42354" class="Field">𝕙r</a> <a id="42357" class="Symbol">:</a> <a id="42359" href="Coherence.Hypotheses.html#1970" class="Record">ℍ-Run</a> <a id="42365" href="Coherence.Hypotheses.html#1941" class="Function">Γ→</a>
  <a id="42370" class="Keyword">open</a> <a id="42375" href="Coherence.Hypotheses.html#1970" class="Module">ℍ-Run</a> <a id="42381" href="Coherence.Hypotheses.html#42354" class="Field">𝕙r</a> <a id="42384" class="Keyword">public</a>

<a id="42392" class="Keyword">module</a> <a id="42399" href="Coherence.Hypotheses.html#42399" class="Module">H₁₅</a> <a id="42403" class="Symbol">(</a><a id="42404" href="Coherence.Hypotheses.html#42404" class="Bound">⋯</a> <a id="42406" class="Symbol">:</a> <a id="42408" href="Coherence.Hypotheses.html#42006" class="Record">H₁₅-args</a><a id="42416" class="Symbol">)</a> <a id="42418" class="Symbol">(</a><a id="42419" class="Keyword">let</a> <a id="42423" class="Keyword">open</a> <a id="42428" href="Coherence.Hypotheses.html#42006" class="Module">H₁₅-args</a> <a id="42437" href="Coherence.Hypotheses.html#42404" class="Bound">⋯</a><a id="42438" class="Symbol">)</a> <a id="42440" class="Symbol">(</a><a id="42441" href="Coherence.Hypotheses.html#42441" class="Bound">tx</a> <a id="42444" class="Symbol">:</a> <a id="42446" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a><a id="42454" class="Symbol">)</a> <a id="42456" class="Keyword">where</a>
  <a id="42464" href="Coherence.Hypotheses.html#42464" class="Function">λˢ</a> <a id="42467" class="Symbol">:</a> <a id="42469" href="SymbolicModel.Mappings.html#1063" class="Function">ℾᵗ</a> <a id="42472" href="Coherence.Hypotheses.html#1907" class="Function">Γₜ′</a>
  <a id="42478" href="Coherence.Hypotheses.html#42464" class="Function">λˢ</a> <a id="42481" class="Symbol">=</a> <a id="42483" href="SymbolicModel.Mappings.html#7972" class="Function">LIFTˢ</a> <a id="42489" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="42491" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="42493" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="42496" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="42499" href="Coherence.Hypotheses.html#42522" class="Function">txout↝</a> <a id="42506" href="Function.Base.html#624" class="Function">id</a> <a id="42509" href="Function.Base.html#624" class="Function">id</a>
    <a id="42516" class="Keyword">where</a> <a id="42522" href="Coherence.Hypotheses.html#42522" class="Function">txout↝</a> <a id="42529" class="Symbol">:</a> <a id="42531" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="42533" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="42536" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="42542" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="42544" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
          <a id="42557" href="Coherence.Hypotheses.html#42522" class="Function">txout↝</a> <a id="42564" href="Coherence.Hypotheses.html#42564" class="Bound">txout′</a> <a id="42571" class="Symbol">=</a> <a id="42573" href="Prelude.Lists.Mappings.html#1153" class="Function">cons-↦</a> <a id="42580" href="Coherence.Hypotheses.html#42070" class="Field">y</a> <a id="42582" href="Coherence.Hypotheses.html#42441" class="Bound">tx</a> <a id="42585" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="42587" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="42596" href="Coherence.Hypotheses.html#42564" class="Bound">txout′</a> <a id="42603" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a>

<a id="42610" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[15]~_⨾_"></a><a id="42615" href="Coherence.Hypotheses.html#42615" class="Datatype Operator">_⨾_⨾_~ℍ[15]~_⨾_</a> <a id="42631" class="Symbol">:</a> <a id="42633" href="Coherence.Hypotheses.html#1614" class="Function">StepRel</a> <a id="42641" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[15]~_⨾_.mkℍ"></a><a id="42649" href="Coherence.Hypotheses.html#42649" class="InductiveConstructor">mkℍ</a> <a id="42653" class="Symbol">:</a> <a id="42655" class="Symbol">∀</a> <a id="42657" class="Symbol">{</a><a id="42658" href="Coherence.Hypotheses.html#42658" class="Bound">h</a> <a id="42660" class="Symbol">:</a> <a id="42662" href="Coherence.Hypotheses.html#42006" class="Record">H₁₅-args</a><a id="42670" class="Symbol">}</a>
    <a id="42676" class="Symbol">→</a> <a id="42678" class="Keyword">let</a>
        <a id="42690" class="Keyword">open</a> <a id="42695" href="Coherence.Hypotheses.html#42006" class="Module">H₁₅-args</a> <a id="42704" href="Coherence.Hypotheses.html#42658" class="Bound">h</a>

        <a id="42715" href="Coherence.Hypotheses.html#42715" class="Bound">n⊆</a> <a id="42718" class="Symbol">:</a> <a id="42720" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="42722" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⊆⦅</a> <a id="42725" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="42729" href="Prelude.Lists.Collections.html#1215" class="Function Operator">⦆</a> <a id="42731" href="Coherence.Hypotheses.html#2115" class="Function">Rˢ</a>
        <a id="42742" href="Coherence.Hypotheses.html#42715" class="Bound">n⊆</a>  <a id="42746" class="Symbol">=</a> <a id="42748" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="42761" href="Coherence.Hypotheses.html#2115" class="Function">Rˢ</a>
            <a id="42776" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="42778" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="42793" class="Symbol">_</a> <a id="42795" class="Symbol">{</a><a id="42796" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="42797" class="Symbol">}{</a><a id="42799" href="Coherence.Hypotheses.html#2115" class="Function">Rˢ</a> <a id="42802" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="42806" class="Symbol">}</a> <a id="42808" class="Symbol">(</a><a id="42809" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="42815" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="42817" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="42820" class="Symbol">.</a><a id="42821" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="42826" class="Symbol">)</a>

        <a id="42837" class="Comment">-- (iii) submit transaction T</a>
        <a id="42875" href="Coherence.Hypotheses.html#42875" class="Bound">T</a>  <a id="42878" class="Symbol">=</a> <a id="42880" class="Number">1</a> <a id="42882" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="42884" class="Number">1</a> <a id="42886" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="42888" href="Bitcoin.Tx.Crypto.html#1445" class="Function">sig⋆</a> <a id="42893" class="Symbol">(</a><a id="42894" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="42906" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="42908" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="42911" href="Coherence.Hypotheses.html#42058" class="Field">A</a> <a id="42913" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="42914" class="Symbol">)</a> <a id="42916" class="Keyword">record</a>
          <a id="42933" class="Symbol">{</a> <a id="42935" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="42943" class="Symbol">=</a> <a id="42945" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="42947" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="42955" class="Symbol">(</a><a id="42956" href="SymbolicModel.Mappings.html#952" class="Function">txout′</a> <a id="42963" class="Symbol">{</a><a id="42964" href="Coherence.Hypotheses.html#42062" class="Field">x</a><a id="42965" class="Symbol">}</a> <a id="42967" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="42969" href="Coherence.Hypotheses.html#42715" class="Bound">n⊆</a> <a id="42972" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a><a id="42973" class="Symbol">)</a> <a id="42975" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
          <a id="42987" class="Symbol">;</a> <a id="42989" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="42997" class="Symbol">=</a> <a id="42999" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
          <a id="43014" class="Symbol">;</a> <a id="43016" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="43024" class="Symbol">=</a> <a id="43026" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="43038" class="Number">0</a>
          <a id="43050" class="Symbol">;</a> <a id="43052" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="43060" class="Symbol">=</a> <a id="43062" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="43064" href="Coherence.Hypotheses.html#42060" class="Field">v</a> <a id="43066" href="Bitcoin.Tx.Crypto.html#780" class="Function Operator">redeemable-by</a> <a id="43080" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="43083" href="Coherence.Hypotheses.html#42064" class="Field">B′</a> <a id="43086" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
          <a id="43098" class="Symbol">;</a> <a id="43100" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="43108" class="Symbol">=</a> <a id="43110" class="Number">0</a> <a id="43112" class="Symbol">}</a>
        <a id="43122" href="Coherence.Hypotheses.html#43122" class="Bound">λᶜ</a> <a id="43125" class="Symbol">=</a> <a id="43127" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="43134" href="Coherence.Hypotheses.html#42875" class="Bound">T</a>

        <a id="43145" class="Comment">-- (v) extend txout′ with y↦T₀ (removing x↦T₀), sechash = sechash′, κ = κ′</a>
        <a id="43228" class="Keyword">open</a> <a id="43233" href="Coherence.Hypotheses.html#42399" class="Module">H₁₅</a> <a id="43237" href="Coherence.Hypotheses.html#42658" class="Bound">h</a> <a id="43239" class="Symbol">(</a><a id="43240" href="Coherence.Hypotheses.html#42875" class="Bound">T</a> <a id="43242" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="43245" class="Number">0</a><a id="43246" class="Symbol">)</a> <a id="43248" class="Keyword">using</a> <a id="43254" class="Symbol">(</a><a id="43255" href="Coherence.Hypotheses.html#42464" class="Function">λˢ</a><a id="43257" class="Symbol">)</a>
      <a id="43265" class="Keyword">in</a>
      <a id="43274" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="43334" href="Coherence.Hypotheses.html#2189" class="Function">Γₜ″</a> <a id="43338" href="Coherence.Hypotheses.html#42615" class="Datatype Operator">⨾</a> <a id="43340" href="Coherence.Hypotheses.html#2128" class="Function">𝕣∗</a> <a id="43343" href="Coherence.Hypotheses.html#42615" class="Datatype Operator">⨾</a> <a id="43345" class="Symbol">(</a><a id="43346" href="Coherence.Hypotheses.html#2275" class="Function">𝕒</a> <a id="43348" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="43350" href="Coherence.Hypotheses.html#42464" class="Function">λˢ</a><a id="43352" class="Symbol">)</a> <a id="43354" href="Coherence.Hypotheses.html#42615" class="Datatype Operator">~ℍ[15]~</a> <a id="43362" href="Coherence.Hypotheses.html#43122" class="Bound">λᶜ</a> <a id="43365" href="Coherence.Hypotheses.html#42615" class="Datatype Operator">⨾</a> <a id="43367" href="Coherence.Hypotheses.html#2101" class="Function">Rᶜ</a>

<a id="43371" class="Comment">-- ** Deposits: authorize destroy</a>
<a id="43405" class="Keyword">record</a> <a id="H₁₆-args"></a><a id="43412" href="Coherence.Hypotheses.html#43412" class="Record">H₁₆-args</a> <a id="43421" class="Symbol">:</a> <a id="43423" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="43428" class="Keyword">where</a>
  <a id="43436" class="Keyword">constructor</a> <a id="mk"></a><a id="43448" href="Coherence.Hypotheses.html#43448" class="InductiveConstructor">mk</a>
  <a id="43453" class="Keyword">field</a>
    <a id="43463" class="Symbol">{</a><a id="H₁₆-args.y"></a><a id="43464" href="Coherence.Hypotheses.html#43464" class="Field">y</a> <a id="H₁₆-args.Γ₀"></a><a id="43466" href="Coherence.Hypotheses.html#43466" class="Field">Γ₀</a> <a id="H₁₆-args.t"></a><a id="43469" href="Coherence.Hypotheses.html#43469" class="Field">t</a><a id="43470" class="Symbol">}</a> <a id="43472" class="Symbol">:</a> <a id="43474" class="Symbol">_</a>
    <a id="43480" class="Symbol">{</a><a id="H₁₆-args.ds"></a><a id="43481" href="Coherence.Hypotheses.html#43481" class="Field">ds</a><a id="43483" class="Symbol">}</a> <a id="43485" class="Symbol">:</a> <a id="43487" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a>
    <a id="H₁₆-args.j"></a><a id="43503" href="Coherence.Hypotheses.html#43503" class="Field">j</a> <a id="43505" class="Symbol">:</a> <a id="43507" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="43513" href="Coherence.Hypotheses.html#43481" class="Field">ds</a>
    <a id="43520" class="Comment">-- Hypotheses from [DEP-AuthDestroy]</a>
    <a id="H₁₆-args.fresh-y"></a><a id="43561" href="Coherence.Hypotheses.html#43561" class="Field">fresh-y</a> <a id="43569" class="Symbol">:</a> <a id="43571" href="Coherence.Hypotheses.html#43464" class="Field">y</a> <a id="43573" href="Data.List.Membership.Setoid.html#945" class="Function Operator">∉</a> <a id="43575" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="43579" href="Coherence.Hypotheses.html#43466" class="Field">Γ₀</a>
  <a id="H₁₆-args.k"></a><a id="43584" href="Coherence.Hypotheses.html#43584" class="Function">k</a>  <a id="43587" class="Symbol">=</a> <a id="43589" href="Data.List.Base.html#4873" class="Function">length</a> <a id="43596" href="Coherence.Hypotheses.html#43481" class="Field">ds</a>
  <a id="H₁₆-args.A"></a><a id="43601" href="Coherence.Hypotheses.html#43601" class="Function">A</a>  <a id="43604" class="Symbol">=</a> <a id="43606" class="Symbol">(</a><a id="43607" href="Coherence.Hypotheses.html#43481" class="Field">ds</a> <a id="43610" href="Prelude.Lists.Indexed.html#650" class="Function Operator">‼</a> <a id="43612" href="Coherence.Hypotheses.html#43503" class="Field">j</a><a id="43613" class="Symbol">)</a> <a id="43615" class="Symbol">.</a><a id="43616" href="Agda.Builtin.Sigma.html#234" class="Field">proj₁</a>
  <a id="H₁₆-args.xs"></a><a id="43624" href="Coherence.Hypotheses.html#43624" class="Function">xs</a> <a id="43627" class="Symbol">=</a> <a id="43629" href="Data.List.Base.html#1553" class="Function">map</a> <a id="43633" class="Symbol">(</a><a id="43634" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="43640" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="43642" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="43647" class="Symbol">)</a> <a id="43649" href="Coherence.Hypotheses.html#43481" class="Field">ds</a>
  <a id="H₁₆-args.Δ"></a><a id="43654" href="Coherence.Hypotheses.html#43654" class="Function">Δ</a>  <a id="43657" class="Symbol">=</a> <a id="43659" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="43662" href="Data.List.Base.html#1553" class="Function">map</a> <a id="43666" class="Symbol">(</a><a id="43667" href="Prelude.Nary.html#712" class="Function">uncurry₃</a> <a id="43676" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨_has_⟩at_</a><a id="43686" class="Symbol">)</a> <a id="43688" href="Coherence.Hypotheses.html#43481" class="Field">ds</a>
  <a id="H₁₆-args.j′"></a><a id="43693" href="Coherence.Hypotheses.html#43693" class="Function">j′</a> <a id="43696" class="Symbol">=</a> <a id="43698" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="43704" href="Coherence.Hypotheses.html#43624" class="Function">xs</a> <a id="43707" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="43709" href="Prelude.Lists.Indexed.html#9518" class="Function">‼-map</a> <a id="43715" class="Symbol">{</a><a id="43716" class="Argument">xs</a> <a id="43719" class="Symbol">=</a> <a id="43721" href="Coherence.Hypotheses.html#43481" class="Field">ds</a><a id="43723" class="Symbol">}</a> <a id="43725" href="Coherence.Hypotheses.html#43503" class="Field">j</a>
  <a id="43729" class="Keyword">open</a> <a id="43734" href="Coherence.Hypotheses.html#1754" class="Module">Transition</a>
    <a id="43749" class="Symbol">(</a> <a id="43751" class="Symbol">(</a><a id="43752" href="Coherence.Hypotheses.html#43654" class="Function">Δ</a> <a id="43754" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="43756" href="Coherence.Hypotheses.html#43466" class="Field">Γ₀</a><a id="43758" class="Symbol">)</a> <a id="43760" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="43762" href="Coherence.Hypotheses.html#43469" class="Field">t</a>
      <a id="43770" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">——</a> <a id="43773" href="BitML.Semantics.Label.html#856" class="InductiveConstructor Operator">auth-destroy⦅</a> <a id="43787" href="Coherence.Hypotheses.html#43601" class="Function">A</a> <a id="43789" href="BitML.Semantics.Label.html#856" class="InductiveConstructor Operator">,</a> <a id="43791" href="Coherence.Hypotheses.html#43624" class="Function">xs</a> <a id="43794" href="BitML.Semantics.Label.html#856" class="InductiveConstructor Operator">,</a> <a id="43796" href="Coherence.Hypotheses.html#43693" class="Function">j′</a> <a id="43799" href="BitML.Semantics.Label.html#856" class="InductiveConstructor Operator">⦆</a> <a id="43801" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">—→</a>
      <a id="43810" class="Symbol">(</a><a id="43811" href="Coherence.Hypotheses.html#43654" class="Function">Δ</a> <a id="43813" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="43815" href="Coherence.Hypotheses.html#43601" class="Function">A</a> <a id="43817" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="43823" href="Coherence.Hypotheses.html#43624" class="Function">xs</a> <a id="43826" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="43828" href="Coherence.Hypotheses.html#43693" class="Function">j′</a> <a id="43831" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="43835" href="Coherence.Hypotheses.html#43464" class="Field">y</a> <a id="43837" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="43839" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="43841" href="Coherence.Hypotheses.html#43466" class="Field">Γ₀</a><a id="43843" class="Symbol">)</a> <a id="43845" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="43847" href="Coherence.Hypotheses.html#43469" class="Field">t</a>
    <a id="43853" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⊣</a> <a id="43855" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="43859" class="Symbol">(</a><a id="43860" href="BitML.Semantics.InferenceRules.html#2530" class="InductiveConstructor">[DEP-AuthDestroy]</a> <a id="43878" href="Coherence.Hypotheses.html#43561" class="Field">fresh-y</a><a id="43885" class="Symbol">)</a>
    <a id="43891" class="Symbol">)</a> <a id="43893" class="Keyword">public</a> <a id="43900" class="Keyword">hiding</a> <a id="43907" class="Symbol">(</a><a id="43908" href="Coherence.Hypotheses.html#1831" class="Field">t</a><a id="43909" class="Symbol">)</a>
  <a id="43913" class="Keyword">field</a> <a id="H₁₆-args.𝕙r"></a><a id="43919" href="Coherence.Hypotheses.html#43919" class="Field">𝕙r</a> <a id="43922" class="Symbol">:</a> <a id="43924" href="Coherence.Hypotheses.html#1970" class="Record">ℍ-Run</a> <a id="43930" href="Coherence.Hypotheses.html#1941" class="Function">Γ→</a>
  <a id="43935" class="Keyword">open</a> <a id="43940" href="Coherence.Hypotheses.html#1970" class="Module">ℍ-Run</a> <a id="43946" href="Coherence.Hypotheses.html#43919" class="Field">𝕙r</a> <a id="43949" class="Keyword">public</a>

<a id="43957" class="Keyword">module</a> <a id="43964" href="Coherence.Hypotheses.html#43964" class="Module">H₁₆</a> <a id="43968" class="Symbol">(</a><a id="43969" href="Coherence.Hypotheses.html#43969" class="Bound">⋯</a> <a id="43971" class="Symbol">:</a> <a id="43973" href="Coherence.Hypotheses.html#43412" class="Record">H₁₆-args</a><a id="43981" class="Symbol">)</a> <a id="43983" class="Symbol">(</a><a id="43984" class="Keyword">let</a> <a id="43988" class="Keyword">open</a> <a id="43993" href="Coherence.Hypotheses.html#43412" class="Module">H₁₆-args</a> <a id="44002" href="Coherence.Hypotheses.html#43969" class="Bound">⋯</a><a id="44003" class="Symbol">)</a> <a id="44005" class="Keyword">where</a>
  <a id="44013" class="Comment">-- ** name resolution</a>
  <a id="44037" class="Keyword">abstract</a>
    <a id="44050" href="Coherence.Hypotheses.html#44050" class="Function">xs↦</a> <a id="44054" class="Symbol">:</a> <a id="44056" href="Coherence.Hypotheses.html#43624" class="Function">xs</a> <a id="44059" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="44061" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
    <a id="44074" href="Coherence.Hypotheses.html#44050" class="Function">xs↦</a> <a id="44078" class="Symbol">=</a> <a id="44080" href="SymbolicModel.Mappings.html#952" class="Function">txout′</a> <a id="44087" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="44089" href="Coherence.Hypotheses.html#44111" class="Function">xs⊆</a>
      <a id="44099" class="Keyword">where</a>
      <a id="44111" href="Coherence.Hypotheses.html#44111" class="Function">xs⊆</a> <a id="44115" class="Symbol">:</a> <a id="44117" href="Coherence.Hypotheses.html#43624" class="Function">xs</a> <a id="44120" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="44122" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="44126" href="Coherence.Hypotheses.html#2411" class="Function">R</a>
      <a id="44134" href="Coherence.Hypotheses.html#44111" class="Function">xs⊆</a> <a id="44138" class="Symbol">=</a> <a id="44140" href="Relation.Binary.Reasoning.Base.Double.html#2222" class="Function Operator">begin</a>
        <a id="44154" href="Coherence.Hypotheses.html#43624" class="Function">xs</a>           <a id="44167" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="44170" href="BitML.Semantics.Configurations.Helpers.html#16204" class="Function">namesʳ-∥map-authDestroy</a> <a id="44194" href="Coherence.Hypotheses.html#43481" class="Field">ds</a> <a id="44197" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="44207" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="44211" href="Coherence.Hypotheses.html#43654" class="Function">Δ</a>        <a id="44220" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="44223" href="Prelude.Lists.MapMaybe.html#9263" class="Function">mapMaybe-⊆</a> <a id="44234" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="44241" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="44243" href="BitML.Semantics.Configurations.Helpers.html#7992" class="Function">∈-collect-++⁺ˡ</a> <a id="44258" href="Coherence.Hypotheses.html#43654" class="Function">Δ</a> <a id="44260" href="Coherence.Hypotheses.html#43466" class="Field">Γ₀</a> <a id="44263" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="44273" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="44277" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>        <a id="44286" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="44289" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="44304" class="Symbol">_</a> <a id="44306" class="Symbol">{</a><a id="44307" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="44308" class="Symbol">}{</a><a id="44310" href="Coherence.Hypotheses.html#2411" class="Function">R</a> <a id="44312" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="44316" class="Symbol">}</a> <a id="44318" class="Symbol">(</a><a id="44319" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="44325" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="44327" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="44333" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a><a id="44335" class="Symbol">)</a> <a id="44337" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="44347" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="44351" class="Symbol">(</a><a id="44352" href="Coherence.Hypotheses.html#2411" class="Function">R</a> <a id="44354" class="Symbol">.</a><a id="44355" href="Prelude.Traces.html#568" class="Field">end</a><a id="44358" class="Symbol">)</a> <a id="44360" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="44363" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="44376" href="Coherence.Hypotheses.html#2411" class="Function">R</a> <a id="44378" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="44388" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="44392" href="Coherence.Hypotheses.html#2411" class="Function">R</a>        <a id="44401" href="Relation.Binary.Reasoning.Base.Double.html#3656" class="Function Operator">∎</a> <a id="44403" class="Keyword">where</a> <a id="44409" class="Keyword">open</a> <a id="44414" href="Data.List.Relation.Binary.Subset.Propositional.Properties.html#3760" class="Module">⊆-Reasoning</a> <a id="44426" href="BitML.BasicTypes.html#303" class="Function">Secret</a>
  <a id="44435" class="Comment">--</a>
  <a id="44440" class="Keyword">private</a>
    <a id="44452" href="Coherence.Hypotheses.html#44452" class="Function">names≡</a> <a id="44459" class="Symbol">:</a> <a id="44461" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="44464" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="44467" href="BitML.Contracts.Collections.html#4018" class="Function">names</a> <a id="44473" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="44475" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>
    <a id="44481" href="Coherence.Hypotheses.html#44452" class="Function">names≡</a> <a id="44488" class="Keyword">rewrite</a> <a id="44496" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="44515" class="Symbol">{</a><a id="44516" class="Argument">X</a> <a id="44518" class="Symbol">=</a> <a id="44520" href="BitML.BasicTypes.html#375" class="Function">Name</a><a id="44524" class="Symbol">}</a> <a id="44526" class="Symbol">(</a><a id="44527" href="Coherence.Hypotheses.html#43654" class="Function">Δ</a> <a id="44529" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="44531" href="Coherence.Hypotheses.html#43601" class="Function">A</a> <a id="44533" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="44539" href="Coherence.Hypotheses.html#43624" class="Function">xs</a> <a id="44542" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="44544" href="Coherence.Hypotheses.html#43693" class="Function">j′</a> <a id="44547" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="44551" href="Coherence.Hypotheses.html#43464" class="Field">y</a> <a id="44553" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="44554" class="Symbol">)</a> <a id="44556" href="Coherence.Hypotheses.html#43466" class="Field">Γ₀</a>
                <a id="44575" class="Symbol">|</a> <a id="44577" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="44596" class="Symbol">{</a><a id="44597" class="Argument">X</a> <a id="44599" class="Symbol">=</a> <a id="44601" href="BitML.BasicTypes.html#375" class="Function">Name</a><a id="44605" class="Symbol">}</a> <a id="44607" href="Coherence.Hypotheses.html#43654" class="Function">Δ</a> <a id="44609" class="Symbol">(</a><a id="44610" href="Coherence.Hypotheses.html#43601" class="Function">A</a> <a id="44612" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="44618" href="Coherence.Hypotheses.html#43624" class="Function">xs</a> <a id="44621" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="44623" href="Coherence.Hypotheses.html#43693" class="Function">j′</a> <a id="44626" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="44630" href="Coherence.Hypotheses.html#43464" class="Field">y</a> <a id="44632" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="44633" class="Symbol">)</a>
                <a id="44651" class="Symbol">|</a> <a id="44653" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="44668" class="Symbol">(</a><a id="44669" href="BitML.Contracts.Collections.html#4018" class="Function">names</a> <a id="44675" href="Coherence.Hypotheses.html#43654" class="Function">Δ</a><a id="44676" class="Symbol">)</a>
                <a id="44694" class="Symbol">=</a> <a id="44696" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="44700" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="44702" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="44721" class="Symbol">{</a><a id="44722" class="Argument">X</a> <a id="44724" class="Symbol">=</a> <a id="44726" href="BitML.BasicTypes.html#375" class="Function">Name</a><a id="44730" class="Symbol">}</a> <a id="44732" href="Coherence.Hypotheses.html#43654" class="Function">Δ</a> <a id="44734" href="Coherence.Hypotheses.html#43466" class="Field">Γ₀</a>

    <a id="44742" href="Coherence.Hypotheses.html#44742" class="Function">ids≡</a> <a id="44747" class="Symbol">:</a>  <a id="44750" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="44753" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="44756" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="44760" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="44762" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>
    <a id="44768" href="Coherence.Hypotheses.html#44742" class="Function">ids≡</a> <a id="44773" class="Symbol">=</a> <a id="44775" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="44780" href="Prelude.Lists.Core.html#2266" class="Function">filter₂</a> <a id="44788" href="Coherence.Hypotheses.html#44452" class="Function">names≡</a>

    <a id="44800" href="Coherence.Hypotheses.html#44800" class="Function">secrets≡</a> <a id="44809" class="Symbol">:</a> <a id="44811" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="44814" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="44817" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="44825" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="44827" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>
    <a id="44833" href="Coherence.Hypotheses.html#44800" class="Function">secrets≡</a> <a id="44842" class="Symbol">=</a> <a id="44844" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="44849" href="Prelude.Lists.Core.html#2207" class="Function">filter₁</a> <a id="44857" href="Coherence.Hypotheses.html#44452" class="Function">names≡</a>

    <a id="44869" href="Coherence.Hypotheses.html#44869" class="Function">ads≡</a> <a id="44874" class="Symbol">:</a> <a id="44876" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="44879" href="Prelude.Lists.Collections.html#1096" class="Function Operator">≡⦅</a> <a id="44882" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="44897" href="Prelude.Lists.Collections.html#1096" class="Function Operator">⦆</a> <a id="44899" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>
    <a id="44905" href="Coherence.Hypotheses.html#44869" class="Function">ads≡</a> <a id="44910" class="Keyword">rewrite</a> <a id="44918" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="44937" class="Symbol">{</a><a id="44938" class="Argument">X</a> <a id="44940" class="Symbol">=</a> <a id="44942" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="44944" class="Symbol">}</a> <a id="44946" class="Symbol">(</a><a id="44947" href="Coherence.Hypotheses.html#43654" class="Function">Δ</a> <a id="44949" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="44951" href="Coherence.Hypotheses.html#43601" class="Function">A</a> <a id="44953" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="44959" href="Coherence.Hypotheses.html#43624" class="Function">xs</a> <a id="44962" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="44964" href="Coherence.Hypotheses.html#43693" class="Function">j′</a> <a id="44967" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="44971" href="Coherence.Hypotheses.html#43464" class="Field">y</a> <a id="44973" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="44974" class="Symbol">)</a> <a id="44976" href="Coherence.Hypotheses.html#43466" class="Field">Γ₀</a>
              <a id="44993" class="Symbol">|</a> <a id="44995" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="45014" class="Symbol">{</a><a id="45015" class="Argument">X</a> <a id="45017" class="Symbol">=</a> <a id="45019" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="45021" class="Symbol">}</a> <a id="45023" href="Coherence.Hypotheses.html#43654" class="Function">Δ</a> <a id="45025" class="Symbol">(</a><a id="45026" href="Coherence.Hypotheses.html#43601" class="Function">A</a> <a id="45028" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="45034" href="Coherence.Hypotheses.html#43624" class="Function">xs</a> <a id="45037" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="45039" href="Coherence.Hypotheses.html#43693" class="Function">j′</a> <a id="45042" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="45046" href="Coherence.Hypotheses.html#43464" class="Field">y</a> <a id="45048" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="45049" class="Symbol">)</a>
              <a id="45065" class="Symbol">|</a> <a id="45067" href="Data.List.Properties.html#5622" class="Function">L.++-identityʳ</a> <a id="45082" class="Symbol">(</a><a id="45083" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="45098" href="Coherence.Hypotheses.html#43654" class="Function">Δ</a><a id="45099" class="Symbol">)</a>
              <a id="45115" class="Symbol">=</a> <a id="45117" href="Relation.Binary.PropositionalEquality.Core.html#1693" class="Function">sym</a> <a id="45121" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="45123" href="BitML.Semantics.Configurations.Helpers.html#7057" class="Function">collectFromBase-++</a> <a id="45142" class="Symbol">{</a><a id="45143" class="Argument">X</a> <a id="45145" class="Symbol">=</a> <a id="45147" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="45149" class="Symbol">}</a> <a id="45151" href="Coherence.Hypotheses.html#43654" class="Function">Δ</a> <a id="45153" href="Coherence.Hypotheses.html#43466" class="Field">Γ₀</a>

    <a id="45161" href="Coherence.Hypotheses.html#45161" class="Function">txout↝</a> <a id="45168" class="Symbol">:</a> <a id="45170" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="45172" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="45175" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="45181" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="45183" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
    <a id="45190" href="Coherence.Hypotheses.html#45161" class="Function">txout↝</a> <a id="45197" class="Symbol">=</a> <a id="45199" href="SymbolicModel.Mappings.html#3609" class="Function Operator">lift</a> <a id="45204" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="45206" href="SymbolicModel.Mappings.html#3609" class="Function Operator">—⟨</a> <a id="45209" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="45213" href="SymbolicModel.Mappings.html#3609" class="Function Operator">⟩—</a> <a id="45216" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="45219" href="SymbolicModel.Mappings.html#3609" class="Function Operator">⊣</a> <a id="45221" href="Coherence.Hypotheses.html#44742" class="Function">ids≡</a>

    <a id="45231" href="Coherence.Hypotheses.html#45231" class="Function">sechash↝</a> <a id="45240" class="Symbol">:</a> <a id="45242" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="45244" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="45247" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="45255" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="45257" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
    <a id="45264" href="Coherence.Hypotheses.html#45231" class="Function">sechash↝</a>  <a id="45274" class="Symbol">=</a> <a id="45276" href="SymbolicModel.Mappings.html#3609" class="Function Operator">lift</a> <a id="45281" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="45283" href="SymbolicModel.Mappings.html#3609" class="Function Operator">—⟨</a> <a id="45286" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="45294" href="SymbolicModel.Mappings.html#3609" class="Function Operator">⟩—</a> <a id="45297" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="45300" href="SymbolicModel.Mappings.html#3609" class="Function Operator">⊣</a> <a id="45302" href="Coherence.Hypotheses.html#44800" class="Function">secrets≡</a>

    <a id="45316" href="Coherence.Hypotheses.html#45316" class="Function">κ↝</a> <a id="45319" class="Symbol">:</a> <a id="45321" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="45323" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="45326" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="45329" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="45331" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
    <a id="45338" href="Coherence.Hypotheses.html#45316" class="Function">κ↝</a> <a id="45341" class="Symbol">=</a> <a id="45343" href="SymbolicModel.Mappings.html#3609" class="Function Operator">lift</a> <a id="45348" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="45350" href="SymbolicModel.Mappings.html#3609" class="Function Operator">—⟨</a> <a id="45353" href="BitML.Semantics.Configurations.Helpers.html#9799" class="Function">advertisements</a> <a id="45368" href="SymbolicModel.Mappings.html#3609" class="Function Operator">⟩—</a> <a id="45371" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="45374" href="SymbolicModel.Mappings.html#3609" class="Function Operator">⊣</a> <a id="45376" href="Coherence.Hypotheses.html#44869" class="Function">ads≡</a>
  <a id="45383" href="Coherence.Hypotheses.html#45383" class="Function">λˢ</a> <a id="45386" class="Symbol">:</a> <a id="45388" href="SymbolicModel.Mappings.html#1063" class="Function">ℾᵗ</a> <a id="45391" href="Coherence.Hypotheses.html#1907" class="Function">Γₜ′</a>
  <a id="45397" href="Coherence.Hypotheses.html#45383" class="Function">λˢ</a> <a id="45400" class="Symbol">=</a> <a id="45402" href="SymbolicModel.Mappings.html#7972" class="Function">LIFTˢ</a> <a id="45408" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="45410" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="45412" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="45415" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="45418" href="Coherence.Hypotheses.html#45161" class="Function">txout↝</a> <a id="45425" href="Coherence.Hypotheses.html#45231" class="Function">sechash↝</a> <a id="45434" href="Coherence.Hypotheses.html#45316" class="Function">κ↝</a>

<a id="45438" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[16]~_⨾_"></a><a id="45443" href="Coherence.Hypotheses.html#45443" class="Datatype Operator">_⨾_⨾_~ℍ[16]~_⨾_</a> <a id="45459" class="Symbol">:</a> <a id="45461" href="Coherence.Hypotheses.html#1614" class="Function">StepRel</a> <a id="45469" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[16]~_⨾_.mkℍ"></a><a id="45477" href="Coherence.Hypotheses.html#45477" class="InductiveConstructor">mkℍ</a> <a id="45481" class="Symbol">:</a> <a id="45483" class="Symbol">∀</a> <a id="45485" class="Symbol">{</a><a id="45486" href="Coherence.Hypotheses.html#45486" class="Bound">h</a> <a id="45488" class="Symbol">:</a> <a id="45490" href="Coherence.Hypotheses.html#43412" class="Record">H₁₆-args</a><a id="45498" class="Symbol">}</a> <a id="45500" class="Symbol">{</a><a id="45501" href="Coherence.Hypotheses.html#45501" class="Bound">B</a><a id="45502" class="Symbol">}</a>
    <a id="45508" class="Symbol">→</a> <a id="45510" class="Keyword">let</a>
        <a id="45522" class="Comment">-- (ii) in Rˢ we find ⟨Bᵢ,vᵢ⟩yᵢ for i ∈ 1..k</a>
        <a id="45575" class="Keyword">open</a> <a id="45580" href="Coherence.Hypotheses.html#43412" class="Module">H₁₆-args</a> <a id="45589" href="Coherence.Hypotheses.html#45486" class="Bound">h</a>

        <a id="45600" class="Comment">-- (vii) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="45660" class="Keyword">open</a> <a id="45665" href="Coherence.Hypotheses.html#43964" class="Module">H₁₆</a> <a id="45669" href="Coherence.Hypotheses.html#45486" class="Bound">h</a> <a id="45671" class="Keyword">using</a> <a id="45677" class="Symbol">(</a><a id="45678" href="Coherence.Hypotheses.html#45383" class="Function">λˢ</a><a id="45680" class="Symbol">;</a> <a id="45682" href="Coherence.Hypotheses.html#44050" class="Function">xs↦</a><a id="45685" class="Symbol">)</a>
      <a id="45693" class="Keyword">in</a>
      <a id="45702" class="Comment">-- (iii) in Rᶜ we find B → ∗ ∶ T</a>
      <a id="45741" class="Comment">--       for some T having txout′(yᵢ) as inputs (+ possibly others)</a>
    <a id="45813" class="Symbol">∀</a> <a id="45815" class="Symbol">(</a><a id="45816" href="Coherence.Hypotheses.html#45816" class="Bound">∃B</a> <a id="45819" class="Symbol">:</a> <a id="45821" href="Data.Product.html#1378" class="Function">∃</a> <a id="45823" class="Symbol">λ</a> <a id="45825" href="Coherence.Hypotheses.html#45825" class="Bound">B</a> <a id="45827" class="Symbol">→</a> <a id="45829" href="Data.Product.html#1378" class="Function">∃</a> <a id="45831" class="Symbol">λ</a> <a id="45833" href="Coherence.Hypotheses.html#45833" class="Bound">T</a>  <a id="45836" class="Symbol">→</a>
         <a id="45847" class="Symbol">(</a><a id="45848" href="Coherence.Hypotheses.html#45825" class="Bound">B</a> <a id="45850" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="45854" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="45861" class="Symbol">(</a><a id="45862" href="Coherence.Hypotheses.html#45833" class="Bound">T</a> <a id="45864" class="Symbol">.</a><a id="45865" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="45871" class="Symbol">.</a><a id="45872" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="45877" class="Symbol">)</a> <a id="45879" href="Data.List.Membership.Setoid.html#896" class="Function Operator">∈</a> <a id="45881" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="45888" href="Coherence.Hypotheses.html#2101" class="Function">Rᶜ</a><a id="45890" class="Symbol">)</a>
       <a id="45899" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="45901" class="Symbol">((</a><a id="45903" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="45911" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="45915" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="45921" href="Coherence.Hypotheses.html#44050" class="Function">xs↦</a><a id="45924" class="Symbol">)</a> <a id="45926" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="45928" href="Data.Vec.Base.html#7447" class="Function">V.toList</a> <a id="45937" class="Symbol">(</a><a id="45938" href="Bitcoin.Tx.Base.html#1401" class="Function">∃inputs</a> <a id="45946" href="Coherence.Hypotheses.html#45833" class="Bound">T</a><a id="45947" class="Symbol">)))</a>
    <a id="45955" class="Symbol">→</a> <a id="45957" class="Keyword">let</a>
        <a id="45969" class="Comment">-- (iv) broadcast transaction T, signed by A</a>
        <a id="46022" class="Symbol">_</a> <a id="46024" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="46026" href="Coherence.Hypotheses.html#46026" class="Bound">T</a> <a id="46028" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="46030" href="Coherence.Hypotheses.html#46030" class="Bound">B∈</a> <a id="46033" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="46035" class="Symbol">_</a> <a id="46037" class="Symbol">=</a> <a id="46039" href="Coherence.Hypotheses.html#45816" class="Bound">∃B</a>
        <a id="46050" href="Coherence.Hypotheses.html#46050" class="Bound">m</a>  <a id="46053" class="Symbol">=</a> <a id="46055" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="46059" class="Symbol">(</a><a id="46060" href="ComputationalModel.KeyPairs.html#225" class="Function">K̂</a> <a id="46063" href="Coherence.Hypotheses.html#43601" class="Function">A</a><a id="46064" class="Symbol">)</a> <a id="46066" href="Coherence.Hypotheses.html#46026" class="Bound">T</a>
        <a id="46076" href="Coherence.Hypotheses.html#46076" class="Bound">λᶜ</a> <a id="46079" class="Symbol">=</a> <a id="46081" href="Coherence.Hypotheses.html#45501" class="Bound">B</a> <a id="46083" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="46087" href="Coherence.Hypotheses.html#46050" class="Bound">m</a>
      <a id="46095" class="Keyword">in</a>

      <a id="46105" class="Comment">-- (v) λᶜ is the first broadcast of m in Rᶜ after the first broadcast of T</a>
    <a id="46184" href="Prelude.InferenceRules.html#56141" class="Function Operator">∙</a> <a id="46186" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="46190" class="Symbol">(λ</a> <a id="46193" href="Coherence.Hypotheses.html#46193" class="Bound">l</a> <a id="46195" class="Symbol">→</a> <a id="46197" class="Symbol">∀</a> <a id="46199" href="Coherence.Hypotheses.html#46199" class="Bound">B</a> <a id="46201" class="Symbol">→</a> <a id="46203" href="Coherence.Hypotheses.html#46193" class="Bound">l</a> <a id="46205" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">≢</a> <a id="46207" href="Coherence.Hypotheses.html#46199" class="Bound">B</a> <a id="46209" href="ComputationalModel.Run.html#957" class="InductiveConstructor Operator">→∗∶</a> <a id="46213" href="Coherence.Hypotheses.html#46050" class="Bound">m</a><a id="46214" class="Symbol">)</a> <a id="46216" class="Symbol">(</a><a id="46217" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="46227" href="Coherence.Hypotheses.html#46030" class="Bound">B∈</a><a id="46229" class="Symbol">)</a>

    <a id="46236" class="Comment">-- (vi) λᶜ does not correspond to any *other* symbolic move</a>
    <a id="46300" class="Comment">-- ∙ (∀ Γₜ′ (λˢ′ : 𝕃 Rˢ Γₜ′)</a>
    <a id="46333" class="Comment">--   → λˢ′ .proj₁ .proj₁ ≢ λˢ .proj₁ .proj₁</a>
    <a id="46381" class="Comment">--   → (Γₜ′ ∷ 𝕣∗ ⊣ λˢ′ ✓) ≁₁₁ (λᶜ ∷ Rᶜ ✓))</a>

      <a id="46431" href="Prelude.InferenceRules.html#12810" class="Function Operator">────────────────────────────────────────────────────</a>
      <a id="46490" href="Coherence.Hypotheses.html#2189" class="Function">Γₜ″</a> <a id="46494" href="Coherence.Hypotheses.html#45443" class="Datatype Operator">⨾</a> <a id="46496" href="Coherence.Hypotheses.html#2128" class="Function">𝕣∗</a> <a id="46499" href="Coherence.Hypotheses.html#45443" class="Datatype Operator">⨾</a> <a id="46501" class="Symbol">(</a><a id="46502" href="Coherence.Hypotheses.html#2275" class="Function">𝕒</a> <a id="46504" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="46506" href="Coherence.Hypotheses.html#45383" class="Function">λˢ</a><a id="46508" class="Symbol">)</a> <a id="46510" href="Coherence.Hypotheses.html#45443" class="Datatype Operator">~ℍ[16]~</a> <a id="46518" href="Coherence.Hypotheses.html#46076" class="Bound">λᶜ</a> <a id="46521" href="Coherence.Hypotheses.html#45443" class="Datatype Operator">⨾</a> <a id="46523" href="Coherence.Hypotheses.html#2101" class="Function">Rᶜ</a>

<a id="46527" class="Comment">-- ** Deposits: destroy</a>
<a id="46551" class="Keyword">record</a> <a id="H₁₇-args"></a><a id="46558" href="Coherence.Hypotheses.html#46558" class="Record">H₁₇-args</a> <a id="46567" class="Symbol">:</a> <a id="46569" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="46574" class="Keyword">where</a>
  <a id="46582" class="Keyword">constructor</a> <a id="mk"></a><a id="46594" href="Coherence.Hypotheses.html#46594" class="InductiveConstructor">mk</a>
  <a id="46599" class="Keyword">field</a>
    <a id="46609" class="Symbol">{</a><a id="H₁₇-args.Γ₀"></a><a id="46610" href="Coherence.Hypotheses.html#46610" class="Field">Γ₀</a> <a id="H₁₇-args.y"></a><a id="46613" href="Coherence.Hypotheses.html#46613" class="Field">y</a> <a id="H₁₇-args.t"></a><a id="46615" href="Coherence.Hypotheses.html#46615" class="Field">t</a><a id="46616" class="Symbol">}</a> <a id="46618" class="Symbol">:</a> <a id="46620" class="Symbol">_</a>
    <a id="46626" class="Symbol">{</a><a id="H₁₇-args.ds"></a><a id="46627" href="Coherence.Hypotheses.html#46627" class="Field">ds</a><a id="46629" class="Symbol">}</a> <a id="46631" class="Symbol">:</a> <a id="46633" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a>
    <a id="H₁₇-args.j"></a><a id="46649" href="Coherence.Hypotheses.html#46649" class="Field">j</a> <a id="46651" class="Symbol">:</a> <a id="46653" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="46659" href="Coherence.Hypotheses.html#46627" class="Field">ds</a>
  <a id="H₁₇-args.xs"></a><a id="46664" href="Coherence.Hypotheses.html#46664" class="Function">xs</a> <a id="46667" class="Symbol">=</a> <a id="46669" href="Data.List.Base.html#1553" class="Function">map</a> <a id="46673" class="Symbol">(</a><a id="46674" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="46680" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="46682" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="46687" class="Symbol">)</a> <a id="46689" href="Coherence.Hypotheses.html#46627" class="Field">ds</a>
  <a id="H₁₇-args.Δ"></a><a id="46694" href="Coherence.Hypotheses.html#46694" class="Function">Δ</a>  <a id="46697" class="Symbol">=</a> <a id="46699" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="46702" href="Function.Base.html#1563" class="Function">flip</a> <a id="46707" href="Data.List.Base.html#1553" class="Function">map</a> <a id="46711" class="Symbol">(</a><a id="46712" href="Prelude.Lists.Indexed.html#1568" class="Function">enumerate</a> <a id="46722" href="Coherence.Hypotheses.html#46627" class="Field">ds</a><a id="46724" class="Symbol">)</a> <a id="46726" class="Symbol">(λ{</a> <a id="46730" class="Symbol">(</a><a id="46731" href="Coherence.Hypotheses.html#46731" class="Bound">i</a> <a id="46733" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="46735" href="Coherence.Hypotheses.html#46735" class="Bound">Aᵢ</a> <a id="46738" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="46740" href="Coherence.Hypotheses.html#46740" class="Bound">vᵢ</a> <a id="46743" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="46745" href="Coherence.Hypotheses.html#46745" class="Bound">xᵢ</a><a id="46747" class="Symbol">)</a> <a id="46749" class="Symbol">→</a>
          <a id="46761" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟨</a> <a id="46763" href="Coherence.Hypotheses.html#46735" class="Bound">Aᵢ</a> <a id="46766" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="46770" href="Coherence.Hypotheses.html#46740" class="Bound">vᵢ</a> <a id="46773" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">⟩at</a> <a id="46777" href="Coherence.Hypotheses.html#46745" class="Bound">xᵢ</a> <a id="46780" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="46782" href="Coherence.Hypotheses.html#46735" class="Bound">Aᵢ</a> <a id="46785" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="46791" href="Coherence.Hypotheses.html#46664" class="Function">xs</a> <a id="46794" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="46796" href="Prelude.Lists.Indexed.html#9518" class="Function">‼-map</a> <a id="46802" class="Symbol">{</a><a id="46803" class="Argument">xs</a> <a id="46806" class="Symbol">=</a> <a id="46808" href="Coherence.Hypotheses.html#46627" class="Field">ds</a><a id="46810" class="Symbol">}</a> <a id="46812" href="Coherence.Hypotheses.html#46731" class="Bound">i</a> <a id="46814" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">▷ᵈˢ</a> <a id="46818" href="Coherence.Hypotheses.html#46613" class="Field">y</a> <a id="46820" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="46822" class="Symbol">})</a>
  <a id="46827" class="Keyword">open</a> <a id="46832" href="Coherence.Hypotheses.html#1754" class="Module">Transition</a>
    <a id="46847" class="Symbol">(</a> <a id="46849" class="Symbol">(</a><a id="46850" href="Coherence.Hypotheses.html#46694" class="Function">Δ</a> <a id="46852" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">∣</a> <a id="46854" href="Coherence.Hypotheses.html#46610" class="Field">Γ₀</a><a id="46856" class="Symbol">)</a> <a id="46858" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="46860" href="Coherence.Hypotheses.html#46615" class="Field">t</a>
      <a id="46868" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">——</a> <a id="46871" href="BitML.Semantics.Label.html#933" class="InductiveConstructor Operator">destroy⦅</a> <a id="46880" href="Coherence.Hypotheses.html#46664" class="Function">xs</a> <a id="46883" href="BitML.Semantics.Label.html#933" class="InductiveConstructor Operator">⦆</a> <a id="46885" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">—→</a>
      <a id="46894" href="Coherence.Hypotheses.html#46610" class="Field">Γ₀</a> <a id="46897" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="46899" href="Coherence.Hypotheses.html#46615" class="Field">t</a>
    <a id="46905" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⊣</a> <a id="46907" href="BitML.Semantics.DecidableInference.html#5725" class="Function">Act</a> <a id="46911" href="BitML.Semantics.InferenceRules.html#2960" class="InductiveConstructor">[DEP-Destroy]</a>
    <a id="46929" class="Symbol">)</a> <a id="46931" class="Keyword">public</a> <a id="46938" class="Keyword">hiding</a> <a id="46945" class="Symbol">(</a><a id="46946" href="Coherence.Hypotheses.html#1831" class="Field">t</a><a id="46947" class="Symbol">)</a>
  <a id="46951" class="Keyword">field</a> <a id="H₁₇-args.𝕙r"></a><a id="46957" href="Coherence.Hypotheses.html#46957" class="Field">𝕙r</a> <a id="46960" class="Symbol">:</a> <a id="46962" href="Coherence.Hypotheses.html#1970" class="Record">ℍ-Run</a> <a id="46968" href="Coherence.Hypotheses.html#1941" class="Function">Γ→</a>
  <a id="46973" class="Keyword">open</a> <a id="46978" href="Coherence.Hypotheses.html#1970" class="Module">ℍ-Run</a> <a id="46984" href="Coherence.Hypotheses.html#46957" class="Field">𝕙r</a> <a id="46987" class="Keyword">public</a>

<a id="46995" class="Keyword">module</a> <a id="47002" href="Coherence.Hypotheses.html#47002" class="Module">H₁₇</a> <a id="47006" class="Symbol">(</a><a id="47007" href="Coherence.Hypotheses.html#47007" class="Bound">⋯</a> <a id="47009" class="Symbol">:</a> <a id="47011" href="Coherence.Hypotheses.html#46558" class="Record">H₁₇-args</a><a id="47019" class="Symbol">)</a> <a id="47021" class="Symbol">(</a><a id="47022" class="Keyword">let</a> <a id="47026" class="Keyword">open</a> <a id="47031" href="Coherence.Hypotheses.html#46558" class="Module">H₁₇-args</a> <a id="47040" href="Coherence.Hypotheses.html#47007" class="Bound">⋯</a><a id="47041" class="Symbol">)</a> <a id="47043" class="Keyword">where</a>
  <a id="47051" class="Comment">-- ** name resolution</a>
  <a id="47075" class="Keyword">abstract</a>
    <a id="47088" href="Coherence.Hypotheses.html#47088" class="Function">xs↦</a> <a id="47092" class="Symbol">:</a> <a id="47094" href="Coherence.Hypotheses.html#46664" class="Function">xs</a> <a id="47097" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="47099" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
    <a id="47112" href="Coherence.Hypotheses.html#47088" class="Function">xs↦</a> <a id="47116" class="Symbol">=</a> <a id="47118" href="SymbolicModel.Mappings.html#952" class="Function">txout′</a> <a id="47125" href="Function.Base.html#1040" class="Function Operator">∘</a> <a id="47127" href="Coherence.Hypotheses.html#47149" class="Function">xs⊆</a>
      <a id="47137" class="Keyword">where</a>
      <a id="47149" href="Coherence.Hypotheses.html#47149" class="Function">xs⊆</a> <a id="47153" class="Symbol">:</a> <a id="47155" href="Coherence.Hypotheses.html#46664" class="Function">xs</a> <a id="47158" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="47160" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="47164" href="Coherence.Hypotheses.html#2411" class="Function">R</a>
      <a id="47172" href="Coherence.Hypotheses.html#47149" class="Function">xs⊆</a> <a id="47176" class="Symbol">=</a> <a id="47178" href="Relation.Binary.Reasoning.Base.Double.html#2222" class="Function Operator">begin</a>
        <a id="47192" href="Coherence.Hypotheses.html#46664" class="Function">xs</a>           <a id="47205" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="47208" href="BitML.Semantics.Configurations.Helpers.html#17967" class="Function">namesʳ-∥map-destroy</a> <a id="47228" href="Coherence.Hypotheses.html#46627" class="Field">ds</a> <a id="47231" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="47241" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="47245" href="Coherence.Hypotheses.html#46694" class="Function">Δ</a>        <a id="47254" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="47257" href="Prelude.Lists.MapMaybe.html#9263" class="Function">mapMaybe-⊆</a> <a id="47268" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="47275" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="47277" href="BitML.Semantics.Configurations.Helpers.html#7992" class="Function">∈-collect-++⁺ˡ</a> <a id="47292" href="Coherence.Hypotheses.html#46694" class="Function">Δ</a> <a id="47294" href="Coherence.Hypotheses.html#46610" class="Field">Γ₀</a> <a id="47297" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="47307" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="47311" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>        <a id="47320" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="47323" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">∈namesʳ-resp-≈</a> <a id="47338" class="Symbol">_</a> <a id="47340" class="Symbol">{</a><a id="47341" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="47342" class="Symbol">}{</a><a id="47344" href="Coherence.Hypotheses.html#2411" class="Function">R</a> <a id="47346" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="47350" class="Symbol">}</a> <a id="47352" class="Symbol">(</a><a id="47353" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="47359" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="47361" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a> <a id="47367" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a><a id="47369" class="Symbol">)</a> <a id="47371" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="47381" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="47385" class="Symbol">(</a><a id="47386" href="Coherence.Hypotheses.html#2411" class="Function">R</a> <a id="47388" class="Symbol">.</a><a id="47389" href="Prelude.Traces.html#568" class="Field">end</a><a id="47392" class="Symbol">)</a> <a id="47394" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⊆⟨</a> <a id="47397" href="SymbolicModel.Run.Collections.html#2779" class="Function">namesʳ⦅end⦆⊆</a> <a id="47410" href="Coherence.Hypotheses.html#2411" class="Function">R</a> <a id="47412" href="Data.List.Relation.Binary.Subset.Setoid.Properties.html#3858" class="Function">⟩</a>
        <a id="47422" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="47426" href="Coherence.Hypotheses.html#2411" class="Function">R</a>        <a id="47435" href="Relation.Binary.Reasoning.Base.Double.html#3656" class="Function Operator">∎</a> <a id="47437" class="Keyword">where</a> <a id="47443" class="Keyword">open</a> <a id="47448" href="Data.List.Relation.Binary.Subset.Propositional.Properties.html#3760" class="Module">⊆-Reasoning</a> <a id="47460" href="BitML.BasicTypes.html#303" class="Function">Secret</a>
  <a id="47469" class="Comment">--</a>
  <a id="47474" class="Keyword">private</a>
    <a id="47486" href="Coherence.Hypotheses.html#47486" class="Function">secrets≡</a> <a id="47495" class="Symbol">:</a> <a id="47497" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="47505" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="47507" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="47509" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="47517" href="Coherence.Hypotheses.html#46694" class="Function">Δ</a> <a id="47519" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="47522" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="47530" href="Coherence.Hypotheses.html#46610" class="Field">Γ₀</a>
    <a id="47537" href="Coherence.Hypotheses.html#47486" class="Function">secrets≡</a> <a id="47546" class="Symbol">=</a> <a id="47548" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="47576" href="Data.Sum.html#755" class="Function">isInj₁</a> <a id="47583" href="Coherence.Hypotheses.html#46694" class="Function">Δ</a> <a id="47585" href="Coherence.Hypotheses.html#46610" class="Field">Γ₀</a>

    <a id="47593" href="Coherence.Hypotheses.html#47593" class="Function">ids≡</a> <a id="47598" class="Symbol">:</a> <a id="47600" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="47604" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="47606" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="47608" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="47612" href="Coherence.Hypotheses.html#46694" class="Function">Δ</a> <a id="47614" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="47617" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="47621" href="Coherence.Hypotheses.html#46610" class="Field">Γ₀</a>
    <a id="47628" href="Coherence.Hypotheses.html#47593" class="Function">ids≡</a> <a id="47633" class="Symbol">=</a> <a id="47635" href="BitML.Semantics.Configurations.Helpers.html#7289" class="Function">mapMaybe∘collectFromBase-++</a> <a id="47663" href="Data.Sum.html#838" class="Function">isInj₂</a> <a id="47670" href="Coherence.Hypotheses.html#46694" class="Function">Δ</a> <a id="47672" href="Coherence.Hypotheses.html#46610" class="Field">Γ₀</a>

    <a id="47680" href="Coherence.Hypotheses.html#47680" class="Function">txout↝</a> <a id="47687" class="Symbol">:</a> <a id="47689" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="47691" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="47694" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="47700" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="47702" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
    <a id="47709" href="Coherence.Hypotheses.html#47680" class="Function">txout↝</a> <a id="47716" href="Coherence.Hypotheses.html#47716" class="Bound">txout′</a> <a id="47723" class="Keyword">rewrite</a> <a id="47731" href="Coherence.Hypotheses.html#47593" class="Function">ids≡</a> <a id="47736" class="Symbol">=</a> <a id="47738" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="47747" href="Coherence.Hypotheses.html#47716" class="Bound">txout′</a> <a id="47754" class="Symbol">(</a><a id="47755" href="Data.List.Membership.Propositional.Properties.html#4054" class="Function">∈-++⁺ʳ</a> <a id="47762" class="Symbol">_)</a>

    <a id="47770" href="Coherence.Hypotheses.html#47770" class="Function">sechash↝</a> <a id="47779" class="Symbol">:</a> <a id="47781" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="47783" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="47786" href="Compiler.Mappings.html#326" class="Function">Sechash</a> <a id="47794" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="47796" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
    <a id="47803" href="Coherence.Hypotheses.html#47770" class="Function">sechash↝</a> <a id="47812" href="Coherence.Hypotheses.html#47812" class="Bound">sechash′</a> <a id="47821" class="Keyword">rewrite</a> <a id="47829" href="Coherence.Hypotheses.html#47486" class="Function">secrets≡</a> <a id="47838" class="Symbol">=</a> <a id="47840" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="47849" href="Coherence.Hypotheses.html#47812" class="Bound">sechash′</a> <a id="47858" class="Symbol">(</a><a id="47859" href="Data.List.Membership.Propositional.Properties.html#4054" class="Function">∈-++⁺ʳ</a> <a id="47866" class="Symbol">_)</a>

    <a id="47874" href="Coherence.Hypotheses.html#47874" class="Function">κ↝</a> <a id="47877" class="Symbol">:</a> <a id="47879" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="47881" href="Prelude.Lists.Collections.html#1013" class="Function Operator">→⦅</a> <a id="47884" href="Compiler.Mappings.html#504" class="Function">𝕂²</a> <a id="47887" href="Prelude.Lists.Collections.html#1013" class="Function Operator">⦆</a> <a id="47889" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
    <a id="47896" href="Coherence.Hypotheses.html#47874" class="Function">κ↝</a> <a id="47899" href="Coherence.Hypotheses.html#47899" class="Bound">κ′</a> <a id="47902" class="Symbol">=</a> <a id="47904" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-↦</a> <a id="47913" href="Coherence.Hypotheses.html#47899" class="Bound">κ′</a> <a id="47916" class="Symbol">(</a><a id="47917" href="BitML.Semantics.Configurations.Helpers.html#8196" class="Function">∈-collect-++⁺ʳ</a> <a id="47932" href="Coherence.Hypotheses.html#46694" class="Function">Δ</a> <a id="47934" href="Coherence.Hypotheses.html#46610" class="Field">Γ₀</a><a id="47936" class="Symbol">)</a>

  <a id="47941" href="Coherence.Hypotheses.html#47941" class="Function">λˢ</a> <a id="47944" class="Symbol">:</a> <a id="47946" href="SymbolicModel.Mappings.html#1063" class="Function">ℾᵗ</a> <a id="47949" href="Coherence.Hypotheses.html#1907" class="Function">Γₜ′</a>
  <a id="47955" href="Coherence.Hypotheses.html#47941" class="Function">λˢ</a> <a id="47958" class="Symbol">=</a> <a id="47960" href="SymbolicModel.Mappings.html#7972" class="Function">LIFTˢ</a> <a id="47966" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="47968" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a> <a id="47970" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="47973" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="47976" href="Coherence.Hypotheses.html#47680" class="Function">txout↝</a> <a id="47983" href="Coherence.Hypotheses.html#47770" class="Function">sechash↝</a> <a id="47992" href="Coherence.Hypotheses.html#47874" class="Function">κ↝</a>
  <a id="47997" class="Keyword">private</a>
    <a id="48009" href="Coherence.Hypotheses.html#48009" class="Function">𝕣′</a> <a id="48012" class="Symbol">:</a> <a id="48014" href="SymbolicModel.Mappings.html#872" class="Function">ℝ</a> <a id="48016" href="Coherence.Hypotheses.html#2419" class="Function">R′</a>
    <a id="48023" href="Coherence.Hypotheses.html#48009" class="Function">𝕣′</a> <a id="48026" class="Symbol">=</a> <a id="48028" href="SymbolicModel.Mappings.html#5769" class="Function">ℝ-step</a> <a id="48035" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="48037" class="Symbol">(</a><a id="48038" href="Coherence.Hypotheses.html#2275" class="Function">𝕒</a> <a id="48040" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="48042" href="Coherence.Hypotheses.html#47941" class="Function">λˢ</a><a id="48044" class="Symbol">)</a>
  <a id="48048" class="Keyword">abstract</a>
    <a id="48061" href="Coherence.Hypotheses.html#48061" class="Function">value-preserving⇒</a> <a id="48079" class="Symbol">:</a>
      <a id="48087" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="48104" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a>
      <a id="48112" href="Prelude.InferenceRules.html#14163" class="Function Operator">───────────────────</a>
      <a id="48138" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="48155" href="Coherence.Hypotheses.html#48009" class="Function">𝕣′</a>
    <a id="48162" href="Coherence.Hypotheses.html#48061" class="Function">value-preserving⇒</a> <a id="48180" href="Coherence.Hypotheses.html#48180" class="Bound">pv-txout</a> <a id="48189" class="Symbol">=</a> <a id="48191" href="Coherence.Hypotheses.html#48968" class="Function">pv-txout′</a>
      <a id="48207" class="Keyword">where</a>
        <a id="48221" class="Keyword">open</a> <a id="48226" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

        <a id="48247" href="Coherence.Hypotheses.html#48247" class="Function">txoutΓ</a> <a id="48254" class="Symbol">:</a> <a id="48256" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="48262" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a>
        <a id="48272" href="Coherence.Hypotheses.html#48247" class="Function">txoutΓ</a> <a id="48279" class="Symbol">=</a> <a id="48281" href="SymbolicModel.Mappings.html#1931" class="Function">Txout≈</a> <a id="48288" class="Symbol">{</a><a id="48289" href="Coherence.Hypotheses.html#2411" class="Function">R</a> <a id="48291" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="48295" class="Symbol">}{</a><a id="48297" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="48298" class="Symbol">}</a> <a id="48300" class="Symbol">(</a><a id="48301" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="48304" class="Symbol">.</a><a id="48305" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="48310" class="Symbol">)</a> <a id="48312" class="Symbol">(</a><a id="48313" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="48315" href="SymbolicModel.Mappings.html#8977" class="Function Operator">∙txoutEnd_</a><a id="48325" class="Symbol">)</a>

        <a id="48336" href="Coherence.Hypotheses.html#48336" class="Function">pv-txoutΓ</a> <a id="48346" class="Symbol">:</a> <a id="48348" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="48364" class="Symbol">{</a><a id="48365" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="48366" class="Symbol">}</a> <a id="48368" href="Coherence.Hypotheses.html#48247" class="Function">txoutΓ</a>
        <a id="48383" href="Coherence.Hypotheses.html#48336" class="Function">pv-txoutΓ</a> <a id="48393" class="Symbol">=</a>
          <a id="48405" href="SymbolicModel.ValuePreservation.html#2490" class="Function">ValuePreserving-Txout≈</a> <a id="48428" class="Symbol">{</a><a id="48429" href="Coherence.Hypotheses.html#2411" class="Function">R</a> <a id="48431" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="48435" class="Symbol">}{</a><a id="48437" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="48438" class="Symbol">}</a> <a id="48440" class="Symbol">(</a><a id="48441" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="48444" class="Symbol">.</a><a id="48445" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="48450" class="Symbol">)</a> <a id="48452" class="Symbol">(</a><a id="48453" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="48455" href="SymbolicModel.Mappings.html#8977" class="Function Operator">∙txoutEnd_</a><a id="48465" class="Symbol">)</a> <a id="48467" href="Coherence.Hypotheses.html#48180" class="Bound">pv-txout</a>

        <a id="48485" class="Keyword">postulate</a> <a id="48495" href="Coherence.Hypotheses.html#48495" class="Postulate">pv↝</a> <a id="48499" class="Symbol">:</a> <a id="48501" href="SymbolicModel.ValuePreservation.html#3214" class="Function">ValuePreserving↝</a> <a id="48518" class="Symbol">{</a><a id="48519" href="Coherence.Hypotheses.html#1818" class="Function">Γ</a><a id="48520" class="Symbol">}{</a><a id="48522" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a><a id="48524" class="Symbol">}</a> <a id="48526" href="Coherence.Hypotheses.html#47680" class="Function">txout↝</a>
        <a id="48541" class="Comment">-- pv↝ txoutΓ pv-txoutΓ {x} x∈</a>
        <a id="48580" class="Comment">--   = ?</a>

        <a id="48598" href="Coherence.Hypotheses.html#48598" class="Function">txoutΓ′</a> <a id="48606" class="Symbol">:</a> <a id="48608" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="48614" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
        <a id="48625" href="Coherence.Hypotheses.html#48598" class="Function">txoutΓ′</a> <a id="48633" class="Symbol">=</a> <a id="48635" href="Coherence.Hypotheses.html#47680" class="Function">txout↝</a> <a id="48642" href="Coherence.Hypotheses.html#48247" class="Function">txoutΓ</a>

        <a id="48658" href="Coherence.Hypotheses.html#48658" class="Function">pv-txoutΓ′</a> <a id="48669" class="Symbol">:</a> <a id="48671" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="48687" class="Symbol">{</a><a id="48688" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a><a id="48690" class="Symbol">}</a> <a id="48692" href="Coherence.Hypotheses.html#48598" class="Function">txoutΓ′</a>
        <a id="48708" href="Coherence.Hypotheses.html#48658" class="Function">pv-txoutΓ′</a> <a id="48719" class="Symbol">=</a>  <a id="48722" href="Coherence.Hypotheses.html#48495" class="Postulate">pv↝</a> <a id="48726" href="Coherence.Hypotheses.html#48247" class="Function">txoutΓ</a> <a id="48733" href="Coherence.Hypotheses.html#48336" class="Function">pv-txoutΓ</a>

        <a id="48752" href="Coherence.Hypotheses.html#48752" class="Function">txoutΓ″</a> <a id="48760" class="Symbol">:</a> <a id="48762" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="48768" href="Coherence.Hypotheses.html#2161" class="Function">Γ″</a>
        <a id="48779" href="Coherence.Hypotheses.html#48752" class="Function">txoutΓ″</a> <a id="48787" class="Symbol">=</a> <a id="48789" href="SymbolicModel.Mappings.html#1931" class="Function">Txout≈</a> <a id="48796" class="Symbol">{</a><a id="48797" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a><a id="48799" class="Symbol">}{</a><a id="48801" href="Coherence.Hypotheses.html#2161" class="Function">Γ″</a><a id="48803" class="Symbol">}</a> <a id="48805" class="Symbol">(</a><a id="48806" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="48812" href="Coherence.Hypotheses.html#2174" class="Function">Γ≈</a><a id="48814" class="Symbol">)</a> <a id="48816" href="Coherence.Hypotheses.html#48598" class="Function">txoutΓ′</a>

        <a id="48833" href="Coherence.Hypotheses.html#48833" class="Function">pv-txoutΓ″</a> <a id="48844" class="Symbol">:</a> <a id="48846" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="48862" class="Symbol">{</a><a id="48863" href="Coherence.Hypotheses.html#2161" class="Function">Γ″</a><a id="48865" class="Symbol">}</a> <a id="48867" href="Coherence.Hypotheses.html#48752" class="Function">txoutΓ″</a>
        <a id="48883" href="Coherence.Hypotheses.html#48833" class="Function">pv-txoutΓ″</a> <a id="48894" class="Symbol">=</a> <a id="48896" href="SymbolicModel.ValuePreservation.html#2490" class="Function">ValuePreserving-Txout≈</a> <a id="48919" class="Symbol">{</a><a id="48920" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a><a id="48922" class="Symbol">}</a> <a id="48924" class="Symbol">{</a><a id="48925" href="Coherence.Hypotheses.html#2161" class="Function">Γ″</a><a id="48927" class="Symbol">}</a> <a id="48929" class="Symbol">(</a><a id="48930" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="48936" href="Coherence.Hypotheses.html#2174" class="Function">Γ≈</a><a id="48938" class="Symbol">)</a> <a id="48940" href="Coherence.Hypotheses.html#48598" class="Function">txoutΓ′</a> <a id="48948" href="Coherence.Hypotheses.html#48658" class="Function">pv-txoutΓ′</a>

        <a id="48968" href="Coherence.Hypotheses.html#48968" class="Function">pv-txout′</a> <a id="48978" class="Symbol">:</a> <a id="48980" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="48997" href="Coherence.Hypotheses.html#48009" class="Function">𝕣′</a>
        <a id="49008" href="Coherence.Hypotheses.html#48968" class="Function">pv-txout′</a> <a id="49018" href="Coherence.Hypotheses.html#49018" class="Bound">x∈</a> <a id="49021" class="Symbol">=</a>
          <a id="49033" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
            <a id="49051" class="Symbol">(</a><a id="49052" href="Coherence.Hypotheses.html#48009" class="Function">𝕣′</a> <a id="49055" href="SymbolicModel.Mappings.html#8977" class="Function Operator">∙txoutEnd</a> <a id="49065" href="Coherence.Hypotheses.html#49018" class="Bound">x∈</a><a id="49067" class="Symbol">)</a> <a id="49069" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
          <a id="49086" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="49089" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="49094" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">_∙value</a>
                <a id="49118" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="49120" href="SymbolicModel.Properties.html#6895" class="Function">txout∷∘namesʳ⦅end⦆⊆</a> <a id="49140" class="Symbol">{</a><a id="49141" class="Argument">R</a> <a id="49143" class="Symbol">=</a> <a id="49145" href="Coherence.Hypotheses.html#2411" class="Function">R</a><a id="49146" class="Symbol">}</a> <a id="49148" href="Coherence.Hypotheses.html#1941" class="Function">Γ→</a> <a id="49151" class="Symbol">(</a><a id="49152" href="Coherence.Hypotheses.html#2368" class="Function">R≈′</a> <a id="49156" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="49158" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a><a id="49160" class="Symbol">)</a> <a id="49162" href="Coherence.Hypotheses.html#48598" class="Function">txoutΓ′</a> <a id="49170" href="SymbolicModel.Mappings.html#952" class="Function">txout′</a> <a id="49177" class="Symbol">_</a> <a id="49179" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="49193" class="Symbol">(</a><a id="49194" href="Coherence.Hypotheses.html#48752" class="Function">txoutΓ″</a> <a id="49202" href="Coherence.Hypotheses.html#49018" class="Bound">x∈</a><a id="49204" class="Symbol">)</a> <a id="49206" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
          <a id="49223" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="49226" href="Coherence.Hypotheses.html#48833" class="Function">pv-txoutΓ″</a> <a id="49237" class="Symbol">_</a> <a id="49239" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="49253" class="Symbol">(</a><a id="49254" href="Coherence.Hypotheses.html#2161" class="Function">Γ″</a> <a id="49257" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="49259" href="Coherence.Hypotheses.html#49018" class="Bound">x∈</a><a id="49261" class="Symbol">)</a> <a id="49263" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
          <a id="49280" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

<a id="49283" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[17]~_⨾_"></a><a id="49288" href="Coherence.Hypotheses.html#49288" class="Datatype Operator">_⨾_⨾_~ℍ[17]~_⨾_</a> <a id="49304" class="Symbol">:</a> <a id="49306" href="Coherence.Hypotheses.html#1614" class="Function">StepRel</a> <a id="49314" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[17]~_⨾_.mkℍ"></a><a id="49322" href="Coherence.Hypotheses.html#49322" class="InductiveConstructor">mkℍ</a> <a id="49326" class="Symbol">:</a> <a id="49328" class="Symbol">∀</a> <a id="49330" class="Symbol">{</a><a id="49331" href="Coherence.Hypotheses.html#49331" class="Bound">h</a> <a id="49333" class="Symbol">:</a> <a id="49335" href="Coherence.Hypotheses.html#46558" class="Record">H₁₇-args</a><a id="49343" class="Symbol">}</a>
    <a id="49349" class="Symbol">→</a> <a id="49351" class="Keyword">let</a>
        <a id="49363" class="Comment">-- (ii) in Rˢ, α assumes ⟨Aᵢ,vᵢ⟩xᵢ to obtain 0</a>
        <a id="49418" class="Keyword">open</a> <a id="49423" href="Coherence.Hypotheses.html#46558" class="Module">H₁₇-args</a> <a id="49432" href="Coherence.Hypotheses.html#49331" class="Bound">h</a>

        <a id="49443" class="Comment">-- (v) txout = txout′, sechash = sechash′, κ = κ′</a>
        <a id="49501" class="Comment">-- remove {⋯ xᵢ ↦ (Tᵢ,j) ⋯} from txout′</a>
        <a id="49549" class="Keyword">open</a> <a id="49554" href="Coherence.Hypotheses.html#47002" class="Module">H₁₇</a> <a id="49558" href="Coherence.Hypotheses.html#49331" class="Bound">h</a> <a id="49560" class="Keyword">using</a> <a id="49566" class="Symbol">(</a><a id="49567" href="Coherence.Hypotheses.html#47941" class="Function">λˢ</a><a id="49569" class="Symbol">;</a> <a id="49571" href="Coherence.Hypotheses.html#47088" class="Function">xs↦</a><a id="49574" class="Symbol">)</a>
      <a id="49582" class="Keyword">in</a>
    <a id="49589" class="Symbol">∀</a> <a id="49591" class="Symbol">{</a><a id="49592" href="Coherence.Hypotheses.html#49592" class="Bound">i</a> <a id="49594" class="Symbol">:</a> <a id="49596" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="49597" class="Symbol">}</a>
      <a id="49605" class="Symbol">(</a><a id="49606" href="Coherence.Hypotheses.html#49606" class="Bound">T</a>    <a id="49611" class="Symbol">:</a> <a id="49613" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="49616" href="Coherence.Hypotheses.html#49592" class="Bound">i</a> <a id="49618" class="Number">0</a><a id="49619" class="Symbol">)</a>
      <a id="49627" class="Symbol">(</a><a id="49628" href="Coherence.Hypotheses.html#49628" class="Bound">ins⊆</a> <a id="49633" class="Symbol">:</a> <a id="49635" class="Symbol">(</a><a id="49636" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="49644" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="49648" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="49654" href="Coherence.Hypotheses.html#47088" class="Function">xs↦</a><a id="49657" class="Symbol">)</a> <a id="49659" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">⊆</a> <a id="49661" href="Data.Vec.Base.html#7447" class="Function">V.toList</a> <a id="49670" class="Symbol">(</a><a id="49671" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a> <a id="49678" href="Coherence.Hypotheses.html#49606" class="Bound">T</a><a id="49679" class="Symbol">))</a>
    <a id="49686" class="Symbol">→</a> <a id="49688" class="Keyword">let</a>
        <a id="49700" class="Comment">-- (iii) submit transaction T</a>
        <a id="49738" href="Coherence.Hypotheses.html#49738" class="Bound">λᶜ</a> <a id="49741" class="Symbol">=</a> <a id="49743" href="ComputationalModel.Run.html#1026" class="InductiveConstructor">submit</a> <a id="49750" class="Symbol">(_</a> <a id="49753" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="49755" class="Symbol">_</a> <a id="49757" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="49759" href="Coherence.Hypotheses.html#49606" class="Bound">T</a><a id="49760" class="Symbol">)</a>
      <a id="49768" class="Keyword">in</a>

    <a id="49776" class="Comment">-- (iv) λᶜ does not correspond to any *other* symbolic move</a>
    <a id="49840" class="Comment">-- ∙ (∀ Γₜ′ (λˢ′ : 𝕃 Rˢ Γₜ′)</a>
    <a id="49873" class="Comment">--     → λˢ′ .proj₁ .proj₁ ≢ λˢ .proj₁ .proj₁</a>
    <a id="49923" class="Comment">--     → (Γₜ′ ∷ 𝕣∗ ⊣ λˢ′ ✓) ≁₁₁ (λᶜ ∷ Rᶜ ✓))</a>

      <a id="49975" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="50035" href="Coherence.Hypotheses.html#2189" class="Function">Γₜ″</a> <a id="50039" href="Coherence.Hypotheses.html#49288" class="Datatype Operator">⨾</a> <a id="50041" href="Coherence.Hypotheses.html#2128" class="Function">𝕣∗</a> <a id="50044" href="Coherence.Hypotheses.html#49288" class="Datatype Operator">⨾</a> <a id="50046" class="Symbol">(</a><a id="50047" href="Coherence.Hypotheses.html#2275" class="Function">𝕒</a> <a id="50049" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="50051" href="Coherence.Hypotheses.html#47941" class="Function">λˢ</a><a id="50053" class="Symbol">)</a> <a id="50055" href="Coherence.Hypotheses.html#49288" class="Datatype Operator">~ℍ[17]~</a> <a id="50063" href="Coherence.Hypotheses.html#49738" class="Bound">λᶜ</a> <a id="50066" href="Coherence.Hypotheses.html#49288" class="Datatype Operator">⨾</a> <a id="50068" href="Coherence.Hypotheses.html#2101" class="Function">Rᶜ</a>

<a id="50072" class="Comment">-- ** After</a>
<a id="50084" class="Keyword">record</a> <a id="H₁₈-args"></a><a id="50091" href="Coherence.Hypotheses.html#50091" class="Record">H₁₈-args</a> <a id="50100" class="Symbol">:</a> <a id="50102" href="Agda.Primitive.html#320" class="Primitive">Type</a> <a id="50107" class="Keyword">where</a>
  <a id="50115" class="Keyword">constructor</a> <a id="mk"></a><a id="50127" href="Coherence.Hypotheses.html#50127" class="InductiveConstructor">mk</a>
  <a id="50132" class="Keyword">field</a>
    <a id="50142" class="Symbol">{</a><a id="H₁₈-args.Γ"></a><a id="50143" href="Coherence.Hypotheses.html#50143" class="Field">Γ</a> <a id="H₁₈-args.t"></a><a id="50145" href="Coherence.Hypotheses.html#50145" class="Field">t</a> <a id="H₁₈-args.δ"></a><a id="50147" href="Coherence.Hypotheses.html#50147" class="Field">δ</a><a id="50148" class="Symbol">}</a> <a id="50150" class="Symbol">:</a> <a id="50152" class="Symbol">_</a>
    <a id="H₁₈-args.δ&gt;0"></a><a id="50158" href="Coherence.Hypotheses.html#50158" class="Field">δ&gt;0</a> <a id="50162" class="Symbol">:</a> <a id="50164" href="Coherence.Hypotheses.html#50147" class="Field">δ</a> <a id="50166" href="Prelude.Ord.Core.html#340" class="Function Operator">&gt;</a> <a id="50168" class="Number">0</a>
  <a id="50172" class="Keyword">open</a> <a id="50177" href="Coherence.Hypotheses.html#1754" class="Module">Transition</a>
    <a id="50192" class="Symbol">(</a> <a id="50194" href="Coherence.Hypotheses.html#50143" class="Field">Γ</a> <a id="50196" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="50198" href="Coherence.Hypotheses.html#50145" class="Field">t</a> <a id="50200" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">——</a> <a id="50203" href="BitML.Semantics.Label.html#1519" class="InductiveConstructor Operator">delay⦅</a> <a id="50210" href="Coherence.Hypotheses.html#50147" class="Field">δ</a> <a id="50212" href="BitML.Semantics.Label.html#1519" class="InductiveConstructor Operator">⦆</a> <a id="50214" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">—→</a> <a id="50217" href="Coherence.Hypotheses.html#50143" class="Field">Γ</a> <a id="50219" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⨾</a> <a id="50221" class="Symbol">(</a><a id="50222" href="Coherence.Hypotheses.html#50145" class="Field">t</a> <a id="50224" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="50226" href="Coherence.Hypotheses.html#50147" class="Field">δ</a><a id="50227" class="Symbol">)</a>
    <a id="50233" href="Coherence.Hypotheses.html#1792" class="InductiveConstructor Operator">⊣</a> <a id="50235" href="BitML.Semantics.InferenceRules.html#7703" class="InductiveConstructor">[Delay]</a> <a id="50243" href="Coherence.Hypotheses.html#50158" class="Field">δ&gt;0</a>
    <a id="50251" class="Symbol">)</a> <a id="50253" class="Keyword">public</a> <a id="50260" class="Keyword">hiding</a> <a id="50267" class="Symbol">(</a><a id="50268" href="Coherence.Hypotheses.html#1818" class="Field">Γ</a><a id="50269" class="Symbol">;</a> <a id="50271" href="Coherence.Hypotheses.html#1831" class="Field">t</a><a id="50272" class="Symbol">)</a>
  <a id="50276" class="Keyword">field</a> <a id="H₁₈-args.𝕙r"></a><a id="50282" href="Coherence.Hypotheses.html#50282" class="Field">𝕙r</a> <a id="50285" class="Symbol">:</a> <a id="50287" href="Coherence.Hypotheses.html#1970" class="Record">ℍ-Run</a> <a id="50293" href="Coherence.Hypotheses.html#1941" class="Function">Γ→</a>
  <a id="50298" class="Keyword">open</a> <a id="50303" href="Coherence.Hypotheses.html#1970" class="Module">ℍ-Run</a> <a id="50309" href="Coherence.Hypotheses.html#50282" class="Field">𝕙r</a> <a id="50312" class="Keyword">public</a>

<a id="50320" class="Keyword">module</a> <a id="50327" href="Coherence.Hypotheses.html#50327" class="Module">H₁₈</a> <a id="50331" class="Symbol">(</a><a id="50332" href="Coherence.Hypotheses.html#50332" class="Bound">⋯</a> <a id="50334" class="Symbol">:</a> <a id="50336" href="Coherence.Hypotheses.html#50091" class="Record">H₁₈-args</a><a id="50344" class="Symbol">)</a> <a id="50346" class="Symbol">(</a><a id="50347" class="Keyword">let</a> <a id="50351" class="Keyword">open</a> <a id="50356" href="Coherence.Hypotheses.html#50091" class="Module">H₁₈-args</a> <a id="50365" href="Coherence.Hypotheses.html#50332" class="Bound">⋯</a><a id="50366" class="Symbol">)</a> <a id="50368" class="Keyword">where</a>
  <a id="50376" href="Coherence.Hypotheses.html#50376" class="Function">λˢ</a> <a id="50379" class="Symbol">:</a> <a id="50381" href="SymbolicModel.Mappings.html#1063" class="Function">ℾᵗ</a> <a id="50384" href="Coherence.Hypotheses.html#1907" class="Function">Γₜ′</a>
  <a id="50390" href="Coherence.Hypotheses.html#50376" class="Function">λˢ</a> <a id="50393" class="Symbol">=</a> <a id="50395" href="SymbolicModel.Mappings.html#7972" class="Function">LIFTˢ</a> <a id="50401" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="50403" href="Coherence.Hypotheses.html#50143" class="Field">Γ</a> <a id="50405" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="50408" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a> <a id="50411" href="Function.Base.html#624" class="Function">id</a> <a id="50414" href="Function.Base.html#624" class="Function">id</a> <a id="50417" href="Function.Base.html#624" class="Function">id</a>
  <a id="50422" class="Keyword">private</a>
    <a id="50434" href="Coherence.Hypotheses.html#50434" class="Function">𝕣′</a> <a id="50437" class="Symbol">:</a> <a id="50439" href="SymbolicModel.Mappings.html#872" class="Function">ℝ</a> <a id="50441" href="Coherence.Hypotheses.html#2419" class="Function">R′</a>
    <a id="50448" href="Coherence.Hypotheses.html#50434" class="Function">𝕣′</a> <a id="50451" class="Symbol">=</a> <a id="50453" href="SymbolicModel.Mappings.html#5769" class="Function">ℝ-step</a> <a id="50460" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="50462" class="Symbol">(</a><a id="50463" href="Coherence.Hypotheses.html#2275" class="Function">𝕒</a> <a id="50465" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="50467" href="Coherence.Hypotheses.html#50376" class="Function">λˢ</a><a id="50469" class="Symbol">)</a>
  <a id="50473" class="Keyword">abstract</a>
    <a id="50486" href="Coherence.Hypotheses.html#50486" class="Function">value-preserving⇒</a> <a id="50504" class="Symbol">:</a>
      <a id="50512" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="50529" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a>
      <a id="50537" href="Prelude.InferenceRules.html#14163" class="Function Operator">───────────────────</a>
      <a id="50563" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="50580" href="Coherence.Hypotheses.html#50434" class="Function">𝕣′</a>
    <a id="50587" href="Coherence.Hypotheses.html#50486" class="Function">value-preserving⇒</a> <a id="50605" href="Coherence.Hypotheses.html#50605" class="Bound">pv-txout</a> <a id="50614" class="Symbol">=</a> <a id="50616" href="Coherence.Hypotheses.html#51261" class="Function">pv-txout′</a>
      <a id="50632" class="Keyword">where</a>
        <a id="50646" class="Keyword">open</a> <a id="50651" href="Relation.Binary.PropositionalEquality.Core.html#2717" class="Module">≡-Reasoning</a>

        <a id="50672" href="Coherence.Hypotheses.html#50672" class="Function">txoutΓ</a> <a id="50679" class="Symbol">:</a> <a id="50681" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="50687" href="Coherence.Hypotheses.html#50143" class="Field">Γ</a>
        <a id="50697" href="Coherence.Hypotheses.html#50672" class="Function">txoutΓ</a> <a id="50704" class="Symbol">=</a> <a id="50706" href="SymbolicModel.Mappings.html#1931" class="Function">Txout≈</a> <a id="50713" class="Symbol">{</a><a id="50714" href="Coherence.Hypotheses.html#2411" class="Function">R</a> <a id="50716" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="50720" class="Symbol">}{</a><a id="50722" href="Coherence.Hypotheses.html#50143" class="Field">Γ</a><a id="50723" class="Symbol">}</a> <a id="50725" class="Symbol">(</a><a id="50726" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="50729" class="Symbol">.</a><a id="50730" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="50735" class="Symbol">)</a> <a id="50737" class="Symbol">(</a><a id="50738" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="50740" href="SymbolicModel.Mappings.html#8977" class="Function Operator">∙txoutEnd_</a><a id="50750" class="Symbol">)</a>

        <a id="50761" href="Coherence.Hypotheses.html#50761" class="Function">pv-txoutΓ</a> <a id="50771" class="Symbol">:</a> <a id="50773" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="50789" class="Symbol">{</a><a id="50790" href="Coherence.Hypotheses.html#50143" class="Field">Γ</a><a id="50791" class="Symbol">}</a> <a id="50793" href="Coherence.Hypotheses.html#50672" class="Function">txoutΓ</a>
        <a id="50808" href="Coherence.Hypotheses.html#50761" class="Function">pv-txoutΓ</a> <a id="50818" class="Symbol">=</a>
          <a id="50830" href="SymbolicModel.ValuePreservation.html#2490" class="Function">ValuePreserving-Txout≈</a> <a id="50853" class="Symbol">{</a><a id="50854" href="Coherence.Hypotheses.html#2411" class="Function">R</a> <a id="50856" href="SymbolicModel.Run.Accessors.html#718" class="Function Operator">∙cfg</a><a id="50860" class="Symbol">}{</a><a id="50862" href="Coherence.Hypotheses.html#50143" class="Field">Γ</a><a id="50863" class="Symbol">}</a> <a id="50865" class="Symbol">(</a><a id="50866" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a> <a id="50869" class="Symbol">.</a><a id="50870" href="Agda.Builtin.Sigma.html#246" class="Field">proj₂</a><a id="50875" class="Symbol">)</a> <a id="50877" class="Symbol">(</a><a id="50878" href="Coherence.Hypotheses.html#2241" class="Function">𝕣</a> <a id="50880" href="SymbolicModel.Mappings.html#8977" class="Function Operator">∙txoutEnd_</a><a id="50890" class="Symbol">)</a> <a id="50892" href="Coherence.Hypotheses.html#50605" class="Bound">pv-txout</a>

        <a id="50910" href="Coherence.Hypotheses.html#50910" class="Function">txoutΓ′</a> <a id="50918" class="Symbol">:</a> <a id="50920" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="50926" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a>
        <a id="50937" href="Coherence.Hypotheses.html#50910" class="Function">txoutΓ′</a> <a id="50945" class="Symbol">=</a> <a id="50947" href="Coherence.Hypotheses.html#50672" class="Function">txoutΓ</a>

        <a id="50963" href="Coherence.Hypotheses.html#50963" class="Function">pv-txoutΓ′</a> <a id="50974" class="Symbol">:</a> <a id="50976" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="50992" class="Symbol">{</a><a id="50993" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a><a id="50995" class="Symbol">}</a> <a id="50997" href="Coherence.Hypotheses.html#50910" class="Function">txoutΓ′</a>
        <a id="51013" href="Coherence.Hypotheses.html#50963" class="Function">pv-txoutΓ′</a> <a id="51024" class="Symbol">=</a> <a id="51026" href="Coherence.Hypotheses.html#50761" class="Function">pv-txoutΓ</a>

        <a id="51045" href="Coherence.Hypotheses.html#51045" class="Function">txoutΓ″</a> <a id="51053" class="Symbol">:</a> <a id="51055" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="51061" href="Coherence.Hypotheses.html#2161" class="Function">Γ″</a>
        <a id="51072" href="Coherence.Hypotheses.html#51045" class="Function">txoutΓ″</a> <a id="51080" class="Symbol">=</a> <a id="51082" href="SymbolicModel.Mappings.html#1931" class="Function">Txout≈</a> <a id="51089" class="Symbol">{</a><a id="51090" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a><a id="51092" class="Symbol">}{</a><a id="51094" href="Coherence.Hypotheses.html#2161" class="Function">Γ″</a><a id="51096" class="Symbol">}</a> <a id="51098" class="Symbol">(</a><a id="51099" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="51105" href="Coherence.Hypotheses.html#2174" class="Function">Γ≈</a><a id="51107" class="Symbol">)</a> <a id="51109" href="Coherence.Hypotheses.html#50910" class="Function">txoutΓ′</a>

        <a id="51126" href="Coherence.Hypotheses.html#51126" class="Function">pv-txoutΓ″</a> <a id="51137" class="Symbol">:</a> <a id="51139" href="SymbolicModel.ValuePreservation.html#922" class="Function">ValuePreserving</a> <a id="51155" class="Symbol">{</a><a id="51156" href="Coherence.Hypotheses.html#2161" class="Function">Γ″</a><a id="51158" class="Symbol">}</a> <a id="51160" href="Coherence.Hypotheses.html#51045" class="Function">txoutΓ″</a>
        <a id="51176" href="Coherence.Hypotheses.html#51126" class="Function">pv-txoutΓ″</a> <a id="51187" class="Symbol">=</a> <a id="51189" href="SymbolicModel.ValuePreservation.html#2490" class="Function">ValuePreserving-Txout≈</a> <a id="51212" class="Symbol">{</a><a id="51213" href="Coherence.Hypotheses.html#1860" class="Function">Γ′</a><a id="51215" class="Symbol">}</a> <a id="51217" class="Symbol">{</a><a id="51218" href="Coherence.Hypotheses.html#2161" class="Function">Γ″</a><a id="51220" class="Symbol">}</a> <a id="51222" class="Symbol">(</a><a id="51223" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">↭-sym</a> <a id="51229" href="Coherence.Hypotheses.html#2174" class="Function">Γ≈</a><a id="51231" class="Symbol">)</a> <a id="51233" href="Coherence.Hypotheses.html#50910" class="Function">txoutΓ′</a> <a id="51241" href="Coherence.Hypotheses.html#50963" class="Function">pv-txoutΓ′</a>

        <a id="51261" href="Coherence.Hypotheses.html#51261" class="Function">pv-txout′</a> <a id="51271" class="Symbol">:</a> <a id="51273" href="SymbolicModel.ValuePreservation.html#3422" class="Function">ValuePreservingʳ</a> <a id="51290" href="Coherence.Hypotheses.html#50434" class="Function">𝕣′</a>
        <a id="51301" href="Coherence.Hypotheses.html#51261" class="Function">pv-txout′</a> <a id="51311" href="Coherence.Hypotheses.html#51311" class="Bound">x∈</a> <a id="51314" class="Symbol">=</a>
          <a id="51326" href="Relation.Binary.PropositionalEquality.Core.html#2815" class="Function Operator">begin</a>
            <a id="51344" class="Symbol">(</a><a id="51345" href="Coherence.Hypotheses.html#50434" class="Function">𝕣′</a> <a id="51348" href="SymbolicModel.Mappings.html#8977" class="Function Operator">∙txoutEnd</a> <a id="51358" href="Coherence.Hypotheses.html#51311" class="Bound">x∈</a><a id="51360" class="Symbol">)</a> <a id="51362" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
          <a id="51379" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="51382" href="Relation.Binary.PropositionalEquality.Core.html#1139" class="Function">cong</a> <a id="51387" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">_∙value</a>
                <a id="51411" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="51413" href="SymbolicModel.Properties.html#6895" class="Function">txout∷∘namesʳ⦅end⦆⊆</a> <a id="51433" class="Symbol">{</a><a id="51434" class="Argument">R</a> <a id="51436" class="Symbol">=</a> <a id="51438" href="Coherence.Hypotheses.html#2411" class="Function">R</a><a id="51439" class="Symbol">}</a> <a id="51441" href="Coherence.Hypotheses.html#1941" class="Function">Γ→</a> <a id="51444" class="Symbol">(</a><a id="51445" href="Coherence.Hypotheses.html#2368" class="Function">R≈′</a> <a id="51449" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="51451" href="Coherence.Hypotheses.html#2143" class="Function">R≈</a><a id="51453" class="Symbol">)</a> <a id="51455" href="Coherence.Hypotheses.html#50910" class="Function">txoutΓ′</a> <a id="51463" href="SymbolicModel.Mappings.html#952" class="Function">txout′</a> <a id="51470" class="Symbol">_</a> <a id="51472" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="51486" class="Symbol">(</a><a id="51487" href="Coherence.Hypotheses.html#51045" class="Function">txoutΓ″</a> <a id="51495" href="Coherence.Hypotheses.html#51311" class="Bound">x∈</a><a id="51497" class="Symbol">)</a> <a id="51499" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
          <a id="51516" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">≡⟨</a> <a id="51519" href="Coherence.Hypotheses.html#51126" class="Function">pv-txoutΓ″</a> <a id="51530" class="Symbol">_</a> <a id="51532" href="Relation.Binary.PropositionalEquality.Core.html#2932" class="Function">⟩</a>
            <a id="51546" class="Symbol">(</a><a id="51547" href="Coherence.Hypotheses.html#2161" class="Function">Γ″</a> <a id="51550" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="51552" href="Coherence.Hypotheses.html#51311" class="Bound">x∈</a><a id="51554" class="Symbol">)</a> <a id="51556" href="Bitcoin.Tx.Base.html#2720" class="Function Operator">∙value</a>
          <a id="51573" href="Relation.Binary.PropositionalEquality.Core.html#3114" class="Function Operator">∎</a>

<a id="51576" class="Keyword">data</a> <a id="_⨾_⨾_~ℍ[18]~_⨾_"></a><a id="51581" href="Coherence.Hypotheses.html#51581" class="Datatype Operator">_⨾_⨾_~ℍ[18]~_⨾_</a> <a id="51597" class="Symbol">:</a> <a id="51599" href="Coherence.Hypotheses.html#1614" class="Function">StepRel</a> <a id="51607" class="Keyword">where</a>
  <a id="_⨾_⨾_~ℍ[18]~_⨾_.mkℍ"></a><a id="51615" href="Coherence.Hypotheses.html#51615" class="InductiveConstructor">mkℍ</a> <a id="51619" class="Symbol">:</a> <a id="51621" class="Symbol">∀</a> <a id="51623" class="Symbol">{</a><a id="51624" href="Coherence.Hypotheses.html#51624" class="Bound">h</a> <a id="51626" class="Symbol">:</a> <a id="51628" href="Coherence.Hypotheses.html#50091" class="Record">H₁₈-args</a><a id="51636" class="Symbol">}</a>
    <a id="51642" class="Symbol">→</a> <a id="51644" class="Keyword">let</a>
        <a id="51656" class="Keyword">open</a> <a id="51661" href="Coherence.Hypotheses.html#50091" class="Module">H₁₈-args</a> <a id="51670" href="Coherence.Hypotheses.html#51624" class="Bound">h</a>
        <a id="51680" class="Keyword">open</a> <a id="51685" href="Coherence.Hypotheses.html#50327" class="Module">H₁₈</a> <a id="51689" href="Coherence.Hypotheses.html#51624" class="Bound">h</a> <a id="51691" class="Keyword">using</a> <a id="51697" class="Symbol">(</a><a id="51698" href="Coherence.Hypotheses.html#50376" class="Function">λˢ</a><a id="51700" class="Symbol">)</a>
        <a id="51710" href="Coherence.Hypotheses.html#51710" class="Bound">λᶜ</a> <a id="51713" class="Symbol">=</a> <a id="51715" href="ComputationalModel.Run.html#1071" class="InductiveConstructor">delay</a> <a id="51721" href="Coherence.Hypotheses.html#50147" class="Field">δ</a>
      <a id="51729" class="Keyword">in</a>
      <a id="51738" href="Prelude.InferenceRules.html#42844" class="Function Operator">─────────────────────────────────────────────────────</a>
      <a id="51798" href="Coherence.Hypotheses.html#2189" class="Function">Γₜ″</a> <a id="51802" href="Coherence.Hypotheses.html#51581" class="Datatype Operator">⨾</a> <a id="51804" href="Coherence.Hypotheses.html#2128" class="Function">𝕣∗</a> <a id="51807" href="Coherence.Hypotheses.html#51581" class="Datatype Operator">⨾</a> <a id="51809" class="Symbol">(</a><a id="51810" href="Coherence.Hypotheses.html#2275" class="Function">𝕒</a> <a id="51812" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="51814" href="Coherence.Hypotheses.html#50376" class="Function">λˢ</a><a id="51816" class="Symbol">)</a> <a id="51818" href="Coherence.Hypotheses.html#51581" class="Datatype Operator">~ℍ[18]~</a> <a id="51826" href="Coherence.Hypotheses.html#51710" class="Bound">λᶜ</a> <a id="51829" href="Coherence.Hypotheses.html#51581" class="Datatype Operator">⨾</a> <a id="51831" href="Coherence.Hypotheses.html#2101" class="Function">Rᶜ</a>
</pre></body></html>