<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Compiler.Example</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/formal-bitml-to-bitcoin/tree/master/Compiler/Example.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Comment">----------------------------------------------------------------------------</a>
<a id="78" class="Comment">-- Example contract compilation.</a>
<a id="111" class="Comment">----------------------------------------------------------------------------</a>
<a id="188" class="Keyword">module</a> <a id="195" href="Compiler.Example.html" class="Module">Compiler.Example</a> <a id="212" class="Keyword">where</a>

<a id="219" class="Keyword">open</a> <a id="224" class="Keyword">import</a> <a id="231" href="Prelude.Init.html" class="Module">Prelude.Init</a> <a id="244" class="Keyword">hiding</a> <a id="251" class="Symbol">(</a><a id="252" href="Data.Bool.Base.html#1460" class="Function">T</a><a id="253" class="Symbol">);</a> <a id="256" class="Keyword">open</a> <a id="261" href="Prelude.Init.html#504" class="Module">SetAsType</a>
<a id="271" class="Keyword">open</a> <a id="276" class="Keyword">import</a> <a id="283" href="Prelude.Lists.html" class="Module">Prelude.Lists</a>
<a id="297" class="Keyword">open</a> <a id="302" class="Keyword">import</a> <a id="309" href="Prelude.Membership.Patterns.html" class="Module">Prelude.Membership.Patterns</a>
<a id="337" class="Keyword">open</a> <a id="342" class="Keyword">import</a> <a id="349" href="Prelude.Functor.html" class="Module">Prelude.Functor</a>
<a id="365" class="Keyword">open</a> <a id="370" class="Keyword">import</a> <a id="377" href="Prelude.Decidable.html" class="Module">Prelude.Decidable</a>
<a id="395" class="Keyword">open</a> <a id="400" class="Keyword">import</a> <a id="407" href="Prelude.Num.html" class="Module">Prelude.Num</a>


<a id="421" class="Comment">-- Bitcoin</a>
<a id="432" class="Keyword">open</a> <a id="437" class="Keyword">import</a> <a id="444" href="Bitcoin.html" class="Module">Bitcoin</a> <a id="452" class="Keyword">hiding</a> <a id="459" class="Symbol">(</a><a id="460" href="Bitcoin.BasicTypes.html#429" class="Generalizable">t</a><a id="461" class="Symbol">;</a> <a id="463" href="Bitcoin.BasicTypes.html#260" class="Function">Value</a><a id="468" class="Symbol">)</a>

<a id="471" class="Comment">-- BitML</a>
<a id="480" class="Keyword">open</a> <a id="485" class="Keyword">import</a> <a id="492" href="BitML.Example.TimedCommitment.html" class="Module">BitML.Example.TimedCommitment</a>
  <a id="524" class="Keyword">using</a> <a id="530" class="Symbol">(</a><a id="531" href="BitML.Example.TimedCommitment.html#365" class="Datatype">Participant</a><a id="542" class="Symbol">;</a> <a id="544" href="BitML.Example.TimedCommitment.html#392" class="InductiveConstructor">A</a><a id="545" class="Symbol">;</a> <a id="547" href="BitML.Example.TimedCommitment.html#394" class="InductiveConstructor">B</a><a id="548" class="Symbol">;</a> <a id="550" href="BitML.Example.TimedCommitment.html#475" class="Function">Honest</a><a id="556" class="Symbol">)</a>
<a id="558" class="Keyword">import</a> <a id="565" href="BitML.BasicTypes.html" class="Module">BitML.BasicTypes</a> <a id="582" class="Symbol">as</a> <a id="585" class="Module">BitML-params</a>
<a id="⋯"></a><a id="598" href="Compiler.Example.html#598" class="Function">⋯</a> <a id="600" class="Symbol">=</a> <a id="602" href="BitML.BasicTypes.html#661" class="InductiveConstructor Operator">BitML-params.⋯_,_⋯</a> <a id="621" href="BitML.Example.TimedCommitment.html#365" class="Datatype">Participant</a> <a id="633" href="BitML.Example.TimedCommitment.html#475" class="Function">Honest</a>
<a id="640" class="Keyword">open</a> <a id="645" class="Keyword">import</a> <a id="652" href="BitML.html" class="Module">BitML</a> <a id="658" href="Compiler.Example.html#598" class="Function">⋯</a>
  <a id="662" class="Keyword">hiding</a> <a id="669" class="Symbol">(</a> <a id="671" href="BitML.Contracts.Types.html#2351" class="Field">C</a><a id="672" class="Symbol">;</a> <a id="674" href="BitML.Contracts.Types.html#2330" class="Field">G</a><a id="675" class="Symbol">;</a> <a id="677" href="BitML.BasicTypes.html#578" class="Generalizable">t</a><a id="678" class="Symbol">;</a> <a id="680" href="BitML.BasicTypes.html#484" class="Generalizable">a</a><a id="681" class="Symbol">;</a> <a id="683" href="BitML.BasicTypes.html#443" class="Generalizable">v</a><a id="684" class="Symbol">;</a> <a id="686" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a><a id="687" class="Symbol">;</a> <a id="689" href="BitML.Contracts.Types.html#373" class="Generalizable">B</a><a id="690" class="Symbol">;</a> <a id="692" href="BitML.BasicTypes.html#527" class="Generalizable">x</a><a id="693" class="Symbol">;</a> <a id="695" href="BitML.BasicTypes.html#529" class="Generalizable">y</a><a id="696" class="Symbol">;</a> <a id="698" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Γ₀</a><a id="700" class="Symbol">;</a> <a id="702" href="BitML.Semantics.Configurations.Types.html#1467" class="Generalizable">Γₜ₀</a><a id="705" class="Symbol">;</a> <a id="707" href="BitML.Semantics.Configurations.Types.html#1157" class="Generalizable">Δ</a><a id="708" class="Symbol">;</a> <a id="710" href="BitML.Semantics.Configurations.Types.html#1456" class="Generalizable">Γₜ</a><a id="712" class="Symbol">;</a> <a id="714" href="BitML.Semantics.Configurations.Types.html#1459" class="Generalizable">Γₜ′</a><a id="717" class="Symbol">;</a> <a id="719" href="BitML.BasicTypes.html#503" class="Generalizable">as</a><a id="721" class="Symbol">;</a> <a id="723" href="BitML.Semantics.Label.html#1651" class="Generalizable">α</a><a id="724" class="Symbol">;</a> <a id="726" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Γ</a><a id="727" class="Symbol">;</a> <a id="729" href="BitML.Semantics.Configurations.Types.html#1140" class="Generalizable">Γ′</a>
         <a id="741" class="Symbol">;</a> <a id="743" href="BitML.Predicate.html#634" class="InductiveConstructor Operator">_`=_</a><a id="747" class="Symbol">;</a> <a id="749" href="BitML.Predicate.html#586" class="InductiveConstructor Operator">_`∧_</a><a id="753" class="Symbol">;</a> <a id="755" href="BitML.Predicate.html#876" class="Function Operator">_`∨_</a><a id="759" class="Symbol">;</a> <a id="761" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`_</a><a id="763" class="Symbol">;</a> <a id="765" href="BitML.Predicate.html#526" class="InductiveConstructor">`true</a><a id="770" class="Symbol">;</a> <a id="772" href="BitML.Predicate.html#639" class="InductiveConstructor Operator">_`&lt;_</a>
         <a id="786" class="Symbol">)</a>

<a id="789" class="Comment">-- BitML compiler</a>
<a id="η"></a><a id="807" href="Compiler.Example.html#807" class="Function">η</a> <a id="809" class="Symbol">=</a> <a id="811" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="813" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="815" class="Number">128</a>
<a id="819" class="Keyword">open</a> <a id="824" class="Keyword">import</a> <a id="831" href="Compiler.html" class="Module">Compiler</a> <a id="840" href="Compiler.Example.html#598" class="Function">⋯</a> <a id="842" href="Compiler.Example.html#807" class="Function">η</a>

<a id="845" class="Comment">-- postulated cryptography</a>
<a id="872" class="Keyword">module</a> <a id="∣K"></a><a id="879" href="Compiler.Example.html#879" class="Module">∣K</a> <a id="882" href="Compiler.Example.html#882" class="Bound">ad</a> <a id="885" class="Keyword">where</a>
  <a id="893" class="Keyword">open</a> <a id="898" href="BitML.Contracts.ModuleMacros.html#761" class="Module">∣AD</a> <a id="902" href="Compiler.Example.html#882" class="Bound">ad</a> <a id="905" class="Keyword">public</a>

  <a id="915" class="Keyword">postulate</a>
    <a id="∣K.K"></a><a id="929" href="Compiler.Example.html#929" class="Postulate">K</a>  <a id="932" class="Symbol">:</a> <a id="934" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a> <a id="940" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="942" href="Bitcoin.Crypto.html#346" class="Record">KeyPair</a>
    <a id="∣K.K²"></a><a id="954" href="Compiler.Example.html#954" class="Postulate">K²</a> <a id="957" class="Symbol">:</a> <a id="959" href="BitML.Contracts.Subterms.html#647" class="Function">subterms</a> <a id="968" href="BitML.Contracts.ModuleMacros.html#783" class="Function">C</a> <a id="970" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="972" href="BitML.Contracts.ModuleMacros.html#813" class="Function">partG</a> <a id="978" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="980" href="Bitcoin.Crypto.html#346" class="Record">KeyPair</a>

<a id="989" class="Keyword">module</a> <a id="Section7"></a><a id="996" href="Compiler.Example.html#996" class="Module">Section7</a> <a id="1005" class="Keyword">where</a> <a id="1011" class="Comment">-- (see BitML paper, Section 7).</a>

  <a id="1047" class="Keyword">module</a> <a id="Section7.Withdraw"></a><a id="1054" href="Compiler.Example.html#1054" class="Module">Withdraw</a> <a id="1063" class="Keyword">where</a>
    <a id="Section7.Withdraw.ex-ad"></a><a id="1073" href="Compiler.Example.html#1073" class="Function">ex-ad</a> <a id="1079" class="Symbol">:</a> <a id="1081" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a>
    <a id="1088" href="Compiler.Example.html#1073" class="Function">ex-ad</a> <a id="1094" class="Symbol">=</a> <a id="1096" href="BitML.Contracts.Types.html#2313" class="InductiveConstructor Operator">⟨</a> <a id="1098" href="BitML.Example.TimedCommitment.html#392" class="InductiveConstructor">A</a> <a id="1100" href="BitML.Contracts.Types.html#1876" class="InductiveConstructor Operator">:!</a> <a id="1103" class="Number">1</a> <a id="1105" href="Bitcoin.BasicTypes.html#984" class="Function Operator">𝐁</a> <a id="1107" href="BitML.Contracts.Types.html#1876" class="InductiveConstructor Operator">at</a> <a id="1110" class="String">&quot;x&quot;</a> <a id="1114" href="BitML.Contracts.Types.html#2051" class="InductiveConstructor Operator">∣</a> <a id="1116" href="BitML.Example.TimedCommitment.html#394" class="InductiveConstructor">B</a> <a id="1118" href="BitML.Contracts.Types.html#1876" class="InductiveConstructor Operator">:!</a> <a id="1121" class="Number">1</a> <a id="1123" href="Bitcoin.BasicTypes.html#984" class="Function Operator">𝐁</a> <a id="1125" href="BitML.Contracts.Types.html#1876" class="InductiveConstructor Operator">at</a> <a id="1128" class="String">&quot;y&quot;</a> <a id="1132" href="BitML.Contracts.Types.html#2313" class="InductiveConstructor Operator">⟩</a> <a id="1134" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="1136" href="BitML.Contracts.Types.html#805" class="InductiveConstructor">withdraw</a> <a id="1145" href="BitML.Example.TimedCommitment.html#394" class="InductiveConstructor">B</a> <a id="1147" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>

    <a id="1154" class="Keyword">open</a> <a id="1159" href="Compiler.Example.html#879" class="Module">∣K</a> <a id="1162" href="Compiler.Example.html#1073" class="Function">ex-ad</a>

    <a id="Section7.Withdraw.T₀"></a><a id="1173" href="Compiler.Example.html#1173" class="Function">T₀</a> <a id="1176" class="Symbol">:</a> <a id="1178" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="1181" class="Number">0</a> <a id="1183" class="Number">2</a>
    <a id="1189" href="Compiler.Example.html#1173" class="Function">T₀</a> <a id="1192" class="Symbol">=</a> <a id="1194" class="Keyword">record</a>
      <a id="1207" class="Symbol">{</a> <a id="1209" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="1217" class="Symbol">=</a> <a id="1219" href="Data.Vec.Base.html#1043" class="InductiveConstructor">[]</a>
      <a id="1228" class="Symbol">;</a> <a id="1230" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="1238" class="Symbol">=</a> <a id="1240" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
      <a id="1251" class="Symbol">;</a> <a id="1253" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="1261" class="Symbol">=</a> <a id="1263" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="1275" class="Number">0</a>
      <a id="1283" class="Symbol">;</a> <a id="1285" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="1293" class="Symbol">=</a> <a id="1295" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="1297" class="Symbol">(</a><a id="1298" class="Number">1</a> <a id="1300" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1302" class="Number">1</a> <a id="1304" href="Bitcoin.BasicTypes.html#984" class="Function Operator">𝐁</a> <a id="1306" href="Bitcoin.Tx.Base.html#698" class="InductiveConstructor Operator">locked-by</a> <a id="1316" href="Bitcoin.Script.Base.html#1929" class="InductiveConstructor Operator">ƛ</a> <a id="1318" class="Symbol">(</a><a id="1319" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="1326" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="1328" href="Compiler.Example.html#929" class="Function">K</a> <a id="1330" class="Number">0</a> <a id="1332" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="1334" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="1336" class="Number">0</a> <a id="1338" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="1339" class="Symbol">))</a>
                  <a id="1360" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="1362" class="Symbol">(</a><a id="1363" class="Number">1</a> <a id="1365" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1367" class="Number">1</a> <a id="1369" href="Bitcoin.BasicTypes.html#984" class="Function Operator">𝐁</a> <a id="1371" href="Bitcoin.Tx.Base.html#698" class="InductiveConstructor Operator">locked-by</a> <a id="1381" href="Bitcoin.Script.Base.html#1929" class="InductiveConstructor Operator">ƛ</a> <a id="1383" class="Symbol">(</a><a id="1384" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="1391" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="1393" href="Compiler.Example.html#929" class="Function">K</a> <a id="1395" class="Number">1</a> <a id="1397" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="1399" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="1401" class="Number">0</a> <a id="1403" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="1404" class="Symbol">))</a>
                  <a id="1425" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
      <a id="1433" class="Symbol">;</a> <a id="1435" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="1443" class="Symbol">=</a> <a id="1445" class="Number">0</a> <a id="1447" class="Symbol">}</a>

    <a id="Section7.Withdraw.Tˣ"></a><a id="1454" href="Compiler.Example.html#1454" class="Function">Tˣ</a> <a id="Section7.Withdraw.Tʸ"></a><a id="1457" href="Compiler.Example.html#1457" class="Function">Tʸ</a> <a id="1460" class="Symbol">:</a> <a id="1462" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
    <a id="1475" href="Compiler.Example.html#1454" class="Function">Tˣ</a> <a id="1478" class="Symbol">=</a> <a id="1480" class="Symbol">(</a><a id="1481" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="1484" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="1487" href="Compiler.Example.html#1173" class="Function">T₀</a><a id="1489" class="Symbol">)</a> <a id="1491" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="1494" class="Number">0</a>
    <a id="1500" href="Compiler.Example.html#1457" class="Function">Tʸ</a> <a id="1503" class="Symbol">=</a> <a id="1505" class="Symbol">(</a><a id="1506" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="1509" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="1512" href="Compiler.Example.html#1173" class="Function">T₀</a><a id="1514" class="Symbol">)</a> <a id="1516" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="1519" class="Number">1</a>

    <a id="Section7.Withdraw.sechash"></a><a id="1526" href="Compiler.Example.html#1526" class="Function">sechash</a> <a id="1534" class="Symbol">:</a> <a id="1536" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="1544" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a> <a id="1546" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="1548" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a>
    <a id="1554" href="Compiler.Example.html#1526" class="Function">sechash</a> <a id="1562" class="Symbol">()</a>

    <a id="Section7.Withdraw.txout"></a><a id="1570" href="Compiler.Example.html#1570" class="Function">txout</a> <a id="1576" class="Symbol">:</a> <a id="1578" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="1582" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a> <a id="1584" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="1586" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
    <a id="1599" href="Compiler.Example.html#1570" class="Function">txout</a> <a id="1605" class="Symbol">=</a> <a id="1607" class="Symbol">λ</a> <a id="1609" class="Keyword">where</a>
      <a id="1621" class="Comment">{- &quot;x&quot; -}</a> <a id="1631" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="1633" class="Symbol">→</a> <a id="1635" href="Compiler.Example.html#1454" class="Function">Tˣ</a>
      <a id="1644" class="Comment">{- &quot;y&quot; -}</a> <a id="1654" href="Prelude.Membership.Patterns.html#144" class="InductiveConstructor">𝟙</a> <a id="1656" class="Symbol">→</a> <a id="1658" href="Compiler.Example.html#1457" class="Function">Tʸ</a>

    <a id="Section7.Withdraw.out"></a><a id="1666" href="Compiler.Example.html#1666" class="Function">out</a> <a id="1670" class="Symbol">:</a> <a id="1672" href="Compiler.Outputs.html#206" class="Function">InitTx</a> <a id="1679" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a> <a id="1681" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="1683" class="Symbol">(</a><a id="1684" href="BitML.Contracts.Subterms.html#656" class="Function">subterms⁺</a> <a id="1694" href="BitML.Contracts.ModuleMacros.html#783" class="Function">C</a> <a id="1696" href="Prelude.Lists.Mappings.html#654" class="Function Operator">↦′</a> <a id="1699" href="Compiler.Outputs.html#504" class="Function">BranchTx</a><a id="1707" class="Symbol">)</a>
    <a id="1713" href="Compiler.Example.html#1666" class="Function">out</a> <a id="1717" class="Symbol">=</a> <a id="1719" href="Compiler.Translation.html#1219" class="Function">bitml-compiler</a> <a id="1734" class="Symbol">{</a><a id="1735" class="Argument">ad</a> <a id="1738" class="Symbol">=</a> <a id="1740" href="Compiler.Example.html#1073" class="Function">ex-ad</a><a id="1745" class="Symbol">}</a> <a id="1747" href="Prelude.Decidable.Core.html#181" class="Function">auto</a> <a id="1752" href="Compiler.Example.html#1526" class="Function">sechash</a> <a id="1760" href="Compiler.Example.html#1570" class="Function">txout</a> <a id="1766" href="Compiler.Example.html#929" class="Function">K</a> <a id="1768" href="Compiler.Example.html#954" class="Function">K²</a>

    <a id="Section7.Withdraw.outTxs"></a><a id="1776" href="Compiler.Example.html#1776" class="Function">outTxs</a> <a id="1783" class="Symbol">:</a> <a id="1785" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="1788" class="Number">2</a> <a id="1790" class="Number">1</a> <a id="1792" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="1794" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="1797" class="Number">1</a> <a id="1799" class="Number">1</a>
    <a id="1805" href="Compiler.Example.html#1776" class="Function">outTxs</a> <a id="1812" class="Symbol">=</a> <a id="1814" class="Keyword">let</a> <a id="1818" href="Compiler.Example.html#1818" class="Bound">t₀</a> <a id="1821" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1823" href="Compiler.Example.html#1823" class="Bound">m</a> <a id="1825" class="Symbol">=</a> <a id="1827" href="Compiler.Example.html#1666" class="Function">out</a> <a id="1831" class="Keyword">in</a> <a id="1834" href="Compiler.Example.html#1818" class="Bound">t₀</a> <a id="1837" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1839" href="Compiler.Example.html#1823" class="Bound">m</a> <a id="1841" class="Number">0</a>

    <a id="Section7.Withdraw.Tᵢₙᵢₜ"></a><a id="1848" href="Compiler.Example.html#1848" class="Function">Tᵢₙᵢₜ</a> <a id="1854" class="Symbol">:</a> <a id="1856" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="1859" class="Number">2</a> <a id="1861" class="Number">1</a>
    <a id="1867" href="Compiler.Example.html#1848" class="Function">Tᵢₙᵢₜ</a> <a id="1873" class="Symbol">=</a> <a id="1875" href="Bitcoin.Tx.Crypto.html#1445" class="Function">sig⋆</a> <a id="1880" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="1882" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="1884" href="Compiler.Example.html#929" class="Function">K</a> <a id="1886" class="Number">0</a> <a id="1888" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="1890" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="1892" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="1894" href="Compiler.Example.html#929" class="Function">K</a> <a id="1896" class="Number">1</a> <a id="1898" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="1900" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a> <a id="1902" class="Keyword">record</a>
      <a id="1915" class="Symbol">{</a> <a id="1917" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="1925" class="Symbol">=</a> <a id="1927" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="1935" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="1939" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="1941" href="Compiler.Example.html#1454" class="Function">Tˣ</a> <a id="1944" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="1946" href="Compiler.Example.html#1457" class="Function">Tʸ</a> <a id="1949" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
      <a id="1957" class="Symbol">;</a> <a id="1959" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="1967" class="Symbol">=</a> <a id="1969" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
      <a id="1980" class="Symbol">;</a> <a id="1982" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="1990" class="Symbol">=</a> <a id="1992" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="2004" class="Number">0</a>
      <a id="2012" class="Symbol">;</a> <a id="2014" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="2022" class="Symbol">=</a> <a id="2024" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="2026" class="Number">2</a> <a id="2028" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2030" class="Number">2</a> <a id="2032" href="Bitcoin.BasicTypes.html#984" class="Function Operator">𝐁</a> <a id="2034" href="Bitcoin.Tx.Base.html#698" class="InductiveConstructor Operator">locked-by</a> <a id="2044" href="Bitcoin.Script.Base.html#1929" class="InductiveConstructor Operator">ƛ</a> <a id="2046" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="2053" class="Symbol">(</a><a id="2054" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="2060" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="2062" href="Compiler.Example.html#954" class="Function">K²</a> <a id="2065" class="Number">0</a><a id="2066" class="Symbol">)</a> <a id="2068" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="2070" class="Number">0</a> <a id="2072" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="2074" class="Number">1</a> <a id="2076" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a> <a id="2078" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
      <a id="2086" class="Symbol">;</a> <a id="2088" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="2096" class="Symbol">=</a> <a id="2098" class="Number">0</a> <a id="2100" class="Symbol">}</a>
    <a id="Section7.Withdraw.Tᵢₙᵢₜ♯"></a><a id="2106" href="Compiler.Example.html#2106" class="Function">Tᵢₙᵢₜ♯</a> <a id="2113" class="Symbol">=</a> <a id="2115" class="Symbol">(</a><a id="2116" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a> <a id="2120" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="2122" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="2125" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="2128" href="Compiler.Example.html#1848" class="Function">Tᵢₙᵢₜ</a><a id="2133" class="Symbol">)</a> <a id="2135" href="Bitcoin.Crypto.html#609" class="Postulate Operator">♯</a>

    <a id="Section7.Withdraw.Tᵇ"></a><a id="2142" href="Compiler.Example.html#2142" class="Function">Tᵇ</a> <a id="2145" class="Symbol">:</a> <a id="2147" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="2150" class="Number">1</a> <a id="2152" class="Number">1</a>
    <a id="2158" href="Compiler.Example.html#2142" class="Function">Tᵇ</a> <a id="2161" class="Symbol">=</a> <a id="2163" href="Bitcoin.Tx.Crypto.html#1445" class="Function">sig⋆</a> <a id="2168" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="2170" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="2176" class="Symbol">(</a><a id="2177" href="Compiler.Example.html#954" class="Function">K²</a> <a id="2180" class="Number">0</a><a id="2181" class="Symbol">)</a> <a id="2183" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="2185" class="Keyword">record</a>
      <a id="2198" class="Symbol">{</a> <a id="2200" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="2208" class="Symbol">=</a> <a id="2210" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="2212" href="Compiler.Example.html#2106" class="Function">Tᵢₙᵢₜ♯</a> <a id="2219" href="Bitcoin.Tx.Base.html#394" class="InductiveConstructor Operator">at</a> <a id="2222" class="Number">0</a> <a id="2224" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
      <a id="2232" class="Symbol">;</a> <a id="2234" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="2242" class="Symbol">=</a> <a id="2244" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
      <a id="2255" class="Symbol">;</a> <a id="2257" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="2265" class="Symbol">=</a> <a id="2267" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="2279" class="Number">0</a>
      <a id="2287" class="Symbol">;</a> <a id="2289" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="2297" class="Symbol">=</a> <a id="2299" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="2301" class="Number">1</a> <a id="2303" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2305" class="Number">2</a> <a id="2307" href="Bitcoin.BasicTypes.html#984" class="Function Operator">𝐁</a> <a id="2309" href="Bitcoin.Tx.Base.html#698" class="InductiveConstructor Operator">locked-by</a> <a id="2319" href="Bitcoin.Script.Base.html#1929" class="InductiveConstructor Operator">ƛ</a> <a id="2321" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="2328" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="2330" href="Compiler.Example.html#929" class="Function">K</a> <a id="2332" class="Number">1</a> <a id="2334" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="2336" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="2338" class="Number">0</a> <a id="2340" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="2342" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
      <a id="2350" class="Symbol">;</a> <a id="2352" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="2360" class="Symbol">=</a> <a id="2362" class="Number">0</a> <a id="2364" class="Symbol">}</a>

    <a id="2371" href="Compiler.Example.html#2371" class="Function">_</a> <a id="2373" class="Symbol">=</a> <a id="2375" href="Compiler.Example.html#1776" class="Function">outTxs</a> <a id="2382" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="2384" class="Symbol">(</a><a id="2385" href="Compiler.Example.html#1848" class="Function">Tᵢₙᵢₜ</a> <a id="2391" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2393" href="Compiler.Example.html#2142" class="Function">Tᵇ</a><a id="2395" class="Symbol">)</a>
      <a id="2403" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="2405" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

  <a id="2413" class="Keyword">module</a> <a id="Section7.Split"></a><a id="2420" href="Compiler.Example.html#2420" class="Module">Split</a> <a id="2426" class="Keyword">where</a>
    <a id="Section7.Split.ex-ad"></a><a id="2436" href="Compiler.Example.html#2436" class="Function">ex-ad</a> <a id="2442" class="Symbol">:</a> <a id="2444" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a>
    <a id="2451" href="Compiler.Example.html#2436" class="Function">ex-ad</a> <a id="2457" class="Symbol">=</a> <a id="2459" href="BitML.Contracts.Types.html#2313" class="InductiveConstructor Operator">⟨</a> <a id="2461" href="BitML.Example.TimedCommitment.html#392" class="InductiveConstructor">A</a> <a id="2463" href="BitML.Contracts.Types.html#1876" class="InductiveConstructor Operator">:!</a> <a id="2466" class="Number">2</a> <a id="2468" href="Bitcoin.BasicTypes.html#984" class="Function Operator">𝐁</a> <a id="2470" href="BitML.Contracts.Types.html#1876" class="InductiveConstructor Operator">at</a> <a id="2473" class="String">&quot;x&quot;</a> <a id="2477" href="BitML.Contracts.Types.html#2051" class="InductiveConstructor Operator">∣</a> <a id="2479" href="BitML.Example.TimedCommitment.html#394" class="InductiveConstructor">B</a> <a id="2481" href="BitML.Contracts.Types.html#1876" class="InductiveConstructor Operator">:!</a> <a id="2484" class="Number">1</a> <a id="2486" href="Bitcoin.BasicTypes.html#984" class="Function Operator">𝐁</a> <a id="2488" href="BitML.Contracts.Types.html#1876" class="InductiveConstructor Operator">at</a> <a id="2491" class="String">&quot;y&quot;</a> <a id="2495" href="BitML.Contracts.Types.html#2313" class="InductiveConstructor Operator">⟩</a>
            <a id="2509" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="2511" href="BitML.Contracts.Types.html#941" class="InductiveConstructor">split</a> <a id="2517" class="Symbol">(</a><a id="2518" class="Number">1</a> <a id="2520" href="Bitcoin.BasicTypes.html#984" class="Function Operator">𝐁</a> <a id="2522" href="BitML.Contracts.Types.html#3041" class="Function Operator">⊸</a> <a id="2524" href="BitML.Contracts.Types.html#805" class="InductiveConstructor">withdraw</a> <a id="2533" href="BitML.Example.TimedCommitment.html#392" class="InductiveConstructor">A</a> <a id="2535" href="BitML.Contracts.Types.html#3012" class="Function Operator">⊗</a> <a id="2537" class="Number">2</a> <a id="2539" href="Bitcoin.BasicTypes.html#984" class="Function Operator">𝐁</a> <a id="2541" href="BitML.Contracts.Types.html#3041" class="Function Operator">⊸</a> <a id="2543" href="BitML.Contracts.Types.html#805" class="InductiveConstructor">withdraw</a> <a id="2552" href="BitML.Example.TimedCommitment.html#394" class="InductiveConstructor">B</a><a id="2553" class="Symbol">)</a> <a id="2555" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>

    <a id="2562" class="Keyword">open</a> <a id="2567" href="Compiler.Example.html#879" class="Module">∣K</a> <a id="2570" href="Compiler.Example.html#2436" class="Function">ex-ad</a>

    <a id="Section7.Split.T₀"></a><a id="2581" href="Compiler.Example.html#2581" class="Function">T₀</a> <a id="2584" class="Symbol">:</a> <a id="2586" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="2589" class="Number">0</a> <a id="2591" class="Number">2</a>
    <a id="2597" href="Compiler.Example.html#2581" class="Function">T₀</a> <a id="2600" class="Symbol">=</a> <a id="2602" class="Keyword">record</a>
      <a id="2615" class="Symbol">{</a> <a id="2617" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="2625" class="Symbol">=</a> <a id="2627" href="Data.Vec.Base.html#1043" class="InductiveConstructor">[]</a>
      <a id="2636" class="Symbol">;</a> <a id="2638" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="2646" class="Symbol">=</a> <a id="2648" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
      <a id="2659" class="Symbol">;</a> <a id="2661" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="2669" class="Symbol">=</a> <a id="2671" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="2683" class="Number">0</a>
      <a id="2691" class="Symbol">;</a> <a id="2693" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="2701" class="Symbol">=</a> <a id="2703" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="2705" class="Symbol">(</a><a id="2706" class="Number">2</a> <a id="2708" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2710" class="Number">1</a> <a id="2712" href="Bitcoin.BasicTypes.html#984" class="Function Operator">𝐁</a> <a id="2714" href="Bitcoin.Tx.Base.html#698" class="InductiveConstructor Operator">locked-by</a> <a id="2724" href="Bitcoin.Script.Base.html#1929" class="InductiveConstructor Operator">ƛ</a> <a id="2726" class="Symbol">(</a><a id="2727" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="2734" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="2736" href="Compiler.Example.html#929" class="Function">K</a> <a id="2738" class="Number">0</a> <a id="2740" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="2742" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="2744" class="Number">0</a> <a id="2746" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="2747" class="Symbol">))</a>
                  <a id="2768" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="2770" class="Symbol">(</a><a id="2771" class="Number">1</a> <a id="2773" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2775" class="Number">1</a> <a id="2777" href="Bitcoin.BasicTypes.html#984" class="Function Operator">𝐁</a> <a id="2779" href="Bitcoin.Tx.Base.html#698" class="InductiveConstructor Operator">locked-by</a> <a id="2789" href="Bitcoin.Script.Base.html#1929" class="InductiveConstructor Operator">ƛ</a> <a id="2791" class="Symbol">(</a><a id="2792" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="2799" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="2801" href="Compiler.Example.html#929" class="Function">K</a> <a id="2803" class="Number">1</a> <a id="2805" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="2807" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="2809" class="Number">0</a> <a id="2811" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="2812" class="Symbol">))</a>
                  <a id="2833" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
      <a id="2841" class="Symbol">;</a> <a id="2843" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="2851" class="Symbol">=</a> <a id="2853" class="Number">0</a> <a id="2855" class="Symbol">}</a>

    <a id="2862" class="Comment">-- pre-existing deposits</a>
    <a id="Section7.Split.Tˣ"></a><a id="2891" href="Compiler.Example.html#2891" class="Function">Tˣ</a> <a id="Section7.Split.Tʸ"></a><a id="2894" href="Compiler.Example.html#2894" class="Function">Tʸ</a> <a id="2897" class="Symbol">:</a> <a id="2899" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
    <a id="2912" href="Compiler.Example.html#2891" class="Function">Tˣ</a> <a id="2915" class="Symbol">=</a> <a id="2917" class="Symbol">(</a><a id="2918" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="2921" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="2924" href="Compiler.Example.html#2581" class="Function">T₀</a><a id="2926" class="Symbol">)</a> <a id="2928" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="2931" class="Number">0</a>
    <a id="2937" href="Compiler.Example.html#2894" class="Function">Tʸ</a> <a id="2940" class="Symbol">=</a> <a id="2942" class="Symbol">(</a><a id="2943" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="2946" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="2949" href="Compiler.Example.html#2581" class="Function">T₀</a><a id="2951" class="Symbol">)</a> <a id="2953" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="2956" class="Number">1</a>

    <a id="Section7.Split.sechash"></a><a id="2963" href="Compiler.Example.html#2963" class="Function">sechash</a> <a id="2971" class="Symbol">:</a> <a id="2973" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="2981" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a> <a id="2983" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="2985" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a>
    <a id="2991" href="Compiler.Example.html#2963" class="Function">sechash</a> <a id="2999" class="Symbol">()</a>

    <a id="Section7.Split.txout"></a><a id="3007" href="Compiler.Example.html#3007" class="Function">txout</a> <a id="3013" class="Symbol">:</a> <a id="3015" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="3019" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a> <a id="3021" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="3023" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
    <a id="3036" href="Compiler.Example.html#3007" class="Function">txout</a> <a id="3042" class="Symbol">=</a> <a id="3044" class="Symbol">λ</a> <a id="3046" class="Keyword">where</a>
      <a id="3058" class="Comment">{- &quot;x&quot; -}</a> <a id="3068" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="3070" class="Symbol">→</a> <a id="3072" href="Compiler.Example.html#2891" class="Function">Tˣ</a>
      <a id="3081" class="Comment">{- &quot;y&quot; -}</a> <a id="3091" href="Prelude.Membership.Patterns.html#144" class="InductiveConstructor">𝟙</a> <a id="3093" class="Symbol">→</a> <a id="3095" href="Compiler.Example.html#2894" class="Function">Tʸ</a>

    <a id="Section7.Split.out"></a><a id="3103" href="Compiler.Example.html#3103" class="Function">out</a> <a id="3107" class="Symbol">:</a> <a id="3109" href="Compiler.Outputs.html#206" class="Function">InitTx</a> <a id="3116" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a> <a id="3118" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="3120" class="Symbol">(</a><a id="3121" href="BitML.Contracts.Subterms.html#656" class="Function">subterms⁺</a> <a id="3131" href="BitML.Contracts.ModuleMacros.html#783" class="Function">C</a> <a id="3133" href="Prelude.Lists.Mappings.html#654" class="Function Operator">↦′</a> <a id="3136" href="Compiler.Outputs.html#504" class="Function">BranchTx</a><a id="3144" class="Symbol">)</a>
    <a id="3150" href="Compiler.Example.html#3103" class="Function">out</a> <a id="3154" class="Symbol">=</a> <a id="3156" href="Compiler.Translation.html#1219" class="Function">bitml-compiler</a> <a id="3171" class="Symbol">{</a><a id="3172" class="Argument">ad</a> <a id="3175" class="Symbol">=</a> <a id="3177" href="Compiler.Example.html#2436" class="Function">ex-ad</a><a id="3182" class="Symbol">}</a> <a id="3184" href="Prelude.Decidable.Core.html#181" class="Function">auto</a> <a id="3189" href="Compiler.Example.html#2963" class="Function">sechash</a> <a id="3197" href="Compiler.Example.html#3007" class="Function">txout</a> <a id="3203" href="Compiler.Example.html#929" class="Function">K</a> <a id="3205" href="Compiler.Example.html#954" class="Function">K²</a>

    <a id="Section7.Split.outTxs"></a><a id="3213" href="Compiler.Example.html#3213" class="Function">outTxs</a> <a id="3220" class="Symbol">:</a> <a id="3222" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="3225" class="Number">2</a> <a id="3227" class="Number">1</a> <a id="3229" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="3231" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="3234" class="Number">1</a> <a id="3236" class="Number">2</a> <a id="3238" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="3240" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="3243" class="Number">1</a> <a id="3245" class="Number">1</a> <a id="3247" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="3249" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="3252" class="Number">1</a> <a id="3254" class="Number">1</a>
    <a id="3260" href="Compiler.Example.html#3213" class="Function">outTxs</a> <a id="3267" class="Symbol">=</a> <a id="3269" class="Keyword">let</a> <a id="3273" href="Compiler.Example.html#3273" class="Bound">t₀</a> <a id="3276" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3278" href="Compiler.Example.html#3278" class="Bound">m</a> <a id="3280" class="Symbol">=</a> <a id="3282" href="Compiler.Example.html#3103" class="Function">out</a> <a id="3286" class="Keyword">in</a> <a id="3289" href="Compiler.Example.html#3273" class="Bound">t₀</a> <a id="3292" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3294" href="Compiler.Example.html#3278" class="Bound">m</a> <a id="3296" class="Number">0</a> <a id="3298" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3300" href="Compiler.Example.html#3278" class="Bound">m</a> <a id="3302" class="Number">1</a> <a id="3304" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3306" href="Compiler.Example.html#3278" class="Bound">m</a> <a id="3308" class="Number">2</a>

    <a id="Section7.Split.Tᵢₙᵢₜ"></a><a id="3315" href="Compiler.Example.html#3315" class="Function">Tᵢₙᵢₜ</a> <a id="3321" class="Symbol">:</a> <a id="3323" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="3326" class="Number">2</a> <a id="3328" class="Number">1</a>
    <a id="3334" href="Compiler.Example.html#3315" class="Function">Tᵢₙᵢₜ</a> <a id="3340" class="Symbol">=</a> <a id="3342" href="Bitcoin.Tx.Crypto.html#1445" class="Function">sig⋆</a> <a id="3347" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="3349" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="3351" href="Compiler.Example.html#929" class="Function">K</a> <a id="3353" class="Number">0</a> <a id="3355" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="3357" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="3359" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="3361" href="Compiler.Example.html#929" class="Function">K</a> <a id="3363" class="Number">1</a> <a id="3365" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="3367" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a> <a id="3369" class="Keyword">record</a>
      <a id="3382" class="Symbol">{</a> <a id="3384" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="3392" class="Symbol">=</a> <a id="3394" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="3402" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="3406" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="3408" href="Compiler.Example.html#2891" class="Function">Tˣ</a> <a id="3411" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="3413" href="Compiler.Example.html#2894" class="Function">Tʸ</a> <a id="3416" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
      <a id="3424" class="Symbol">;</a> <a id="3426" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="3434" class="Symbol">=</a> <a id="3436" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
      <a id="3447" class="Symbol">;</a> <a id="3449" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="3457" class="Symbol">=</a> <a id="3459" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="3471" class="Number">0</a>
      <a id="3479" class="Symbol">;</a> <a id="3481" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="3489" class="Symbol">=</a> <a id="3491" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="3493" class="Number">2</a> <a id="3495" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3497" class="Number">3</a> <a id="3499" href="Bitcoin.BasicTypes.html#984" class="Function Operator">𝐁</a> <a id="3501" href="Bitcoin.Tx.Base.html#698" class="InductiveConstructor Operator">locked-by</a> <a id="3511" href="Bitcoin.Script.Base.html#1929" class="InductiveConstructor Operator">ƛ</a> <a id="3513" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="3520" class="Symbol">(</a><a id="3521" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="3527" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="3529" href="Compiler.Example.html#954" class="Function">K²</a> <a id="3532" class="Number">0</a><a id="3533" class="Symbol">)</a> <a id="3535" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="3537" class="Number">0</a> <a id="3539" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="3541" class="Number">1</a> <a id="3543" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a> <a id="3545" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
      <a id="3553" class="Symbol">;</a> <a id="3555" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="3563" class="Symbol">=</a> <a id="3565" class="Number">0</a> <a id="3567" class="Symbol">}</a>
    <a id="Section7.Split.Tᵢₙᵢₜ♯"></a><a id="3573" href="Compiler.Example.html#3573" class="Function">Tᵢₙᵢₜ♯</a> <a id="3580" class="Symbol">=</a> <a id="3582" class="Symbol">(</a><a id="3583" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a> <a id="3587" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="3589" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="3592" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="3595" href="Compiler.Example.html#3315" class="Function">Tᵢₙᵢₜ</a><a id="3600" class="Symbol">)</a> <a id="3602" href="Bitcoin.Crypto.html#609" class="Postulate Operator">♯</a>

    <a id="Section7.Split.Tₛₚₗᵢₜ"></a><a id="3609" href="Compiler.Example.html#3609" class="Function">Tₛₚₗᵢₜ</a> <a id="3616" class="Symbol">:</a> <a id="3618" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="3621" class="Number">1</a> <a id="3623" class="Number">2</a>
    <a id="3629" href="Compiler.Example.html#3609" class="Function">Tₛₚₗᵢₜ</a> <a id="3636" class="Symbol">=</a> <a id="3638" href="Bitcoin.Tx.Crypto.html#1445" class="Function">sig⋆</a> <a id="3643" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="3645" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="3651" class="Symbol">(</a><a id="3652" href="Compiler.Example.html#954" class="Function">K²</a> <a id="3655" class="Number">0</a><a id="3656" class="Symbol">)</a> <a id="3658" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="3660" class="Keyword">record</a>
      <a id="3673" class="Symbol">{</a> <a id="3675" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="3683" class="Symbol">=</a> <a id="3685" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="3687" href="Compiler.Example.html#3573" class="Function">Tᵢₙᵢₜ♯</a> <a id="3694" href="Bitcoin.Tx.Base.html#394" class="InductiveConstructor Operator">at</a> <a id="3697" class="Number">0</a> <a id="3699" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
      <a id="3707" class="Symbol">;</a> <a id="3709" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="3717" class="Symbol">=</a> <a id="3719" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
      <a id="3730" class="Symbol">;</a> <a id="3732" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="3740" class="Symbol">=</a> <a id="3742" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="3754" class="Number">0</a>
      <a id="3762" class="Symbol">;</a> <a id="3764" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="3772" class="Symbol">=</a> <a id="3774" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="3776" class="Number">2</a> <a id="3778" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3780" class="Number">1</a> <a id="3782" href="Bitcoin.BasicTypes.html#984" class="Function Operator">𝐁</a> <a id="3784" href="Bitcoin.Tx.Base.html#698" class="InductiveConstructor Operator">locked-by</a> <a id="3794" href="Bitcoin.Script.Base.html#1929" class="InductiveConstructor Operator">ƛ</a> <a id="3796" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="3803" class="Symbol">(</a><a id="3804" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="3810" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="3812" href="Compiler.Example.html#954" class="Function">K²</a> <a id="3815" class="Number">1</a><a id="3816" class="Symbol">)</a> <a id="3818" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="3820" class="Number">0</a> <a id="3822" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="3824" class="Number">1</a> <a id="3826" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
                  <a id="3846" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="3848" class="Number">2</a> <a id="3850" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3852" class="Number">2</a> <a id="3854" href="Bitcoin.BasicTypes.html#984" class="Function Operator">𝐁</a> <a id="3856" href="Bitcoin.Tx.Base.html#698" class="InductiveConstructor Operator">locked-by</a> <a id="3866" href="Bitcoin.Script.Base.html#1929" class="InductiveConstructor Operator">ƛ</a> <a id="3868" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="3875" class="Symbol">(</a><a id="3876" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="3882" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="3884" href="Compiler.Example.html#954" class="Function">K²</a> <a id="3887" class="Number">2</a><a id="3888" class="Symbol">)</a> <a id="3890" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="3892" class="Number">0</a> <a id="3894" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="3896" class="Number">1</a> <a id="3898" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
                  <a id="3918" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
      <a id="3926" class="Symbol">;</a> <a id="3928" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="3936" class="Symbol">=</a> <a id="3938" class="Number">0</a> <a id="3940" class="Symbol">}</a>
    <a id="Section7.Split.Tₛₚₗᵢₜ♯"></a><a id="3946" href="Compiler.Example.html#3946" class="Function">Tₛₚₗᵢₜ♯</a> <a id="3954" class="Symbol">=</a> <a id="3956" class="Symbol">(</a><a id="3957" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a> <a id="3961" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="3963" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="3966" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="3969" href="Compiler.Example.html#3609" class="Function">Tₛₚₗᵢₜ</a><a id="3975" class="Symbol">)</a> <a id="3977" href="Bitcoin.Crypto.html#609" class="Postulate Operator">♯</a>

    <a id="Section7.Split.Tᵃ"></a><a id="3984" href="Compiler.Example.html#3984" class="Function">Tᵃ</a> <a id="3987" class="Symbol">:</a> <a id="3989" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="3992" class="Number">1</a> <a id="3994" class="Number">1</a>
    <a id="4000" href="Compiler.Example.html#3984" class="Function">Tᵃ</a> <a id="4003" class="Symbol">=</a> <a id="4005" href="Bitcoin.Tx.Crypto.html#1445" class="Function">sig⋆</a> <a id="4010" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="4012" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="4018" class="Symbol">(</a><a id="4019" href="Compiler.Example.html#954" class="Function">K²</a> <a id="4022" class="Number">1</a><a id="4023" class="Symbol">)</a> <a id="4025" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="4027" class="Keyword">record</a>
      <a id="4040" class="Symbol">{</a> <a id="4042" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="4050" class="Symbol">=</a> <a id="4052" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="4054" href="Compiler.Example.html#3946" class="Function">Tₛₚₗᵢₜ♯</a> <a id="4062" href="Bitcoin.Tx.Base.html#394" class="InductiveConstructor Operator">at</a> <a id="4065" class="Number">0</a> <a id="4067" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
      <a id="4075" class="Symbol">;</a> <a id="4077" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="4085" class="Symbol">=</a> <a id="4087" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
      <a id="4098" class="Symbol">;</a> <a id="4100" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="4108" class="Symbol">=</a> <a id="4110" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="4122" class="Number">0</a>
      <a id="4130" class="Symbol">;</a> <a id="4132" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="4140" class="Symbol">=</a> <a id="4142" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="4144" class="Number">1</a> <a id="4146" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4148" class="Number">1</a> <a id="4150" href="Bitcoin.BasicTypes.html#984" class="Function Operator">𝐁</a> <a id="4152" href="Bitcoin.Tx.Base.html#698" class="InductiveConstructor Operator">locked-by</a> <a id="4162" href="Bitcoin.Script.Base.html#1929" class="InductiveConstructor Operator">ƛ</a> <a id="4164" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="4171" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="4173" href="Compiler.Example.html#929" class="Function">K</a> <a id="4175" class="Number">0</a> <a id="4177" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="4179" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="4181" class="Number">0</a> <a id="4183" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="4185" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
      <a id="4193" class="Symbol">;</a> <a id="4195" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="4203" class="Symbol">=</a> <a id="4205" class="Number">0</a> <a id="4207" class="Symbol">}</a>

    <a id="Section7.Split.Tᵇ"></a><a id="4214" href="Compiler.Example.html#4214" class="Function">Tᵇ</a> <a id="4217" class="Symbol">:</a> <a id="4219" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="4222" class="Number">1</a> <a id="4224" class="Number">1</a>
    <a id="4230" href="Compiler.Example.html#4214" class="Function">Tᵇ</a> <a id="4233" class="Symbol">=</a> <a id="4235" href="Bitcoin.Tx.Crypto.html#1445" class="Function">sig⋆</a> <a id="4240" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="4242" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="4248" class="Symbol">(</a><a id="4249" href="Compiler.Example.html#954" class="Function">K²</a> <a id="4252" class="Number">2</a><a id="4253" class="Symbol">)</a> <a id="4255" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="4257" class="Keyword">record</a>
      <a id="4270" class="Symbol">{</a> <a id="4272" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="4280" class="Symbol">=</a> <a id="4282" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="4284" href="Compiler.Example.html#3946" class="Function">Tₛₚₗᵢₜ♯</a> <a id="4292" href="Bitcoin.Tx.Base.html#394" class="InductiveConstructor Operator">at</a> <a id="4295" class="Number">1</a> <a id="4297" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
      <a id="4305" class="Symbol">;</a> <a id="4307" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="4315" class="Symbol">=</a> <a id="4317" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
      <a id="4328" class="Symbol">;</a> <a id="4330" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="4338" class="Symbol">=</a> <a id="4340" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="4352" class="Number">0</a>
      <a id="4360" class="Symbol">;</a> <a id="4362" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="4370" class="Symbol">=</a> <a id="4372" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="4374" class="Number">1</a> <a id="4376" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4378" class="Number">2</a> <a id="4380" href="Bitcoin.BasicTypes.html#984" class="Function Operator">𝐁</a> <a id="4382" href="Bitcoin.Tx.Base.html#698" class="InductiveConstructor Operator">locked-by</a> <a id="4392" href="Bitcoin.Script.Base.html#1929" class="InductiveConstructor Operator">ƛ</a> <a id="4394" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="4401" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="4403" href="Compiler.Example.html#929" class="Function">K</a> <a id="4405" class="Number">1</a> <a id="4407" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="4409" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="4411" class="Number">0</a> <a id="4413" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="4415" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
      <a id="4423" class="Symbol">;</a> <a id="4425" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="4433" class="Symbol">=</a> <a id="4435" class="Number">0</a> <a id="4437" class="Symbol">}</a>

    <a id="4444" href="Compiler.Example.html#4444" class="Function">_</a> <a id="4446" class="Symbol">=</a> <a id="4448" href="Compiler.Example.html#3213" class="Function">outTxs</a> <a id="4455" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="4457" class="Symbol">(</a><a id="4458" href="Compiler.Example.html#3315" class="Function">Tᵢₙᵢₜ</a> <a id="4464" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4466" href="Compiler.Example.html#3609" class="Function">Tₛₚₗᵢₜ</a> <a id="4473" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4475" href="Compiler.Example.html#3984" class="Function">Tᵃ</a> <a id="4478" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4480" href="Compiler.Example.html#4214" class="Function">Tᵇ</a><a id="4482" class="Symbol">)</a>
      <a id="4490" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="4492" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

  <a id="4500" class="Keyword">module</a> <a id="Section7.Put"></a><a id="4507" href="Compiler.Example.html#4507" class="Module">Put</a> <a id="4511" class="Keyword">where</a>
    <a id="Section7.Put.ex-ad"></a><a id="4521" href="Compiler.Example.html#4521" class="Function">ex-ad</a> <a id="4527" class="Symbol">:</a> <a id="4529" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a>
    <a id="4536" href="Compiler.Example.html#4521" class="Function">ex-ad</a> <a id="4542" class="Symbol">=</a> <a id="4544" href="BitML.Contracts.Types.html#2313" class="InductiveConstructor Operator">⟨</a> <a id="4546" href="BitML.Example.TimedCommitment.html#392" class="InductiveConstructor">A</a> <a id="4548" href="BitML.Contracts.Types.html#1799" class="InductiveConstructor Operator">:?</a> <a id="4551" class="Number">1</a> <a id="4553" href="Bitcoin.BasicTypes.html#984" class="Function Operator">𝐁</a> <a id="4555" href="BitML.Contracts.Types.html#1799" class="InductiveConstructor Operator">at</a> <a id="4558" class="String">&quot;x&quot;</a> <a id="4562" href="BitML.Contracts.Types.html#2051" class="InductiveConstructor Operator">∣</a> <a id="4564" href="BitML.Example.TimedCommitment.html#392" class="InductiveConstructor">A</a> <a id="4566" href="BitML.Contracts.Types.html#1876" class="InductiveConstructor Operator">:!</a> <a id="4569" class="Number">1</a> <a id="4571" href="Bitcoin.BasicTypes.html#984" class="Function Operator">𝐁</a> <a id="4573" href="BitML.Contracts.Types.html#1876" class="InductiveConstructor Operator">at</a> <a id="4576" class="String">&quot;y&quot;</a> <a id="4580" href="BitML.Contracts.Types.html#2051" class="InductiveConstructor Operator">∣</a> <a id="4582" href="BitML.Example.TimedCommitment.html#394" class="InductiveConstructor">B</a> <a id="4584" href="BitML.Contracts.Types.html#1876" class="InductiveConstructor Operator">:!</a> <a id="4587" class="Number">1</a> <a id="4589" href="Bitcoin.BasicTypes.html#984" class="Function Operator">𝐁</a> <a id="4591" href="BitML.Contracts.Types.html#1876" class="InductiveConstructor Operator">at</a> <a id="4594" class="String">&quot;z&quot;</a> <a id="4598" href="BitML.Contracts.Types.html#2313" class="InductiveConstructor Operator">⟩</a>
            <a id="4612" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="4614" href="BitML.Contracts.Types.html#3694" class="Function Operator">put</a> <a id="4618" class="String">&quot;x&quot;</a> <a id="4622" href="BitML.Contracts.Types.html#3694" class="Function Operator">．</a> <a id="4624" href="BitML.Contracts.Types.html#805" class="InductiveConstructor">withdraw</a> <a id="4633" href="BitML.Example.TimedCommitment.html#394" class="InductiveConstructor">B</a> <a id="4635" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>

    <a id="4642" class="Keyword">open</a> <a id="4647" href="Compiler.Example.html#879" class="Module">∣K</a> <a id="4650" href="Compiler.Example.html#4521" class="Function">ex-ad</a>

    <a id="Section7.Put.T₀"></a><a id="4661" href="Compiler.Example.html#4661" class="Function">T₀</a> <a id="4664" class="Symbol">:</a> <a id="4666" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="4669" class="Number">0</a> <a id="4671" class="Number">3</a>
    <a id="4677" href="Compiler.Example.html#4661" class="Function">T₀</a> <a id="4680" class="Symbol">=</a> <a id="4682" class="Keyword">record</a>
      <a id="4695" class="Symbol">{</a> <a id="4697" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="4705" class="Symbol">=</a> <a id="4707" href="Data.Vec.Base.html#1043" class="InductiveConstructor">[]</a>
      <a id="4716" class="Symbol">;</a> <a id="4718" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="4726" class="Symbol">=</a> <a id="4728" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
      <a id="4739" class="Symbol">;</a> <a id="4741" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="4749" class="Symbol">=</a> <a id="4751" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="4763" class="Number">0</a>
      <a id="4771" class="Symbol">;</a> <a id="4773" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="4781" class="Symbol">=</a> <a id="4783" href="Prelude.Init.html#9927" class="InductiveConstructor Operator">[</a> <a id="4785" class="Symbol">(</a><a id="4786" class="Number">1</a> <a id="4788" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4790" class="Number">1</a> <a id="4792" href="Bitcoin.BasicTypes.html#984" class="Function Operator">𝐁</a> <a id="4794" href="Bitcoin.Tx.Base.html#698" class="InductiveConstructor Operator">locked-by</a> <a id="4804" href="Bitcoin.Script.Base.html#1929" class="InductiveConstructor Operator">ƛ</a> <a id="4806" class="Symbol">(</a><a id="4807" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="4814" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="4816" href="Compiler.Example.html#929" class="Function">K</a> <a id="4818" class="Number">0</a> <a id="4820" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="4822" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="4824" class="Number">0</a> <a id="4826" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="4827" class="Symbol">))</a>
                  <a id="4848" href="Prelude.Init.html#9927" class="InductiveConstructor Operator">⨾</a> <a id="4850" class="Symbol">(</a><a id="4851" class="Number">1</a> <a id="4853" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4855" class="Number">1</a> <a id="4857" href="Bitcoin.BasicTypes.html#984" class="Function Operator">𝐁</a> <a id="4859" href="Bitcoin.Tx.Base.html#698" class="InductiveConstructor Operator">locked-by</a> <a id="4869" href="Bitcoin.Script.Base.html#1929" class="InductiveConstructor Operator">ƛ</a> <a id="4871" class="Symbol">(</a><a id="4872" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="4879" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="4881" href="Compiler.Example.html#929" class="Function">K</a> <a id="4883" class="Number">0</a> <a id="4885" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="4887" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="4889" class="Number">0</a> <a id="4891" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="4892" class="Symbol">))</a>
                  <a id="4913" href="Prelude.Init.html#9927" class="InductiveConstructor Operator">⨾</a> <a id="4915" class="Symbol">(</a><a id="4916" class="Number">1</a> <a id="4918" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4920" class="Number">1</a> <a id="4922" href="Bitcoin.BasicTypes.html#984" class="Function Operator">𝐁</a> <a id="4924" href="Bitcoin.Tx.Base.html#698" class="InductiveConstructor Operator">locked-by</a> <a id="4934" href="Bitcoin.Script.Base.html#1929" class="InductiveConstructor Operator">ƛ</a> <a id="4936" class="Symbol">(</a><a id="4937" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="4944" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="4946" href="Compiler.Example.html#929" class="Function">K</a> <a id="4948" class="Number">1</a> <a id="4950" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="4952" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="4954" class="Number">0</a> <a id="4956" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="4957" class="Symbol">))</a>
                  <a id="4978" href="Prelude.Init.html#9927" class="InductiveConstructor Operator">]</a>
      <a id="4986" class="Symbol">;</a> <a id="4988" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="4996" class="Symbol">=</a> <a id="4998" class="Number">0</a> <a id="5000" class="Symbol">}</a>

    <a id="5007" class="Comment">-- pre-existing deposits</a>
    <a id="Section7.Put.Tˣ"></a><a id="5036" href="Compiler.Example.html#5036" class="Function">Tˣ</a> <a id="Section7.Put.Tʸ"></a><a id="5039" href="Compiler.Example.html#5039" class="Function">Tʸ</a> <a id="Section7.Put.Tᶻ"></a><a id="5042" href="Compiler.Example.html#5042" class="Function">Tᶻ</a> <a id="5045" class="Symbol">:</a> <a id="5047" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
    <a id="5060" href="Compiler.Example.html#5036" class="Function">Tˣ</a> <a id="5063" class="Symbol">=</a> <a id="5065" class="Symbol">(</a><a id="5066" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="5069" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="5072" href="Compiler.Example.html#4661" class="Function">T₀</a><a id="5074" class="Symbol">)</a> <a id="5076" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="5079" class="Number">0</a>
    <a id="5085" href="Compiler.Example.html#5039" class="Function">Tʸ</a> <a id="5088" class="Symbol">=</a> <a id="5090" class="Symbol">(</a><a id="5091" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="5094" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="5097" href="Compiler.Example.html#4661" class="Function">T₀</a><a id="5099" class="Symbol">)</a> <a id="5101" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="5104" class="Number">1</a>
    <a id="5110" href="Compiler.Example.html#5042" class="Function">Tᶻ</a> <a id="5113" class="Symbol">=</a> <a id="5115" class="Symbol">(</a><a id="5116" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="5119" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="5122" href="Compiler.Example.html#4661" class="Function">T₀</a><a id="5124" class="Symbol">)</a> <a id="5126" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="5129" class="Number">2</a>

    <a id="Section7.Put.sechash"></a><a id="5136" href="Compiler.Example.html#5136" class="Function">sechash</a> <a id="5144" class="Symbol">:</a> <a id="5146" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="5154" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a> <a id="5156" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="5158" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a>
    <a id="5164" href="Compiler.Example.html#5136" class="Function">sechash</a> <a id="5172" class="Symbol">()</a>

    <a id="Section7.Put.txout"></a><a id="5180" href="Compiler.Example.html#5180" class="Function">txout</a> <a id="5186" class="Symbol">:</a> <a id="5188" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="5192" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a> <a id="5194" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="5196" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
    <a id="5209" href="Compiler.Example.html#5180" class="Function">txout</a> <a id="5215" class="Symbol">=</a> <a id="5217" class="Symbol">λ</a> <a id="5219" class="Keyword">where</a>
      <a id="5231" class="Comment">{- &quot;x&quot; -}</a> <a id="5241" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="5243" class="Symbol">→</a> <a id="5245" href="Compiler.Example.html#5036" class="Function">Tˣ</a>
      <a id="5254" class="Comment">{- &quot;y&quot; -}</a> <a id="5264" href="Prelude.Membership.Patterns.html#144" class="InductiveConstructor">𝟙</a> <a id="5266" class="Symbol">→</a> <a id="5268" href="Compiler.Example.html#5039" class="Function">Tʸ</a>
      <a id="5277" class="Comment">{- &quot;z&quot; -}</a> <a id="5287" href="Prelude.Membership.Patterns.html#164" class="InductiveConstructor">𝟚</a> <a id="5289" class="Symbol">→</a> <a id="5291" href="Compiler.Example.html#5042" class="Function">Tᶻ</a>

    <a id="Section7.Put.out"></a><a id="5299" href="Compiler.Example.html#5299" class="Function">out</a> <a id="5303" class="Symbol">:</a> <a id="5305" href="Compiler.Outputs.html#206" class="Function">InitTx</a> <a id="5312" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a> <a id="5314" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="5316" class="Symbol">(</a><a id="5317" href="BitML.Contracts.Subterms.html#656" class="Function">subterms⁺</a> <a id="5327" href="BitML.Contracts.ModuleMacros.html#783" class="Function">C</a> <a id="5329" href="Prelude.Lists.Mappings.html#654" class="Function Operator">↦′</a> <a id="5332" href="Compiler.Outputs.html#504" class="Function">BranchTx</a><a id="5340" class="Symbol">)</a>
    <a id="5346" href="Compiler.Example.html#5299" class="Function">out</a> <a id="5350" class="Symbol">=</a> <a id="5352" href="Compiler.Translation.html#1219" class="Function">bitml-compiler</a> <a id="5367" class="Symbol">{</a><a id="5368" class="Argument">ad</a> <a id="5371" class="Symbol">=</a> <a id="5373" href="Compiler.Example.html#4521" class="Function">ex-ad</a><a id="5378" class="Symbol">}</a> <a id="5380" href="Prelude.Decidable.Core.html#181" class="Function">auto</a> <a id="5385" href="Compiler.Example.html#5136" class="Function">sechash</a> <a id="5393" href="Compiler.Example.html#5180" class="Function">txout</a> <a id="5399" href="Compiler.Example.html#929" class="Function">K</a> <a id="5401" href="Compiler.Example.html#954" class="Function">K²</a>

    <a id="Section7.Put.outTxs"></a><a id="5409" href="Compiler.Example.html#5409" class="Function">outTxs</a> <a id="5416" class="Symbol">:</a> <a id="5418" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="5421" class="Number">2</a> <a id="5423" class="Number">1</a> <a id="5425" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="5427" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="5430" class="Number">2</a> <a id="5432" class="Number">1</a> <a id="5434" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="5436" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="5439" class="Number">1</a> <a id="5441" class="Number">1</a>
    <a id="5447" href="Compiler.Example.html#5409" class="Function">outTxs</a> <a id="5454" class="Symbol">=</a> <a id="5456" class="Keyword">let</a> <a id="5460" href="Compiler.Example.html#5460" class="Bound">t₀</a> <a id="5463" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5465" href="Compiler.Example.html#5465" class="Bound">m</a> <a id="5467" class="Symbol">=</a> <a id="5469" href="Compiler.Example.html#5299" class="Function">out</a> <a id="5473" class="Keyword">in</a> <a id="5476" href="Compiler.Example.html#5460" class="Bound">t₀</a> <a id="5479" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5481" href="Compiler.Example.html#5465" class="Bound">m</a> <a id="5483" class="Number">0</a> <a id="5485" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5487" href="Compiler.Example.html#5465" class="Bound">m</a> <a id="5489" class="Number">1</a>

    <a id="Section7.Put.Tᵢₙᵢₜ"></a><a id="5496" href="Compiler.Example.html#5496" class="Function">Tᵢₙᵢₜ</a> <a id="5502" class="Symbol">:</a> <a id="5504" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="5507" class="Number">2</a> <a id="5509" class="Number">1</a>
    <a id="5515" href="Compiler.Example.html#5496" class="Function">Tᵢₙᵢₜ</a> <a id="5521" class="Symbol">=</a> <a id="5523" href="Bitcoin.Tx.Crypto.html#1445" class="Function">sig⋆</a> <a id="5528" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="5530" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="5532" href="Compiler.Example.html#929" class="Function">K</a> <a id="5534" class="Number">0</a> <a id="5536" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="5538" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="5540" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="5542" href="Compiler.Example.html#929" class="Function">K</a> <a id="5544" class="Number">1</a> <a id="5546" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="5548" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a> <a id="5550" class="Keyword">record</a>
      <a id="5563" class="Symbol">{</a> <a id="5565" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="5573" class="Symbol">=</a> <a id="5575" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="5583" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="5587" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="5589" href="Compiler.Example.html#5039" class="Function">Tʸ</a> <a id="5592" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="5594" href="Compiler.Example.html#5042" class="Function">Tᶻ</a> <a id="5597" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
      <a id="5605" class="Symbol">;</a> <a id="5607" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="5615" class="Symbol">=</a> <a id="5617" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
      <a id="5628" class="Symbol">;</a> <a id="5630" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="5638" class="Symbol">=</a> <a id="5640" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="5652" class="Number">0</a>
      <a id="5660" class="Symbol">;</a> <a id="5662" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="5670" class="Symbol">=</a> <a id="5672" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="5674" class="Number">2</a> <a id="5676" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5678" class="Number">2</a> <a id="5680" href="Bitcoin.BasicTypes.html#984" class="Function Operator">𝐁</a> <a id="5682" href="Bitcoin.Tx.Base.html#698" class="InductiveConstructor Operator">locked-by</a> <a id="5692" href="Bitcoin.Script.Base.html#1929" class="InductiveConstructor Operator">ƛ</a> <a id="5694" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="5701" class="Symbol">(</a><a id="5702" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="5708" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="5710" href="Compiler.Example.html#954" class="Function">K²</a> <a id="5713" class="Number">0</a><a id="5714" class="Symbol">)</a> <a id="5716" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="5718" class="Number">0</a> <a id="5720" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="5722" class="Number">1</a> <a id="5724" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
                                      <a id="5764" href="Bitcoin.Script.Base.html#1594" class="Function Operator">`∧</a> <a id="5767" href="Bitcoin.Script.Base.html#1549" class="Function">`true</a> <a id="5773" href="Bitcoin.Script.Base.html#1594" class="Function Operator">`∧</a> <a id="5776" href="Bitcoin.Script.Base.html#1549" class="Function">`true</a> <a id="5782" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
      <a id="5790" class="Symbol">;</a> <a id="5792" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="5800" class="Symbol">=</a> <a id="5802" class="Number">0</a> <a id="5804" class="Symbol">}</a>
    <a id="Section7.Put.Tᵢₙᵢₜ♯"></a><a id="5810" href="Compiler.Example.html#5810" class="Function">Tᵢₙᵢₜ♯</a> <a id="5817" class="Symbol">=</a> <a id="5819" class="Symbol">(</a><a id="5820" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a> <a id="5824" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="5826" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="5829" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="5832" href="Compiler.Example.html#5496" class="Function">Tᵢₙᵢₜ</a><a id="5837" class="Symbol">)</a> <a id="5839" href="Bitcoin.Crypto.html#609" class="Postulate Operator">♯</a>

    <a id="Section7.Put.Tₚᵤₜ"></a><a id="5846" href="Compiler.Example.html#5846" class="Function">Tₚᵤₜ</a> <a id="5851" class="Symbol">:</a> <a id="5853" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="5856" class="Number">2</a> <a id="5858" class="Number">1</a>
    <a id="5864" href="Compiler.Example.html#5846" class="Function">Tₚᵤₜ</a> <a id="5869" class="Symbol">=</a> <a id="5871" href="Bitcoin.Tx.Crypto.html#1445" class="Function">sig⋆</a> <a id="5876" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="5878" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="5884" class="Symbol">(</a><a id="5885" href="Compiler.Example.html#954" class="Function">K²</a> <a id="5888" class="Number">0</a><a id="5889" class="Symbol">)</a> <a id="5891" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="5893" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="5895" href="Compiler.Example.html#929" class="Function">K</a> <a id="5897" class="Number">0</a> <a id="5899" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="5901" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a> <a id="5903" class="Keyword">record</a>
      <a id="5916" class="Symbol">{</a> <a id="5918" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="5926" class="Symbol">=</a> <a id="5928" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="5930" href="Compiler.Example.html#5810" class="Function">Tᵢₙᵢₜ♯</a> <a id="5937" href="Bitcoin.Tx.Base.html#394" class="InductiveConstructor Operator">at</a> <a id="5940" class="Number">0</a> <a id="5942" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="5944" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="5952" href="Compiler.Example.html#5036" class="Function">Tˣ</a> <a id="5955" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
      <a id="5963" class="Symbol">;</a> <a id="5965" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="5973" class="Symbol">=</a> <a id="5975" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
      <a id="5986" class="Symbol">;</a> <a id="5988" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="5996" class="Symbol">=</a> <a id="5998" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="6010" class="Number">0</a>
      <a id="6018" class="Symbol">;</a> <a id="6020" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="6028" class="Symbol">=</a> <a id="6030" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="6032" class="Number">2</a> <a id="6034" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6036" class="Number">3</a> <a id="6038" href="Bitcoin.BasicTypes.html#984" class="Function Operator">𝐁</a> <a id="6040" href="Bitcoin.Tx.Base.html#698" class="InductiveConstructor Operator">locked-by</a> <a id="6050" href="Bitcoin.Script.Base.html#1929" class="InductiveConstructor Operator">ƛ</a> <a id="6052" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="6059" class="Symbol">(</a><a id="6060" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="6066" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="6068" href="Compiler.Example.html#954" class="Function">K²</a> <a id="6071" class="Number">1</a><a id="6072" class="Symbol">)</a> <a id="6074" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="6076" class="Number">0</a> <a id="6078" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="6080" class="Number">1</a> <a id="6082" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a> <a id="6084" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
      <a id="6092" class="Symbol">;</a> <a id="6094" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="6102" class="Symbol">=</a> <a id="6104" class="Number">0</a> <a id="6106" class="Symbol">}</a>
    <a id="Section7.Put.Tₚᵤₜ♯"></a><a id="6112" href="Compiler.Example.html#6112" class="Function">Tₚᵤₜ♯</a> <a id="6118" class="Symbol">=</a> <a id="6120" class="Symbol">(</a><a id="6121" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a> <a id="6125" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="6127" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="6130" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="6133" href="Compiler.Example.html#5846" class="Function">Tₚᵤₜ</a><a id="6137" class="Symbol">)</a> <a id="6139" href="Bitcoin.Crypto.html#609" class="Postulate Operator">♯</a>

    <a id="Section7.Put.Tᵃ"></a><a id="6146" href="Compiler.Example.html#6146" class="Function">Tᵃ</a> <a id="6149" class="Symbol">:</a> <a id="6151" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="6154" class="Number">1</a> <a id="6156" class="Number">1</a>
    <a id="6162" href="Compiler.Example.html#6146" class="Function">Tᵃ</a> <a id="6165" class="Symbol">=</a> <a id="6167" href="Bitcoin.Tx.Crypto.html#1445" class="Function">sig⋆</a> <a id="6172" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="6174" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="6180" class="Symbol">(</a><a id="6181" href="Compiler.Example.html#954" class="Function">K²</a> <a id="6184" class="Number">1</a><a id="6185" class="Symbol">)</a> <a id="6187" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="6189" class="Keyword">record</a>
      <a id="6202" class="Symbol">{</a> <a id="6204" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="6212" class="Symbol">=</a> <a id="6214" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="6216" href="Compiler.Example.html#6112" class="Function">Tₚᵤₜ♯</a> <a id="6222" href="Bitcoin.Tx.Base.html#394" class="InductiveConstructor Operator">at</a> <a id="6225" class="Number">0</a> <a id="6227" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
      <a id="6235" class="Symbol">;</a> <a id="6237" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="6245" class="Symbol">=</a> <a id="6247" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
      <a id="6258" class="Symbol">;</a> <a id="6260" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="6268" class="Symbol">=</a> <a id="6270" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="6282" class="Number">0</a>
      <a id="6290" class="Symbol">;</a> <a id="6292" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="6300" class="Symbol">=</a> <a id="6302" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="6304" class="Number">1</a> <a id="6306" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6308" class="Number">3</a> <a id="6310" href="Bitcoin.BasicTypes.html#984" class="Function Operator">𝐁</a> <a id="6312" href="Bitcoin.Tx.Base.html#698" class="InductiveConstructor Operator">locked-by</a> <a id="6322" href="Bitcoin.Script.Base.html#1929" class="InductiveConstructor Operator">ƛ</a> <a id="6324" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="6331" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="6333" href="Compiler.Example.html#929" class="Function">K</a> <a id="6335" class="Number">1</a> <a id="6337" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="6339" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="6341" class="Number">0</a> <a id="6343" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="6345" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
      <a id="6353" class="Symbol">;</a> <a id="6355" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="6363" class="Symbol">=</a> <a id="6365" class="Number">0</a> <a id="6367" class="Symbol">}</a>

    <a id="6374" href="Compiler.Example.html#6374" class="Function">_</a> <a id="6376" class="Symbol">=</a> <a id="6378" href="Compiler.Example.html#5409" class="Function">outTxs</a> <a id="6385" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="6387" class="Symbol">(</a><a id="6388" href="Compiler.Example.html#5496" class="Function">Tᵢₙᵢₜ</a> <a id="6394" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6396" href="Compiler.Example.html#5846" class="Function">Tₚᵤₜ</a> <a id="6401" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6403" href="Compiler.Example.html#6146" class="Function">Tᵃ</a><a id="6405" class="Symbol">)</a>
      <a id="6413" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="6415" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

<a id="6421" class="Keyword">module</a> <a id="TimedCommitment"></a><a id="6428" href="Compiler.Example.html#6428" class="Module">TimedCommitment</a> <a id="6444" class="Keyword">where</a> <a id="6450" class="Comment">-- (see BitML, Section 7 and Appendix A.5)</a>

  <a id="6496" class="Keyword">open</a> <a id="6501" class="Keyword">import</a> <a id="6508" href="BitML.Example.TimedCommitment.html" class="Module">BitML.Example.TimedCommitment</a>

  <a id="6541" class="Keyword">open</a> <a id="6546" href="Compiler.Example.html#879" class="Module">∣K</a> <a id="6549" href="BitML.Example.TimedCommitment.html#795" class="Function">TC</a>

  <a id="TimedCommitment.v"></a><a id="6555" href="Compiler.Example.html#6555" class="Function">v</a> <a id="6557" class="Symbol">=</a> <a id="6559" href="BitML.BasicTypes.html#271" class="Function">Value</a> <a id="6565" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="6567" class="Number">1</a> <a id="6569" class="Symbol">;</a> <a id="TimedCommitment.a♯"></a><a id="6571" href="Compiler.Example.html#6571" class="Function">a♯</a> <a id="6574" class="Symbol">=</a> <a id="6576" href="Agda.Builtin.Int.html#246" class="InductiveConstructor Operator">+</a> <a id="6578" class="Number">9</a> <a id="6580" class="Comment">-- constants</a>

  <a id="TimedCommitment.T₀"></a><a id="6596" href="Compiler.Example.html#6596" class="Function">T₀</a> <a id="6599" class="Symbol">:</a> <a id="6601" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="6604" class="Number">0</a> <a id="6606" class="Number">2</a>
  <a id="6610" href="Compiler.Example.html#6596" class="Function">T₀</a> <a id="6613" class="Symbol">=</a> <a id="6615" class="Keyword">record</a>
    <a id="6626" class="Symbol">{</a> <a id="6628" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="6636" class="Symbol">=</a> <a id="6638" href="Data.Vec.Base.html#1043" class="InductiveConstructor">[]</a>
    <a id="6645" class="Symbol">;</a> <a id="6647" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="6655" class="Symbol">=</a> <a id="6657" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
    <a id="6666" class="Symbol">;</a> <a id="6668" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="6676" class="Symbol">=</a> <a id="6678" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="6690" class="Number">0</a>
    <a id="6696" class="Symbol">;</a> <a id="6698" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="6706" class="Symbol">=</a> <a id="6708" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="6710" class="Symbol">(</a><a id="6711" class="Number">1</a> <a id="6713" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6715" href="Compiler.Example.html#6555" class="Function">v</a> <a id="6717" href="Bitcoin.Tx.Base.html#698" class="InductiveConstructor Operator">locked-by</a> <a id="6727" href="Bitcoin.Script.Base.html#1929" class="InductiveConstructor Operator">ƛ</a> <a id="6729" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="6736" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="6738" href="Compiler.Example.html#929" class="Function">K</a> <a id="6740" class="Number">0</a> <a id="6742" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="6744" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="6746" class="Number">0</a> <a id="6748" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="6749" class="Symbol">)</a>
                <a id="6767" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="6769" class="Symbol">(</a><a id="6770" class="Number">1</a> <a id="6772" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6774" class="Number">0</a> <a id="6776" href="Bitcoin.Tx.Base.html#698" class="InductiveConstructor Operator">locked-by</a> <a id="6786" href="Bitcoin.Script.Base.html#1929" class="InductiveConstructor Operator">ƛ</a> <a id="6788" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="6795" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="6797" href="Compiler.Example.html#929" class="Function">K</a> <a id="6799" class="Number">1</a> <a id="6801" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="6803" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="6805" class="Number">0</a> <a id="6807" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="6808" class="Symbol">)</a>
                <a id="6826" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
    <a id="6832" class="Symbol">;</a> <a id="6834" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="6842" class="Symbol">=</a> <a id="6844" class="Number">0</a> <a id="6846" class="Symbol">}</a>

  <a id="6851" class="Comment">-- pre-existing deposits</a>
  <a id="TimedCommitment.Tᵃ"></a><a id="6878" href="Compiler.Example.html#6878" class="Function">Tᵃ</a> <a id="TimedCommitment.Tᵇ"></a><a id="6881" href="Compiler.Example.html#6881" class="Function">Tᵇ</a> <a id="6884" class="Symbol">:</a> <a id="6886" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
  <a id="6897" href="Compiler.Example.html#6878" class="Function">Tᵃ</a> <a id="6900" class="Symbol">=</a> <a id="6902" class="Symbol">(</a><a id="6903" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="6906" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="6909" href="Compiler.Example.html#6596" class="Function">T₀</a><a id="6911" class="Symbol">)</a> <a id="6913" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="6916" class="Number">0</a>
  <a id="6920" href="Compiler.Example.html#6881" class="Function">Tᵇ</a> <a id="6923" class="Symbol">=</a> <a id="6925" class="Symbol">(</a><a id="6926" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="6929" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="6932" href="Compiler.Example.html#6596" class="Function">T₀</a><a id="6934" class="Symbol">)</a> <a id="6936" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="6939" class="Number">1</a>

  <a id="TimedCommitment.sechash"></a><a id="6944" href="Compiler.Example.html#6944" class="Function">sechash</a> <a id="6952" class="Symbol">:</a> <a id="6954" href="BitML.Contracts.Collections.html#4209" class="Function">secrets</a> <a id="6962" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a> <a id="6964" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="6966" href="Agda.Builtin.Int.html#228" class="Datatype">ℤ</a>
  <a id="6970" href="Compiler.Example.html#6944" class="Function">sechash</a> <a id="6978" class="Symbol">=</a> <a id="6980" class="Symbol">λ</a> <a id="6982" class="Keyword">where</a>
    <a id="6992" class="Comment">{- &quot;a&quot; -}</a> <a id="7002" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="7004" class="Symbol">→</a> <a id="7006" href="Compiler.Example.html#6571" class="Function">a♯</a>

  <a id="TimedCommitment.txout"></a><a id="7012" href="Compiler.Example.html#7012" class="Function">txout</a> <a id="7018" class="Symbol">:</a> <a id="7020" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="7024" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a> <a id="7026" href="Prelude.Lists.Mappings.html#778" class="Function Operator">↦</a> <a id="7028" href="Bitcoin.Tx.Base.html#1867" class="Record">TxInput′</a>
  <a id="7039" href="Compiler.Example.html#7012" class="Function">txout</a> <a id="7045" class="Symbol">=</a> <a id="7047" class="Symbol">λ</a> <a id="7049" class="Keyword">where</a>
    <a id="7059" class="Comment">{- &quot;x&quot; -}</a> <a id="7069" href="Prelude.Membership.Patterns.html#122" class="InductiveConstructor">𝟘</a> <a id="7071" class="Symbol">→</a> <a id="7073" href="Compiler.Example.html#6878" class="Function">Tᵃ</a>
    <a id="7080" class="Comment">{- &quot;y&quot; -}</a> <a id="7090" href="Prelude.Membership.Patterns.html#144" class="InductiveConstructor">𝟙</a> <a id="7092" class="Symbol">→</a> <a id="7094" href="Compiler.Example.html#6881" class="Function">Tᵇ</a>

  <a id="TimedCommitment.out"></a><a id="7100" href="Compiler.Example.html#7100" class="Function">out</a> <a id="7104" class="Symbol">:</a> <a id="7106" href="Compiler.Outputs.html#206" class="Function">InitTx</a> <a id="7113" href="BitML.Contracts.ModuleMacros.html#798" class="Function">G</a> <a id="7115" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="7117" class="Symbol">(</a><a id="7118" href="BitML.Contracts.Subterms.html#656" class="Function">subterms⁺</a> <a id="7128" href="BitML.Contracts.ModuleMacros.html#783" class="Function">C</a> <a id="7130" href="Prelude.Lists.Mappings.html#654" class="Function Operator">↦′</a> <a id="7133" href="Compiler.Outputs.html#504" class="Function">BranchTx</a><a id="7141" class="Symbol">)</a>
  <a id="7145" href="Compiler.Example.html#7100" class="Function">out</a> <a id="7149" class="Symbol">=</a> <a id="7151" href="Compiler.Translation.html#1219" class="Function">bitml-compiler</a> <a id="7166" class="Symbol">{</a><a id="7167" class="Argument">ad</a> <a id="7170" class="Symbol">=</a> <a id="7172" href="BitML.Example.TimedCommitment.html#795" class="Function">TC</a><a id="7174" class="Symbol">}</a> <a id="7176" href="Prelude.Decidable.Core.html#181" class="Function">auto</a> <a id="7181" href="Compiler.Example.html#6944" class="Function">sechash</a> <a id="7189" href="Compiler.Example.html#7012" class="Function">txout</a> <a id="7195" href="Compiler.Example.html#929" class="Function">K</a> <a id="7197" href="Compiler.Example.html#954" class="Function">K²</a>

  <a id="TimedCommitment.outTxs"></a><a id="7203" href="Compiler.Example.html#7203" class="Function">outTxs</a> <a id="7210" class="Symbol">:</a> <a id="7212" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="7215" class="Number">2</a> <a id="7217" class="Number">1</a> <a id="7219" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="7221" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="7224" class="Number">1</a> <a id="7226" class="Number">1</a> <a id="7228" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="7230" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="7233" class="Number">1</a> <a id="7235" class="Number">1</a> <a id="7237" href="Data.Product.html#1176" class="Function Operator">×</a> <a id="7239" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="7242" class="Number">1</a> <a id="7244" class="Number">1</a>
  <a id="7248" href="Compiler.Example.html#7203" class="Function">outTxs</a> <a id="7255" class="Symbol">=</a> <a id="7257" class="Keyword">let</a> <a id="7261" href="Compiler.Example.html#7261" class="Bound">t₀</a> <a id="7264" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="7266" href="Compiler.Example.html#7266" class="Bound">m</a> <a id="7268" class="Symbol">=</a> <a id="7270" href="Compiler.Example.html#7100" class="Function">out</a> <a id="7274" class="Keyword">in</a> <a id="7277" href="Compiler.Example.html#7261" class="Bound">t₀</a> <a id="7280" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="7282" href="Compiler.Example.html#7266" class="Bound">m</a> <a id="7284" class="Number">0</a> <a id="7286" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="7288" href="Compiler.Example.html#7266" class="Bound">m</a> <a id="7290" class="Number">1</a> <a id="7292" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="7294" href="Compiler.Example.html#7266" class="Bound">m</a> <a id="7296" class="Number">2</a>

  <a id="TimedCommitment.Tᵢₙᵢₜ"></a><a id="7301" href="Compiler.Example.html#7301" class="Function">Tᵢₙᵢₜ</a> <a id="7307" class="Symbol">:</a> <a id="7309" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="7312" class="Number">2</a> <a id="7314" class="Number">1</a>
  <a id="7318" href="Compiler.Example.html#7301" class="Function">Tᵢₙᵢₜ</a> <a id="7324" class="Symbol">=</a> <a id="7326" href="Bitcoin.Tx.Crypto.html#1445" class="Function">sig⋆</a> <a id="7331" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="7333" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="7335" href="Compiler.Example.html#929" class="Function">K</a> <a id="7337" class="Number">0</a> <a id="7339" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="7341" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="7343" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="7345" href="Compiler.Example.html#929" class="Function">K</a> <a id="7347" class="Number">1</a> <a id="7349" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="7351" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a> <a id="7353" class="Keyword">record</a>
    <a id="7364" class="Symbol">{</a> <a id="7366" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="7374" class="Symbol">=</a> <a id="7376" href="Bitcoin.Tx.Crypto.html#651" class="Function">hashTxⁱ</a> <a id="7384" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="7388" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="7390" href="Compiler.Example.html#6878" class="Function">Tᵃ</a> <a id="7393" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="7395" href="Compiler.Example.html#6881" class="Function">Tᵇ</a> <a id="7398" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
    <a id="7404" class="Symbol">;</a> <a id="7406" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="7414" class="Symbol">=</a> <a id="7416" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
    <a id="7425" class="Symbol">;</a> <a id="7427" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="7435" class="Symbol">=</a> <a id="7437" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="7449" class="Number">0</a>
    <a id="7455" class="Symbol">;</a> <a id="7457" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="7465" class="Symbol">=</a> <a id="7467" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="7469" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="7472" href="Compiler.Example.html#6555" class="Function">v</a> <a id="7474" href="Bitcoin.Tx.Base.html#698" class="InductiveConstructor Operator">locked-by</a> <a id="7484" href="Bitcoin.Script.Base.html#1929" class="InductiveConstructor Operator">ƛ</a> <a id="7486" class="Symbol">(</a><a id="7487" href="Compiler.Example.html#7534" class="Function">e₁</a> <a id="7490" href="Bitcoin.Script.Base.html#1693" class="Function Operator">`∨</a> <a id="7493" href="Compiler.Example.html#7694" class="Function">e₂</a><a id="7495" class="Symbol">)</a><a id="7496" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
    <a id="7502" class="Symbol">;</a> <a id="7504" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="7512" class="Symbol">=</a> <a id="7514" class="Number">0</a> <a id="7516" class="Symbol">}</a>
    <a id="7522" class="Keyword">where</a>
      <a id="7534" href="Compiler.Example.html#7534" class="Function">e₁</a> <a id="7537" class="Symbol">:</a> <a id="7539" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="7546" class="Number">3</a> <a id="7548" href="Bitcoin.Script.Base.html#432" class="InductiveConstructor">`Bool</a>
      <a id="7560" href="Compiler.Example.html#7534" class="Function">e₁</a> <a id="7563" class="Symbol">=</a> <a id="7565" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="7572" class="Symbol">(</a><a id="7573" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="7579" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="7581" href="Compiler.Example.html#954" class="Function">K²</a> <a id="7584" class="Number">0</a><a id="7585" class="Symbol">)</a> <a id="7587" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="7589" class="Number">0</a> <a id="7591" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="7593" class="Number">1</a> <a id="7595" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
        <a id="7605" href="Bitcoin.Script.Base.html#1594" class="Function Operator">`∧</a> <a id="7608" href="Bitcoin.Script.Base.html#1549" class="Function">`true</a>
        <a id="7622" href="Bitcoin.Script.Base.html#1594" class="Function Operator">`∧</a> <a id="7625" href="Bitcoin.Script.Base.html#3282" class="Function">⋀</a> <a id="7627" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="7629" href="Bitcoin.Script.Base.html#1075" class="InductiveConstructor">hash</a> <a id="7634" class="Symbol">(</a><a id="7635" href="Bitcoin.Script.Base.html#753" class="InductiveConstructor">var</a> <a id="7639" class="Number">2</a><a id="7640" class="Symbol">)</a> <a id="7642" href="Bitcoin.Script.Base.html#893" class="InductiveConstructor Operator">`=</a> <a id="7645" href="Bitcoin.Script.Base.html#821" class="InductiveConstructor">`</a> <a id="7647" class="Symbol">(</a><a id="7648" href="Compiler.Example.html#6944" class="Function">sechash</a> <a id="7656" class="Number">0</a><a id="7657" class="Symbol">)</a> <a id="7659" href="Bitcoin.Script.Base.html#1594" class="Function Operator">`∧</a> <a id="7662" class="Symbol">(</a><a id="7663" href="Bitcoin.Script.Base.html#821" class="InductiveConstructor">`</a> <a id="7665" class="Symbol">(</a><a id="7666" href="Agda.Builtin.Int.html#246" class="InductiveConstructor Operator">+</a> <a id="7668" href="Compiler.Example.html#807" class="Function">η</a><a id="7669" class="Symbol">)</a> <a id="7671" href="Bitcoin.Script.Base.html#898" class="InductiveConstructor Operator">`&lt;</a> <a id="7674" href="Bitcoin.Script.Base.html#1071" class="InductiveConstructor Operator">∣</a> <a id="7676" href="Bitcoin.Script.Base.html#753" class="InductiveConstructor">var</a> <a id="7680" class="Number">2</a> <a id="7682" href="Bitcoin.Script.Base.html#1071" class="InductiveConstructor Operator">∣</a><a id="7683" class="Symbol">)</a> <a id="7685" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>

      <a id="7694" href="Compiler.Example.html#7694" class="Function">e₂</a> <a id="7697" class="Symbol">:</a> <a id="7699" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="7706" class="Number">3</a> <a id="7708" href="Bitcoin.Script.Base.html#432" class="InductiveConstructor">`Bool</a>
      <a id="7720" href="Compiler.Example.html#7694" class="Function">e₂</a> <a id="7723" class="Symbol">=</a> <a id="7725" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="7732" class="Symbol">(</a><a id="7733" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="7739" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="7741" href="Compiler.Example.html#954" class="Function">K²</a> <a id="7744" class="Number">2</a><a id="7745" class="Symbol">)</a> <a id="7747" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="7749" class="Number">0</a> <a id="7751" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="7753" class="Number">1</a> <a id="7755" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
  <a id="TimedCommitment.Tᵢₙᵢₜ♯"></a><a id="7759" href="Compiler.Example.html#7759" class="Function">Tᵢₙᵢₜ♯</a> <a id="7766" class="Symbol">=</a> <a id="7768" class="Symbol">(</a><a id="7769" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a> <a id="7773" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="7775" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="7778" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="7781" href="Compiler.Example.html#7301" class="Function">Tᵢₙᵢₜ</a><a id="7786" class="Symbol">)</a> <a id="7788" href="Bitcoin.Crypto.html#609" class="Postulate Operator">♯</a>

  <a id="TimedCommitment.T′"></a><a id="7793" href="Compiler.Example.html#7793" class="Function">T′</a> <a id="7796" class="Symbol">:</a> <a id="7798" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="7801" class="Number">1</a> <a id="7803" class="Number">1</a>
  <a id="7807" href="Compiler.Example.html#7793" class="Function">T′</a> <a id="7810" class="Symbol">=</a> <a id="7812" href="Bitcoin.Tx.Crypto.html#1445" class="Function">sig⋆</a> <a id="7817" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="7819" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="7825" class="Symbol">(</a><a id="7826" href="Compiler.Example.html#954" class="Function">K²</a> <a id="7829" class="Number">0</a><a id="7830" class="Symbol">)</a> <a id="7832" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="7834" class="Keyword">record</a>
    <a id="7845" class="Symbol">{</a> <a id="7847" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="7855" class="Symbol">=</a> <a id="7857" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="7859" href="Compiler.Example.html#7759" class="Function">Tᵢₙᵢₜ♯</a> <a id="7866" href="Bitcoin.Tx.Base.html#394" class="InductiveConstructor Operator">at</a> <a id="7869" class="Number">0</a> <a id="7871" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
    <a id="7877" class="Symbol">;</a> <a id="7879" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="7887" class="Symbol">=</a> <a id="7889" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
    <a id="7898" class="Symbol">;</a> <a id="7900" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="7908" class="Symbol">=</a> <a id="7910" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="7922" class="Number">0</a>
    <a id="7928" class="Symbol">;</a> <a id="7930" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="7938" class="Symbol">=</a> <a id="7940" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="7942" class="Symbol">_</a> <a id="7944" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="7946" href="Compiler.Example.html#6555" class="Function">v</a> <a id="7948" href="Bitcoin.Tx.Base.html#698" class="InductiveConstructor Operator">locked-by</a> <a id="7958" href="Bitcoin.Script.Base.html#1929" class="InductiveConstructor Operator">ƛ</a> <a id="7960" href="Compiler.Example.html#8001" class="Function">e′</a> <a id="7963" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
    <a id="7969" class="Symbol">;</a> <a id="7971" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="7979" class="Symbol">=</a> <a id="7981" class="Number">0</a> <a id="7983" class="Symbol">}</a>
    <a id="7989" class="Keyword">where</a>
      <a id="8001" href="Compiler.Example.html#8001" class="Function">e′</a> <a id="8004" class="Symbol">:</a> <a id="8006" href="Bitcoin.Script.Base.html#659" class="Datatype">Script</a> <a id="8013" class="Number">2</a> <a id="8015" href="Bitcoin.Script.Base.html#432" class="InductiveConstructor">`Bool</a>
      <a id="8027" href="Compiler.Example.html#8001" class="Function">e′</a> <a id="8030" class="Symbol">=</a> <a id="8032" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="8039" class="Symbol">(</a><a id="8040" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="8046" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="8048" href="Compiler.Example.html#954" class="Function">K²</a> <a id="8051" class="Number">1</a><a id="8052" class="Symbol">)</a> <a id="8054" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">[</a> <a id="8056" class="Number">0</a> <a id="8058" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">⨾</a> <a id="8060" class="Number">1</a> <a id="8062" href="Prelude.Init.html#9897" class="InductiveConstructor Operator">]</a>
  <a id="TimedCommitment.T′♯"></a><a id="8066" href="Compiler.Example.html#8066" class="Function">T′♯</a> <a id="8070" class="Symbol">=</a> <a id="8072" class="Symbol">(</a><a id="8073" href="Bitcoin.Tx.Base.html#1326" class="Function">∃Tx</a> <a id="8077" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="8079" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="8082" href="Data.Product.html#2256" class="Function Operator">-,</a> <a id="8085" href="Compiler.Example.html#7793" class="Function">T′</a><a id="8087" class="Symbol">)</a> <a id="8089" href="Bitcoin.Crypto.html#609" class="Postulate Operator">♯</a>

  <a id="TimedCommitment.T′ᵃ"></a><a id="8094" href="Compiler.Example.html#8094" class="Function">T′ᵃ</a> <a id="8098" class="Symbol">:</a> <a id="8100" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="8103" class="Number">1</a> <a id="8105" class="Number">1</a>
  <a id="8109" href="Compiler.Example.html#8094" class="Function">T′ᵃ</a> <a id="8113" class="Symbol">=</a> <a id="8115" href="Bitcoin.Tx.Crypto.html#1445" class="Function">sig⋆</a> <a id="8120" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="8122" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="8128" class="Symbol">(</a><a id="8129" href="Compiler.Example.html#954" class="Function">K²</a> <a id="8132" class="Number">1</a><a id="8133" class="Symbol">)</a> <a id="8135" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="8137" class="Keyword">record</a>
    <a id="8148" class="Symbol">{</a> <a id="8150" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="8158" class="Symbol">=</a> <a id="8160" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="8162" href="Compiler.Example.html#8066" class="Function">T′♯</a> <a id="8166" href="Bitcoin.Tx.Base.html#394" class="InductiveConstructor Operator">at</a> <a id="8169" class="Number">0</a> <a id="8171" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
    <a id="8177" class="Symbol">;</a> <a id="8179" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="8187" class="Symbol">=</a> <a id="8189" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
    <a id="8198" class="Symbol">;</a> <a id="8200" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="8208" class="Symbol">=</a> <a id="8210" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="8222" class="Number">0</a>
    <a id="8228" class="Symbol">;</a> <a id="8230" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="8238" class="Symbol">=</a> <a id="8240" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="8242" class="Number">1</a> <a id="8244" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8246" href="Compiler.Example.html#6555" class="Function">v</a> <a id="8248" href="Bitcoin.Tx.Base.html#698" class="InductiveConstructor Operator">locked-by</a> <a id="8258" href="Bitcoin.Script.Base.html#1929" class="InductiveConstructor Operator">ƛ</a> <a id="8260" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="8267" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="8269" href="Compiler.Example.html#929" class="Function">K</a> <a id="8271" class="Number">0</a> <a id="8273" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="8275" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="8277" class="Number">0</a> <a id="8279" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="8281" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
    <a id="8287" class="Symbol">;</a> <a id="8289" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="8297" class="Symbol">=</a> <a id="8299" class="Number">0</a> <a id="8301" class="Symbol">}</a>

  <a id="TimedCommitment.T′ᵇ"></a><a id="8306" href="Compiler.Example.html#8306" class="Function">T′ᵇ</a> <a id="8310" class="Symbol">:</a> <a id="8312" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="8315" class="Number">1</a> <a id="8317" class="Number">1</a>
  <a id="8321" href="Compiler.Example.html#8306" class="Function">T′ᵇ</a> <a id="8325" class="Symbol">=</a> <a id="8327" href="Bitcoin.Tx.Crypto.html#1445" class="Function">sig⋆</a> <a id="8332" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="8334" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="8340" class="Symbol">(</a><a id="8341" href="Compiler.Example.html#954" class="Function">K²</a> <a id="8344" class="Number">2</a><a id="8345" class="Symbol">)</a> <a id="8347" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="8349" class="Keyword">record</a>
    <a id="8360" class="Symbol">{</a> <a id="8362" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="8370" class="Symbol">=</a> <a id="8372" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="8374" href="Compiler.Example.html#7759" class="Function">Tᵢₙᵢₜ♯</a> <a id="8381" href="Bitcoin.Tx.Base.html#394" class="InductiveConstructor Operator">at</a> <a id="8384" class="Number">0</a> <a id="8386" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
    <a id="8392" class="Symbol">;</a> <a id="8394" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="8402" class="Symbol">=</a> <a id="8404" href="Bitcoin.Tx.Crypto.html#958" class="Function">wit⊥</a>
    <a id="8413" class="Symbol">;</a> <a id="8415" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="8423" class="Symbol">=</a> <a id="8425" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="8437" class="Number">0</a>
    <a id="8443" class="Symbol">;</a> <a id="8445" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="8453" class="Symbol">=</a> <a id="8455" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="8457" class="Number">1</a> <a id="8459" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8461" href="Compiler.Example.html#6555" class="Function">v</a> <a id="8463" href="Bitcoin.Tx.Base.html#698" class="InductiveConstructor Operator">locked-by</a> <a id="8473" href="Bitcoin.Script.Base.html#1929" class="InductiveConstructor Operator">ƛ</a> <a id="8475" href="Bitcoin.Script.Base.html#1139" class="InductiveConstructor">versig</a> <a id="8482" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="8484" href="Compiler.Example.html#929" class="Function">K</a> <a id="8486" class="Number">1</a> <a id="8488" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="8490" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="8492" class="Number">0</a> <a id="8494" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="8496" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
    <a id="8502" class="Symbol">;</a> <a id="8504" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="8512" class="Symbol">=</a> <a id="8514" href="BitML.Example.TimedCommitment.html#726" class="Function">t</a> <a id="8516" class="Symbol">}</a>

  <a id="8521" href="Compiler.Example.html#8521" class="Function">_</a> <a id="8523" class="Symbol">=</a> <a id="8525" href="Compiler.Example.html#7203" class="Function">outTxs</a> <a id="8532" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="8534" class="Symbol">(</a><a id="8535" href="Compiler.Example.html#7301" class="Function">Tᵢₙᵢₜ</a> <a id="8541" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8543" href="Compiler.Example.html#7793" class="Function">T′</a> <a id="8546" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8548" href="Compiler.Example.html#8094" class="Function">T′ᵃ</a> <a id="8552" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8554" href="Compiler.Example.html#8306" class="Function">T′ᵇ</a><a id="8557" class="Symbol">)</a>
    <a id="8563" href="Function.Base.html#4571" class="Function Operator">∋</a> <a id="8565" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre></body></html>