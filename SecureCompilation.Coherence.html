<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>SecureCompilation.Coherence</title><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css'/><style>.github-fork-ribbon:before { background-color: #333; }</style><link rel="stylesheet" href="css/Agda.css"></head><body><a class='github-fork-ribbon'href='https://github.com/omelkonian/formal-bitml-to-bitcoin/tree/master/SecureCompilation/Coherence.agda'data-ribbon='Source code on Github' title='Source code on Github'>Source code on Github</a><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--no-forcing</a> <a id="26" class="Symbol">#-}</a>
<a id="30" class="Keyword">open</a> <a id="35" class="Keyword">import</a> <a id="42" href="Prelude.Init.html" class="Module">Prelude.Init</a> <a id="55" class="Keyword">hiding</a> <a id="62" class="Symbol">(</a><a id="63" href="Data.Bool.Base.html#1460" class="Function">T</a><a id="64" class="Symbol">)</a>
<a id="66" class="Keyword">open</a> <a id="71" href="Prelude.Init.html#7254" class="Module">L.Mem</a>
<a id="77" class="Keyword">open</a> <a id="82" class="Keyword">import</a> <a id="89" href="Prelude.Lists.html" class="Module">Prelude.Lists</a>
<a id="103" class="Keyword">open</a> <a id="108" class="Keyword">import</a> <a id="115" href="Prelude.General.html" class="Module">Prelude.General</a>
<a id="131" class="Keyword">open</a> <a id="136" class="Keyword">import</a> <a id="143" href="Prelude.Lists.Dec.html" class="Module">Prelude.Lists.Dec</a>
<a id="161" class="Keyword">open</a> <a id="166" class="Keyword">import</a> <a id="173" href="Prelude.DecEq.html" class="Module">Prelude.DecEq</a>
<a id="187" class="Keyword">open</a> <a id="192" class="Keyword">import</a> <a id="199" href="Prelude.InferenceRules.html" class="Module">Prelude.InferenceRules</a>

<a id="223" class="Keyword">open</a> <a id="228" class="Keyword">import</a> <a id="235" href="Prelude.Lists.Collections.html" class="Module">Prelude.Lists.Collections</a>
<a id="261" class="Keyword">open</a> <a id="266" class="Keyword">import</a> <a id="273" href="Prelude.Monoid.html" class="Module">Prelude.Monoid</a>

<a id="289" class="Keyword">open</a> <a id="294" class="Keyword">import</a> <a id="301" href="Prelude.Functor.html" class="Module">Prelude.Functor</a>
<a id="317" class="Keyword">open</a> <a id="322" class="Keyword">import</a> <a id="329" href="Prelude.Bifunctor.html" class="Module">Prelude.Bifunctor</a>
<a id="347" class="Keyword">open</a> <a id="352" class="Keyword">import</a> <a id="359" href="Prelude.Ord.html" class="Module">Prelude.Ord</a>
<a id="371" class="Keyword">open</a> <a id="376" class="Keyword">import</a> <a id="383" href="Prelude.ToN.html" class="Module">Prelude.ToN</a>
<a id="395" class="Keyword">open</a> <a id="400" class="Keyword">import</a> <a id="407" href="Prelude.ToList.html" class="Module">Prelude.ToList</a>
<a id="422" class="Keyword">open</a> <a id="427" class="Keyword">import</a> <a id="434" href="Prelude.Validity.html" class="Module">Prelude.Validity</a>
<a id="451" class="Keyword">open</a> <a id="456" class="Keyword">import</a> <a id="463" href="Prelude.Traces.html" class="Module">Prelude.Traces</a>
<a id="478" class="Keyword">open</a> <a id="483" class="Keyword">import</a> <a id="490" href="Prelude.Setoid.html" class="Module">Prelude.Setoid</a>
<a id="505" class="Keyword">open</a> <a id="510" class="Keyword">import</a> <a id="517" href="Prelude.Nary.html" class="Module">Prelude.Nary</a>
<a id="530" class="Keyword">open</a> <a id="535" class="Keyword">import</a> <a id="542" href="Prelude.Apartness.html" class="Module">Prelude.Apartness</a>
<a id="560" class="Keyword">open</a> <a id="565" class="Keyword">import</a> <a id="572" href="Prelude.Split.html" class="Module">Prelude.Split</a> <a id="586" class="Keyword">hiding</a> <a id="593" class="Symbol">(</a><a id="594" href="Prelude.Split.html#174" class="Field">split</a><a id="599" class="Symbol">)</a>
<a id="601" class="Keyword">open</a> <a id="606" class="Keyword">import</a> <a id="613" href="Prelude.Views.html" class="Module">Prelude.Views</a> <a id="627" class="Keyword">hiding</a> <a id="634" class="Symbol">(</a><a id="635" href="Prelude.Views.html#130" class="Record Operator">_â–·_</a><a id="638" class="Symbol">)</a>
<a id="640" class="Keyword">open</a> <a id="645" class="Keyword">import</a> <a id="652" href="Prelude.Null.html" class="Module">Prelude.Null</a>

<a id="666" class="Keyword">open</a> <a id="671" class="Keyword">import</a> <a id="678" href="SecureCompilation.ModuleParameters.html" class="Module">SecureCompilation.ModuleParameters</a> <a id="713" class="Keyword">using</a> <a id="719" class="Symbol">(</a><a id="720" href="SecureCompilation.ModuleParameters.html#209" class="Record">â‹¯</a><a id="721" class="Symbol">)</a>

<a id="724" class="Keyword">module</a> <a id="731" href="SecureCompilation.Coherence.html" class="Module">SecureCompilation.Coherence</a> <a id="759" class="Symbol">(</a><a id="760" href="SecureCompilation.Coherence.html#760" class="Bound">â‹¯</a> <a id="762" class="Symbol">:</a> <a id="764" href="SecureCompilation.ModuleParameters.html#209" class="Record">â‹¯</a><a id="765" class="Symbol">)</a> <a id="767" class="Symbol">(</a><a id="768" class="Keyword">let</a> <a id="772" class="Keyword">open</a> <a id="777" href="SecureCompilation.ModuleParameters.html#209" class="Module">â‹¯</a> <a id="779" href="SecureCompilation.Coherence.html#760" class="Bound">â‹¯</a><a id="780" class="Symbol">)</a> <a id="782" class="Keyword">where</a>

<a id="789" class="Keyword">open</a> <a id="794" class="Keyword">import</a> <a id="801" href="SymbolicModel.html" class="Module">SymbolicModel</a> <a id="815" href="SecureCompilation.ModuleParameters.html#282" class="Field">â‹¯â€²</a> as <a id="S"></a><a id="821" href="SecureCompilation.Coherence.html#821" class="Module">S</a>
  <a id="825" class="Keyword">hiding</a> <a id="832" class="Symbol">(</a><a id="833" href="Prelude.Closures.html#5661" class="InductiveConstructor Operator">_âˆ</a><a id="835" class="Symbol">;</a> <a id="837" href="Prelude.Closures.html#5559" class="InductiveConstructor Operator">begin_</a><a id="843" class="Symbol">;</a> <a id="845" href="BitML.Contracts.Types.html#1222" class="Generalizable">d</a><a id="846" class="Symbol">;</a> <a id="848" href="BitML.Semantics.Configurations.Types.html#1463" class="Generalizable">Î“â‚œâ€³</a><a id="851" class="Symbol">)</a>
  <a id="855" class="Keyword">renaming</a> <a id="864" class="Symbol">(</a><a id="865" href="BitML.Semantics.Configurations.Types.html#968" class="InductiveConstructor Operator">_âˆ¶_â™¯_</a> <a id="871" class="Symbol">to</a> <a id="874" class="InductiveConstructor Operator">_âˆ¶_#_</a><a id="879" class="Symbol">;</a> <a id="881" href="BitML.Semantics.Configurations.Types.html#878" class="InductiveConstructor Operator">âŸ¨_âˆ¶_â™¯_âŸ©</a> <a id="889" class="Symbol">to</a> <a id="892" class="InductiveConstructor Operator">âŸ¨_âˆ¶_#_âŸ©</a><a id="899" class="Symbol">)</a>
<a id="901" class="Keyword">open</a> <a id="906" class="Keyword">import</a> <a id="913" href="ComputationalModel.html" class="Module">ComputationalModel</a> <a id="932" href="SecureCompilation.ModuleParameters.html#282" class="Field">â‹¯â€²</a> <a id="935" href="SecureCompilation.ModuleParameters.html#450" class="Field">finPart</a> <a id="943" href="SecureCompilation.ModuleParameters.html#487" class="Field">keypairs</a> as <a id="C"></a><a id="955" href="SecureCompilation.Coherence.html#955" class="Module">C</a>
  <a id="959" class="Keyword">hiding</a> <a id="966" class="Symbol">(</a><a id="967" href="ComputationalModel.Strategy.html#7505" class="Field">Î£</a><a id="968" class="Symbol">;</a> <a id="970" href="Bitcoin.BasicTypes.html#429" class="Generalizable">t</a><a id="971" class="Symbol">;</a> <a id="973" href="Bitcoin.BasicTypes.html#431" class="Generalizable">tâ€²</a><a id="975" class="Symbol">;</a> <a id="977" href="Bitcoin.Script.Base.html#797" class="InductiveConstructor">`</a><a id="978" class="Symbol">;</a> <a id="980" href="Bitcoin.Script.Base.html#1047" class="InductiveConstructor Operator">âˆ£_âˆ£</a><a id="983" class="Symbol">;</a> <a id="985" href="Bitcoin.BasicTypes.html#418" class="Generalizable">n</a><a id="986" class="Symbol">)</a>
<a id="988" class="Keyword">open</a> <a id="993" class="Keyword">import</a> <a id="1000" href="Compiler.html" class="Module">Compiler</a> <a id="1009" href="SecureCompilation.ModuleParameters.html#282" class="Field">â‹¯â€²</a> <a id="1012" href="SecureCompilation.ModuleParameters.html#357" class="Field">Î·</a>
<a id="1014" class="Keyword">open</a> <a id="1019" class="Keyword">import</a> <a id="1026" href="SecureCompilation.ComputationalContracts.html" class="Module">SecureCompilation.ComputationalContracts</a> <a id="1067" href="SecureCompilation.ModuleParameters.html#282" class="Field">â‹¯â€²</a>
<a id="1070" class="Keyword">open</a> <a id="1075" class="Keyword">import</a> <a id="1082" href="SecureCompilation.Helpers.html" class="Module">SecureCompilation.Helpers</a> <a id="1108" href="SecureCompilation.Coherence.html#760" class="Bound">â‹¯</a>

<a id="1111" class="Keyword">private</a> <a id="1119" class="Keyword">variable</a>
  <a id="1130" href="SecureCompilation.Coherence.html#1130" class="Generalizable">âŸ¨GâŸ©C</a> <a id="1135" href="SecureCompilation.Coherence.html#1135" class="Generalizable">âŸ¨GâŸ©Câ€²</a> <a id="1141" href="SecureCompilation.Coherence.html#1141" class="Generalizable">âŸ¨GâŸ©Câ€³</a> <a id="1147" class="Symbol">:</a> <a id="1149" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a>
  <a id="1154" href="SecureCompilation.Coherence.html#1154" class="Generalizable">ğ•£</a>  <a id="1157" class="Symbol">:</a> <a id="1159" href="SymbolicModel.Mappings.Base.html#743" class="Function">â„</a> <a id="1161" href="SymbolicModel.Run.Base.html#407" class="Generalizable">RË¢</a>

<a id="_-redeemableWith-_"></a><a id="1165" href="SecureCompilation.Coherence.html#1165" class="Function Operator">_-redeemableWith-_</a> <a id="1184" class="Symbol">:</a> <a id="1186" href="BitML.BasicTypes.html#271" class="Function">S.Value</a> <a id="1194" class="Symbol">â†’</a> <a id="1196" href="Bitcoin.Crypto.html#346" class="Record">KeyPair</a> <a id="1204" class="Symbol">â†’</a> <a id="1206" href="Bitcoin.Tx.Base.html#857" class="Function">âˆƒTxOutput</a>
<a id="1216" href="SecureCompilation.Coherence.html#1216" class="Bound">v</a> <a id="1218" href="SecureCompilation.Coherence.html#1165" class="Function Operator">-redeemableWith-</a> <a id="1235" href="SecureCompilation.Coherence.html#1235" class="Bound">k</a> <a id="1237" class="Symbol">=</a> <a id="1239" class="Number">1</a> <a id="1241" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="1243" class="Keyword">record</a> <a id="1250" class="Symbol">{</a><a id="1251" href="Bitcoin.Tx.Base.html#718" class="Field">value</a> <a id="1257" class="Symbol">=</a> <a id="1259" href="SecureCompilation.Coherence.html#1216" class="Bound">v</a><a id="1260" class="Symbol">;</a>  <a id="1263" href="Bitcoin.Tx.Base.html#744" class="Field">validator</a> <a id="1273" class="Symbol">=</a> <a id="1275" href="Bitcoin.Script.Base.html#1921" class="InductiveConstructor Operator">Æ›</a> <a id="1277" class="Symbol">(</a><a id="1278" href="Bitcoin.Script.Base.html#1115" class="InductiveConstructor">versig</a> <a id="1285" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="1287" href="SecureCompilation.Coherence.html#1235" class="Bound">k</a> <a id="1289" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="1291" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="1293" href="Data.Fin.html#739" class="Function Operator">#</a> <a id="1295" class="Number">0</a> <a id="1297" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="1298" class="Symbol">)}</a>

<a id="1302" class="Comment">-- * Inductive case 1</a>
<a id="1324" class="Keyword">data</a> <a id="_~â‚â‚_"></a><a id="1329" href="SecureCompilation.Coherence.html#1329" class="Datatype Operator">_~â‚â‚_</a> <a id="1335" class="Symbol">:</a> <a id="1337" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="1340" href="SymbolicModel.Run.Base.html#407" class="Generalizable">RË¢</a> <a id="1343" class="Symbol">â†’</a> <a id="1345" href="ComputationalModel.Strategy.html#4247" class="Datatype">CRun</a> <a id="1350" class="Symbol">â†’</a> <a id="1352" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1356" class="Keyword">where</a>

  <a id="1365" class="Comment">-- ** Stipulation: advertisting a contract</a>
  <a id="_~â‚â‚_.[1]"></a><a id="1410" href="SecureCompilation.Coherence.html#1410" class="InductiveConstructor">[1]</a> <a id="1414" class="Symbol">:</a> <a id="1416" class="Symbol">âˆ€</a> <a id="1418" class="Symbol">{</a><a id="1419" href="SecureCompilation.Coherence.html#1419" class="Bound">âŸ¨GâŸ©C</a> <a id="1424" class="Symbol">:</a> <a id="1426" href="BitML.Contracts.Types.html#2283" class="Record">Ad</a><a id="1428" class="Symbol">}</a> <a id="1430" class="Symbol">{</a><a id="1431" href="SecureCompilation.Coherence.html#1431" class="Bound">RË¢</a><a id="1433" class="Symbol">}</a> <a id="1435" class="Symbol">{</a><a id="1436" href="SecureCompilation.Coherence.html#1436" class="Bound">ğ•£âˆ—</a> <a id="1439" class="Symbol">:</a> <a id="1441" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="1444" href="SecureCompilation.Coherence.html#1431" class="Bound">RË¢</a><a id="1446" class="Symbol">}</a> <a id="1448" class="Symbol">â†’</a> <a id="1450" class="Keyword">let</a> <a id="1454" href="SecureCompilation.Coherence.html#1454" class="Bound">ğ•£</a> <a id="1456" class="Symbol">=</a> <a id="1458" href="SymbolicModel.Helpers.html#1169" class="Function">â„âˆ—â‡’â„</a> <a id="1463" href="SecureCompilation.Coherence.html#1436" class="Bound">ğ•£âˆ—</a><a id="1465" class="Symbol">;</a> <a id="1467" class="Keyword">open</a> <a id="1472" href="SymbolicModel.Mappings.Base.html#768" class="Module">â„</a> <a id="1474" href="SecureCompilation.Coherence.html#1454" class="Bound">ğ•£</a> <a id="1476" class="Keyword">in</a>
      <a id="1485" class="Keyword">let</a>
        <a id="1497" href="BitML.Contracts.Types.html#2313" class="InductiveConstructor Operator">âŸ¨</a> <a id="1499" href="SecureCompilation.Coherence.html#1499" class="Bound">G</a> <a id="1501" href="BitML.Contracts.Types.html#2313" class="InductiveConstructor Operator">âŸ©</a> <a id="1503" href="SecureCompilation.Coherence.html#1503" class="Bound">C</a> <a id="1505" class="Symbol">=</a> <a id="1507" href="SecureCompilation.Coherence.html#1419" class="Bound">âŸ¨GâŸ©C</a> <a id="1512" class="Symbol">;</a> <a id="1514" href="SecureCompilation.Coherence.html#1514" class="Bound">partG</a> <a id="1520" class="Symbol">=</a> <a id="1522" href="BitML.Contracts.Collections.html#2548" class="Function">nub-participants</a> <a id="1539" href="SecureCompilation.Coherence.html#1499" class="Bound">G</a>
        <a id="1549" href="SecureCompilation.Coherence.html#1549" class="Bound">Î“â‚œ</a> <a id="1552" class="Symbol">=</a> <a id="1554" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Î“</a> <a id="1556" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="1559" href="BitML.BasicTypes.html#578" class="Generalizable">t</a>
      <a id="1567" class="Keyword">in</a>
      <a id="1576" class="Symbol">(</a><a id="1577" href="SecureCompilation.Coherence.html#1577" class="Bound">Râ‰ˆ</a> <a id="1580" class="Symbol">:</a> <a id="1582" href="SecureCompilation.Coherence.html#1431" class="Bound">RË¢</a> <a id="1585" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">â‰ˆâ‹¯</a> <a id="1588" href="SecureCompilation.Coherence.html#1549" class="Bound">Î“â‚œ</a><a id="1590" class="Symbol">)</a>
    <a id="1596" class="Symbol">â†’</a> <a id="1598" class="Keyword">let</a>
        <a id="1610" href="SecureCompilation.Coherence.html#1610" class="Bound">Î±</a>   <a id="1614" class="Symbol">=</a> <a id="1616" href="BitML.Semantics.Label.html#975" class="InductiveConstructor Operator">advertiseâ¦…</a> <a id="1627" href="SecureCompilation.Coherence.html#1419" class="Bound">âŸ¨GâŸ©C</a> <a id="1632" href="BitML.Semantics.Label.html#975" class="InductiveConstructor Operator">â¦†</a>
        <a id="1642" href="SecureCompilation.Coherence.html#1642" class="Bound">Î“â€²</a>  <a id="1646" class="Symbol">=</a> <a id="1648" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="1650" href="SecureCompilation.Coherence.html#1419" class="Bound">âŸ¨GâŸ©C</a> <a id="1655" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="1657" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Î“</a>
        <a id="1667" href="SecureCompilation.Coherence.html#1667" class="Bound">tâ€²</a>  <a id="1671" class="Symbol">=</a> <a id="1673" href="BitML.BasicTypes.html#578" class="Generalizable">t</a>
        <a id="1683" href="SecureCompilation.Coherence.html#1683" class="Bound">Î“â‚œâ€²</a> <a id="1687" class="Symbol">=</a> <a id="1689" href="SecureCompilation.Coherence.html#1642" class="Bound">Î“â€²</a> <a id="1692" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="1695" href="SecureCompilation.Coherence.html#1667" class="Bound">tâ€²</a>
      <a id="1704" class="Keyword">in</a>
      <a id="1713" class="Symbol">(</a><a id="1714" href="SecureCompilation.Coherence.html#1714" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="1718" class="Symbol">:</a> <a id="1720" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="1722" class="Symbol">(</a><a id="1723" href="SymbolicModel.Helpers.html#642" class="Function Operator">_â‰ˆá¶œ</a> <a id="1727" href="SecureCompilation.Coherence.html#1642" class="Bound">Î“â€²</a><a id="1729" class="Symbol">))</a> <a id="1732" class="Symbol">â†’</a> <a id="1734" class="Keyword">let</a> <a id="1738" href="SecureCompilation.Coherence.html#1738" class="Bound">Î“â‚œâ€³</a> <a id="1742" class="Symbol">=</a> <a id="1744" href="SecureCompilation.Coherence.html#1714" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="1748" class="Symbol">.</a><a id="1749" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a> <a id="1755" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="1758" href="SecureCompilation.Coherence.html#1667" class="Bound">tâ€²</a> <a id="1761" class="Keyword">in</a>
      <a id="1770" class="Comment">-- Hypotheses from [C-Advertise]</a>
      <a id="1809" class="Symbol">(</a><a id="1810" href="SecureCompilation.Coherence.html#1810" class="Bound">vad</a> <a id="1814" class="Symbol">:</a> <a id="1816" href="Prelude.Validity.html#343" class="Field">Valid</a> <a id="1822" href="SecureCompilation.Coherence.html#1419" class="Bound">âŸ¨GâŸ©C</a><a id="1826" class="Symbol">)</a>
      <a id="1834" class="Symbol">(</a><a id="1835" href="SecureCompilation.Coherence.html#1835" class="Bound">hon</a> <a id="1839" class="Symbol">:</a> <a id="1841" href="Data.List.Relation.Unary.Any.html#1165" class="Datatype">Any</a> <a id="1845" class="Symbol">(</a><a id="1846" href="Data.List.Membership.Setoid.html#896" class="Function Operator">_âˆˆ</a> <a id="1849" href="BitML.BasicTypes.html#785" class="Function">Hon</a><a id="1852" class="Symbol">)</a> <a id="1854" href="SecureCompilation.Coherence.html#1514" class="Bound">partG</a><a id="1859" class="Symbol">)</a>
      <a id="1867" class="Symbol">(</a><a id="1868" href="SecureCompilation.Coherence.html#1868" class="Bound">dâŠ†</a>  <a id="1872" class="Symbol">:</a> <a id="1874" href="SecureCompilation.Coherence.html#1419" class="Bound">âŸ¨GâŸ©C</a> <a id="1879" href="Prelude.Lists.Collections.html#1215" class="Function Operator">âŠ†â¦…</a> <a id="1882" href="BitML.Contracts.Collections.html#6451" class="Function">deposits</a> <a id="1891" href="Prelude.Lists.Collections.html#1215" class="Function Operator">â¦†</a> <a id="1893" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Î“</a><a id="1894" class="Symbol">)</a>
    <a id="1900" class="Symbol">â†’</a> <a id="1902" class="Keyword">let</a>
        <a id="1914" href="SecureCompilation.Coherence.html#1914" class="Bound">Î“â†’Î“â€²</a> <a id="1919" class="Symbol">:</a> <a id="1921" href="SecureCompilation.Coherence.html#1549" class="Bound">Î“â‚œ</a> <a id="1924" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">â€”[</a> <a id="1927" href="SecureCompilation.Coherence.html#1610" class="Bound">Î±</a> <a id="1929" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]â†’â‚œ</a> <a id="1933" href="SecureCompilation.Coherence.html#1683" class="Bound">Î“â‚œâ€²</a>
        <a id="1945" href="SecureCompilation.Coherence.html#1914" class="Bound">Î“â†’Î“â€²</a> <a id="1950" class="Symbol">=</a> <a id="1952" href="BitML.Semantics.InferenceRules.html#7587" class="InductiveConstructor">[Action]</a> <a id="1961" class="Symbol">(</a><a id="1962" href="BitML.Semantics.InferenceRules.html#3454" class="InductiveConstructor">[C-Advertise]</a> <a id="1976" href="SecureCompilation.Coherence.html#1810" class="Bound">vad</a> <a id="1980" href="SecureCompilation.Coherence.html#1835" class="Bound">hon</a> <a id="1984" href="SecureCompilation.Coherence.html#1868" class="Bound">dâŠ†</a><a id="1986" class="Symbol">)</a> <a id="1988" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

        <a id="2002" class="Comment">-- txoutâ€² = txout, sechashâ€² = sechash, Îºâ€² = Îº</a>
        <a id="2056" class="Keyword">open</a> <a id="2061" href="SecureCompilation.Helpers.html#3031" class="Module">Hâ‚</a> <a id="2064" href="SecureCompilation.Coherence.html#1454" class="Bound">ğ•£</a> <a id="2066" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="2068" href="SecureCompilation.Coherence.html#1610" class="Bound">Î±</a> <a id="2070" href="SecureCompilation.Coherence.html#1667" class="Bound">tâ€²</a> <a id="2073" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Î“</a> <a id="2075" href="SecureCompilation.Coherence.html#1577" class="Bound">Râ‰ˆ</a> <a id="2078" href="SecureCompilation.Coherence.html#1419" class="Bound">âŸ¨GâŸ©C</a> <a id="2083" href="SecureCompilation.Coherence.html#1914" class="Bound">Î“â†’Î“â€²</a> <a id="2088" href="SecureCompilation.Coherence.html#1714" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="2092" class="Keyword">using</a> <a id="2098" class="Symbol">(</a><a id="2099" href="SecureCompilation.Helpers.html#3243" class="Function">Î»Ë¢</a><a id="2101" class="Symbol">)</a>

        <a id="2112" href="SecureCompilation.Coherence.html#2112" class="Bound">C</a> <a id="2114" class="Symbol">=</a>
          <a id="2126" class="Keyword">let</a>
            <a id="2142" href="SecureCompilation.Coherence.html#2142" class="Bound">txoutÎ“</a> <a id="2149" class="Symbol">=</a> <a id="2151" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="2157" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Î“</a> <a id="2159" href="Function.Base.html#4571" class="Function Operator">âˆ‹</a> <a id="2161" href="SymbolicModel.Mappings.Properties.html#671" class="Function">Txoutâ‰ˆ</a> <a id="2168" class="Symbol">{</a><a id="2169" href="SecureCompilation.Coherence.html#1431" class="Bound">RË¢</a> <a id="2172" href="SymbolicModel.Accessors.html#597" class="Function Operator">âˆ™cfg</a><a id="2176" class="Symbol">}{</a><a id="2178" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Î“</a><a id="2179" class="Symbol">}</a> <a id="2181" class="Symbol">(</a><a id="2182" href="SecureCompilation.Coherence.html#1577" class="Bound">Râ‰ˆ</a> <a id="2185" class="Symbol">.</a><a id="2186" href="Agda.Builtin.Sigma.html#246" class="Field">projâ‚‚</a><a id="2191" class="Symbol">)</a> <a id="2193" class="Symbol">(</a><a id="2194" href="SecureCompilation.Coherence.html#1454" class="Bound">ğ•£</a> <a id="2196" href="SymbolicModel.Mappings.Properties.html#12758" class="Function Operator">âˆ™txoutEnd_</a><a id="2206" class="Symbol">)</a>
            <a id="2220" href="SecureCompilation.Coherence.html#2220" class="Bound">txoutG</a> <a id="2227" class="Symbol">=</a> <a id="2229" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="2235" href="SecureCompilation.Coherence.html#1499" class="Bound">G</a> <a id="2237" href="Function.Base.html#4571" class="Function Operator">âˆ‹</a> <a id="2239" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-â†¦</a> <a id="2248" href="SecureCompilation.Coherence.html#2142" class="Bound">txoutÎ“</a> <a id="2255" class="Symbol">(</a><a id="2256" href="BitML.Properties.Helpers.html#6513" class="Function">depositsâŠ†â‡’namesÊ³âŠ†</a> <a id="2274" class="Symbol">{</a><a id="2275" href="SecureCompilation.Coherence.html#1419" class="Bound">âŸ¨GâŸ©C</a><a id="2279" class="Symbol">}{</a><a id="2281" href="BitML.Semantics.Configurations.Types.html#1138" class="Generalizable">Î“</a><a id="2282" class="Symbol">}</a> <a id="2284" href="SecureCompilation.Coherence.html#1868" class="Bound">dâŠ†</a><a id="2286" class="Symbol">)</a>
            <a id="2300" href="SecureCompilation.Coherence.html#2300" class="Bound">txoutC</a> <a id="2307" class="Symbol">=</a> <a id="2309" href="Compiler.Mappings.html#264" class="Function">Txout</a> <a id="2315" href="SecureCompilation.Coherence.html#1503" class="Bound">C</a> <a id="2317" href="Function.Base.html#4571" class="Function Operator">âˆ‹</a> <a id="2319" href="Prelude.Lists.Mappings.html#1084" class="Function">weaken-â†¦</a> <a id="2328" href="SecureCompilation.Coherence.html#2220" class="Bound">txoutG</a> <a id="2335" class="Symbol">(</a><a id="2336" href="Prelude.Lists.MapMaybe.html#9263" class="Function">mapMaybe-âŠ†</a> <a id="2347" href="Data.Sum.html#838" class="Function">isInjâ‚‚</a> <a id="2354" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="2356" href="SecureCompilation.Coherence.html#1810" class="Bound">vad</a> <a id="2360" href="BitML.Contracts.Validity.html#2163" class="Function Operator">âˆ™names-âŠ†</a><a id="2368" class="Symbol">)</a>
          <a id="2380" class="Keyword">in</a>
            <a id="2395" href="SecureCompilation.ComputationalContracts.html#12858" class="Function">encodeAd</a> <a id="2404" href="SecureCompilation.Coherence.html#1419" class="Bound">âŸ¨GâŸ©C</a> <a id="2409" class="Symbol">(</a><a id="2410" href="SecureCompilation.Coherence.html#2220" class="Bound">txoutG</a> <a id="2417" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2419" href="SecureCompilation.Coherence.html#2300" class="Bound">txoutC</a><a id="2425" class="Symbol">)</a>
        <a id="2435" href="SecureCompilation.Coherence.html#2435" class="Bound">Î»á¶œ</a> <a id="2438" class="Symbol">=</a> <a id="2440" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="2442" href="ComputationalModel.Strategy.html#1025" class="InductiveConstructor Operator">â†’âˆ—âˆ¶</a> <a id="2446" href="SecureCompilation.Coherence.html#2112" class="Bound">C</a>
      <a id="2454" class="Keyword">in</a>
      <a id="2463" href="Prelude.InferenceRules.html#42961" class="Function Operator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</a>
      <a id="2522" class="Symbol">(</a><a id="2523" href="SecureCompilation.Coherence.html#1738" class="Bound">Î“â‚œâ€³</a> <a id="2527" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âˆ·</a> <a id="2529" href="SecureCompilation.Coherence.html#1436" class="Bound">ğ•£âˆ—</a> <a id="2532" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âŠ£</a> <a id="2534" href="SecureCompilation.Helpers.html#3243" class="Function">Î»Ë¢</a> <a id="2537" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âœ“</a><a id="2538" class="Symbol">)</a> <a id="2540" href="SecureCompilation.Coherence.html#1329" class="Datatype Operator">~â‚â‚</a> <a id="2544" class="Symbol">(</a><a id="2545" href="SecureCompilation.Coherence.html#2435" class="Bound">Î»á¶œ</a> <a id="2548" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âˆ·</a> <a id="2550" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="2553" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âœ“</a><a id="2554" class="Symbol">)</a>

  <a id="2559" class="Comment">-- ** Stipulation: committing secrets</a>
  <a id="_~â‚â‚_.[2]"></a><a id="2599" href="SecureCompilation.Coherence.html#2599" class="InductiveConstructor">[2]</a> <a id="2603" class="Symbol">:</a> <a id="2605" class="Symbol">âˆ€</a> <a id="2607" class="Symbol">{</a><a id="2608" href="SecureCompilation.Coherence.html#2608" class="Bound">RË¢</a><a id="2610" class="Symbol">}</a> <a id="2612" class="Symbol">{</a><a id="2613" href="SecureCompilation.Coherence.html#2613" class="Bound">ğ•£âˆ—</a> <a id="2616" class="Symbol">:</a> <a id="2618" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="2621" href="SecureCompilation.Coherence.html#2608" class="Bound">RË¢</a><a id="2623" class="Symbol">}</a> <a id="2625" class="Symbol">â†’</a> <a id="2627" class="Keyword">let</a> <a id="2631" href="SecureCompilation.Coherence.html#2631" class="Bound">ğ•£</a> <a id="2633" class="Symbol">=</a> <a id="2635" href="SymbolicModel.Helpers.html#1169" class="Function">â„âˆ—â‡’â„</a> <a id="2640" href="SecureCompilation.Coherence.html#2613" class="Bound">ğ•£âˆ—</a><a id="2642" class="Symbol">;</a> <a id="2644" class="Keyword">open</a> <a id="2649" href="SymbolicModel.Mappings.Base.html#768" class="Module">â„</a> <a id="2651" href="SecureCompilation.Coherence.html#2631" class="Bound">ğ•£</a> <a id="2653" class="Keyword">in</a>
        <a id="2664" class="Symbol">âˆ€</a> <a id="2666" class="Symbol">{</a><a id="2667" href="SecureCompilation.Coherence.html#2667" class="Bound">Î”Ã—hÌ…</a> <a id="2672" class="Symbol">:</a> <a id="2674" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="2679" class="Symbol">(</a><a id="2680" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="2687" href="Data.Product.html#1176" class="Function Operator">Ã—</a> <a id="2689" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="2695" href="Agda.Builtin.Nat.html#186" class="Datatype">â„•</a> <a id="2697" href="Data.Product.html#1176" class="Function Operator">Ã—</a> <a id="2699" href="Agda.Builtin.Int.html#228" class="Datatype">â„¤</a><a id="2700" class="Symbol">)}</a> <a id="2703" class="Symbol">{</a><a id="2704" href="SecureCompilation.Coherence.html#2704" class="Bound">kâƒ—</a> <a id="2707" class="Symbol">:</a> <a id="2709" href="Compiler.Mappings.html#454" class="Function">ğ•‚Â²â€²</a> <a id="2713" href="SecureCompilation.Coherence.html#1130" class="Generalizable">âŸ¨GâŸ©C</a><a id="2717" class="Symbol">}</a>

    <a id="2724" class="Symbol">â†’</a> <a id="2726" class="Keyword">let</a>
        <a id="2738" href="BitML.Contracts.Types.html#2313" class="InductiveConstructor Operator">âŸ¨</a> <a id="2740" href="SecureCompilation.Coherence.html#2740" class="Bound">G</a> <a id="2742" href="BitML.Contracts.Types.html#2313" class="InductiveConstructor Operator">âŸ©</a> <a id="2744" href="SecureCompilation.Coherence.html#2744" class="Bound">C</a> <a id="2746" class="Symbol">=</a> <a id="2748" href="SecureCompilation.Coherence.html#1130" class="Generalizable">âŸ¨GâŸ©C</a>
        <a id="2761" href="SecureCompilation.Coherence.html#2761" class="Bound">Î“</a> <a id="2763" class="Symbol">=</a> <a id="2765" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="2767" href="SecureCompilation.Coherence.html#1130" class="Generalizable">âŸ¨GâŸ©C</a> <a id="2772" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="2774" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a>
        <a id="2785" href="SecureCompilation.Coherence.html#2785" class="Bound">Î“â‚œ</a> <a id="2788" class="Symbol">=</a> <a id="2790" href="SecureCompilation.Coherence.html#2761" class="Bound">Î“</a> <a id="2792" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="2795" href="BitML.BasicTypes.html#578" class="Generalizable">t</a>
      <a id="2803" class="Keyword">in</a>
      <a id="2812" class="Symbol">(</a><a id="2813" href="SecureCompilation.Coherence.html#2813" class="Bound">Râ‰ˆ</a> <a id="2816" class="Symbol">:</a> <a id="2818" href="SecureCompilation.Coherence.html#2608" class="Bound">RË¢</a> <a id="2821" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">â‰ˆâ‹¯</a> <a id="2824" href="SecureCompilation.Coherence.html#2785" class="Bound">Î“â‚œ</a><a id="2826" class="Symbol">)</a>
    <a id="2832" class="Symbol">â†’</a> <a id="2834" class="Keyword">let</a>
        <a id="2846" href="SecureCompilation.Coherence.html#2846" class="Bound">C</a> <a id="2848" class="Symbol">=</a> <a id="2850" href="SecureCompilation.ComputationalContracts.html#12858" class="Function">encodeAd</a> <a id="2859" href="SecureCompilation.Coherence.html#1130" class="Generalizable">âŸ¨GâŸ©C</a> <a id="2864" class="Symbol">(</a><a id="2865" href="SymbolicModel.Helpers.html#5698" class="Function">adâˆˆâ‡’Txout</a> <a id="2875" class="Symbol">{</a><a id="2876" href="SecureCompilation.Coherence.html#1130" class="Generalizable">âŸ¨GâŸ©C</a><a id="2880" class="Symbol">}{</a><a id="2882" href="SecureCompilation.Coherence.html#2761" class="Bound">Î“</a><a id="2883" class="Symbol">}{</a><a id="2885" href="SecureCompilation.Coherence.html#2608" class="Bound">RË¢</a><a id="2887" class="Symbol">}</a> <a id="2889" class="Symbol">(</a><a id="2890" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="2895" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="2899" class="Symbol">)</a> <a id="2901" href="SecureCompilation.Coherence.html#2813" class="Bound">Râ‰ˆ</a> <a id="2904" href="SymbolicModel.Mappings.Base.html#823" class="Function">txoutâ€²</a><a id="2910" class="Symbol">)</a>

        <a id="2921" href="SecureCompilation.Coherence.html#2921" class="Bound">Î”</a> <a id="2923" class="Symbol">:</a> <a id="2925" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="2930" class="Symbol">(</a><a id="2931" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="2938" href="Data.Product.html#1176" class="Function Operator">Ã—</a> <a id="2940" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="2946" href="Agda.Builtin.Nat.html#186" class="Datatype">â„•</a><a id="2947" class="Symbol">)</a>
        <a id="2957" href="SecureCompilation.Coherence.html#2921" class="Bound">Î”</a> <a id="2959" class="Symbol">=</a> <a id="2961" href="Data.List.Base.html#1553" class="Function">map</a> <a id="2965" href="Prelude.Nary.html#3032" class="Function">dropâ‚ƒ</a> <a id="2971" href="SecureCompilation.Coherence.html#2667" class="Bound">Î”Ã—hÌ…</a>

        <a id="2985" class="Symbol">(</a><a id="2986" href="SecureCompilation.Coherence.html#2986" class="Bound">as</a> <a id="2989" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="2991" href="SecureCompilation.Coherence.html#2991" class="Bound">ms</a><a id="2993" class="Symbol">)</a> <a id="2995" class="Symbol">=</a> <a id="2997" href="Data.List.Base.html#3708" class="Function">unzip</a> <a id="3003" href="SecureCompilation.Coherence.html#2921" class="Bound">Î”</a>

        <a id="3014" href="SecureCompilation.Coherence.html#3014" class="Bound">Î”á¶œ</a> <a id="3017" class="Symbol">=</a> <a id="3019" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="3023" href="Function.Base.html#4571" class="Function Operator">âˆ‹</a> <a id="3025" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="3028" href="Data.List.Base.html#1553" class="Function">map</a> <a id="3032" class="Symbol">(</a><a id="3033" href="Data.Product.html#3431" class="Function">uncurry</a> <a id="3041" href="SecureCompilation.Coherence.html#892" class="InductiveConstructor Operator">âŸ¨</a> <a id="3043" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="3045" href="SecureCompilation.Coherence.html#892" class="InductiveConstructor Operator">âˆ¶_#_âŸ©</a><a id="3050" class="Symbol">)</a> <a id="3052" href="SecureCompilation.Coherence.html#2921" class="Bound">Î”</a>

        <a id="3063" href="SecureCompilation.Coherence.html#3063" class="Bound">hÌ…</a> <a id="3066" class="Symbol">:</a> <a id="3068" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3073" href="Agda.Builtin.Int.html#228" class="Datatype">â„¤</a> <a id="3075" class="Comment">-- â‰ˆ Message</a>
        <a id="3096" href="SecureCompilation.Coherence.html#3063" class="Bound">hÌ…</a> <a id="3099" class="Symbol">=</a> <a id="3101" href="Data.List.Base.html#1553" class="Function">map</a> <a id="3105" class="Symbol">(</a><a id="3106" href="Agda.Builtin.Sigma.html#246" class="Field">projâ‚‚</a> <a id="3112" href="Function.Base.html#1040" class="Function Operator">âˆ˜</a> <a id="3114" href="Agda.Builtin.Sigma.html#246" class="Field">projâ‚‚</a><a id="3119" class="Symbol">)</a> <a id="3121" href="SecureCompilation.Coherence.html#2667" class="Bound">Î”Ã—hÌ…</a>

        <a id="3135" href="SecureCompilation.Coherence.html#3135" class="Bound">kÌ…</a> <a id="3138" class="Symbol">:</a> <a id="3140" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3145" href="Agda.Builtin.Int.html#228" class="Datatype">â„¤</a> <a id="3147" class="Comment">-- â‰ˆ Message</a>
        <a id="3168" href="SecureCompilation.Coherence.html#3135" class="Bound">kÌ…</a> <a id="3171" class="Symbol">=</a> <a id="3173" href="Data.List.Base.html#4459" class="Function">concatMap</a> <a id="3183" class="Symbol">(</a><a id="3184" href="Data.List.Base.html#1553" class="Function">map</a> <a id="3188" href="Bitcoin.Crypto.html#375" class="Field">pub</a> <a id="3192" href="Function.Base.html#1040" class="Function Operator">âˆ˜</a> <a id="3194" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a><a id="3199" class="Symbol">)</a> <a id="3201" class="Symbol">(</a><a id="3202" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="3208" href="SecureCompilation.Coherence.html#2704" class="Bound">kâƒ—</a><a id="3210" class="Symbol">)</a>

        <a id="3221" href="SecureCompilation.Coherence.html#3221" class="Bound">C,hÌ…,kÌ…</a> <a id="3229" class="Symbol">=</a> <a id="3231" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="3238" class="Symbol">(</a><a id="3239" href="SecureCompilation.Coherence.html#2846" class="Bound">C</a> <a id="3241" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3243" href="SecureCompilation.Coherence.html#3063" class="Bound">hÌ…</a> <a id="3246" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3248" href="SecureCompilation.Coherence.html#3135" class="Bound">kÌ…</a><a id="3250" class="Symbol">)</a>
        <a id="3260" href="SecureCompilation.Coherence.html#3260" class="Bound">C,hÌ…,kÌ…â‚</a> <a id="3269" class="Symbol">=</a> <a id="3271" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="3275" class="Symbol">(</a><a id="3276" href="ComputationalModel.KeyPairs.html#160" class="Function">K</a> <a id="3278" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a><a id="3279" class="Symbol">)</a> <a id="3281" href="SecureCompilation.Coherence.html#3221" class="Bound">C,hÌ…,kÌ…</a>

        <a id="3298" href="SecureCompilation.Coherence.html#3298" class="Bound">Î±</a>   <a id="3302" class="Symbol">=</a> <a id="3304" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">auth-commitâ¦…</a> <a id="3317" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="3319" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">,</a> <a id="3321" href="SecureCompilation.Coherence.html#1130" class="Generalizable">âŸ¨GâŸ©C</a> <a id="3326" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">,</a> <a id="3328" href="SecureCompilation.Coherence.html#2921" class="Bound">Î”</a> <a id="3330" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">â¦†</a>
        <a id="3340" href="SecureCompilation.Coherence.html#3340" class="Bound">Î“â€²</a>  <a id="3344" class="Symbol">=</a> <a id="3346" href="SecureCompilation.Coherence.html#2761" class="Bound">Î“</a> <a id="3348" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="3350" href="SecureCompilation.Coherence.html#3014" class="Bound">Î”á¶œ</a> <a id="3353" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="3355" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="3357" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="3363" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">â™¯â–·</a> <a id="3366" href="SecureCompilation.Coherence.html#1130" class="Generalizable">âŸ¨GâŸ©C</a> <a id="3371" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a>
        <a id="3381" href="SecureCompilation.Coherence.html#3381" class="Bound">tâ€²</a>  <a id="3385" class="Symbol">=</a> <a id="3387" href="BitML.BasicTypes.html#578" class="Generalizable">t</a>
        <a id="3397" href="SecureCompilation.Coherence.html#3397" class="Bound">Î“â‚œâ€²</a> <a id="3401" class="Symbol">=</a> <a id="3403" href="SecureCompilation.Coherence.html#3340" class="Bound">Î“â€²</a> <a id="3406" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="3409" href="SecureCompilation.Coherence.html#3381" class="Bound">tâ€²</a>
        <a id="3420" href="SecureCompilation.Coherence.html#3420" class="Bound">Î»á¶œ</a>  <a id="3424" class="Symbol">=</a> <a id="3426" href="BitML.Contracts.Types.html#373" class="Generalizable">B</a> <a id="3428" href="ComputationalModel.Strategy.html#1025" class="InductiveConstructor Operator">â†’âˆ—âˆ¶</a> <a id="3432" href="SecureCompilation.Coherence.html#3260" class="Bound">C,hÌ…,kÌ…â‚</a>
      <a id="3447" class="Keyword">in</a>
      <a id="3456" class="Symbol">(</a><a id="3457" href="SecureCompilation.Coherence.html#3457" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="3461" class="Symbol">:</a> <a id="3463" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="3465" class="Symbol">(</a><a id="3466" href="SymbolicModel.Helpers.html#642" class="Function Operator">_â‰ˆá¶œ</a> <a id="3470" href="SecureCompilation.Coherence.html#3340" class="Bound">Î“â€²</a><a id="3472" class="Symbol">))</a> <a id="3475" class="Symbol">â†’</a> <a id="3477" class="Keyword">let</a> <a id="3481" href="SecureCompilation.Coherence.html#3481" class="Bound">Î“â‚œâ€³</a> <a id="3485" class="Symbol">=</a> <a id="3487" href="SecureCompilation.Coherence.html#3457" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="3491" class="Symbol">.</a><a id="3492" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a> <a id="3498" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="3501" href="SecureCompilation.Coherence.html#3381" class="Bound">tâ€²</a> <a id="3504" class="Keyword">in</a>
      <a id="3513" class="Comment">-- Hypotheses from [C-AuthCommit]</a>
      <a id="3553" class="Symbol">(</a><a id="3554" href="SecureCompilation.Coherence.html#3554" class="Bound">asâ‰¡</a> <a id="3558" class="Symbol">:</a> <a id="3560" href="SecureCompilation.Coherence.html#2986" class="Bound">as</a> <a id="3563" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">â‰¡</a> <a id="3565" href="BitML.Contracts.Collections.html#7218" class="Function">secretsOfáµ–</a> <a id="3576" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="3578" href="SecureCompilation.Coherence.html#2740" class="Bound">G</a><a id="3579" class="Symbol">)</a>
      <a id="3587" class="Symbol">(</a><a id="3588" href="SecureCompilation.Coherence.html#3588" class="Bound">Allâˆ‰</a> <a id="3593" class="Symbol">:</a> <a id="3595" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="3599" class="Symbol">(</a><a id="3600" href="Data.List.Membership.Setoid.html#945" class="Function Operator">_âˆ‰</a> <a id="3603" href="BitML.Semantics.Configurations.Helpers.html#11169" class="Function">secretsOfá¶œá¶ </a> <a id="3615" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="3617" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a><a id="3619" class="Symbol">)</a> <a id="3621" href="SecureCompilation.Coherence.html#2986" class="Bound">as</a><a id="3623" class="Symbol">)</a>
      <a id="3631" class="Symbol">(</a><a id="3632" href="SecureCompilation.Coherence.html#3632" class="Bound">Honâ‡’</a> <a id="3637" class="Symbol">:</a> <a id="3639" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="3641" href="Data.List.Membership.Setoid.html#896" class="Function Operator">âˆˆ</a> <a id="3643" href="BitML.BasicTypes.html#785" class="Function">Hon</a> <a id="3647" class="Symbol">â†’</a> <a id="3649" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="3653" href="Data.Maybe.html#810" class="Function">Is-just</a> <a id="3661" href="SecureCompilation.Coherence.html#2991" class="Bound">ms</a><a id="3663" class="Symbol">)</a>
    <a id="3669" class="Symbol">â†’</a> <a id="3671" class="Keyword">let</a>
        <a id="3683" href="SecureCompilation.Coherence.html#3683" class="Bound">Î“â†’Î“â€²</a> <a id="3688" class="Symbol">:</a> <a id="3690" href="SecureCompilation.Coherence.html#2785" class="Bound">Î“â‚œ</a> <a id="3693" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">â€”[</a> <a id="3696" href="SecureCompilation.Coherence.html#3298" class="Bound">Î±</a> <a id="3698" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]â†’â‚œ</a> <a id="3702" href="SecureCompilation.Coherence.html#3397" class="Bound">Î“â‚œâ€²</a>
        <a id="3714" href="SecureCompilation.Coherence.html#3683" class="Bound">Î“â†’Î“â€²</a> <a id="3719" class="Symbol">=</a> <a id="3721" href="BitML.Semantics.InferenceRules.html#7587" class="InductiveConstructor">[Action]</a> <a id="3730" class="Symbol">(</a><a id="3731" href="BitML.Semantics.InferenceRules.html#3794" class="InductiveConstructor">[C-AuthCommit]</a> <a id="3746" href="SecureCompilation.Coherence.html#3554" class="Bound">asâ‰¡</a> <a id="3750" href="SecureCompilation.Coherence.html#3588" class="Bound">Allâˆ‰</a> <a id="3755" href="SecureCompilation.Coherence.html#3632" class="Bound">Honâ‡’</a><a id="3759" class="Symbol">)</a> <a id="3761" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

        <a id="3775" class="Comment">-- (v) txout = txoutâ€² (vi) extend sechashâ€² (vii) extend Îºâ€²</a>
        <a id="3842" href="SecureCompilation.Coherence.html#3842" class="Bound">sechashâº</a> <a id="3851" class="Symbol">:</a> <a id="3853" href="SecureCompilation.Coherence.html#2986" class="Bound">as</a> <a id="3856" href="Prelude.Lists.Mappings.html#778" class="Function Operator">â†¦</a> <a id="3858" href="Agda.Builtin.Int.html#228" class="Datatype">â„¤</a>
        <a id="3868" href="SecureCompilation.Coherence.html#3842" class="Bound">sechashâº</a> <a id="3877" href="SecureCompilation.Coherence.html#3877" class="Bound">aâˆˆ</a> <a id="3880" class="Symbol">=</a>
          <a id="3892" class="Keyword">let</a> <a id="3896" class="Symbol">_</a> <a id="3898" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3900" href="SecureCompilation.Coherence.html#3900" class="Bound">aÃ—mâˆˆ</a> <a id="3905" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3907" class="Symbol">_</a>    <a id="3912" class="Symbol">=</a> <a id="3914" href="Prelude.Lists.Core.html#1051" class="Function">âˆˆ-unzipâ»Ë¡</a> <a id="3924" href="SecureCompilation.Coherence.html#2921" class="Bound">Î”</a> <a id="3926" href="SecureCompilation.Coherence.html#3877" class="Bound">aâˆˆ</a>
              <a id="3943" class="Symbol">(_</a> <a id="3946" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3948" class="Symbol">_</a> <a id="3950" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3952" href="SecureCompilation.Coherence.html#3952" class="Bound">z</a><a id="3953" class="Symbol">)</a> <a id="3955" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="3957" class="Symbol">_</a> <a id="3959" class="Symbol">=</a> <a id="3961" href="Data.List.Membership.Propositional.Properties.html#3491" class="Function">âˆˆ-mapâ»</a> <a id="3968" href="Prelude.Nary.html#3032" class="Function">dropâ‚ƒ</a> <a id="3974" href="SecureCompilation.Coherence.html#3900" class="Bound">aÃ—mâˆˆ</a>
          <a id="3989" class="Keyword">in</a> <a id="3992" href="SecureCompilation.Coherence.html#3952" class="Bound">z</a>

        <a id="4003" class="Keyword">open</a> <a id="4008" href="SecureCompilation.Helpers.html#4739" class="Module">Hâ‚‚</a> <a id="4011" class="Symbol">{</a><a id="4012" href="SecureCompilation.Coherence.html#2608" class="Bound">RË¢</a><a id="4014" class="Symbol">}</a> <a id="4016" href="SecureCompilation.Coherence.html#2631" class="Bound">ğ•£</a> <a id="4018" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="4020" href="SecureCompilation.Coherence.html#3298" class="Bound">Î±</a> <a id="4022" href="SecureCompilation.Coherence.html#3381" class="Bound">tâ€²</a> <a id="4025" href="SecureCompilation.Coherence.html#2761" class="Bound">Î“</a> <a id="4027" href="SecureCompilation.Coherence.html#2813" class="Bound">Râ‰ˆ</a> <a id="4030" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="4032" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="4034" href="SecureCompilation.Coherence.html#1130" class="Generalizable">âŸ¨GâŸ©C</a> <a id="4039" href="SecureCompilation.Coherence.html#2921" class="Bound">Î”</a> <a id="4041" href="SecureCompilation.Coherence.html#3842" class="Bound">sechashâº</a> <a id="4050" href="SecureCompilation.Coherence.html#2704" class="Bound">kâƒ—</a> <a id="4053" href="SecureCompilation.Coherence.html#3683" class="Bound">Î“â†’Î“â€²</a> <a id="4058" href="SecureCompilation.Coherence.html#3457" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="4062" class="Keyword">using</a> <a id="4068" class="Symbol">(</a><a id="4069" href="SecureCompilation.Helpers.html#8775" class="Function">Î»Ë¢</a><a id="4071" class="Symbol">)</a>
      <a id="4079" class="Keyword">in</a>
      <a id="4088" class="Comment">-- (i) âŸ¨GâŸ©C has been previously advertised in Rá¶œ</a>
    <a id="4141" class="Symbol">âˆ€</a> <a id="4143" class="Symbol">(</a><a id="4144" href="SecureCompilation.Coherence.html#4144" class="Bound">âˆƒÎ»</a> <a id="4147" class="Symbol">:</a> <a id="4149" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="4151" class="Symbol">Î»</a> <a id="4153" href="SecureCompilation.Coherence.html#4153" class="Bound">B</a> <a id="4155" class="Symbol">â†’</a> <a id="4157" class="Symbol">(</a><a id="4158" href="SecureCompilation.Coherence.html#4153" class="Bound">B</a> <a id="4160" href="ComputationalModel.Strategy.html#1025" class="InductiveConstructor Operator">â†’âˆ—âˆ¶</a> <a id="4164" href="SecureCompilation.Coherence.html#2846" class="Bound">C</a><a id="4165" class="Symbol">)</a> <a id="4167" href="Data.List.Membership.Setoid.html#896" class="Function Operator">âˆˆ</a> <a id="4169" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="4176" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a><a id="4178" class="Symbol">)</a> <a id="4180" class="Symbol">â†’</a>
      <a id="4188" class="Comment">-- âˆ˜ it is the first occurrence of such a broadcast in Rá¶œ</a>
    <a id="4250" href="Prelude.InferenceRules.html#56141" class="Function Operator">âˆ™</a> <a id="4252" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="4256" class="Symbol">(Î»</a> <a id="4259" href="SecureCompilation.Coherence.html#4259" class="Bound">l</a> <a id="4261" class="Symbol">â†’</a> <a id="4263" class="Symbol">âˆ€</a> <a id="4265" href="SecureCompilation.Coherence.html#4265" class="Bound">X</a> <a id="4267" class="Symbol">â†’</a> <a id="4269" href="SecureCompilation.Coherence.html#4259" class="Bound">l</a> <a id="4271" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">â‰¢</a> <a id="4273" href="SecureCompilation.Coherence.html#4265" class="Bound">X</a> <a id="4275" href="ComputationalModel.Strategy.html#1025" class="InductiveConstructor Operator">â†’âˆ—âˆ¶</a> <a id="4279" href="SecureCompilation.Coherence.html#2846" class="Bound">C</a><a id="4280" class="Symbol">)</a> <a id="4282" class="Symbol">(</a><a id="4283" href="Prelude.Lists.Membership.html#6373" class="Function">Any-tail</a> <a id="4292" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="4294" href="SecureCompilation.Coherence.html#4144" class="Bound">âˆƒÎ»</a> <a id="4297" class="Symbol">.</a><a id="4298" href="Agda.Builtin.Sigma.html#246" class="Field">projâ‚‚</a><a id="4303" class="Symbol">)</a>

      <a id="4312" class="Comment">-- (ii) broadcast message in Rá¶œ</a>

      <a id="4351" class="Comment">-- âˆ˜ hashes respect security parameter Î·</a>
    <a id="4396" href="Prelude.InferenceRules.html#56072" class="Function Operator">âˆ™</a> <a id="4398" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="4402" class="Symbol">(Î»</a> <a id="4405" href="SecureCompilation.Coherence.html#4405" class="Bound">háµ¢</a> <a id="4408" class="Symbol">â†’</a> <a id="4410" href="SecureCompilation.Helpers.html#1149" class="Function Operator">âˆ£</a> <a id="4412" href="SecureCompilation.Coherence.html#4405" class="Bound">háµ¢</a> <a id="4415" href="SecureCompilation.Helpers.html#1149" class="Function Operator">âˆ£á¶»</a> <a id="4418" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">â‰¡</a> <a id="4420" href="SecureCompilation.ModuleParameters.html#357" class="Field">Î·</a><a id="4421" class="Symbol">)</a> <a id="4423" href="SecureCompilation.Coherence.html#3063" class="Bound">hÌ…</a>

      <a id="4433" class="Comment">-- âˆ˜ make sure that Î»á¶œ is the first occurrence of such a message after C in Rá¶œ</a>
    <a id="4516" href="Prelude.InferenceRules.html#56072" class="Function Operator">âˆ™</a> <a id="4518" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="4522" class="Symbol">(Î»</a> <a id="4525" href="SecureCompilation.Coherence.html#4525" class="Bound">l</a> <a id="4527" class="Symbol">â†’</a> <a id="4529" class="Symbol">âˆ€</a> <a id="4531" href="SecureCompilation.Coherence.html#4531" class="Bound">X</a> <a id="4533" class="Symbol">â†’</a> <a id="4535" href="SecureCompilation.Coherence.html#4525" class="Bound">l</a> <a id="4537" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">â‰¢</a> <a id="4539" href="SecureCompilation.Coherence.html#4531" class="Bound">X</a> <a id="4541" href="ComputationalModel.Strategy.html#1025" class="InductiveConstructor Operator">â†’âˆ—âˆ¶</a> <a id="4545" href="SecureCompilation.Coherence.html#3260" class="Bound">C,hÌ…,kÌ…â‚</a><a id="4553" class="Symbol">)</a> <a id="4555" class="Symbol">(</a><a id="4556" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="4566" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="4568" href="SecureCompilation.Coherence.html#4144" class="Bound">âˆƒÎ»</a> <a id="4571" class="Symbol">.</a><a id="4572" href="Agda.Builtin.Sigma.html#246" class="Field">projâ‚‚</a><a id="4577" class="Symbol">)</a>

      <a id="4586" class="Comment">-- (iii) each háµ¢ is obtained by querying the oracle,</a>
      <a id="4645" class="Comment">--       otherwise we have a dishonestly chosen secret</a>
    <a id="4704" href="Prelude.InferenceRules.html#56072" class="Function Operator">âˆ™</a> <a id="4706" href="SecureCompilation.Helpers.html#1184" class="Function">CheckOracleInteractions</a> <a id="4730" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="4733" href="SecureCompilation.Coherence.html#2667" class="Bound">Î”Ã—hÌ…</a>

      <a id="4745" class="Comment">-- (iv) no hash is reused</a>
    <a id="4775" href="Prelude.InferenceRules.html#56072" class="Function Operator">âˆ™</a> <a id="4777" href="Data.List.Relation.Unary.Unique.Setoid.html#728" class="Datatype">Unique</a> <a id="4784" href="SecureCompilation.Coherence.html#3063" class="Bound">hÌ…</a>
    <a id="4791" href="Prelude.InferenceRules.html#56072" class="Function Operator">âˆ™</a> <a id="4793" href="Data.List.Relation.Binary.Disjoint.Setoid.html#851" class="Function">Disjoint</a> <a id="4802" href="SecureCompilation.Coherence.html#3063" class="Bound">hÌ…</a> <a id="4805" class="Symbol">(</a><a id="4806" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="4812" href="SymbolicModel.Mappings.Base.html#842" class="Function">sechashâ€²</a><a id="4820" class="Symbol">)</a>
      <a id="4828" href="Prelude.InferenceRules.html#12810" class="Function Operator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</a>
      <a id="4887" class="Symbol">(</a><a id="4888" href="SecureCompilation.Coherence.html#3481" class="Bound">Î“â‚œâ€³</a> <a id="4892" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âˆ·</a> <a id="4894" href="SecureCompilation.Coherence.html#2613" class="Bound">ğ•£âˆ—</a> <a id="4897" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âŠ£</a> <a id="4899" href="SecureCompilation.Helpers.html#8775" class="Function">Î»Ë¢</a> <a id="4902" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âœ“</a><a id="4903" class="Symbol">)</a> <a id="4905" href="SecureCompilation.Coherence.html#1329" class="Datatype Operator">~â‚â‚</a> <a id="4909" class="Symbol">(</a><a id="4910" href="SecureCompilation.Coherence.html#3420" class="Bound">Î»á¶œ</a> <a id="4913" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âˆ·</a> <a id="4915" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="4918" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âœ“</a><a id="4919" class="Symbol">)</a>

  <a id="4924" class="Comment">-- ** Stipulation: authorizing deposits</a>
  <a id="_~â‚â‚_.[3]"></a><a id="4966" href="SecureCompilation.Coherence.html#4966" class="InductiveConstructor">[3]</a> <a id="4970" class="Symbol">:</a> <a id="4972" class="Symbol">âˆ€</a> <a id="4974" class="Symbol">{</a><a id="4975" href="SecureCompilation.Coherence.html#4975" class="Bound">RË¢</a><a id="4977" class="Symbol">}</a> <a id="4979" class="Symbol">{</a><a id="4980" href="SecureCompilation.Coherence.html#4980" class="Bound">ğ•£âˆ—</a> <a id="4983" class="Symbol">:</a> <a id="4985" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="4988" href="SecureCompilation.Coherence.html#4975" class="Bound">RË¢</a><a id="4990" class="Symbol">}</a> <a id="4992" class="Symbol">â†’</a> <a id="4994" class="Keyword">let</a> <a id="4998" href="SecureCompilation.Coherence.html#4998" class="Bound">ğ•£</a> <a id="5000" class="Symbol">=</a> <a id="5002" href="SymbolicModel.Helpers.html#1169" class="Function">â„âˆ—â‡’â„</a> <a id="5007" href="SecureCompilation.Coherence.html#4980" class="Bound">ğ•£âˆ—</a><a id="5009" class="Symbol">;</a> <a id="5011" class="Keyword">open</a> <a id="5016" href="SymbolicModel.Mappings.Base.html#768" class="Module">â„</a> <a id="5018" href="SecureCompilation.Coherence.html#4998" class="Bound">ğ•£</a> <a id="5020" class="Keyword">in</a>
        <a id="5031" class="Keyword">let</a> <a id="5035" href="BitML.Contracts.Types.html#2313" class="InductiveConstructor Operator">âŸ¨</a> <a id="5037" href="SecureCompilation.Coherence.html#5037" class="Bound">G</a> <a id="5039" href="BitML.Contracts.Types.html#2313" class="InductiveConstructor Operator">âŸ©</a> <a id="5041" href="SecureCompilation.Coherence.html#5041" class="Bound">C</a> <a id="5043" class="Symbol">=</a> <a id="5045" href="SecureCompilation.Coherence.html#1130" class="Generalizable">âŸ¨GâŸ©C</a> <a id="5050" class="Symbol">;</a> <a id="5052" href="SecureCompilation.Coherence.html#5052" class="Bound">partG</a> <a id="5058" class="Symbol">=</a> <a id="5060" href="SecureCompilation.Coherence.html#5037" class="Bound">G</a> <a id="5062" href="SymbolicModel.Run.Base.html#425" class="Function Operator">âˆ™partG</a> <a id="5069" class="Keyword">in</a>
        <a id="5080" class="Keyword">let</a> <a id="5084" href="SecureCompilation.Coherence.html#5084" class="Bound">Î“</a> <a id="5086" class="Symbol">=</a> <a id="5088" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="5090" href="SecureCompilation.Coherence.html#1130" class="Generalizable">âŸ¨GâŸ©C</a> <a id="5095" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="5097" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a><a id="5099" class="Symbol">;</a> <a id="5101" href="SecureCompilation.Coherence.html#5101" class="Bound">Î“â‚œ</a> <a id="5104" class="Symbol">=</a> <a id="5106" href="SecureCompilation.Coherence.html#5084" class="Bound">Î“</a> <a id="5108" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="5111" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="5113" class="Keyword">in</a>

      <a id="5123" class="Symbol">(</a><a id="5124" href="SecureCompilation.Coherence.html#5124" class="Bound">Râ‰ˆ</a> <a id="5127" class="Symbol">:</a> <a id="5129" href="SecureCompilation.Coherence.html#4975" class="Bound">RË¢</a> <a id="5132" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">â‰ˆâ‹¯</a> <a id="5135" href="SecureCompilation.Coherence.html#5101" class="Bound">Î“â‚œ</a><a id="5137" class="Symbol">)</a>
    <a id="5143" class="Symbol">â†’</a> <a id="5145" class="Keyword">let</a>
        <a id="5157" href="SecureCompilation.Coherence.html#5157" class="Bound">Î±</a>   <a id="5161" class="Symbol">=</a> <a id="5163" href="BitML.Semantics.Label.html#1109" class="InductiveConstructor Operator">auth-initâ¦…</a> <a id="5174" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="5176" href="BitML.Semantics.Label.html#1109" class="InductiveConstructor Operator">,</a> <a id="5178" href="SecureCompilation.Coherence.html#1130" class="Generalizable">âŸ¨GâŸ©C</a> <a id="5183" href="BitML.Semantics.Label.html#1109" class="InductiveConstructor Operator">,</a> <a id="5185" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="5187" href="BitML.Semantics.Label.html#1109" class="InductiveConstructor Operator">â¦†</a>
        <a id="5197" href="SecureCompilation.Coherence.html#5197" class="Bound">Î“â€²</a>  <a id="5201" class="Symbol">=</a> <a id="5203" href="SecureCompilation.Coherence.html#5084" class="Bound">Î“</a> <a id="5205" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="5207" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="5209" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="5215" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="5217" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">â–·Ë¢</a> <a id="5220" href="SecureCompilation.Coherence.html#1130" class="Generalizable">âŸ¨GâŸ©C</a> <a id="5225" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a>
        <a id="5235" href="SecureCompilation.Coherence.html#5235" class="Bound">tâ€²</a>  <a id="5239" class="Symbol">=</a> <a id="5241" href="BitML.BasicTypes.html#578" class="Generalizable">t</a>
        <a id="5251" href="SecureCompilation.Coherence.html#5251" class="Bound">Î“â‚œâ€²</a> <a id="5255" class="Symbol">=</a> <a id="5257" href="SecureCompilation.Coherence.html#5197" class="Bound">Î“â€²</a> <a id="5260" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="5263" href="SecureCompilation.Coherence.html#5235" class="Bound">tâ€²</a>
      <a id="5272" class="Keyword">in</a>
      <a id="5281" class="Symbol">(</a><a id="5282" href="SecureCompilation.Coherence.html#5282" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="5286" class="Symbol">:</a> <a id="5288" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="5290" class="Symbol">(</a><a id="5291" href="SymbolicModel.Helpers.html#642" class="Function Operator">_â‰ˆá¶œ</a> <a id="5295" href="SecureCompilation.Coherence.html#5197" class="Bound">Î“â€²</a><a id="5297" class="Symbol">))</a> <a id="5300" class="Symbol">â†’</a> <a id="5302" class="Keyword">let</a> <a id="5306" href="SecureCompilation.Coherence.html#5306" class="Bound">Î“â‚œâ€³</a> <a id="5310" class="Symbol">=</a> <a id="5312" href="SecureCompilation.Coherence.html#5282" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="5316" class="Symbol">.</a><a id="5317" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a> <a id="5323" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="5326" href="SecureCompilation.Coherence.html#5235" class="Bound">tâ€²</a> <a id="5329" class="Keyword">in</a>
      <a id="5338" class="Comment">-- Hypotheses from [C-AuthInit]</a>
      <a id="5376" class="Symbol">(</a><a id="5377" href="SecureCompilation.Coherence.html#5377" class="Bound">committedA</a> <a id="5388" class="Symbol">:</a> <a id="5390" href="SecureCompilation.Coherence.html#5052" class="Bound">partG</a> <a id="5396" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">âŠ†</a> <a id="5398" href="BitML.Semantics.Configurations.Helpers.html#11398" class="Function">committedParticipants</a> <a id="5420" href="SecureCompilation.Coherence.html#1130" class="Generalizable">âŸ¨GâŸ©C</a> <a id="5425" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a><a id="5427" class="Symbol">)</a>
      <a id="5435" class="Symbol">(</a><a id="5436" href="SecureCompilation.Coherence.html#5436" class="Bound">Aâˆˆper</a> <a id="5442" class="Symbol">:</a> <a id="5444" class="Symbol">(</a><a id="5445" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="5447" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5449" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="5451" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="5453" href="BitML.BasicTypes.html#527" class="Generalizable">x</a><a id="5454" class="Symbol">)</a> <a id="5456" href="Data.List.Membership.Setoid.html#896" class="Function Operator">âˆˆ</a> <a id="5458" href="BitML.Contracts.Collections.html#8546" class="Function">persistentDeposits</a> <a id="5477" href="SecureCompilation.Coherence.html#5037" class="Bound">G</a><a id="5478" class="Symbol">)</a>
    <a id="5484" class="Symbol">â†’</a> <a id="5486" class="Keyword">let</a>
        <a id="5498" href="SecureCompilation.Coherence.html#5498" class="Bound">Î“â†’Î“â€²</a> <a id="5503" class="Symbol">:</a> <a id="5505" href="SecureCompilation.Coherence.html#5101" class="Bound">Î“â‚œ</a> <a id="5508" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">â€”[</a> <a id="5511" href="SecureCompilation.Coherence.html#5157" class="Bound">Î±</a> <a id="5513" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]â†’â‚œ</a> <a id="5517" href="SecureCompilation.Coherence.html#5251" class="Bound">Î“â‚œâ€²</a>
        <a id="5529" href="SecureCompilation.Coherence.html#5498" class="Bound">Î“â†’Î“â€²</a> <a id="5534" class="Symbol">=</a> <a id="5536" href="BitML.Semantics.InferenceRules.html#7587" class="InductiveConstructor">[Action]</a> <a id="5545" class="Symbol">(</a><a id="5546" href="BitML.Semantics.InferenceRules.html#4369" class="InductiveConstructor">[C-AuthInit]</a> <a id="5559" href="SecureCompilation.Coherence.html#5377" class="Bound">committedA</a> <a id="5570" href="SecureCompilation.Coherence.html#5436" class="Bound">Aâˆˆper</a><a id="5575" class="Symbol">)</a> <a id="5577" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

        <a id="5591" class="Comment">-- (iv) txout = txoutâ€², sechash = sechashâ€², Îº = Îºâ€²</a>
        <a id="5650" class="Keyword">open</a> <a id="5655" href="SecureCompilation.Helpers.html#10946" class="Module">Hâ‚ƒ</a> <a id="5658" class="Symbol">{</a><a id="5659" href="SecureCompilation.Coherence.html#4975" class="Bound">RË¢</a><a id="5661" class="Symbol">}</a> <a id="5663" href="SecureCompilation.Coherence.html#4998" class="Bound">ğ•£</a> <a id="5665" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="5667" href="SecureCompilation.Coherence.html#5157" class="Bound">Î±</a> <a id="5669" href="SecureCompilation.Coherence.html#5235" class="Bound">tâ€²</a> <a id="5672" href="SecureCompilation.Coherence.html#1130" class="Generalizable">âŸ¨GâŸ©C</a> <a id="5677" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a> <a id="5680" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="5682" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="5684" href="SecureCompilation.Coherence.html#5124" class="Bound">Râ‰ˆ</a> <a id="5687" href="SecureCompilation.Coherence.html#5498" class="Bound">Î“â†’Î“â€²</a> <a id="5692" href="SecureCompilation.Coherence.html#5282" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="5696" href="SecureCompilation.Coherence.html#5377" class="Bound">committedA</a> <a id="5707" class="Keyword">using</a> <a id="5713" class="Symbol">(</a><a id="5714" href="SecureCompilation.Helpers.html#12043" class="Function">Î»Ë¢</a><a id="5716" class="Symbol">;</a> <a id="5718" href="SecureCompilation.Helpers.html#11212" class="Function">T</a><a id="5719" class="Symbol">)</a>

        <a id="5730" class="Comment">-- (i) broadcast Táµ¢â‚™áµ¢â‚œ , signed with A&#39;s private key</a>
        <a id="5791" href="SecureCompilation.Coherence.html#5791" class="Bound">m</a> <a id="5793" class="Symbol">=</a> <a id="5795" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="5799" class="Symbol">(</a><a id="5800" href="ComputationalModel.KeyPairs.html#208" class="Function">KÌ‚</a> <a id="5803" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a><a id="5804" class="Symbol">)</a> <a id="5806" href="SecureCompilation.Helpers.html#11212" class="Function">T</a>
        <a id="5816" href="SecureCompilation.Coherence.html#5816" class="Bound">Î»á¶œ</a> <a id="5819" class="Symbol">=</a> <a id="5821" href="BitML.Contracts.Types.html#373" class="Generalizable">B</a> <a id="5823" href="ComputationalModel.Strategy.html#1025" class="InductiveConstructor Operator">â†’âˆ—âˆ¶</a> <a id="5827" href="SecureCompilation.Coherence.html#5791" class="Bound">m</a>

      <a id="5836" class="Keyword">in</a>
      <a id="5845" class="Comment">-- (ii) Táµ¢â‚™áµ¢â‚œ occurs as a message in Rá¶œ</a>
    <a id="5889" class="Symbol">âˆ€</a> <a id="5891" class="Symbol">(</a><a id="5892" href="SecureCompilation.Coherence.html#5892" class="Bound">âˆƒÎ»</a> <a id="5895" class="Symbol">:</a> <a id="5897" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="5899" class="Symbol">Î»</a> <a id="5901" href="SecureCompilation.Coherence.html#5901" class="Bound">B</a> <a id="5903" class="Symbol">â†’</a> <a id="5905" class="Symbol">(</a><a id="5906" href="SecureCompilation.Coherence.html#5901" class="Bound">B</a> <a id="5908" href="ComputationalModel.Strategy.html#1025" class="InductiveConstructor Operator">â†’âˆ—âˆ¶</a> <a id="5912" class="Symbol">(</a><a id="5913" href="SecureCompilation.Helpers.html#11212" class="Function">T</a> <a id="5915" href="Bitcoin.Crypto.html#609" class="Function Operator">â™¯</a><a id="5916" class="Symbol">))</a> <a id="5919" href="Data.List.Membership.Setoid.html#896" class="Function Operator">âˆˆ</a> <a id="5921" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="5928" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a><a id="5930" class="Symbol">)</a> <a id="5932" class="Symbol">â†’</a>

      <a id="5941" class="Comment">-- (iii) broadcast message in Rá¶œ</a>
      <a id="5980" class="Comment">-- âˆ˜ Î»á¶œ is the first occurrence of such a message after Tinit in Rá¶œ</a>
    <a id="6052" href="Prelude.InferenceRules.html#56141" class="Function Operator">âˆ™</a> <a id="6054" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="6058" class="Symbol">(Î»</a> <a id="6061" href="SecureCompilation.Coherence.html#6061" class="Bound">l</a> <a id="6063" class="Symbol">â†’</a> <a id="6065" class="Symbol">âˆ€</a> <a id="6067" href="SecureCompilation.Coherence.html#6067" class="Bound">X</a> <a id="6069" class="Symbol">â†’</a> <a id="6071" href="SecureCompilation.Coherence.html#6061" class="Bound">l</a> <a id="6073" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">â‰¢</a> <a id="6075" href="SecureCompilation.Coherence.html#6067" class="Bound">X</a> <a id="6077" href="ComputationalModel.Strategy.html#1025" class="InductiveConstructor Operator">â†’âˆ—âˆ¶</a> <a id="6081" href="SecureCompilation.Coherence.html#5791" class="Bound">m</a><a id="6082" class="Symbol">)</a> <a id="6084" class="Symbol">(</a><a id="6085" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="6095" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="6097" href="SecureCompilation.Coherence.html#5892" class="Bound">âˆƒÎ»</a> <a id="6100" class="Symbol">.</a><a id="6101" href="Agda.Builtin.Sigma.html#246" class="Field">projâ‚‚</a><a id="6106" class="Symbol">)</a>
      <a id="6114" href="Prelude.InferenceRules.html#12185" class="Function Operator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</a>
      <a id="6183" class="Symbol">(</a><a id="6184" href="SecureCompilation.Coherence.html#5306" class="Bound">Î“â‚œâ€³</a> <a id="6188" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âˆ·</a> <a id="6190" href="SecureCompilation.Coherence.html#4980" class="Bound">ğ•£âˆ—</a> <a id="6193" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âŠ£</a> <a id="6195" href="SecureCompilation.Helpers.html#12043" class="Function">Î»Ë¢</a> <a id="6198" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âœ“</a><a id="6199" class="Symbol">)</a> <a id="6201" href="SecureCompilation.Coherence.html#1329" class="Datatype Operator">~â‚â‚</a> <a id="6205" class="Symbol">(</a><a id="6206" href="SecureCompilation.Coherence.html#5816" class="Bound">Î»á¶œ</a> <a id="6209" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âˆ·</a> <a id="6211" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="6214" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âœ“</a><a id="6215" class="Symbol">)</a>

  <a id="6220" class="Comment">-- ** Stipulation: activating the contract</a>
  <a id="_~â‚â‚_.[4]"></a><a id="6265" href="SecureCompilation.Coherence.html#6265" class="InductiveConstructor">[4]</a> <a id="6269" class="Symbol">:</a> <a id="6271" class="Symbol">âˆ€</a> <a id="6273" class="Symbol">{</a><a id="6274" href="SecureCompilation.Coherence.html#6274" class="Bound">RË¢</a><a id="6276" class="Symbol">}</a> <a id="6278" class="Symbol">{</a><a id="6279" href="SecureCompilation.Coherence.html#6279" class="Bound">ğ•£âˆ—</a> <a id="6282" class="Symbol">:</a> <a id="6284" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="6287" href="SecureCompilation.Coherence.html#6274" class="Bound">RË¢</a><a id="6289" class="Symbol">}</a> <a id="6291" class="Symbol">â†’</a> <a id="6293" class="Keyword">let</a> <a id="6297" href="SecureCompilation.Coherence.html#6297" class="Bound">ğ•£</a> <a id="6299" class="Symbol">=</a> <a id="6301" href="SymbolicModel.Helpers.html#1169" class="Function">â„âˆ—â‡’â„</a> <a id="6306" href="SecureCompilation.Coherence.html#6279" class="Bound">ğ•£âˆ—</a><a id="6308" class="Symbol">;</a> <a id="6310" class="Keyword">open</a> <a id="6315" href="SymbolicModel.Mappings.Base.html#768" class="Module">â„</a> <a id="6317" href="SecureCompilation.Coherence.html#6297" class="Bound">ğ•£</a> <a id="6319" class="Keyword">in</a>
      <a id="6328" class="Keyword">let</a>
        <a id="6340" href="BitML.Contracts.Types.html#2313" class="InductiveConstructor Operator">âŸ¨</a> <a id="6342" href="SecureCompilation.Coherence.html#6342" class="Bound">G</a> <a id="6344" href="BitML.Contracts.Types.html#2313" class="InductiveConstructor Operator">âŸ©</a> <a id="6346" href="SecureCompilation.Coherence.html#6346" class="Bound">C</a> <a id="6348" class="Symbol">=</a> <a id="6350" href="SecureCompilation.Coherence.html#1130" class="Generalizable">âŸ¨GâŸ©C</a><a id="6354" class="Symbol">;</a> <a id="6356" href="SecureCompilation.Coherence.html#6356" class="Bound">partG</a> <a id="6362" class="Symbol">=</a> <a id="6364" href="SecureCompilation.Coherence.html#6342" class="Bound">G</a> <a id="6366" href="SymbolicModel.Run.Base.html#425" class="Function Operator">âˆ™partG</a>
        <a id="6381" href="SecureCompilation.Coherence.html#6381" class="Bound">toSpend</a> <a id="6389" class="Symbol">=</a> <a id="6391" href="BitML.Contracts.Collections.html#8546" class="Function">persistentDeposits</a> <a id="6410" href="SecureCompilation.Coherence.html#6342" class="Bound">G</a>
        <a id="6420" href="SecureCompilation.Coherence.html#6420" class="Bound">vs</a>      <a id="6428" class="Symbol">=</a> <a id="6430" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6434" href="Prelude.Nary.html#2292" class="Function">selectâ‚‚</a> <a id="6442" href="SecureCompilation.Coherence.html#6381" class="Bound">toSpend</a>
        <a id="6458" href="SecureCompilation.Coherence.html#6458" class="Bound">xs</a>      <a id="6466" class="Symbol">=</a> <a id="6468" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6472" href="Prelude.Nary.html#3005" class="Function">selectâ‚ƒ</a> <a id="6480" href="SecureCompilation.Coherence.html#6381" class="Bound">toSpend</a>
        <a id="6496" href="SecureCompilation.Coherence.html#6496" class="Bound">v</a>       <a id="6504" class="Symbol">=</a> <a id="6506" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="6510" href="SecureCompilation.Coherence.html#6420" class="Bound">vs</a>

        <a id="6522" href="SecureCompilation.Coherence.html#6522" class="Bound">Î“</a> <a id="6524" class="Symbol">=</a> <a id="6526" href="BitML.Semantics.Configurations.Types.html#552" class="InductiveConstructor Operator">`</a> <a id="6528" href="SecureCompilation.Coherence.html#1130" class="Generalizable">âŸ¨GâŸ©C</a> <a id="6533" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="6535" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a>
          <a id="6548" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="6550" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="6553" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6557" class="Symbol">(Î»{</a> <a id="6561" class="Symbol">(</a><a id="6562" href="SecureCompilation.Coherence.html#6562" class="Bound">Aáµ¢</a> <a id="6565" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6567" href="SecureCompilation.Coherence.html#6567" class="Bound">váµ¢</a> <a id="6570" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="6572" href="SecureCompilation.Coherence.html#6572" class="Bound">xáµ¢</a><a id="6574" class="Symbol">)</a> <a id="6576" class="Symbol">â†’</a> <a id="6578" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ¨</a> <a id="6580" href="SecureCompilation.Coherence.html#6562" class="Bound">Aáµ¢</a> <a id="6583" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="6587" href="SecureCompilation.Coherence.html#6567" class="Bound">váµ¢</a> <a id="6590" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ©at</a> <a id="6594" href="SecureCompilation.Coherence.html#6572" class="Bound">xáµ¢</a> <a id="6597" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="6599" href="SecureCompilation.Coherence.html#6562" class="Bound">Aáµ¢</a> <a id="6602" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="6608" href="SecureCompilation.Coherence.html#6572" class="Bound">xáµ¢</a> <a id="6611" href="BitML.Semantics.Action.html#521" class="InductiveConstructor Operator">â–·Ë¢</a> <a id="6614" href="SecureCompilation.Coherence.html#1130" class="Generalizable">âŸ¨GâŸ©C</a> <a id="6619" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="6621" class="Symbol">})</a> <a id="6624" href="SecureCompilation.Coherence.html#6381" class="Bound">toSpend</a>
          <a id="6642" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="6644" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="6647" href="Data.List.Base.html#1553" class="Function">map</a> <a id="6651" class="Symbol">(</a><a id="6652" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">_auth[</a> <a id="6659" href="BitML.Semantics.Action.html#469" class="InductiveConstructor Operator">â™¯â–·</a> <a id="6662" href="SecureCompilation.Coherence.html#1130" class="Generalizable">âŸ¨GâŸ©C</a> <a id="6667" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a><a id="6668" class="Symbol">)</a> <a id="6670" href="SecureCompilation.Coherence.html#6356" class="Bound">partG</a>
        <a id="6684" href="SecureCompilation.Coherence.html#6684" class="Bound">Î“â‚œ</a> <a id="6687" class="Symbol">=</a> <a id="6689" href="SecureCompilation.Coherence.html#6522" class="Bound">Î“</a> <a id="6691" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="6694" href="BitML.BasicTypes.html#578" class="Generalizable">t</a>
      <a id="6702" class="Keyword">in</a>
      <a id="6711" class="Comment">-- (i) consume {G}C and its persistent deposits from RË¢</a>
      <a id="6773" class="Symbol">(</a><a id="6774" href="SecureCompilation.Coherence.html#6774" class="Bound">Râ‰ˆ</a> <a id="6777" class="Symbol">:</a> <a id="6779" href="SecureCompilation.Coherence.html#6274" class="Bound">RË¢</a> <a id="6782" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">â‰ˆâ‹¯</a> <a id="6785" href="SecureCompilation.Coherence.html#6684" class="Bound">Î“â‚œ</a><a id="6787" class="Symbol">)</a>
    <a id="6793" class="Symbol">â†’</a> <a id="6795" class="Keyword">let</a>
        <a id="6807" href="SecureCompilation.Coherence.html#6807" class="Bound">Î±</a>   <a id="6811" class="Symbol">=</a> <a id="6813" href="BitML.Semantics.Label.html#1172" class="InductiveConstructor Operator">initâ¦…</a> <a id="6819" href="SecureCompilation.Coherence.html#6342" class="Bound">G</a> <a id="6821" href="BitML.Semantics.Label.html#1172" class="InductiveConstructor Operator">,</a> <a id="6823" href="SecureCompilation.Coherence.html#6346" class="Bound">C</a> <a id="6825" href="BitML.Semantics.Label.html#1172" class="InductiveConstructor Operator">â¦†</a>
        <a id="6835" href="SecureCompilation.Coherence.html#6835" class="Bound">Î“â€²</a>  <a id="6839" class="Symbol">=</a> <a id="6841" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">âŸ¨</a> <a id="6843" href="SecureCompilation.Coherence.html#6346" class="Bound">C</a> <a id="6845" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="6847" href="SecureCompilation.Coherence.html#6496" class="Bound">v</a> <a id="6849" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">âŸ©at</a> <a id="6853" href="BitML.BasicTypes.html#531" class="Generalizable">z</a> <a id="6855" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="6857" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a>
        <a id="6868" href="SecureCompilation.Coherence.html#6868" class="Bound">tâ€²</a>  <a id="6872" class="Symbol">=</a> <a id="6874" href="BitML.BasicTypes.html#578" class="Generalizable">t</a>
        <a id="6884" href="SecureCompilation.Coherence.html#6884" class="Bound">Î“â‚œâ€²</a> <a id="6888" class="Symbol">=</a> <a id="6890" href="SecureCompilation.Coherence.html#6835" class="Bound">Î“â€²</a> <a id="6893" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="6896" href="SecureCompilation.Coherence.html#6868" class="Bound">tâ€²</a>
      <a id="6905" class="Keyword">in</a>
      <a id="6914" class="Symbol">(</a><a id="6915" href="SecureCompilation.Coherence.html#6915" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="6919" class="Symbol">:</a> <a id="6921" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="6923" class="Symbol">(</a><a id="6924" href="SymbolicModel.Helpers.html#642" class="Function Operator">_â‰ˆá¶œ</a> <a id="6928" href="SecureCompilation.Coherence.html#6835" class="Bound">Î“â€²</a><a id="6930" class="Symbol">))</a> <a id="6933" class="Symbol">â†’</a> <a id="6935" class="Keyword">let</a> <a id="6939" href="SecureCompilation.Coherence.html#6939" class="Bound">Î“â‚œâ€³</a> <a id="6943" class="Symbol">=</a> <a id="6945" href="SecureCompilation.Coherence.html#6915" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="6949" class="Symbol">.</a><a id="6950" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a> <a id="6956" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="6959" href="SecureCompilation.Coherence.html#6868" class="Bound">tâ€²</a> <a id="6962" class="Keyword">in</a>
      <a id="6971" class="Comment">-- Hypotheses from [C-Init]</a>
      <a id="7005" class="Symbol">(</a><a id="7006" href="SecureCompilation.Coherence.html#7006" class="Bound">fresh-z</a> <a id="7014" class="Symbol">:</a> <a id="7016" href="BitML.BasicTypes.html#531" class="Generalizable">z</a> <a id="7018" href="Data.List.Membership.Setoid.html#945" class="Function Operator">âˆ‰</a> <a id="7020" href="SecureCompilation.Coherence.html#6458" class="Bound">xs</a> <a id="7023" href="Data.List.Base.html#1819" class="Function Operator">++</a> <a id="7026" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="7030" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a><a id="7032" class="Symbol">)</a> <a id="7034" class="Symbol">â†’</a>
      <a id="7042" class="Keyword">let</a>
        <a id="7054" href="SecureCompilation.Coherence.html#7054" class="Bound">Î“â†’Î“â€²</a> <a id="7059" class="Symbol">:</a> <a id="7061" href="SecureCompilation.Coherence.html#6684" class="Bound">Î“â‚œ</a> <a id="7064" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">â€”[</a> <a id="7067" href="SecureCompilation.Coherence.html#6807" class="Bound">Î±</a> <a id="7069" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]â†’â‚œ</a> <a id="7073" href="SecureCompilation.Coherence.html#6884" class="Bound">Î“â‚œâ€²</a>
        <a id="7085" href="SecureCompilation.Coherence.html#7054" class="Bound">Î“â†’Î“â€²</a> <a id="7090" class="Symbol">=</a> <a id="7092" href="BitML.Semantics.InferenceRules.html#7587" class="InductiveConstructor">[Action]</a> <a id="7101" class="Symbol">(</a><a id="7102" href="BitML.Semantics.InferenceRules.html#4741" class="InductiveConstructor">[C-Init]</a> <a id="7111" href="SecureCompilation.Coherence.html#7006" class="Bound">fresh-z</a><a id="7118" class="Symbol">)</a> <a id="7120" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

        <a id="7134" class="Comment">-- (iii) sechash = sechashâ€², Îº = Îºâ€², txout extends txoutâ€² with (z â†¦ Táµ¢â‚™áµ¢â‚œ)</a>
        <a id="7217" class="Keyword">open</a> <a id="7222" href="SecureCompilation.Helpers.html#12761" class="Module">Hâ‚„</a> <a id="7225" class="Symbol">{</a><a id="7226" href="SecureCompilation.Coherence.html#6274" class="Bound">RË¢</a><a id="7228" class="Symbol">}</a> <a id="7230" href="SecureCompilation.Coherence.html#6297" class="Bound">ğ•£</a> <a id="7232" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="7234" href="SecureCompilation.Coherence.html#6807" class="Bound">Î±</a> <a id="7236" href="SecureCompilation.Coherence.html#6868" class="Bound">tâ€²</a> <a id="7239" href="SecureCompilation.Coherence.html#1130" class="Generalizable">âŸ¨GâŸ©C</a> <a id="7244" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a> <a id="7247" href="SecureCompilation.Coherence.html#6381" class="Bound">toSpend</a> <a id="7255" href="SecureCompilation.Coherence.html#6496" class="Bound">v</a> <a id="7257" href="BitML.BasicTypes.html#531" class="Generalizable">z</a> <a id="7259" href="SecureCompilation.Coherence.html#6774" class="Bound">Râ‰ˆ</a> <a id="7262" href="SecureCompilation.Coherence.html#7054" class="Bound">Î“â†’Î“â€²</a> <a id="7267" href="SecureCompilation.Coherence.html#6915" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="7271" class="Keyword">using</a> <a id="7277" class="Symbol">(</a><a id="7278" href="SecureCompilation.Helpers.html#17162" class="Function">Î»Ë¢</a><a id="7280" class="Symbol">;</a> <a id="7282" href="SecureCompilation.Helpers.html#13326" class="Function">T</a><a id="7283" class="Symbol">)</a>

        <a id="7294" class="Comment">-- (ii) append Táµ¢â‚™áµ¢â‚œ to the blockchain</a>
        <a id="7341" href="SecureCompilation.Coherence.html#7341" class="Bound">Î»á¶œ</a> <a id="7344" class="Symbol">=</a> <a id="7346" href="ComputationalModel.Strategy.html#1094" class="InductiveConstructor">submit</a> <a id="7353" href="SecureCompilation.Helpers.html#13326" class="Function">T</a>
      <a id="7361" class="Keyword">in</a>
      <a id="7370" href="Prelude.InferenceRules.html#41791" class="Function Operator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</a>
      <a id="7439" class="Symbol">(</a><a id="7440" href="SecureCompilation.Coherence.html#6939" class="Bound">Î“â‚œâ€³</a> <a id="7444" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âˆ·</a> <a id="7446" href="SecureCompilation.Coherence.html#6279" class="Bound">ğ•£âˆ—</a> <a id="7449" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âŠ£</a> <a id="7451" href="SecureCompilation.Helpers.html#17162" class="Function">Î»Ë¢</a> <a id="7454" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âœ“</a><a id="7455" class="Symbol">)</a> <a id="7457" href="SecureCompilation.Coherence.html#1329" class="Datatype Operator">~â‚â‚</a> <a id="7461" class="Symbol">(</a><a id="7462" href="SecureCompilation.Coherence.html#7341" class="Bound">Î»á¶œ</a> <a id="7465" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âˆ·</a> <a id="7467" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="7470" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âœ“</a><a id="7471" class="Symbol">)</a>

  <a id="7476" class="Comment">-- ** Contract actions: authorize control</a>
  <a id="_~â‚â‚_.[5]"></a><a id="7520" href="SecureCompilation.Coherence.html#7520" class="InductiveConstructor">[5]</a> <a id="7524" class="Symbol">:</a> <a id="7526" class="Symbol">âˆ€</a> <a id="7528" class="Symbol">{</a><a id="7529" href="SecureCompilation.Coherence.html#7529" class="Bound">RË¢</a><a id="7531" class="Symbol">}</a> <a id="7533" class="Symbol">{</a><a id="7534" href="SecureCompilation.Coherence.html#7534" class="Bound">ğ•£âˆ—</a> <a id="7537" class="Symbol">:</a> <a id="7539" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="7542" href="SecureCompilation.Coherence.html#7529" class="Bound">RË¢</a><a id="7544" class="Symbol">}</a> <a id="7546" class="Symbol">â†’</a> <a id="7548" class="Keyword">let</a> <a id="7552" href="SecureCompilation.Coherence.html#7552" class="Bound">ğ•£</a> <a id="7554" class="Symbol">=</a> <a id="7556" href="SymbolicModel.Helpers.html#1169" class="Function">â„âˆ—â‡’â„</a> <a id="7561" href="SecureCompilation.Coherence.html#7534" class="Bound">ğ•£âˆ—</a><a id="7563" class="Symbol">;</a> <a id="7565" class="Keyword">open</a> <a id="7570" href="SymbolicModel.Mappings.Base.html#768" class="Module">â„</a> <a id="7572" href="SecureCompilation.Coherence.html#7552" class="Bound">ğ•£</a> <a id="7574" class="Keyword">in</a>
        <a id="7585" class="Symbol">âˆ€</a> <a id="7587" class="Symbol">{</a><a id="7588" href="SecureCompilation.Coherence.html#7588" class="Bound">i</a> <a id="7590" class="Symbol">:</a> <a id="7592" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="7598" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a><a id="7599" class="Symbol">}</a> <a id="7601" class="Symbol">â†’</a> <a id="7603" class="Keyword">let</a> <a id="7607" class="Keyword">open</a> <a id="7612" href="BitML.Contracts.ModuleMacros.html#549" class="Module">âˆ£SELECT</a> <a id="7620" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a> <a id="7622" href="SecureCompilation.Coherence.html#7588" class="Bound">i</a> <a id="7624" class="Keyword">in</a>
        <a id="7635" class="Keyword">let</a> <a id="7639" href="SecureCompilation.Coherence.html#7639" class="Bound">Î“</a> <a id="7641" class="Symbol">=</a> <a id="7643" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">âŸ¨</a> <a id="7645" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a> <a id="7647" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="7649" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="7651" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">âŸ©at</a> <a id="7655" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="7657" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="7659" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a><a id="7661" class="Symbol">;</a> <a id="7663" href="SecureCompilation.Coherence.html#7663" class="Bound">Î“â‚œ</a> <a id="7666" class="Symbol">=</a> <a id="7668" href="SecureCompilation.Coherence.html#7639" class="Bound">Î“</a> <a id="7670" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="7673" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="7675" class="Keyword">in</a>

      <a id="7685" class="Comment">-- D â‰¡ A âˆ¶ Dâ€²</a>
      <a id="7705" class="Symbol">(</a><a id="7706" href="SecureCompilation.Coherence.html#7706" class="Bound">Dâ‰¡A:Dâ€²</a> <a id="7713" class="Symbol">:</a> <a id="7715" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="7717" href="Data.List.Membership.Setoid.html#896" class="Function Operator">âˆˆ</a> <a id="7719" href="BitML.Contracts.Collections.html#14015" class="Function">authDecorations</a> <a id="7735" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a><a id="7736" class="Symbol">)</a>
      <a id="7744" class="Comment">-- (i) RË¢ contains âŸ¨C , vâŸ©â‚“ with C = D + âˆ‘áµ¢ Dáµ¢</a>
      <a id="7797" class="Symbol">(</a><a id="7798" href="SecureCompilation.Coherence.html#7798" class="Bound">Râ‰ˆ</a> <a id="7801" class="Symbol">:</a> <a id="7803" href="SecureCompilation.Coherence.html#7529" class="Bound">RË¢</a> <a id="7806" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">â‰ˆâ‹¯</a> <a id="7809" href="SecureCompilation.Coherence.html#7663" class="Bound">Î“â‚œ</a><a id="7811" class="Symbol">)</a>
    <a id="7817" class="Symbol">â†’</a> <a id="7819" class="Keyword">let</a>
        <a id="7831" href="SecureCompilation.Coherence.html#7831" class="Bound">Î±</a>   <a id="7835" class="Symbol">=</a> <a id="7837" href="BitML.Semantics.Label.html#1451" class="InductiveConstructor Operator">auth-controlâ¦…</a> <a id="7851" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="7853" href="BitML.Semantics.Label.html#1451" class="InductiveConstructor Operator">,</a> <a id="7855" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="7857" href="BitML.Semantics.Label.html#1451" class="InductiveConstructor Operator">â–·</a> <a id="7859" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="7861" href="BitML.Semantics.Label.html#1451" class="InductiveConstructor Operator">â¦†</a>
        <a id="7871" href="SecureCompilation.Coherence.html#7871" class="Bound">Î“â€²</a>  <a id="7875" class="Symbol">=</a> <a id="7877" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">âŸ¨</a> <a id="7879" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a> <a id="7881" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="7883" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="7885" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">âŸ©at</a> <a id="7889" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="7891" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="7893" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="7895" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="7901" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="7903" href="BitML.Semantics.Action.html#565" class="InductiveConstructor Operator">â–·</a> <a id="7905" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="7907" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="7909" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="7911" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a>
        <a id="7922" href="SecureCompilation.Coherence.html#7922" class="Bound">tâ€²</a>  <a id="7926" class="Symbol">=</a> <a id="7928" href="BitML.BasicTypes.html#578" class="Generalizable">t</a>
        <a id="7938" href="SecureCompilation.Coherence.html#7938" class="Bound">Î“â‚œâ€²</a> <a id="7942" class="Symbol">=</a> <a id="7944" href="SecureCompilation.Coherence.html#7871" class="Bound">Î“â€²</a> <a id="7947" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="7950" href="SecureCompilation.Coherence.html#7922" class="Bound">tâ€²</a>
      <a id="7959" class="Keyword">in</a>
      <a id="7968" class="Symbol">(</a><a id="7969" href="SecureCompilation.Coherence.html#7969" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="7973" class="Symbol">:</a> <a id="7975" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="7977" class="Symbol">(</a><a id="7978" href="SymbolicModel.Helpers.html#642" class="Function Operator">_â‰ˆá¶œ</a> <a id="7982" href="SecureCompilation.Coherence.html#7871" class="Bound">Î“â€²</a><a id="7984" class="Symbol">))</a> <a id="7987" class="Symbol">â†’</a> <a id="7989" class="Keyword">let</a> <a id="7993" href="SecureCompilation.Coherence.html#7993" class="Bound">Î“â‚œâ€³</a> <a id="7997" class="Symbol">=</a> <a id="7999" href="SecureCompilation.Coherence.html#7969" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="8003" class="Symbol">.</a><a id="8004" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a> <a id="8010" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="8013" href="SecureCompilation.Coherence.html#7922" class="Bound">tâ€²</a> <a id="8016" class="Keyword">in</a>
      <a id="8025" class="Comment">-- Hypotheses from [C-AuthControl], already in hypothesis `Dâ‰¡A:Dâ€²`</a>
      <a id="8098" class="Keyword">let</a>
        <a id="8110" href="SecureCompilation.Coherence.html#8110" class="Bound">Î“â†’Î“â€²</a> <a id="8115" class="Symbol">:</a> <a id="8117" href="SecureCompilation.Coherence.html#7663" class="Bound">Î“â‚œ</a> <a id="8120" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">â€”[</a> <a id="8123" href="SecureCompilation.Coherence.html#7831" class="Bound">Î±</a> <a id="8125" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]â†’â‚œ</a> <a id="8129" href="SecureCompilation.Coherence.html#7938" class="Bound">Î“â‚œâ€²</a>
        <a id="8141" href="SecureCompilation.Coherence.html#8110" class="Bound">Î“â†’Î“â€²</a> <a id="8146" class="Symbol">=</a> <a id="8148" href="BitML.Semantics.InferenceRules.html#7587" class="InductiveConstructor">[Action]</a> <a id="8157" class="Symbol">(</a><a id="8158" href="BitML.Semantics.InferenceRules.html#6523" class="InductiveConstructor">[C-AuthControl]</a> <a id="8174" href="SecureCompilation.Coherence.html#7706" class="Bound">Dâ‰¡A:Dâ€²</a><a id="8180" class="Symbol">)</a> <a id="8182" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

        <a id="8196" class="Keyword">open</a> <a id="8201" href="SecureCompilation.Helpers.html#17438" class="Module">Hâ‚…</a> <a id="8204" class="Symbol">{</a><a id="8205" href="SecureCompilation.Coherence.html#7529" class="Bound">RË¢</a><a id="8207" class="Symbol">}</a> <a id="8209" href="SecureCompilation.Coherence.html#7552" class="Bound">ğ•£</a> <a id="8211" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="8213" href="SecureCompilation.Coherence.html#7831" class="Bound">Î±</a> <a id="8215" href="SecureCompilation.Coherence.html#7922" class="Bound">tâ€²</a> <a id="8218" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a> <a id="8220" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="8222" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="8224" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a> <a id="8227" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="8229" href="SecureCompilation.Coherence.html#7588" class="Bound">i</a> <a id="8231" href="SecureCompilation.Coherence.html#7798" class="Bound">Râ‰ˆ</a> <a id="8234" href="SecureCompilation.Coherence.html#8110" class="Bound">Î“â†’Î“â€²</a> <a id="8239" href="SecureCompilation.Coherence.html#7969" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="8243" href="SecureCompilation.Coherence.html#7706" class="Bound">Dâ‰¡A:Dâ€²</a> <a id="8250" class="Keyword">using</a> <a id="8256" class="Symbol">(</a><a id="8257" href="SecureCompilation.Helpers.html#18330" class="Function">Î»Ë¢</a><a id="8259" class="Symbol">;</a> <a id="8261" href="SecureCompilation.Helpers.html#18174" class="Function">T</a><a id="8262" class="Symbol">;</a> <a id="8264" href="SecureCompilation.Helpers.html#18213" class="Function">pubK</a><a id="8268" class="Symbol">)</a>

        <a id="8279" href="SecureCompilation.Coherence.html#8279" class="Bound">Î»á¶œ</a> <a id="8282" class="Symbol">=</a> <a id="8284" href="BitML.Contracts.Types.html#373" class="Generalizable">B</a> <a id="8286" href="ComputationalModel.Strategy.html#1025" class="InductiveConstructor Operator">â†’âˆ—âˆ¶</a> <a id="8290" href="SecureCompilation.Helpers.html#1098" class="Function">SIGáµ–</a> <a id="8295" href="SecureCompilation.Helpers.html#18213" class="Function">pubK</a> <a id="8300" href="SecureCompilation.Helpers.html#18174" class="Function">T</a>
      <a id="8308" class="Keyword">in</a>
      <a id="8317" href="Prelude.InferenceRules.html#41791" class="Function Operator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</a>
      <a id="8386" class="Symbol">(</a><a id="8387" href="SecureCompilation.Coherence.html#7993" class="Bound">Î“â‚œâ€³</a> <a id="8391" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âˆ·</a> <a id="8393" href="SecureCompilation.Coherence.html#7534" class="Bound">ğ•£âˆ—</a> <a id="8396" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âŠ£</a> <a id="8398" href="SecureCompilation.Helpers.html#18330" class="Function">Î»Ë¢</a> <a id="8401" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âœ“</a><a id="8402" class="Symbol">)</a> <a id="8404" href="SecureCompilation.Coherence.html#1329" class="Datatype Operator">~â‚â‚</a> <a id="8408" class="Symbol">(</a><a id="8409" href="SecureCompilation.Coherence.html#8279" class="Bound">Î»á¶œ</a> <a id="8412" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âˆ·</a> <a id="8414" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="8417" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âœ“</a><a id="8418" class="Symbol">)</a>

  <a id="8423" class="Comment">-- ** Contract actions: put</a>
  <a id="_~â‚â‚_.[6]"></a><a id="8453" href="SecureCompilation.Coherence.html#8453" class="InductiveConstructor">[6]</a> <a id="8457" class="Symbol">:</a> <a id="8459" class="Symbol">âˆ€</a> <a id="8461" class="Symbol">{</a><a id="8462" href="SecureCompilation.Coherence.html#8462" class="Bound">RË¢</a><a id="8464" class="Symbol">}</a> <a id="8466" class="Symbol">{</a><a id="8467" href="SecureCompilation.Coherence.html#8467" class="Bound">ğ•£âˆ—</a> <a id="8470" class="Symbol">:</a> <a id="8472" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="8475" href="SecureCompilation.Coherence.html#8462" class="Bound">RË¢</a><a id="8477" class="Symbol">}</a> <a id="8479" class="Symbol">â†’</a> <a id="8481" class="Keyword">let</a> <a id="8485" href="SecureCompilation.Coherence.html#8485" class="Bound">ğ•£</a> <a id="8487" class="Symbol">=</a> <a id="8489" href="SymbolicModel.Helpers.html#1169" class="Function">â„âˆ—â‡’â„</a> <a id="8494" href="SecureCompilation.Coherence.html#8467" class="Bound">ğ•£âˆ—</a><a id="8496" class="Symbol">;</a> <a id="8498" class="Keyword">open</a> <a id="8503" href="SymbolicModel.Mappings.Base.html#768" class="Module">â„</a> <a id="8505" href="SecureCompilation.Coherence.html#8485" class="Bound">ğ•£</a> <a id="8507" class="Keyword">in</a>
        <a id="8518" class="Symbol">âˆ€</a> <a id="8520" class="Symbol">{</a><a id="8521" href="SecureCompilation.Coherence.html#8521" class="Bound">ds</a> <a id="8524" class="Symbol">:</a> <a id="8526" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="8537" class="Symbol">}</a> <a id="8539" class="Symbol">{</a><a id="8540" href="SecureCompilation.Coherence.html#8540" class="Bound">ss</a> <a id="8543" class="Symbol">:</a> <a id="8545" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="8550" class="Symbol">(</a><a id="8551" href="BitML.BasicTypes.html#675" class="Function">Participant</a> <a id="8563" href="Data.Product.html#1176" class="Function Operator">Ã—</a> <a id="8565" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="8572" href="Data.Product.html#1176" class="Function Operator">Ã—</a> <a id="8574" href="Agda.Builtin.Nat.html#186" class="Datatype">â„•</a><a id="8575" class="Symbol">)}</a> <a id="8578" class="Symbol">â†’</a>
        <a id="8588" class="Symbol">âˆ€</a> <a id="8590" class="Symbol">{</a><a id="8591" href="SecureCompilation.Coherence.html#8591" class="Bound">i</a> <a id="8593" class="Symbol">:</a> <a id="8595" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="8601" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a><a id="8602" class="Symbol">}</a> <a id="8604" class="Symbol">â†’</a> <a id="8606" class="Keyword">let</a> <a id="8610" class="Keyword">open</a> <a id="8615" href="BitML.Contracts.ModuleMacros.html#549" class="Module">âˆ£SELECT</a> <a id="8623" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a> <a id="8625" href="SecureCompilation.Coherence.html#8591" class="Bound">i</a><a id="8626" class="Symbol">;</a> <a id="8628" href="SecureCompilation.Coherence.html#8628" class="Bound">As</a> <a id="8631" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8633" href="SecureCompilation.Coherence.html#8633" class="Bound">ts</a> <a id="8636" class="Symbol">=</a> <a id="8638" href="BitML.Contracts.Collections.html#13915" class="Function">decorations</a> <a id="8650" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="8652" class="Keyword">in</a>
      <a id="8661" class="Keyword">let</a>
        <a id="8673" class="Comment">-- (i) xs = xâ‚â‹¯xâ‚–</a>
        <a id="8699" class="Symbol">(_</a> <a id="8702" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8704" href="SecureCompilation.Coherence.html#8704" class="Bound">vs</a> <a id="8707" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8709" href="SecureCompilation.Coherence.html#8709" class="Bound">xs</a><a id="8711" class="Symbol">)</a> <a id="8713" class="Symbol">=</a> <a id="8715" href="Prelude.Lists.Core.html#1363" class="Function">unzipâ‚ƒ</a> <a id="8722" href="SecureCompilation.Coherence.html#8521" class="Bound">ds</a>
        <a id="8733" class="Symbol">(_</a> <a id="8736" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8738" href="SecureCompilation.Coherence.html#8738" class="Bound">as</a> <a id="8741" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="8743" class="Symbol">_)</a>  <a id="8747" class="Symbol">=</a> <a id="8749" href="Prelude.Lists.Core.html#1363" class="Function">unzipâ‚ƒ</a> <a id="8756" href="SecureCompilation.Coherence.html#8540" class="Bound">ss</a>
        <a id="8767" href="SecureCompilation.Coherence.html#8767" class="Bound">Î“â‚</a>  <a id="8771" class="Symbol">=</a> <a id="8773" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="8776" href="Data.List.Base.html#1553" class="Function">map</a> <a id="8780" class="Symbol">(</a><a id="8781" href="Prelude.Nary.html#712" class="Function">uncurryâ‚ƒ</a> <a id="8790" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ¨_has_âŸ©at_</a><a id="8800" class="Symbol">)</a> <a id="8802" href="SecureCompilation.Coherence.html#8521" class="Bound">ds</a>
        <a id="8813" href="SecureCompilation.Coherence.html#8813" class="Bound">Î”</a>   <a id="8817" class="Symbol">=</a> <a id="8819" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="8822" href="Data.List.Base.html#1553" class="Function">map</a> <a id="8826" class="Symbol">(</a><a id="8827" href="Prelude.Nary.html#712" class="Function">uncurryâ‚ƒ</a> <a id="8836" href="SecureCompilation.Coherence.html#874" class="InductiveConstructor Operator">_âˆ¶_#_</a><a id="8841" class="Symbol">)</a> <a id="8843" href="SecureCompilation.Coherence.html#8540" class="Bound">ss</a>
        <a id="8854" href="SecureCompilation.Coherence.html#8854" class="Bound">Î“â‚‚</a>  <a id="8858" class="Symbol">=</a> <a id="8860" href="SecureCompilation.Coherence.html#8813" class="Bound">Î”</a> <a id="8862" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="8864" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a>
        <a id="8875" href="SecureCompilation.Coherence.html#8875" class="Bound">Î“â‚â‚‚</a> <a id="8879" class="Symbol">=</a> <a id="8881" href="SecureCompilation.Coherence.html#8767" class="Bound">Î“â‚</a> <a id="8884" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="8886" href="SecureCompilation.Coherence.html#8854" class="Bound">Î“â‚‚</a>
        <a id="8897" href="SecureCompilation.Coherence.html#8897" class="Bound">Î“</a>   <a id="8901" class="Symbol">=</a> <a id="8903" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">âŸ¨</a> <a id="8905" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a> <a id="8907" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="8909" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="8911" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">âŸ©at</a> <a id="8915" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="8917" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="8919" class="Symbol">(</a><a id="8920" href="SecureCompilation.Coherence.html#8767" class="Bound">Î“â‚</a> <a id="8923" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="8925" href="SecureCompilation.Coherence.html#8854" class="Bound">Î“â‚‚</a><a id="8927" class="Symbol">)</a>
        <a id="8937" href="SecureCompilation.Coherence.html#8937" class="Bound">Î“â‚œ</a>  <a id="8941" class="Symbol">=</a> <a id="8943" href="SecureCompilation.Coherence.html#8897" class="Bound">Î“</a> <a id="8945" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="8948" href="BitML.BasicTypes.html#578" class="Generalizable">t</a>
      <a id="8956" class="Keyword">in</a>
      <a id="8965" class="Comment">-- ii) in RË¢, Î± consumes âŸ¨D+C,vâŸ©y and the deposits âŸ¨Aáµ¢,váµ¢âŸ©â‚“áµ¢ to produce âŸ¨Câ€²,vâ€²âŸ©yâ€²</a>
      <a id="9053" class="Comment">--     where D = â‹¯ : putâ‹¯revealâ‹¯.Câ€²</a>
      <a id="9095" class="Comment">--     let t be the maximum deadline in an `after` in front of D</a>
      <a id="9166" class="Comment">--     T0D0: what should tâ€² be in case there are no `after` decorations? (currently any value)</a>
      <a id="9267" class="Symbol">(</a><a id="9268" href="SecureCompilation.Coherence.html#9268" class="Bound">tâ‰¡</a> <a id="9271" class="Symbol">:</a> <a id="9273" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="9275" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">â‰¡</a> <a id="9277" href="Prelude.Ord.MinMax.html#436" class="Function">maximum</a> <a id="9285" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="9287" href="SecureCompilation.Coherence.html#8633" class="Bound">ts</a><a id="9289" class="Symbol">)</a>
      <a id="9297" class="Symbol">(</a><a id="9298" href="SecureCompilation.Coherence.html#9298" class="Bound">dâ‰¡</a> <a id="9301" class="Symbol">:</a> <a id="9303" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="9305" href="BitML.Contracts.Collections.html#15163" class="Function Operator">â‰¡â‹¯âˆ¶</a> <a id="9309" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">put</a> <a id="9313" href="SecureCompilation.Coherence.html#8709" class="Bound">xs</a> <a id="9316" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">&amp;reveal</a> <a id="9324" href="SecureCompilation.Coherence.html#8738" class="Bound">as</a> <a id="9327" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">if</a> <a id="9330" href="BitML.Predicate.html#747" class="Generalizable">p</a> <a id="9332" href="BitML.Contracts.Types.html#693" class="InductiveConstructor Operator">â‡’</a> <a id="9334" href="BitML.Contracts.Types.html#1254" class="Generalizable">câ€²</a><a id="9336" class="Symbol">)</a>
      <a id="9344" class="Symbol">(</a><a id="9345" href="SecureCompilation.Coherence.html#9345" class="Bound">Râ‰ˆ</a> <a id="9348" class="Symbol">:</a> <a id="9350" href="SecureCompilation.Coherence.html#8462" class="Bound">RË¢</a> <a id="9353" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">â‰ˆâ‹¯</a> <a id="9356" href="SecureCompilation.Coherence.html#8937" class="Bound">Î“â‚œ</a><a id="9358" class="Symbol">)</a>
    <a id="9364" class="Symbol">â†’</a> <a id="9366" class="Keyword">let</a>
        <a id="9378" href="SecureCompilation.Coherence.html#9378" class="Bound">Î±</a>   <a id="9382" class="Symbol">=</a> <a id="9384" href="BitML.Semantics.Label.html#1322" class="InductiveConstructor Operator">putâ¦…</a> <a id="9389" href="SecureCompilation.Coherence.html#8709" class="Bound">xs</a> <a id="9392" href="BitML.Semantics.Label.html#1322" class="InductiveConstructor Operator">,</a> <a id="9394" href="SecureCompilation.Coherence.html#8738" class="Bound">as</a> <a id="9397" href="BitML.Semantics.Label.html#1322" class="InductiveConstructor Operator">,</a> <a id="9399" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="9401" href="BitML.Semantics.Label.html#1322" class="InductiveConstructor Operator">â¦†</a>
        <a id="9411" href="SecureCompilation.Coherence.html#9411" class="Bound">Î“â€²</a>  <a id="9415" class="Symbol">=</a> <a id="9417" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">âŸ¨</a> <a id="9419" href="BitML.Contracts.Types.html#1254" class="Generalizable">câ€²</a> <a id="9422" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="9424" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="9426" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="9428" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="9432" href="SecureCompilation.Coherence.html#8704" class="Bound">vs</a> <a id="9435" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">âŸ©at</a> <a id="9439" href="BitML.BasicTypes.html#536" class="Generalizable">yâ€²</a> <a id="9442" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="9444" href="SecureCompilation.Coherence.html#8854" class="Bound">Î“â‚‚</a>
        <a id="9455" href="SecureCompilation.Coherence.html#9455" class="Bound">tâ€²</a>  <a id="9459" class="Symbol">=</a> <a id="9461" href="BitML.BasicTypes.html#578" class="Generalizable">t</a>
        <a id="9471" href="SecureCompilation.Coherence.html#9471" class="Bound">Î“â‚œâ€²</a> <a id="9475" class="Symbol">=</a> <a id="9477" href="SecureCompilation.Coherence.html#9411" class="Bound">Î“â€²</a> <a id="9480" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="9483" href="SecureCompilation.Coherence.html#9455" class="Bound">tâ€²</a>
      <a id="9492" class="Keyword">in</a>
      <a id="9501" class="Symbol">(</a><a id="9502" href="SecureCompilation.Coherence.html#9502" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="9506" class="Symbol">:</a> <a id="9508" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="9510" class="Symbol">(</a><a id="9511" href="SymbolicModel.Helpers.html#642" class="Function Operator">_â‰ˆá¶œ</a> <a id="9515" href="SecureCompilation.Coherence.html#9411" class="Bound">Î“â€²</a><a id="9517" class="Symbol">))</a> <a id="9520" class="Symbol">â†’</a> <a id="9522" class="Keyword">let</a> <a id="9526" href="SecureCompilation.Coherence.html#9526" class="Bound">Î“â‚œâ€³</a> <a id="9530" class="Symbol">=</a> <a id="9532" href="SecureCompilation.Coherence.html#9502" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="9536" class="Symbol">.</a><a id="9537" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a> <a id="9543" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="9546" href="SecureCompilation.Coherence.html#9455" class="Bound">tâ€²</a> <a id="9549" class="Keyword">in</a>
      <a id="9558" class="Comment">-- Hypotheses from [C-PutRev]</a>
      <a id="9594" class="Symbol">(</a><a id="9595" href="SecureCompilation.Coherence.html#9595" class="Bound">fresh-yâ€²</a> <a id="9604" class="Symbol">:</a> <a id="9606" href="BitML.BasicTypes.html#536" class="Generalizable">yâ€²</a> <a id="9609" href="Data.List.Membership.Setoid.html#945" class="Function Operator">âˆ‰</a> <a id="9611" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="9613" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.âˆ·</a> <a id="9617" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="9621" href="SecureCompilation.Coherence.html#8875" class="Bound">Î“â‚â‚‚</a><a id="9624" class="Symbol">)</a>
      <a id="9632" class="Symbol">(</a><a id="9633" href="SecureCompilation.Coherence.html#9633" class="Bound">pâŸ¦Î”âŸ§â‰¡</a> <a id="9639" class="Symbol">:</a> <a id="9641" href="BitML.Semantics.Predicate.html#906" class="Function Operator">âŸ¦</a> <a id="9643" href="BitML.Predicate.html#747" class="Generalizable">p</a> <a id="9645" href="BitML.Semantics.Predicate.html#906" class="Function Operator">âŸ§áµ–</a> <a id="9648" href="SecureCompilation.Coherence.html#8813" class="Bound">Î”</a> <a id="9650" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">â‰¡</a> <a id="9652" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="9657" href="Agda.Builtin.Bool.html#181" class="InductiveConstructor">true</a><a id="9661" class="Symbol">)</a>
      <a id="9669" class="Comment">-- Hypotheses from [Timeout]</a>
      <a id="9704" class="Symbol">(</a><a id="9705" href="SecureCompilation.Coherence.html#9705" class="Bound">Asâ‰¡âˆ…</a> <a id="9710" class="Symbol">:</a> <a id="9712" href="Prelude.Null.html#263" class="Field">Null</a> <a id="9717" href="SecureCompilation.Coherence.html#8628" class="Bound">As</a><a id="9719" class="Symbol">)</a>
    <a id="9725" class="Symbol">â†’</a> <a id="9727" class="Keyword">let</a>
        <a id="9739" href="SecureCompilation.Coherence.html#9739" class="Bound">âˆ€â‰¤t</a> <a id="9743" class="Symbol">:</a> <a id="9745" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="9749" class="Symbol">(</a><a id="9750" href="Prelude.Ord.Core.html#209" class="Field Operator">_â‰¤</a> <a id="9753" href="SecureCompilation.Coherence.html#9455" class="Bound">tâ€²</a><a id="9755" class="Symbol">)</a> <a id="9757" href="SecureCompilation.Coherence.html#8633" class="Bound">ts</a>
        <a id="9768" href="SecureCompilation.Coherence.html#9739" class="Bound">âˆ€â‰¤t</a> <a id="9772" class="Symbol">=</a> <a id="9774" href="Prelude.SubstDSL.html#488" class="Function">âŸª</a> <a id="9776" class="Symbol">(Î»</a> <a id="9779" href="SecureCompilation.Coherence.html#9779" class="Bound">â—†</a> <a id="9781" class="Symbol">â†’</a> <a id="9783" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="9787" class="Symbol">(</a><a id="9788" href="Prelude.Ord.Core.html#209" class="Field Operator">_â‰¤</a> <a id="9791" href="SecureCompilation.Coherence.html#9779" class="Bound">â—†</a><a id="9792" class="Symbol">)</a> <a id="9794" href="SecureCompilation.Coherence.html#8633" class="Bound">ts</a><a id="9796" class="Symbol">)</a> <a id="9798" href="Prelude.SubstDSL.html#488" class="Function">âŸ«</a> <a id="9800" href="SecureCompilation.Coherence.html#9268" class="Bound">tâ‰¡</a> <a id="9803" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="9806" href="Prelude.Ord.MinMax.html#1034" class="Postulate">âˆ€â‰¤max</a> <a id="9812" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="9814" href="SecureCompilation.Coherence.html#8633" class="Bound">ts</a>

        <a id="9826" href="SecureCompilation.Coherence.html#9826" class="Bound">putâ†’</a> <a id="9831" class="Symbol">:</a> <a id="9833" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">âŸ¨</a> <a id="9835" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="9837" href="BitML.Contracts.ModuleMacros.html#607" class="Function">dâˆ—</a> <a id="9840" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="9842" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="9844" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="9846" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">âŸ©at</a> <a id="9850" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="9852" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="9854" href="SecureCompilation.Coherence.html#8875" class="Bound">Î“â‚â‚‚</a> <a id="9858" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">â€”[</a> <a id="9861" href="SecureCompilation.Coherence.html#9378" class="Bound">Î±</a> <a id="9863" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]â†’</a> <a id="9866" href="SecureCompilation.Coherence.html#9411" class="Bound">Î“â€²</a>
        <a id="9877" href="SecureCompilation.Coherence.html#9826" class="Bound">putâ†’</a> <a id="9882" class="Symbol">=</a> <a id="9884" href="Prelude.SubstDSL.html#488" class="Function">âŸª</a> <a id="9886" class="Symbol">(Î»</a> <a id="9889" href="SecureCompilation.Coherence.html#9889" class="Bound">â—†</a> <a id="9891" class="Symbol">â†’</a> <a id="9893" class="Symbol">(</a><a id="9894" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">âŸ¨</a> <a id="9896" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="9898" href="SecureCompilation.Coherence.html#9889" class="Bound">â—†</a> <a id="9900" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="9902" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="9904" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="9906" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">âŸ©at</a> <a id="9910" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="9912" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="9914" class="Symbol">(</a><a id="9915" href="SecureCompilation.Coherence.html#8767" class="Bound">Î“â‚</a> <a id="9918" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="9920" href="SecureCompilation.Coherence.html#8854" class="Bound">Î“â‚‚</a><a id="9922" class="Symbol">)</a> <a id="9924" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">â€”[</a> <a id="9927" href="SecureCompilation.Coherence.html#9378" class="Bound">Î±</a> <a id="9929" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]â†’</a> <a id="9932" href="SecureCompilation.Coherence.html#9411" class="Bound">Î“â€²</a><a id="9934" class="Symbol">))</a> <a id="9937" href="Prelude.SubstDSL.html#488" class="Function">âŸ«</a> <a id="9939" href="SecureCompilation.Coherence.html#9298" class="Bound">dâ‰¡</a> <a id="9942" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="9945" href="BitML.Semantics.InferenceRules.html#5799" class="InductiveConstructor">[C-PutRev]</a> <a id="9956" class="Symbol">{</a><a id="9957" class="Argument">ds</a> <a id="9960" class="Symbol">=</a> <a id="9962" href="SecureCompilation.Coherence.html#8521" class="Bound">ds</a><a id="9964" class="Symbol">}</a> <a id="9966" class="Symbol">{</a><a id="9967" class="Argument">ss</a> <a id="9970" class="Symbol">=</a> <a id="9972" href="SecureCompilation.Coherence.html#8540" class="Bound">ss</a><a id="9974" class="Symbol">}</a> <a id="9976" href="SecureCompilation.Coherence.html#9595" class="Bound">fresh-yâ€²</a> <a id="9985" href="SecureCompilation.Coherence.html#9633" class="Bound">pâŸ¦Î”âŸ§â‰¡</a>

        <a id="10000" href="SecureCompilation.Coherence.html#10000" class="Bound">Î“â†’Î“â€²</a> <a id="10005" class="Symbol">:</a> <a id="10007" href="SecureCompilation.Coherence.html#8937" class="Bound">Î“â‚œ</a> <a id="10010" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">â€”[</a> <a id="10013" href="SecureCompilation.Coherence.html#9378" class="Bound">Î±</a> <a id="10015" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]â†’â‚œ</a> <a id="10019" href="SecureCompilation.Coherence.html#9471" class="Bound">Î“â‚œâ€²</a>
        <a id="10031" href="SecureCompilation.Coherence.html#10000" class="Bound">Î“â†’Î“â€²</a> <a id="10036" class="Symbol">=</a> <a id="10038" href="BitML.Semantics.InferenceRules.html#7812" class="InductiveConstructor">[Timeout]</a> <a id="10048" href="SecureCompilation.Coherence.html#9705" class="Bound">Asâ‰¡âˆ…</a> <a id="10053" href="SecureCompilation.Coherence.html#9739" class="Bound">âˆ€â‰¤t</a> <a id="10057" href="SecureCompilation.Coherence.html#9826" class="Bound">putâ†’</a> <a id="10062" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

        <a id="10076" class="Keyword">open</a> <a id="10081" href="SecureCompilation.Helpers.html#18850" class="Module">Hâ‚†</a> <a id="10084" class="Symbol">{</a><a id="10085" href="SecureCompilation.Coherence.html#8462" class="Bound">RË¢</a><a id="10087" class="Symbol">}</a> <a id="10089" href="SecureCompilation.Coherence.html#8485" class="Bound">ğ•£</a> <a id="10091" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="10093" href="SecureCompilation.Coherence.html#9378" class="Bound">Î±</a> <a id="10095" href="SecureCompilation.Coherence.html#9455" class="Bound">tâ€²</a> <a id="10098" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a> <a id="10100" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="10102" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="10104" href="SecureCompilation.Coherence.html#8521" class="Bound">ds</a> <a id="10107" href="SecureCompilation.Coherence.html#8540" class="Bound">ss</a> <a id="10110" href="SecureCompilation.Coherence.html#8854" class="Bound">Î“â‚‚</a> <a id="10113" href="BitML.Contracts.Types.html#1254" class="Generalizable">câ€²</a> <a id="10116" href="BitML.BasicTypes.html#536" class="Generalizable">yâ€²</a> <a id="10119" href="SecureCompilation.Coherence.html#8591" class="Bound">i</a> <a id="10121" href="BitML.Predicate.html#747" class="Generalizable">p</a> <a id="10123" href="SecureCompilation.Coherence.html#9345" class="Bound">Râ‰ˆ</a> <a id="10126" href="SecureCompilation.Coherence.html#10000" class="Bound">Î“â†’Î“â€²</a> <a id="10131" href="SecureCompilation.Coherence.html#9502" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="10135" href="SecureCompilation.Coherence.html#9298" class="Bound">dâ‰¡</a> <a id="10138" class="Keyword">using</a> <a id="10144" class="Symbol">(</a><a id="10145" href="SecureCompilation.Helpers.html#21365" class="Function">Î»Ë¢</a><a id="10147" class="Symbol">;</a> <a id="10149" href="SecureCompilation.Helpers.html#19384" class="Function">T</a><a id="10150" class="Symbol">)</a>

        <a id="10161" href="SecureCompilation.Coherence.html#10161" class="Bound">Î»á¶œ</a> <a id="10164" class="Symbol">=</a> <a id="10166" href="ComputationalModel.Strategy.html#1094" class="InductiveConstructor">submit</a> <a id="10173" href="SecureCompilation.Helpers.html#19384" class="Function">T</a>
      <a id="10181" class="Keyword">in</a>
      <a id="10190" href="Prelude.InferenceRules.html#41791" class="Function Operator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</a>
      <a id="10259" class="Symbol">(</a><a id="10260" href="SecureCompilation.Coherence.html#9526" class="Bound">Î“â‚œâ€³</a> <a id="10264" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âˆ·</a> <a id="10266" href="SecureCompilation.Coherence.html#8467" class="Bound">ğ•£âˆ—</a> <a id="10269" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âŠ£</a> <a id="10271" href="SecureCompilation.Helpers.html#21365" class="Function">Î»Ë¢</a> <a id="10274" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âœ“</a><a id="10275" class="Symbol">)</a> <a id="10277" href="SecureCompilation.Coherence.html#1329" class="Datatype Operator">~â‚â‚</a> <a id="10281" class="Symbol">(</a><a id="10282" href="SecureCompilation.Coherence.html#10161" class="Bound">Î»á¶œ</a> <a id="10285" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âˆ·</a> <a id="10287" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="10290" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âœ“</a><a id="10291" class="Symbol">)</a>

  <a id="10296" class="Comment">-- ** Contract actions: authorize reveal</a>
  <a id="_~â‚â‚_.[7]"></a><a id="10339" href="SecureCompilation.Coherence.html#10339" class="InductiveConstructor">[7]</a> <a id="10343" class="Symbol">:</a> <a id="10345" class="Symbol">âˆ€</a> <a id="10347" class="Symbol">{</a><a id="10348" href="SecureCompilation.Coherence.html#10348" class="Bound">RË¢</a><a id="10350" class="Symbol">}</a> <a id="10352" class="Symbol">{</a><a id="10353" href="SecureCompilation.Coherence.html#10353" class="Bound">ğ•£âˆ—</a> <a id="10356" class="Symbol">:</a> <a id="10358" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="10361" href="SecureCompilation.Coherence.html#10348" class="Bound">RË¢</a><a id="10363" class="Symbol">}</a> <a id="10365" class="Symbol">â†’</a> <a id="10367" class="Keyword">let</a> <a id="10371" href="SecureCompilation.Coherence.html#10371" class="Bound">ğ•£</a> <a id="10373" class="Symbol">=</a> <a id="10375" href="SymbolicModel.Helpers.html#1169" class="Function">â„âˆ—â‡’â„</a> <a id="10380" href="SecureCompilation.Coherence.html#10353" class="Bound">ğ•£âˆ—</a><a id="10382" class="Symbol">;</a> <a id="10384" class="Keyword">open</a> <a id="10389" href="SymbolicModel.Mappings.Base.html#768" class="Module">â„</a> <a id="10391" href="SecureCompilation.Coherence.html#10371" class="Bound">ğ•£</a> <a id="10393" class="Keyword">in</a>
        <a id="10404" class="Keyword">let</a> <a id="10408" href="SecureCompilation.Coherence.html#10408" class="Bound">Î“</a> <a id="10410" class="Symbol">=</a> <a id="10412" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="10416" href="Function.Base.html#4571" class="Function Operator">âˆ‹</a> <a id="10418" href="SecureCompilation.Coherence.html#892" class="InductiveConstructor Operator">âŸ¨</a> <a id="10420" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="10422" href="SecureCompilation.Coherence.html#892" class="InductiveConstructor Operator">âˆ¶</a> <a id="10424" href="BitML.BasicTypes.html#484" class="Generalizable">a</a> <a id="10426" href="SecureCompilation.Coherence.html#892" class="InductiveConstructor Operator">#</a> <a id="10428" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="10433" href="BitML.BasicTypes.html#434" class="Generalizable">n</a> <a id="10435" href="SecureCompilation.Coherence.html#892" class="InductiveConstructor Operator">âŸ©</a> <a id="10437" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="10439" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a><a id="10441" class="Symbol">;</a> <a id="10443" href="SecureCompilation.Coherence.html#10443" class="Bound">Î“â‚œ</a> <a id="10446" class="Symbol">=</a> <a id="10448" href="SecureCompilation.Coherence.html#10408" class="Bound">Î“</a> <a id="10450" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="10453" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="10455" class="Keyword">in</a>
        <a id="10466" class="Symbol">âˆ€</a> <a id="10468" class="Symbol">{</a><a id="10469" href="SecureCompilation.Coherence.html#10469" class="Bound">Î”Ã—hÌ…</a> <a id="10474" class="Symbol">:</a> <a id="10476" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="10481" class="Symbol">(</a><a id="10482" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="10489" href="Data.Product.html#1176" class="Function Operator">Ã—</a> <a id="10491" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="10497" href="Agda.Builtin.Nat.html#186" class="Datatype">â„•</a> <a id="10499" href="Data.Product.html#1176" class="Function Operator">Ã—</a> <a id="10501" href="Agda.Builtin.Int.html#228" class="Datatype">â„¤</a><a id="10502" class="Symbol">)}</a> <a id="10505" class="Symbol">{</a><a id="10506" href="SecureCompilation.Coherence.html#10506" class="Bound">kâƒ—</a> <a id="10509" class="Symbol">:</a> <a id="10511" href="Compiler.Mappings.html#454" class="Function">ğ•‚Â²â€²</a> <a id="10515" href="SecureCompilation.Coherence.html#1130" class="Generalizable">âŸ¨GâŸ©C</a><a id="10519" class="Symbol">}</a> <a id="10521" class="Symbol">â†’</a> <a id="10523" class="Keyword">let</a> <a id="10527" href="BitML.Contracts.Types.html#2313" class="InductiveConstructor Operator">âŸ¨</a> <a id="10529" href="SecureCompilation.Coherence.html#10529" class="Bound">G</a> <a id="10531" href="BitML.Contracts.Types.html#2313" class="InductiveConstructor Operator">âŸ©</a> <a id="10533" href="SecureCompilation.Coherence.html#10533" class="Bound">C</a> <a id="10535" class="Symbol">=</a> <a id="10537" href="SecureCompilation.Coherence.html#1130" class="Generalizable">âŸ¨GâŸ©C</a> <a id="10542" class="Keyword">in</a>

      <a id="10552" href="SecureCompilation.Helpers.html#1164" class="Function Operator">âˆ£</a> <a id="10554" href="ComputationalModel.Strategy.html#1429" class="Generalizable">m</a> <a id="10556" href="SecureCompilation.Helpers.html#1164" class="Function Operator">âˆ£áµ</a> <a id="10559" href="Prelude.Ord.Core.html#209" class="Field Operator">â‰¤</a> <a id="10561" href="SecureCompilation.ModuleParameters.html#357" class="Field">Î·</a>
    <a id="10567" class="Symbol">â†’</a> <a id="10569" class="Symbol">(</a><a id="10570" href="SecureCompilation.Coherence.html#10570" class="Bound">Râ‰ˆ</a> <a id="10573" class="Symbol">:</a> <a id="10575" href="SecureCompilation.Coherence.html#10348" class="Bound">RË¢</a> <a id="10578" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">â‰ˆâ‹¯</a> <a id="10581" href="SecureCompilation.Coherence.html#10443" class="Bound">Î“â‚œ</a><a id="10583" class="Symbol">)</a>

    <a id="10590" class="Symbol">â†’</a> <a id="10592" class="Keyword">let</a>
        <a id="10604" href="SecureCompilation.Coherence.html#10604" class="Bound">Î±</a>   <a id="10608" class="Symbol">=</a> <a id="10610" href="BitML.Semantics.Label.html#1268" class="InductiveConstructor Operator">auth-revâ¦…</a> <a id="10620" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="10622" href="BitML.Semantics.Label.html#1268" class="InductiveConstructor Operator">,</a> <a id="10624" href="BitML.BasicTypes.html#484" class="Generalizable">a</a> <a id="10626" href="BitML.Semantics.Label.html#1268" class="InductiveConstructor Operator">â¦†</a>
        <a id="10636" href="SecureCompilation.Coherence.html#10636" class="Bound">Î“â€²</a>  <a id="10640" class="Symbol">=</a> <a id="10642" href="BitML.Semantics.Configurations.Types.html#482" class="Datatype">Cfg</a> <a id="10646" href="Function.Base.html#4571" class="Function Operator">âˆ‹</a> <a id="10648" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="10650" href="SecureCompilation.Coherence.html#874" class="InductiveConstructor Operator">âˆ¶</a> <a id="10652" href="BitML.BasicTypes.html#484" class="Generalizable">a</a> <a id="10654" href="SecureCompilation.Coherence.html#874" class="InductiveConstructor Operator">#</a> <a id="10656" href="BitML.BasicTypes.html#434" class="Generalizable">n</a> <a id="10658" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="10660" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a>
        <a id="10671" href="SecureCompilation.Coherence.html#10671" class="Bound">tâ€²</a>  <a id="10675" class="Symbol">=</a> <a id="10677" href="BitML.BasicTypes.html#578" class="Generalizable">t</a>
        <a id="10687" href="SecureCompilation.Coherence.html#10687" class="Bound">Î“â‚œâ€²</a> <a id="10691" class="Symbol">=</a> <a id="10693" href="SecureCompilation.Coherence.html#10636" class="Bound">Î“â€²</a> <a id="10696" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="10699" href="SecureCompilation.Coherence.html#10671" class="Bound">tâ€²</a>
      <a id="10708" class="Keyword">in</a>
      <a id="10717" class="Symbol">(</a><a id="10718" href="SecureCompilation.Coherence.html#10718" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="10722" class="Symbol">:</a> <a id="10724" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="10726" class="Symbol">(</a><a id="10727" href="SymbolicModel.Helpers.html#642" class="Function Operator">_â‰ˆá¶œ</a> <a id="10731" href="SecureCompilation.Coherence.html#10636" class="Bound">Î“â€²</a><a id="10733" class="Symbol">))</a> <a id="10736" class="Symbol">â†’</a> <a id="10738" class="Keyword">let</a> <a id="10742" href="SecureCompilation.Coherence.html#10742" class="Bound">Î“â‚œâ€³</a> <a id="10746" class="Symbol">=</a> <a id="10748" href="BitML.Semantics.Configurations.Types.html#1290" class="Record">Cfgáµ—</a> <a id="10753" href="Function.Base.html#4571" class="Function Operator">âˆ‹</a> <a id="10755" href="SecureCompilation.Coherence.html#10718" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="10759" class="Symbol">.</a><a id="10760" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a> <a id="10766" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="10769" href="SecureCompilation.Coherence.html#10671" class="Bound">tâ€²</a> <a id="10772" class="Keyword">in</a>
      <a id="10781" class="Keyword">let</a>
        <a id="10793" href="SecureCompilation.Coherence.html#10793" class="Bound">Î“â†’Î“â€²</a> <a id="10798" class="Symbol">:</a> <a id="10800" href="SecureCompilation.Coherence.html#10443" class="Bound">Î“â‚œ</a> <a id="10803" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">â€”[</a> <a id="10806" href="SecureCompilation.Coherence.html#10604" class="Bound">Î±</a> <a id="10808" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]â†’â‚œ</a> <a id="10812" href="SecureCompilation.Coherence.html#10687" class="Bound">Î“â‚œâ€²</a>
        <a id="10824" href="SecureCompilation.Coherence.html#10793" class="Bound">Î“â†’Î“â€²</a> <a id="10829" class="Symbol">=</a> <a id="10831" href="BitML.Semantics.InferenceRules.html#7587" class="InductiveConstructor">[Action]</a> <a id="10840" href="BitML.Semantics.InferenceRules.html#5675" class="InductiveConstructor">[C-AuthRev]</a> <a id="10852" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

        <a id="10866" href="SecureCompilation.Coherence.html#10866" class="Bound">aâˆˆ</a> <a id="10869" class="Symbol">:</a> <a id="10871" href="BitML.BasicTypes.html#484" class="Generalizable">a</a> <a id="10873" href="Data.List.Membership.Setoid.html#896" class="Function Operator">âˆˆ</a> <a id="10875" href="BitML.Contracts.Collections.html#4075" class="Function">namesË¡</a> <a id="10882" href="SecureCompilation.Coherence.html#10348" class="Bound">RË¢</a>
        <a id="10893" href="SecureCompilation.Coherence.html#10866" class="Bound">aâˆˆ</a> <a id="10896" class="Symbol">=</a> <a id="10898" href="SymbolicModel.Collections.html#1203" class="Function">namesË¡â¦…endâ¦†âŠ†</a> <a id="10911" href="SecureCompilation.Coherence.html#10348" class="Bound">RË¢</a>
           <a id="10925" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="10927" href="BitML.Semantics.Configurations.Helpers.html#14586" class="Function">âˆˆnamesË¡-resp-â‰ˆ</a> <a id="10942" href="BitML.BasicTypes.html#484" class="Generalizable">a</a> <a id="10944" class="Symbol">{</a><a id="10945" href="SecureCompilation.Coherence.html#10408" class="Bound">Î“</a><a id="10946" class="Symbol">}{</a><a id="10948" href="BitML.Semantics.Configurations.Types.html#1335" class="Field">cfg</a> <a id="10952" class="Symbol">(</a><a id="10953" href="SecureCompilation.Coherence.html#10348" class="Bound">RË¢</a> <a id="10956" class="Symbol">.</a><a id="10957" href="Prelude.Traces.html#568" class="Field">end</a><a id="10960" class="Symbol">)}</a> <a id="10963" class="Symbol">(</a><a id="10964" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">â†­-sym</a> <a id="10970" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="10972" href="Agda.Builtin.Sigma.html#246" class="Field">projâ‚‚</a> <a id="10978" href="SecureCompilation.Coherence.html#10570" class="Bound">Râ‰ˆ</a><a id="10980" class="Symbol">)</a> <a id="10982" class="Symbol">(</a><a id="10983" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="10988" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="10992" class="Symbol">)</a>

        <a id="11003" class="Comment">-- (iii) txout = txoutâ€², sechash = sechashâ€², Îº = Îºâ€²</a>
        <a id="11063" class="Keyword">open</a> <a id="11068" href="SecureCompilation.Helpers.html#23746" class="Module">Hâ‚‡</a> <a id="11071" href="SecureCompilation.Coherence.html#10371" class="Bound">ğ•£</a> <a id="11073" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="11075" href="SecureCompilation.Coherence.html#10604" class="Bound">Î±</a> <a id="11077" href="SecureCompilation.Coherence.html#10671" class="Bound">tâ€²</a> <a id="11080" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="11082" href="BitML.BasicTypes.html#484" class="Generalizable">a</a> <a id="11084" href="BitML.BasicTypes.html#434" class="Generalizable">n</a> <a id="11086" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a> <a id="11089" href="SecureCompilation.Coherence.html#10570" class="Bound">Râ‰ˆ</a> <a id="11092" href="SecureCompilation.Coherence.html#10793" class="Bound">Î“â†’Î“â€²</a> <a id="11097" href="SecureCompilation.Coherence.html#10718" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="11101" class="Keyword">using</a> <a id="11107" class="Symbol">(</a><a id="11108" href="SecureCompilation.Helpers.html#23850" class="Function">Î»Ë¢</a><a id="11110" class="Symbol">)</a>

        <a id="11121" href="SecureCompilation.Coherence.html#11121" class="Bound">Î”</a> <a id="11123" class="Symbol">:</a> <a id="11125" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="11130" class="Symbol">(</a><a id="11131" href="BitML.BasicTypes.html#303" class="Function">Secret</a> <a id="11138" href="Data.Product.html#1176" class="Function Operator">Ã—</a> <a id="11140" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="11146" href="Agda.Builtin.Nat.html#186" class="Datatype">â„•</a><a id="11147" class="Symbol">)</a>
        <a id="11157" href="SecureCompilation.Coherence.html#11121" class="Bound">Î”</a> <a id="11159" class="Symbol">=</a> <a id="11161" href="Data.List.Base.html#1553" class="Function">map</a> <a id="11165" href="Prelude.Nary.html#3032" class="Function">dropâ‚ƒ</a> <a id="11171" href="SecureCompilation.Coherence.html#10469" class="Bound">Î”Ã—hÌ…</a>

        <a id="11185" href="SecureCompilation.Coherence.html#11185" class="Bound">hÌ…</a> <a id="11188" class="Symbol">=</a> <a id="11190" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="11197" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="11199" href="Data.List.Base.html#1553" class="Function">map</a> <a id="11203" class="Symbol">(</a><a id="11204" href="Agda.Builtin.Sigma.html#246" class="Field">projâ‚‚</a> <a id="11210" href="Function.Base.html#1040" class="Function Operator">âˆ˜</a> <a id="11212" href="Agda.Builtin.Sigma.html#246" class="Field">projâ‚‚</a><a id="11217" class="Symbol">)</a> <a id="11219" href="SecureCompilation.Coherence.html#10469" class="Bound">Î”Ã—hÌ…</a>
        <a id="11232" href="SecureCompilation.Coherence.html#11232" class="Bound">kÌ…</a> <a id="11235" class="Symbol">=</a> <a id="11237" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="11244" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="11246" href="Data.List.Base.html#4459" class="Function">concatMap</a> <a id="11256" class="Symbol">(</a><a id="11257" href="Data.List.Base.html#1553" class="Function">map</a> <a id="11261" href="Bitcoin.Crypto.html#375" class="Field">pub</a> <a id="11265" href="Function.Base.html#1040" class="Function Operator">âˆ˜</a> <a id="11267" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a><a id="11272" class="Symbol">)</a> <a id="11274" class="Symbol">(</a><a id="11275" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="11281" href="SecureCompilation.Coherence.html#10506" class="Bound">kâƒ—</a><a id="11283" class="Symbol">)</a>
      <a id="11291" class="Keyword">in</a>
      <a id="11300" class="Comment">-- (ii) in Rá¶œ we find â‹¯ (B â†’ O âˆ¶ m) (O â†’ B : sechashâ€²(a)) for some B â‹¯</a>
      <a id="11377" class="Symbol">(</a><a id="11378" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="11380" class="Symbol">Î»</a> <a id="11382" href="SecureCompilation.Coherence.html#11382" class="Bound">B</a> <a id="11384" class="Symbol">â†’</a> <a id="11386" class="Symbol">(</a><a id="11387" href="SecureCompilation.Coherence.html#11382" class="Bound">B</a> <a id="11389" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="11391" href="ComputationalModel.Strategy.html#1429" class="Generalizable">m</a> <a id="11393" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="11395" href="SymbolicModel.Mappings.Base.html#842" class="Function">sechashâ€²</a> <a id="11404" class="Symbol">{</a><a id="11405" href="BitML.BasicTypes.html#484" class="Generalizable">a</a><a id="11406" class="Symbol">}</a> <a id="11408" href="SecureCompilation.Coherence.html#10866" class="Bound">aâˆˆ</a><a id="11410" class="Symbol">)</a> <a id="11412" href="Data.List.Membership.Setoid.html#896" class="Function Operator">âˆˆ</a> <a id="11414" href="ComputationalModel.Strategy.html#5964" class="Function">oracleInteractionsá¶œ</a> <a id="11434" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a><a id="11436" class="Symbol">)</a>

      <a id="11445" class="Comment">-- (iv) in RË¢, we find an A:{G}C,âˆ† action, with a in G</a>
    <a id="11504" class="Symbol">â†’</a> <a id="11506" class="Symbol">(</a><a id="11507" href="SecureCompilation.Coherence.html#11507" class="Bound">âˆƒÎ±</a> <a id="11510" class="Symbol">:</a> <a id="11512" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">auth-commitâ¦…</a> <a id="11525" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="11527" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">,</a> <a id="11529" href="SecureCompilation.Coherence.html#1130" class="Generalizable">âŸ¨GâŸ©C</a> <a id="11534" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">,</a> <a id="11536" href="SecureCompilation.Coherence.html#11121" class="Bound">Î”</a> <a id="11538" href="BitML.Semantics.Label.html#1023" class="InductiveConstructor Operator">â¦†</a> <a id="11540" href="Data.List.Membership.Setoid.html#896" class="Function Operator">âˆˆ</a> <a id="11542" href="BitML.Properties.Helpers.html#14361" class="Function">labels</a> <a id="11549" href="SecureCompilation.Coherence.html#10348" class="Bound">RË¢</a><a id="11551" class="Symbol">)</a>
    <a id="11557" class="Symbol">â†’</a> <a id="11559" href="BitML.BasicTypes.html#484" class="Generalizable">a</a> <a id="11561" href="Data.List.Membership.Setoid.html#896" class="Function Operator">âˆˆ</a> <a id="11563" href="BitML.Contracts.Collections.html#4075" class="Function">namesË¡</a> <a id="11570" href="SecureCompilation.Coherence.html#10529" class="Bound">G</a>
    <a id="11576" class="Symbol">â†’</a> <a id="11578" class="Keyword">let</a>
        <a id="11590" href="SecureCompilation.Coherence.html#11590" class="Bound">C</a> <a id="11592" class="Symbol">=</a> <a id="11594" href="SecureCompilation.ComputationalContracts.html#12858" class="Function">encodeAd</a> <a id="11603" href="SecureCompilation.Coherence.html#1130" class="Generalizable">âŸ¨GâŸ©C</a> <a id="11608" class="Symbol">(</a><a id="11609" href="SymbolicModel.Helpers.html#6277" class="Function">auth-commitâˆˆâ‡’Txout</a> <a id="11628" href="SecureCompilation.Coherence.html#11507" class="Bound">âˆƒÎ±</a> <a id="11631" href="SecureCompilation.Coherence.html#10371" class="Bound">ğ•£</a><a id="11632" class="Symbol">)</a>

        <a id="11643" class="Comment">-- T0D0: should we search for a signature of this message instead?</a>
        <a id="11718" href="SecureCompilation.Coherence.html#11718" class="Bound">C,hÌ…,kÌ…</a> <a id="11726" class="Symbol">=</a> <a id="11728" href="Prelude.Serializable.html#183" class="Field">encode</a> <a id="11735" class="Symbol">{</a><a id="11736" class="Argument">A</a> <a id="11738" class="Symbol">=</a> <a id="11740" href="Bitcoin.BasicTypes.html#351" class="Function">HashId</a> <a id="11747" href="Data.Product.html#1176" class="Function Operator">Ã—</a> <a id="11749" href="Bitcoin.BasicTypes.html#351" class="Function">HashId</a> <a id="11756" href="Data.Product.html#1176" class="Function Operator">Ã—</a> <a id="11758" href="Bitcoin.BasicTypes.html#351" class="Function">HashId</a><a id="11764" class="Symbol">}</a> <a id="11766" class="Symbol">(</a><a id="11767" href="SecureCompilation.Coherence.html#11590" class="Bound">C</a> <a id="11769" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="11771" href="SecureCompilation.Coherence.html#11185" class="Bound">hÌ…</a> <a id="11774" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="11776" href="SecureCompilation.Coherence.html#11232" class="Bound">kÌ…</a><a id="11778" class="Symbol">)</a>

        <a id="11789" class="Comment">-- (i) some participant B broadcasts message m</a>
        <a id="11844" href="SecureCompilation.Coherence.html#11844" class="Bound">Î»á¶œ</a> <a id="11847" class="Symbol">=</a> <a id="11849" href="BitML.Contracts.Types.html#373" class="Generalizable">B</a> <a id="11851" href="ComputationalModel.Strategy.html#1025" class="InductiveConstructor Operator">â†’âˆ—âˆ¶</a> <a id="11855" href="ComputationalModel.Strategy.html#1429" class="Generalizable">m</a>
      <a id="11863" class="Keyword">in</a>

      <a id="11873" class="Comment">-- ... with a corresponding broadcast of mâ€²=(C,hÌ…,kÌ…) in Rá¶œ</a>
    <a id="11937" class="Symbol">âˆ€</a> <a id="11939" class="Symbol">(</a><a id="11940" href="SecureCompilation.Coherence.html#11940" class="Bound">âˆƒÎ»</a> <a id="11943" class="Symbol">:</a> <a id="11945" href="Data.List.Relation.Unary.Any.html#1165" class="Datatype">Any</a> <a id="11949" class="Symbol">(Î»</a> <a id="11952" href="SecureCompilation.Coherence.html#11952" class="Bound">l</a> <a id="11954" class="Symbol">â†’</a> <a id="11956" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="11958" class="Symbol">Î»</a> <a id="11960" href="SecureCompilation.Coherence.html#11960" class="Bound">B</a> <a id="11962" class="Symbol">â†’</a> <a id="11964" href="SecureCompilation.Coherence.html#11952" class="Bound">l</a> <a id="11966" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">â‰¡</a> <a id="11968" href="SecureCompilation.Coherence.html#11960" class="Bound">B</a> <a id="11970" href="ComputationalModel.Strategy.html#1025" class="InductiveConstructor Operator">â†’âˆ—âˆ¶</a> <a id="11974" href="SecureCompilation.Coherence.html#11718" class="Bound">C,hÌ…,kÌ…</a><a id="11981" class="Symbol">)</a> <a id="11983" class="Symbol">(</a><a id="11984" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="11991" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a><a id="11993" class="Symbol">))</a> <a id="11996" class="Symbol">â†’</a>

      <a id="12005" class="Comment">-- (v) Î»á¶œ is the first broadcast of m after the first broadcast of mâ€²</a>
    <a id="12079" href="Prelude.InferenceRules.html#56141" class="Function Operator">âˆ™</a> <a id="12081" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="12085" class="Symbol">(Î»</a> <a id="12088" href="SecureCompilation.Coherence.html#12088" class="Bound">l</a> <a id="12090" class="Symbol">â†’</a> <a id="12092" class="Symbol">âˆ€</a> <a id="12094" href="SecureCompilation.Coherence.html#12094" class="Bound">X</a> <a id="12096" class="Symbol">â†’</a> <a id="12098" href="SecureCompilation.Coherence.html#12088" class="Bound">l</a> <a id="12100" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">â‰¢</a> <a id="12102" href="SecureCompilation.Coherence.html#12094" class="Bound">X</a> <a id="12104" href="ComputationalModel.Strategy.html#1025" class="InductiveConstructor Operator">â†’âˆ—âˆ¶</a> <a id="12108" href="ComputationalModel.Strategy.html#1429" class="Generalizable">m</a><a id="12109" class="Symbol">)</a> <a id="12111" class="Symbol">(</a><a id="12112" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="12122" href="SecureCompilation.Coherence.html#11940" class="Bound">âˆƒÎ»</a><a id="12124" class="Symbol">)</a>
      <a id="12132" href="Prelude.InferenceRules.html#12185" class="Function Operator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</a>
      <a id="12201" class="Symbol">(</a><a id="12202" href="SecureCompilation.Coherence.html#10742" class="Bound">Î“â‚œâ€³</a> <a id="12206" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âˆ·</a> <a id="12208" href="SecureCompilation.Coherence.html#10353" class="Bound">ğ•£âˆ—</a> <a id="12211" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âŠ£</a> <a id="12213" href="SecureCompilation.Helpers.html#23850" class="Function">Î»Ë¢</a> <a id="12216" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âœ“</a><a id="12217" class="Symbol">)</a> <a id="12219" href="SecureCompilation.Coherence.html#1329" class="Datatype Operator">~â‚â‚</a> <a id="12223" class="Symbol">(</a><a id="12224" href="SecureCompilation.Coherence.html#11844" class="Bound">Î»á¶œ</a> <a id="12227" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âˆ·</a> <a id="12229" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="12232" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âœ“</a><a id="12233" class="Symbol">)</a>

  <a id="12238" class="Comment">-- ** Contract actions: split</a>
  <a id="_~â‚â‚_.[8]"></a><a id="12270" href="SecureCompilation.Coherence.html#12270" class="InductiveConstructor">[8]</a> <a id="12274" class="Symbol">:</a> <a id="12276" class="Symbol">âˆ€</a> <a id="12278" class="Symbol">{</a><a id="12279" href="SecureCompilation.Coherence.html#12279" class="Bound">RË¢</a><a id="12281" class="Symbol">}</a> <a id="12283" class="Symbol">{</a><a id="12284" href="SecureCompilation.Coherence.html#12284" class="Bound">ğ•£âˆ—</a> <a id="12287" class="Symbol">:</a> <a id="12289" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="12292" href="SecureCompilation.Coherence.html#12279" class="Bound">RË¢</a><a id="12294" class="Symbol">}</a> <a id="12296" class="Symbol">â†’</a> <a id="12298" class="Keyword">let</a> <a id="12302" href="SecureCompilation.Coherence.html#12302" class="Bound">ğ•£</a> <a id="12304" class="Symbol">=</a> <a id="12306" href="SymbolicModel.Helpers.html#1169" class="Function">â„âˆ—â‡’â„</a> <a id="12311" href="SecureCompilation.Coherence.html#12284" class="Bound">ğ•£âˆ—</a><a id="12313" class="Symbol">;</a> <a id="12315" class="Keyword">open</a> <a id="12320" href="SymbolicModel.Mappings.Base.html#768" class="Module">â„</a> <a id="12322" href="SecureCompilation.Coherence.html#12302" class="Bound">ğ•£</a> <a id="12324" class="Keyword">in</a>
        <a id="12335" class="Symbol">âˆ€</a> <a id="12337" class="Symbol">{</a><a id="12338" href="SecureCompilation.Coherence.html#12338" class="Bound">i</a> <a id="12340" class="Symbol">:</a> <a id="12342" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="12348" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a><a id="12349" class="Symbol">}</a> <a id="12351" class="Symbol">â†’</a> <a id="12353" class="Keyword">let</a> <a id="12357" class="Keyword">open</a> <a id="12362" href="BitML.Contracts.ModuleMacros.html#549" class="Module">âˆ£SELECT</a> <a id="12370" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a> <a id="12372" href="SecureCompilation.Coherence.html#12338" class="Bound">i</a><a id="12373" class="Symbol">;</a> <a id="12375" href="SecureCompilation.Coherence.html#12375" class="Bound">As</a> <a id="12378" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="12380" href="SecureCompilation.Coherence.html#12380" class="Bound">ts</a> <a id="12383" class="Symbol">=</a> <a id="12385" href="BitML.Contracts.Collections.html#13915" class="Function">decorations</a> <a id="12397" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="12399" class="Keyword">in</a>
        <a id="12410" class="Symbol">âˆ€</a> <a id="12412" class="Symbol">{</a><a id="12413" href="SecureCompilation.Coherence.html#12413" class="Bound">vcis</a> <a id="12418" class="Symbol">:</a> <a id="12420" href="BitML.Contracts.Types.html#594" class="Function">VIContracts</a><a id="12431" class="Symbol">}</a> <a id="12433" class="Symbol">â†’</a> <a id="12435" class="Keyword">let</a> <a id="12439" href="SecureCompilation.Coherence.html#12439" class="Bound">vs</a> <a id="12442" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="12444" href="SecureCompilation.Coherence.html#12444" class="Bound">cs</a> <a id="12447" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="12449" href="SecureCompilation.Coherence.html#12449" class="Bound">xs</a> <a id="12452" class="Symbol">=</a> <a id="12454" href="Prelude.Lists.Core.html#1363" class="Function">unzipâ‚ƒ</a> <a id="12461" href="SecureCompilation.Coherence.html#12413" class="Bound">vcis</a><a id="12465" class="Symbol">;</a> <a id="12467" href="SecureCompilation.Coherence.html#12467" class="Bound">v</a> <a id="12469" class="Symbol">=</a> <a id="12471" href="Data.List.Base.html#4793" class="Function">sum</a> <a id="12475" href="SecureCompilation.Coherence.html#12439" class="Bound">vs</a> <a id="12478" class="Keyword">in</a>
        <a id="12489" class="Keyword">let</a> <a id="12493" href="SecureCompilation.Coherence.html#12493" class="Bound">Î“</a> <a id="12495" class="Symbol">=</a> <a id="12497" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">âŸ¨</a> <a id="12499" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a> <a id="12501" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="12503" href="SecureCompilation.Coherence.html#12467" class="Bound">v</a> <a id="12505" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">âŸ©at</a> <a id="12509" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="12511" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="12513" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a><a id="12515" class="Symbol">;</a> <a id="12517" href="SecureCompilation.Coherence.html#12517" class="Bound">Î“â‚œ</a> <a id="12520" class="Symbol">=</a> <a id="12522" href="SecureCompilation.Coherence.html#12493" class="Bound">Î“</a> <a id="12524" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="12527" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="12529" class="Keyword">in</a>

      <a id="12539" class="Comment">-- (i) in RË¢, Î± consumes âŸ¨D+C,vâŸ©y to obtain âŸ¨Câ‚€,vâ‚€âŸ©â‚“â‚€ | â‹¯ | âŸ¨Câ‚–,vâ‚–âŸ©â‚“â‚–</a>
      <a id="12615" class="Comment">--     where D = â‹¯ : split vs â†’ cs</a>
      <a id="12656" class="Comment">--     let t be the maximum deadline in an `after` in front of D</a>
      <a id="12727" class="Comment">--     T0D0: what should tâ€² be in case there are not after decorations? (currently any value)</a>
      <a id="12827" class="Symbol">(</a><a id="12828" href="SecureCompilation.Coherence.html#12828" class="Bound">tâ‰¡</a> <a id="12831" class="Symbol">:</a> <a id="12833" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="12835" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">â‰¡</a> <a id="12837" href="Prelude.Ord.MinMax.html#436" class="Function">maximum</a> <a id="12845" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="12847" href="SecureCompilation.Coherence.html#12380" class="Bound">ts</a><a id="12849" class="Symbol">)</a>
      <a id="12857" class="Symbol">(</a><a id="12858" href="SecureCompilation.Coherence.html#12858" class="Bound">dâ‰¡</a> <a id="12861" class="Symbol">:</a> <a id="12863" href="BitML.Contracts.ModuleMacros.html#594" class="Function">d</a> <a id="12865" href="BitML.Contracts.Collections.html#15163" class="Function Operator">â‰¡â‹¯âˆ¶</a> <a id="12869" href="BitML.Contracts.Types.html#941" class="InductiveConstructor">split</a> <a id="12875" class="Symbol">(</a><a id="12876" href="Data.List.Base.html#3579" class="Function">zip</a> <a id="12880" href="SecureCompilation.Coherence.html#12439" class="Bound">vs</a> <a id="12883" href="SecureCompilation.Coherence.html#12444" class="Bound">cs</a><a id="12885" class="Symbol">))</a>
      <a id="12894" class="Symbol">(</a><a id="12895" href="SecureCompilation.Coherence.html#12895" class="Bound">Râ‰ˆ</a> <a id="12898" class="Symbol">:</a> <a id="12900" href="SecureCompilation.Coherence.html#12279" class="Bound">RË¢</a> <a id="12903" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">â‰ˆâ‹¯</a> <a id="12906" href="SecureCompilation.Coherence.html#12517" class="Bound">Î“â‚œ</a><a id="12908" class="Symbol">)</a>
      <a id="12916" class="Comment">-- Hypotheses from [C-Split]</a>
      <a id="12951" class="Symbol">(</a><a id="12952" href="SecureCompilation.Coherence.html#12952" class="Bound">fresh-xs</a> <a id="12961" class="Symbol">:</a> <a id="12963" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="12967" class="Symbol">(</a><a id="12968" href="Data.List.Membership.Setoid.html#945" class="Function Operator">_âˆ‰</a> <a id="12971" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="12973" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.âˆ·</a> <a id="12977" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="12981" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a><a id="12983" class="Symbol">)</a> <a id="12985" href="SecureCompilation.Coherence.html#12449" class="Bound">xs</a><a id="12987" class="Symbol">)</a>
      <a id="12995" class="Comment">-- Hypotheses from [Timeout]</a>
      <a id="13030" class="Symbol">(</a><a id="13031" href="SecureCompilation.Coherence.html#13031" class="Bound">Asâ‰¡âˆ…</a> <a id="13036" class="Symbol">:</a> <a id="13038" href="Prelude.Null.html#263" class="Field">Null</a> <a id="13043" href="SecureCompilation.Coherence.html#12375" class="Bound">As</a><a id="13045" class="Symbol">)</a>
    <a id="13051" class="Symbol">â†’</a> <a id="13053" class="Keyword">let</a>
        <a id="13065" href="SecureCompilation.Coherence.html#13065" class="Bound">Î±</a>   <a id="13069" class="Symbol">=</a> <a id="13071" href="BitML.Semantics.Label.html#1232" class="InductiveConstructor Operator">splitâ¦…</a> <a id="13078" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="13080" href="BitML.Semantics.Label.html#1232" class="InductiveConstructor Operator">â¦†</a>
        <a id="13090" href="SecureCompilation.Coherence.html#13090" class="Bound">Î“â€²</a>  <a id="13094" class="Symbol">=</a> <a id="13096" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="13099" href="Data.List.Base.html#1553" class="Function">map</a> <a id="13103" class="Symbol">(</a><a id="13104" href="Prelude.Nary.html#712" class="Function">uncurryâ‚ƒ</a> <a id="13113" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="13115" href="Function.Base.html#1563" class="Function">flip</a> <a id="13120" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">âŸ¨_,_âŸ©at_</a><a id="13128" class="Symbol">)</a> <a id="13130" href="SecureCompilation.Coherence.html#12413" class="Bound">vcis</a> <a id="13135" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="13137" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a>
        <a id="13148" href="SecureCompilation.Coherence.html#13148" class="Bound">tâ€²</a>  <a id="13152" class="Symbol">=</a> <a id="13154" href="BitML.BasicTypes.html#578" class="Generalizable">t</a>
        <a id="13164" href="SecureCompilation.Coherence.html#13164" class="Bound">Î“â‚œâ€²</a> <a id="13168" class="Symbol">=</a> <a id="13170" href="SecureCompilation.Coherence.html#13090" class="Bound">Î“â€²</a> <a id="13173" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="13176" href="SecureCompilation.Coherence.html#13148" class="Bound">tâ€²</a>
      <a id="13185" class="Keyword">in</a>
      <a id="13194" class="Symbol">(</a><a id="13195" href="SecureCompilation.Coherence.html#13195" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="13199" class="Symbol">:</a> <a id="13201" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="13203" class="Symbol">(</a><a id="13204" href="SymbolicModel.Helpers.html#642" class="Function Operator">_â‰ˆá¶œ</a> <a id="13208" href="SecureCompilation.Coherence.html#13090" class="Bound">Î“â€²</a><a id="13210" class="Symbol">))</a> <a id="13213" class="Symbol">â†’</a> <a id="13215" class="Keyword">let</a> <a id="13219" href="SecureCompilation.Coherence.html#13219" class="Bound">Î“â‚œâ€³</a> <a id="13223" class="Symbol">=</a> <a id="13225" href="SecureCompilation.Coherence.html#13195" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="13229" class="Symbol">.</a><a id="13230" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a> <a id="13236" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="13239" href="SecureCompilation.Coherence.html#13148" class="Bound">tâ€²</a> <a id="13242" class="Keyword">in</a>
      <a id="13251" class="Keyword">let</a>
        <a id="13263" href="SecureCompilation.Coherence.html#13263" class="Bound">âˆ€â‰¤t</a> <a id="13267" class="Symbol">:</a> <a id="13269" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="13273" class="Symbol">(</a><a id="13274" href="Prelude.Ord.Core.html#209" class="Field Operator">_â‰¤</a> <a id="13277" href="SecureCompilation.Coherence.html#13148" class="Bound">tâ€²</a><a id="13279" class="Symbol">)</a> <a id="13281" href="SecureCompilation.Coherence.html#12380" class="Bound">ts</a>
        <a id="13292" href="SecureCompilation.Coherence.html#13263" class="Bound">âˆ€â‰¤t</a> <a id="13296" class="Symbol">=</a> <a id="13298" href="Prelude.SubstDSL.html#488" class="Function">âŸª</a> <a id="13300" class="Symbol">(Î»</a> <a id="13303" href="SecureCompilation.Coherence.html#13303" class="Bound">â—†</a> <a id="13305" class="Symbol">â†’</a> <a id="13307" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="13311" class="Symbol">(</a><a id="13312" href="Prelude.Ord.Core.html#209" class="Field Operator">_â‰¤</a> <a id="13315" href="SecureCompilation.Coherence.html#13303" class="Bound">â—†</a><a id="13316" class="Symbol">)</a> <a id="13318" href="SecureCompilation.Coherence.html#12380" class="Bound">ts</a><a id="13320" class="Symbol">)</a> <a id="13322" href="Prelude.SubstDSL.html#488" class="Function">âŸ«</a> <a id="13324" href="SecureCompilation.Coherence.html#12828" class="Bound">tâ‰¡</a> <a id="13327" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="13330" href="Prelude.Ord.MinMax.html#1034" class="Postulate">âˆ€â‰¤max</a> <a id="13336" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="13338" href="SecureCompilation.Coherence.html#12380" class="Bound">ts</a>

        <a id="13350" href="SecureCompilation.Coherence.html#13350" class="Bound">splitâ†’</a> <a id="13357" class="Symbol">:</a> <a id="13359" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">âŸ¨</a> <a id="13361" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="13363" href="BitML.Contracts.ModuleMacros.html#607" class="Function">dâˆ—</a> <a id="13366" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="13368" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="13370" href="SecureCompilation.Coherence.html#12467" class="Bound">v</a> <a id="13372" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">âŸ©at</a> <a id="13376" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="13378" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="13380" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a> <a id="13383" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">â€”[</a> <a id="13386" href="SecureCompilation.Coherence.html#13065" class="Bound">Î±</a> <a id="13388" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]â†’</a> <a id="13391" href="SecureCompilation.Coherence.html#13090" class="Bound">Î“â€²</a>
        <a id="13402" href="SecureCompilation.Coherence.html#13350" class="Bound">splitâ†’</a> <a id="13409" class="Symbol">=</a> <a id="13411" href="Prelude.SubstDSL.html#488" class="Function">âŸª</a> <a id="13413" class="Symbol">(Î»</a> <a id="13416" href="SecureCompilation.Coherence.html#13416" class="Bound">â—†</a> <a id="13418" class="Symbol">â†’</a> <a id="13420" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">âŸ¨</a> <a id="13422" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="13424" href="SecureCompilation.Coherence.html#13416" class="Bound">â—†</a> <a id="13426" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="13428" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">,</a> <a id="13430" href="SecureCompilation.Coherence.html#12467" class="Bound">v</a> <a id="13432" href="BitML.Semantics.Configurations.Types.html#597" class="InductiveConstructor Operator">âŸ©at</a> <a id="13436" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="13438" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="13440" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a> <a id="13443" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">â€”[</a> <a id="13446" href="SecureCompilation.Coherence.html#13065" class="Bound">Î±</a> <a id="13448" href="BitML.Semantics.InferenceRules.html#1062" class="Datatype Operator">]â†’</a> <a id="13451" href="SecureCompilation.Coherence.html#13090" class="Bound">Î“â€²</a><a id="13453" class="Symbol">)</a> <a id="13455" href="Prelude.SubstDSL.html#488" class="Function">âŸ«</a> <a id="13457" href="SecureCompilation.Coherence.html#12858" class="Bound">dâ‰¡</a>
              <a id="13474" href="Prelude.SubstDSL.html#488" class="Function">~:</a> <a id="13477" href="BitML.Semantics.InferenceRules.html#5386" class="InductiveConstructor">[C-Split]</a> <a id="13487" class="Symbol">{</a><a id="13488" class="Argument">vcis</a> <a id="13493" class="Symbol">=</a> <a id="13495" href="SecureCompilation.Coherence.html#12413" class="Bound">vcis</a><a id="13499" class="Symbol">}</a> <a id="13501" href="SecureCompilation.Coherence.html#12952" class="Bound">fresh-xs</a>

        <a id="13519" href="SecureCompilation.Coherence.html#13519" class="Bound">Î“â†’Î“â€²</a> <a id="13524" class="Symbol">:</a> <a id="13526" href="SecureCompilation.Coherence.html#12517" class="Bound">Î“â‚œ</a> <a id="13529" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">â€”[</a> <a id="13532" href="SecureCompilation.Coherence.html#13065" class="Bound">Î±</a> <a id="13534" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]â†’â‚œ</a> <a id="13538" href="SecureCompilation.Coherence.html#13164" class="Bound">Î“â‚œâ€²</a>
        <a id="13550" href="SecureCompilation.Coherence.html#13519" class="Bound">Î“â†’Î“â€²</a> <a id="13555" class="Symbol">=</a> <a id="13557" href="BitML.Semantics.InferenceRules.html#7812" class="InductiveConstructor">[Timeout]</a> <a id="13567" href="SecureCompilation.Coherence.html#13031" class="Bound">Asâ‰¡âˆ…</a> <a id="13572" href="SecureCompilation.Coherence.html#13263" class="Bound">âˆ€â‰¤t</a> <a id="13576" href="SecureCompilation.Coherence.html#13350" class="Bound">splitâ†’</a> <a id="13583" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

        <a id="13597" class="Keyword">open</a> <a id="13602" href="SecureCompilation.Helpers.html#24298" class="Module">Hâ‚ˆ</a> <a id="13605" class="Symbol">{</a><a id="13606" href="SecureCompilation.Coherence.html#12279" class="Bound">RË¢</a><a id="13608" class="Symbol">}</a> <a id="13610" href="SecureCompilation.Coherence.html#12302" class="Bound">ğ•£</a> <a id="13612" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="13614" href="SecureCompilation.Coherence.html#13065" class="Bound">Î±</a> <a id="13616" href="SecureCompilation.Coherence.html#13148" class="Bound">tâ€²</a> <a id="13619" href="BitML.Contracts.Types.html#1252" class="Generalizable">c</a> <a id="13621" href="SecureCompilation.Coherence.html#12467" class="Bound">v</a> <a id="13623" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="13625" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a> <a id="13628" href="SecureCompilation.Coherence.html#12338" class="Bound">i</a> <a id="13630" href="SecureCompilation.Coherence.html#12413" class="Bound">vcis</a> <a id="13635" href="SecureCompilation.Coherence.html#12895" class="Bound">Râ‰ˆ</a> <a id="13638" href="SecureCompilation.Coherence.html#13519" class="Bound">Î“â†’Î“â€²</a> <a id="13643" href="SecureCompilation.Coherence.html#13195" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="13647" href="SecureCompilation.Coherence.html#12858" class="Bound">dâ‰¡</a> <a id="13650" class="Keyword">using</a> <a id="13656" class="Symbol">(</a><a id="13657" href="SecureCompilation.Helpers.html#27978" class="Function">Î»Ë¢</a><a id="13659" class="Symbol">;</a> <a id="13661" href="SecureCompilation.Helpers.html#25868" class="Function">T</a><a id="13662" class="Symbol">)</a>

        <a id="13673" href="SecureCompilation.Coherence.html#13673" class="Bound">Î»á¶œ</a> <a id="13676" class="Symbol">=</a> <a id="13678" href="ComputationalModel.Strategy.html#1094" class="InductiveConstructor">submit</a> <a id="13685" href="SecureCompilation.Helpers.html#25868" class="Function">T</a>
      <a id="13693" class="Keyword">in</a>
      <a id="13702" href="Prelude.InferenceRules.html#41791" class="Function Operator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</a>
      <a id="13771" class="Symbol">(</a><a id="13772" href="SecureCompilation.Coherence.html#13219" class="Bound">Î“â‚œâ€³</a> <a id="13776" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âˆ·</a> <a id="13778" href="SecureCompilation.Coherence.html#12284" class="Bound">ğ•£âˆ—</a> <a id="13781" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âŠ£</a> <a id="13783" href="SecureCompilation.Helpers.html#27978" class="Function">Î»Ë¢</a> <a id="13786" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âœ“</a><a id="13787" class="Symbol">)</a> <a id="13789" href="SecureCompilation.Coherence.html#1329" class="Datatype Operator">~â‚â‚</a> <a id="13793" class="Symbol">(</a><a id="13794" href="SecureCompilation.Coherence.html#13673" class="Bound">Î»á¶œ</a> <a id="13797" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âˆ·</a> <a id="13799" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="13802" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âœ“</a><a id="13803" class="Symbol">)</a>
<a id="13805" class="Comment">{-
  -- ** Contract actions: withdraw
  [9] : âˆ€ {RË¢} {ğ•£âˆ— : â„âˆ— RË¢} â†’ let ğ•£ = â„âˆ—â‡’â„ ğ•£âˆ—; open â„ ğ•£ in
        âˆ€ {i : Index c} â†’ let open âˆ£SELECT c i; As , ts = decorations d in
        let Î“ = âŸ¨ c , v âŸ©at y âˆ£ Î“â‚€; Î“â‚œ = Î“ at t in

      -- (i) in RË¢, Î± consumes âŸ¨D+C,vâŸ©y to obtain âŸ¨A,vâŸ©â‚“ (where D = â‹¯ : withdraw A)
      (dâ‰¡ : d â‰¡â‹¯âˆ¶ withdraw A)
      (Râ‰ˆ : RË¢ â‰ˆâ‹¯ Î“â‚œ)
    â†’ let
        Î±   = withdrawâ¦… A , v , y â¦†
        Î“â€²  = âŸ¨ A has v âŸ©at x âˆ£ Î“â‚€
        tâ€²  = t
        Î“â‚œâ€² = Î“â€² at tâ€²
      in
      (âˆƒÎ“â‰ˆ : âˆƒ (_â‰ˆá¶œ Î“â€²)) â†’ let Î“â‚œâ€³ = âˆƒÎ“â‰ˆ .projâ‚ at tâ€² in
      -- Hypotheses from [C-Withdraw]
      (fresh-x : x âˆ‰ y L.âˆ· ids Î“â‚€)
      -- Hypotheses from [Timeout]
      (Asâ‰¡âˆ… : Null As)
      (âˆ€â‰¤t : All (_â‰¤ t) ts)
    â†’ let
        Î“â†’Î“â€² : Î“â‚œ â€”[ Î± ]â†’â‚œ Î“â‚œâ€²
        Î“â†’Î“â€² = [Timeout] Asâ‰¡âˆ… âˆ€â‰¤t
          (âŸª (Î» â—† â†’ âŸ¨ [ â—† ] , v âŸ©at y âˆ£ Î“â‚€ â€”[ Î± ]â†’ Î“â€²) âŸ« dâ‰¡ ~: [C-Withdraw] fresh-x)
          refl

        open Hâ‚‰ {RË¢} ğ•£ t Î± tâ€² c v y Î“â‚€ A x i Râ‰ˆ Î“â†’Î“â€² âˆƒÎ“â‰ˆ dâ‰¡ using (Î»Ë¢; T)

        Î»á¶œ = submit T
      in
      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      (Î“â‚œâ€³ âˆ· ğ•£âˆ— âŠ£ Î»Ë¢ âœ“) ~â‚â‚ (Î»á¶œ âˆ· Rá¶œ âœ“)
-}</a>
  <a id="14906" class="Comment">-- ** Deposits: authorize join</a>
  <a id="_~â‚â‚_.[10]"></a><a id="14939" href="SecureCompilation.Coherence.html#14939" class="InductiveConstructor">[10]</a> <a id="14944" class="Symbol">:</a> <a id="14946" class="Symbol">âˆ€</a> <a id="14948" class="Symbol">{</a><a id="14949" href="SecureCompilation.Coherence.html#14949" class="Bound">RË¢</a><a id="14951" class="Symbol">}</a> <a id="14953" class="Symbol">{</a><a id="14954" href="SecureCompilation.Coherence.html#14954" class="Bound">ğ•£âˆ—</a> <a id="14957" class="Symbol">:</a> <a id="14959" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="14962" href="SecureCompilation.Coherence.html#14949" class="Bound">RË¢</a><a id="14964" class="Symbol">}</a> <a id="14966" class="Symbol">â†’</a> <a id="14968" class="Keyword">let</a> <a id="14972" href="SecureCompilation.Coherence.html#14972" class="Bound">ğ•£</a> <a id="14974" class="Symbol">=</a> <a id="14976" href="SymbolicModel.Helpers.html#1169" class="Function">â„âˆ—â‡’â„</a> <a id="14981" href="SecureCompilation.Coherence.html#14954" class="Bound">ğ•£âˆ—</a><a id="14983" class="Symbol">;</a> <a id="14985" class="Keyword">open</a> <a id="14990" href="SymbolicModel.Mappings.Base.html#768" class="Module">â„</a> <a id="14992" href="SecureCompilation.Coherence.html#14972" class="Bound">ğ•£</a> <a id="14994" class="Keyword">in</a>
         <a id="15006" class="Keyword">let</a> <a id="15010" href="SecureCompilation.Coherence.html#15010" class="Bound">Î“</a> <a id="15012" class="Symbol">=</a> <a id="15014" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ¨</a> <a id="15016" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="15018" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="15022" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="15024" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ©at</a> <a id="15028" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="15030" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="15032" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ¨</a> <a id="15034" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="15036" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="15040" href="BitML.BasicTypes.html#445" class="Generalizable">vâ€²</a> <a id="15043" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ©at</a> <a id="15047" href="BitML.BasicTypes.html#533" class="Generalizable">xâ€²</a> <a id="15050" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="15052" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a><a id="15054" class="Symbol">;</a> <a id="15056" href="SecureCompilation.Coherence.html#15056" class="Bound">Î“â‚œ</a> <a id="15059" class="Symbol">=</a> <a id="15061" href="SecureCompilation.Coherence.html#15010" class="Bound">Î“</a> <a id="15063" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="15066" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="15068" class="Keyword">in</a>

      <a id="15078" class="Symbol">(</a><a id="15079" href="SecureCompilation.Coherence.html#15079" class="Bound">Râ‰ˆ</a> <a id="15082" class="Symbol">:</a> <a id="15084" href="SecureCompilation.Coherence.html#14949" class="Bound">RË¢</a> <a id="15087" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">â‰ˆâ‹¯</a> <a id="15090" href="SecureCompilation.Coherence.html#15056" class="Bound">Î“â‚œ</a><a id="15092" class="Symbol">)</a>
    <a id="15098" class="Symbol">â†’</a> <a id="15100" class="Keyword">let</a>
        <a id="15112" href="SecureCompilation.Coherence.html#15112" class="Bound">Î±</a>   <a id="15116" class="Symbol">=</a> <a id="15118" href="BitML.Semantics.Label.html#480" class="InductiveConstructor Operator">auth-joinâ¦…</a> <a id="15129" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="15131" href="BitML.Semantics.Label.html#480" class="InductiveConstructor Operator">,</a> <a id="15133" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="15135" href="BitML.Semantics.Label.html#480" class="InductiveConstructor Operator">â†”</a> <a id="15137" href="BitML.BasicTypes.html#533" class="Generalizable">xâ€²</a> <a id="15140" href="BitML.Semantics.Label.html#480" class="InductiveConstructor Operator">â¦†</a>
        <a id="15150" href="SecureCompilation.Coherence.html#15150" class="Bound">Î“â€²</a>  <a id="15154" class="Symbol">=</a> <a id="15156" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ¨</a> <a id="15158" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="15160" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="15164" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="15166" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ©at</a> <a id="15170" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="15172" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="15174" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ¨</a> <a id="15176" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="15178" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="15182" href="BitML.BasicTypes.html#445" class="Generalizable">vâ€²</a> <a id="15185" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ©at</a> <a id="15189" href="BitML.BasicTypes.html#533" class="Generalizable">xâ€²</a> <a id="15192" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="15194" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="15196" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="15202" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="15204" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">â†”</a> <a id="15206" href="BitML.BasicTypes.html#533" class="Generalizable">xâ€²</a> <a id="15209" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">â–·âŸ¨</a> <a id="15212" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="15214" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">,</a> <a id="15216" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="15218" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="15220" href="BitML.BasicTypes.html#445" class="Generalizable">vâ€²</a> <a id="15223" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">âŸ©</a> <a id="15225" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="15227" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="15229" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a>
        <a id="15240" href="SecureCompilation.Coherence.html#15240" class="Bound">tâ€²</a>  <a id="15244" class="Symbol">=</a> <a id="15246" href="BitML.BasicTypes.html#578" class="Generalizable">t</a>
        <a id="15256" href="SecureCompilation.Coherence.html#15256" class="Bound">Î“â‚œâ€²</a> <a id="15260" class="Symbol">=</a> <a id="15262" href="SecureCompilation.Coherence.html#15150" class="Bound">Î“â€²</a> <a id="15265" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="15268" href="SecureCompilation.Coherence.html#15240" class="Bound">tâ€²</a>
      <a id="15277" class="Keyword">in</a>
      <a id="15286" class="Symbol">(</a><a id="15287" href="SecureCompilation.Coherence.html#15287" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="15291" class="Symbol">:</a> <a id="15293" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="15295" class="Symbol">(</a><a id="15296" href="SymbolicModel.Helpers.html#642" class="Function Operator">_â‰ˆá¶œ</a> <a id="15300" href="SecureCompilation.Coherence.html#15150" class="Bound">Î“â€²</a><a id="15302" class="Symbol">))</a> <a id="15305" class="Symbol">â†’</a> <a id="15307" class="Keyword">let</a> <a id="15311" href="SecureCompilation.Coherence.html#15311" class="Bound">Î“â‚œâ€³</a> <a id="15315" class="Symbol">=</a> <a id="15317" href="SecureCompilation.Coherence.html#15287" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="15321" class="Symbol">.</a><a id="15322" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a> <a id="15328" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="15331" href="SecureCompilation.Coherence.html#15240" class="Bound">tâ€²</a> <a id="15334" class="Keyword">in</a>
      <a id="15343" class="Keyword">let</a>
        <a id="15355" href="SecureCompilation.Coherence.html#15355" class="Bound">Î“â†’Î“â€²</a> <a id="15360" class="Symbol">:</a> <a id="15362" href="SecureCompilation.Coherence.html#15056" class="Bound">Î“â‚œ</a> <a id="15365" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">â€”[</a> <a id="15368" href="SecureCompilation.Coherence.html#15112" class="Bound">Î±</a> <a id="15370" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]â†’â‚œ</a> <a id="15374" href="SecureCompilation.Coherence.html#15256" class="Bound">Î“â‚œâ€²</a>
        <a id="15386" href="SecureCompilation.Coherence.html#15355" class="Bound">Î“â†’Î“â€²</a> <a id="15391" class="Symbol">=</a> <a id="15393" href="BitML.Semantics.InferenceRules.html#7587" class="InductiveConstructor">[Action]</a> <a id="15402" href="BitML.Semantics.InferenceRules.html#1167" class="InductiveConstructor">[DEP-AuthJoin]</a> <a id="15417" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

        <a id="15431" href="SecureCompilation.Coherence.html#15431" class="Bound">nâŠ†</a> <a id="15434" class="Symbol">:</a> <a id="15436" href="SecureCompilation.Coherence.html#15010" class="Bound">Î“</a> <a id="15438" href="Prelude.Lists.Collections.html#1215" class="Function Operator">âŠ†â¦…</a> <a id="15441" href="BitML.Contracts.Collections.html#4144" class="Function">namesÊ³</a> <a id="15448" href="Prelude.Lists.Collections.html#1215" class="Function Operator">â¦†</a> <a id="15450" href="SecureCompilation.Coherence.html#14949" class="Bound">RË¢</a>
        <a id="15461" href="SecureCompilation.Coherence.html#15431" class="Bound">nâŠ†</a>  <a id="15465" class="Symbol">=</a> <a id="15467" href="SymbolicModel.Collections.html#1307" class="Function">namesÊ³â¦…endâ¦†âŠ†</a> <a id="15480" href="SecureCompilation.Coherence.html#14949" class="Bound">RË¢</a> <a id="15483" href="Function.Base.html#1040" class="Function Operator">âˆ˜</a> <a id="15485" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">âˆˆnamesÊ³-resp-â‰ˆ</a> <a id="15500" class="Symbol">_</a> <a id="15502" class="Symbol">{</a><a id="15503" href="SecureCompilation.Coherence.html#15010" class="Bound">Î“</a><a id="15504" class="Symbol">}{</a><a id="15506" href="BitML.Semantics.Configurations.Types.html#1335" class="Field">cfg</a> <a id="15510" class="Symbol">(</a><a id="15511" href="SecureCompilation.Coherence.html#14949" class="Bound">RË¢</a> <a id="15514" class="Symbol">.</a><a id="15515" href="Prelude.Traces.html#568" class="Field">end</a><a id="15518" class="Symbol">)}</a> <a id="15521" class="Symbol">(</a><a id="15522" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">â†­-sym</a> <a id="15528" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="15530" href="Agda.Builtin.Sigma.html#246" class="Field">projâ‚‚</a> <a id="15536" href="SecureCompilation.Coherence.html#15079" class="Bound">Râ‰ˆ</a><a id="15538" class="Symbol">)</a>
        <a id="15548" href="SecureCompilation.Coherence.html#15548" class="Bound">xâˆˆ</a>  <a id="15552" class="Symbol">=</a> <a id="15554" href="SecureCompilation.Coherence.html#15431" class="Bound">nâŠ†</a> <a id="15557" class="Symbol">(</a><a id="15558" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="15563" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="15567" class="Symbol">)</a>
        <a id="15577" href="SecureCompilation.Coherence.html#15577" class="Bound">xâˆˆâ€²</a> <a id="15581" class="Symbol">=</a> <a id="15583" href="SecureCompilation.Coherence.html#15431" class="Bound">nâŠ†</a> <a id="15586" class="Symbol">(</a><a id="15587" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a> <a id="15593" href="Function.Base.html#3848" class="Function Operator">$â€²</a> <a id="15596" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="15601" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="15605" class="Symbol">)</a>
      <a id="15613" class="Keyword">in</a>
      <a id="15622" class="Symbol">(</a><a id="15623" href="SecureCompilation.Coherence.html#15623" class="Bound">âˆƒÎ»</a> <a id="15626" class="Symbol">:</a> <a id="15628" href="Data.List.Relation.Unary.Any.html#1165" class="Datatype">Any</a> <a id="15632" class="Symbol">(Î»</a> <a id="15635" href="SecureCompilation.Coherence.html#15635" class="Bound">l</a> <a id="15637" class="Symbol">â†’</a> <a id="15639" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="15641" class="Symbol">Î»</a> <a id="15643" href="SecureCompilation.Coherence.html#15643" class="Bound">B</a> <a id="15645" class="Symbol">â†’</a> <a id="15647" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="15649" class="Symbol">Î»</a> <a id="15651" href="SecureCompilation.Coherence.html#15651" class="Bound">T</a>
                <a id="15669" class="Symbol">â†’</a> <a id="15671" class="Symbol">(</a><a id="15672" href="SecureCompilation.Coherence.html#15635" class="Bound">l</a> <a id="15674" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">â‰¡</a> <a id="15676" href="SecureCompilation.Coherence.html#15643" class="Bound">B</a> <a id="15678" href="ComputationalModel.Strategy.html#1025" class="InductiveConstructor Operator">â†’âˆ—âˆ¶</a> <a id="15682" class="Symbol">(</a><a id="15683" href="SecureCompilation.Coherence.html#15651" class="Bound">T</a> <a id="15685" href="Bitcoin.Crypto.html#609" class="Function Operator">â™¯</a><a id="15686" class="Symbol">))</a>
                <a id="15705" href="Data.Product.html#1176" class="Function Operator">Ã—</a> <a id="15707" class="Symbol">(</a><a id="15708" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="15716" href="SecureCompilation.Coherence.html#15651" class="Bound">T</a> <a id="15718" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">â‰¡</a> <a id="15720" href="Bitcoin.Tx.Crypto.html#657" class="Function">hashTxâ±</a> <a id="15728" class="Symbol">(</a><a id="15729" href="SymbolicModel.Mappings.Base.html#823" class="Function">txoutâ€²</a> <a id="15736" class="Symbol">{</a><a id="15737" href="BitML.BasicTypes.html#527" class="Generalizable">x</a><a id="15738" class="Symbol">}</a> <a id="15740" href="SecureCompilation.Coherence.html#15548" class="Bound">xâˆˆ</a><a id="15742" class="Symbol">)</a> <a id="15744" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">âˆ·</a> <a id="15746" href="Bitcoin.Tx.Crypto.html#657" class="Function">hashTxâ±</a> <a id="15754" class="Symbol">(</a><a id="15755" href="SymbolicModel.Mappings.Base.html#823" class="Function">txoutâ€²</a> <a id="15762" class="Symbol">{</a><a id="15763" href="BitML.BasicTypes.html#533" class="Generalizable">xâ€²</a><a id="15765" class="Symbol">}</a> <a id="15767" href="SecureCompilation.Coherence.html#15577" class="Bound">xâˆˆâ€²</a><a id="15770" class="Symbol">)</a> <a id="15772" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">âˆ·</a> <a id="15774" href="Data.Vec.Base.html#1043" class="InductiveConstructor">[]</a><a id="15776" class="Symbol">)</a>
                <a id="15794" href="Data.Product.html#1176" class="Function Operator">Ã—</a> <a id="15796" class="Symbol">(</a><a id="15797" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="15805" href="SecureCompilation.Coherence.html#15651" class="Bound">T</a> <a id="15807" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">â‰¡</a> <a id="15809" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="15811" class="Number">1</a> <a id="15813" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="15815" class="Keyword">record</a> <a id="15822" class="Symbol">{</a><a id="15823" href="Bitcoin.Tx.Base.html#718" class="Field">value</a> <a id="15829" class="Symbol">=</a> <a id="15831" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="15833" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="15835" href="BitML.BasicTypes.html#445" class="Generalizable">vâ€²</a><a id="15837" class="Symbol">;</a> <a id="15839" href="Bitcoin.Tx.Base.html#744" class="Field">validator</a> <a id="15849" class="Symbol">=</a> <a id="15851" href="Bitcoin.Script.Base.html#1921" class="InductiveConstructor Operator">Æ›</a> <a id="15853" class="Symbol">(</a><a id="15854" href="Bitcoin.Script.Base.html#1115" class="InductiveConstructor">versig</a> <a id="15861" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="15863" href="ComputationalModel.KeyPairs.html#208" class="Function">KÌ‚</a> <a id="15866" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="15868" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a> <a id="15870" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="15872" href="Data.Fin.html#739" class="Function Operator">#</a> <a id="15874" class="Number">0</a> <a id="15876" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="15877" class="Symbol">)}</a> <a id="15880" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="15881" class="Symbol">)</a>
                <a id="15899" class="Symbol">)</a> <a id="15901" class="Symbol">(</a><a id="15902" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="15909" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a><a id="15911" class="Symbol">))</a>
    <a id="15918" class="Symbol">â†’</a> <a id="15920" class="Keyword">let</a>
        <a id="15932" href="SecureCompilation.Coherence.html#15932" class="Bound">T</a> <a id="15934" class="Symbol">:</a> <a id="15936" href="Bitcoin.Tx.Base.html#1326" class="Function">âˆƒTx</a>
        <a id="15948" href="SecureCompilation.Coherence.html#15932" class="Bound">T</a> <a id="15950" class="Symbol">=</a> <a id="15952" class="Number">2</a> <a id="15954" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="15956" class="Number">1</a> <a id="15958" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="15960" href="Data.List.Relation.Unary.Any.html#2260" class="Function">L.Any.satisfied</a> <a id="15976" href="SecureCompilation.Coherence.html#15623" class="Bound">âˆƒÎ»</a> <a id="15979" class="Symbol">.</a><a id="15980" href="Agda.Builtin.Sigma.html#246" class="Field">projâ‚‚</a> <a id="15986" class="Symbol">.</a><a id="15987" href="Agda.Builtin.Sigma.html#246" class="Field">projâ‚‚</a> <a id="15993" class="Symbol">.</a><a id="15994" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a>

        <a id="16009" class="Comment">-- (iii) broadcast transaction T, signed by A</a>
        <a id="16063" href="SecureCompilation.Coherence.html#16063" class="Bound">mâ€²</a> <a id="16066" class="Symbol">=</a> <a id="16068" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="16072" class="Symbol">(</a><a id="16073" href="ComputationalModel.KeyPairs.html#208" class="Function">KÌ‚</a> <a id="16076" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a><a id="16077" class="Symbol">)</a> <a id="16079" href="SecureCompilation.Coherence.html#15932" class="Bound">T</a>
        <a id="16089" href="SecureCompilation.Coherence.html#16089" class="Bound">Î»á¶œ</a> <a id="16092" class="Symbol">=</a> <a id="16094" href="BitML.Contracts.Types.html#373" class="Generalizable">B</a> <a id="16096" href="ComputationalModel.Strategy.html#1025" class="InductiveConstructor Operator">â†’âˆ—âˆ¶</a> <a id="16100" href="SecureCompilation.Coherence.html#16063" class="Bound">mâ€²</a>

        <a id="16112" class="Comment">-- (v) txout = txoutâ€², sechash = sechashâ€², Îº = Îºâ€²</a>
        <a id="16170" class="Keyword">open</a> <a id="16175" href="SecureCompilation.Helpers.html#29762" class="Module">Hâ‚â‚€</a> <a id="16179" class="Symbol">{</a><a id="16180" href="SecureCompilation.Coherence.html#14949" class="Bound">RË¢</a><a id="16182" class="Symbol">}</a> <a id="16184" href="SecureCompilation.Coherence.html#14972" class="Bound">ğ•£</a> <a id="16186" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="16188" href="SecureCompilation.Coherence.html#15112" class="Bound">Î±</a> <a id="16190" href="SecureCompilation.Coherence.html#15240" class="Bound">tâ€²</a> <a id="16193" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="16195" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="16197" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="16199" href="BitML.BasicTypes.html#445" class="Generalizable">vâ€²</a> <a id="16202" href="BitML.BasicTypes.html#533" class="Generalizable">xâ€²</a> <a id="16205" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a> <a id="16208" href="SecureCompilation.Coherence.html#15079" class="Bound">Râ‰ˆ</a> <a id="16211" href="SecureCompilation.Coherence.html#15355" class="Bound">Î“â†’Î“â€²</a> <a id="16216" href="SecureCompilation.Coherence.html#15287" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="16220" class="Keyword">using</a> <a id="16226" class="Symbol">(</a><a id="16227" href="SecureCompilation.Helpers.html#29867" class="Function">Î»Ë¢</a><a id="16229" class="Symbol">)</a>
      <a id="16237" class="Keyword">in</a>
      <a id="16246" class="Comment">-- (iv) Î»á¶œ is the first broadcast of mâ€² in Rá¶œ after the first broadcast of T</a>
    <a id="16327" href="Prelude.InferenceRules.html#56141" class="Function Operator">âˆ™</a> <a id="16329" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="16333" class="Symbol">(Î»</a> <a id="16336" href="SecureCompilation.Coherence.html#16336" class="Bound">l</a> <a id="16338" class="Symbol">â†’</a> <a id="16340" class="Symbol">âˆ€</a> <a id="16342" href="SecureCompilation.Coherence.html#16342" class="Bound">B</a> <a id="16344" class="Symbol">â†’</a> <a id="16346" href="SecureCompilation.Coherence.html#16336" class="Bound">l</a> <a id="16348" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">â‰¢</a> <a id="16350" href="SecureCompilation.Coherence.html#16342" class="Bound">B</a> <a id="16352" href="ComputationalModel.Strategy.html#1025" class="InductiveConstructor Operator">â†’âˆ—âˆ¶</a> <a id="16356" href="SecureCompilation.Coherence.html#16063" class="Bound">mâ€²</a><a id="16358" class="Symbol">)</a> <a id="16360" class="Symbol">(</a><a id="16361" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="16371" href="SecureCompilation.Coherence.html#15623" class="Bound">âˆƒÎ»</a><a id="16373" class="Symbol">)</a>
      <a id="16381" href="Prelude.InferenceRules.html#12185" class="Function Operator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</a>
      <a id="16450" class="Symbol">(</a><a id="16451" href="SecureCompilation.Coherence.html#15311" class="Bound">Î“â‚œâ€³</a> <a id="16455" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âˆ·</a> <a id="16457" href="SecureCompilation.Coherence.html#14954" class="Bound">ğ•£âˆ—</a> <a id="16460" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âŠ£</a> <a id="16462" href="SecureCompilation.Helpers.html#29867" class="Function">Î»Ë¢</a> <a id="16465" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âœ“</a><a id="16466" class="Symbol">)</a> <a id="16468" href="SecureCompilation.Coherence.html#1329" class="Datatype Operator">~â‚â‚</a> <a id="16472" class="Symbol">(</a><a id="16473" href="SecureCompilation.Coherence.html#16089" class="Bound">Î»á¶œ</a> <a id="16476" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âˆ·</a> <a id="16478" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="16481" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âœ“</a><a id="16482" class="Symbol">)</a>

  <a id="16487" class="Comment">-- ** Deposits: join</a>
  <a id="_~â‚â‚_.[11]"></a><a id="16510" href="SecureCompilation.Coherence.html#16510" class="InductiveConstructor">[11]</a> <a id="16515" class="Symbol">:</a> <a id="16517" class="Symbol">âˆ€</a> <a id="16519" class="Symbol">{</a><a id="16520" href="SecureCompilation.Coherence.html#16520" class="Bound">RË¢</a><a id="16522" class="Symbol">}</a> <a id="16524" class="Symbol">{</a><a id="16525" href="SecureCompilation.Coherence.html#16525" class="Bound">ğ•£âˆ—</a> <a id="16528" class="Symbol">:</a> <a id="16530" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="16533" href="SecureCompilation.Coherence.html#16520" class="Bound">RË¢</a><a id="16535" class="Symbol">}</a> <a id="16537" class="Symbol">â†’</a> <a id="16539" class="Keyword">let</a> <a id="16543" href="SecureCompilation.Coherence.html#16543" class="Bound">ğ•£</a> <a id="16545" class="Symbol">=</a> <a id="16547" href="SymbolicModel.Helpers.html#1169" class="Function">â„âˆ—â‡’â„</a> <a id="16552" href="SecureCompilation.Coherence.html#16525" class="Bound">ğ•£âˆ—</a><a id="16554" class="Symbol">;</a> <a id="16556" class="Keyword">open</a> <a id="16561" href="SymbolicModel.Mappings.Base.html#768" class="Module">â„</a> <a id="16563" href="SecureCompilation.Coherence.html#16543" class="Bound">ğ•£</a> <a id="16565" class="Keyword">in</a>
         <a id="16577" class="Keyword">let</a> <a id="16581" href="SecureCompilation.Coherence.html#16581" class="Bound">Î“</a> <a id="16583" class="Symbol">=</a> <a id="16585" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ¨</a> <a id="16587" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="16589" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="16593" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="16595" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ©at</a> <a id="16599" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="16601" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="16603" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ¨</a> <a id="16605" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="16607" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="16611" href="BitML.BasicTypes.html#445" class="Generalizable">vâ€²</a> <a id="16614" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ©at</a> <a id="16618" href="BitML.BasicTypes.html#533" class="Generalizable">xâ€²</a> <a id="16621" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="16623" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="16625" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="16631" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="16633" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">â†”</a> <a id="16635" href="BitML.BasicTypes.html#533" class="Generalizable">xâ€²</a> <a id="16638" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">â–·âŸ¨</a> <a id="16641" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="16643" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">,</a> <a id="16645" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="16647" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="16649" href="BitML.BasicTypes.html#445" class="Generalizable">vâ€²</a> <a id="16652" href="BitML.Semantics.Action.html#614" class="InductiveConstructor Operator">âŸ©</a> <a id="16654" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="16656" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="16658" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a><a id="16660" class="Symbol">;</a> <a id="16662" href="SecureCompilation.Coherence.html#16662" class="Bound">Î“â‚œ</a> <a id="16665" class="Symbol">=</a> <a id="16667" href="SecureCompilation.Coherence.html#16581" class="Bound">Î“</a> <a id="16669" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="16672" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="16674" class="Keyword">in</a>

      <a id="16684" class="Symbol">(</a><a id="16685" href="SecureCompilation.Coherence.html#16685" class="Bound">Râ‰ˆ</a> <a id="16688" class="Symbol">:</a> <a id="16690" href="SecureCompilation.Coherence.html#16520" class="Bound">RË¢</a> <a id="16693" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">â‰ˆâ‹¯</a> <a id="16696" href="SecureCompilation.Coherence.html#16662" class="Bound">Î“â‚œ</a><a id="16698" class="Symbol">)</a>
    <a id="16704" class="Symbol">â†’</a> <a id="16706" class="Keyword">let</a>
        <a id="16718" href="SecureCompilation.Coherence.html#16718" class="Bound">Î±</a>   <a id="16722" class="Symbol">=</a> <a id="16724" href="BitML.Semantics.Label.html#540" class="InductiveConstructor Operator">joinâ¦…</a> <a id="16730" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="16732" href="BitML.Semantics.Label.html#540" class="InductiveConstructor Operator">â†”</a> <a id="16734" href="BitML.BasicTypes.html#533" class="Generalizable">xâ€²</a> <a id="16737" href="BitML.Semantics.Label.html#540" class="InductiveConstructor Operator">â¦†</a>
        <a id="16747" href="SecureCompilation.Coherence.html#16747" class="Bound">Î“â€²</a>  <a id="16751" class="Symbol">=</a> <a id="16753" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ¨</a> <a id="16755" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="16757" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="16761" class="Symbol">(</a><a id="16762" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="16764" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="16766" href="BitML.BasicTypes.html#445" class="Generalizable">vâ€²</a><a id="16768" class="Symbol">)</a> <a id="16770" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ©at</a> <a id="16774" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="16776" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="16778" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a>
        <a id="16789" href="SecureCompilation.Coherence.html#16789" class="Bound">tâ€²</a>  <a id="16793" class="Symbol">=</a> <a id="16795" href="BitML.BasicTypes.html#578" class="Generalizable">t</a>
        <a id="16805" href="SecureCompilation.Coherence.html#16805" class="Bound">Î“â‚œâ€²</a> <a id="16809" class="Symbol">=</a> <a id="16811" href="SecureCompilation.Coherence.html#16747" class="Bound">Î“â€²</a> <a id="16814" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="16817" href="SecureCompilation.Coherence.html#16789" class="Bound">tâ€²</a>
      <a id="16826" class="Keyword">in</a>
      <a id="16835" class="Symbol">(</a><a id="16836" href="SecureCompilation.Coherence.html#16836" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="16840" class="Symbol">:</a> <a id="16842" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="16844" class="Symbol">(</a><a id="16845" href="SymbolicModel.Helpers.html#642" class="Function Operator">_â‰ˆá¶œ</a> <a id="16849" href="SecureCompilation.Coherence.html#16747" class="Bound">Î“â€²</a><a id="16851" class="Symbol">))</a> <a id="16854" class="Symbol">â†’</a> <a id="16856" class="Keyword">let</a> <a id="16860" href="SecureCompilation.Coherence.html#16860" class="Bound">Î“â‚œâ€³</a> <a id="16864" class="Symbol">=</a> <a id="16866" href="SecureCompilation.Coherence.html#16836" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="16870" class="Symbol">.</a><a id="16871" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a> <a id="16877" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="16880" href="SecureCompilation.Coherence.html#16789" class="Bound">tâ€²</a> <a id="16883" class="Keyword">in</a>
      <a id="16892" class="Comment">-- Hypotheses from [DEP-Join]</a>
      <a id="16928" class="Symbol">(</a><a id="16929" href="SecureCompilation.Coherence.html#16929" class="Bound">fresh-y</a> <a id="16937" class="Symbol">:</a> <a id="16939" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="16941" href="Data.List.Membership.Setoid.html#945" class="Function Operator">âˆ‰</a> <a id="16943" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="16945" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.âˆ·</a> <a id="16949" href="BitML.BasicTypes.html#533" class="Generalizable">xâ€²</a> <a id="16952" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">âˆ·</a> <a id="16954" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="16958" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a><a id="16960" class="Symbol">)</a>
    <a id="16966" class="Symbol">â†’</a> <a id="16968" class="Keyword">let</a>
        <a id="16980" href="SecureCompilation.Coherence.html#16980" class="Bound">Î“â†’Î“â€²</a> <a id="16985" class="Symbol">:</a> <a id="16987" href="SecureCompilation.Coherence.html#16662" class="Bound">Î“â‚œ</a> <a id="16990" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">â€”[</a> <a id="16993" href="SecureCompilation.Coherence.html#16718" class="Bound">Î±</a> <a id="16995" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]â†’â‚œ</a> <a id="16999" href="SecureCompilation.Coherence.html#16805" class="Bound">Î“â‚œâ€²</a>
        <a id="17011" href="SecureCompilation.Coherence.html#16980" class="Bound">Î“â†’Î“â€²</a> <a id="17016" class="Symbol">=</a> <a id="17018" href="BitML.Semantics.InferenceRules.html#7587" class="InductiveConstructor">[Action]</a> <a id="17027" class="Symbol">(</a><a id="17028" href="BitML.Semantics.InferenceRules.html#1421" class="InductiveConstructor">[DEP-Join]</a> <a id="17039" href="SecureCompilation.Coherence.html#16929" class="Bound">fresh-y</a><a id="17046" class="Symbol">)</a> <a id="17048" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

        <a id="17062" href="SecureCompilation.Coherence.html#17062" class="Bound">nâŠ†</a> <a id="17065" class="Symbol">:</a> <a id="17067" href="SecureCompilation.Coherence.html#16581" class="Bound">Î“</a> <a id="17069" href="Prelude.Lists.Collections.html#1215" class="Function Operator">âŠ†â¦…</a> <a id="17072" href="BitML.Contracts.Collections.html#4144" class="Function">namesÊ³</a> <a id="17079" href="Prelude.Lists.Collections.html#1215" class="Function Operator">â¦†</a> <a id="17081" href="SecureCompilation.Coherence.html#16520" class="Bound">RË¢</a>
        <a id="17092" href="SecureCompilation.Coherence.html#17062" class="Bound">nâŠ†</a>  <a id="17096" class="Symbol">=</a> <a id="17098" href="SymbolicModel.Collections.html#1307" class="Function">namesÊ³â¦…endâ¦†âŠ†</a> <a id="17111" href="SecureCompilation.Coherence.html#16520" class="Bound">RË¢</a> <a id="17114" href="Function.Base.html#1040" class="Function Operator">âˆ˜</a> <a id="17116" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">âˆˆnamesÊ³-resp-â‰ˆ</a> <a id="17131" class="Symbol">_</a> <a id="17133" class="Symbol">{</a><a id="17134" href="SecureCompilation.Coherence.html#16581" class="Bound">Î“</a><a id="17135" class="Symbol">}{</a><a id="17137" href="BitML.Semantics.Configurations.Types.html#1335" class="Field">cfg</a> <a id="17141" class="Symbol">(</a><a id="17142" href="SecureCompilation.Coherence.html#16520" class="Bound">RË¢</a> <a id="17145" class="Symbol">.</a><a id="17146" href="Prelude.Traces.html#568" class="Field">end</a><a id="17149" class="Symbol">)}</a> <a id="17152" class="Symbol">(</a><a id="17153" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">â†­-sym</a> <a id="17159" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="17161" href="Agda.Builtin.Sigma.html#246" class="Field">projâ‚‚</a> <a id="17167" href="SecureCompilation.Coherence.html#16685" class="Bound">Râ‰ˆ</a><a id="17169" class="Symbol">)</a>
        <a id="17179" href="SecureCompilation.Coherence.html#17179" class="Bound">xâˆˆ</a>  <a id="17183" class="Symbol">=</a> <a id="17185" href="SecureCompilation.Coherence.html#17062" class="Bound">nâŠ†</a> <a id="17188" class="Symbol">(</a><a id="17189" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="17194" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="17198" class="Symbol">)</a>
        <a id="17208" href="SecureCompilation.Coherence.html#17208" class="Bound">xâˆˆâ€²</a> <a id="17212" class="Symbol">=</a> <a id="17214" href="SecureCompilation.Coherence.html#17062" class="Bound">nâŠ†</a> <a id="17217" class="Symbol">(</a><a id="17218" href="Data.List.Relation.Unary.Any.html#1281" class="InductiveConstructor">there</a> <a id="17224" href="Function.Base.html#3848" class="Function Operator">$â€²</a> <a id="17227" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="17232" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="17236" class="Symbol">)</a>

        <a id="17247" class="Comment">-- (ii) submit transaction T</a>
        <a id="17284" href="SecureCompilation.Coherence.html#17284" class="Bound">T</a> <a id="17286" class="Symbol">:</a> <a id="17288" href="Bitcoin.Tx.Base.html#1326" class="Function">âˆƒTx</a>
        <a id="17300" href="SecureCompilation.Coherence.html#17284" class="Bound">T</a>  <a id="17303" class="Symbol">=</a> <a id="17305" class="Number">2</a> <a id="17307" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="17309" class="Number">1</a> <a id="17311" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="17313" href="Bitcoin.Tx.Crypto.html#1288" class="Function">sigâ‹†</a> <a id="17318" class="Symbol">(</a><a id="17319" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="17331" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="17333" href="ComputationalModel.KeyPairs.html#208" class="Function">KÌ‚</a> <a id="17336" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="17338" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="17339" class="Symbol">)</a> <a id="17341" class="Keyword">record</a>
          <a id="17358" class="Symbol">{</a> <a id="17360" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="17368" class="Symbol">=</a> <a id="17370" href="Bitcoin.Tx.Crypto.html#657" class="Function">hashTxâ±</a> <a id="17378" class="Symbol">(</a><a id="17379" href="SymbolicModel.Mappings.Base.html#823" class="Function">txoutâ€²</a> <a id="17386" class="Symbol">{</a><a id="17387" href="BitML.BasicTypes.html#527" class="Generalizable">x</a><a id="17388" class="Symbol">}</a> <a id="17390" href="SecureCompilation.Coherence.html#17179" class="Bound">xâˆˆ</a><a id="17392" class="Symbol">)</a> <a id="17394" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">âˆ·</a> <a id="17396" href="Bitcoin.Tx.Crypto.html#657" class="Function">hashTxâ±</a> <a id="17404" class="Symbol">(</a><a id="17405" href="SymbolicModel.Mappings.Base.html#823" class="Function">txoutâ€²</a> <a id="17412" class="Symbol">{</a><a id="17413" href="BitML.BasicTypes.html#533" class="Generalizable">xâ€²</a><a id="17415" class="Symbol">}</a> <a id="17417" href="SecureCompilation.Coherence.html#17208" class="Bound">xâˆˆâ€²</a><a id="17420" class="Symbol">)</a> <a id="17422" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">âˆ·</a> <a id="17424" href="Data.Vec.Base.html#1043" class="InductiveConstructor">[]</a>
          <a id="17437" class="Symbol">;</a> <a id="17439" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="17447" class="Symbol">=</a> <a id="17449" href="Bitcoin.Tx.Crypto.html#800" class="Function">witâŠ¥</a>
          <a id="17464" class="Symbol">;</a> <a id="17466" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="17474" class="Symbol">=</a> <a id="17476" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="17488" class="Number">0</a>
          <a id="17500" class="Symbol">;</a> <a id="17502" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="17510" class="Symbol">=</a> <a id="17512" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="17514" class="Symbol">(</a><a id="17515" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="17517" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="17519" href="BitML.BasicTypes.html#445" class="Generalizable">vâ€²</a><a id="17521" class="Symbol">)</a> <a id="17523" href="SecureCompilation.Coherence.html#1165" class="Function Operator">-redeemableWith-</a> <a id="17540" href="ComputationalModel.KeyPairs.html#208" class="Function">KÌ‚</a> <a id="17543" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="17545" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
          <a id="17557" class="Symbol">;</a> <a id="17559" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="17567" class="Symbol">=</a> <a id="17569" class="Number">0</a> <a id="17571" class="Symbol">}</a>
        <a id="17581" href="SecureCompilation.Coherence.html#17581" class="Bound">Î»á¶œ</a> <a id="17584" class="Symbol">=</a> <a id="17586" href="ComputationalModel.Strategy.html#1094" class="InductiveConstructor">submit</a> <a id="17593" href="SecureCompilation.Coherence.html#17284" class="Bound">T</a>

        <a id="17604" class="Comment">-- (iii) extend txoutâ€² with yâ†¦Tâ‚€ (removing {xâ†¦_;xâ€²â†¦_}), sechash = sechashâ€², Îº = Îºâ€²</a>
        <a id="17695" class="Keyword">open</a> <a id="17700" href="SecureCompilation.Helpers.html#30162" class="Module">Hâ‚â‚</a> <a id="17704" class="Symbol">{</a><a id="17705" href="SecureCompilation.Coherence.html#16520" class="Bound">RË¢</a><a id="17707" class="Symbol">}</a> <a id="17709" href="SecureCompilation.Coherence.html#16543" class="Bound">ğ•£</a> <a id="17711" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="17713" href="SecureCompilation.Coherence.html#16718" class="Bound">Î±</a> <a id="17715" href="SecureCompilation.Coherence.html#16789" class="Bound">tâ€²</a> <a id="17718" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="17720" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="17722" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="17724" href="BitML.BasicTypes.html#445" class="Generalizable">vâ€²</a> <a id="17727" href="BitML.BasicTypes.html#533" class="Generalizable">xâ€²</a> <a id="17730" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="17732" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a> <a id="17735" href="SecureCompilation.Coherence.html#16685" class="Bound">Râ‰ˆ</a> <a id="17738" class="Symbol">(</a><a id="17739" href="SecureCompilation.Coherence.html#17284" class="Bound">T</a> <a id="17741" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="17744" href="Data.Fin.Patterns.html#399" class="InductiveConstructor">0F</a><a id="17746" class="Symbol">)</a> <a id="17748" href="SecureCompilation.Coherence.html#16980" class="Bound">Î“â†’Î“â€²</a> <a id="17753" href="SecureCompilation.Coherence.html#16836" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="17757" class="Keyword">using</a> <a id="17763" class="Symbol">(</a><a id="17764" href="SecureCompilation.Helpers.html#30466" class="Function">Î»Ë¢</a><a id="17766" class="Symbol">)</a>
      <a id="17774" class="Keyword">in</a>
      <a id="17783" href="Prelude.InferenceRules.html#41791" class="Function Operator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</a>
      <a id="17852" class="Symbol">(</a><a id="17853" href="SecureCompilation.Coherence.html#16860" class="Bound">Î“â‚œâ€³</a> <a id="17857" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âˆ·</a> <a id="17859" href="SecureCompilation.Coherence.html#16525" class="Bound">ğ•£âˆ—</a> <a id="17862" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âŠ£</a> <a id="17864" href="SecureCompilation.Helpers.html#30466" class="Function">Î»Ë¢</a> <a id="17867" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âœ“</a><a id="17868" class="Symbol">)</a> <a id="17870" href="SecureCompilation.Coherence.html#1329" class="Datatype Operator">~â‚â‚</a> <a id="17874" class="Symbol">(</a><a id="17875" href="SecureCompilation.Coherence.html#17581" class="Bound">Î»á¶œ</a> <a id="17878" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âˆ·</a> <a id="17880" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="17883" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âœ“</a><a id="17884" class="Symbol">)</a>

  <a id="17889" class="Comment">-- ** Deposits: authorize divide (similar to [10])</a>
  <a id="_~â‚â‚_.[12]"></a><a id="17942" href="SecureCompilation.Coherence.html#17942" class="InductiveConstructor">[12]</a> <a id="17947" class="Symbol">:</a> <a id="17949" class="Symbol">âˆ€</a> <a id="17951" class="Symbol">{</a><a id="17952" href="SecureCompilation.Coherence.html#17952" class="Bound">RË¢</a><a id="17954" class="Symbol">}</a> <a id="17956" class="Symbol">{</a><a id="17957" href="SecureCompilation.Coherence.html#17957" class="Bound">ğ•£âˆ—</a> <a id="17960" class="Symbol">:</a> <a id="17962" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="17965" href="SecureCompilation.Coherence.html#17952" class="Bound">RË¢</a><a id="17967" class="Symbol">}</a> <a id="17969" class="Symbol">â†’</a> <a id="17971" class="Keyword">let</a> <a id="17975" href="SecureCompilation.Coherence.html#17975" class="Bound">ğ•£</a> <a id="17977" class="Symbol">=</a> <a id="17979" href="SymbolicModel.Helpers.html#1169" class="Function">â„âˆ—â‡’â„</a> <a id="17984" href="SecureCompilation.Coherence.html#17957" class="Bound">ğ•£âˆ—</a><a id="17986" class="Symbol">;</a> <a id="17988" class="Keyword">open</a> <a id="17993" href="SymbolicModel.Mappings.Base.html#768" class="Module">â„</a> <a id="17995" href="SecureCompilation.Coherence.html#17975" class="Bound">ğ•£</a> <a id="17997" class="Keyword">in</a>
         <a id="18009" class="Keyword">let</a> <a id="18013" href="SecureCompilation.Coherence.html#18013" class="Bound">Î“</a> <a id="18015" class="Symbol">=</a> <a id="18017" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ¨</a> <a id="18019" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="18021" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="18025" class="Symbol">(</a><a id="18026" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="18028" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="18030" href="BitML.BasicTypes.html#445" class="Generalizable">vâ€²</a><a id="18032" class="Symbol">)</a> <a id="18034" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ©at</a> <a id="18038" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="18040" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="18042" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a><a id="18044" class="Symbol">;</a> <a id="18046" href="SecureCompilation.Coherence.html#18046" class="Bound">Î“â‚œ</a> <a id="18049" class="Symbol">=</a> <a id="18051" href="SecureCompilation.Coherence.html#18013" class="Bound">Î“</a> <a id="18053" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="18056" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="18058" class="Keyword">in</a>

      <a id="18068" class="Symbol">(</a><a id="18069" href="SecureCompilation.Coherence.html#18069" class="Bound">Râ‰ˆ</a> <a id="18072" class="Symbol">:</a> <a id="18074" href="SecureCompilation.Coherence.html#17952" class="Bound">RË¢</a> <a id="18077" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">â‰ˆâ‹¯</a> <a id="18080" href="SecureCompilation.Coherence.html#18046" class="Bound">Î“â‚œ</a><a id="18082" class="Symbol">)</a>
    <a id="18088" class="Symbol">â†’</a> <a id="18090" class="Keyword">let</a>
        <a id="18102" href="SecureCompilation.Coherence.html#18102" class="Bound">Î±</a>   <a id="18106" class="Symbol">=</a> <a id="18108" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">auth-divideâ¦…</a> <a id="18121" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="18123" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">,</a> <a id="18125" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="18127" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">â–·</a> <a id="18129" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="18131" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">,</a> <a id="18133" href="BitML.BasicTypes.html#445" class="Generalizable">vâ€²</a> <a id="18136" href="BitML.Semantics.Label.html#584" class="InductiveConstructor Operator">â¦†</a>
        <a id="18146" href="SecureCompilation.Coherence.html#18146" class="Bound">Î“â€²</a>  <a id="18150" class="Symbol">=</a> <a id="18152" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ¨</a> <a id="18154" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="18156" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="18160" class="Symbol">(</a><a id="18161" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="18163" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="18165" href="BitML.BasicTypes.html#445" class="Generalizable">vâ€²</a><a id="18167" class="Symbol">)</a> <a id="18169" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ©at</a> <a id="18173" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="18175" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="18177" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="18179" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="18185" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="18187" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">â–·âŸ¨</a> <a id="18190" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="18192" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="18194" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="18196" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="18198" href="BitML.BasicTypes.html#445" class="Generalizable">vâ€²</a> <a id="18201" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">âŸ©</a> <a id="18203" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="18205" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="18207" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a>
        <a id="18218" href="SecureCompilation.Coherence.html#18218" class="Bound">tâ€²</a>  <a id="18222" class="Symbol">=</a> <a id="18224" href="BitML.BasicTypes.html#578" class="Generalizable">t</a>
        <a id="18234" href="SecureCompilation.Coherence.html#18234" class="Bound">Î“â‚œâ€²</a> <a id="18238" class="Symbol">=</a> <a id="18240" href="SecureCompilation.Coherence.html#18146" class="Bound">Î“â€²</a> <a id="18243" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="18246" href="SecureCompilation.Coherence.html#18218" class="Bound">tâ€²</a>
      <a id="18255" class="Keyword">in</a>
      <a id="18264" class="Symbol">(</a><a id="18265" href="SecureCompilation.Coherence.html#18265" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="18269" class="Symbol">:</a> <a id="18271" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="18273" class="Symbol">(</a><a id="18274" href="SymbolicModel.Helpers.html#642" class="Function Operator">_â‰ˆá¶œ</a> <a id="18278" href="SecureCompilation.Coherence.html#18146" class="Bound">Î“â€²</a><a id="18280" class="Symbol">))</a> <a id="18283" class="Symbol">â†’</a> <a id="18285" class="Keyword">let</a> <a id="18289" href="SecureCompilation.Coherence.html#18289" class="Bound">Î“â‚œâ€³</a> <a id="18293" class="Symbol">=</a> <a id="18295" href="SecureCompilation.Coherence.html#18265" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="18299" class="Symbol">.</a><a id="18300" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a> <a id="18306" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="18309" href="SecureCompilation.Coherence.html#18218" class="Bound">tâ€²</a> <a id="18312" class="Keyword">in</a>
      <a id="18321" class="Keyword">let</a>
        <a id="18333" href="SecureCompilation.Coherence.html#18333" class="Bound">Î“â†’Î“â€²</a> <a id="18338" class="Symbol">:</a> <a id="18340" href="SecureCompilation.Coherence.html#18046" class="Bound">Î“â‚œ</a> <a id="18343" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">â€”[</a> <a id="18346" href="SecureCompilation.Coherence.html#18102" class="Bound">Î±</a> <a id="18348" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]â†’â‚œ</a> <a id="18352" href="SecureCompilation.Coherence.html#18234" class="Bound">Î“â‚œâ€²</a>
        <a id="18364" href="SecureCompilation.Coherence.html#18333" class="Bound">Î“â†’Î“â€²</a> <a id="18369" class="Symbol">=</a> <a id="18371" href="BitML.Semantics.InferenceRules.html#7587" class="InductiveConstructor">[Action]</a> <a id="18380" href="BitML.Semantics.InferenceRules.html#1683" class="InductiveConstructor">[DEP-AuthDivide]</a> <a id="18397" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

        <a id="18411" href="SecureCompilation.Coherence.html#18411" class="Bound">nâŠ†</a> <a id="18414" class="Symbol">:</a> <a id="18416" href="SecureCompilation.Coherence.html#18013" class="Bound">Î“</a> <a id="18418" href="Prelude.Lists.Collections.html#1215" class="Function Operator">âŠ†â¦…</a> <a id="18421" href="BitML.Contracts.Collections.html#4144" class="Function">namesÊ³</a> <a id="18428" href="Prelude.Lists.Collections.html#1215" class="Function Operator">â¦†</a> <a id="18430" href="SecureCompilation.Coherence.html#17952" class="Bound">RË¢</a>
        <a id="18441" href="SecureCompilation.Coherence.html#18411" class="Bound">nâŠ†</a>  <a id="18445" class="Symbol">=</a> <a id="18447" href="SymbolicModel.Collections.html#1307" class="Function">namesÊ³â¦…endâ¦†âŠ†</a> <a id="18460" href="SecureCompilation.Coherence.html#17952" class="Bound">RË¢</a> <a id="18463" href="Function.Base.html#1040" class="Function Operator">âˆ˜</a> <a id="18465" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">âˆˆnamesÊ³-resp-â‰ˆ</a> <a id="18480" class="Symbol">_</a> <a id="18482" class="Symbol">{</a><a id="18483" href="SecureCompilation.Coherence.html#18013" class="Bound">Î“</a><a id="18484" class="Symbol">}{</a><a id="18486" href="BitML.Semantics.Configurations.Types.html#1335" class="Field">cfg</a> <a id="18490" class="Symbol">(</a><a id="18491" href="SecureCompilation.Coherence.html#17952" class="Bound">RË¢</a> <a id="18494" class="Symbol">.</a><a id="18495" href="Prelude.Traces.html#568" class="Field">end</a><a id="18498" class="Symbol">)}</a> <a id="18501" class="Symbol">(</a><a id="18502" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">â†­-sym</a> <a id="18508" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="18510" href="Agda.Builtin.Sigma.html#246" class="Field">projâ‚‚</a> <a id="18516" href="SecureCompilation.Coherence.html#18069" class="Bound">Râ‰ˆ</a><a id="18518" class="Symbol">)</a>
        <a id="18528" href="SecureCompilation.Coherence.html#18528" class="Bound">xâˆˆ</a>  <a id="18532" class="Symbol">=</a> <a id="18534" href="SecureCompilation.Coherence.html#18411" class="Bound">nâŠ†</a> <a id="18537" class="Symbol">(</a><a id="18538" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="18543" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="18547" class="Symbol">)</a>
      <a id="18555" class="Keyword">in</a>
      <a id="18564" class="Symbol">(</a><a id="18565" href="SecureCompilation.Coherence.html#18565" class="Bound">âˆƒÎ»</a> <a id="18568" class="Symbol">:</a> <a id="18570" href="Data.List.Relation.Unary.Any.html#1165" class="Datatype">Any</a> <a id="18574" class="Symbol">(Î»</a> <a id="18577" href="SecureCompilation.Coherence.html#18577" class="Bound">l</a> <a id="18579" class="Symbol">â†’</a> <a id="18581" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="18583" class="Symbol">Î»</a> <a id="18585" href="SecureCompilation.Coherence.html#18585" class="Bound">B</a> <a id="18587" class="Symbol">â†’</a> <a id="18589" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="18591" class="Symbol">Î»</a> <a id="18593" href="SecureCompilation.Coherence.html#18593" class="Bound">T</a>
                <a id="18611" class="Symbol">â†’</a> <a id="18613" class="Symbol">(</a><a id="18614" href="SecureCompilation.Coherence.html#18577" class="Bound">l</a> <a id="18616" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">â‰¡</a> <a id="18618" href="SecureCompilation.Coherence.html#18585" class="Bound">B</a> <a id="18620" href="ComputationalModel.Strategy.html#1025" class="InductiveConstructor Operator">â†’âˆ—âˆ¶</a> <a id="18624" class="Symbol">(</a><a id="18625" href="SecureCompilation.Coherence.html#18593" class="Bound">T</a> <a id="18627" href="Bitcoin.Crypto.html#609" class="Function Operator">â™¯</a><a id="18628" class="Symbol">))</a>
                <a id="18647" href="Data.Product.html#1176" class="Function Operator">Ã—</a> <a id="18649" class="Symbol">(</a><a id="18650" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="18658" href="SecureCompilation.Coherence.html#18593" class="Bound">T</a> <a id="18660" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">â‰¡</a> <a id="18662" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="18664" href="Bitcoin.Tx.Crypto.html#657" class="Function">hashTxâ±</a> <a id="18672" class="Symbol">(</a><a id="18673" href="SymbolicModel.Mappings.Base.html#823" class="Function">txoutâ€²</a> <a id="18680" class="Symbol">{</a><a id="18681" href="BitML.BasicTypes.html#527" class="Generalizable">x</a><a id="18682" class="Symbol">}</a> <a id="18684" href="SecureCompilation.Coherence.html#18528" class="Bound">xâˆˆ</a><a id="18686" class="Symbol">)</a> <a id="18688" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="18689" class="Symbol">)</a>
                <a id="18707" href="Data.Product.html#1176" class="Function Operator">Ã—</a> <a id="18709" class="Symbol">(</a><a id="18710" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="18718" href="SecureCompilation.Coherence.html#18593" class="Bound">T</a> <a id="18720" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">â‰¡</a> <a id="18722" class="Symbol">(</a><a id="18723" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="18725" href="SecureCompilation.Coherence.html#1165" class="Function Operator">-redeemableWith-</a> <a id="18742" href="ComputationalModel.KeyPairs.html#208" class="Function">KÌ‚</a> <a id="18745" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a><a id="18746" class="Symbol">)</a> <a id="18748" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">âˆ·</a> <a id="18750" class="Symbol">(</a><a id="18751" href="BitML.BasicTypes.html#445" class="Generalizable">vâ€²</a> <a id="18754" href="SecureCompilation.Coherence.html#1165" class="Function Operator">-redeemableWith-</a> <a id="18771" href="ComputationalModel.KeyPairs.html#208" class="Function">KÌ‚</a> <a id="18774" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a><a id="18775" class="Symbol">)</a> <a id="18777" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">âˆ·</a> <a id="18779" href="Data.Vec.Base.html#1043" class="InductiveConstructor">[]</a><a id="18781" class="Symbol">)</a>
                <a id="18799" class="Symbol">)</a> <a id="18801" class="Symbol">(</a><a id="18802" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="18809" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a><a id="18811" class="Symbol">))</a>
    <a id="18818" class="Symbol">â†’</a> <a id="18820" class="Keyword">let</a>
        <a id="18832" href="SecureCompilation.Coherence.html#18832" class="Bound">T</a> <a id="18834" class="Symbol">:</a> <a id="18836" href="Bitcoin.Tx.Base.html#1326" class="Function">âˆƒTx</a>
        <a id="18848" href="SecureCompilation.Coherence.html#18832" class="Bound">T</a> <a id="18850" class="Symbol">=</a> <a id="18852" class="Number">1</a> <a id="18854" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="18856" class="Number">2</a> <a id="18858" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="18860" href="Data.List.Relation.Unary.Any.html#2260" class="Function">L.Any.satisfied</a> <a id="18876" href="SecureCompilation.Coherence.html#18565" class="Bound">âˆƒÎ»</a> <a id="18879" class="Symbol">.</a><a id="18880" href="Agda.Builtin.Sigma.html#246" class="Field">projâ‚‚</a> <a id="18886" class="Symbol">.</a><a id="18887" href="Agda.Builtin.Sigma.html#246" class="Field">projâ‚‚</a> <a id="18893" class="Symbol">.</a><a id="18894" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a>

        <a id="18909" class="Comment">-- (iii) broadcast transaction T, signed by A</a>
        <a id="18963" href="SecureCompilation.Coherence.html#18963" class="Bound">mâ€²</a> <a id="18966" class="Symbol">=</a> <a id="18968" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="18972" class="Symbol">(</a><a id="18973" href="ComputationalModel.KeyPairs.html#208" class="Function">KÌ‚</a> <a id="18976" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a><a id="18977" class="Symbol">)</a> <a id="18979" href="SecureCompilation.Coherence.html#18832" class="Bound">T</a>
        <a id="18989" href="SecureCompilation.Coherence.html#18989" class="Bound">Î»á¶œ</a> <a id="18992" class="Symbol">=</a> <a id="18994" href="BitML.Contracts.Types.html#373" class="Generalizable">B</a> <a id="18996" href="ComputationalModel.Strategy.html#1025" class="InductiveConstructor Operator">â†’âˆ—âˆ¶</a> <a id="19000" href="SecureCompilation.Coherence.html#18963" class="Bound">mâ€²</a>

        <a id="19012" class="Comment">-- (v) txout = txoutâ€², sechash = sechashâ€², Îº = Îºâ€²</a>
        <a id="19070" class="Keyword">open</a> <a id="19075" href="SecureCompilation.Helpers.html#31632" class="Module">Hâ‚â‚‚</a> <a id="19079" class="Symbol">{</a><a id="19080" href="SecureCompilation.Coherence.html#17952" class="Bound">RË¢</a><a id="19082" class="Symbol">}</a> <a id="19084" href="SecureCompilation.Coherence.html#17975" class="Bound">ğ•£</a> <a id="19086" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="19088" href="SecureCompilation.Coherence.html#18102" class="Bound">Î±</a> <a id="19090" href="SecureCompilation.Coherence.html#18218" class="Bound">tâ€²</a> <a id="19093" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="19095" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="19097" href="BitML.BasicTypes.html#445" class="Generalizable">vâ€²</a> <a id="19100" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="19102" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a> <a id="19105" href="SecureCompilation.Coherence.html#18069" class="Bound">Râ‰ˆ</a> <a id="19108" href="SecureCompilation.Coherence.html#18333" class="Bound">Î“â†’Î“â€²</a> <a id="19113" href="SecureCompilation.Coherence.html#18265" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="19117" class="Keyword">using</a> <a id="19123" class="Symbol">(</a><a id="19124" href="SecureCompilation.Helpers.html#31737" class="Function">Î»Ë¢</a><a id="19126" class="Symbol">)</a>
      <a id="19134" class="Keyword">in</a>
      <a id="19143" class="Comment">-- (iv) Î»á¶œ is the first broadcast of mâ€² in Rá¶œ after the first broadcast of T</a>
    <a id="19224" href="Prelude.InferenceRules.html#56141" class="Function Operator">âˆ™</a> <a id="19226" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="19230" class="Symbol">(Î»</a> <a id="19233" href="SecureCompilation.Coherence.html#19233" class="Bound">l</a> <a id="19235" class="Symbol">â†’</a> <a id="19237" class="Symbol">âˆ€</a> <a id="19239" href="SecureCompilation.Coherence.html#19239" class="Bound">B</a> <a id="19241" class="Symbol">â†’</a> <a id="19243" href="SecureCompilation.Coherence.html#19233" class="Bound">l</a> <a id="19245" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">â‰¢</a> <a id="19247" href="SecureCompilation.Coherence.html#19239" class="Bound">B</a> <a id="19249" href="ComputationalModel.Strategy.html#1025" class="InductiveConstructor Operator">â†’âˆ—âˆ¶</a> <a id="19253" href="SecureCompilation.Coherence.html#18963" class="Bound">mâ€²</a><a id="19255" class="Symbol">)</a> <a id="19257" class="Symbol">(</a><a id="19258" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="19268" href="SecureCompilation.Coherence.html#18565" class="Bound">âˆƒÎ»</a><a id="19270" class="Symbol">)</a>
      <a id="19278" href="Prelude.InferenceRules.html#12185" class="Function Operator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</a>
      <a id="19347" class="Symbol">(</a><a id="19348" href="SecureCompilation.Coherence.html#18289" class="Bound">Î“â‚œâ€³</a> <a id="19352" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âˆ·</a> <a id="19354" href="SecureCompilation.Coherence.html#17957" class="Bound">ğ•£âˆ—</a> <a id="19357" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âŠ£</a> <a id="19359" href="SecureCompilation.Helpers.html#31737" class="Function">Î»Ë¢</a> <a id="19362" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âœ“</a><a id="19363" class="Symbol">)</a> <a id="19365" href="SecureCompilation.Coherence.html#1329" class="Datatype Operator">~â‚â‚</a> <a id="19369" class="Symbol">(</a><a id="19370" href="SecureCompilation.Coherence.html#18989" class="Bound">Î»á¶œ</a> <a id="19373" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âˆ·</a> <a id="19375" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="19378" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âœ“</a><a id="19379" class="Symbol">)</a>

  <a id="19384" class="Comment">-- ** Deposits: divide (similar to [11])</a>
  <a id="_~â‚â‚_.[13]"></a><a id="19427" href="SecureCompilation.Coherence.html#19427" class="InductiveConstructor">[13]</a> <a id="19432" class="Symbol">:</a> <a id="19434" class="Symbol">âˆ€</a> <a id="19436" class="Symbol">{</a><a id="19437" href="SecureCompilation.Coherence.html#19437" class="Bound">RË¢</a><a id="19439" class="Symbol">}</a> <a id="19441" class="Symbol">{</a><a id="19442" href="SecureCompilation.Coherence.html#19442" class="Bound">ğ•£âˆ—</a> <a id="19445" class="Symbol">:</a> <a id="19447" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="19450" href="SecureCompilation.Coherence.html#19437" class="Bound">RË¢</a><a id="19452" class="Symbol">}</a> <a id="19454" class="Symbol">â†’</a> <a id="19456" class="Keyword">let</a> <a id="19460" href="SecureCompilation.Coherence.html#19460" class="Bound">ğ•£</a> <a id="19462" class="Symbol">=</a> <a id="19464" href="SymbolicModel.Helpers.html#1169" class="Function">â„âˆ—â‡’â„</a> <a id="19469" href="SecureCompilation.Coherence.html#19442" class="Bound">ğ•£âˆ—</a><a id="19471" class="Symbol">;</a> <a id="19473" class="Keyword">open</a> <a id="19478" href="SymbolicModel.Mappings.Base.html#768" class="Module">â„</a> <a id="19480" href="SecureCompilation.Coherence.html#19460" class="Bound">ğ•£</a> <a id="19482" class="Keyword">in</a>
         <a id="19494" class="Keyword">let</a> <a id="19498" href="SecureCompilation.Coherence.html#19498" class="Bound">Î“</a> <a id="19500" class="Symbol">=</a> <a id="19502" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ¨</a> <a id="19504" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="19506" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="19510" class="Symbol">(</a><a id="19511" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="19513" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="19515" href="BitML.BasicTypes.html#445" class="Generalizable">vâ€²</a><a id="19517" class="Symbol">)</a> <a id="19519" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ©at</a> <a id="19523" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="19525" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="19527" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="19529" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="19535" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="19537" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">â–·âŸ¨</a> <a id="19540" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="19542" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="19544" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="19546" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">,</a> <a id="19548" href="BitML.BasicTypes.html#445" class="Generalizable">vâ€²</a> <a id="19551" href="BitML.Semantics.Action.html#690" class="InductiveConstructor Operator">âŸ©</a> <a id="19553" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="19555" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="19557" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a><a id="19559" class="Symbol">;</a> <a id="19561" href="SecureCompilation.Coherence.html#19561" class="Bound">Î“â‚œ</a> <a id="19564" class="Symbol">=</a> <a id="19566" href="SecureCompilation.Coherence.html#19498" class="Bound">Î“</a> <a id="19568" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="19571" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="19573" class="Keyword">in</a>

      <a id="19583" class="Symbol">(</a><a id="19584" href="SecureCompilation.Coherence.html#19584" class="Bound">Râ‰ˆ</a> <a id="19587" class="Symbol">:</a> <a id="19589" href="SecureCompilation.Coherence.html#19437" class="Bound">RË¢</a> <a id="19592" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">â‰ˆâ‹¯</a> <a id="19595" href="SecureCompilation.Coherence.html#19561" class="Bound">Î“â‚œ</a><a id="19597" class="Symbol">)</a>
    <a id="19603" class="Symbol">â†’</a> <a id="19605" class="Keyword">let</a>
        <a id="19617" href="SecureCompilation.Coherence.html#19617" class="Bound">Î±</a>   <a id="19621" class="Symbol">=</a> <a id="19623" href="BitML.Semantics.Label.html#662" class="InductiveConstructor Operator">divideâ¦…</a> <a id="19631" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="19633" href="BitML.Semantics.Label.html#662" class="InductiveConstructor Operator">â–·</a> <a id="19635" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="19637" href="BitML.Semantics.Label.html#662" class="InductiveConstructor Operator">,</a> <a id="19639" href="BitML.BasicTypes.html#445" class="Generalizable">vâ€²</a> <a id="19642" href="BitML.Semantics.Label.html#662" class="InductiveConstructor Operator">â¦†</a>
        <a id="19652" href="SecureCompilation.Coherence.html#19652" class="Bound">Î“â€²</a>  <a id="19656" class="Symbol">=</a> <a id="19658" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ¨</a> <a id="19660" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="19662" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="19666" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="19668" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ©at</a> <a id="19672" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="19674" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="19676" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ¨</a> <a id="19678" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="19680" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="19684" href="BitML.BasicTypes.html#445" class="Generalizable">vâ€²</a> <a id="19687" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ©at</a> <a id="19691" href="BitML.BasicTypes.html#536" class="Generalizable">yâ€²</a> <a id="19694" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="19696" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a>
        <a id="19707" href="SecureCompilation.Coherence.html#19707" class="Bound">tâ€²</a>  <a id="19711" class="Symbol">=</a> <a id="19713" href="BitML.BasicTypes.html#578" class="Generalizable">t</a>
        <a id="19723" href="SecureCompilation.Coherence.html#19723" class="Bound">Î“â‚œâ€²</a> <a id="19727" class="Symbol">=</a> <a id="19729" href="SecureCompilation.Coherence.html#19652" class="Bound">Î“â€²</a> <a id="19732" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="19735" href="SecureCompilation.Coherence.html#19707" class="Bound">tâ€²</a>
      <a id="19744" class="Keyword">in</a>
      <a id="19753" class="Symbol">(</a><a id="19754" href="SecureCompilation.Coherence.html#19754" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="19758" class="Symbol">:</a> <a id="19760" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="19762" class="Symbol">(</a><a id="19763" href="SymbolicModel.Helpers.html#642" class="Function Operator">_â‰ˆá¶œ</a> <a id="19767" href="SecureCompilation.Coherence.html#19652" class="Bound">Î“â€²</a><a id="19769" class="Symbol">))</a> <a id="19772" class="Symbol">â†’</a> <a id="19774" class="Keyword">let</a> <a id="19778" href="SecureCompilation.Coherence.html#19778" class="Bound">Î“â‚œâ€³</a> <a id="19782" class="Symbol">=</a> <a id="19784" href="SecureCompilation.Coherence.html#19754" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="19788" class="Symbol">.</a><a id="19789" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a> <a id="19795" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="19798" href="SecureCompilation.Coherence.html#19707" class="Bound">tâ€²</a> <a id="19801" class="Keyword">in</a>
      <a id="19810" class="Comment">-- Hypotheses from [DEP-Divide]</a>
      <a id="19848" class="Symbol">(</a><a id="19849" href="SecureCompilation.Coherence.html#19849" class="Bound">fresh-ys</a> <a id="19858" class="Symbol">:</a> <a id="19860" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="19864" class="Symbol">(</a><a id="19865" href="Data.List.Membership.Setoid.html#945" class="Function Operator">_âˆ‰</a> <a id="19868" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="19870" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.âˆ·</a> <a id="19874" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="19878" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a> <a id="19881" class="Symbol">)</a> <a id="19883" class="Symbol">(</a><a id="19884" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="19886" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">âˆ·</a> <a id="19888" href="BitML.BasicTypes.html#536" class="Generalizable">yâ€²</a> <a id="19891" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">âˆ·</a> <a id="19893" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="19895" class="Symbol">))</a>
    <a id="19902" class="Symbol">â†’</a> <a id="19904" class="Keyword">let</a>
        <a id="19916" href="SecureCompilation.Coherence.html#19916" class="Bound">Î“â†’Î“â€²</a> <a id="19921" class="Symbol">:</a> <a id="19923" href="SecureCompilation.Coherence.html#19561" class="Bound">Î“â‚œ</a> <a id="19926" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">â€”[</a> <a id="19929" href="SecureCompilation.Coherence.html#19617" class="Bound">Î±</a> <a id="19931" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]â†’â‚œ</a> <a id="19935" href="SecureCompilation.Coherence.html#19723" class="Bound">Î“â‚œâ€²</a>
        <a id="19947" href="SecureCompilation.Coherence.html#19916" class="Bound">Î“â†’Î“â€²</a> <a id="19952" class="Symbol">=</a> <a id="19954" href="BitML.Semantics.InferenceRules.html#7587" class="InductiveConstructor">[Action]</a> <a id="19963" class="Symbol">(</a><a id="19964" href="BitML.Semantics.InferenceRules.html#1902" class="InductiveConstructor">[DEP-Divide]</a> <a id="19977" href="SecureCompilation.Coherence.html#19849" class="Bound">fresh-ys</a><a id="19985" class="Symbol">)</a> <a id="19987" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

        <a id="20001" href="SecureCompilation.Coherence.html#20001" class="Bound">nâŠ†</a> <a id="20004" class="Symbol">:</a> <a id="20006" href="SecureCompilation.Coherence.html#19498" class="Bound">Î“</a> <a id="20008" href="Prelude.Lists.Collections.html#1215" class="Function Operator">âŠ†â¦…</a> <a id="20011" href="BitML.Contracts.Collections.html#4144" class="Function">namesÊ³</a> <a id="20018" href="Prelude.Lists.Collections.html#1215" class="Function Operator">â¦†</a> <a id="20020" href="SecureCompilation.Coherence.html#19437" class="Bound">RË¢</a>
        <a id="20031" href="SecureCompilation.Coherence.html#20001" class="Bound">nâŠ†</a>  <a id="20035" class="Symbol">=</a> <a id="20037" href="SymbolicModel.Collections.html#1307" class="Function">namesÊ³â¦…endâ¦†âŠ†</a> <a id="20050" href="SecureCompilation.Coherence.html#19437" class="Bound">RË¢</a> <a id="20053" href="Function.Base.html#1040" class="Function Operator">âˆ˜</a> <a id="20055" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">âˆˆnamesÊ³-resp-â‰ˆ</a> <a id="20070" class="Symbol">_</a> <a id="20072" class="Symbol">{</a><a id="20073" href="SecureCompilation.Coherence.html#19498" class="Bound">Î“</a><a id="20074" class="Symbol">}{</a><a id="20076" href="BitML.Semantics.Configurations.Types.html#1335" class="Field">cfg</a> <a id="20080" class="Symbol">(</a><a id="20081" href="SecureCompilation.Coherence.html#19437" class="Bound">RË¢</a> <a id="20084" class="Symbol">.</a><a id="20085" href="Prelude.Traces.html#568" class="Field">end</a><a id="20088" class="Symbol">)}</a> <a id="20091" class="Symbol">(</a><a id="20092" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">â†­-sym</a> <a id="20098" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="20100" href="Agda.Builtin.Sigma.html#246" class="Field">projâ‚‚</a> <a id="20106" href="SecureCompilation.Coherence.html#19584" class="Bound">Râ‰ˆ</a><a id="20108" class="Symbol">)</a>
        <a id="20118" href="SecureCompilation.Coherence.html#20118" class="Bound">xâˆˆ</a>  <a id="20122" class="Symbol">=</a> <a id="20124" href="SecureCompilation.Coherence.html#20001" class="Bound">nâŠ†</a> <a id="20127" class="Symbol">(</a><a id="20128" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="20133" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="20137" class="Symbol">)</a>

        <a id="20148" class="Comment">-- (iii) submit transaction T</a>
        <a id="20186" href="SecureCompilation.Coherence.html#20186" class="Bound">T</a>  <a id="20189" class="Symbol">=</a> <a id="20191" class="Number">1</a> <a id="20193" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="20195" class="Number">2</a> <a id="20197" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="20199" href="Bitcoin.Tx.Crypto.html#1288" class="Function">sigâ‹†</a> <a id="20204" class="Symbol">(</a><a id="20205" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="20217" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="20219" href="ComputationalModel.KeyPairs.html#208" class="Function">KÌ‚</a> <a id="20222" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="20224" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="20225" class="Symbol">)</a> <a id="20227" class="Keyword">record</a>
          <a id="20244" class="Symbol">{</a> <a id="20246" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="20254" class="Symbol">=</a> <a id="20256" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="20258" href="Bitcoin.Tx.Crypto.html#657" class="Function">hashTxâ±</a> <a id="20266" class="Symbol">(</a><a id="20267" href="SymbolicModel.Mappings.Base.html#823" class="Function">txoutâ€²</a> <a id="20274" class="Symbol">{</a><a id="20275" href="BitML.BasicTypes.html#527" class="Generalizable">x</a><a id="20276" class="Symbol">}</a> <a id="20278" href="SecureCompilation.Coherence.html#20118" class="Bound">xâˆˆ</a><a id="20280" class="Symbol">)</a> <a id="20282" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
          <a id="20294" class="Symbol">;</a> <a id="20296" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="20304" class="Symbol">=</a> <a id="20306" href="Bitcoin.Tx.Crypto.html#800" class="Function">witâŠ¥</a>
          <a id="20321" class="Symbol">;</a> <a id="20323" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="20331" class="Symbol">=</a> <a id="20333" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="20345" class="Number">0</a>
          <a id="20357" class="Symbol">;</a> <a id="20359" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="20367" class="Symbol">=</a> <a id="20369" class="Symbol">(</a><a id="20370" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="20372" href="SecureCompilation.Coherence.html#1165" class="Function Operator">-redeemableWith-</a> <a id="20389" href="ComputationalModel.KeyPairs.html#208" class="Function">KÌ‚</a> <a id="20392" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a><a id="20393" class="Symbol">)</a> <a id="20395" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">âˆ·</a> <a id="20397" class="Symbol">(</a><a id="20398" href="BitML.BasicTypes.html#445" class="Generalizable">vâ€²</a> <a id="20401" href="SecureCompilation.Coherence.html#1165" class="Function Operator">-redeemableWith-</a> <a id="20418" href="ComputationalModel.KeyPairs.html#208" class="Function">KÌ‚</a> <a id="20421" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a><a id="20422" class="Symbol">)</a> <a id="20424" href="Data.Vec.Base.html#1062" class="InductiveConstructor Operator">âˆ·</a> <a id="20426" href="Data.Vec.Base.html#1043" class="InductiveConstructor">[]</a>
          <a id="20439" class="Symbol">;</a> <a id="20441" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="20449" class="Symbol">=</a> <a id="20451" class="Number">0</a> <a id="20453" class="Symbol">}</a>
        <a id="20463" href="SecureCompilation.Coherence.html#20463" class="Bound">Î»á¶œ</a> <a id="20466" class="Symbol">=</a> <a id="20468" href="ComputationalModel.Strategy.html#1094" class="InductiveConstructor">submit</a> <a id="20475" href="SecureCompilation.Coherence.html#20186" class="Bound">T</a>

        <a id="20486" class="Comment">-- (v) extend txoutâ€² with {yâ†¦Tâ‚€, yâ€²â†¦Tâ‚} (removing xâ†¦Tâ‚€), sechash = sechashâ€², Îº = Îºâ€²</a>
        <a id="20578" class="Keyword">open</a> <a id="20583" href="SecureCompilation.Helpers.html#32018" class="Module">Hâ‚â‚ƒ</a> <a id="20587" class="Symbol">{</a><a id="20588" href="SecureCompilation.Coherence.html#19437" class="Bound">RË¢</a><a id="20590" class="Symbol">}</a> <a id="20592" href="SecureCompilation.Coherence.html#19460" class="Bound">ğ•£</a> <a id="20594" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="20596" href="SecureCompilation.Coherence.html#19617" class="Bound">Î±</a> <a id="20598" href="SecureCompilation.Coherence.html#19707" class="Bound">tâ€²</a> <a id="20601" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="20603" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="20605" href="BitML.BasicTypes.html#445" class="Generalizable">vâ€²</a> <a id="20608" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="20610" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a> <a id="20613" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="20615" href="BitML.BasicTypes.html#536" class="Generalizable">yâ€²</a> <a id="20618" href="SecureCompilation.Coherence.html#19584" class="Bound">Râ‰ˆ</a> <a id="20621" class="Symbol">(</a><a id="20622" href="SecureCompilation.Coherence.html#20186" class="Bound">T</a> <a id="20624" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="20627" href="Data.Fin.Patterns.html#399" class="InductiveConstructor">0F</a><a id="20629" class="Symbol">)</a> <a id="20631" class="Symbol">(</a><a id="20632" href="SecureCompilation.Coherence.html#20186" class="Bound">T</a> <a id="20634" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="20637" href="Data.Fin.Patterns.html#417" class="InductiveConstructor">1F</a><a id="20639" class="Symbol">)</a> <a id="20641" href="SecureCompilation.Coherence.html#19916" class="Bound">Î“â†’Î“â€²</a> <a id="20646" href="SecureCompilation.Coherence.html#19754" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="20650" class="Keyword">using</a> <a id="20656" class="Symbol">(</a><a id="20657" href="SecureCompilation.Helpers.html#32143" class="Function">Î»Ë¢</a><a id="20659" class="Symbol">)</a>
      <a id="20667" class="Keyword">in</a>
      <a id="20676" href="Prelude.InferenceRules.html#41791" class="Function Operator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</a>
      <a id="20745" class="Symbol">(</a><a id="20746" href="SecureCompilation.Coherence.html#19778" class="Bound">Î“â‚œâ€³</a> <a id="20750" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âˆ·</a> <a id="20752" href="SecureCompilation.Coherence.html#19442" class="Bound">ğ•£âˆ—</a> <a id="20755" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âŠ£</a> <a id="20757" href="SecureCompilation.Helpers.html#32143" class="Function">Î»Ë¢</a> <a id="20760" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âœ“</a><a id="20761" class="Symbol">)</a> <a id="20763" href="SecureCompilation.Coherence.html#1329" class="Datatype Operator">~â‚â‚</a> <a id="20767" class="Symbol">(</a><a id="20768" href="SecureCompilation.Coherence.html#20463" class="Bound">Î»á¶œ</a> <a id="20771" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âˆ·</a> <a id="20773" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="20776" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âœ“</a><a id="20777" class="Symbol">)</a>

  <a id="20782" class="Comment">-- ** Deposits: authorize donate (similar to [10])</a>
  <a id="_~â‚â‚_.[14]"></a><a id="20835" href="SecureCompilation.Coherence.html#20835" class="InductiveConstructor">[14]</a> <a id="20840" class="Symbol">:</a> <a id="20842" class="Symbol">âˆ€</a> <a id="20844" class="Symbol">{</a><a id="20845" href="SecureCompilation.Coherence.html#20845" class="Bound">RË¢</a><a id="20847" class="Symbol">}</a> <a id="20849" class="Symbol">{</a><a id="20850" href="SecureCompilation.Coherence.html#20850" class="Bound">ğ•£âˆ—</a> <a id="20853" class="Symbol">:</a> <a id="20855" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="20858" href="SecureCompilation.Coherence.html#20845" class="Bound">RË¢</a><a id="20860" class="Symbol">}</a> <a id="20862" class="Symbol">â†’</a> <a id="20864" class="Keyword">let</a> <a id="20868" href="SecureCompilation.Coherence.html#20868" class="Bound">ğ•£</a> <a id="20870" class="Symbol">=</a> <a id="20872" href="SymbolicModel.Helpers.html#1169" class="Function">â„âˆ—â‡’â„</a> <a id="20877" href="SecureCompilation.Coherence.html#20850" class="Bound">ğ•£âˆ—</a><a id="20879" class="Symbol">;</a> <a id="20881" class="Keyword">open</a> <a id="20886" href="SymbolicModel.Mappings.Base.html#768" class="Module">â„</a> <a id="20888" href="SecureCompilation.Coherence.html#20868" class="Bound">ğ•£</a> <a id="20890" class="Keyword">in</a>
         <a id="20902" class="Keyword">let</a> <a id="20906" href="SecureCompilation.Coherence.html#20906" class="Bound">Î“</a> <a id="20908" class="Symbol">=</a> <a id="20910" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ¨</a> <a id="20912" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="20914" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="20918" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="20920" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ©at</a> <a id="20924" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="20926" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="20928" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a><a id="20930" class="Symbol">;</a> <a id="20932" href="SecureCompilation.Coherence.html#20932" class="Bound">Î“â‚œ</a> <a id="20935" class="Symbol">=</a> <a id="20937" href="SecureCompilation.Coherence.html#20906" class="Bound">Î“</a> <a id="20939" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="20942" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="20944" class="Keyword">in</a>

      <a id="20954" class="Symbol">(</a><a id="20955" href="SecureCompilation.Coherence.html#20955" class="Bound">Râ‰ˆ</a> <a id="20958" class="Symbol">:</a> <a id="20960" href="SecureCompilation.Coherence.html#20845" class="Bound">RË¢</a> <a id="20963" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">â‰ˆâ‹¯</a> <a id="20966" href="SecureCompilation.Coherence.html#20932" class="Bound">Î“â‚œ</a><a id="20968" class="Symbol">)</a>
    <a id="20974" class="Symbol">â†’</a> <a id="20976" class="Keyword">let</a>
        <a id="20988" href="SecureCompilation.Coherence.html#20988" class="Bound">Î±</a>   <a id="20992" class="Symbol">=</a> <a id="20994" href="BitML.Semantics.Label.html#726" class="InductiveConstructor Operator">auth-donateâ¦…</a> <a id="21007" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="21009" href="BitML.Semantics.Label.html#726" class="InductiveConstructor Operator">,</a> <a id="21011" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="21013" href="BitML.Semantics.Label.html#726" class="InductiveConstructor Operator">â–·áµˆ</a> <a id="21016" href="BitML.Contracts.Types.html#378" class="Generalizable">Bâ€²</a> <a id="21019" href="BitML.Semantics.Label.html#726" class="InductiveConstructor Operator">â¦†</a>
        <a id="21029" href="SecureCompilation.Coherence.html#21029" class="Bound">Î“â€²</a>  <a id="21033" class="Symbol">=</a> <a id="21035" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ¨</a> <a id="21037" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="21039" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="21043" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="21045" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ©at</a> <a id="21049" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="21051" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="21053" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="21055" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="21061" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="21063" href="BitML.Semantics.Action.html#782" class="InductiveConstructor Operator">â–·áµˆ</a> <a id="21066" href="BitML.Contracts.Types.html#378" class="Generalizable">Bâ€²</a> <a id="21069" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="21071" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="21073" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a>
        <a id="21084" href="SecureCompilation.Coherence.html#21084" class="Bound">tâ€²</a>  <a id="21088" class="Symbol">=</a> <a id="21090" href="BitML.BasicTypes.html#578" class="Generalizable">t</a>
        <a id="21100" href="SecureCompilation.Coherence.html#21100" class="Bound">Î“â‚œâ€²</a> <a id="21104" class="Symbol">=</a> <a id="21106" href="SecureCompilation.Coherence.html#21029" class="Bound">Î“â€²</a> <a id="21109" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="21112" href="SecureCompilation.Coherence.html#21084" class="Bound">tâ€²</a>
      <a id="21121" class="Keyword">in</a>
      <a id="21130" class="Symbol">(</a><a id="21131" href="SecureCompilation.Coherence.html#21131" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="21135" class="Symbol">:</a> <a id="21137" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="21139" class="Symbol">(</a><a id="21140" href="SymbolicModel.Helpers.html#642" class="Function Operator">_â‰ˆá¶œ</a> <a id="21144" href="SecureCompilation.Coherence.html#21029" class="Bound">Î“â€²</a><a id="21146" class="Symbol">))</a> <a id="21149" class="Symbol">â†’</a> <a id="21151" class="Keyword">let</a> <a id="21155" href="SecureCompilation.Coherence.html#21155" class="Bound">Î“â‚œâ€³</a> <a id="21159" class="Symbol">=</a> <a id="21161" href="SecureCompilation.Coherence.html#21131" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="21165" class="Symbol">.</a><a id="21166" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a> <a id="21172" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="21175" href="SecureCompilation.Coherence.html#21084" class="Bound">tâ€²</a> <a id="21178" class="Keyword">in</a>
      <a id="21187" class="Keyword">let</a>
        <a id="21199" href="SecureCompilation.Coherence.html#21199" class="Bound">Î“â†’Î“â€²</a> <a id="21204" class="Symbol">:</a> <a id="21206" href="SecureCompilation.Coherence.html#20932" class="Bound">Î“â‚œ</a> <a id="21209" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">â€”[</a> <a id="21212" href="SecureCompilation.Coherence.html#20988" class="Bound">Î±</a> <a id="21214" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]â†’â‚œ</a> <a id="21218" href="SecureCompilation.Coherence.html#21100" class="Bound">Î“â‚œâ€²</a>
        <a id="21230" href="SecureCompilation.Coherence.html#21199" class="Bound">Î“â†’Î“â€²</a> <a id="21235" class="Symbol">=</a> <a id="21237" href="BitML.Semantics.InferenceRules.html#7587" class="InductiveConstructor">[Action]</a> <a id="21246" href="BitML.Semantics.InferenceRules.html#2170" class="InductiveConstructor">[DEP-AuthDonate]</a> <a id="21263" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

        <a id="21277" href="SecureCompilation.Coherence.html#21277" class="Bound">nâŠ†</a> <a id="21280" class="Symbol">:</a> <a id="21282" href="SecureCompilation.Coherence.html#20906" class="Bound">Î“</a> <a id="21284" href="Prelude.Lists.Collections.html#1215" class="Function Operator">âŠ†â¦…</a> <a id="21287" href="BitML.Contracts.Collections.html#4144" class="Function">namesÊ³</a> <a id="21294" href="Prelude.Lists.Collections.html#1215" class="Function Operator">â¦†</a> <a id="21296" href="SecureCompilation.Coherence.html#20845" class="Bound">RË¢</a>
        <a id="21307" href="SecureCompilation.Coherence.html#21277" class="Bound">nâŠ†</a>  <a id="21311" class="Symbol">=</a> <a id="21313" href="SymbolicModel.Collections.html#1307" class="Function">namesÊ³â¦…endâ¦†âŠ†</a> <a id="21326" href="SecureCompilation.Coherence.html#20845" class="Bound">RË¢</a> <a id="21329" href="Function.Base.html#1040" class="Function Operator">âˆ˜</a> <a id="21331" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">âˆˆnamesÊ³-resp-â‰ˆ</a> <a id="21346" class="Symbol">_</a> <a id="21348" class="Symbol">{</a><a id="21349" href="SecureCompilation.Coherence.html#20906" class="Bound">Î“</a><a id="21350" class="Symbol">}{</a><a id="21352" href="BitML.Semantics.Configurations.Types.html#1335" class="Field">cfg</a> <a id="21356" class="Symbol">(</a><a id="21357" href="SecureCompilation.Coherence.html#20845" class="Bound">RË¢</a> <a id="21360" class="Symbol">.</a><a id="21361" href="Prelude.Traces.html#568" class="Field">end</a><a id="21364" class="Symbol">)}</a> <a id="21367" class="Symbol">(</a><a id="21368" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">â†­-sym</a> <a id="21374" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="21376" href="Agda.Builtin.Sigma.html#246" class="Field">projâ‚‚</a> <a id="21382" href="SecureCompilation.Coherence.html#20955" class="Bound">Râ‰ˆ</a><a id="21384" class="Symbol">)</a>
        <a id="21394" href="SecureCompilation.Coherence.html#21394" class="Bound">xâˆˆ</a>  <a id="21398" class="Symbol">=</a> <a id="21400" href="SecureCompilation.Coherence.html#21277" class="Bound">nâŠ†</a> <a id="21403" class="Symbol">(</a><a id="21404" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="21409" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="21413" class="Symbol">)</a>
      <a id="21421" class="Keyword">in</a>
      <a id="21430" class="Symbol">(</a><a id="21431" href="SecureCompilation.Coherence.html#21431" class="Bound">âˆƒÎ»</a> <a id="21434" class="Symbol">:</a> <a id="21436" href="Data.List.Relation.Unary.Any.html#1165" class="Datatype">Any</a> <a id="21440" class="Symbol">(Î»</a> <a id="21443" href="SecureCompilation.Coherence.html#21443" class="Bound">l</a> <a id="21445" class="Symbol">â†’</a> <a id="21447" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="21449" class="Symbol">Î»</a> <a id="21451" href="SecureCompilation.Coherence.html#21451" class="Bound">B</a> <a id="21453" class="Symbol">â†’</a> <a id="21455" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="21457" class="Symbol">Î»</a> <a id="21459" href="SecureCompilation.Coherence.html#21459" class="Bound">T</a>
                <a id="21477" class="Symbol">â†’</a> <a id="21479" class="Symbol">(</a><a id="21480" href="SecureCompilation.Coherence.html#21443" class="Bound">l</a> <a id="21482" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">â‰¡</a> <a id="21484" href="SecureCompilation.Coherence.html#21451" class="Bound">B</a> <a id="21486" href="ComputationalModel.Strategy.html#1025" class="InductiveConstructor Operator">â†’âˆ—âˆ¶</a> <a id="21490" class="Symbol">(</a><a id="21491" href="SecureCompilation.Coherence.html#21459" class="Bound">T</a> <a id="21493" href="Bitcoin.Crypto.html#609" class="Function Operator">â™¯</a><a id="21494" class="Symbol">))</a>
                <a id="21513" href="Data.Product.html#1176" class="Function Operator">Ã—</a> <a id="21515" class="Symbol">(</a><a id="21516" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="21524" href="SecureCompilation.Coherence.html#21459" class="Bound">T</a> <a id="21526" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">â‰¡</a> <a id="21528" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="21530" href="Bitcoin.Tx.Crypto.html#657" class="Function">hashTxâ±</a> <a id="21538" class="Symbol">(</a><a id="21539" href="SymbolicModel.Mappings.Base.html#823" class="Function">txoutâ€²</a> <a id="21546" class="Symbol">{</a><a id="21547" href="BitML.BasicTypes.html#527" class="Generalizable">x</a><a id="21548" class="Symbol">}</a> <a id="21550" href="SecureCompilation.Coherence.html#21394" class="Bound">xâˆˆ</a><a id="21552" class="Symbol">)</a> <a id="21554" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="21555" class="Symbol">)</a>
                <a id="21573" href="Data.Product.html#1176" class="Function Operator">Ã—</a> <a id="21575" class="Symbol">(</a><a id="21576" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="21584" href="SecureCompilation.Coherence.html#21459" class="Bound">T</a> <a id="21586" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">â‰¡</a> <a id="21588" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="21590" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="21592" href="SecureCompilation.Coherence.html#1165" class="Function Operator">-redeemableWith-</a> <a id="21609" href="ComputationalModel.KeyPairs.html#208" class="Function">KÌ‚</a> <a id="21612" href="BitML.Contracts.Types.html#378" class="Generalizable">Bâ€²</a> <a id="21615" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="21616" class="Symbol">)</a>
                <a id="21634" class="Symbol">)</a> <a id="21636" class="Symbol">(</a><a id="21637" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="21644" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a><a id="21646" class="Symbol">))</a>
    <a id="21653" class="Symbol">â†’</a> <a id="21655" class="Keyword">let</a>
        <a id="21667" href="SecureCompilation.Coherence.html#21667" class="Bound">T</a> <a id="21669" class="Symbol">:</a> <a id="21671" href="Bitcoin.Tx.Base.html#1326" class="Function">âˆƒTx</a>
        <a id="21683" href="SecureCompilation.Coherence.html#21667" class="Bound">T</a> <a id="21685" class="Symbol">=</a> <a id="21687" class="Number">1</a> <a id="21689" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="21691" class="Number">1</a> <a id="21693" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="21695" href="Data.List.Relation.Unary.Any.html#2260" class="Function">L.Any.satisfied</a> <a id="21711" href="SecureCompilation.Coherence.html#21431" class="Bound">âˆƒÎ»</a> <a id="21714" class="Symbol">.</a><a id="21715" href="Agda.Builtin.Sigma.html#246" class="Field">projâ‚‚</a> <a id="21721" class="Symbol">.</a><a id="21722" href="Agda.Builtin.Sigma.html#246" class="Field">projâ‚‚</a> <a id="21728" class="Symbol">.</a><a id="21729" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a>

        <a id="21744" class="Comment">-- (iii) broadcast transaction T, signed by A</a>
        <a id="21798" href="SecureCompilation.Coherence.html#21798" class="Bound">mâ€²</a> <a id="21801" class="Symbol">=</a> <a id="21803" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="21807" class="Symbol">(</a><a id="21808" href="ComputationalModel.KeyPairs.html#208" class="Function">KÌ‚</a> <a id="21811" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a><a id="21812" class="Symbol">)</a> <a id="21814" href="SecureCompilation.Coherence.html#21667" class="Bound">T</a>
        <a id="21824" href="SecureCompilation.Coherence.html#21824" class="Bound">Î»á¶œ</a> <a id="21827" class="Symbol">=</a> <a id="21829" href="BitML.Contracts.Types.html#373" class="Generalizable">B</a> <a id="21831" href="ComputationalModel.Strategy.html#1025" class="InductiveConstructor Operator">â†’âˆ—âˆ¶</a> <a id="21835" href="SecureCompilation.Coherence.html#21798" class="Bound">mâ€²</a>

        <a id="21847" class="Comment">-- (v) txout = txoutâ€², sechash = sechashâ€², Îº = Îºâ€²</a>
        <a id="21905" class="Keyword">open</a> <a id="21910" href="SecureCompilation.Helpers.html#32507" class="Module">Hâ‚â‚„</a> <a id="21914" class="Symbol">{</a><a id="21915" href="SecureCompilation.Coherence.html#20845" class="Bound">RË¢</a><a id="21917" class="Symbol">}</a> <a id="21919" href="SecureCompilation.Coherence.html#20868" class="Bound">ğ•£</a> <a id="21921" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="21923" href="SecureCompilation.Coherence.html#20988" class="Bound">Î±</a> <a id="21925" href="SecureCompilation.Coherence.html#21084" class="Bound">tâ€²</a> <a id="21928" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="21930" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="21932" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="21934" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a> <a id="21937" href="BitML.Contracts.Types.html#378" class="Generalizable">Bâ€²</a> <a id="21940" href="SecureCompilation.Coherence.html#20955" class="Bound">Râ‰ˆ</a> <a id="21943" href="SecureCompilation.Coherence.html#21199" class="Bound">Î“â†’Î“â€²</a> <a id="21948" href="SecureCompilation.Coherence.html#21131" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="21952" class="Keyword">using</a> <a id="21958" class="Symbol">(</a><a id="21959" href="SecureCompilation.Helpers.html#32612" class="Function">Î»Ë¢</a><a id="21961" class="Symbol">)</a>
      <a id="21969" class="Keyword">in</a>
      <a id="21978" class="Comment">-- (iv) Î»á¶œ is the first broadcast of mâ€² in Rá¶œ after the first broadcast of T</a>
    <a id="22059" href="Prelude.InferenceRules.html#56141" class="Function Operator">âˆ™</a> <a id="22061" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="22065" class="Symbol">(Î»</a> <a id="22068" href="SecureCompilation.Coherence.html#22068" class="Bound">l</a> <a id="22070" class="Symbol">â†’</a> <a id="22072" class="Symbol">âˆ€</a> <a id="22074" href="SecureCompilation.Coherence.html#22074" class="Bound">B</a> <a id="22076" class="Symbol">â†’</a> <a id="22078" href="SecureCompilation.Coherence.html#22068" class="Bound">l</a> <a id="22080" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">â‰¢</a> <a id="22082" href="SecureCompilation.Coherence.html#22074" class="Bound">B</a> <a id="22084" href="ComputationalModel.Strategy.html#1025" class="InductiveConstructor Operator">â†’âˆ—âˆ¶</a> <a id="22088" href="SecureCompilation.Coherence.html#21798" class="Bound">mâ€²</a><a id="22090" class="Symbol">)</a> <a id="22092" class="Symbol">(</a><a id="22093" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="22103" href="SecureCompilation.Coherence.html#21431" class="Bound">âˆƒÎ»</a><a id="22105" class="Symbol">)</a>
      <a id="22113" href="Prelude.InferenceRules.html#12185" class="Function Operator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</a>
      <a id="22182" class="Symbol">(</a><a id="22183" href="SecureCompilation.Coherence.html#21155" class="Bound">Î“â‚œâ€³</a> <a id="22187" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âˆ·</a> <a id="22189" href="SecureCompilation.Coherence.html#20850" class="Bound">ğ•£âˆ—</a> <a id="22192" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âŠ£</a> <a id="22194" href="SecureCompilation.Helpers.html#32612" class="Function">Î»Ë¢</a> <a id="22197" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âœ“</a><a id="22198" class="Symbol">)</a> <a id="22200" href="SecureCompilation.Coherence.html#1329" class="Datatype Operator">~â‚â‚</a> <a id="22204" class="Symbol">(</a><a id="22205" href="SecureCompilation.Coherence.html#21824" class="Bound">Î»á¶œ</a> <a id="22208" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âˆ·</a> <a id="22210" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="22213" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âœ“</a><a id="22214" class="Symbol">)</a>

  <a id="22219" class="Comment">-- ** Deposits: donate (similar to [11])</a>
  <a id="_~â‚â‚_.[15]"></a><a id="22262" href="SecureCompilation.Coherence.html#22262" class="InductiveConstructor">[15]</a> <a id="22267" class="Symbol">:</a> <a id="22269" class="Symbol">âˆ€</a> <a id="22271" class="Symbol">{</a><a id="22272" href="SecureCompilation.Coherence.html#22272" class="Bound">RË¢</a><a id="22274" class="Symbol">}</a> <a id="22276" class="Symbol">{</a><a id="22277" href="SecureCompilation.Coherence.html#22277" class="Bound">ğ•£âˆ—</a> <a id="22280" class="Symbol">:</a> <a id="22282" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="22285" href="SecureCompilation.Coherence.html#22272" class="Bound">RË¢</a><a id="22287" class="Symbol">}</a> <a id="22289" class="Symbol">â†’</a> <a id="22291" class="Keyword">let</a> <a id="22295" href="SecureCompilation.Coherence.html#22295" class="Bound">ğ•£</a> <a id="22297" class="Symbol">=</a> <a id="22299" href="SymbolicModel.Helpers.html#1169" class="Function">â„âˆ—â‡’â„</a> <a id="22304" href="SecureCompilation.Coherence.html#22277" class="Bound">ğ•£âˆ—</a><a id="22306" class="Symbol">;</a> <a id="22308" class="Keyword">open</a> <a id="22313" href="SymbolicModel.Mappings.Base.html#768" class="Module">â„</a> <a id="22315" href="SecureCompilation.Coherence.html#22295" class="Bound">ğ•£</a> <a id="22317" class="Keyword">in</a>
         <a id="22329" class="Keyword">let</a> <a id="22333" href="SecureCompilation.Coherence.html#22333" class="Bound">Î“</a> <a id="22335" class="Symbol">=</a> <a id="22337" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ¨</a> <a id="22339" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="22341" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="22345" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="22347" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ©at</a> <a id="22351" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="22353" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="22355" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="22357" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="22363" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="22365" href="BitML.Semantics.Action.html#782" class="InductiveConstructor Operator">â–·áµˆ</a> <a id="22368" href="BitML.Contracts.Types.html#378" class="Generalizable">Bâ€²</a> <a id="22371" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="22373" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="22375" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a><a id="22377" class="Symbol">;</a> <a id="22379" href="SecureCompilation.Coherence.html#22379" class="Bound">Î“â‚œ</a> <a id="22382" class="Symbol">=</a> <a id="22384" href="SecureCompilation.Coherence.html#22333" class="Bound">Î“</a> <a id="22386" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="22389" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="22391" class="Keyword">in</a>

      <a id="22401" class="Symbol">(</a><a id="22402" href="SecureCompilation.Coherence.html#22402" class="Bound">Râ‰ˆ</a> <a id="22405" class="Symbol">:</a> <a id="22407" href="SecureCompilation.Coherence.html#22272" class="Bound">RË¢</a> <a id="22410" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">â‰ˆâ‹¯</a> <a id="22413" href="SecureCompilation.Coherence.html#22379" class="Bound">Î“â‚œ</a><a id="22415" class="Symbol">)</a>
    <a id="22421" class="Symbol">â†’</a> <a id="22423" class="Keyword">let</a>
        <a id="22435" href="SecureCompilation.Coherence.html#22435" class="Bound">Î±</a>   <a id="22439" class="Symbol">=</a> <a id="22441" href="BitML.Semantics.Label.html#798" class="InductiveConstructor Operator">donateâ¦…</a> <a id="22449" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="22451" href="BitML.Semantics.Label.html#798" class="InductiveConstructor Operator">â–·áµˆ</a> <a id="22454" href="BitML.Contracts.Types.html#378" class="Generalizable">Bâ€²</a> <a id="22457" href="BitML.Semantics.Label.html#798" class="InductiveConstructor Operator">â¦†</a>
        <a id="22467" href="SecureCompilation.Coherence.html#22467" class="Bound">Î“â€²</a>  <a id="22471" class="Symbol">=</a> <a id="22473" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ¨</a> <a id="22475" href="BitML.Contracts.Types.html#378" class="Generalizable">Bâ€²</a> <a id="22478" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="22482" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="22484" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ©at</a> <a id="22488" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="22490" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="22492" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a>
        <a id="22503" href="SecureCompilation.Coherence.html#22503" class="Bound">tâ€²</a>  <a id="22507" class="Symbol">=</a> <a id="22509" href="BitML.BasicTypes.html#578" class="Generalizable">t</a>
        <a id="22519" href="SecureCompilation.Coherence.html#22519" class="Bound">Î“â‚œâ€²</a> <a id="22523" class="Symbol">=</a> <a id="22525" href="SecureCompilation.Coherence.html#22467" class="Bound">Î“â€²</a> <a id="22528" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="22531" href="SecureCompilation.Coherence.html#22503" class="Bound">tâ€²</a>
      <a id="22540" class="Keyword">in</a>
      <a id="22549" class="Symbol">(</a><a id="22550" href="SecureCompilation.Coherence.html#22550" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="22554" class="Symbol">:</a> <a id="22556" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="22558" class="Symbol">(</a><a id="22559" href="SymbolicModel.Helpers.html#642" class="Function Operator">_â‰ˆá¶œ</a> <a id="22563" href="SecureCompilation.Coherence.html#22467" class="Bound">Î“â€²</a><a id="22565" class="Symbol">))</a> <a id="22568" class="Symbol">â†’</a> <a id="22570" class="Keyword">let</a> <a id="22574" href="SecureCompilation.Coherence.html#22574" class="Bound">Î“â‚œâ€³</a> <a id="22578" class="Symbol">=</a> <a id="22580" href="SecureCompilation.Coherence.html#22550" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="22584" class="Symbol">.</a><a id="22585" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a> <a id="22591" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="22594" href="SecureCompilation.Coherence.html#22503" class="Bound">tâ€²</a> <a id="22597" class="Keyword">in</a>
      <a id="22606" class="Comment">-- Hypotheses from [DEP-Donate]</a>
      <a id="22644" class="Symbol">(</a><a id="22645" href="SecureCompilation.Coherence.html#22645" class="Bound">fresh-y</a> <a id="22653" class="Symbol">:</a> <a id="22655" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="22657" href="Data.List.Membership.Setoid.html#945" class="Function Operator">âˆ‰</a> <a id="22659" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="22661" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">L.âˆ·</a> <a id="22665" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="22669" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a><a id="22671" class="Symbol">)</a>
    <a id="22677" class="Symbol">â†’</a> <a id="22679" class="Keyword">let</a>
        <a id="22691" href="SecureCompilation.Coherence.html#22691" class="Bound">Î“â†’Î“â€²</a> <a id="22696" class="Symbol">:</a> <a id="22698" href="SecureCompilation.Coherence.html#22379" class="Bound">Î“â‚œ</a> <a id="22701" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">â€”[</a> <a id="22704" href="SecureCompilation.Coherence.html#22435" class="Bound">Î±</a> <a id="22706" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]â†’â‚œ</a> <a id="22710" href="SecureCompilation.Coherence.html#22519" class="Bound">Î“â‚œâ€²</a>
        <a id="22722" href="SecureCompilation.Coherence.html#22691" class="Bound">Î“â†’Î“â€²</a> <a id="22727" class="Symbol">=</a> <a id="22729" href="BitML.Semantics.InferenceRules.html#7587" class="InductiveConstructor">[Action]</a> <a id="22738" class="Symbol">(</a><a id="22739" href="BitML.Semantics.InferenceRules.html#2342" class="InductiveConstructor">[DEP-Donate]</a> <a id="22752" href="SecureCompilation.Coherence.html#22645" class="Bound">fresh-y</a><a id="22759" class="Symbol">)</a> <a id="22761" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

        <a id="22775" href="SecureCompilation.Coherence.html#22775" class="Bound">nâŠ†</a> <a id="22778" class="Symbol">:</a> <a id="22780" href="SecureCompilation.Coherence.html#22333" class="Bound">Î“</a> <a id="22782" href="Prelude.Lists.Collections.html#1215" class="Function Operator">âŠ†â¦…</a> <a id="22785" href="BitML.Contracts.Collections.html#4144" class="Function">namesÊ³</a> <a id="22792" href="Prelude.Lists.Collections.html#1215" class="Function Operator">â¦†</a> <a id="22794" href="SecureCompilation.Coherence.html#22272" class="Bound">RË¢</a>
        <a id="22805" href="SecureCompilation.Coherence.html#22775" class="Bound">nâŠ†</a>  <a id="22809" class="Symbol">=</a> <a id="22811" href="SymbolicModel.Collections.html#1307" class="Function">namesÊ³â¦…endâ¦†âŠ†</a> <a id="22824" href="SecureCompilation.Coherence.html#22272" class="Bound">RË¢</a> <a id="22827" href="Function.Base.html#1040" class="Function Operator">âˆ˜</a> <a id="22829" href="BitML.Semantics.Configurations.Helpers.html#14663" class="Function">âˆˆnamesÊ³-resp-â‰ˆ</a> <a id="22844" class="Symbol">_</a> <a id="22846" class="Symbol">{</a><a id="22847" href="SecureCompilation.Coherence.html#22333" class="Bound">Î“</a><a id="22848" class="Symbol">}{</a><a id="22850" href="BitML.Semantics.Configurations.Types.html#1335" class="Field">cfg</a> <a id="22854" class="Symbol">(</a><a id="22855" href="SecureCompilation.Coherence.html#22272" class="Bound">RË¢</a> <a id="22858" class="Symbol">.</a><a id="22859" href="Prelude.Traces.html#568" class="Field">end</a><a id="22862" class="Symbol">)}</a> <a id="22865" class="Symbol">(</a><a id="22866" href="Data.List.Relation.Binary.Permutation.Propositional.html#1464" class="Function">â†­-sym</a> <a id="22872" href="Function.Base.html#1928" class="Function Operator">$</a> <a id="22874" href="Agda.Builtin.Sigma.html#246" class="Field">projâ‚‚</a> <a id="22880" href="SecureCompilation.Coherence.html#22402" class="Bound">Râ‰ˆ</a><a id="22882" class="Symbol">)</a>
        <a id="22892" href="SecureCompilation.Coherence.html#22892" class="Bound">xâˆˆ</a>  <a id="22896" class="Symbol">=</a> <a id="22898" href="SecureCompilation.Coherence.html#22775" class="Bound">nâŠ†</a> <a id="22901" class="Symbol">(</a><a id="22902" href="Data.List.Relation.Unary.Any.html#1228" class="InductiveConstructor">here</a> <a id="22907" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="22911" class="Symbol">)</a>

        <a id="22922" class="Comment">-- (iii) submit transaction T</a>
        <a id="22960" href="SecureCompilation.Coherence.html#22960" class="Bound">T</a>  <a id="22963" class="Symbol">=</a> <a id="22965" class="Number">1</a> <a id="22967" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="22969" class="Number">1</a> <a id="22971" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="22973" href="Bitcoin.Tx.Crypto.html#1288" class="Function">sigâ‹†</a> <a id="22978" class="Symbol">(</a><a id="22979" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="22991" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="22993" href="ComputationalModel.KeyPairs.html#208" class="Function">KÌ‚</a> <a id="22996" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="22998" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a><a id="22999" class="Symbol">)</a> <a id="23001" class="Keyword">record</a>
          <a id="23018" class="Symbol">{</a> <a id="23020" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a>  <a id="23028" class="Symbol">=</a> <a id="23030" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="23032" href="Bitcoin.Tx.Crypto.html#657" class="Function">hashTxâ±</a> <a id="23040" class="Symbol">(</a><a id="23041" href="SymbolicModel.Mappings.Base.html#823" class="Function">txoutâ€²</a> <a id="23048" class="Symbol">{</a><a id="23049" href="BitML.BasicTypes.html#527" class="Generalizable">x</a><a id="23050" class="Symbol">}</a> <a id="23052" href="SecureCompilation.Coherence.html#22892" class="Bound">xâˆˆ</a><a id="23054" class="Symbol">)</a> <a id="23056" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
          <a id="23068" class="Symbol">;</a> <a id="23070" href="Bitcoin.Tx.Base.html#1052" class="Field">wit</a>     <a id="23078" class="Symbol">=</a> <a id="23080" href="Bitcoin.Tx.Crypto.html#800" class="Function">witâŠ¥</a>
          <a id="23095" class="Symbol">;</a> <a id="23097" href="Bitcoin.Tx.Base.html#1107" class="Field">relLock</a> <a id="23105" class="Symbol">=</a> <a id="23107" href="Data.Vec.Base.html#5793" class="Function">V.replicate</a> <a id="23119" class="Number">0</a>
          <a id="23131" class="Symbol">;</a> <a id="23133" href="Bitcoin.Tx.Base.html#1161" class="Field">outputs</a> <a id="23141" class="Symbol">=</a> <a id="23143" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">[</a> <a id="23145" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="23147" href="SecureCompilation.Coherence.html#1165" class="Function Operator">-redeemableWith-</a> <a id="23164" href="ComputationalModel.KeyPairs.html#208" class="Function">KÌ‚</a> <a id="23167" href="BitML.Contracts.Types.html#378" class="Generalizable">Bâ€²</a> <a id="23170" href="Prelude.Init.html#9874" class="InductiveConstructor Operator">]</a>
          <a id="23182" class="Symbol">;</a> <a id="23184" href="Bitcoin.Tx.Base.html#1203" class="Field">absLock</a> <a id="23192" class="Symbol">=</a> <a id="23194" class="Number">0</a> <a id="23196" class="Symbol">}</a>
        <a id="23206" href="SecureCompilation.Coherence.html#23206" class="Bound">Î»á¶œ</a> <a id="23209" class="Symbol">=</a> <a id="23211" href="ComputationalModel.Strategy.html#1094" class="InductiveConstructor">submit</a> <a id="23218" href="SecureCompilation.Coherence.html#22960" class="Bound">T</a>

        <a id="23229" class="Comment">-- (v) extend txoutâ€² with yâ†¦Tâ‚€ (removing xâ†¦Tâ‚€), sechash = sechashâ€², Îº = Îºâ€²</a>
        <a id="23312" class="Keyword">open</a> <a id="23317" href="SecureCompilation.Helpers.html#32854" class="Module">Hâ‚â‚…</a> <a id="23321" class="Symbol">{</a><a id="23322" href="SecureCompilation.Coherence.html#22272" class="Bound">RË¢</a><a id="23324" class="Symbol">}</a> <a id="23326" href="SecureCompilation.Coherence.html#22295" class="Bound">ğ•£</a> <a id="23328" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="23330" href="SecureCompilation.Coherence.html#22435" class="Bound">Î±</a> <a id="23332" href="SecureCompilation.Coherence.html#22503" class="Bound">tâ€²</a> <a id="23335" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="23337" href="BitML.BasicTypes.html#443" class="Generalizable">v</a> <a id="23339" href="BitML.BasicTypes.html#527" class="Generalizable">x</a> <a id="23341" href="BitML.Contracts.Types.html#378" class="Generalizable">Bâ€²</a> <a id="23344" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a> <a id="23347" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="23349" href="SecureCompilation.Coherence.html#22402" class="Bound">Râ‰ˆ</a> <a id="23352" class="Symbol">(</a><a id="23353" href="SecureCompilation.Coherence.html#22960" class="Bound">T</a> <a id="23355" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="23358" href="Data.Fin.Patterns.html#399" class="InductiveConstructor">0F</a><a id="23360" class="Symbol">)</a> <a id="23362" href="SecureCompilation.Coherence.html#22691" class="Bound">Î“â†’Î“â€²</a> <a id="23367" href="SecureCompilation.Coherence.html#22550" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="23371" class="Keyword">using</a> <a id="23377" class="Symbol">(</a><a id="23378" href="SecureCompilation.Helpers.html#32975" class="Function">Î»Ë¢</a><a id="23380" class="Symbol">)</a>
      <a id="23388" class="Keyword">in</a>
      <a id="23397" href="Prelude.InferenceRules.html#41791" class="Function Operator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</a>
      <a id="23466" class="Symbol">(</a><a id="23467" href="SecureCompilation.Coherence.html#22574" class="Bound">Î“â‚œâ€³</a> <a id="23471" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âˆ·</a> <a id="23473" href="SecureCompilation.Coherence.html#22277" class="Bound">ğ•£âˆ—</a> <a id="23476" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âŠ£</a> <a id="23478" href="SecureCompilation.Helpers.html#32975" class="Function">Î»Ë¢</a> <a id="23481" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âœ“</a><a id="23482" class="Symbol">)</a> <a id="23484" href="SecureCompilation.Coherence.html#1329" class="Datatype Operator">~â‚â‚</a> <a id="23488" class="Symbol">(</a><a id="23489" href="SecureCompilation.Coherence.html#23206" class="Bound">Î»á¶œ</a> <a id="23492" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âˆ·</a> <a id="23494" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="23497" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âœ“</a><a id="23498" class="Symbol">)</a>

  <a id="23503" class="Comment">-- ** After</a>
  <a id="_~â‚â‚_.[18]"></a><a id="23517" href="SecureCompilation.Coherence.html#23517" class="InductiveConstructor">[18]</a> <a id="23522" class="Symbol">:</a> <a id="23524" class="Symbol">âˆ€</a> <a id="23526" class="Symbol">{</a><a id="23527" href="SecureCompilation.Coherence.html#23527" class="Bound">RË¢</a><a id="23529" class="Symbol">}</a> <a id="23531" class="Symbol">{</a><a id="23532" href="SecureCompilation.Coherence.html#23532" class="Bound">ğ•£âˆ—</a> <a id="23535" class="Symbol">:</a> <a id="23537" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="23540" href="SecureCompilation.Coherence.html#23527" class="Bound">RË¢</a><a id="23542" class="Symbol">}</a> <a id="23544" class="Symbol">â†’</a> <a id="23546" class="Keyword">let</a> <a id="23550" href="SecureCompilation.Coherence.html#23550" class="Bound">ğ•£</a> <a id="23552" class="Symbol">=</a> <a id="23554" href="SymbolicModel.Helpers.html#1169" class="Function">â„âˆ—â‡’â„</a> <a id="23559" href="SecureCompilation.Coherence.html#23532" class="Bound">ğ•£âˆ—</a><a id="23561" class="Symbol">;</a> <a id="23563" class="Keyword">open</a> <a id="23568" href="SymbolicModel.Mappings.Base.html#768" class="Module">â„</a> <a id="23570" href="SecureCompilation.Coherence.html#23550" class="Bound">ğ•£</a> <a id="23572" class="Keyword">in</a>

      <a id="23582" class="Symbol">(</a><a id="23583" href="SecureCompilation.Coherence.html#23583" class="Bound">Î´&gt;0</a> <a id="23587" class="Symbol">:</a> <a id="23589" href="BitML.BasicTypes.html#580" class="Generalizable">Î´</a> <a id="23591" href="Prelude.Ord.Core.html#340" class="Function Operator">&gt;</a> <a id="23593" class="Number">0</a><a id="23594" class="Symbol">)</a>
    <a id="23600" class="Symbol">â†’</a> <a id="23602" class="Keyword">let</a>
        <a id="23614" href="SecureCompilation.Coherence.html#23614" class="Bound">Î“â‚œ</a><a id="23616" class="Symbol">@(</a><a id="23618" href="SecureCompilation.Coherence.html#23618" class="Bound">Î“</a> <a id="23620" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="23623" href="SecureCompilation.Coherence.html#23623" class="Bound">t</a><a id="23624" class="Symbol">)</a> <a id="23626" class="Symbol">=</a> <a id="23628" href="SecureCompilation.Coherence.html#23527" class="Bound">RË¢</a> <a id="23631" class="Symbol">.</a><a id="23632" href="Prelude.Traces.html#568" class="Field">end</a>
        <a id="23644" href="SecureCompilation.Coherence.html#23644" class="Bound">Î±</a>   <a id="23648" class="Symbol">=</a> <a id="23650" href="BitML.Semantics.Label.html#1519" class="InductiveConstructor Operator">delayâ¦…</a> <a id="23657" href="BitML.BasicTypes.html#580" class="Generalizable">Î´</a> <a id="23659" href="BitML.Semantics.Label.html#1519" class="InductiveConstructor Operator">â¦†</a>
        <a id="23669" href="SecureCompilation.Coherence.html#23669" class="Bound">tâ€²</a>  <a id="23673" class="Symbol">=</a> <a id="23675" href="SecureCompilation.Coherence.html#23623" class="Bound">t</a> <a id="23677" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="23679" href="BitML.BasicTypes.html#580" class="Generalizable">Î´</a>
        <a id="23689" href="SecureCompilation.Coherence.html#23689" class="Bound">Î“â‚œâ€²</a> <a id="23693" class="Symbol">=</a> <a id="23695" href="SecureCompilation.Coherence.html#23618" class="Bound">Î“</a> <a id="23697" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="23700" href="SecureCompilation.Coherence.html#23669" class="Bound">tâ€²</a>
        <a id="23711" href="SecureCompilation.Coherence.html#23711" class="Bound">Î»á¶œ</a>  <a id="23715" class="Symbol">=</a> <a id="23717" href="ComputationalModel.Strategy.html#1139" class="InductiveConstructor">delay</a> <a id="23723" href="BitML.BasicTypes.html#580" class="Generalizable">Î´</a>
      <a id="23731" class="Keyword">in</a>
      <a id="23740" class="Symbol">(</a><a id="23741" href="SecureCompilation.Coherence.html#23741" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="23745" class="Symbol">:</a> <a id="23747" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="23749" class="Symbol">(</a><a id="23750" href="SymbolicModel.Helpers.html#642" class="Function Operator">_â‰ˆá¶œ</a> <a id="23754" href="SecureCompilation.Coherence.html#23618" class="Bound">Î“</a><a id="23755" class="Symbol">))</a> <a id="23758" class="Symbol">â†’</a> <a id="23760" class="Keyword">let</a> <a id="23764" href="SecureCompilation.Coherence.html#23764" class="Bound">Î“â‚œâ€³</a> <a id="23768" class="Symbol">=</a> <a id="23770" href="SecureCompilation.Coherence.html#23741" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="23774" class="Symbol">.</a><a id="23775" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a> <a id="23781" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="23784" href="SecureCompilation.Coherence.html#23669" class="Bound">tâ€²</a> <a id="23787" class="Keyword">in</a>
      <a id="23796" class="Keyword">let</a>
        <a id="23808" href="SecureCompilation.Coherence.html#23808" class="Bound">Î“â†’Î“â€²</a> <a id="23813" class="Symbol">:</a> <a id="23815" href="SecureCompilation.Coherence.html#23614" class="Bound">Î“â‚œ</a> <a id="23818" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">â€”[</a> <a id="23821" href="SecureCompilation.Coherence.html#23644" class="Bound">Î±</a> <a id="23823" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]â†’â‚œ</a> <a id="23827" href="SecureCompilation.Coherence.html#23689" class="Bound">Î“â‚œâ€²</a>
        <a id="23839" href="SecureCompilation.Coherence.html#23808" class="Bound">Î“â†’Î“â€²</a> <a id="23844" class="Symbol">=</a> <a id="23846" href="BitML.Semantics.InferenceRules.html#7703" class="InductiveConstructor">[Delay]</a> <a id="23854" href="SecureCompilation.Coherence.html#23583" class="Bound">Î´&gt;0</a>

        <a id="23867" class="Keyword">open</a> <a id="23872" href="SecureCompilation.Helpers.html#38427" class="Module">Hâ‚â‚ˆ</a> <a id="23876" class="Symbol">{</a><a id="23877" href="SecureCompilation.Coherence.html#23527" class="Bound">RË¢</a><a id="23879" class="Symbol">}</a> <a id="23881" href="SecureCompilation.Coherence.html#23550" class="Bound">ğ•£</a> <a id="23883" href="SecureCompilation.Coherence.html#23623" class="Bound">t</a> <a id="23885" href="SecureCompilation.Coherence.html#23644" class="Bound">Î±</a> <a id="23887" href="SecureCompilation.Coherence.html#23669" class="Bound">tâ€²</a> <a id="23890" href="SecureCompilation.Coherence.html#23618" class="Bound">Î“</a> <a id="23892" class="Symbol">(</a><a id="23893" href="BitML.Semantics.Configurations.Helpers.html#2189" class="Function">â‰ˆáµ—-refl</a> <a id="23901" class="Symbol">{</a><a id="23902" href="SecureCompilation.Coherence.html#23614" class="Bound">Î“â‚œ</a><a id="23904" class="Symbol">})</a> <a id="23907" href="SecureCompilation.Coherence.html#23808" class="Bound">Î“â†’Î“â€²</a> <a id="23912" href="SecureCompilation.Coherence.html#23741" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="23916" class="Keyword">using</a> <a id="23922" class="Symbol">(</a><a id="23923" href="SecureCompilation.Helpers.html#38640" class="Function">Î»Ë¢</a><a id="23925" class="Symbol">)</a>
      <a id="23933" class="Keyword">in</a>
      <a id="23942" href="Prelude.InferenceRules.html#41908" class="Function Operator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</a>
      <a id="24010" class="Symbol">(</a><a id="24011" href="SecureCompilation.Coherence.html#23764" class="Bound">Î“â‚œâ€³</a> <a id="24015" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âˆ·</a> <a id="24017" href="SecureCompilation.Coherence.html#23532" class="Bound">ğ•£âˆ—</a> <a id="24020" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âŠ£</a> <a id="24022" href="SecureCompilation.Helpers.html#38640" class="Function">Î»Ë¢</a> <a id="24025" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âœ“</a><a id="24026" class="Symbol">)</a> <a id="24028" href="SecureCompilation.Coherence.html#1329" class="Datatype Operator">~â‚â‚</a> <a id="24032" class="Symbol">(</a><a id="24033" href="SecureCompilation.Coherence.html#23711" class="Bound">Î»á¶œ</a> <a id="24036" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âˆ·</a> <a id="24038" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="24041" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âœ“</a><a id="24042" class="Symbol">)</a>

<a id="_â‰â‚â‚_"></a><a id="24045" href="SecureCompilation.Coherence.html#24045" class="Function Operator">_â‰â‚â‚_</a> <a id="24051" class="Symbol">:</a> <a id="24053" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="24056" href="SymbolicModel.Run.Base.html#407" class="Generalizable">RË¢</a> <a id="24059" class="Symbol">â†’</a> <a id="24061" href="ComputationalModel.Strategy.html#4247" class="Datatype">CRun</a> <a id="24066" class="Symbol">â†’</a> <a id="24068" href="Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="24072" href="SecureCompilation.Coherence.html#24045" class="Function Operator">_â‰â‚â‚_</a> <a id="24078" class="Symbol">=</a> <a id="24080" href="Relation.Nullary.html#665" class="Function Operator">Â¬_</a> <a id="24083" href="Function.Base.html#1228" class="Function Operator">âˆ˜â‚‚</a> <a id="24086" href="SecureCompilation.Coherence.html#1329" class="Datatype Operator">_~â‚â‚_</a>

<a id="24093" class="Keyword">data</a> <a id="_~â‚â‚‚_"></a><a id="24098" href="SecureCompilation.Coherence.html#24098" class="Datatype Operator">_~â‚â‚‚_</a> <a id="24104" class="Symbol">:</a> <a id="24106" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="24109" href="SymbolicModel.Run.Base.html#407" class="Generalizable">RË¢</a> <a id="24112" class="Symbol">â†’</a> <a id="24114" href="ComputationalModel.Strategy.html#4247" class="Datatype">CRun</a> <a id="24119" class="Symbol">â†’</a> <a id="24121" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="24125" class="Keyword">where</a>

  <a id="24134" class="Comment">-- ** Deposits: authorize destroy</a>
  <a id="_~â‚â‚‚_.[16]"></a><a id="24170" href="SecureCompilation.Coherence.html#24170" class="InductiveConstructor">[16]</a> <a id="24175" class="Symbol">:</a> <a id="24177" class="Symbol">âˆ€</a> <a id="24179" class="Symbol">{</a><a id="24180" href="SecureCompilation.Coherence.html#24180" class="Bound">RË¢</a><a id="24182" class="Symbol">}</a> <a id="24184" class="Symbol">{</a><a id="24185" href="SecureCompilation.Coherence.html#24185" class="Bound">ğ•£âˆ—</a> <a id="24188" class="Symbol">:</a> <a id="24190" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="24193" href="SecureCompilation.Coherence.html#24180" class="Bound">RË¢</a><a id="24195" class="Symbol">}</a> <a id="24197" class="Symbol">â†’</a> <a id="24199" class="Keyword">let</a> <a id="24203" href="SecureCompilation.Coherence.html#24203" class="Bound">ğ•£</a> <a id="24205" class="Symbol">=</a> <a id="24207" href="SymbolicModel.Helpers.html#1169" class="Function">â„âˆ—â‡’â„</a> <a id="24212" href="SecureCompilation.Coherence.html#24185" class="Bound">ğ•£âˆ—</a><a id="24214" class="Symbol">;</a> <a id="24216" class="Keyword">open</a> <a id="24221" href="SymbolicModel.Mappings.Base.html#768" class="Module">â„</a> <a id="24223" href="SecureCompilation.Coherence.html#24203" class="Bound">ğ•£</a> <a id="24225" class="Keyword">in</a>
         <a id="24237" class="Symbol">âˆ€</a> <a id="24239" class="Symbol">{</a><a id="24240" href="SecureCompilation.Coherence.html#24240" class="Bound">ds</a> <a id="24243" class="Symbol">:</a> <a id="24245" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="24256" class="Symbol">}</a> <a id="24258" class="Symbol">{</a><a id="24259" href="SecureCompilation.Coherence.html#24259" class="Bound">j</a> <a id="24261" class="Symbol">:</a> <a id="24263" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="24269" href="SecureCompilation.Coherence.html#24240" class="Bound">ds</a><a id="24271" class="Symbol">}</a>

    <a id="24278" class="Symbol">â†’</a> <a id="24280" class="Keyword">let</a>
        <a id="24292" href="SecureCompilation.Coherence.html#24292" class="Bound">k</a>  <a id="24295" class="Symbol">=</a> <a id="24297" href="Data.List.Base.html#4873" class="Function">length</a> <a id="24304" href="SecureCompilation.Coherence.html#24240" class="Bound">ds</a>
        <a id="24315" href="SecureCompilation.Coherence.html#24315" class="Bound">xs</a> <a id="24318" class="Symbol">=</a> <a id="24320" href="Data.List.Base.html#1553" class="Function">map</a> <a id="24324" class="Symbol">(</a><a id="24325" href="Agda.Builtin.Sigma.html#246" class="Field">projâ‚‚</a> <a id="24331" href="Function.Base.html#1040" class="Function Operator">âˆ˜</a> <a id="24333" href="Agda.Builtin.Sigma.html#246" class="Field">projâ‚‚</a><a id="24338" class="Symbol">)</a> <a id="24340" href="SecureCompilation.Coherence.html#24240" class="Bound">ds</a>
        <a id="24351" href="SecureCompilation.Coherence.html#24351" class="Bound">A</a>  <a id="24354" class="Symbol">=</a> <a id="24356" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a> <a id="24362" class="Symbol">(</a><a id="24363" href="SecureCompilation.Coherence.html#24240" class="Bound">ds</a> <a id="24366" href="Prelude.Lists.Indexed.html#650" class="Function Operator">â€¼</a> <a id="24368" href="SecureCompilation.Coherence.html#24259" class="Bound">j</a><a id="24369" class="Symbol">)</a>
        <a id="24379" href="SecureCompilation.Coherence.html#24379" class="Bound">jâ€²</a> <a id="24382" class="Symbol">=</a> <a id="24384" href="Prelude.Lists.Indexed.html#9518" class="Function">â€¼-map</a> <a id="24390" class="Symbol">{</a><a id="24391" class="Argument">xs</a> <a id="24394" class="Symbol">=</a> <a id="24396" href="SecureCompilation.Coherence.html#24240" class="Bound">ds</a><a id="24398" class="Symbol">}</a> <a id="24400" href="SecureCompilation.Coherence.html#24259" class="Bound">j</a>
        <a id="24410" href="SecureCompilation.Coherence.html#24410" class="Bound">Î”</a>  <a id="24413" class="Symbol">=</a> <a id="24415" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="24418" href="Data.List.Base.html#1553" class="Function">map</a> <a id="24422" class="Symbol">(</a><a id="24423" href="Prelude.Nary.html#712" class="Function">uncurryâ‚ƒ</a> <a id="24432" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ¨_has_âŸ©at_</a><a id="24442" class="Symbol">)</a> <a id="24444" href="SecureCompilation.Coherence.html#24240" class="Bound">ds</a>
        <a id="24455" href="SecureCompilation.Coherence.html#24455" class="Bound">Î“</a>  <a id="24458" class="Symbol">=</a> <a id="24460" href="SecureCompilation.Coherence.html#24410" class="Bound">Î”</a> <a id="24462" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="24464" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a>
        <a id="24475" href="SecureCompilation.Coherence.html#24475" class="Bound">Î“â‚œ</a> <a id="24478" class="Symbol">=</a> <a id="24480" href="SecureCompilation.Coherence.html#24455" class="Bound">Î“</a> <a id="24482" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="24485" href="BitML.BasicTypes.html#578" class="Generalizable">t</a>
      <a id="24493" class="Keyword">in</a>
      <a id="24502" class="Comment">-- (ii) in RË¢ we find âŸ¨Báµ¢,váµ¢âŸ©yáµ¢ for i âˆˆ 1..k</a>
      <a id="24553" class="Symbol">(</a><a id="24554" href="SecureCompilation.Coherence.html#24554" class="Bound">Râ‰ˆ</a> <a id="24557" class="Symbol">:</a> <a id="24559" href="SecureCompilation.Coherence.html#24180" class="Bound">RË¢</a> <a id="24562" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">â‰ˆâ‹¯</a> <a id="24565" href="SecureCompilation.Coherence.html#24475" class="Bound">Î“â‚œ</a><a id="24567" class="Symbol">)</a>
    <a id="24573" class="Symbol">â†’</a> <a id="24575" class="Keyword">let</a>
        <a id="24587" href="SecureCompilation.Coherence.html#24587" class="Bound">Î±</a>   <a id="24591" class="Symbol">=</a> <a id="24593" href="BitML.Semantics.Label.html#856" class="InductiveConstructor Operator">auth-destroyâ¦…</a> <a id="24607" href="SecureCompilation.Coherence.html#24351" class="Bound">A</a> <a id="24609" href="BitML.Semantics.Label.html#856" class="InductiveConstructor Operator">,</a> <a id="24611" href="SecureCompilation.Coherence.html#24315" class="Bound">xs</a> <a id="24614" href="BitML.Semantics.Label.html#856" class="InductiveConstructor Operator">,</a> <a id="24616" href="SecureCompilation.Coherence.html#24379" class="Bound">jâ€²</a> <a id="24619" href="BitML.Semantics.Label.html#856" class="InductiveConstructor Operator">â¦†</a>
        <a id="24629" href="SecureCompilation.Coherence.html#24629" class="Bound">Î“â€²</a>  <a id="24633" class="Symbol">=</a> <a id="24635" href="SecureCompilation.Coherence.html#24410" class="Bound">Î”</a> <a id="24637" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="24639" href="SecureCompilation.Coherence.html#24351" class="Bound">A</a> <a id="24641" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="24647" href="SecureCompilation.Coherence.html#24315" class="Bound">xs</a> <a id="24650" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="24652" href="SecureCompilation.Coherence.html#24379" class="Bound">jâ€²</a> <a id="24655" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">â–·áµˆË¢</a> <a id="24659" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="24661" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="24663" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="24665" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a>
        <a id="24676" href="SecureCompilation.Coherence.html#24676" class="Bound">tâ€²</a>  <a id="24680" class="Symbol">=</a> <a id="24682" href="BitML.BasicTypes.html#578" class="Generalizable">t</a>
        <a id="24692" href="SecureCompilation.Coherence.html#24692" class="Bound">Î“â‚œâ€²</a> <a id="24696" class="Symbol">=</a> <a id="24698" href="SecureCompilation.Coherence.html#24629" class="Bound">Î“â€²</a> <a id="24701" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="24704" href="SecureCompilation.Coherence.html#24676" class="Bound">tâ€²</a>
      <a id="24713" class="Keyword">in</a>
      <a id="24722" class="Symbol">(</a><a id="24723" href="SecureCompilation.Coherence.html#24723" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="24727" class="Symbol">:</a> <a id="24729" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="24731" class="Symbol">(</a><a id="24732" href="SymbolicModel.Helpers.html#642" class="Function Operator">_â‰ˆá¶œ</a> <a id="24736" href="SecureCompilation.Coherence.html#24629" class="Bound">Î“â€²</a><a id="24738" class="Symbol">))</a> <a id="24741" class="Symbol">â†’</a> <a id="24743" class="Keyword">let</a> <a id="24747" href="SecureCompilation.Coherence.html#24747" class="Bound">Î“â‚œâ€³</a> <a id="24751" class="Symbol">=</a> <a id="24753" href="SecureCompilation.Coherence.html#24723" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="24757" class="Symbol">.</a><a id="24758" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a> <a id="24764" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="24767" href="SecureCompilation.Coherence.html#24676" class="Bound">tâ€²</a> <a id="24770" class="Keyword">in</a>
      <a id="24779" class="Comment">-- Hypotheses from [DEP-AuthDestroy]</a>
      <a id="24822" class="Symbol">(</a><a id="24823" href="SecureCompilation.Coherence.html#24823" class="Bound">fresh-y</a> <a id="24831" class="Symbol">:</a> <a id="24833" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="24835" href="Data.List.Membership.Setoid.html#945" class="Function Operator">âˆ‰</a> <a id="24837" href="BitML.Contracts.Collections.html#4226" class="Function">ids</a> <a id="24841" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a><a id="24843" class="Symbol">)</a>
    <a id="24849" class="Symbol">â†’</a> <a id="24851" class="Keyword">let</a>
        <a id="24863" href="SecureCompilation.Coherence.html#24863" class="Bound">Î“â†’Î“â€²</a> <a id="24868" class="Symbol">:</a> <a id="24870" href="SecureCompilation.Coherence.html#24475" class="Bound">Î“â‚œ</a> <a id="24873" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">â€”[</a> <a id="24876" href="SecureCompilation.Coherence.html#24587" class="Bound">Î±</a> <a id="24878" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]â†’â‚œ</a> <a id="24882" href="SecureCompilation.Coherence.html#24692" class="Bound">Î“â‚œâ€²</a>
        <a id="24894" href="SecureCompilation.Coherence.html#24863" class="Bound">Î“â†’Î“â€²</a> <a id="24899" class="Symbol">=</a> <a id="24901" href="BitML.Semantics.InferenceRules.html#7587" class="InductiveConstructor">[Action]</a> <a id="24910" class="Symbol">(</a><a id="24911" href="BitML.Semantics.InferenceRules.html#2530" class="InductiveConstructor">[DEP-AuthDestroy]</a> <a id="24929" href="SecureCompilation.Coherence.html#24823" class="Bound">fresh-y</a><a id="24936" class="Symbol">)</a> <a id="24938" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

        <a id="24952" class="Comment">-- (vii) txout = txoutâ€², sechash = sechashâ€², Îº = Îºâ€²</a>
        <a id="25012" class="Keyword">open</a> <a id="25017" href="SecureCompilation.Helpers.html#33447" class="Module">Hâ‚â‚†</a> <a id="25021" class="Symbol">{</a><a id="25022" href="SecureCompilation.Coherence.html#24180" class="Bound">RË¢</a><a id="25024" class="Symbol">}</a> <a id="25026" href="SecureCompilation.Coherence.html#24203" class="Bound">ğ•£</a> <a id="25028" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="25030" href="SecureCompilation.Coherence.html#24587" class="Bound">Î±</a> <a id="25032" href="SecureCompilation.Coherence.html#24676" class="Bound">tâ€²</a> <a id="25035" href="SecureCompilation.Coherence.html#24240" class="Bound">ds</a> <a id="25038" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a>  <a id="25042" href="SecureCompilation.Coherence.html#24259" class="Bound">j</a> <a id="25044" href="SecureCompilation.Coherence.html#24351" class="Bound">A</a> <a id="25046" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="25048" href="SecureCompilation.Coherence.html#24554" class="Bound">Râ‰ˆ</a> <a id="25051" href="SecureCompilation.Coherence.html#24863" class="Bound">Î“â†’Î“â€²</a> <a id="25056" href="SecureCompilation.Coherence.html#24723" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="25060" class="Keyword">using</a> <a id="25066" class="Symbol">(</a><a id="25067" href="SecureCompilation.Helpers.html#35114" class="Function">Î»Ë¢</a><a id="25069" class="Symbol">;</a> <a id="25071" href="SecureCompilation.Helpers.html#33579" class="Function">xsâ†¦</a><a id="25074" class="Symbol">)</a>
      <a id="25082" class="Keyword">in</a>
      <a id="25091" class="Comment">-- (iii) in Rá¶œ we find B â†’ âˆ— âˆ¶ T, for some T having txoutâ€²(yáµ¢) as inputs (+ possibly others)</a>
      <a id="25190" class="Symbol">(</a><a id="25191" href="SecureCompilation.Coherence.html#25191" class="Bound">T</a> <a id="25193" class="Symbol">:</a> <a id="25195" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="25198" href="Bitcoin.Tx.Base.html#2058" class="Generalizable">i</a> <a id="25200" class="Number">0</a><a id="25201" class="Symbol">)</a>
    <a id="25207" class="Symbol">â†’</a> <a id="25209" class="Symbol">(</a><a id="25210" href="Bitcoin.Tx.Crypto.html#657" class="Function">hashTxâ±</a> <a id="25218" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="25222" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="25228" href="SecureCompilation.Helpers.html#33579" class="Function">xsâ†¦</a><a id="25231" class="Symbol">)</a> <a id="25233" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">âŠ†</a> <a id="25235" href="Data.Vec.Base.html#7447" class="Function">V.toList</a> <a id="25244" class="Symbol">(</a><a id="25245" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a> <a id="25252" href="SecureCompilation.Coherence.html#25191" class="Bound">T</a><a id="25253" class="Symbol">)</a>
    <a id="25259" class="Symbol">â†’</a> <a id="25261" class="Symbol">(</a><a id="25262" href="SecureCompilation.Coherence.html#25262" class="Bound">Tâˆˆ</a> <a id="25265" class="Symbol">:</a> <a id="25267" href="Data.List.Relation.Unary.Any.html#1165" class="Datatype">Any</a> <a id="25271" class="Symbol">(Î»</a> <a id="25274" href="SecureCompilation.Coherence.html#25274" class="Bound">l</a> <a id="25276" class="Symbol">â†’</a> <a id="25278" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="25280" class="Symbol">Î»</a> <a id="25282" href="SecureCompilation.Coherence.html#25282" class="Bound">B</a> <a id="25284" class="Symbol">â†’</a> <a id="25286" href="SecureCompilation.Coherence.html#25274" class="Bound">l</a> <a id="25288" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">â‰¡</a> <a id="25290" href="SecureCompilation.Coherence.html#25282" class="Bound">B</a> <a id="25292" href="ComputationalModel.Strategy.html#1025" class="InductiveConstructor Operator">â†’âˆ—âˆ¶</a> <a id="25296" class="Symbol">(</a><a id="25297" href="SecureCompilation.Coherence.html#25191" class="Bound">T</a> <a id="25299" href="Bitcoin.Crypto.html#609" class="Function Operator">â™¯</a><a id="25300" class="Symbol">))</a> <a id="25303" class="Symbol">(</a><a id="25304" href="Prelude.ToList.html#167" class="Field">toList</a> <a id="25311" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a><a id="25313" class="Symbol">))</a>

    <a id="25321" class="Symbol">â†’</a> <a id="25323" class="Keyword">let</a>
        <a id="25335" class="Comment">-- (iv) broadcast transaction T, signed by A</a>
        <a id="25388" href="SecureCompilation.Coherence.html#25388" class="Bound">m</a> <a id="25390" class="Symbol">=</a> <a id="25392" href="Bitcoin.Crypto.html#668" class="Function">SIG</a> <a id="25396" class="Symbol">(</a><a id="25397" href="ComputationalModel.KeyPairs.html#208" class="Function">KÌ‚</a> <a id="25400" href="SecureCompilation.Coherence.html#24351" class="Bound">A</a><a id="25401" class="Symbol">)</a> <a id="25403" href="SecureCompilation.Coherence.html#25191" class="Bound">T</a>
        <a id="25413" href="SecureCompilation.Coherence.html#25413" class="Bound">Î»á¶œ</a> <a id="25416" class="Symbol">=</a> <a id="25418" href="BitML.Contracts.Types.html#373" class="Generalizable">B</a> <a id="25420" href="ComputationalModel.Strategy.html#1025" class="InductiveConstructor Operator">â†’âˆ—âˆ¶</a> <a id="25424" href="SecureCompilation.Coherence.html#25388" class="Bound">m</a>
      <a id="25432" class="Keyword">in</a>
      <a id="25441" class="Comment">-- (v) Î»á¶œ is the first broadcast of m in Rá¶œ after the first broadcast of T</a>
    <a id="25520" href="Prelude.InferenceRules.html#56141" class="Function Operator">âˆ™</a> <a id="25522" href="Data.List.Relation.Unary.All.html#1453" class="Datatype">All</a> <a id="25526" class="Symbol">(Î»</a> <a id="25529" href="SecureCompilation.Coherence.html#25529" class="Bound">l</a> <a id="25531" class="Symbol">â†’</a> <a id="25533" class="Symbol">âˆ€</a> <a id="25535" href="SecureCompilation.Coherence.html#25535" class="Bound">B</a> <a id="25537" class="Symbol">â†’</a> <a id="25539" href="SecureCompilation.Coherence.html#25529" class="Bound">l</a> <a id="25541" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">â‰¢</a> <a id="25543" href="SecureCompilation.Coherence.html#25535" class="Bound">B</a> <a id="25545" href="ComputationalModel.Strategy.html#1025" class="InductiveConstructor Operator">â†’âˆ—âˆ¶</a> <a id="25549" href="SecureCompilation.Coherence.html#25388" class="Bound">m</a><a id="25550" class="Symbol">)</a> <a id="25552" class="Symbol">(</a><a id="25553" href="Prelude.Lists.Membership.html#6265" class="Function">Any-front</a> <a id="25563" href="SecureCompilation.Coherence.html#25262" class="Bound">Tâˆˆ</a><a id="25565" class="Symbol">)</a>

      <a id="25574" class="Comment">-- (vi) Î»á¶œ does not correspond to any *other* symbolic move</a>
    <a id="25638" href="Prelude.InferenceRules.html#56072" class="Function Operator">âˆ™</a> <a id="25640" class="Symbol">(âˆ€</a> <a id="25643" href="SecureCompilation.Coherence.html#25643" class="Bound">Î“â‚œâ€²</a> <a id="25647" class="Symbol">(</a><a id="25648" href="SecureCompilation.Coherence.html#25648" class="Bound">Î»Ë¢â€²</a> <a id="25652" class="Symbol">:</a> <a id="25654" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">ğ•ƒ</a> <a id="25656" href="SecureCompilation.Coherence.html#24180" class="Bound">RË¢</a> <a id="25659" href="SecureCompilation.Coherence.html#25643" class="Bound">Î“â‚œâ€²</a><a id="25662" class="Symbol">)</a>
        <a id="25672" class="Symbol">â†’</a> <a id="25674" href="SecureCompilation.Coherence.html#25648" class="Bound">Î»Ë¢â€²</a> <a id="25678" class="Symbol">.</a><a id="25679" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a> <a id="25685" class="Symbol">.</a><a id="25686" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a> <a id="25692" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">â‰¢</a> <a id="25694" href="SecureCompilation.Helpers.html#35114" class="Function">Î»Ë¢</a> <a id="25697" class="Symbol">.</a><a id="25698" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a> <a id="25704" class="Symbol">.</a><a id="25705" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a>
        <a id="25719" class="Symbol">â†’</a> <a id="25721" class="Symbol">(</a><a id="25722" href="SecureCompilation.Coherence.html#25643" class="Bound">Î“â‚œâ€²</a> <a id="25726" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âˆ·</a> <a id="25728" href="SecureCompilation.Coherence.html#24185" class="Bound">ğ•£âˆ—</a> <a id="25731" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âŠ£</a> <a id="25733" href="SecureCompilation.Coherence.html#25648" class="Bound">Î»Ë¢â€²</a> <a id="25737" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âœ“</a><a id="25738" class="Symbol">)</a> <a id="25740" href="SecureCompilation.Coherence.html#24045" class="Function Operator">â‰â‚â‚</a> <a id="25744" class="Symbol">(</a><a id="25745" href="SecureCompilation.Coherence.html#25413" class="Bound">Î»á¶œ</a> <a id="25748" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âˆ·</a> <a id="25750" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="25753" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âœ“</a><a id="25754" class="Symbol">))</a>
      <a id="25763" href="Prelude.InferenceRules.html#12185" class="Function Operator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</a>
      <a id="25832" class="Symbol">(</a><a id="25833" href="SecureCompilation.Coherence.html#24747" class="Bound">Î“â‚œâ€³</a> <a id="25837" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âˆ·</a> <a id="25839" href="SecureCompilation.Coherence.html#24185" class="Bound">ğ•£âˆ—</a> <a id="25842" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âŠ£</a> <a id="25844" href="SecureCompilation.Helpers.html#35114" class="Function">Î»Ë¢</a> <a id="25847" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âœ“</a><a id="25848" class="Symbol">)</a> <a id="25850" href="SecureCompilation.Coherence.html#24098" class="Datatype Operator">~â‚â‚‚</a> <a id="25854" class="Symbol">(</a><a id="25855" href="SecureCompilation.Coherence.html#25413" class="Bound">Î»á¶œ</a> <a id="25858" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âˆ·</a> <a id="25860" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="25863" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âœ“</a><a id="25864" class="Symbol">)</a>

  <a id="25869" class="Comment">-- ** Deposits: destroy</a>
  <a id="_~â‚â‚‚_.[17]"></a><a id="25895" href="SecureCompilation.Coherence.html#25895" class="InductiveConstructor">[17]</a> <a id="25900" class="Symbol">:</a> <a id="25902" class="Symbol">âˆ€</a> <a id="25904" class="Symbol">{</a><a id="25905" href="SecureCompilation.Coherence.html#25905" class="Bound">RË¢</a><a id="25907" class="Symbol">}</a> <a id="25909" class="Symbol">{</a><a id="25910" href="SecureCompilation.Coherence.html#25910" class="Bound">ğ•£âˆ—</a> <a id="25913" class="Symbol">:</a> <a id="25915" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="25918" href="SecureCompilation.Coherence.html#25905" class="Bound">RË¢</a><a id="25920" class="Symbol">}</a> <a id="25922" class="Symbol">â†’</a> <a id="25924" class="Keyword">let</a> <a id="25928" href="SecureCompilation.Coherence.html#25928" class="Bound">ğ•£</a> <a id="25930" class="Symbol">=</a> <a id="25932" href="SymbolicModel.Helpers.html#1169" class="Function">â„âˆ—â‡’â„</a> <a id="25937" href="SecureCompilation.Coherence.html#25910" class="Bound">ğ•£âˆ—</a><a id="25939" class="Symbol">;</a> <a id="25941" class="Keyword">open</a> <a id="25946" href="SymbolicModel.Mappings.Base.html#768" class="Module">â„</a> <a id="25948" href="SecureCompilation.Coherence.html#25928" class="Bound">ğ•£</a> <a id="25950" class="Keyword">in</a>
         <a id="25962" class="Symbol">âˆ€</a> <a id="25964" class="Symbol">{</a><a id="25965" href="SecureCompilation.Coherence.html#25965" class="Bound">ds</a> <a id="25968" class="Symbol">:</a> <a id="25970" href="BitML.Contracts.Types.html#2667" class="Function">DepositRefs</a><a id="25981" class="Symbol">}</a> <a id="25983" class="Symbol">{</a><a id="25984" href="SecureCompilation.Coherence.html#25984" class="Bound">j</a> <a id="25986" class="Symbol">:</a> <a id="25988" href="Prelude.Lists.Indexed.html#542" class="Function">Index</a> <a id="25994" href="SecureCompilation.Coherence.html#25965" class="Bound">ds</a><a id="25996" class="Symbol">}</a>

    <a id="26003" class="Symbol">â†’</a> <a id="26005" class="Keyword">let</a>
        <a id="26017" href="SecureCompilation.Coherence.html#26017" class="Bound">xs</a> <a id="26020" class="Symbol">=</a> <a id="26022" href="Data.List.Base.html#1553" class="Function">map</a> <a id="26026" class="Symbol">(</a><a id="26027" href="Agda.Builtin.Sigma.html#246" class="Field">projâ‚‚</a> <a id="26033" href="Function.Base.html#1040" class="Function Operator">âˆ˜</a> <a id="26035" href="Agda.Builtin.Sigma.html#246" class="Field">projâ‚‚</a><a id="26040" class="Symbol">)</a> <a id="26042" href="SecureCompilation.Coherence.html#25965" class="Bound">ds</a>
        <a id="26053" href="SecureCompilation.Coherence.html#26053" class="Bound">Î”</a>  <a id="26056" class="Symbol">=</a> <a id="26058" href="BitML.Semantics.Configurations.Types.html#1188" class="Function Operator">||</a> <a id="26061" href="Data.List.Base.html#1553" class="Function">map</a> <a id="26065" class="Symbol">(Î»{</a> <a id="26069" class="Symbol">(</a><a id="26070" href="SecureCompilation.Coherence.html#26070" class="Bound">i</a> <a id="26072" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="26074" href="SecureCompilation.Coherence.html#26074" class="Bound">Aáµ¢</a> <a id="26077" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="26079" href="SecureCompilation.Coherence.html#26079" class="Bound">váµ¢</a> <a id="26082" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="26084" href="SecureCompilation.Coherence.html#26084" class="Bound">xáµ¢</a><a id="26086" class="Symbol">)</a> <a id="26088" class="Symbol">â†’</a> <a id="26090" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ¨</a> <a id="26092" href="SecureCompilation.Coherence.html#26074" class="Bound">Aáµ¢</a> <a id="26095" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="26099" href="SecureCompilation.Coherence.html#26079" class="Bound">váµ¢</a> <a id="26102" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ©at</a> <a id="26106" href="SecureCompilation.Coherence.html#26084" class="Bound">xáµ¢</a> <a id="26109" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="26111" href="SecureCompilation.Coherence.html#26074" class="Bound">Aáµ¢</a> <a id="26114" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">auth[</a> <a id="26120" href="SecureCompilation.Coherence.html#26017" class="Bound">xs</a> <a id="26123" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">,</a> <a id="26125" href="Prelude.Lists.Indexed.html#9518" class="Function">â€¼-map</a> <a id="26131" class="Symbol">{</a><a id="26132" class="Argument">xs</a> <a id="26135" class="Symbol">=</a> <a id="26137" href="SecureCompilation.Coherence.html#25965" class="Bound">ds</a><a id="26139" class="Symbol">}</a> <a id="26141" href="SecureCompilation.Coherence.html#26070" class="Bound">i</a> <a id="26143" href="BitML.Semantics.Action.html#860" class="InductiveConstructor Operator">â–·áµˆË¢</a> <a id="26147" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="26149" href="BitML.Semantics.Configurations.Types.html#803" class="InductiveConstructor Operator">]</a> <a id="26151" class="Symbol">})</a>
                    <a id="26174" class="Symbol">(</a><a id="26175" href="Prelude.Lists.Indexed.html#1568" class="Function">enumerate</a> <a id="26185" href="SecureCompilation.Coherence.html#25965" class="Bound">ds</a><a id="26187" class="Symbol">)</a>
        <a id="26197" href="SecureCompilation.Coherence.html#26197" class="Bound">Î“</a>  <a id="26200" class="Symbol">=</a> <a id="26202" href="SecureCompilation.Coherence.html#26053" class="Bound">Î”</a> <a id="26204" href="BitML.Semantics.Configurations.Types.html#1054" class="InductiveConstructor Operator">âˆ£</a> <a id="26206" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a>
        <a id="26217" href="SecureCompilation.Coherence.html#26217" class="Bound">Î“â‚œ</a> <a id="26220" class="Symbol">=</a> <a id="26222" href="SecureCompilation.Coherence.html#26197" class="Bound">Î“</a> <a id="26224" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="26227" href="BitML.BasicTypes.html#578" class="Generalizable">t</a>
      <a id="26235" class="Keyword">in</a>
      <a id="26244" class="Comment">-- (ii) in RË¢, Î± assumes âŸ¨Aáµ¢,váµ¢âŸ©xáµ¢ to obtain 0</a>
      <a id="26297" class="Symbol">(</a><a id="26298" href="SecureCompilation.Coherence.html#26298" class="Bound">Râ‰ˆ</a> <a id="26301" class="Symbol">:</a> <a id="26303" href="SecureCompilation.Coherence.html#25905" class="Bound">RË¢</a> <a id="26306" href="SymbolicModel.Run.Base.html#1946" class="Function Operator">â‰ˆâ‹¯</a> <a id="26309" href="SecureCompilation.Coherence.html#26217" class="Bound">Î“â‚œ</a><a id="26311" class="Symbol">)</a>
    <a id="26317" class="Symbol">â†’</a> <a id="26319" class="Keyword">let</a>
        <a id="26331" href="SecureCompilation.Coherence.html#26331" class="Bound">Î±</a>   <a id="26335" class="Symbol">=</a> <a id="26337" href="BitML.Semantics.Label.html#933" class="InductiveConstructor Operator">destroyâ¦…</a> <a id="26346" href="SecureCompilation.Coherence.html#26017" class="Bound">xs</a> <a id="26349" href="BitML.Semantics.Label.html#933" class="InductiveConstructor Operator">â¦†</a>
        <a id="26359" href="SecureCompilation.Coherence.html#26359" class="Bound">Î“â€²</a>  <a id="26363" class="Symbol">=</a> <a id="26365" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a>
        <a id="26376" href="SecureCompilation.Coherence.html#26376" class="Bound">tâ€²</a>  <a id="26380" class="Symbol">=</a> <a id="26382" href="BitML.BasicTypes.html#578" class="Generalizable">t</a>
        <a id="26392" href="SecureCompilation.Coherence.html#26392" class="Bound">Î“â‚œâ€²</a> <a id="26396" class="Symbol">=</a> <a id="26398" href="SecureCompilation.Coherence.html#26359" class="Bound">Î“â€²</a> <a id="26401" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="26404" href="SecureCompilation.Coherence.html#26376" class="Bound">tâ€²</a>
      <a id="26413" class="Keyword">in</a>
      <a id="26422" class="Symbol">(</a><a id="26423" href="SecureCompilation.Coherence.html#26423" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="26427" class="Symbol">:</a> <a id="26429" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="26431" class="Symbol">(</a><a id="26432" href="SymbolicModel.Helpers.html#642" class="Function Operator">_â‰ˆá¶œ</a> <a id="26436" href="SecureCompilation.Coherence.html#26359" class="Bound">Î“â€²</a><a id="26438" class="Symbol">))</a> <a id="26441" class="Symbol">â†’</a> <a id="26443" class="Keyword">let</a> <a id="26447" href="SecureCompilation.Coherence.html#26447" class="Bound">Î“â‚œâ€³</a> <a id="26451" class="Symbol">=</a> <a id="26453" href="SecureCompilation.Coherence.html#26423" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="26457" class="Symbol">.</a><a id="26458" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a> <a id="26464" href="BitML.Semantics.Configurations.Types.html#1322" class="InductiveConstructor Operator">at</a> <a id="26467" href="SecureCompilation.Coherence.html#26376" class="Bound">tâ€²</a> <a id="26470" class="Keyword">in</a>
      <a id="26479" class="Keyword">let</a>
        <a id="26491" href="SecureCompilation.Coherence.html#26491" class="Bound">Î“â†’Î“â€²</a> <a id="26496" class="Symbol">:</a> <a id="26498" href="SecureCompilation.Coherence.html#26217" class="Bound">Î“â‚œ</a> <a id="26501" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">â€”[</a> <a id="26504" href="SecureCompilation.Coherence.html#26331" class="Bound">Î±</a> <a id="26506" href="BitML.Semantics.InferenceRules.html#7507" class="Datatype Operator">]â†’â‚œ</a> <a id="26510" href="SecureCompilation.Coherence.html#26392" class="Bound">Î“â‚œâ€²</a>
        <a id="26522" href="SecureCompilation.Coherence.html#26491" class="Bound">Î“â†’Î“â€²</a> <a id="26527" class="Symbol">=</a> <a id="26529" href="BitML.Semantics.InferenceRules.html#7587" class="InductiveConstructor">[Action]</a> <a id="26538" href="BitML.Semantics.InferenceRules.html#2960" class="InductiveConstructor">[DEP-Destroy]</a> <a id="26552" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

        <a id="26566" class="Comment">-- (v) txout = txoutâ€², sechash = sechashâ€², Îº = Îºâ€²</a>
        <a id="26624" class="Comment">-- remove {â‹¯ xáµ¢ â†¦ (Táµ¢,j) â‹¯} from txoutâ€²</a>
        <a id="26672" class="Keyword">open</a> <a id="26677" href="SecureCompilation.Helpers.html#35491" class="Module">Hâ‚â‚‡</a> <a id="26681" class="Symbol">{</a><a id="26682" href="SecureCompilation.Coherence.html#25905" class="Bound">RË¢</a><a id="26684" class="Symbol">}</a> <a id="26686" href="SecureCompilation.Coherence.html#25928" class="Bound">ğ•£</a> <a id="26688" href="BitML.BasicTypes.html#578" class="Generalizable">t</a> <a id="26690" href="SecureCompilation.Coherence.html#26331" class="Bound">Î±</a> <a id="26692" href="SecureCompilation.Coherence.html#26376" class="Bound">tâ€²</a> <a id="26695" href="SecureCompilation.Coherence.html#25965" class="Bound">ds</a> <a id="26698" href="BitML.Semantics.Configurations.Types.html#1146" class="Generalizable">Î“â‚€</a> <a id="26701" href="BitML.BasicTypes.html#529" class="Generalizable">y</a> <a id="26703" href="SecureCompilation.Coherence.html#26298" class="Bound">Râ‰ˆ</a> <a id="26706" href="SecureCompilation.Coherence.html#26491" class="Bound">Î“â†’Î“â€²</a> <a id="26711" href="SecureCompilation.Coherence.html#26423" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="26715" class="Keyword">using</a> <a id="26721" class="Symbol">(</a><a id="26722" href="SecureCompilation.Helpers.html#36753" class="Function">Î»Ë¢</a><a id="26724" class="Symbol">;</a> <a id="26726" href="SecureCompilation.Helpers.html#35623" class="Function">xsâ†¦</a><a id="26729" class="Symbol">)</a>
      <a id="26737" class="Keyword">in</a>
      <a id="26746" class="Symbol">(</a><a id="26747" href="SecureCompilation.Coherence.html#26747" class="Bound">T</a> <a id="26749" class="Symbol">:</a> <a id="26751" href="Bitcoin.Tx.Base.html#973" class="Record">Tx</a> <a id="26754" href="Bitcoin.Tx.Base.html#2058" class="Generalizable">i</a> <a id="26756" class="Number">0</a><a id="26757" class="Symbol">)</a>
    <a id="26763" class="Symbol">â†’</a> <a id="26765" class="Symbol">(</a><a id="26766" href="Bitcoin.Tx.Crypto.html#657" class="Function">hashTxâ±</a> <a id="26774" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="26778" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="26784" href="SecureCompilation.Helpers.html#35623" class="Function">xsâ†¦</a><a id="26787" class="Symbol">)</a> <a id="26789" href="Data.List.Relation.Binary.Subset.Setoid.html#748" class="Function Operator">âŠ†</a> <a id="26791" href="Data.Vec.Base.html#7447" class="Function">V.toList</a> <a id="26800" class="Symbol">(</a><a id="26801" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a> <a id="26808" href="SecureCompilation.Coherence.html#26747" class="Bound">T</a><a id="26809" class="Symbol">)</a>

    <a id="26816" class="Symbol">â†’</a> <a id="26818" class="Keyword">let</a>
        <a id="26830" class="Comment">-- (iii) submit transaction T</a>
        <a id="26868" href="SecureCompilation.Coherence.html#26868" class="Bound">Î»á¶œ</a> <a id="26871" class="Symbol">=</a> <a id="26873" href="ComputationalModel.Strategy.html#1094" class="InductiveConstructor">submit</a> <a id="26880" class="Symbol">(_</a> <a id="26883" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="26885" class="Symbol">_</a> <a id="26887" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="26889" href="SecureCompilation.Coherence.html#26747" class="Bound">T</a><a id="26890" class="Symbol">)</a>
      <a id="26898" class="Keyword">in</a>

      <a id="26908" class="Comment">-- (iv) Î»á¶œ does not correspond to any *other* symbolic move</a>
      <a id="26974" class="Symbol">(âˆ€</a> <a id="26977" href="SecureCompilation.Coherence.html#26977" class="Bound">Î“â‚œâ€²</a> <a id="26981" class="Symbol">(</a><a id="26982" href="SecureCompilation.Coherence.html#26982" class="Bound">Î»Ë¢â€²</a> <a id="26986" class="Symbol">:</a> <a id="26988" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">ğ•ƒ</a> <a id="26990" href="SecureCompilation.Coherence.html#25905" class="Bound">RË¢</a> <a id="26993" href="SecureCompilation.Coherence.html#26977" class="Bound">Î“â‚œâ€²</a><a id="26996" class="Symbol">)</a>
        <a id="27006" class="Symbol">â†’</a> <a id="27008" href="SecureCompilation.Coherence.html#26982" class="Bound">Î»Ë¢â€²</a> <a id="27012" class="Symbol">.</a><a id="27013" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a> <a id="27019" class="Symbol">.</a><a id="27020" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a> <a id="27026" href="Relation.Binary.PropositionalEquality.Core.html#839" class="Function Operator">â‰¢</a> <a id="27028" href="SecureCompilation.Helpers.html#36753" class="Function">Î»Ë¢</a> <a id="27031" class="Symbol">.</a><a id="27032" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a> <a id="27038" class="Symbol">.</a><a id="27039" href="Agda.Builtin.Sigma.html#234" class="Field">projâ‚</a>
        <a id="27053" class="Symbol">â†’</a> <a id="27055" class="Symbol">(</a><a id="27056" href="SecureCompilation.Coherence.html#26977" class="Bound">Î“â‚œâ€²</a> <a id="27060" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âˆ·</a> <a id="27062" href="SecureCompilation.Coherence.html#25910" class="Bound">ğ•£âˆ—</a> <a id="27065" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âŠ£</a> <a id="27067" href="SecureCompilation.Coherence.html#26982" class="Bound">Î»Ë¢â€²</a> <a id="27071" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âœ“</a><a id="27072" class="Symbol">)</a> <a id="27074" href="SecureCompilation.Coherence.html#24045" class="Function Operator">â‰â‚â‚</a> <a id="27078" class="Symbol">(</a><a id="27079" href="SecureCompilation.Coherence.html#26868" class="Bound">Î»á¶œ</a> <a id="27082" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âˆ·</a> <a id="27084" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="27087" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âœ“</a><a id="27088" class="Symbol">))</a>
      <a id="27097" href="Prelude.InferenceRules.html#12252" class="Function Operator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</a>
      <a id="27165" class="Symbol">(</a><a id="27166" href="SecureCompilation.Coherence.html#26447" class="Bound">Î“â‚œâ€³</a> <a id="27170" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âˆ·</a> <a id="27172" href="SecureCompilation.Coherence.html#25910" class="Bound">ğ•£âˆ—</a> <a id="27175" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âŠ£</a> <a id="27177" href="SecureCompilation.Helpers.html#36753" class="Function">Î»Ë¢</a> <a id="27180" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âœ“</a><a id="27181" class="Symbol">)</a> <a id="27183" href="SecureCompilation.Coherence.html#24098" class="Datatype Operator">~â‚â‚‚</a> <a id="27187" class="Symbol">(</a><a id="27188" href="SecureCompilation.Coherence.html#26868" class="Bound">Î»á¶œ</a> <a id="27191" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âˆ·</a> <a id="27193" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="27196" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âœ“</a><a id="27197" class="Symbol">)</a>

<a id="_â‰â‚â‚‚_"></a><a id="27200" href="SecureCompilation.Coherence.html#27200" class="Function Operator">_â‰â‚â‚‚_</a> <a id="27206" class="Symbol">:</a> <a id="27208" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="27211" href="SymbolicModel.Run.Base.html#407" class="Generalizable">RË¢</a> <a id="27214" class="Symbol">â†’</a> <a id="27216" href="ComputationalModel.Strategy.html#4247" class="Datatype">CRun</a> <a id="27221" class="Symbol">â†’</a> <a id="27223" href="Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="27227" href="SecureCompilation.Coherence.html#27200" class="Function Operator">_â‰â‚â‚‚_</a> <a id="27233" class="Symbol">=</a> <a id="27235" href="Relation.Nullary.html#665" class="Function Operator">Â¬_</a> <a id="27238" href="Function.Base.html#1228" class="Function Operator">âˆ˜â‚‚</a> <a id="27241" href="SecureCompilation.Coherence.html#24098" class="Datatype Operator">_~â‚â‚‚_</a>

<a id="27248" class="Keyword">data</a> <a id="_~â‚_"></a><a id="27253" href="SecureCompilation.Coherence.html#27253" class="Datatype Operator">_~â‚_</a> <a id="27258" class="Symbol">:</a> <a id="27260" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="27263" href="SymbolicModel.Run.Base.html#407" class="Generalizable">RË¢</a> <a id="27266" class="Symbol">â†’</a> <a id="27268" href="ComputationalModel.Strategy.html#4247" class="Datatype">CRun</a> <a id="27273" class="Symbol">â†’</a> <a id="27275" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="27279" class="Keyword">where</a>

  <a id="_~â‚_.[L]_"></a><a id="27288" href="SecureCompilation.Coherence.html#27288" class="InductiveConstructor Operator">[L]_</a> <a id="27293" class="Symbol">:</a> <a id="27295" class="Symbol">âˆ€</a> <a id="27297" class="Symbol">{</a><a id="27298" href="SecureCompilation.Coherence.html#27298" class="Bound">RË¢</a><a id="27300" class="Symbol">}</a> <a id="27302" class="Symbol">{</a><a id="27303" href="SecureCompilation.Coherence.html#27303" class="Bound">ğ•£âˆ—</a> <a id="27306" class="Symbol">:</a> <a id="27308" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="27311" href="SecureCompilation.Coherence.html#27298" class="Bound">RË¢</a><a id="27313" class="Symbol">}</a> <a id="27315" class="Symbol">{</a><a id="27316" href="SecureCompilation.Coherence.html#27316" class="Bound">Î»Ë¢</a> <a id="27319" class="Symbol">:</a> <a id="27321" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">ğ•ƒ</a> <a id="27323" href="SecureCompilation.Coherence.html#27298" class="Bound">RË¢</a> <a id="27326" href="BitML.Semantics.Configurations.Types.html#1456" class="Generalizable">Î“â‚œ</a><a id="27328" class="Symbol">}</a> <a id="27330" class="Symbol">â†’</a>
    <a id="27336" class="Symbol">(</a><a id="27337" href="BitML.Semantics.Configurations.Types.html#1456" class="Generalizable">Î“â‚œ</a> <a id="27340" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âˆ·</a> <a id="27342" href="SecureCompilation.Coherence.html#27303" class="Bound">ğ•£âˆ—</a> <a id="27345" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âŠ£</a> <a id="27347" href="SecureCompilation.Coherence.html#27316" class="Bound">Î»Ë¢</a> <a id="27350" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âœ“</a><a id="27351" class="Symbol">)</a> <a id="27353" href="SecureCompilation.Coherence.html#1329" class="Datatype Operator">~â‚â‚</a> <a id="27357" class="Symbol">(</a><a id="27358" href="ComputationalModel.Strategy.html#1462" class="Generalizable">Î»á¶œ</a> <a id="27361" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âˆ·</a> <a id="27363" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="27366" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âœ“</a><a id="27367" class="Symbol">)</a>
    <a id="27373" href="Prelude.InferenceRules.html#13833" class="Function Operator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</a>
    <a id="27408" class="Symbol">(</a><a id="27409" href="BitML.Semantics.Configurations.Types.html#1456" class="Generalizable">Î“â‚œ</a> <a id="27412" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âˆ·</a> <a id="27414" href="SecureCompilation.Coherence.html#27303" class="Bound">ğ•£âˆ—</a> <a id="27417" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âŠ£</a> <a id="27419" href="SecureCompilation.Coherence.html#27316" class="Bound">Î»Ë¢</a> <a id="27422" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âœ“</a><a id="27423" class="Symbol">)</a> <a id="27425" href="SecureCompilation.Coherence.html#27253" class="Datatype Operator">~â‚</a>  <a id="27429" class="Symbol">(</a><a id="27430" href="ComputationalModel.Strategy.html#1462" class="Generalizable">Î»á¶œ</a> <a id="27433" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âˆ·</a> <a id="27435" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="27438" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âœ“</a><a id="27439" class="Symbol">)</a>

  <a id="_~â‚_.[R]_"></a><a id="27444" href="SecureCompilation.Coherence.html#27444" class="InductiveConstructor Operator">[R]_</a> <a id="27449" class="Symbol">:</a> <a id="27451" class="Symbol">âˆ€</a> <a id="27453" class="Symbol">{</a><a id="27454" href="SecureCompilation.Coherence.html#27454" class="Bound">RË¢</a><a id="27456" class="Symbol">}</a> <a id="27458" class="Symbol">{</a><a id="27459" href="SecureCompilation.Coherence.html#27459" class="Bound">ğ•£âˆ—</a> <a id="27462" class="Symbol">:</a> <a id="27464" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="27467" href="SecureCompilation.Coherence.html#27454" class="Bound">RË¢</a><a id="27469" class="Symbol">}</a> <a id="27471" class="Symbol">{</a><a id="27472" href="SecureCompilation.Coherence.html#27472" class="Bound">Î»Ë¢</a> <a id="27475" class="Symbol">:</a> <a id="27477" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">ğ•ƒ</a> <a id="27479" href="SecureCompilation.Coherence.html#27454" class="Bound">RË¢</a> <a id="27482" href="BitML.Semantics.Configurations.Types.html#1456" class="Generalizable">Î“â‚œ</a><a id="27484" class="Symbol">}</a> <a id="27486" class="Symbol">â†’</a>
    <a id="27492" class="Symbol">(</a><a id="27493" href="BitML.Semantics.Configurations.Types.html#1456" class="Generalizable">Î“â‚œ</a> <a id="27496" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âˆ·</a> <a id="27498" href="SecureCompilation.Coherence.html#27459" class="Bound">ğ•£âˆ—</a> <a id="27501" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âŠ£</a> <a id="27503" href="SecureCompilation.Coherence.html#27472" class="Bound">Î»Ë¢</a> <a id="27506" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âœ“</a><a id="27507" class="Symbol">)</a> <a id="27509" href="SecureCompilation.Coherence.html#24098" class="Datatype Operator">~â‚â‚‚</a> <a id="27513" class="Symbol">(</a><a id="27514" href="ComputationalModel.Strategy.html#1462" class="Generalizable">Î»á¶œ</a> <a id="27517" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âˆ·</a> <a id="27519" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="27522" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âœ“</a><a id="27523" class="Symbol">)</a>
    <a id="27529" href="Prelude.InferenceRules.html#13833" class="Function Operator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</a>
    <a id="27564" class="Symbol">(</a><a id="27565" href="BitML.Semantics.Configurations.Types.html#1456" class="Generalizable">Î“â‚œ</a> <a id="27568" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âˆ·</a> <a id="27570" href="SecureCompilation.Coherence.html#27459" class="Bound">ğ•£âˆ—</a> <a id="27573" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âŠ£</a> <a id="27575" href="SecureCompilation.Coherence.html#27472" class="Bound">Î»Ë¢</a> <a id="27578" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âœ“</a><a id="27579" class="Symbol">)</a> <a id="27581" href="SecureCompilation.Coherence.html#27253" class="Datatype Operator">~â‚</a>  <a id="27585" class="Symbol">(</a><a id="27586" href="ComputationalModel.Strategy.html#1462" class="Generalizable">Î»á¶œ</a> <a id="27589" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âˆ·</a> <a id="27591" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="27594" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âœ“</a><a id="27595" class="Symbol">)</a>

<a id="_â‰â‚_"></a><a id="27598" href="SecureCompilation.Coherence.html#27598" class="Function Operator">_â‰â‚_</a> <a id="27603" class="Symbol">:</a> <a id="27605" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="27608" href="SymbolicModel.Run.Base.html#407" class="Generalizable">RË¢</a> <a id="27611" class="Symbol">â†’</a> <a id="27613" href="ComputationalModel.Strategy.html#4247" class="Datatype">CRun</a> <a id="27618" class="Symbol">â†’</a> <a id="27620" href="Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="27624" href="SecureCompilation.Coherence.html#27598" class="Function Operator">_â‰â‚_</a> <a id="27629" class="Symbol">=</a> <a id="27631" href="Relation.Nullary.html#665" class="Function Operator">Â¬_</a> <a id="27634" href="Function.Base.html#1228" class="Function Operator">âˆ˜â‚‚</a> <a id="27637" href="SecureCompilation.Coherence.html#27253" class="Datatype Operator">_~â‚_</a>

<a id="27643" class="Comment">-- * Inductive case 2</a>
<a id="27665" class="Keyword">data</a> <a id="_~â‚‚_âˆ·Ê³_"></a><a id="27670" href="SecureCompilation.Coherence.html#27670" class="Datatype Operator">_~â‚‚_âˆ·Ê³_</a> <a id="27678" class="Symbol">(</a><a id="27679" href="SecureCompilation.Coherence.html#27679" class="Bound">ğ•£âˆ—</a> <a id="27682" class="Symbol">:</a> <a id="27684" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="27687" href="SymbolicModel.Run.Base.html#407" class="Generalizable">RË¢</a><a id="27689" class="Symbol">)</a> <a id="27691" class="Symbol">(</a><a id="27692" href="SecureCompilation.Coherence.html#27692" class="Bound">Rá¶œ</a> <a id="27695" class="Symbol">:</a> <a id="27697" href="ComputationalModel.Strategy.html#4247" class="Datatype">CRun</a><a id="27701" class="Symbol">)</a> <a id="27703" class="Symbol">:</a> <a id="27705" href="ComputationalModel.Strategy.html#982" class="Datatype">C.Label</a> <a id="27713" class="Symbol">â†’</a> <a id="27715" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="27719" class="Keyword">where</a>

  <a id="_~â‚‚_âˆ·Ê³_.[1]"></a><a id="27728" href="SecureCompilation.Coherence.html#27728" class="InductiveConstructor">[1]</a> <a id="27732" class="Symbol">:</a> <a id="27734" class="Symbol">âˆ€</a> <a id="27736" class="Symbol">{</a><a id="27737" href="SecureCompilation.Coherence.html#27737" class="Bound">T</a><a id="27738" class="Symbol">}</a> <a id="27740" class="Symbol">â†’</a>
    <a id="27746" class="Keyword">let</a> <a id="27750" href="SecureCompilation.Coherence.html#27750" class="Bound">ğ•£</a> <a id="27752" class="Symbol">=</a> <a id="27754" href="SymbolicModel.Helpers.html#1169" class="Function">â„âˆ—â‡’â„</a> <a id="27759" href="SecureCompilation.Coherence.html#27679" class="Bound">ğ•£âˆ—</a><a id="27761" class="Symbol">;</a> <a id="27763" class="Keyword">open</a> <a id="27768" href="SymbolicModel.Mappings.Base.html#768" class="Module">â„</a> <a id="27770" href="SecureCompilation.Coherence.html#27750" class="Bound">ğ•£</a> <a id="27772" class="Keyword">in</a>
    <a id="27779" href="SecureCompilation.Coherence.html#27737" class="Bound">T</a> <a id="27781" class="Symbol">.</a><a id="27782" href="Agda.Builtin.Sigma.html#246" class="Field">projâ‚‚</a> <a id="27788" class="Symbol">.</a><a id="27789" href="Agda.Builtin.Sigma.html#246" class="Field">projâ‚‚</a> <a id="27795" class="Symbol">.</a><a id="27796" href="Bitcoin.Tx.Base.html#1011" class="Field">inputs</a> <a id="27803" href="Prelude.Apartness.html#255" class="Field Operator">â™¯</a> <a id="27805" class="Symbol">(</a><a id="27806" href="Bitcoin.Tx.Crypto.html#657" class="Function">hashTxâ±</a> <a id="27814" href="Prelude.Functor.html#382" class="Field Operator">&lt;$&gt;</a> <a id="27818" href="Prelude.Lists.Mappings.html#896" class="Function">codom</a> <a id="27824" href="SymbolicModel.Mappings.Base.html#823" class="Function">txoutâ€²</a><a id="27830" class="Symbol">)</a>
    <a id="27836" href="Prelude.InferenceRules.html#12810" class="Function Operator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</a>
    <a id="27893" href="SecureCompilation.Coherence.html#27679" class="Bound">ğ•£âˆ—</a> <a id="27896" href="SecureCompilation.Coherence.html#27670" class="Datatype Operator">~â‚‚</a> <a id="27899" href="SecureCompilation.Coherence.html#27692" class="Bound">Rá¶œ</a> <a id="27902" href="SecureCompilation.Coherence.html#27670" class="Datatype Operator">âˆ·Ê³</a> <a id="27905" href="ComputationalModel.Strategy.html#1094" class="InductiveConstructor">submit</a> <a id="27912" href="SecureCompilation.Coherence.html#27737" class="Bound">T</a>

  <a id="_~â‚‚_âˆ·Ê³_.[2]"></a><a id="27917" href="SecureCompilation.Coherence.html#27917" class="InductiveConstructor">[2]</a> <a id="27921" class="Symbol">:</a>
    <a id="27927" class="Symbol">(</a><a id="27928" href="ComputationalModel.Strategy.html#1462" class="Generalizable">Î»á¶œ</a> <a id="27931" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">â‰¡</a> <a id="27933" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="27935" href="ComputationalModel.Strategy.html#1196" class="InductiveConstructor Operator">â†’Oâˆ¶</a> <a id="27939" href="ComputationalModel.Strategy.html#1429" class="Generalizable">m</a><a id="27940" class="Symbol">)</a> <a id="27942" href="Data.Sum.Base.html#743" class="Datatype Operator">âŠ</a> <a id="27944" class="Symbol">(</a><a id="27945" href="ComputationalModel.Strategy.html#1462" class="Generalizable">Î»á¶œ</a> <a id="27948" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">â‰¡</a> <a id="27950" href="ComputationalModel.Strategy.html#1268" class="InductiveConstructor Operator">Oâ†’</a> <a id="27953" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="27955" href="ComputationalModel.Strategy.html#1268" class="InductiveConstructor Operator">âˆ¶</a> <a id="27957" href="ComputationalModel.Strategy.html#1429" class="Generalizable">m</a><a id="27958" class="Symbol">)</a>
    <a id="27964" href="Prelude.InferenceRules.html#13760" class="Function Operator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</a>
    <a id="28001" href="SecureCompilation.Coherence.html#27679" class="Bound">ğ•£âˆ—</a> <a id="28004" href="SecureCompilation.Coherence.html#27670" class="Datatype Operator">~â‚‚</a> <a id="28007" href="SecureCompilation.Coherence.html#27692" class="Bound">Rá¶œ</a> <a id="28010" href="SecureCompilation.Coherence.html#27670" class="Datatype Operator">âˆ·Ê³</a> <a id="28013" href="ComputationalModel.Strategy.html#1462" class="Generalizable">Î»á¶œ</a>

  <a id="_~â‚‚_âˆ·Ê³_.[3]"></a><a id="28019" href="SecureCompilation.Coherence.html#28019" class="InductiveConstructor">[3]</a> <a id="28023" class="Symbol">:</a>
    <a id="28029" class="Keyword">let</a> <a id="28033" href="SecureCompilation.Coherence.html#28033" class="Bound">Î»á¶œ</a> <a id="28036" class="Symbol">=</a> <a id="28038" href="BitML.Contracts.Types.html#371" class="Generalizable">A</a> <a id="28040" href="ComputationalModel.Strategy.html#1025" class="InductiveConstructor Operator">â†’âˆ—âˆ¶</a> <a id="28044" href="ComputationalModel.Strategy.html#1429" class="Generalizable">m</a> <a id="28046" class="Keyword">in</a>
    <a id="28053" class="Comment">-- Î»á¶œ does not correspond to any symbolic move</a>
    <a id="28104" class="Symbol">(âˆ€</a> <a id="28107" class="Symbol">{</a><a id="28108" href="SecureCompilation.Coherence.html#28108" class="Bound">Î“â‚œ</a><a id="28110" class="Symbol">}</a> <a id="28112" class="Symbol">(</a><a id="28113" href="SecureCompilation.Coherence.html#28113" class="Bound">Î»Ë¢</a> <a id="28116" class="Symbol">:</a> <a id="28118" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">ğ•ƒ</a> <a id="28120" href="SecureCompilation.Coherence.html#27687" class="Bound">RË¢</a> <a id="28123" href="SecureCompilation.Coherence.html#28108" class="Bound">Î“â‚œ</a><a id="28125" class="Symbol">)</a> <a id="28127" class="Symbol">â†’</a> <a id="28129" class="Symbol">(</a><a id="28130" href="SecureCompilation.Coherence.html#28108" class="Bound">Î“â‚œ</a> <a id="28133" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âˆ·</a> <a id="28135" href="SecureCompilation.Coherence.html#27679" class="Bound">ğ•£âˆ—</a> <a id="28138" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âŠ£</a> <a id="28140" href="SecureCompilation.Coherence.html#28113" class="Bound">Î»Ë¢</a> <a id="28143" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âœ“</a><a id="28144" class="Symbol">)</a> <a id="28146" href="SecureCompilation.Coherence.html#27598" class="Function Operator">â‰â‚</a> <a id="28149" class="Symbol">(</a><a id="28150" href="SecureCompilation.Coherence.html#28033" class="Bound">Î»á¶œ</a> <a id="28153" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âˆ·</a> <a id="28155" href="SecureCompilation.Coherence.html#27692" class="Bound">Rá¶œ</a> <a id="28158" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âœ“</a><a id="28159" class="Symbol">))</a>
    <a id="28166" href="Prelude.InferenceRules.html#12447" class="Function Operator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</a>
    <a id="28229" href="SecureCompilation.Coherence.html#27679" class="Bound">ğ•£âˆ—</a> <a id="28232" href="SecureCompilation.Coherence.html#27670" class="Datatype Operator">~â‚‚</a> <a id="28235" href="SecureCompilation.Coherence.html#27692" class="Bound">Rá¶œ</a> <a id="28238" href="SecureCompilation.Coherence.html#27670" class="Datatype Operator">âˆ·Ê³</a> <a id="28241" href="SecureCompilation.Coherence.html#28033" class="Bound">Î»á¶œ</a>

<a id="28245" class="Keyword">data</a> <a id="_~â€²_"></a><a id="28250" href="SecureCompilation.Coherence.html#28250" class="Datatype Operator">_~â€²_</a> <a id="28255" class="Symbol">:</a> <a id="28257" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="28260" href="SymbolicModel.Run.Base.html#407" class="Generalizable">RË¢</a> <a id="28263" class="Symbol">â†’</a> <a id="28265" href="ComputationalModel.Strategy.html#4247" class="Datatype">CRun</a> <a id="28270" class="Symbol">â†’</a> <a id="28272" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="28276" class="Keyword">where</a>

  <a id="28285" class="Comment">-- * Base case</a>
  <a id="_~â€²_.base"></a><a id="28302" href="SecureCompilation.Coherence.html#28302" class="InductiveConstructor">base</a> <a id="28307" class="Symbol">:</a> <a id="28309" class="Symbol">âˆ€</a> <a id="28311" class="Symbol">{</a><a id="28312" href="SecureCompilation.Coherence.html#28312" class="Bound">â„½</a> <a id="28314" class="Symbol">:</a> <a id="28316" href="SymbolicModel.Mappings.Base.html#934" class="Function">â„¾áµ—</a> <a id="28319" href="BitML.Semantics.Configurations.Types.html#1467" class="Generalizable">Î“â‚œâ‚€</a><a id="28322" class="Symbol">}</a> <a id="28324" class="Symbol">â†’</a> <a id="28326" class="Keyword">let</a> <a id="28330" class="Keyword">open</a> <a id="28335" href="SymbolicModel.Mappings.Base.html#961" class="Module">â„¾áµ—</a> <a id="28338" href="SecureCompilation.Coherence.html#28312" class="Bound">â„½</a><a id="28339" class="Symbol">;</a> <a id="28341" href="SecureCompilation.Coherence.html#28341" class="Bound">Î“â‚€</a> <a id="28344" class="Symbol">=</a> <a id="28346" href="BitML.Semantics.Configurations.Types.html#1467" class="Generalizable">Î“â‚œâ‚€</a> <a id="28350" class="Symbol">.</a><a id="28351" href="BitML.Semantics.Configurations.Types.html#1335" class="Field">cfg</a> <a id="28355" class="Keyword">in</a>

      <a id="28365" class="Comment">-- (i) RË¢ = Î“â‚€ âˆ£ 0, with Î“â‚€ initial</a>
    <a id="28405" class="Symbol">âˆ€</a> <a id="28407" class="Symbol">(</a><a id="28408" href="SecureCompilation.Coherence.html#28408" class="Bound">init</a> <a id="28413" class="Symbol">:</a> <a id="28415" href="Prelude.Traces.html#324" class="Field">Initial</a> <a id="28423" href="BitML.Semantics.Configurations.Types.html#1467" class="Generalizable">Î“â‚œâ‚€</a><a id="28426" class="Symbol">)</a> <a id="28428" class="Symbol">â†’</a>
      <a id="28436" class="Comment">-- (ii) Rá¶œ = Tâ‚€ â‹¯ initial</a>
    <a id="28466" class="Symbol">âˆ€</a> <a id="28468" class="Symbol">(</a><a id="28469" href="SecureCompilation.Coherence.html#28469" class="Bound">cinit</a> <a id="28475" class="Symbol">:</a> <a id="28477" href="Prelude.Traces.html#324" class="Field">Initial</a> <a id="28485" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a><a id="28487" class="Symbol">)</a> <a id="28489" class="Symbol">â†’</a>
     <a id="28496" class="Comment">-- (iii) generation of public keys, we do not consider that here</a>
      <a id="28567" class="Comment">-- (iv) âŸ¨A,vâŸ©â‚“ âˆˆ Î“â‚€ â‡’ txout{ x â†¦ (v$ spendable with KÌ‚(A)(râ‚)) âˆˆ Tâ‚€ }</a>
    <a id="28641" href="Prelude.InferenceRules.html#56141" class="Function Operator">âˆ™</a> <a id="28643" class="Symbol">(âˆ€</a> <a id="28646" class="Symbol">{</a><a id="28647" href="SecureCompilation.Coherence.html#28647" class="Bound">A</a> <a id="28649" href="SecureCompilation.Coherence.html#28649" class="Bound">v</a> <a id="28651" href="SecureCompilation.Coherence.html#28651" class="Bound">x</a><a id="28652" class="Symbol">}</a> <a id="28654" class="Symbol">(</a><a id="28655" href="SecureCompilation.Coherence.html#28655" class="Bound">dâˆˆ</a> <a id="28658" class="Symbol">:</a> <a id="28660" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ¨</a> <a id="28662" href="SecureCompilation.Coherence.html#28647" class="Bound">A</a> <a id="28664" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">has</a> <a id="28668" href="SecureCompilation.Coherence.html#28649" class="Bound">v</a> <a id="28670" href="BitML.Semantics.Configurations.Types.html#698" class="InductiveConstructor Operator">âŸ©at</a> <a id="28674" href="SecureCompilation.Coherence.html#28651" class="Bound">x</a> <a id="28676" href="BitML.Semantics.Configurations.Helpers.html#3965" class="Function Operator">âˆˆá¶œ</a> <a id="28679" href="SecureCompilation.Coherence.html#28341" class="Bound">Î“â‚€</a><a id="28681" class="Symbol">)</a> <a id="28683" class="Symbol">â†’</a>
        <a id="28693" class="Keyword">let</a> <a id="28697" href="SecureCompilation.Coherence.html#28697" class="Bound">âˆƒTâ‚€</a> <a id="28701" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="28703" class="Symbol">_</a> <a id="28705" class="Symbol">=</a> <a id="28707" href="SecureCompilation.Coherence.html#28469" class="Bound">cinit</a><a id="28712" class="Symbol">;</a> <a id="28714" class="Symbol">_</a> <a id="28716" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="28718" href="SecureCompilation.Coherence.html#28718" class="Bound">o</a> <a id="28720" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="28722" href="SecureCompilation.Coherence.html#28722" class="Bound">Tâ‚€</a> <a id="28725" class="Symbol">=</a> <a id="28727" href="SecureCompilation.Coherence.html#28697" class="Bound">âˆƒTâ‚€</a> <a id="28731" class="Keyword">in</a>
        <a id="28742" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="28744" class="Symbol">Î»</a> <a id="28746" href="SecureCompilation.Coherence.html#28746" class="Bound">oáµ¢</a> <a id="28749" class="Symbol">â†’</a> <a id="28751" class="Symbol">(</a><a id="28752" href="SymbolicModel.Mappings.Base.html#1019" class="Field">txoutÎ“</a> <a id="28759" class="Symbol">(</a><a id="28760" href="BitML.Semantics.Configurations.Helpers.html#15442" class="Function">depositâˆˆÎ“â‡’namesÊ³</a> <a id="28777" class="Symbol">{</a><a id="28778" class="Argument">Î“</a> <a id="28780" class="Symbol">=</a> <a id="28782" href="SecureCompilation.Coherence.html#28341" class="Bound">Î“â‚€</a><a id="28784" class="Symbol">}</a> <a id="28786" href="SecureCompilation.Coherence.html#28655" class="Bound">dâˆˆ</a><a id="28788" class="Symbol">)</a> <a id="28790" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">â‰¡</a> <a id="28792" href="SecureCompilation.Coherence.html#28697" class="Bound">âˆƒTâ‚€</a> <a id="28796" href="Bitcoin.Tx.Base.html#1903" class="InductiveConstructor Operator">at</a> <a id="28799" href="SecureCompilation.Coherence.html#28746" class="Bound">oáµ¢</a><a id="28801" class="Symbol">)</a>
               <a id="28818" href="Data.Product.html#1176" class="Function Operator">Ã—</a> <a id="28820" class="Symbol">(</a><a id="28821" href="SecureCompilation.Coherence.html#28722" class="Bound">Tâ‚€</a> <a id="28824" href="Bitcoin.Tx.Base.html#2259" class="Function Operator">â€¼áµ’</a> <a id="28827" href="SecureCompilation.Coherence.html#28746" class="Bound">oáµ¢</a> <a id="28830" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">â‰¡</a> <a id="28832" href="SecureCompilation.Coherence.html#28649" class="Bound">v</a> <a id="28834" href="SecureCompilation.Coherence.html#1165" class="Function Operator">-redeemableWith-</a> <a id="28851" href="ComputationalModel.KeyPairs.html#208" class="Function">KÌ‚</a> <a id="28854" href="SecureCompilation.Coherence.html#28647" class="Bound">A</a><a id="28855" class="Symbol">))</a>
      <a id="28864" class="Comment">-- (v)  dom sechash = âˆ…</a>
      <a id="28894" class="Comment">-- (vi) dom Îº       = âˆ…</a>
      <a id="28924" class="Comment">-- by definition of Initial/â„</a>
      <a id="28960" href="Prelude.InferenceRules.html#11613" class="Function Operator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</a>
      <a id="29037" class="Symbol">(</a><a id="29038" href="SecureCompilation.Coherence.html#28312" class="Bound">â„½</a> <a id="29040" href="SymbolicModel.Helpers.html#753" class="InductiveConstructor Operator">âˆâŠ£</a> <a id="29043" href="SecureCompilation.Coherence.html#28408" class="Bound">init</a> <a id="29048" href="SymbolicModel.Helpers.html#753" class="InductiveConstructor Operator">âœ“</a><a id="29049" class="Symbol">)</a> <a id="29051" href="SecureCompilation.Coherence.html#28250" class="Datatype Operator">~â€²</a> <a id="29054" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a>

  <a id="29060" class="Comment">-- * Inductive case 1</a>
  <a id="_~â€²_.stepâ‚"></a><a id="29084" href="SecureCompilation.Coherence.html#29084" class="InductiveConstructor">stepâ‚</a> <a id="29090" class="Symbol">:</a> <a id="29092" class="Symbol">âˆ€</a> <a id="29094" class="Symbol">{</a><a id="29095" href="SecureCompilation.Coherence.html#29095" class="Bound">RË¢</a><a id="29097" class="Symbol">}</a> <a id="29099" class="Symbol">{</a><a id="29100" href="SecureCompilation.Coherence.html#29100" class="Bound">ğ•£âˆ—</a> <a id="29103" class="Symbol">:</a> <a id="29105" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="29108" href="SecureCompilation.Coherence.html#29095" class="Bound">RË¢</a><a id="29110" class="Symbol">}</a> <a id="29112" class="Symbol">{</a><a id="29113" href="SecureCompilation.Coherence.html#29113" class="Bound">Î»Ë¢</a> <a id="29116" class="Symbol">:</a> <a id="29118" href="SymbolicModel.Mappings.Properties.html#4171" class="Function">ğ•ƒ</a> <a id="29120" href="SecureCompilation.Coherence.html#29095" class="Bound">RË¢</a> <a id="29123" href="BitML.Semantics.Configurations.Types.html#1456" class="Generalizable">Î“â‚œ</a><a id="29125" class="Symbol">}</a> <a id="29127" class="Symbol">â†’</a>
    <a id="29133" href="Prelude.InferenceRules.html#56141" class="Function Operator">âˆ™</a> <a id="29135" href="SecureCompilation.Coherence.html#29100" class="Bound">ğ•£âˆ—</a> <a id="29138" href="SecureCompilation.Coherence.html#28250" class="Datatype Operator">~â€²</a> <a id="29141" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a>
    <a id="29148" href="Prelude.InferenceRules.html#56072" class="Function Operator">âˆ™</a> <a id="29150" class="Symbol">(</a><a id="29151" href="BitML.Semantics.Configurations.Types.html#1456" class="Generalizable">Î“â‚œ</a> <a id="29154" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âˆ·</a> <a id="29156" href="SecureCompilation.Coherence.html#29100" class="Bound">ğ•£âˆ—</a> <a id="29159" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âŠ£</a> <a id="29161" href="SecureCompilation.Coherence.html#29113" class="Bound">Î»Ë¢</a> <a id="29164" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âœ“</a><a id="29165" class="Symbol">)</a> <a id="29167" href="SecureCompilation.Coherence.html#27253" class="Datatype Operator">~â‚</a> <a id="29170" class="Symbol">(</a><a id="29171" href="ComputationalModel.Strategy.html#1462" class="Generalizable">Î»á¶œ</a> <a id="29174" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âˆ·</a> <a id="29176" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="29179" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âœ“</a><a id="29180" class="Symbol">)</a>
      <a id="29188" href="Prelude.InferenceRules.html#13868" class="Function Operator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</a>
      <a id="29224" class="Symbol">(</a><a id="29225" href="BitML.Semantics.Configurations.Types.html#1456" class="Generalizable">Î“â‚œ</a> <a id="29228" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âˆ·</a> <a id="29230" href="SecureCompilation.Coherence.html#29100" class="Bound">ğ•£âˆ—</a> <a id="29233" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âŠ£</a> <a id="29235" href="SecureCompilation.Coherence.html#29113" class="Bound">Î»Ë¢</a> <a id="29238" href="SymbolicModel.Helpers.html#862" class="InductiveConstructor Operator">âœ“</a><a id="29239" class="Symbol">)</a> <a id="29241" href="SecureCompilation.Coherence.html#28250" class="Datatype Operator">~â€²</a> <a id="29244" class="Symbol">(</a><a id="29245" href="ComputationalModel.Strategy.html#1462" class="Generalizable">Î»á¶œ</a> <a id="29248" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âˆ·</a> <a id="29250" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="29253" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âœ“</a><a id="29254" class="Symbol">)</a>

  <a id="29259" class="Comment">-- * Inductive case 2</a>
  <a id="_~â€²_.stepâ‚‚"></a><a id="29283" href="SecureCompilation.Coherence.html#29283" class="InductiveConstructor">stepâ‚‚</a> <a id="29289" class="Symbol">:</a> <a id="29291" class="Symbol">âˆ€</a> <a id="29293" class="Symbol">{</a><a id="29294" href="SecureCompilation.Coherence.html#29294" class="Bound">RË¢</a><a id="29296" class="Symbol">}</a> <a id="29298" class="Symbol">{</a><a id="29299" href="SecureCompilation.Coherence.html#29299" class="Bound">ğ•£âˆ—</a> <a id="29302" class="Symbol">:</a> <a id="29304" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="29307" href="SecureCompilation.Coherence.html#29294" class="Bound">RË¢</a><a id="29309" class="Symbol">}</a> <a id="29311" class="Symbol">â†’</a>
    <a id="29317" href="Prelude.InferenceRules.html#56141" class="Function Operator">âˆ™</a> <a id="29319" href="SecureCompilation.Coherence.html#29299" class="Bound">ğ•£âˆ—</a> <a id="29322" href="SecureCompilation.Coherence.html#28250" class="Datatype Operator">~â€²</a> <a id="29325" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a>
    <a id="29332" href="Prelude.InferenceRules.html#56072" class="Function Operator">âˆ™</a> <a id="29334" href="SecureCompilation.Coherence.html#29299" class="Bound">ğ•£âˆ—</a> <a id="29337" href="SecureCompilation.Coherence.html#27670" class="Datatype Operator">~â‚‚</a> <a id="29340" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="29343" href="SecureCompilation.Coherence.html#27670" class="Datatype Operator">âˆ·Ê³</a> <a id="29346" href="ComputationalModel.Strategy.html#1462" class="Generalizable">Î»á¶œ</a>
      <a id="29355" href="Prelude.InferenceRules.html#14253" class="Function Operator">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</a>
      <a id="29377" href="SecureCompilation.Coherence.html#29299" class="Bound">ğ•£âˆ—</a> <a id="29380" href="SecureCompilation.Coherence.html#28250" class="Datatype Operator">~â€²</a> <a id="29383" class="Symbol">(</a><a id="29384" href="ComputationalModel.Strategy.html#1462" class="Generalizable">Î»á¶œ</a> <a id="29387" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âˆ·</a> <a id="29389" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="29392" href="ComputationalModel.Strategy.html#4307" class="InductiveConstructor Operator">âœ“</a><a id="29393" class="Symbol">)</a>

<a id="_~_"></a><a id="29396" href="SecureCompilation.Coherence.html#29396" class="Function Operator">_~_</a> <a id="_â‰_"></a><a id="29400" href="SecureCompilation.Coherence.html#29400" class="Function Operator">_â‰_</a> <a id="29404" class="Symbol">:</a> <a id="29406" href="SymbolicModel.Run.Base.html#372" class="Function">S.Run</a> <a id="29412" class="Symbol">â†’</a> <a id="29414" href="ComputationalModel.Strategy.html#4247" class="Datatype">CRun</a> <a id="29419" class="Symbol">â†’</a> <a id="29421" href="Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="29425" href="SecureCompilation.Coherence.html#29425" class="Bound">RË¢</a> <a id="29428" href="SecureCompilation.Coherence.html#29396" class="Function Operator">~</a> <a id="29430" href="SecureCompilation.Coherence.html#29430" class="Bound">Rá¶œ</a> <a id="29433" class="Symbol">=</a> <a id="29435" href="Data.Product.html#1378" class="Function">âˆƒ</a> <a id="29437" class="Symbol">Î»</a> <a id="29439" class="Symbol">(</a><a id="29440" href="SecureCompilation.Coherence.html#29440" class="Bound">ğ•£âˆ—</a> <a id="29443" class="Symbol">:</a> <a id="29445" href="SymbolicModel.Helpers.html#730" class="Datatype">â„âˆ—</a> <a id="29448" href="SecureCompilation.Coherence.html#29425" class="Bound">RË¢</a><a id="29450" class="Symbol">)</a> <a id="29452" class="Symbol">â†’</a> <a id="29454" href="SecureCompilation.Coherence.html#29440" class="Bound">ğ•£âˆ—</a> <a id="29457" href="SecureCompilation.Coherence.html#28250" class="Datatype Operator">~â€²</a> <a id="29460" href="SecureCompilation.Coherence.html#29430" class="Bound">Rá¶œ</a>
<a id="29463" href="SecureCompilation.Coherence.html#29400" class="Function Operator">_â‰_</a> <a id="29467" class="Symbol">=</a> <a id="29469" href="Relation.Nullary.html#665" class="Function Operator">Â¬_</a> <a id="29472" href="Function.Base.html#1228" class="Function Operator">âˆ˜â‚‚</a> <a id="29475" href="SecureCompilation.Coherence.html#29396" class="Function Operator">_~_</a>

<a id="29480" class="Keyword">private</a>
  <a id="testPatternMatch-~"></a><a id="29490" href="SecureCompilation.Coherence.html#29490" class="Function">testPatternMatch-~</a> <a id="29509" class="Symbol">:</a> <a id="29511" href="SymbolicModel.Run.Base.html#407" class="Generalizable">RË¢</a> <a id="29514" href="SecureCompilation.Coherence.html#29396" class="Function Operator">~</a> <a id="29516" href="ComputationalModel.Strategy.html#4344" class="Generalizable">Rá¶œ</a> <a id="29519" class="Symbol">â†’</a> <a id="29521" href="Agda.Builtin.Unit.html#158" class="Record">âŠ¤</a>
  <a id="29525" href="SecureCompilation.Coherence.html#29490" class="Function">testPatternMatch-~</a> <a id="29544" class="Symbol">(</a><a id="29545" href="SecureCompilation.Coherence.html#29545" class="Bound">ğ•£âˆ—</a> <a id="29548" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="29550" href="SecureCompilation.Coherence.html#29550" class="Bound">coh</a><a id="29553" class="Symbol">)</a> <a id="29555" class="Keyword">with</a> <a id="29560" href="SecureCompilation.Coherence.html#29550" class="Bound">coh</a>
  <a id="29566" class="Symbol">...</a> <a id="29570" class="Symbol">|</a> <a id="29572" href="SecureCompilation.Coherence.html#28302" class="InductiveConstructor">base</a> <a id="29577" href="SecureCompilation.Coherence.html#29577" class="Bound">init</a> <a id="29582" href="SecureCompilation.Coherence.html#29582" class="Bound">cinit</a> <a id="29588" href="SecureCompilation.Coherence.html#29588" class="Bound">txoutâ‰ˆ</a> <a id="29595" class="Symbol">=</a> <a id="29597" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>
  <a id="29602" class="Symbol">...</a> <a id="29606" class="Symbol">|</a> <a id="29608" href="SecureCompilation.Coherence.html#29283" class="InductiveConstructor">stepâ‚‚</a> <a id="29614" class="Symbol">_</a> <a id="29616" class="Symbol">(</a><a id="29617" href="SecureCompilation.Coherence.html#27728" class="InductiveConstructor">[1]</a> <a id="29621" href="SecureCompilation.Coherence.html#29621" class="Bound">insâ™¯</a><a id="29625" class="Symbol">)</a> <a id="29627" class="Symbol">=</a> <a id="29629" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>
  <a id="29634" class="Symbol">...</a> <a id="29638" class="Symbol">|</a> <a id="29640" href="SecureCompilation.Coherence.html#29283" class="InductiveConstructor">stepâ‚‚</a> <a id="29646" class="Symbol">_</a> <a id="29648" class="Symbol">(</a><a id="29649" href="SecureCompilation.Coherence.html#27917" class="InductiveConstructor">[2]</a> <a id="29653" href="SecureCompilation.Coherence.html#29653" class="Bound">Î»á¶œâ‰¡</a><a id="29656" class="Symbol">)</a> <a id="29658" class="Symbol">=</a> <a id="29660" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>
  <a id="29665" class="Symbol">...</a> <a id="29669" class="Symbol">|</a> <a id="29671" href="SecureCompilation.Coherence.html#29283" class="InductiveConstructor">stepâ‚‚</a> <a id="29677" class="Symbol">_</a> <a id="29679" class="Symbol">(</a><a id="29680" href="SecureCompilation.Coherence.html#28019" class="InductiveConstructor">[3]</a> <a id="29684" href="SecureCompilation.Coherence.html#29684" class="Bound">Â¬p</a><a id="29686" class="Symbol">)</a> <a id="29688" class="Symbol">=</a> <a id="29690" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>
  <a id="29695" class="Symbol">...</a> <a id="29699" class="Symbol">|</a> <a id="29701" href="SecureCompilation.Coherence.html#29084" class="InductiveConstructor">stepâ‚</a> <a id="29707" class="Symbol">_</a> <a id="29709" href="SecureCompilation.Coherence.html#29709" class="Bound">p</a> <a id="29711" class="Keyword">with</a> <a id="29716" href="SecureCompilation.Coherence.html#29709" class="Bound">p</a>
  <a id="29720" class="Symbol">...</a> <a id="29724" class="Symbol">|</a> <a id="29726" href="SecureCompilation.Coherence.html#27288" class="InductiveConstructor Operator">[L]</a> <a id="29730" href="SecureCompilation.Coherence.html#1410" class="InductiveConstructor">[1]</a>  <a id="29735" href="SecureCompilation.Coherence.html#29735" class="Bound">Râ‰ˆ</a> <a id="29738" href="SecureCompilation.Coherence.html#29738" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="29742" href="SecureCompilation.Coherence.html#29742" class="Bound">vad</a> <a id="29746" href="SecureCompilation.Coherence.html#29746" class="Bound">hon</a> <a id="29750" href="SecureCompilation.Coherence.html#29750" class="Bound">dâŠ†</a> <a id="29753" class="Symbol">=</a> <a id="29755" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>
  <a id="29760" class="Symbol">...</a> <a id="29764" class="Symbol">|</a> <a id="29766" href="SecureCompilation.Coherence.html#27288" class="InductiveConstructor Operator">[L]</a> <a id="29770" href="SecureCompilation.Coherence.html#2599" class="InductiveConstructor">[2]</a>  <a id="29775" href="SecureCompilation.Coherence.html#29775" class="Bound">Râ‰ˆ</a> <a id="29778" href="SecureCompilation.Coherence.html#29778" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="29782" href="SecureCompilation.Coherence.html#29782" class="Bound">asâ‰¡</a> <a id="29786" href="SecureCompilation.Coherence.html#29786" class="Bound">Allâˆ‰</a> <a id="29791" href="SecureCompilation.Coherence.html#29791" class="Bound">Honâ‡’</a> <a id="29796" href="SecureCompilation.Coherence.html#29796" class="Bound">âˆƒB</a> <a id="29799" href="SecureCompilation.Coherence.html#29799" class="Bound">first-âˆƒB</a> <a id="29808" href="SecureCompilation.Coherence.html#29808" class="Bound">hâ‰¡</a> <a id="29811" href="SecureCompilation.Coherence.html#29811" class="Bound">first-Î»á¶œ</a> <a id="29820" href="SecureCompilation.Coherence.html#29820" class="Bound">hâˆˆO</a> <a id="29824" href="SecureCompilation.Coherence.html#29824" class="Bound">unique-h</a> <a id="29833" href="SecureCompilation.Coherence.html#29833" class="Bound">hâ™¯sechash</a> <a id="29843" class="Symbol">=</a> <a id="29845" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>
  <a id="29850" class="Symbol">...</a> <a id="29854" class="Symbol">|</a> <a id="29856" href="SecureCompilation.Coherence.html#27288" class="InductiveConstructor Operator">[L]</a> <a id="29860" href="SecureCompilation.Coherence.html#4966" class="InductiveConstructor">[3]</a>  <a id="29865" href="SecureCompilation.Coherence.html#29865" class="Bound">Râ‰ˆ</a> <a id="29868" href="SecureCompilation.Coherence.html#29868" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="29872" href="SecureCompilation.Coherence.html#29872" class="Bound">committedA</a> <a id="29883" href="SecureCompilation.Coherence.html#29883" class="Bound">Aâˆˆper</a> <a id="29889" href="SecureCompilation.Coherence.html#29889" class="Bound">âˆƒB</a> <a id="29892" href="SecureCompilation.Coherence.html#29892" class="Bound">first-âˆƒB</a> <a id="29901" class="Symbol">=</a> <a id="29903" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>
  <a id="29908" class="Symbol">...</a> <a id="29912" class="Symbol">|</a> <a id="29914" href="SecureCompilation.Coherence.html#27288" class="InductiveConstructor Operator">[L]</a> <a id="29918" href="SecureCompilation.Coherence.html#6265" class="InductiveConstructor">[4]</a>  <a id="29923" href="SecureCompilation.Coherence.html#29923" class="Bound">Râ‰ˆ</a> <a id="29926" href="SecureCompilation.Coherence.html#29926" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="29930" href="SecureCompilation.Coherence.html#29930" class="Bound">fresh-z</a> <a id="29938" class="Symbol">=</a> <a id="29940" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>
  <a id="29945" class="Symbol">...</a> <a id="29949" class="Symbol">|</a> <a id="29951" href="SecureCompilation.Coherence.html#27288" class="InductiveConstructor Operator">[L]</a> <a id="29955" href="SecureCompilation.Coherence.html#7520" class="InductiveConstructor">[5]</a>  <a id="29960" href="SecureCompilation.Coherence.html#29960" class="Bound">dâ‰¡</a> <a id="29963" href="SecureCompilation.Coherence.html#29963" class="Bound">Râ‰ˆ</a> <a id="29966" href="SecureCompilation.Coherence.html#29966" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="29970" class="Symbol">=</a> <a id="29972" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>
  <a id="29977" class="Symbol">...</a> <a id="29981" class="Symbol">|</a> <a id="29983" href="SecureCompilation.Coherence.html#27288" class="InductiveConstructor Operator">[L]</a> <a id="29987" href="SecureCompilation.Coherence.html#8453" class="InductiveConstructor">[6]</a>  <a id="29992" href="SecureCompilation.Coherence.html#29992" class="Bound">tâ‰¡</a> <a id="29995" href="SecureCompilation.Coherence.html#29995" class="Bound">dâ‰¡</a> <a id="29998" href="SecureCompilation.Coherence.html#29998" class="Bound">Râ‰ˆ</a> <a id="30001" href="SecureCompilation.Coherence.html#30001" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="30005" href="SecureCompilation.Coherence.html#30005" class="Bound">fresh-yâ€²</a> <a id="30014" href="SecureCompilation.Coherence.html#30014" class="Bound">pâŸ¦Î”âŸ§â‰¡</a> <a id="30020" href="SecureCompilation.Coherence.html#30020" class="Bound">Asâ‰¡âˆ…</a> <a id="30025" class="Symbol">=</a> <a id="30027" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>
  <a id="30032" class="Symbol">...</a> <a id="30036" class="Symbol">|</a> <a id="30038" href="SecureCompilation.Coherence.html#27288" class="InductiveConstructor Operator">[L]</a> <a id="30042" href="SecureCompilation.Coherence.html#10339" class="InductiveConstructor">[7]</a>  <a id="30047" href="SecureCompilation.Coherence.html#30047" class="Bound">mâ‰¤</a> <a id="30050" href="SecureCompilation.Coherence.html#30050" class="Bound">Râ‰ˆ</a> <a id="30053" href="SecureCompilation.Coherence.html#30053" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="30057" href="SecureCompilation.Coherence.html#30057" class="Bound">âˆƒB</a> <a id="30060" href="SecureCompilation.Coherence.html#30060" class="Bound">âˆƒÎ±</a> <a id="30063" href="SecureCompilation.Coherence.html#30063" class="Bound">aâˆˆ</a> <a id="30066" href="SecureCompilation.Coherence.html#30066" class="Bound">âˆƒÎ»</a> <a id="30069" href="SecureCompilation.Coherence.html#30069" class="Bound">first-Î»á¶œ</a> <a id="30078" class="Symbol">=</a> <a id="30080" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>
  <a id="30085" class="Symbol">...</a> <a id="30089" class="Symbol">|</a> <a id="30091" href="SecureCompilation.Coherence.html#27288" class="InductiveConstructor Operator">[L]</a> <a id="30095" href="SecureCompilation.Coherence.html#12270" class="InductiveConstructor">[8]</a>  <a id="30100" href="SecureCompilation.Coherence.html#30100" class="Bound">tâ‰¡</a> <a id="30103" href="SecureCompilation.Coherence.html#30103" class="Bound">dâ‰¡</a> <a id="30106" href="SecureCompilation.Coherence.html#30106" class="Bound">Râ‰ˆ</a> <a id="30109" href="SecureCompilation.Coherence.html#30109" class="Bound">fresh-xs</a> <a id="30118" href="SecureCompilation.Coherence.html#30118" class="Bound">Asâ‰¡âˆ…</a> <a id="30123" href="SecureCompilation.Coherence.html#30123" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="30127" class="Symbol">=</a> <a id="30129" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>
  <a id="30134" class="Comment">-- ... | [L] [9]  dâ‰¡ Râ‰ˆ âˆƒÎ“â‰ˆ frsg-x Asâ‰¡âˆ… âˆ€â‰¤t = tt</a>
  <a id="30185" class="Symbol">...</a> <a id="30189" class="Symbol">|</a> <a id="30191" href="SecureCompilation.Coherence.html#27288" class="InductiveConstructor Operator">[L]</a> <a id="30195" href="SecureCompilation.Coherence.html#14939" class="InductiveConstructor">[10]</a> <a id="30200" href="SecureCompilation.Coherence.html#30200" class="Bound">Râ‰ˆ</a> <a id="30203" href="SecureCompilation.Coherence.html#30203" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="30207" href="SecureCompilation.Coherence.html#30207" class="Bound">âˆƒÎ»</a> <a id="30210" href="SecureCompilation.Coherence.html#30210" class="Bound">first-Î»á¶œ</a> <a id="30219" class="Symbol">=</a> <a id="30221" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>
  <a id="30226" class="Symbol">...</a> <a id="30230" class="Symbol">|</a> <a id="30232" href="SecureCompilation.Coherence.html#27288" class="InductiveConstructor Operator">[L]</a> <a id="30236" href="SecureCompilation.Coherence.html#16510" class="InductiveConstructor">[11]</a> <a id="30241" href="SecureCompilation.Coherence.html#30241" class="Bound">Râ‰ˆ</a> <a id="30244" href="SecureCompilation.Coherence.html#30244" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="30248" href="SecureCompilation.Coherence.html#30248" class="Bound">fresh-y</a> <a id="30256" class="Symbol">=</a> <a id="30258" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>
  <a id="30263" class="Symbol">...</a> <a id="30267" class="Symbol">|</a> <a id="30269" href="SecureCompilation.Coherence.html#27288" class="InductiveConstructor Operator">[L]</a> <a id="30273" href="SecureCompilation.Coherence.html#17942" class="InductiveConstructor">[12]</a> <a id="30278" href="SecureCompilation.Coherence.html#30278" class="Bound">Râ‰ˆ</a> <a id="30281" href="SecureCompilation.Coherence.html#30281" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="30285" href="SecureCompilation.Coherence.html#30285" class="Bound">âˆƒÎ»</a> <a id="30288" href="SecureCompilation.Coherence.html#30288" class="Bound">first-Î»á¶œ</a> <a id="30297" class="Symbol">=</a> <a id="30299" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>
  <a id="30304" class="Symbol">...</a> <a id="30308" class="Symbol">|</a> <a id="30310" href="SecureCompilation.Coherence.html#27288" class="InductiveConstructor Operator">[L]</a> <a id="30314" href="SecureCompilation.Coherence.html#19427" class="InductiveConstructor">[13]</a> <a id="30319" href="SecureCompilation.Coherence.html#30319" class="Bound">Râ‰ˆ</a> <a id="30322" href="SecureCompilation.Coherence.html#30322" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="30326" href="SecureCompilation.Coherence.html#30326" class="Bound">fresh-ys</a> <a id="30335" class="Symbol">=</a> <a id="30337" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>
  <a id="30342" class="Symbol">...</a> <a id="30346" class="Symbol">|</a> <a id="30348" href="SecureCompilation.Coherence.html#27288" class="InductiveConstructor Operator">[L]</a> <a id="30352" href="SecureCompilation.Coherence.html#20835" class="InductiveConstructor">[14]</a> <a id="30357" href="SecureCompilation.Coherence.html#30357" class="Bound">Râ‰ˆ</a> <a id="30360" href="SecureCompilation.Coherence.html#30360" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="30364" href="SecureCompilation.Coherence.html#30364" class="Bound">âˆƒÎ»</a> <a id="30367" href="SecureCompilation.Coherence.html#30367" class="Bound">first-Î»á¶œ</a> <a id="30376" class="Symbol">=</a> <a id="30378" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>
  <a id="30383" class="Symbol">...</a> <a id="30387" class="Symbol">|</a> <a id="30389" href="SecureCompilation.Coherence.html#27288" class="InductiveConstructor Operator">[L]</a> <a id="30393" href="SecureCompilation.Coherence.html#22262" class="InductiveConstructor">[15]</a> <a id="30398" href="SecureCompilation.Coherence.html#30398" class="Bound">Râ‰ˆ</a> <a id="30401" href="SecureCompilation.Coherence.html#30401" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="30405" href="SecureCompilation.Coherence.html#30405" class="Bound">fresh-y</a> <a id="30413" class="Symbol">=</a> <a id="30415" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>
  <a id="30420" class="Symbol">...</a> <a id="30424" class="Symbol">|</a> <a id="30426" href="SecureCompilation.Coherence.html#27444" class="InductiveConstructor Operator">[R]</a> <a id="30430" href="SecureCompilation.Coherence.html#24170" class="InductiveConstructor">[16]</a> <a id="30435" href="SecureCompilation.Coherence.html#30435" class="Bound">Râ‰ˆ</a> <a id="30438" href="SecureCompilation.Coherence.html#30438" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="30442" href="SecureCompilation.Coherence.html#30442" class="Bound">fresh-y</a> <a id="30450" href="SecureCompilation.Coherence.html#30450" class="Bound">T</a> <a id="30452" href="SecureCompilation.Coherence.html#30452" class="Bound">âŠ†ins</a> <a id="30457" href="SecureCompilation.Coherence.html#30457" class="Bound">Tâˆˆ</a> <a id="30460" href="SecureCompilation.Coherence.html#30460" class="Bound">first-Î»á¶œ</a> <a id="30469" href="SecureCompilation.Coherence.html#30469" class="Bound">Â¬coh</a> <a id="30474" class="Symbol">=</a> <a id="30476" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>
  <a id="30481" class="Symbol">...</a> <a id="30485" class="Symbol">|</a> <a id="30487" href="SecureCompilation.Coherence.html#27444" class="InductiveConstructor Operator">[R]</a> <a id="30491" href="SecureCompilation.Coherence.html#25895" class="InductiveConstructor">[17]</a> <a id="30496" href="SecureCompilation.Coherence.html#30496" class="Bound">Râ‰ˆ</a> <a id="30499" href="SecureCompilation.Coherence.html#30499" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="30503" href="SecureCompilation.Coherence.html#30503" class="Bound">T</a> <a id="30505" href="SecureCompilation.Coherence.html#30505" class="Bound">âŠ†ins</a> <a id="30510" href="SecureCompilation.Coherence.html#30510" class="Bound">Â¬coh</a> <a id="30515" class="Symbol">=</a> <a id="30517" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>
  <a id="30522" class="Symbol">...</a> <a id="30526" class="Symbol">|</a> <a id="30528" href="SecureCompilation.Coherence.html#27288" class="InductiveConstructor Operator">[L]</a> <a id="30532" href="SecureCompilation.Coherence.html#23517" class="InductiveConstructor">[18]</a> <a id="30537" href="SecureCompilation.Coherence.html#30537" class="Bound">Î´&gt;0</a> <a id="30541" href="SecureCompilation.Coherence.html#30541" class="Bound">âˆƒÎ“â‰ˆ</a> <a id="30545" class="Symbol">=</a> <a id="30547" href="Agda.Builtin.Unit.html#195" class="InductiveConstructor">tt</a>
</pre></body></html>